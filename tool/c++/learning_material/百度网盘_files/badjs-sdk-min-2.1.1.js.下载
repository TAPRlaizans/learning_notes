var BadJs=function(){"use strict";Array.prototype.includes||(Array.prototype.includes=function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0!=r)for(var o,i,e=0|e,a=Math.max(0<=e?e:r-Math.abs(e),0);a<r;){if((o=n[a])===(i=t)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;a++}return!1}),Object.defineProperty||(Object.defineProperty=function(t,e,n){t[e]=n.value}),"function"!=typeof Object.assign&&(Object.assign=function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),o=1;o<arguments.length;o++){var i=n[o];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r});function t(t,e){return t(e={exports:{}},e.exports),e.exports}function f(t){return"function"==typeof t}function h(t){return void 0===t}function n(t,e,n){window.addEventListener?t.addEventListener(e,n,!0):window.attachEvent&&t.attachEvent("on"+e,n)}var r=t(function(t,e){var n;n=function(){function n(t){return t.charAt(0).toUpperCase()+t.substring(1)}function t(t){return function(){return this[t]}}var e=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],o=["fileName","functionName","source"],i=e.concat(r,o,["args"],["evalOrigin"]);function s(t){if(t)for(var e=0;e<i.length;e++)void 0!==t[i[e]]&&this["set"+n(i[e])](t[i[e]])}s.prototype={getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof s)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(t)}},toString:function(){var t=this.getFileName()||"",e=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?t?"[eval] ("+t+":"+e+":"+n+")":"[eval]:"+e+":"+n:r?r+" ("+t+":"+e+":"+n+")":t+":"+e+":"+n}},s.fromString=function(t){var e,n,r,o=t.indexOf("("),i=t.lastIndexOf(")"),a=t.substring(0,o),o=t.substring(o+1,i).split(","),t=t.substring(i+1);return 0===t.indexOf("@")&&(e=(i=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t,""))[1],n=i[2],r=i[3]),new s({functionName:a,args:o||void 0,fileName:e,lineNumber:n||void 0,columnNumber:r||void 0})};for(var a=0;a<e.length;a++)s.prototype["get"+n(e[a])]=t(e[a]),s.prototype["set"+n(e[a])]=function(e){return function(t){this[e]=Boolean(t)}}(e[a]);for(var c=0;c<r.length;c++)s.prototype["get"+n(r[c])]=t(r[c]),s.prototype["set"+n(r[c])]=function(n){return function(t){if(e=t,isNaN(parseFloat(e))||!isFinite(e))throw new TypeError(n+" must be a Number");var e;this[n]=Number(t)}}(r[c]);for(var f=0;f<o.length;f++)s.prototype["get"+n(o[f])]=t(o[f]),s.prototype["set"+n(o[f])]=function(e){return function(t){this[e]=String(t)}}(o[f]);return s},t.exports=n()}),o=t(function(t,e){var n;n=function(s){var e=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){return-1===t.indexOf(":")?[t]:[(t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,"")))[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter(function(t){return!!t.match(n)},this).map(function(t){var e=(t=-1<t.indexOf("(eval ")?t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):t).replace(/^\s+/,"").replace(/\(eval code/g,"("),n=e.match(/ (\((.+):(\d+):(\d+)\)$)/),e=(e=n?e.replace(n[0],""):e).split(/\s+/).slice(1),n=this.extractLocation(n?n[1]:e.pop()),e=e.join(" ")||void 0,r=-1<["eval","<anonymous>"].indexOf(n[0])?void 0:n[0];return new s({functionName:e,fileName:r,lineNumber:n[1],columnNumber:n[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter(function(t){return!t.match(r)},this).map(function(t){var e,n;return-1===(t=-1<t.indexOf(" > eval")?t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):t).indexOf("@")&&-1===t.indexOf(":")?new s({functionName:t}):(e=(e=t.match(n=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&e[1]?e[1]:void 0,n=this.extractLocation(t.replace(n,"")),new s({functionName:e,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:t}))},this)},parseOpera:function(t){return!t.stacktrace||-1<t.message.indexOf("\n")&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(t){for(var e=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),r=[],o=2,i=n.length;o<i;o+=2){var a=e.exec(n[o]);a&&r.push(new s({fileName:a[2],lineNumber:a[1],source:n[o]}))}return r},parseOpera10:function(t){for(var e=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),r=[],o=0,i=n.length;o<i;o+=2){var a=e.exec(n[o]);a&&r.push(new s({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:n[o]}))}return r},parseOpera11:function(t){return t.stack.split("\n").filter(function(t){return!!t.match(e)&&!t.match(/^Error created at/)},this).map(function(t){var e,n=t.split("@"),r=this.extractLocation(n.pop()),n=n.shift()||"",o=n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,n=void 0===(e=n.match(/\(([^)]*)\)/)?n.replace(/^[^(]+\(([^)]*)\)$/,"$1"):e)||"[arguments not available]"===e?void 0:e.split(",");return new s({functionName:o,args:n,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})},this)}}},t.exports=n(r)});function i(t){var o;return"string"==typeof t?t:(o=[],function t(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if("function"==typeof r||void 0===r)return;"[object Object]"===Object.prototype.toString.call(r)?t(r):o.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}}(t),o.join("&"))}function u(t){if(t)try{var e=o.parse(t),n=e&&e.splice(0,3)||[];return JSON.stringify(n)}catch(t){}}function a(t,e){this.reportInstance=e,this.errorArr=[],this.error(t)}function s(t,e){this.reject(t,e)}function c(t,e,n){this.report=e,this.globalVariable=t,this.error(n)}function p(t){this.conf=t||{}}function e(t){this.config=this.mergeConf(t),this.report=this.report(this.config),this.jsError(),this.promiseError()}a.getIntance=function(t,e){return a.instance=a.instance?a.instance:new a(t,e)},a.prototype.error=function(s){var c=this;n(s,"error",function(t){if(t=t||window.event){var e=t.target||t.srcElement,n=!1;if(6!==a()&&7!==a()&&(n=e instanceof HTMLScriptElement||e instanceof HTMLLinkElement,e instanceof HTMLImageElement||e instanceof HTMLVideoElement||e instanceof HTMLAudioElement))return!1;var r,o={},i=c.reportInstance;n?(r=e.src||e.href,o.title="resource"+e,o.msg=r,o.from=location.href):(o.title=t.message,o.msg=t.error&&t.error.stack||t.source+":"+t.message,o.from=location.href,o.lineno=t.lineno,o.colno=t.colno),o.stack=u(t.error),s.ERROE_POLL.includes(o.title)||(s.ERROE_POLL.push(o.title),i.report&&f(i.report)&&(n?i.reportResource(o):i.report(o)))}function a(){var t=navigator.userAgent,e=-1<t.indexOf("compatible")&&-1<t.indexOf("MSIE"),n=-1<t.indexOf("Edge")&&!e,r=-1<t.indexOf("Trident")&&-1<t.indexOf("rv:11.0");return e?(new RegExp("MSIE (\\d+\\.\\d+);").test(t),7==+(e=parseFloat(RegExp.$1))?7:8==+e?8:9==+e?9:10==+e?10:6):n?"edge":r?11:-1}})},s.getIntance=function(t,e){return s.instance=s.instance?s.instance:new s(t,e)},s.prototype.reject=function(r,t){var o=t;n(r,"unhandledrejection",function(t){var e,n={};t&&(e="object"==typeof t.reason?JSON.stringify(t.reason):t.reason,n.title="unhandledrejection:"+e,n.from=location.href,n.msg=e,n.stack=u(t.reason),r.ERROE_POLL.includes(n.title)||(r.ERROE_POLL.push(n.title),o.report&&f(o.report)&&o.report(n)))})},c.getIntance=function(t,e,n){return c.instance=c.instance?c.instance:new c(t,e,n)},c.prototype.error=function(t){var e=this;t?this.errorHandler(t):n(this.globalVariable,"load",function(){var t=e.globalVariable.Vue;t&&t.config&&e.errorHandler(t)})},c.prototype.errorHandler=function(t){var o=this;t.config.errorHandler=function(t,e,n){var r;o.globalVariable.ERROE_POLL.includes(t)||(o.globalVariable.ERROE_POLL.push(t),(r={}).title=t,r.msg=n,r.from=location.href,r.stack=u(t),(n=o.report).report&&f(n.report)&&n.report(r))}},p.getIntance=function(t){return p.instance=p.instance?p.instance:new p(t)},p.prototype.report=function(e){void 0===e&&(e={});var n="";if(this.conf&&this.conf.downgrade&&this.conf.downgrade.error){var r,t=this.conf.downgrade.error;for(r in t)t[r].forEach(function(t){e.msg.match(t)&&(n="_"+r)})}var o=this.mergeCommonConf("_js_error"+n),o=i(Object.assign(o,e)),o=""+this.conf.host+this.conf.path+"?"+o;this.commonReport(o)},p.prototype.reportResource=function(e){var n="";if(this.conf&&this.conf.downgrade&&this.conf.downgrade.resource){var r,t=this.conf.downgrade.resource;for(r in t)t[r].forEach(function(t){e.msg.match(t)&&(n="_"+r)})}var o=this.mergeCommonConf("_js_error_resource"+n),o=i(Object.assign(o,e)),o=""+this.conf.host+this.conf.path+"?"+o;this.commonReport(o)},p.prototype.reportCustom=function(t,e){if(!t)throw new Error("[reportCustom] need a name as the first parameter.");var n=this.mergeCommonConf("_custom_report_"+t),n=i(Object.assign(n,{title:t+":自定义上报\b.",msg:t,from:location.href},e)),t=""+this.conf.host+this.conf.path+"?"+n;this.commonReport(t)},p.prototype.reportCritical=function(e,n){for(var t=[],r=arguments.length-2;0<r--;)t[r]=arguments[r+2];try{return n.apply(void 0,t)}catch(t){n=this.mergeCommonConf(),e=(n.type=e,n.stack=u(t),i(Object.assign(n,{msg:t.message,from:location.href})));this.commonReport(""+this.conf.host+this.conf.path+"?"+e)}},p.prototype.mergeCommonConf=function(t){void 0===t&&(t="");var e,n,r,o,i=this.conf,a=i.namespace,s=i.type,c=i.clienttype,f=i.productId,u=i.rules,p=i.sessionId,i=i.uk,l={};return s?l.type=s+t:(s="",o=u.path,e=u.hash,r=window.location.pathname,"boolean"==typeof o?((n=r.split("/")).shift(),s=n.join("_")):"object"==typeof o&&o&&((n=r.match(o)[0].split("/")).shift(),s+=n.join("_")),e&&0<location.hash.length?"boolean"==typeof e?(o=((r=window.location.hash)?r.substring(1).split("/"):[]).join("_"),l.type=s+o+t):"object"==typeof e&&(r=(n=window.location.hash.match(e))&&0<n.length?n[0].split("/"):[],l.type=s+r.join("_")+t):l.type=s+t),a&&(o=u.ctx?a+"_"+this.getExecContext()+"_"+l.type:a+"_"+l.type,l.type=o),p&&(l.sessionId=p),i&&(l.uk=i),l.productId=f,l.clienttype=c,l.navigator=h(navigator)?null:navigator.userAgent,l},p.prototype.commonReport=function(t){var e=new Image;e.onload=e.onerror=function(){e=null},e.src=t},p.prototype.getExecContext=function(){var t,e="browser",n=window.navigator.userAgent.toLowerCase(),r={mini_wechat:~n.indexOf("miniprogram"),mini_swan:~n.indexOf("swan"),native_ios:~n.indexOf("netdisk")&&~n.indexOf("ios"),native_android:~n.indexOf("netdisk")&&~n.indexOf("android"),pc_windows:~n.indexOf("windowsbaiduyunguanjia")&&~n.indexOf("pc-window"),pc_mac:~n.indexOf("unibaiduyunguanjia")&&~n.indexOf("pc-mac"),pc_linux:~n.indexOf("unibaiduyunguanjia")&&~n.indexOf("pc-linux")};for(t in r)if(Object.hasOwnProperty.call(r,t)&&r[t]){e=t;break}return e},window.ERROE_POLL=[];return e.getIntance=function(){return e.instance=e.instance?e.instance:new e({})},e.prototype.updateConfig=function(t){this.config=Object.assign(this.config,t),this.report.conf=Object.assign(this.report.conf,t)},e.prototype.mergeConf=function(t){t=h(t)?{}:t;var e={host:"http://pan.baidu.com",path:"/bpapi/analytics",namespace:"",productId:"",type:"",uk:"",sessionId:"",rules:{path:!0,hash:!0},clienttype:0,vueError:!0,jsError:!0,promiseError:!0,env:window,report:p.getIntance};if(!t.report||f(t.report))return Object.assign(e,t);console.error("report must is function")},e.prototype.jsError=function(){this.config.jsError&&a.getIntance(this.config.env,this.report)},e.prototype.promiseError=function(){this.config.promiseError&&s.getIntance(this.config.env,this.report)},e.prototype.vueError=function(){this.config.vueError&&c.getIntance(this.config.env,this.report)},e.prototype.vueErrorHandler=function(t){this.config.vueError&&c.getIntance(this.config.env,this.report,t)},e.prototype.report=function(t){return this.config.report(t)},e.prototype.reportCustom=function(t,e){this.config.report().reportCustom(t,e)},e.prototype.reportCritical=function(t,e){for(var n,r=[],o=arguments.length-2;0<o--;)r[o]=arguments[o+2];return(n=this.config.report()).reportCritical.apply(n,[t,e].concat(r))},e}();
