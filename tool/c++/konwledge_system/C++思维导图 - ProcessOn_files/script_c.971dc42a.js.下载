parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"HIts":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t){return o(t)||n(t)||r(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"==typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function n(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function o(t){if(Array.isArray(t))return i(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function s(){s=function(){return e};var e={},a=Object.prototype,r=a.hasOwnProperty,n=Object.defineProperty||function(t,e,a){t[e]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function p(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(C){p=function(t,e,a){return t[e]=a}}function l(t,e,a,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),s=new k(r||[]);return n(i,"_invoke",{value:T(t,a,s)}),i}function d(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var f={};function h(){}function m(){}function g(){}var y={};p(y,i,function(){return this});var v=Object.getPrototypeOf,w=v&&v(v(P([])));w&&w!==a&&r.call(w,i)&&(y=w);var x=g.prototype=h.prototype=Object.create(y);function I(t){["next","throw","return"].forEach(function(e){p(t,e,function(t){return this._invoke(e,t)})})}function b(e,a){var o;n(this,"_invoke",{value:function(n,i){function s(){return new a(function(o,s){!function n(o,i,s,c){var u=d(e[o],e,i);if("throw"!==u.type){var p=u.arg,l=p.value;return l&&"object"==t(l)&&r.call(l,"__await")?a.resolve(l.__await).then(function(t){n("next",t,s,c)},function(t){n("throw",t,s,c)}):a.resolve(l).then(function(t){p.value=t,s(p)},function(t){return n("throw",t,s,c)})}c(u.arg)}(n,i,o,s)})}return o=o?o.then(s,s):s()}})}function T(t,e,a){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return U()}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var s=j(i,a);if(s){if(s===f)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var c=d(t,e,a);if("normal"===c.type){if(r=a.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(r="completed",a.method="throw",a.arg=c.arg)}}}function j(t,e){var a=t.iterator[e.method];if(void 0===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(a,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var n=r.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,n=function e(){for(;++a<t.length;)if(r.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:U}}function U(){return{value:void 0,done:!0}}return m.prototype=g,n(x,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:m,configurable:!0}),m.displayName=p(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,p(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},I(b.prototype),p(b.prototype,c,function(){return this}),e.AsyncIterator=b,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var i=new b(l(t,a,r,n),o);return e.isGeneratorFunction(a)?i:i.next().then(function(t){return t.done?t.value:i.next()})},I(x),p(x,u,"Generator"),p(x,i,function(){return this}),p(x,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),a=[];for(var r in e)a.push(r);return a.reverse(),function t(){for(;a.length;){var r=a.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(a,r){return i.type="throw",i.arg=t,e.next=a,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),O(a),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:P(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),f}},e}function c(t,e,a,r,n,o,i){try{var s=t[o](i),c=s.value}catch(u){return void a(u)}s.done?e(c):Promise.resolve(c).then(r,n)}function u(t){return function(){var e=this,a=arguments;return new Promise(function(r,n){var o=t.apply(e,a);function i(t){c(o,r,n,i,s,"next",t)}function s(t){c(o,r,n,i,s,"throw",t)}i(void 0)})}}function p(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,a){return e&&p(t.prototype,e),a&&p(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var h=l(function t(a){d(this,t),f(this,"serveApiObj",{sendMsg:function(){var t=u(s().mark(function t(e,a){var r,n,o,i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.chartId,n="",o="/api/personal/diagraming/canvas/v2/msg","outline"==fileType&&(o="/api/personal/outline/canvas/msg"),"mind"==fileType&&(o="/api/personal/mindmap/canvas/msg",n="v6"),t.next=6,this.ajax({url:o+"?mlfffid=".concat(r,"&mlffcid=").concat(e.canvasId),data:{msgStr:e.msgStr,canvasId:e.canvasId,chartId:r,ignore:"msgStr",msgversion:n},type:"POST",cache:!1});case 6:"error"==(i=t.sent).result?a(i):a({result:"success",data:i});case 8:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),saveOnline:function(){var t=u(s().mark(function t(e,a){var r,n,o,i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.chartId,e.chartId=r,n={data:e,type:"POST",cache:!1},o="/mindmap/canvas/saveonline",["designer","flow"].indexOf(fileType)>-1?o="/diagraming/canvas/v2/saveonline":"markdown"===fileType&&(o="/diagraming/md/msg",n.contentType="application/json",n.data=JSON.stringify(n.data)),n.url="/api/personal"+o,t.next=8,this.ajax(n);case 8:"error"==(i=t.sent).result?a(i):a({result:"success",data:i});case 10:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),getYunVersion:function(t,e){var a=this.chartId;t.chartId=a,Util.ajax({url:"/api/personal/chart/get/canvas/v2/def/version",data:t,type:"GET",cache:!1,success:function(t){e(t)},error:function(){}})},getDefById:function(){var t=u(s().mark(function t(e,a){var r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDef({defId:e.definitionId});case 2:r=t.sent,a({def:r});case 4:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),getMindTheme:function(){var t=u(s().mark(function t(e,a){var r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ajax({url:"/api/personal/mindmap/gettheme",noToken:!0,type:"get",data:e});case 2:r=t.sent,a({theme:r});case 4:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),addCanvas:function(){var t=u(s().mark(function t(e,a){var r,n,o,i,c;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ajax({url:"/api/personal/canvas/create",data:{chartId:this.chartId},cache:!1,type:"POST"});case 2:if("error"!=(r=t.sent).result){t.next=7;break}return $.toast({text:"画布新建失败",type:"error"}),a&&a(),t.abrupt("return");case 7:return n=r.chartCanvas,this.chartCanvas=n,o=n[n.length-1].definitionId,t.next=12,this.getDef({defId:o});case 12:i=t.sent,c={chartDefIds:n,defId:o,def:i},a&&a(c);case 15:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),copyCanvas:function(){var t=u(s().mark(function t(e,a){var r,n,o,i,c,u,p,l;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.canvasId,t.next=3,this.ajax({url:"/api/personal/canvas/copy",data:{chartId:this.chartId,canvasId:n},cache:!1,type:"POST"});case 3:if("error"!=(o=t.sent).result){t.next=7;break}return $.toast({text:"画布新建失败",type:"error"}),t.abrupt("return");case 7:i=o.canvas.chartCanvas,c=o.defId,u=o.def,p={chartDefIds:i,defId:c,def:u},null!=o&&null!==(r=o.canvas)&&void 0!==r&&r.chartCanvas&&null!=(l=o.canvas.chartCanvas.find(function(t){return t.definitionId===o.defId}))&&l.canvasId&&localStorage.setItem("currentCanvasId",l.canvasId),a&&a(p);case 13:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),deleteCanvas:function(){var t=u(s().mark(function t(e,a){var r,n,o;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.canvasId,t.next=3,this.ajax({url:"/api/personal/canvas/delete/canvas",data:{chartId:this.chartId,canvasId:r}});case 3:n=t.sent,o={list:n.chartCanvas},a&&a(o);case 6:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),canvasRename:function(){var t=u(s().mark(function t(e,a){var r,n,o,i,c;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.chartId,n=e.pageData.canvasId,o=e.title,t.next=3,this.ajax({url:"/api/personal/canvas/update/title",data:{chartId:r,canvasId:n,title:o}});case 3:i=t.sent,c={chartDefIds:i.chartCanvas},a&&a(c);case 6:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),canvasSort:function(){var t=u(s().mark(function t(e,a){var r,n,o,i,c;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.chartId,n=e.source,o=e.target,t.next=3,this.ajax({url:"/api/personal/canvas/sort",data:{chartId:r,source:n,target:o}});case 3:i=t.sent,c={chartDefIds:i.chartCanvas},a&&a(c);case 6:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),getListUsers:function(){var t=u(s().mark(function t(e,a){var r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getListUsers();case 2:r=t.sent,a(r);case 4:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),getListData:function(){var t=u(s().mark(function t(e,a){var r,n,o;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=e.searchVal,n=e.target,o=e.type,this.currentTabType=o,r?0===o?this.dealSearchAllData(r,"find",0,a):1===o?this.dealSearchPeople(r,1,a):2===o&&this.dealSearchFile(r,"find",2,a):0===o?this.dealAllData("","all",0,a):1===o?this.dealAllContacts(1,a):2===o&&this.dealSearchFile("","chart",2,a),n.find(".address-sel-btn").hide(),n.find(".space-sel-btn").off("click").on("click",function(){personalInsert.chooseMyfile.init()});case 5:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),addHistory:function(t,e){var a=this.chartId;t.chartId=a;var r=t.isAuto?"/api/personal/hst/ver/auto/add":"/api/personal/hst/ver/manual/add";Util.ajax({url:r+"?mlfffid=".concat(a,"&mlffcid=").concat(t.canvasId),data:JSON.stringify(t),contentType:"application/json",type:"POST",cache:!1,success:function(t){e(t)}})},getHistories:function(t,e){var a=this,r=a.chartId;t.chartId=r,1==t.pages&&(a.cursor="",a.sign=""),t.cursor=a.cursor,t.sign=a.sign,Util.ajax({url:"/api/personal/hst/ver/list",data:JSON.stringify(t),contentType:"application/json",type:"POST",cache:!1,success:function(t){a.cursor=t.cursor,a.sign=t.sign,e(t)}})},getHistory:function(t,e){var a=this.chartId;t.chartId=a,Util.ajax({url:"/api/personal/version/get/history/definition",data:t,contentType:"application/json",type:"GET",cache:!1,success:function(t){e(t)}})},removeHistory:function(t,e){var a=this.chartId;t.chartId=a,Util.ajax({url:"/api/personal/version/delete/history/canvas",data:t,type:"POST",cache:!1,success:function(t){e(t)}})},revertHistory:function(t,e){var a=this.chartId;t.chartId=a,Util.ajax({url:"/api/personal/version/update/history/canvas",data:t,type:"POST",cache:!1,success:function(t){e(t)},error:function(t){$.toast({type:"error",text:i18next.t("js.Failed_to_restore_historical_version")})}})},addMyshapes:function(t,e){Util.ajax({url:"/api/personal/diagraming/shapes/add",data:t,type:"POST",cache:!1,success:function(t){e(t)}})},getMyshapes:function(t,e){Util.ajax({url:"/api/personal/diagraming/shapes/page?",data:{page:t.page,size:10},type:"GET",cache:!1,success:function(t){e(t)},error:function(){$.toast({type:"error",text:i18next.t("js.Graph_addition_failed")})}})},myShapeUpdateTitle:function(t,e){Util.ajax({url:"/api/personal/diagraming/shapes/update/title",data:t,type:"POST",cache:!1,success:function(t){e(t)}})},myShapeRemoveShape:function(t,e){Util.ajax({url:"/api/personal/diagraming/shapes/remove",data:t,type:"GET",cache:!1,success:function(t){e(t)}})},myShapeUpdateSort:function(t,e){Util.ajax({url:"/api/personal/diagraming/shapes/update/sort",data:t,type:"POST",cache:!1,success:function(t){e(t)}})},addWaterMark:function(t,e){Util.ajax({url:"/api/personal/diagraming/add_watermark",data:t,isErr:!0,type:"POST",cache:!1,success:function(t){200==t.code?e():832==t.code?$.toast({type:"error",text:"最多可添加10条自定义水印，如需添加新水印请先删除多余水印"}):t.code}})},getWaterMark:function(t,e){Util.ajax({url:"/api/personal/diagraming/watermarks",noToken:!0,isErr:!0,data:t,type:"GET",cache:!1,success:function(t){e(t.data)}})},delWaterMark:function(t,e){Util.ajax({url:"/api/personal/diagraming/del/watermark",data:t,isErr:!0,type:"POST",cache:!1,success:function(t){200==t.code&&e()}})},uploadImageForm:function(t,e){Util.ajax({url:"/api/personal/user/image/upload",contentType:!1,processData:!1,data:t,success:function(t){null==t.url?(e({result:"error",data:t}),$.toast({type:"error",text:i18next.t("js.Upload_failed")})):e({result:"success",data:t})},error:function(t){e({result:"error",data:t}),"803"==t.code&&$.toast({type:"error",text:i18next.t("js.The_file_format_is_not_supported")})}})},uploadImage64:function(t,e){Util.ajax({url:"/api/personal/user/image/upload/base64",data:t,type:"POST",cache:!1,success:function(t){e({result:"success",data:t})},error:function(t){e({result:"error",data:t})}})},processCorsImage:function(t,e){Util.ajax({url:"/api/personal/user/image/cors/image",data:t,type:"POST",cache:!1,success:function(t){e({result:"success",data:t})}})},uploadUserImage:function(t,e){Util.ajax({url:"/api/personal/user/image/generate/thumbnail",data:t,type:"POST",cache:!1,success:function(t){e({result:"success",data:t})},error:function(t){e({result:"error",data:t})}})},getSvgText:function(t,e){$.ajax({url:t.url,type:"GET",dataType:"text",success:function(t){e({result:"success",data:t})},error:function(a){e({result:"error",data:t.url})}})},getSearchImages:function(t,e){var a=["5eed8a83e4b0b8982239fcab","5f576558e4b0c94f9b1b76a7","64ed8c59e4b0bf419b63e6e2"],r=a[Math.round((a.length-1)*Math.random())],n=25;"dialog"==t.source&&(n=24),$.getJSON("https://iconsapi.com/api/search?appkey="+r+"&query="+t.keywords+"&page="+t.currentPage+"&size="+n,function(t){e({result:"success",data:t})}).error(function(){e({result:"error"})})},uploadAtta:function(t,e){Util.ajax({url:"/api/personal/diagraming/upload/atta",contentType:!1,processData:!1,data:t,success:function(t){e({result:"success",data:t})},error:function(){e({result:"success",data:{}})}})},getQiniuToken:function(t,e){Util.ajax({url:"/api/personal/user/image/get/token",data:t,type:"GET",cache:!1,success:function(t){e(t)}})},getUserImages:function(t,e){Util.ajax({url:"/api/personal/user/image/list",data:t,type:"POST",cache:!1,success:function(t){e(t)}})},removeUserImages:function(t,e){Util.ajax({url:"/api/personal/user/image/remove",data:t,type:"GET",cache:!1,success:function(t){e(t)}})},setFlowConfig:function(t,e){Util.ajax({url:"/api/personal/diagraming/config",data:t,type:"POST",cache:!1,success:function(t){e(t)}})},setFlowBasicConfig:function(t,e){Util.ajax({url:"/api/personal/user/save/flow/config",data:t,type:"POST",success:function(t){e(t)}})},getMindCustomTheme:function(t,e){Util.ajax({url:"/api/personal/mindmap/getthemes",data:t,type:"GET",cache:!1,success:function(t){e(t)}})},saveMindCustomTheme:function(t,e){Util.ajax({url:"/api/personal/mindmap/savetheme",data:t,type:"POST",cache:!1,success:function(t){e(t)},error:function(){$.toast({type:"error",text:i18next.t("js.Save_failed")})}})},deleteMindTheme:function(t,e){Util.ajax({url:"/api/personal/mindmap/deletetheme",data:t,type:"GET",cache:!1,success:function(t){e(t)},error:function(){$.toast({type:"error",text:i18next.t("js.Delete_failed")})}})},mindThemeImage:function(t,e){Util.ajax({url:"/api/personal/mindmap/theme/image",data:{def:t.def,chartId:Util.getUrlParams("chartId")},type:"POST",cache:!1,success:function(t){e(t)}})},getMindCustomThemesUrl:function(t,e){e()},getSliders:function(t,e){t.chartId=this.chartId,Util.ajax({url:"/api/personal/mindmap/canvas/getsliders",data:t,type:"GET",cache:!1,success:function(t){e(t)}})},saveSliders:function(t,e){t.chartId=this.chartId,Util.ajax({url:"/api/personal/mindmap/canvas/savesliders",data:JSON.stringify(t),contentType:"application/json",type:"POST",cache:!1,success:function(t){e(t)}})},setMindConfig:function(t,e){Util.ajax({url:"/api/personal/mindmap/config",data:t,type:"POST",cache:!1,success:function(t){e(t)}})},saveMindMyTags:function(t,e){Util.ajax({url:"/api/personal/mindmap/add/tag",data:t,type:"POST",cache:!1,success:function(t){e(t)},error:function(){e("error")}})},setOutlineConfig:function(t,e){Util.ajax({url:"/api/personal/outline/config",data:t,type:"POST",cache:!1,success:function(t){e(t)}})},updateMindDef:function(t,e){t.chartId=this.chartId,Util.ajax({url:"/api/personal/mindmap/canvas/updatedef",data:JSON.stringify(t),type:"POST",contentType:"application/json",cache:!1,success:function(t){e(t)}})},getAIUseInfo:function(t,e){var a="web";window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&(a="h5"),$.ajax({url:"/api/personal/aigc/v2/web/get/use/power",type:"GET",data:{terminalType:a},headers:{token:Util.getCookies("token",{signed:!1})},success:function(t){if(200==t.code)e({result:"success",data:t.data});else if(61680==t.code||61681==t.code){e({result:"error",data:t.data}),$.toast({type:"error",text:"今日免费使用次数已达上限"});var a,r="流程图";location.pathname.indexOf("mindmap")>-1&&(r="思维导图"),"AI生成次数不足web",a=r+"AI生成次数不足web",PoEditorInsert.pay({ai_pay:!0,pointsPage:r+"编辑页",pointSourceNew:a})}else e({result:"error",data:t.data})},error:function(t){e({result:"error",res:t})}})},onOcr:function(t,e){var a=this,r=t.timestamp;t.fileType,t.imgBase64;Util.ajax({url:"/api/personal/sign/ocr",type:"GET",data:{timestamp:r},success:function(r){t.userId=a.userObj.userId,Util.ajax({type:"POST",contentType:"application/json",headers:{Authorization:r},url:"/ocr/extract/image/content",isOcr:!0,processData:!1,data:JSON.stringify(t),success:function(t){e({result:"success",data:t})},error:function(t){e({result:"error",data:t})}})},error:function(t){e({result:"error",data:t})}})},uploadDocumentFile:function(t,e){Util.ajax({url:"/api/personal/import/document/file",contentType:!1,processData:!1,data:t,success:function(t){e({result:"success",data:t})},error:function(){e({result:"success",data:""})}})},uploadMediaFile:function(t,e){Util.ajax({url:"/api/personal/import/media/file",contentType:!1,processData:!1,data:t,success:function(t){e({result:"success",data:t})},error:function(){e({result:"success",data:""})}})},getUserFiles:function(t,e){Util.ajax({url:"/api/personal/folder/user/files",data:t,type:"get",success:function(t){e({result:"success",data:t})},error:function(){e({result:"success",data:""})}})},getChartDef:function(t,e){Util.ajax({url:"/api/personal/canvas/get/chartdefids",data:{chartId:t.chartId},type:"get",success:function(a){if(a.canvas&&a.canvas.chartCanvas&&a.canvas.chartCanvas[0].definitionId){var r=a.canvas.chartCanvas[0].definitionId;Util.ajax({url:"/api/personal/diagraming/get/chart/def",data:{chartId:t.chartId,defId:r},type:"get",success:function(t){t.def?e(t.def):e({result:"success",data:""})},error:function(){e({result:"success",data:""})}})}else e({result:"success",data:""})},error:function(){e({result:"success",data:""})}})}}),f(this,"baiduAI",{baiduQueryHandle:function(t,e){var a=decodeURIComponent(e).replace(/<[^<>]*>/g,"");if(window.fileType&&"flow"==window.fileType){var r=this.getAIchartType(t);setTimeout(function(){$(".po-toolbar-right .ai-button-wrap").trigger("click"),$(".po-aigc-createInput-content .contentInput").text(a),$(".po-aigc-createInput-go").removeClass("opt")},1e3);var n=setTimeout(function(){$(".typeList>[ac="+r+"]").trigger("click"),clearTimeout(n)},0)}else window.fileType&&"mind"==window.fileType&&($(".op-toolbar-right-list .po-tool-button[tit=aigc]").trigger("click"),setTimeout(function(){$(".ai-topic-content .input[data-id='continueWrite_input_0']").val(a),$(".ai-topic-content .hide").text(a),$(".ai-topic-content .ai-placeholder-box").hide(),$("#ai-topic-run").removeClass("disabled"),$("#header-title").attr("contenteditable","false")},500))},getAIchartType:function(t){var e="flow";switch(t){case"flowchart":e="flow";break;case"gantt":e="gantt";break;case"timeline":e="timeline";break;case"uml":e="flow";break;case"sequence":e="sequence";break;case"class":e="class";break;case"state":e="state"}return e},getBaiduUrlParams:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),a=window.location.href.match(/\?(\S*)/);if(null===a)return null;var r=a[0].substr(1).match(e);return null!=r?r[2]:null}});var r=this;return{showCodeBlock:!0,openMention:!0,mentionConfig:{mentionDoc:!0,defaultBox:!0},showOCR:!0,showCharts:!0,showPlan:!0,showGantt:!0,showAIGC:!0,showComment:!0,flowNote:!0,showMermaid:!0,fontFamily:{list:[{type:"思源黑体",display:"https://pocdn.processon.com/wps/fonts/sy-heiti.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/sy-heiti.woff2",isFree:!0},{type:"思源宋体",display:"https://pocdn.processon.com/wps/fonts/sy-songti.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/sy-songti.woff2",isFree:!0},{type:"阿里巴巴普惠",display:"https://pocdn.processon.com/wps/fonts/ali-puhui.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/ali-puhui.woff2",isFree:!0},{type:"苍耳与墨",display:"https://pocdn.processon.com/wps/fonts/cangeryumo.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/cangeryumo.ttf",isFree:!0},{type:"Beau",display:"https://pocdn.processon.com/wps/fonts/beau.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/beau.ttf",isFree:!0},{type:"Bertha",display:"https://pocdn.processon.com/wps/fonts/bertha.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/bertha.ttf",isFree:!0},{type:"Brela",display:"https://pocdn.processon.com/wps/fonts/brela.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/brela.otf",isFree:!0},{type:"微软雅黑",display:"https://pocdn.processon.com/wps/fonts/yahei.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/yahei.ttf"},{type:"黑体",display:"https://pocdn.processon.com/wps/fonts/hei.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/hei.ttf"},{type:"楷体",display:"https://pocdn.processon.com/wps/fonts/kai.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/kai.ttf"},{type:"宋体",display:"https://pocdn.processon.com/wps/fonts/sun.svg",packageUrl:"https://pocdn.processon.com/wps/fonts/sun.ttf"},{type:"Arial"},{type:"Times New Roman"},{type:"Comic Sans MS"},{type:"Courier New"},{type:"Verdana"},{type:"Garamond"},{type:"Georgia"},{type:"Impact"},{type:"Tahoma"},{type:"Lucida Console"}]},showPage:!0,chartObj:{},userObj:{},userObjAi:{},isMember:!1,mindToolbarConfig:location.href.indexOf("editor/view/")<0?{topToolbar:"show",footerBarLeft:["outline","devider","pageBox"],footerBarRight:["textsNums","topicNums","devider","boxChoose","insertTemp","devider","focus","devider","mindCanvas","devider","zoomPage","fullPage","helper"]}:{},onServerApi:function(){var t=u(s().mark(function t(e,n){var o,i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=e.apiName,i=e.params,r.serveApiObj[o]&&r.serveApiObj[o].call(a,i,n);case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),onInitInfo:function(){var t=u(s().mark(function t(e,r){var n,o,i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=location.href,!(n.indexOf("editor/view/")<0&&n.indexOf("/embed/")<0)){t.next=10;break}return t.next=4,a.getInitInfo();case 4:o=t.sent,a.chartObj=o.chartObj,r&&r(o),a.loadCAllCommon(o.chartObj,o.userObj),t.next=17;break;case 10:return this.onBeforeCreateWebsocket=function(t,e){},t.next=13,a.getViewInitInfo();case 13:i=t.sent,a.chartObj=i.chartObj,r&&r(i),i.isYearReport?a.chartAiResult({prompt:localStorage.getItem("scence_report_prompt"),ac:localStorage.getItem("scence_report_ac")}):i.isAiTemplate&&a.chartAiResult({prompt:localStorage.getItem("ai_template_prompt"),ac:localStorage.getItem("ai_template_ac")},i.category);case 17:this;case 18:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),onViewMermaidInitInfo:function(t,e){receivedParseText?e({parseText:receivedParseText}):window.waitingForParseText=function(t){e({parseText:t})}},onShowInsertTemplate:function(t){localStorage.getItem("current_category")==t.category&&$("#designer_insert_temp_wrap .bottom_temp_box").length>0||(outDesignerInsertTemp.init(a.chartObj,t),t&&t.category&&localStorage.setItem("current_category",t.category))},onBeforeExport:function(t,e){a.isWeiXin()&&!a.isMobile()?$.toast({text:'微信内可能无法下载,如未成功下载,请前往普通浏览器下载<a style="margin-left: 20px;" href='.concat(location.origin+location.pathname,' target="_blank">跳转</a>'),type:"warning"}):PoEditorClient.getSelectedIds()&&PoEditorClient.getSelectedIds().length>0&&"outline"!=window.fileType?(PoEditorInsert.selectedIds=PoEditorClient.getSelectedIds(),window.PoEditorInsert.outHandleExport("download_part",a.chartObj,a.chartObj.category,"download_part")):e()},onnotoken:function(t,e){parent.location.pathname.includes("/view/link/")||("app"==Util.getUrlParams("sourceType")&&(uni.reLaunch({url:"/pages/login/Index"}),parent.wx.miniProgram.redirectTo({url:"/pages/login/Index"})),e&&e())},zdtcLogin:function(){var t=u(s().mark(function t(e){return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:location.href.includes("zdtc")?(window.localStorage.setItem("fromzdtc","true"),Util.ajax({url:"/api/activity/third/edit/file/bind/user/phone?mlfffid=".concat(e.chartId),noToken:!0,contentType:"application/json",data:JSON.stringify({idFlag:"chart",idVal:e.chartId,partner:a.getUrlParams("partner"),poInfo:a.getUrlParams("poInfo"),thirdInfo:a.getUrlParams("thirdInfo")}),cache:!1,type:"POST",success:function(){},error:function(){}})):window.localStorage.removeItem("fromzdtc");case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),iflyYtekLogin:function(){location.href.indexOf("iflytek")>-1?window.localStorage.setItem("fromIflyYtek","true"):window.localStorage.removeItem("fromIflyYtek")},onRanderComplete:function(t){if("mermaid"!=window.chartType){window.PoEditorClient=new PoEditorApi;var e=a.getUrlParams("action"),n=a.getUrlParams("type");"down"==e&&n&&setTimeout(function(){localStorage.getItem("po_flow_tutorial")||localStorage.setItem("po_flow_tutorial",!0),window.PoEditorInsert.outHandleExport(n,a.chartObj,a.chartObj.category,"diagrams")},0),"true"==a.getUrlParams("creatMore")&&setTimeout(function(){$(".po-tool-button[tit='stru']").click(),$("#panel-more-shape").click()},1500);var o=a.getUrlParams("categorythirds");if(o){var i=r.baiduAI.getBaiduUrlParams("query")||"";r.baiduAI.baiduQueryHandle(o,i)}}else{if(t.code)return void window.parent.postMessage({type:"renderError",data:t.code},"*");var s=PoEditorClient.getDef();window.parent.postMessage({type:"renderComplete",data:JSON.stringify(s)},"*")}},onLinkToOutline:function(t,e){var r=a.getUrlParams("sourceType"),n=location.href;n.indexOf("editor/view/")<0&&n.indexOf("/embed/")<0?"app"==r?window.location.replace("/outline/"+a.chartObj.chartId+"?sourceType=app"):window.location.replace("/outline/"+a.chartObj.chartId):"pc"==device?e():window.location.replace(n.replace("mind","outline"))},onLinkToMindmap:function(t,e){var r=a.getUrlParams("sourceType"),n=location.href;n.indexOf("editor/view/")<0&&n.indexOf("/embed/")<0?"app"==r?window.location.replace("/mindmap/"+a.chartObj.chartId+"?sourceType=app"):window.location.replace("/mindmap/"+a.chartObj.chartId):"pc"==device?e():window.location.replace(n.replace("outline","mind"))},onTestPrivilege:function(){var t=u(s().mark(function t(e,r){var n,o,i,c;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.ajax({url:"/api/personal/user/privilege",type:"GET"});case 2:n=t.sent,!0,o=n.privilege.orgMember||n.privilege.member,editorGlobalConfig.isMember=o,i={flowShapeNum:1e5,mindShapeNum:1/0,themesCustomise:1,backgroundImage:!1,Latex:!1,download:!1,downloadPart:!0,watermark:!0,myShape:!0,flowTemplate:!1,mindTemplate:!1,mindTheme:!1,clipboardImage:!1,insert_watermark:!1,uploadFile:!1,AIGC:!1,canvasNum:1,OCR:0,uploadCoverImg:!1},o&&(f(c={flowShapeNum:1e5,mindShapeNum:1/0,themesCustomise:1/0,backgroundImage:!0,Latex:!0,download:!0,watermark:!0,pasteImage:!0,myShape:!0,clipboardImage:!0,insert_watermark:!0},"themesCustomise",1e5),f(c,"mindTheme",!0),f(c,"backgroundImage",!0),f(c,"uploadFile",!0),f(c,"AIGC",!0),f(c,"canvasNum",30),f(c,"OCR",0),f(c,"uploadCoverImg",!0),i=c),r(i);case 9:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),onShowVipLimit:function(t,e){t.type&&delete t.type,a.getSourceType(function(e){"app"==e?uni.postMessage({data:{type:"ShowVip",action:t}}):"mp"==e?wx.miniProgram.navigateTo({url:"/pages/member/payWebview?pageFrom=mind"}):PoEditorInsert.pay(t)})},vipIcons:{primaryBtn:"/v6_editor/static/assets/images/vip-tip.svg",default:"/v6_editor/static/assets/images/vip-tip.svg"},getChartTypeIcon:function(){var t=u(s().mark(function t(e,a){var r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r={mind:location.origin+"/assets/images/calledIcon/mind.svg",outline:location.origin+"/assets/images/calledIcon/outline.svg",ui:location.origin+"/assets/images/calledIcon/ui.svg",board:location.origin+"/assets/images/calledIcon/board.svg",flow:location.origin+"/assets/images/calledIcon/flow.svg"},a(r);case 2:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),mentionNotice:function(t,e){void 0!==t.remind?a.choosePeople(t,e):a.triggerLookTip(t.targetId,t.userName,t.userId)},openFileUrl:function(t,e){t.type&&"url"!=t.type?e():"micromessenger"==navigator.userAgent.toLowerCase().match(/micromessenger/i)?$.toast({text:"'小程序可能无法访问第三方链接地址'",type:"secondary",delay:2e3}):window.open(t.url)},collect:function(t){"function"==typeof poCollect&&poCollect.apply(void 0,e(t))}}});exports.default=h;
},{}],"gPHy":[function(require,module,exports) {
var define;
var e;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,r){var i,o,a=t(r),s=n.location,u=n.document,l=u.documentElement,c=n.jQuery,f=n.$,p={},d=[],h=d.concat,m=d.push,g=d.slice,y=d.indexOf,v=p.toString,b=p.hasOwnProperty,x="1.10.2".trim,w=function e(t,n){return new e.fn.init(t,n,o)},T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,C=/\S+/g,N=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,A=/(?:^|:|,)(?:\s*\[)+/g,j=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,D=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,L=/^-ms-/,H=/-([\da-z])/gi,q=function(e,t){return t.toUpperCase()},_=function(e){(u.addEventListener||"load"===e.type||"complete"===u.readyState)&&(M(),w.ready())},M=function(){u.addEventListener?(u.removeEventListener("DOMContentLoaded",_,!1),n.removeEventListener("load",_,!1)):(u.detachEvent("onreadystatechange",_),n.detachEvent("onload",_))};function O(e){var t=e.length,n=w.type(e);return!w.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}w.fn=w.prototype={jquery:"1.10.2",constructor:w,init:function(e,t,n){var i,o;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:k.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),E.test(i[1])&&w.isPlainObject(t))for(i in t)w.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((o=u.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return n.find(e);this.length=1,this[0]=o}return this.context=u,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):w.isFunction(e)?n.ready(e):(e.selector!==r&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return w.each(this,e,t)},ready:function(e){return w.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:m,sort:[].sort,splice:[].splice},w.fn.init.prototype=w.fn,w.extend=w.fn.extend=function(){var e,n,i,o,a,s,u=arguments[0]||{},l=1,c=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},l=2),"object"===t(u)||w.isFunction(u)||(u={}),c===l&&(u=this,--l);l<c;l++)if(null!=(a=arguments[l]))for(o in a)e=u[o],u!==(i=a[o])&&(f&&i&&(w.isPlainObject(i)||(n=w.isArray(i)))?(n?(n=!1,s=e&&w.isArray(e)?e:[]):s=e&&w.isPlainObject(e)?e:{},u[o]=w.extend(f,s,i)):i!==r&&(u[o]=i));return u},w.extend({expando:"jQuery"+("1.10.2"+Math.random()).replace(/\D/g,""),noConflict:function(e){return n.$===w&&(n.$=f),e&&n.jQuery===w&&(n.jQuery=c),w},isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){if(!0===e?!--w.readyWait:!w.isReady){if(!u.body)return setTimeout(w.ready);w.isReady=!0,!0!==e&&--w.readyWait>0||(i.resolveWith(u,[w]),w.fn.trigger&&w(u).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===w.type(e)},isArray:Array.isArray||function(e){return"array"===w.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"===t(e)||"function"==typeof e?p[v.call(e)]||"object":t(e)},isPlainObject:function(e){var t;if(!e||"object"!==w.type(e)||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!b.call(e,"constructor")&&!b.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(w.support.ownLast)for(t in e)return b.call(e,t);for(t in e);return t===r||b.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||u;var r=E.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=w.buildFragment([e],t,i),i&&w(i).remove(),w.merge([],r.childNodes))},parseJSON:function(e){return n.JSON&&n.JSON.parse?n.JSON.parse(e):null===e?e:"string"==typeof e&&(e=w.trim(e))&&S.test(e.replace(j,"@").replace(D,"]").replace(A,""))?new Function("return "+e)():void w.error("Invalid JSON: "+e)},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{n.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(i){t=r}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&w.trim(e)&&(n.execScript||function(e){n.eval.call(n,e)})(e)},camelCase:function(e){return e.replace(L,"ms-").replace(H,q)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=O(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:x&&!x.call("\ufeff ")?function(e){return null==e?"":x.call(e)}:function(e){return null==e?"":(e+"").replace(N,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(O(Object(e))?w.merge(n,"string"==typeof e?[e]:e):m.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(y)return y.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,i=e.length,o=0;if("number"==typeof n)for(;o<n;o++)e[i++]=t[o];else for(;t[o]!==r;)e[i++]=t[o++];return e.length=i,e},grep:function(e,t,n){var r=[],i=0,o=e.length;for(n=!!n;i<o;i++)n!==!!t(e[i],i)&&r.push(e[i]);return r},map:function(e,t,n){var r,i=0,o=e.length,a=[];if(O(e))for(;i<o;i++)null!=(r=t(e[i],i,n))&&(a[a.length]=r);else for(i in e)null!=(r=t(e[i],i,n))&&(a[a.length]=r);return h.apply([],a)},guid:1,proxy:function(e,t){var n,i,o;return"string"==typeof t&&(o=e[t],t=e,e=o),w.isFunction(e)?(n=g.call(arguments,2),i=function(){return e.apply(t||this,n.concat(g.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i):r},access:function(e,t,n,i,o,a,s){var u=0,l=e.length,c=null==n;if("object"===w.type(n))for(u in o=!0,n)w.access(e,t,u,n[u],!0,a,s);else if(i!==r&&(o=!0,w.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(w(e),n)})),t))for(;u<l;u++)t(e[u],n,s?i:i.call(e[u],u,t(e[u],n)));return o?e:c?t.call(e):l?t(e[0],n):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i}}),w.ready.promise=function(e){if(!i)if(i=w.Deferred(),"complete"===u.readyState)setTimeout(w.ready);else if(u.addEventListener)u.addEventListener("DOMContentLoaded",_,!1),n.addEventListener("load",_,!1);else{u.attachEvent("onreadystatechange",_),n.attachEvent("onload",_);var t=!1;try{t=null==n.frameElement&&u.documentElement}catch(r){}t&&t.doScroll&&function e(){if(!w.isReady){try{t.doScroll("left")}catch(r){return setTimeout(e,50)}M(),w.ready()}}()}return i.promise(e)},w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){p["[object "+t+"]"]=t.toLowerCase()}),o=w(u),function(e,n){var r,i,o,a,s,u,l,c,f,p,d,h,m,g,y,v,b,x="sizzle"+-new Date,T=e.document,C=0,N=0,k=se(),E=se(),S=se(),A=!1,j=function(e,t){return e===t?(A=!0,0):0},D=t(void 0),L=1<<31,H={}.hasOwnProperty,q=[],_=q.pop,M=q.push,O=q.push,F=q.slice,B=q.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$=W.replace("w","w#"),I="\\["+R+"*("+W+")"+R+"*(?:([*^$|!~]?=)"+R+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+$+")|)|)"+R+"*\\]",z=":("+W+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",X=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),U=new RegExp("^"+R+"*,"+R+"*"),V=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),Y=new RegExp(R+"*[+~]"),J=new RegExp("="+R+"*([^\\]'\"]*)"+R+"*\\]","g"),G=new RegExp(z),Q=new RegExp("^"+$+"$"),K={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),TAG:new RegExp("^("+W.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},Z=/^[^{]+\{\s*\[native \w/,ee=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,te=/^(?:input|select|textarea|button)$/i,ne=/^h\d$/i,re=/'|\\/g,ie=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),oe=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{O.apply(q=F.call(T.childNodes),T.childNodes),q[T.childNodes.length].nodeType}catch(Ce){O={apply:q.length?function(e,t){M.apply(e,F.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,n,r){var o,s,u,c,f,h,y,v,w,C;if((t?t.ownerDocument||t:T)!==d&&p(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(c=(t=t||d).nodeType)&&9!==c)return[];if(m&&!r){if(o=ee.exec(e))if(u=o[1]){if(9===c){if(!(s=t.getElementById(u))||!s.parentNode)return n;if(s.id===u)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(u))&&b(t,s)&&s.id===u)return n.push(s),n}else{if(o[2])return O.apply(n,t.getElementsByTagName(e)),n;if((u=o[3])&&i.getElementsByClassName&&t.getElementsByClassName)return O.apply(n,t.getElementsByClassName(u)),n}if(i.qsa&&(!g||!g.test(e))){if(v=y=x,w=t,C=9===c&&e,1===c&&"object"!==t.nodeName.toLowerCase()){for(h=ge(e),(y=t.getAttribute("id"))?v=y.replace(re,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",f=h.length;f--;)h[f]=v+ye(h[f]);w=Y.test(e)&&t.parentNode||t,C=h.join(",")}if(C)try{return O.apply(n,w.querySelectorAll(C)),n}catch(N){}finally{y||t.removeAttribute("id")}}}return function(e,t,n,r){var o,s,u,c,f,p=ge(e);if(!r&&1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(u=s[0]).type&&i.getById&&9===t.nodeType&&m&&a.relative[s[1].type]){if(!(t=(a.find.ID(u.matches[0].replace(ie,oe),t)||[])[0]))return n;e=e.slice(s.shift().value.length)}for(o=K.needsContext.test(e)?0:s.length;o--&&(u=s[o],!a.relative[c=u.type]);)if((f=a.find[c])&&(r=f(u.matches[0].replace(ie,oe),Y.test(s[0].type)&&t.parentNode||t))){if(s.splice(o,1),!(e=r.length&&ye(s)))return O.apply(n,r),n;break}}return l(e,p)(r,t,!m,n,Y.test(e)),n}(e.replace(X,"$1"),t,n,r)}function se(){var e=[];return function t(n,r){return e.push(n+=" ")>a.cacheLength&&delete t[e.shift()],t[n]=r}}function ue(e){return e[x]=!0,e}function le(e){var t=d.createElement("div");try{return!!e(t)}catch(Ce){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),r=e.length;r--;)a.attrHandle[n[r]]=t}function fe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return ue(function(t){return t=+t,ue(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}for(r in u=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},i=ae.support={},p=ae.setDocument=function(e){var n=e?e.ownerDocument||e:T,r=n.defaultView;return n!==d&&9===n.nodeType&&n.documentElement?(d=n,h=n.documentElement,m=!u(n),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){p()}),i.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=le(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=le(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),i.getById=le(function(e){return h.appendChild(e).id=x,!n.getElementsByName||!n.getElementsByName(x).length}),i.getById?(a.find.ID=function(e,n){if(t(n.getElementById)!==D&&m){var r=n.getElementById(e);return r&&r.parentNode?[r]:[]}},a.filter.ID=function(e){var t=e.replace(ie,oe);return function(e){return e.getAttribute("id")===t}}):(delete a.find.ID,a.filter.ID=function(e){var n=e.replace(ie,oe);return function(e){var r=t(e.getAttributeNode)!==D&&e.getAttributeNode("id");return r&&r.value===n}}),a.find.TAG=i.getElementsByTagName?function(e,n){if(t(n.getElementsByTagName)!==D)return n.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},a.find.CLASS=i.getElementsByClassName&&function(e,n){if(t(n.getElementsByClassName)!==D&&m)return n.getElementsByClassName(e)},y=[],g=[],(i.qsa=Z.test(n.querySelectorAll))&&(le(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+R+"*(?:value|"+P+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),le(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(i.matchesSelector=Z.test(v=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le(function(e){i.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),y.push("!=",z)}),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),b=Z.test(h.contains)||h.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=h.compareDocumentPosition?function(e,t){if(e===t)return A=!0,0;var r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return r?1&r||!i.sortDetached&&t.compareDocumentPosition(e)===r?e===n||b(T,e)?-1:t===n||b(T,t)?1:f?B.call(f,e)-B.call(f,t):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],u=[t];if(e===t)return A=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:f?B.call(f,e)-B.call(f,t):0;if(o===a)return fe(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)u.unshift(r);for(;s[i]===u[i];)i++;return i?fe(s[i],u[i]):s[i]===T?-1:u[i]===T?1:0},n):d},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(J,"='$1']"),i.matchesSelector&&m&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var n=v.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(Ce){}return ae(t,d,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var n=a.attrHandle[t.toLowerCase()],r=n&&H.call(a.attrHandle,t.toLowerCase())?n(e,t,!m):void 0;return void 0===r?i.attributes||!m?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null:r},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],r=0,o=0;if(A=!i.detectDuplicates,f=!i.sortStable&&e.slice(0),e.sort(j),A){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return e},s=ae.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},(a=ae.selectors={cacheLength:50,createPseudo:ue,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ie,oe),e[3]=(e[4]||e[5]||"").replace(ie,oe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return K.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&G.test(n)&&(t=ge(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ie,oe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var n=k[e+" "];return n||(n=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&k(e,function(e){return n.test("string"==typeof e.className&&e.className||t(e.getAttribute)!==D&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(d=(l=(c=g[x]||(g[x]={}))[e]||[])[0]===C&&l[1],p=l[0]===C&&l[2],f=d&&g.childNodes[d];f=++d&&f&&f[m]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[C,d,p];break}}else if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===C)p=l[1];else for(;(f=++d&&f&&f[m]||(p=d=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++p||(v&&((f[x]||(f[x]={}))[e]=[C,p]),f!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,t){var n,r=a.pseudos[e]||a.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],a.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=B.call(e,o[a])]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ue(function(e){var t=[],n=[],r=l(e.replace(X,"$1"));return r[x]?ue(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ue(function(e){return function(t){return ae(e,t).length>0}}),contains:ue(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),lang:ue(function(e){return Q.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(ie,oe).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!a.pseudos.empty(e)},header:function(e){return ne.test(e.nodeName)},input:function(e){return te.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=a.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})a.pseudos[r]=pe(r);for(r in{submit:!0,reset:!0})a.pseudos[r]=de(r);function me(){}function ge(e,t){var n,r,i,o,s,u,l,c=E[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=a.preFilter;s;){for(o in n&&!(r=U.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(i=[])),n=!1,(r=V.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(X," ")}),s=s.slice(n.length)),a.filter)!(r=K[o].exec(s))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):E(e,u).slice(0)}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,i=n&&"parentNode"===r,a=N++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var u,l,c,f=C+" "+a;if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if((l=(c=t[x]||(t[x]={}))[r])&&l[0]===f){if(!0===(u=l[1])||u===o)return!0===u}else if((l=c[r]=[f])[1]=e(t,n,s)||o,!0===l[1])return!0}}function be(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xe(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function we(e,t,n,r,i,o){return r&&!r[x]&&(r=we(r)),i&&!i[x]&&(i=we(i,o)),ue(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:xe(m,p,e,s,u),y=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,y,s,u),r)for(l=xe(y,d),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(y[d[c]]=!(g[d[c]]=f));if(o){if(i||e){if(i){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(g[c]=f);i(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&(l=i?B.call(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else y=xe(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):O.apply(a,y)})}function Te(e){for(var t,n,r,i=e.length,o=a.relative[e[0].type],s=o||a.relative[" "],u=o?1:0,l=ve(function(e){return e===t},s,!0),f=ve(function(e){return B.call(t,e)>-1},s,!0),p=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?l(e,n,r):f(e,n,r))}];u<i;u++)if(n=a.relative[e[u].type])p=[ve(be(p),n)];else{if((n=a.filter[e[u].type].apply(null,e[u].matches))[x]){for(r=++u;r<i&&!a.relative[e[r].type];r++);return we(u>1&&be(p),u>1&&ye(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(X,"$1"),n,u<r&&Te(e.slice(u,r)),r<i&&Te(e=e.slice(r)),r<i&&ye(e))}p.push(n)}return be(p)}me.prototype=a.filters=a.pseudos,a.setFilters=new me,l=ae.compile=function(e,t){var n,r=[],i=[],s=S[e+" "];if(!s){for(t||(t=ge(e)),n=t.length;n--;)(s=Te(t[n]))[x]?r.push(s):i.push(s);s=S(e,function(e,t){var n=0,r=t.length>0,i=e.length>0,s=function(s,u,l,f,p){var h,m,g,y=[],v=0,b="0",x=s&&[],w=null!=p,T=c,N=s||i&&a.find.TAG("*",p&&u.parentNode||u),k=C+=null==T?1:Math.random()||.1;for(w&&(c=u!==d&&u,o=n);null!=(h=N[b]);b++){if(i&&h){for(m=0;g=e[m++];)if(g(h,u,l)){f.push(h);break}w&&(C=k,o=++n)}r&&((h=!g&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){for(m=0;g=t[m++];)g(x,y,u,l);if(s){if(v>0)for(;b--;)x[b]||y[b]||(y[b]=_.call(f));y=xe(y)}O.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&ae.uniqueSort(f)}return w&&(C=k,c=T),x};return r?ue(s):s}(i,r))}return s},i.sortStable=x.split("").sort(j).join("")===x,i.detectDuplicates=A,p(),i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(d.createElement("div"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(P,function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&r.specified?r.value:!0===e[t]?t.toLowerCase():null}),w.find=ae,w.expr=ae.selectors,w.expr[":"]=w.expr.pseudos,w.unique=ae.uniqueSort,w.text=ae.getText,w.isXMLDoc=ae.isXML,w.contains=ae.contains}(n);var F={};w.Callbacks=function(e){e="string"==typeof e?F[e]||function(e){var t=F[e]={};return w.each(e.match(C)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e);var t,n,i,o,a,s,u=[],l=!e.once&&[],c=function r(c){for(n=e.memory&&c,i=!0,a=s||0,s=0,o=u.length,t=!0;u&&a<o;a++)if(!1===u[a].apply(c[0],c[1])&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&r(l.shift()):n?u=[]:f.disable())},f={add:function(){if(u){var r=u.length;!function t(n){w.each(n,function(n,r){var i=w.type(r);"function"===i?e.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),t?o=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&w.each(arguments,function(e,n){for(var r;(r=w.inArray(n,u,r))>-1;)u.splice(r,1),t&&(r<=o&&o--,r<=a&&a--)}),this},has:function(e){return e?w.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],o=0,this},disable:function(){return u=l=n=r,this},disabled:function(){return!u},lock:function(){return l=r,n||f.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||i&&!l||(n=[e,(n=n||[]).slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},w.extend({Deferred:function(e){var t=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,o){var a=o[0],s=w.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?w.extend(e,r):r}},i={};return r.pipe=r.then,w.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=g.call(arguments),a=o.length,s=1!==a||e&&w.isFunction(e.promise)?a:0,u=1===s?e:w.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?g.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&w.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}}),w.support=function(e){var r,i,o,s,l,c,f,p,d,h=u.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=h.getElementsByTagName("*")||[],!(i=h.getElementsByTagName("a")[0])||!i.style||!r.length)return e;c=(s=u.createElement("select")).appendChild(u.createElement("option")),o=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==h.className,e.leadingWhitespace=3===h.firstChild.nodeType,e.tbody=!h.getElementsByTagName("tbody").length,e.htmlSerialize=!!h.getElementsByTagName("link").length,e.style=/top/.test(i.getAttribute("style")),e.hrefNormalized="/a"===i.getAttribute("href"),e.opacity=/^0.5/.test(i.style.opacity),e.cssFloat=!!i.style.cssFloat,e.checkOn=!!o.value,e.optSelected=c.selected,e.enctype=!!u.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==u.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,e.optDisabled=!c.disabled;try{delete h.test}catch(m){e.deleteExpando=!1}for(d in(o=u.createElement("input")).setAttribute("value",""),e.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),(l=u.createDocumentFragment()).appendChild(o),e.appendChecked=o.checked,e.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){e.noCloneEvent=!1}),h.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})h.setAttribute(f="on"+d,"t"),e[d+"Bubbles"]=f in n||!1===h.attributes[f].expando;for(d in h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===h.style.backgroundClip,w(e))break;return e.ownLast="0"!==d,w(function(){var r,i,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=u.getElementsByTagName("body")[0];l&&((r=u.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(r).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(o=h.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",e.reliableHiddenOffsets=p&&0===o[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",w.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===h.offsetWidth}),n.getComputedStyle&&(e.pixelPosition="1%"!==(n.getComputedStyle(h,null)||{}).top,e.boxSizingReliable="4px"===(n.getComputedStyle(h,null)||{width:"4px"}).width,(i=h.appendChild(u.createElement("div"))).style.cssText=h.style.cssText=s,i.style.marginRight=i.style.width="0",h.style.width="1px",e.reliableMarginRight=!parseFloat((n.getComputedStyle(i,null)||{}).marginRight)),t(h.style.zoom)!==a&&(h.innerHTML="",h.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==h.offsetWidth,e.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(r),r=h=o=i=null)}),r=s=l=c=i=o=null,e}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,i,o){if(w.acceptData(e)){var a,s,u=w.expando,l=e.nodeType,c=l?w.cache:e,f=l?e[u]:e[u]&&u;if(f&&c[f]&&(o||c[f].data)||i!==r||"string"!=typeof n)return f||(f=l?e[u]=d.pop()||w.guid++:u),c[f]||(c[f]=l?{}:{toJSON:w.noop}),"object"!==t(n)&&"function"!=typeof n||(o?c[f]=w.extend(c[f],n):c[f].data=w.extend(c[f].data,n)),s=c[f],o||(s.data||(s.data={}),s=s.data),i!==r&&(s[w.camelCase(n)]=i),"string"==typeof n?null==(a=s[n])&&(a=s[w.camelCase(n)]):a=s,a}}function W(e,t,n){if(w.acceptData(e)){var r,i,o=e.nodeType,a=o?w.cache:e,s=o?e[w.expando]:w.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=w.isArray(t)?t.concat(w.map(t,w.camelCase)):t in r?[t]:(t=w.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!I(r):!w.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?w.cleanData([e],!0):w.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function $(e,t,n){if(n===r&&1===e.nodeType){var i="data-"+t.replace(P,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:B.test(n)?w.parseJSON(n):n)}catch(o){}w.data(e,t,n)}else n=r}return n}function I(e){var t;for(t in e)if(("data"!==t||!w.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}w.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?w.cache[e[w.expando]]:e[w.expando])&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&w.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),w.fn.extend({data:function(e,n){var i,o,a=null,s=0,u=this[0];if(e===r){if(this.length&&(a=w.data(u),1===u.nodeType&&!w._data(u,"parsedAttrs"))){for(i=u.attributes;s<i.length;s++)0===(o=i[s].name).indexOf("data-")&&$(u,o=w.camelCase(o.slice(5)),a[o]);w._data(u,"parsedAttrs",!0)}return a}return"object"===t(e)?this.each(function(){w.data(this,e)}):arguments.length>1?this.each(function(){w.data(this,e,n)}):u?$(u,e,w.data(u,e)):null},removeData:function(e){return this.each(function(){w.removeData(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=w._data(e,t),n&&(!r||w.isArray(n)?r=w._data(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){w.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return w._data(e,n)||w._data(e,n,{empty:w.Callbacks("once memory").add(function(){w._removeData(e,t+"queue"),w._removeData(e,n)})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):t===r?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},delay:function(e,t){return e=w.fx&&w.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=w.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=r),e=e||"fx";s--;)(n=w._data(a[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(u));return u(),o.promise(t)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=w.support.getSetAttribute,K=w.support.input;w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})},prop:function(e,t){return w.access(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return e=w.propFix[e]||e,this.each(function(){try{this[e]=r,delete this[e]}catch(t){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(w.isFunction(e))return this.each(function(t){w(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(C)||[];a<s;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=w.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(w.isFunction(e))return this.each(function(t){w(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(C)||[];a<s;a++)if(r=1===(n=this[a]).nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?w.trim(r):""}return this},toggleClass:function(e,n){var r=t(e);return"boolean"==typeof n&&"string"===r?n?this.addClass(e):this.removeClass(e):w.isFunction(e)?this.each(function(t){w(this).toggleClass(e.call(this,t,this.className,n),n)}):this.each(function(){if("string"===r)for(var t,n=0,i=w(this),o=e.match(C)||[];t=o[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else r!==a&&"boolean"!==r||(this.className&&w._data(this,"__className__",this.className),this.className=this.className||!1===e?"":w._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,i,o=this[0];return arguments.length?(i=w.isFunction(e),this.each(function(t){var o;1===this.nodeType&&(null==(o=i?e.call(this,t,w(this).val()):e)?o="":"number"==typeof o?o+="":w.isArray(o)&&(o=w.map(o,function(e){return null==e?"":e+""})),(n=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,o,"value")!==r||(this.value=o))})):o?(n=w.valHooks[o.type]||w.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&(t=n.get(o,"value"))!==r?t:"string"==typeof(t=o.value)?t.replace(V,""):null==t?"":t:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(w.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!w.nodeName(n.parentNode,"optgroup"))){if(t=w(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=w.makeArray(t),a=i.length;a--;)((r=i[a]).selected=w.inArray(w(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,i){var o,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return t(e.getAttribute)===a?w.prop(e,n,i):(1===u&&w.isXMLDoc(e)||(n=n.toLowerCase(),o=w.attrHooks[n]||(w.expr.match.bool.test(n)?X:z)),i===r?o&&"get"in o&&null!==(s=o.get(e,n))?s:null==(s=w.find.attr(e,n))?r:s:null!==i?o&&"set"in o&&(s=o.set(e,i,n))!==r?s:(e.setAttribute(n,i+""),i):void w.removeAttr(e,n))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(C);if(o&&1===e.nodeType)for(;n=o[i++];)r=w.propFix[n]||n,w.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[w.camelCase("default-"+n)]=e[r]=!1:w.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!w.support.radioValue&&"radio"===t&&w.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!w.isXMLDoc(e))&&(t=w.propFix[t]||t,o=w.propHooks[t]),n!==r?o&&"set"in o&&(i=o.set(e,n,t))!==r?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return!1===t?w.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&w.propFix[n]||n,n):e[w.camelCase("default-"+n)]=e[n]=!0,n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=w.expr.attrHandle[t]||w.find.attr;w.expr.attrHandle[t]=K&&Q||!G.test(t)?function(e,t,i){var o=w.expr.attrHandle[t],a=i?r:(w.expr.attrHandle[t]=r)!=n(e,t,i)?t.toLowerCase():null;return w.expr.attrHandle[t]=o,a}:function(e,t,n){return n?r:e[w.camelCase("default-"+t)]?t.toLowerCase():null}}),K&&Q||(w.attrHooks.value={set:function(e,t,n){if(!w.nodeName(e,"input"))return z&&z.set(e,t,n);e.defaultValue=t}}),Q||(z={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:r}},w.expr.attrHandle.id=w.expr.attrHandle.name=w.expr.attrHandle.coords=function(e,t,n){var i;return n?r:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},w.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:r},set:z.set},w.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""!==t&&t,n)}},w.each(["width","height"],function(e,t){w.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),w.support.hrefNormalized||w.each(["href","src"],function(e,t){w.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),w.support.style||(w.attrHooks.style={get:function(e){return e.style.cssText||r},set:function(e,t){return e.style.cssText=t+""}}),w.support.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.support.enctype||(w.propFix.enctype="encoding"),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(w.isArray(t))return e.checked=w.inArray(w(e).val(),t)>=0}},w.support.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,ee=/^key/,te=/^(?:mouse|contextmenu)|click/,ne=/^(?:focusinfocus|focusoutblur)$/,re=/^([^.]*)(?:\.(.+)|)$/;function ie(){return!0}function oe(){return!1}function ae(){try{return u.activeElement}catch(e){}}w.event={global:{},add:function(e,n,i,o,s){var u,l,c,f,p,d,h,m,g,y,v,b=w._data(e);if(b){for(i.handler&&(i=(f=i).handler,s=f.selector),i.guid||(i.guid=w.guid++),(l=b.events)||(l=b.events={}),(d=b.handle)||((d=b.handle=function(e){return t(w)===a||e&&w.event.triggered===e.type?r:w.event.dispatch.apply(d.elem,arguments)}).elem=e),c=(n=(n||"").match(C)||[""]).length;c--;)g=v=(u=re.exec(n[c])||[])[1],y=(u[2]||"").split(".").sort(),g&&(p=w.event.special[g]||{},g=(s?p.delegateType:p.bindType)||g,p=w.event.special[g]||{},h=w.extend({type:g,origType:v,data:o,handler:i,guid:i.guid,selector:s,needsContext:s&&w.expr.match.needsContext.test(s),namespace:y.join(".")},f),(m=l[g])||((m=l[g]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,o,y,d)||(e.addEventListener?e.addEventListener(g,d,!1):e.attachEvent&&e.attachEvent("on"+g,d))),p.add&&(p.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),s?m.splice(m.delegateCount++,0,h):m.push(h),w.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,m,g=w.hasData(e)&&w._data(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(C)||[""]).length;l--;)if(d=m=(s=re.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=w.event.special[d]||{},p=c[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;o--;)a=p[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(p.splice(o,1),a.selector&&p.delegateCount--,f.remove&&f.remove.call(e,a));u&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||w.removeEvent(e,d,g.handle),delete c[d])}else for(d in c)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(c)&&(delete g.handle,w._removeData(e,"events"))}},trigger:function(e,i,o,a){var s,l,c,f,p,d,h,m=[o||u],g=b.call(e,"type")?e.type:e,y=b.call(e,"namespace")?e.namespace.split("."):[];if(c=d=o=o||u,3!==o.nodeType&&8!==o.nodeType&&!ne.test(g+w.event.triggered)&&(g.indexOf(".")>=0&&(y=g.split("."),g=y.shift(),y.sort()),l=g.indexOf(":")<0&&"on"+g,(e=e[w.expando]?e:new w.Event(g,"object"===t(e)&&e)).isTrigger=a?2:3,e.namespace=y.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=r,e.target||(e.target=o),i=null==i?[e]:w.makeArray(i,[e]),p=w.event.special[g]||{},a||!p.trigger||!1!==p.trigger.apply(o,i))){if(!a&&!p.noBubble&&!w.isWindow(o)){for(f=p.delegateType||g,ne.test(f+g)||(c=c.parentNode);c;c=c.parentNode)m.push(c),d=c;d===(o.ownerDocument||u)&&m.push(d.defaultView||d.parentWindow||n)}for(h=0;(c=m[h++])&&!e.isPropagationStopped();)e.type=h>1?f:p.bindType||g,(s=(w._data(c,"events")||{})[e.type]&&w._data(c,"handle"))&&s.apply(c,i),(s=l&&c[l])&&w.acceptData(c)&&s.apply&&!1===s.apply(c,i)&&e.preventDefault();if(e.type=g,!a&&!e.isDefaultPrevented()&&(!p._default||!1===p._default.apply(m.pop(),i))&&w.acceptData(o)&&l&&o[g]&&!w.isWindow(o)){(d=o[l])&&(o[l]=null),w.event.triggered=g;try{o[g]()}catch(v){}w.event.triggered=r,d&&(o[l]=d)}return e.result}},dispatch:function(e){e=w.event.fix(e);var t,n,i,o,a,s,u=g.call(arguments),l=(w._data(this,"events")||{})[e.type]||[],c=w.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=w.event.handlers.call(this,e,l),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,(n=((w.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u))!==r&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(o=[],a=0;a<u;a++)o[n=(i=t[a]).selector+" "]===r&&(o[n]=i.needsContext?w(n,this).index(l)>=0:w.find(n,this,null,[l]).length),o[n]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return u<t.length&&s.push({elem:this,handlers:t.slice(u)}),s},fix:function(e){if(e[w.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=te.test(i)?this.mouseHooks:ee.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new w.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||u),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(i=e.target.ownerDocument||u).documentElement,n=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||a===r||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ae()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ae()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(w.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return w.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==r&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?w.event.trigger(i,null,t):w.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},w.removeEvent=u.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,n,r){var i="on"+n;e.detachEvent&&(t(e[i])===a&&(e[i]=null),e.detachEvent(i,r))},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?ie:oe):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0},w.Event.prototype={isDefaultPrevented:oe,isPropagationStopped:oe,isImmediatePropagationStopped:oe,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ie,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ie,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ie,this.stopPropagation()}},w.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||w.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),w.support.submitBubbles||(w.event.special.submit={setup:function(){if(w.nodeName(this,"form"))return!1;w.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=w.nodeName(t,"input")||w.nodeName(t,"button")?t.form:r;n&&!w._data(n,"submitBubbles")&&(w.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),w._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&w.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(w.nodeName(this,"form"))return!1;w.event.remove(this,"._submit")}}),w.support.changeBubbles||(w.event.special.change={setup:function(){if(Z.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(w.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),w.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),w.event.simulate("change",this,e,!0)})),!1;w.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!w._data(t,"changeBubbles")&&(w.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||w.event.simulate("change",this.parentNode,e,!0)}),w._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return w.event.remove(this,"._change"),!Z.test(this.nodeName)}}),w.support.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){w.event.simulate(t,e.target,w.event.fix(e),!0)};w.event.special[t]={setup:function(){0==n++&&u.addEventListener(e,r,!0)},teardown:function(){0==--n&&u.removeEventListener(e,r,!0)}}}),w.fn.extend({on:function(e,n,i,o,a){var s,u;if("object"===t(e)){for(s in"string"!=typeof n&&(i=i||n,n=r),e)this.on(s,n,i,e[s],a);return this}if(null==i&&null==o?(o=n,i=n=r):null==o&&("string"==typeof n?(o=i,i=r):(o=i,i=n,n=r)),!1===o)o=oe;else if(!o)return this;return 1===a&&(u=o,(o=function(e){return w().off(e),u.apply(this,arguments)}).guid=u.guid||(u.guid=w.guid++)),this.each(function(){w.event.add(this,e,o,i,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,i){var o,a;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,w(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"===t(e)){for(a in e)this.off(a,n,e[a]);return this}return!1!==n&&"function"!=typeof n||(i=n,n=r),!1===i&&(i=oe),this.each(function(){w.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}});var se=/^.[^:#\[\.,]*$/,ue=/^(?:parents|prev(?:Until|All))/,le=w.expr.match.needsContext,ce={children:!0,contents:!0,next:!0,prev:!0};function fe(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function pe(e,t,n){if(w.isFunction(t))return w.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return w.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return w.filter(t,e,n);t=w.filter(t,e)}return w.grep(e,function(e){return w.inArray(e,t)>=0!==n})}function de(e){var t=he.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}w.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<i;t++)if(w.contains(r[t],this))return!0}));for(t=0;t<i;t++)w.find(e,r[t],n);return(n=this.pushStack(i>1?w.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=w(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(w.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(pe(this,e||[],!0))},filter:function(e){return this.pushStack(pe(this,e||[],!1))},is:function(e){return!!pe(this,"string"==typeof e&&le.test(e)?w(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=le.test(e)||"string"!=typeof e?w(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?w.unique(o):o)},index:function(e){return e?"string"==typeof e?w.inArray(this[0],w(e)):w.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),r=w.merge(this.get(),n);return this.pushStack(w.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,n){return w.dir(e,"parentNode",n)},next:function(e){return fe(e,"nextSibling")},prev:function(e){return fe(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,n){return w.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return w.dir(e,"previousSibling",n)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return w.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:w.merge([],e.childNodes)}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(ce[e]||(i=w.unique(i)),ue.test(e)&&(i=i.reverse())),this.pushStack(i)}}),w.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){for(var i=[],o=e[t];o&&9!==o.nodeType&&(n===r||1!==o.nodeType||!w(o).is(n));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var he="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",me=/ jQuery\d+="(?:null|\d+)"/g,ge=new RegExp("<(?:"+he+")[\\s/>]","i"),ye=/^\s+/,ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,be=/<([\w:]+)/,xe=/<tbody/i,we=/<|&#?\w+;/,Te=/<(?:script|style|link)/i,Ce=/^(?:checkbox|radio)$/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,ke=/^$|\/(?:java|ecma)script/i,Ee=/^true\/(.*)/,Se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ae={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:w.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},je=de(u).appendChild(u.createElement("div"));function De(e,t){return w.nodeName(e,"table")&&w.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Le(e){return e.type=(null!==w.find.attr(e,"type"))+"/"+e.type,e}function He(e){var t=Ee.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function qe(e,t){for(var n,r=0;null!=(n=e[r]);r++)w._data(n,"globalEval",!t||w._data(t[r],"globalEval"))}function _e(e,t){if(1===t.nodeType&&w.hasData(e)){var n,r,i,o=w._data(e),a=w._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)w.event.add(t,n,s[n][r]);a.data&&(a.data=w.extend({},a.data))}}function Me(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!w.support.noCloneEvent&&t[w.expando]){for(r in(i=w._data(t)).events)w.removeEvent(t,r,i.handle);t.removeAttribute(w.expando)}"script"===n&&t.text!==e.text?(Le(t).text=e.text,He(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),w.support.html5Clone&&e.innerHTML&&!w.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ce.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function Oe(e,n){var i,o,s=0,u=t(e.getElementsByTagName)!==a?e.getElementsByTagName(n||"*"):t(e.querySelectorAll)!==a?e.querySelectorAll(n||"*"):r;if(!u)for(u=[],i=e.childNodes||e;null!=(o=i[s]);s++)!n||w.nodeName(o,n)?u.push(o):w.merge(u,Oe(o,n));return n===r||n&&w.nodeName(e,n)?w.merge([e],u):u}function Fe(e){Ce.test(e.type)&&(e.defaultChecked=e.checked)}Ae.optgroup=Ae.option,Ae.tbody=Ae.tfoot=Ae.colgroup=Ae.caption=Ae.thead,Ae.th=Ae.td,w.fn.extend({text:function(e){return w.access(this,function(e){return e===r?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?w.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||w.cleanData(Oe(n)),n.parentNode&&(t&&w.contains(n.ownerDocument,n)&&qe(Oe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&w.cleanData(Oe(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&w.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return w.access(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===r)return 1===t.nodeType?t.innerHTML.replace(me,""):r;if("string"==typeof e&&!Te.test(e)&&(w.support.htmlSerialize||!ge.test(e))&&(w.support.leadingWhitespace||!ye.test(e))&&!Ae[(be.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ve,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(Oe(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=w.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),w(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=h.apply([],e);var r,i,o,a,s,u,l=0,c=this.length,f=this,p=c-1,d=e[0],m=w.isFunction(d);if(m||!(c<=1||"string"!=typeof d||w.support.checkClone)&&Ne.test(d))return this.each(function(r){var i=f.eq(r);m&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=(u=w.buildFragment(e,this[0].ownerDocument,!1,!n&&this)).firstChild,1===u.childNodes.length&&(u=r),r)){for(o=(a=w.map(Oe(u,"script"),Le)).length;l<c;l++)i=u,l!==p&&(i=w.clone(i,!0,!0),o&&w.merge(a,Oe(i,"script"))),t.call(this[l],i,l);if(o)for(s=a[a.length-1].ownerDocument,w.map(a,He),l=0;l<o;l++)i=a[l],ke.test(i.type||"")&&!w._data(i,"globalEval")&&w.contains(s,i)&&(i.src?w._evalUrl(i.src):w.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Se,"")));u=r=null}return this}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=0,i=[],o=w(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),w(o[r])[t](n),m.apply(i,n.get());return this.pushStack(i)}}),w.extend({clone:function(e,t,n){var r,i,o,a,s,u=w.contains(e.ownerDocument,e);if(w.support.html5Clone||w.isXMLDoc(e)||!ge.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(je.innerHTML=e.outerHTML,je.removeChild(o=je.firstChild)),!(w.support.noCloneEvent&&w.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(r=Oe(o),s=Oe(e),a=0;null!=(i=s[a]);++a)r[a]&&Me(i,r[a]);if(t)if(n)for(s=s||Oe(e),r=r||Oe(o),a=0;null!=(i=s[a]);a++)_e(i,r[a]);else _e(e,o);return(r=Oe(o,"script")).length>0&&qe(r,!u&&Oe(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,f=e.length,p=de(t),d=[],h=0;h<f;h++)if((o=e[h])||0===o)if("object"===w.type(o))w.merge(d,o.nodeType?[o]:o);else if(we.test(o)){for(s=s||p.appendChild(t.createElement("div")),u=(be.exec(o)||["",""])[1].toLowerCase(),c=Ae[u]||Ae._default,s.innerHTML=c[1]+o.replace(ve,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!w.support.leadingWhitespace&&ye.test(o)&&d.push(t.createTextNode(ye.exec(o)[0])),!w.support.tbody)for(i=(o="table"!==u||xe.test(o)?"<table>"!==c[1]||xe.test(o)?0:s:s.firstChild)&&o.childNodes.length;i--;)w.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(w.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else d.push(t.createTextNode(o));for(s&&p.removeChild(s),w.support.appendChecked||w.grep(Oe(d,"input"),Fe),h=0;o=d[h++];)if((!r||-1===w.inArray(o,r))&&(a=w.contains(o.ownerDocument,o),s=Oe(p.appendChild(o),"script"),a&&qe(s),n))for(i=0;o=s[i++];)ke.test(o.type||"")&&n.push(o);return s=null,p},cleanData:function(e,n){for(var r,i,o,s,u=0,l=w.expando,c=w.cache,f=w.support.deleteExpando,p=w.event.special;null!=(r=e[u]);u++)if((n||w.acceptData(r))&&(s=(o=r[l])&&c[o])){if(s.events)for(i in s.events)p[i]?w.event.remove(r,i):w.removeEvent(r,i,s.handle);c[o]&&(delete c[o],f?delete r[l]:t(r.removeAttribute)!==a?r.removeAttribute(l):r[l]=null,d.push(o))}},_evalUrl:function(e){return w.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),w.fn.extend({wrapAll:function(e){if(w.isFunction(e))return this.each(function(t){w(this).wrapAll(e.call(this,t))});if(this[0]){var t=w(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return w.isFunction(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=w.isFunction(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()}});var Be,Pe,Re,We=/alpha\([^)]*\)/i,$e=/opacity\s*=\s*([^)]*)/,Ie=/^(top|right|bottom|left)$/,ze=/^(none|table(?!-c[ea]).+)/,Xe=/^margin/,Ue=new RegExp("^("+T+")(.*)$","i"),Ve=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Ye=new RegExp("^([+-])=("+T+")","i"),Je={BODY:"block"},Ge={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:0,fontWeight:400},Ke=["Top","Right","Bottom","Left"],Ze=["Webkit","O","Moz","ms"];function et(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Ze.length;i--;)if((t=Ze[i]+n)in e)return t;return r}function tt(e,t){return e=t||e,"none"===w.css(e,"display")||!w.contains(e.ownerDocument,e)}function nt(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=w._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&tt(r)&&(o[a]=w._data(r,"olddisplay",at(r.nodeName)))):o[a]||(i=tt(r),(n&&"none"!==n||!i)&&w._data(r,"olddisplay",i?n:w.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function rt(e,t,n){var r=Ue.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function it(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=w.css(e,n+Ke[o],!0,i)),r?("content"===n&&(a-=w.css(e,"padding"+Ke[o],!0,i)),"margin"!==n&&(a-=w.css(e,"border"+Ke[o]+"Width",!0,i))):(a+=w.css(e,"padding"+Ke[o],!0,i),"padding"!==n&&(a+=w.css(e,"border"+Ke[o]+"Width",!0,i)));return a}function ot(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Pe(e),a=w.support.boxSizing&&"border-box"===w.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Re(e,t,o))<0||null==i)&&(i=e.style[t]),Ve.test(i))return i;r=a&&(w.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+it(e,t,n||(a?"border":"content"),r,o)+"px"}function at(e){var t=u,n=Je[e];return n||("none"!==(n=st(e,t))&&n||((t=((Be=(Be||w("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||Be[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=st(e,t),Be.detach()),Je[e]=n),n}function st(e,t){var n=w(t.createElement(e)).appendTo(t.body),r=w.css(n[0],"display");return n.remove(),r}w.fn.extend({css:function(e,t){return w.access(this,function(e,t,n){var i,o,a={},s=0;if(w.isArray(t)){for(o=Pe(e),i=t.length;s<i;s++)a[t[s]]=w.css(e,t[s],!1,o);return a}return n!==r?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)},show:function(){return nt(this,!0)},hide:function(){return nt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){tt(this)?w(this).show():w(this).hide()})}}),w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Re(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:w.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,s,u,l=w.camelCase(n),c=e.style;if(n=w.cssProps[l]||(w.cssProps[l]=et(c,l)),u=w.cssHooks[n]||w.cssHooks[l],i===r)return u&&"get"in u&&(a=u.get(e,!1,o))!==r?a:c[n];if(!("string"===(s=t(i))&&(a=Ye.exec(i))&&(i=(a[1]+1)*a[2]+parseFloat(w.css(e,n)),s="number"),null==i||"number"===s&&isNaN(i)||("number"!==s||w.cssNumber[l]||(i+="px"),w.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),u&&"set"in u&&(i=u.set(e,i,o))===r)))try{c[n]=i}catch(f){}}},css:function(e,t,n,i){var o,a,s,u=w.camelCase(t);return t=w.cssProps[u]||(w.cssProps[u]=et(e.style,u)),(s=w.cssHooks[t]||w.cssHooks[u])&&"get"in s&&(a=s.get(e,!0,n)),a===r&&(a=Re(e,t,i)),"normal"===a&&t in Qe&&(a=Qe[t]),""===n||n?(o=parseFloat(a),!0===n||w.isNumeric(o)?o||0:a):a}}),n.getComputedStyle?(Pe=function(e){return n.getComputedStyle(e,null)},Re=function(e,t,n){var i,o,a,s=n||Pe(e),u=s?s.getPropertyValue(t)||s[t]:r,l=e.style;return s&&(""!==u||w.contains(e.ownerDocument,e)||(u=w.style(e,t)),Ve.test(u)&&Xe.test(t)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):u.documentElement.currentStyle&&(Pe=function(e){return e.currentStyle},Re=function(e,t,n){var i,o,a,s=n||Pe(e),u=s?s[t]:r,l=e.style;return null==u&&l&&l[t]&&(u=l[t]),Ve.test(u)&&!Ie.test(t)&&(i=l.left,(a=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),l.left="fontSize"===t?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return 0===e.offsetWidth&&ze.test(w.css(e,"display"))?w.swap(e,Ge,function(){return ot(e,t,r)}):ot(e,t,r)},set:function(e,n,r){var i=r&&Pe(e);return rt(0,n,r?it(e,t,r,w.support.boxSizing&&"border-box"===w.css(e,"boxSizing",!1,i),i):0)}}}),w.support.opacity||(w.cssHooks.opacity={get:function(e,t){return $e.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=w.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===w.trim(o.replace(We,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=We.test(o)?o.replace(We,i):o+" "+i)}}),w(function(){w.support.reliableMarginRight||(w.cssHooks.marginRight={get:function(e,t){if(t)return w.swap(e,{display:"inline-block"},Re,[e,"marginRight"])}}),!w.support.pixelPosition&&w.fn.position&&w.each(["top","left"],function(e,t){w.cssHooks[t]={get:function(e,n){if(n)return n=Re(e,t),Ve.test(n)?w(e).position()[t]+"px":n}}})}),w.expr&&w.expr.filters&&(w.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!w.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||w.css(e,"display"))},w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ke[r]+t]=o[r]||o[r-2]||o[0];return i}},Xe.test(e)||(w.cssHooks[e+t].set=rt)});var ut=/%20/g,lt=/\[\]$/,ct=/\r?\n/g,ft=/^(?:submit|button|image|reset|file)$/i,pt=/^(?:input|select|textarea|keygen)/i;function dt(e,n,r,i){var o;if(w.isArray(n))w.each(n,function(n,o){r||lt.test(e)?i(e,o):dt(e+"["+("object"===t(o)?n:"")+"]",o,r,i)});else if(r||"object"!==w.type(n))i(e,n);else for(o in n)dt(e+"["+o+"]",n[o],r,i)}w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&pt.test(this.nodeName)&&!ft.test(e)&&(this.checked||!Ce.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:w.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(ct,"\r\n")}}):{name:t.name,value:n.replace(ct,"\r\n")}}).get()}}),w.param=function(e,t){var n,i=[],o=function(e,t){t=w.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===r&&(t=w.ajaxSettings&&w.ajaxSettings.traditional),w.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){o(this.name,this.value)});else for(n in e)dt(n,e[n],t,o);return i.join("&").replace(ut,"+")},w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ht,mt,gt=w.now(),yt=/\?/,vt=/#.*$/,bt=/([?&])_=[^&]*/,xt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,wt=/^(?:GET|HEAD)$/,Tt=/^\/\//,Ct=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Nt=w.fn.load,kt={},Et={},St="*/".concat("*");try{mt=s.href}catch(Qt){(mt=u.createElement("a")).href="",mt=mt.href}function At(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(C)||[];if(w.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function jt(e,t,n,r){var i={},o=e===Et;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Dt(e,t){var n,i,o=w.ajaxSettings.flatOptions||{};for(i in t)t[i]!==r&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&w.extend(!0,e,n),e}ht=Ct.exec(mt.toLowerCase())||[],w.fn.load=function(e,n,i){if("string"!=typeof e&&Nt)return Nt.apply(this,arguments);var o,a,s,u=this,l=e.indexOf(" ");return l>=0&&(o=e.slice(l,e.length),e=e.slice(0,l)),w.isFunction(n)?(i=n,n=r):n&&"object"===t(n)&&(s="POST"),u.length>0&&w.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){a=arguments,u.html(o?w("<div>").append(w.parseHTML(e)).find(o):e)}).complete(i&&function(e,t){u.each(i,a||[e.responseText,t,e])}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ht[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":St,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Dt(Dt(e,w.ajaxSettings),t):Dt(w.ajaxSettings,e)},ajaxPrefilter:At(kt),ajaxTransport:At(Et),ajax:function(e,n){"object"===t(e)&&(n=e,e=r),n=n||{};var i,o,a,s,u,l,c,f,p=w.ajaxSetup({},n),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?w(d):w.event,m=w.Deferred(),g=w.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!f)for(f={};t=xt.exec(s);)f[t[1].toLowerCase()]=t[2];t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)y[t]=[y[t],e[t]];else N.always(e[N.status]);return this},abort:function(e){var t=e||T;return c&&c.abort(t),k(0,t),this}};if(m.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||mt)+"").replace(vt,"").replace(Tt,ht[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=w.trim(p.dataType||"*").toLowerCase().match(C)||[""],null==p.crossDomain&&(i=Ct.exec(p.url.toLowerCase()),p.crossDomain=!(!i||i[1]===ht[1]&&i[2]===ht[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(ht[3]||("http:"===ht[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),jt(kt,p,n,N),2===x)return N;for(o in(l=p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!wt.test(p.type),a=p.url,p.hasContent||(p.data&&(a=p.url+=(yt.test(a)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=bt.test(a)?a.replace(bt,"$1_="+gt++):a+(yt.test(a)?"&":"?")+"_="+gt++)),p.ifModified&&(w.lastModified[a]&&N.setRequestHeader("If-Modified-Since",w.lastModified[a]),w.etag[a]&&N.setRequestHeader("If-None-Match",w.etag[a])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+St+"; q=0.01":""):p.accepts["*"]),p.headers)N.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(!1===p.beforeSend.call(d,N,p)||2===x))return N.abort();for(o in T="abort",{success:1,error:1,complete:1})N[o](p[o]);if(c=jt(Et,p,n,N)){N.readyState=1,l&&h.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(u=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,c.send(v,k)}catch(Qt){if(!(x<2))throw Qt;k(-1,Qt)}}else k(-1,"No Transport");function k(e,t,n,i){var o,f,v,b,T,C=t;2!==x&&(x=2,u&&clearTimeout(u),c=r,s=i||"",N.readyState=e>0?4:0,o=e>=200&&e<300||304===e,n&&(b=function(e,t,n){var i,o,a,s,u=e.contents,l=e.dataTypes;for(;"*"===l[0];)l.shift(),o===r&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in n)a=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}if(a)return a!==l[0]&&l.unshift(a),n[a]}(p,N,n)),b=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();for(;o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(Qt){return{state:"parsererror",error:a?Qt:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(p,b,N,o),o?(p.ifModified&&((T=N.getResponseHeader("Last-Modified"))&&(w.lastModified[a]=T),(T=N.getResponseHeader("etag"))&&(w.etag[a]=T)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=b.state,f=b.data,o=!(v=b.error))):(v=C,!e&&C||(C="error",e<0&&(e=0))),N.status=e,N.statusText=(t||C)+"",o?m.resolveWith(d,[f,C,N]):m.rejectWith(d,[N,C,v]),N.statusCode(y),y=r,l&&h.trigger(o?"ajaxSuccess":"ajaxError",[N,p,o?f:v]),g.fireWith(d,[N,C]),l&&(h.trigger("ajaxComplete",[N,p]),--w.active||w.event.trigger("ajaxStop")))}return N},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,r,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,i,o){return w.isFunction(n)&&(o=o||i,i=n,n=r),w.ajax({url:e,type:t,dataType:o,data:n,success:i})}}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){e.cache===r&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),w.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=u.head||w("head")[0]||u.documentElement;return{send:function(r,i){(t=u.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(r,!0)}}}});var Lt=[],Ht=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||w.expando+"_"+gt++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,i){var o,a,s,u=!1!==e.jsonp&&(Ht.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(e.data)&&"data");if(u||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=w.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(Ht,"$1"+o):!1!==e.jsonp&&(e.url+=(yt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||w.error(o+" was not called"),s[0]},e.dataTypes[0]="json",a=n[o],n[o]=function(){s=arguments},i.always(function(){n[o]=a,e[o]&&(e.jsonpCallback=t.jsonpCallback,Lt.push(o)),s&&w.isFunction(a)&&a(s[0]),s=a=r}),"script"});var qt,_t,Mt=0,Ot=n.ActiveXObject&&function(){var e;for(e in qt)qt[e](r,!0)};function Ft(){try{return new n.XMLHttpRequest}catch(Qt){}}w.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&Ft()||function(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(Qt){}}()}:Ft,_t=w.ajaxSettings.xhr(),w.support.cors=!!_t&&"withCredentials"in _t,(_t=w.support.ajax=!!_t)&&w.ajaxTransport(function(e){var t;if(!e.crossDomain||w.support.cors)return{send:function(i,o){var a,s,u=e.xhr();if(e.username?u.open(e.type,e.url,e.async,e.username,e.password):u.open(e.type,e.url,e.async),e.xhrFields)for(s in e.xhrFields)u[s]=e.xhrFields[s];e.mimeType&&u.overrideMimeType&&u.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(e.hasContent&&e.data||null),t=function(n,i){var s,l,c,f;try{if(t&&(i||4===u.readyState))if(t=r,a&&(u.onreadystatechange=w.noop,Ot&&delete qt[a]),i)4!==u.readyState&&u.abort();else{f={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(f.text=u.responseText);try{c=u.statusText}catch(Qt){c=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(p){i||o(-1,p)}f&&o(s,c,f,l)},e.async?4===u.readyState?setTimeout(t):(a=++Mt,Ot&&(qt||(qt={},w(n).unload(Ot)),qt[a]=t),u.onreadystatechange=t):t()},abort:function(){t&&t(r,!0)}}});var Bt,Pt,Rt=/^(?:toggle|show|hide)$/,Wt=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),$t=/queueHooks$/,It=[function(e,t,n){var r,i,o,a,s,u,l=this,c={},f=e.style,p=e.nodeType&&tt(e),d=w._data(e,"fxshow");n.queue||(null==(s=w._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,w.queue(e,"fx").length||s.empty.fire()})}));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===w.css(e,"display")&&"none"===w.css(e,"float")&&(w.support.inlineBlockNeedsLayout&&"inline"!==at(e.nodeName)?f.zoom=1:f.display="inline-block"));n.overflow&&(f.overflow="hidden",w.support.shrinkWrapBlocks||l.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Rt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show"))continue;c[r]=d&&d[r]||w.style(e,r)}if(!w.isEmptyObject(c))for(r in d?"hidden"in d&&(p=d.hidden):d=w._data(e,"fxshow",{}),o&&(d.hidden=!p),p?w(e).show():l.done(function(){w(e).hide()}),l.done(function(){var t;for(t in w._removeData(e,"fxshow"),c)w.style(e,t,c[t])}),c)a=Ut(p?d[r]:0,r,l),r in d||(d[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],zt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Wt.exec(t),o=i&&i[3]||(w.cssNumber[e]?"":"px"),a=(w.cssNumber[e]||"px"!==o&&+r)&&Wt.exec(w.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",w.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Xt(){return setTimeout(function(){Bt=r}),Bt=w.now()}function Ut(e,t,n){for(var r,i=(zt[t]||[]).concat(zt["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Vt(e,t,n){var r,i,o=0,a=It.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Bt||Xt(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Bt||Xt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(r=w.camelCase(n),i=t[r],o=e[n],w.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=It[o].call(l,e,c,l.opts))return r;return w.map(c,Ut,l),w.isFunction(l.opts.start)&&l.opts.start.call(e,l),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Yt(e,t,n,r,i){return new Yt.prototype.init(e,t,n,r,i)}function Jt(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Ke[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Gt(e){return w.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}w.Animation=w.extend(Vt,{tweener:function(e,t){w.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],zt[n]=zt[n]||[],zt[n].unshift(t)},prefilter:function(e,t){t?It.unshift(e):It.push(e)}}),w.Tween=Yt,Yt.prototype={constructor:Yt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=Yt.propHooks[this.prop];return e&&e.get?e.get(this):Yt.propHooks._default.get(this)},run:function(e){var t,n=Yt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yt.propHooks._default.set(this),this}},Yt.prototype.init.prototype=Yt.prototype,Yt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[w.cssProps[e.prop]]||w.cssHooks[e.prop])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yt.propHooks.scrollTop=Yt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Jt(t,!0),e,r,i)}}),w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(tt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=Vt(this,w.extend({},e),o);(i||w._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=r),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=w.timers,a=w._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&$t.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=w._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each({slideDown:Jt("show"),slideUp:Jt("hide"),slideToggle:Jt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.speed=function(e,n,r){var i=e&&"object"===t(e)?w.extend({},e):{complete:r||!r&&n||w.isFunction(e)&&e,duration:e,easing:r&&n||n&&!w.isFunction(n)&&n};return i.duration=w.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in w.fx.speeds?w.fx.speeds[i.duration]:w.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){w.isFunction(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},w.timers=[],w.fx=Yt.prototype.init,w.fx.tick=function(){var e,t=w.timers,n=0;for(Bt=w.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||w.fx.stop(),Bt=r},w.fx.timer=function(e){e()&&w.timers.push(e)&&w.fx.start()},w.fx.interval=13,w.fx.start=function(){Pt||(Pt=setInterval(w.fx.tick,w.fx.interval))},w.fx.stop=function(){clearInterval(Pt),Pt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fx.step={},w.expr&&w.expr.filters&&(w.expr.filters.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length}),w.fn.offset=function(e){if(arguments.length)return e===r?this:this.each(function(t){w.offset.setOffset(this,e,t)});var n,i,o={top:0,left:0},s=this[0],u=s&&s.ownerDocument;return u?(n=u.documentElement,w.contains(n,s)?(t(s.getBoundingClientRect)!==a&&(o=s.getBoundingClientRect()),i=Gt(u),{top:o.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o):void 0},w.offset={setOffset:function(e,t,n){var r=w.css(e,"position");"static"===r&&(e.style.position="relative");var i,o,a=w(e),s=a.offset(),u=w.css(e,"top"),l=w.css(e,"left"),c={},f={};("absolute"===r||"fixed"===r)&&w.inArray("auto",[u,l])>-1?(i=(f=a.position()).top,o=f.left):(i=parseFloat(u)||0,o=parseFloat(l)||0),w.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(c.top=t.top-s.top+i),null!=t.left&&(c.left=t.left-s.left+o),"using"in t?t.using.call(e,c):a.css(c)}},w.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===w.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),w.nodeName(e[0],"html")||(n=e.offset()),n.top+=w.css(e[0],"borderTopWidth",!0),n.left+=w.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-w.css(r,"marginTop",!0),left:t.left-n.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||l;e&&!w.nodeName(e,"html")&&"static"===w.css(e,"position");)e=e.offsetParent;return e||l})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);w.fn[e]=function(i){return w.access(this,function(e,i,o){var a=Gt(e);if(o===r)return a?t in a?a[t]:a.document.documentElement[i]:e[i];a?a.scrollTo(n?w(a).scrollLeft():o,n?o:w(a).scrollTop()):e[i]=o},e,i,arguments.length,null)}}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){w.fn[i]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return w.access(this,function(t,n,i){var o;return w.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):i===r?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:r,a,null)}})}),w.fn.size=function(){return this.length},w.fn.andSelf=w.fn.addBack,"object"===("undefined"==typeof module?"undefined":t(module))&&module&&"object"===t(module.exports)?module.exports=w:(n.jQuery=n.$=w,"function"==typeof e&&e.amd&&e("jquery",[],function(){return w})),n.jQuery=n.$=w}(window);
},{}],"auWY":[function(require,module,exports) {
var define;
var t;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(n,r){"object"==("undefined"==typeof exports?"undefined":e(exports))&&"object"==("undefined"==typeof module?"undefined":e(module))?module.exports=r():"function"==typeof t&&t.amd?t([],r):"object"==("undefined"==typeof exports?"undefined":e(exports))?exports._dw_=r():n._dw_=r()}(window,function(){return function(t){var n={};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=n,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==e(t)&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=8)}([function(t,e,n){t.exports=function(){var t=t||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var a=i(4294967296*(n||t.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,e)}}),a=r.enc={},u=a.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(n,e/2)}},c=a.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(n,e)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,c=t.min(4*u,i);if(u){for(var f=0;f<u;f+=o)this._doProcessBlock(r,f);var l=r.splice(0,u);n.sigBytes-=c}return new s.init(l,c)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(i.Hasher=l.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math);return t}()},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)};function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var a=localStorage||sessionStorage||{setItem:function(){},getItem:function(){},removeItem:function(){}},u={DEVICEID_STORE_NAME:"dw_store_device_id_key",FIRST_VISIT_NAME:"dw_store_first_item_token",START_TIMESTAPM_NAME:"dw_store_timestamp_key",FAILED_EVENTS_NAME:"dw_store_queen_data_events",WAIT_SEND_EVENTS_NAME:"dw_store_wait_send_events",SEVER_LOCAL_TIME_SUB:"dw_store_time_sub",DYNAMIC_DATA_NAME:"dw_store_dynamic_data",CONFIG_NAME:"dw_store_config",set:function(t,e){try{a.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&this.clearEvents()}},get:function(t){try{return a.getItem(t)}catch(t){}},rm:function(t){try{return a.removeItem(t)}catch(t){}},clearEvents:function(){this.rm(this.FAILED_EVENTS_NAME),this.rm(this.WAIT_SEND_EVENTS_NAME)},getIsFirstVisit:function(){var t=!0;return this.get(this.FIRST_VISIT_NAME)&&(t=!1),t},saveVisitAlready:function(){this.set(this.FIRST_VISIT_NAME,"true")},getFailEvents:function(t){t=t||this.FAILED_EVENTS_NAME;var e=this.get(t),n={};try{n=e?JSON.parse(e):{}}catch(t){n={}}return n},saveFailEvents:function(t,e,n){n=n||this.FAILED_EVENTS_NAME;var r=e._events,i=this.get(n);if(i)try{var a=JSON.parse(i)||{};if("[object Object]"===Object.prototype.toString.call(a)){var u=a[t]||[];a[t]=[].concat(s(u),s(r)),this.set(n,JSON.stringify(a))}}catch(e){this.set(n,JSON.stringify(o({},t,r)))}else this.set(n,JSON.stringify(o({},t,r)))},saveWaitSendEvents:function(t,e){this.saveFailEvents(t,e,this.WAIT_SEND_EVENTS_NAME)},getWaitSendEvents:function(){return this.getFailEvents(this.WAIT_SEND_EVENTS_NAME)},_initLocalEvents:function(t){this.set(t,JSON.stringify({}))},getDeviceId:function(){return this.get(this.DEVICEID_STORE_NAME)},saveServerLocalTimeSub:function(t){var e=(new Date).getTime(),n=t?(t-e).toString():"0";this.set(this.SEVER_LOCAL_TIME_SUB,n)},getServerLocalTimeSub:function(){return Number(this.get(this.SEVER_LOCAL_TIME_SUB)||0)},saveDynamicData:function(t){"object"===(void 0===t?"undefined":i(t))&&this.set(this.DYNAMIC_DATA_NAME,JSON.stringify(t))},getDynamicData:function(){return this.get(this.DYNAMIC_DATA_NAME)},saveOneConfig:function(t,e){var n=this.getAllConfig();n[t]=e,this.set(this.CONFIG_NAME,JSON.stringify(n))},getAllConfig:function(){var t=this.get(this.CONFIG_NAME);return t?JSON.parse(t):{}}};n.default=u},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},o=h(r(1)),s=r(3),a=h(r(10)),u=h(r(15)),c=h(r(16)),f=r(17),l=h(f);function h(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var p={printLog:function(t){(0,s.getAllConfig)().dbg},clone:function(t,e){for(var n in e)t[n]=e[n];return t},getGuid:function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},getAppKey:function(){return(0,s.getAllConfig)().appKey},getDeviceKey:function(){var t=(0,s.getAllConfig)().deviceId||o.default.getDeviceId();return t||(t=this.getGuid(),o.default.set(o.default.DEVICEID_STORE_NAME,t)),t},getChannel:function(){return(0,s.getAllConfig)().channel},getVersion:function(){return(0,s.getAllConfig)().version},getBrowser:function(){var t="unknown",e=navigator.userAgent.toLowerCase(),n={ie:/msie/i,ie11:/rv:11.0/i,edge:/edge/i,chrome:/chrome|crios/i,safari:/safari|mac/i,qq:/qq/i,2345:/2345/i,wechat:/micromessenger/i,firefox:/firefox|fxios/i,cheetah:/lbbrowser|liebao/i,opera:/opr/i,baidu:/bidubrowser|baidu/i,uc:/ubrowser|ucbrowser/i,sougou:/metasr|sogou/i,360:/QihooBrowser|360EE|360SE/i};return n.safari.test(e)&&(t="Safari"),n.chrome.test(e)&&(t="Chrome"),(n.ie.test(e)||n.ie11.test(e))&&(t="IE"),n.edge.test(e)&&(t="Edge"),n.firefox.test(e)&&(t="Firefox"),n.qq.test(e)&&(t="QQ"),n.wechat.test(e)&&(t="Wechat"),n[2345].test(e)&&(t="2345"),n.cheetah.test(e)&&(t="Cheetah"),n.opera.test(e)&&(t="Opera"),n.uc.test(e)&&(t="UC"),n.baidu.test(e)&&(t="Baidu"),n.sougou.test(e)&&(t="Sougou"),n[360].test(e)&&(t="360"),t},getSessionId:function(){return/SESS\w*ID=([^;]+)/i.test(document.cookie)?RegExp.$1:""},getChinaDate:function(){var t=(new Date).getTime();t+=o.default.getServerLocalTimeSub();var e=60*(new Date).getTimezoneOffset()*1e3;return new Date(t+e+288e5)},getCurrentDate:function(){function t(t){return t<10?"0"+t:t}var e=this.getChinaDate(),n=[e.getFullYear(),e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,t(e.getDate())].join("-"),r=t(e.getHours()),i=t(e.getMinutes()),o=t(e.getSeconds()),s=e.getMilliseconds().toString(),a=s.length<3?"000".slice(0,3-s.length)+s:s;return[n,[r,i,o].join(":")+"."+a,"+0800"].join(" ")},getAccountId:function(){return(0,s.getAllConfig)().accountId},getLanguage:function(){return navigator.language||"zh"},getMobile:function(){var t=navigator.userAgent.toLowerCase(),e="unknown";return/android/.test(t)||/linux/.test(t)?e="Android":/iphone/.test(t)?e="iPhone":/ipad/.test(t)?e="iPad":/windows/.test(t)&&(e="Windows Phone"),e},getMobileOs:function(){return{unknown:"unknown",Android:"Android",iPhone:"iOS",iPad:"iOS","Windows Phone":"Win mobile"}[this.getMobile()]},getPcOs:function(){navigator.userAgent;var t=navigator.platform?navigator.platform.toLowerCase():"";return t?/win/.test(t)?"Win":/mac/.test(t)?"MacOs":/linux/.test(t)?"Linux":void 0:"unknown"},getIsMobile:function(){return/Android|webOS|iPhone|iPod|iPad|BlackBerry|windows phone/i.test(navigator.userAgent)},getClientOs:function(t){return this.getIsMobile()?t?this.getMobile():this.getMobileOs():this.getPcOs()},getModel:function(){return this.getBrowser()+"_"+this.getClientOs(!0)},getScreen:function(){var t=screen.width,e=screen.height;return t&&e?t+"*"+e:""},randomString:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=e.length,r="",i=0;i<t;i++)r+=e.charAt(Math.floor(Math.random()*n));return r},aesEncrypt:function(t,e){"object"===(void 0===e?"undefined":i(e))&&(e=JSON.stringify(e));var n=u.default.parse("");return t=u.default.parse(t),e=u.default.parse(e),a.default.encrypt(e,t,{iv:n,padding:c.default}).toString()},reTryCount:0,rsaEncrypt:function(t,e){var n=new l.default;n.setPublic(t,"10001");var r=n.encrypt(e);return 344!==(r=(0,f.linebrk)((0,f.hex2b64)(r),64)).length&&this.reTryCount<10&&(r=this.rsaEncrypt(t,e),this.reTryCount++),this.reTryCount=0,r},encrypt:function(t,e){for(var n=this.clone({},t),r=this.randomString(16),i=0,o=e.length;i<o;i++){var s=e[i],a=n[s];void 0!==a&&(n[s]=this.aesEncrypt(r,a))}return[n,this.rsaEncrypt("8762DEC337D703A5841A8090180350203AC0C2809A864BF6CA31979FCD7AA3D1BFA38CF8B243878984CBC9B83496CBAC87B448F74EA7550D579BD5820EFD17F5D22D0665AB114FB6EBA74261B4EB040828FBCA7CF95EF0D56BBFD9C67E5941AFFB34DE4C6FA2E737C16D9C703A43D90F65B40E7F3E44C1165C1ED3BD10BC449421863174E8EFA3CA618E0DEE7EDD65F07AAE0586AB1702B1D95F29F3BA447AD744E9B37ACB3F510D068A2D6BDBE4F0689B26A9AFCF66219160E7CF802D2F1A56503F462693B62747AD4163DBC1222687D154C53C03BBB5D2DE9ABC2DE6907E3B26E45C4FCA63F28258C4D07D3E152AE51F80A0DA7B77A3E1D0EFE72A988B57F9",r)]},splitUrl:function(t){var e=[],n="",r=/\s(or|and)\s/;if(r.test(t)){var i=t,o=this.findRightIndex(t);for("("===t[0]&&o===t.length&&(i=t.slice(1,-1));;){var s=0;if("("===i[0])s=this.findRightIndex(i);else if(r.test(i)){var a=i.indexOf(" and "),u=i.indexOf(" or ");s=-1===a?u:-1===u?a:a<u?a:u}else s=i.length;var c=i.slice(0,s);if(c&&e.push(c),""===(i=i.replace(c,"")))break;var f=i.match(r);i=i.replace(f[0],""),n?n!==f[1]||f[1]:n=f[1]}}else e.push(t);return[e,n]},findRightIndex:function(t){for(var e=0,n=0,r=0,i=t.length;r<i;r++)if("("==t[r]&&e++,")"==t[r]&&0==--e){n=r+1;break}return n||!1},combine:function(t){if(t.length>1){for(var e=t[0],n=t[1],r=t.slice(0),o=[],s=0,a=e.length;s<a;s++)for(var u=e[s],c=0,f=n.length;c<f;c++){var l=n[c];"object"===(void 0===u?"undefined":i(u))?o.push([].concat(d(u),[l])):o.push([u,l])}return r.splice(0,2,o),this.combine(r)}return t[0]}};n.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAllConfig=e.setOneConfig=void 0;var r=o(n(1)),i=o(n(2));function o(t){return t&&t.__esModule?t:{default:t}}var s={protocol:10,st:"js",sv:"2.6.10",accountId:"",deviceId:"",appKey:"",channel:"default_channel",version:"default_version",dbg:!1,customPublicAttrs:{},customPV:!1,defaultEvents:!0};e.setOneConfig=function(t,e){s[t]=e,r.default.saveOneConfig(t,e)},e.getAllConfig=function(){var t=r.default.getAllConfig(),e=i.default.clone;return e(e({},s),t)}},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=f(r(2)),a=r(3),u=f(r(7)),c=f(r(1));function f(t){return t&&t.__esModule?t:{default:t}}var l={SELF_URL_EVENTS:{},ENCRYPT_EVENTS:{},DISABLE_EVENTS:[],ABTEST_NAME:"",ABTEST_GROUP_ID:"",START_TIME_STAMP:0,PROCESS_ID:"",SPLITSIZE:"100",onInnerEvent:function(t,e){if(this._validateArgs(t,e))if(u.default.SEND_EVENT_URL&&s.default.getAppKey()){if(!this._eventIsDisabled(t)){e=this._encrypt(t,e);var n=this._getEventBody(t,e),r=this._getEventUrl(t);u.default.send(r,n)}}else{var i=this._getEventBody(t,e);c.default.saveWaitSendEvents(t,i)}},saveToWaitEvents:function(t,e){if(this._validateArgs(t,e)){var n=this._getEventBody(t,e);c.default.saveWaitSendEvents(t,n)}},_getEventUrl:function(t){return(0,a.getAllConfig)().dbg?u.default.SEND_EVENT_DEBUG_URL||u.default.SEND_EVENT_URL:this.SELF_URL_EVENTS[t]||u.default.SEND_EVENT_URL},_encrypt:function(t,e){var n=this.ENCRYPT_EVENTS[t];if(n&&e){var r,i=s.default.encrypt(e,n),a=o(i,2);e=a[0],r={_encrypted_key:a[1],_encrypted_version:"20160113",_encrypted_fields:n.join()},s.default.clone(e,r)}return e},_eventIsDisabled:function(t){var e=!1;return this.DISABLE_EVENTS.indexOf(t)>=0&&(s.default.printLog("The event "+t+" have be disabled in platform"),e=!0),e},_validateArgs:function(t,e){var n=!0;if(t||(n=!1),t&&"string"!=typeof t&&(n=!1),e)if("[object object]"!==Object.prototype.toString.call(e).toLowerCase())n=!1;else for(var r in e)e.hasOwnProperty(r)&&!/string|boolean|number/.test(i(e[r]))&&(n=!1);return n},_getEventBody:function(t,e){e=e||{};var n=this._getSingleEventArr(t,e),r=this._getEventAdd();return this._eventBodyMixin(r,n)},_eventBodyMixin:function(t,e){var n=s.default.getDeviceKey(),r=(0,a.getAllConfig)(),i=r.customPublicAttrs,o={_p:r.protocol,_st:r.st,_sv:r.sv,_app:s.default.getAppKey(),_gid:n,_did:n,_aid:s.default.getAccountId(),_ut:s.default.getCurrentDate(),_rid:s.default.getGuid(),_av:s.default.getVersion(),_ch:s.default.getChannel(),_dbg:r.dbg,_add:t,_events:e};return s.default.clone(o,i),o},_eventMixin:function(t,e){e._time=s.default.getCurrentDate(),e._session_id=s.default.getSessionId(),e._event_id=s.default.getGuid(),e._abtest_name=this.ABTEST_NAME,e._abtest_group_id=this.ABTEST_GROUP_ID;var n={_type:"general"};return n[t]=e,n},_getSingleEventArr:function(t,e){var n=[];return n.push(this._eventMixin(t,e)),n},_getEventAdd:function(){return{_brand:s.default.getBrowser(),_os:s.default.getClientOs(),_model:s.default.getModel(),_screen:s.default.getScreen(),_os_ver:"",_carrier:"",_network:"wifi",_language:s.default.getLanguage(),_gps:""}},_getProcessId:function(){var t=s.default.getGuid();return this.PROCESS_ID=t,t},_setStartTimeStamp:function(){this.START_TIME_STAMP=(new Date).getTime()},registerAppEnd:function(){var t=this,e="onbeforeunload"in window?"onbeforeunload":"onpagehide";window[e]=function(){t.appEnd()}},appStart:function(t){var e=c.default.getIsFirstVisit();e&&c.default.saveVisitAlready();var n={is_first_time:e.toString(),start_type:"1",resume_from_background:"false",process_id:this._getProcessId()};t?this.saveToWaitEvents("_app_start",n):this.onInnerEvent("_app_start",n),this._setStartTimeStamp()},pageView:function(t){var e={title:document.title||"",url:location.href||"",refer:document.referrer||""};t?this.saveToWaitEvents("_page_view",e):this.onInnerEvent("_page_view",e)},appEnd:function(){var t=(new Date).getTime()-this.START_TIME_STAMP;this.onInnerEvent("_app_end",{use_duration:t,start_type:"1",process_id:this.PROCESS_ID})},_sendEvents:function(t,e){var n=this.SPLITSIZE,r=e.length;if(r)for(var i=this._getEventAdd(),o=0;o<r;o+=n){var s=o+n;s=s>r?r:s;var a=e.slice(o,s),c=this._eventBodyMixin(i,a);u.default.send(t,c)}},failEvents:function(){var t=c.default.getFailEvents();for(var e in c.default._initLocalEvents(c.default.FAILED_EVENTS_NAME),t)this._sendEvents(e,t[e])},waitEvents:function(){var t=c.default.getWaitSendEvents();for(var e in c.default._initLocalEvents(c.default.WAIT_SEND_EVENTS_NAME),t){var n=t[e];if(!this._eventIsDisabled(e)){for(var r=0,i=n.length;r<i;r++){var o=n[r],s=o[e];o[e]=this._encrypt(e,s)}var a=this._getEventUrl(e);this._sendEvents(a,n)}}}};n.default=l},function(t,e,n){t.exports=function(t){return n=(e=t).lib,r=n.Base,i=n.WordArray,o=e.algo,s=o.MD5,a=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=n.hasher.create(),o=i.create(),s=o.words,a=n.keySize,u=n.iterations;s.length<a;){c&&r.update(c);var c=r.update(t).finalize(e);r.reset();for(var f=1;f<u;f++)c=r.finalize(c),r.reset();o.concat(c)}return o.sigBytes=4*a,o}}),e.EvpKDF=function(t,e,n){return a.create(n).compute(t,e)},t.EvpKDF;var e,n,r,i,o,s,a}(n(0),n(13),n(14))},function(t,e,n){t.exports=function(t){var e,n,r,i,o,s,a,u,c,f,l,h,d,p,v,g,_,y,m;t.lib.Cipher||(r=(n=t).lib,i=r.Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,(a=n.enc).Utf8,u=a.Base64,c=n.algo.EvpKDF,f=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?m:_}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),r.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),l=n.mode={},h=r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=l.CBC=function(){var t=h.extend();function n(t,n,r){var i=this._iv;if(i){var o=i;this._iv=e}else o=this._prevBlock;for(var s=0;s<r;s++)t[n+s]^=o[s]}return t.Encryptor=t.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;n.call(this,t,e,i),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),t.Decryptor=t.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=t.slice(e,e+i);r.decryptBlock(t,e),n.call(this,t,e,i),this._prevBlock=o}}),t}(),p=(n.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,s=[],a=0;a<r;a+=4)s.push(i);var u=o.create(s,r);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.BlockCipher=f.extend({cfg:f.cfg.extend({mode:d,padding:p}),reset:function(){f.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{r=n.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==r?this._mode.init(this,e&&e.words):(this._mode=r.call(n,this,e&&e.words),this._mode.__creator=r)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{e=this._process(!0);t.unpad(e)}return e},blockSize:4}),v=r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),g=(n.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(e);else r=e;return r.toString(u)},parse:function(t){var e=u.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return v.create({ciphertext:e,salt:r})}},_=r.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),s=i.cfg;return v.create({ciphertext:o,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(n.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=o.random(8));var i=c.create({keySize:e+n}).compute(t,r),s=o.create(i.words.slice(e),4*n);return i.sigBytes=4*e,v.create({key:i,iv:s,salt:r})}},m=r.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:y}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=_.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,_.decrypt.call(this,t,e,i.key,r)}}))}(n(0),n(5))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=c(n(2)),o=c(n(1)),s=c(n(4)),a=c(n(18)),u=c(n(21));function c(t){return t&&t.__esModule?t:{default:t}}function f(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var l={SEND_EVENT_URL:"",SEND_EVENT_DEBUG_URL:"",TIMEOUT_LITMIT:3e3,send:function(t,e){var n=this._queue(t);"string"==typeof n&&(n=[n]);var r=0;(function i(){var a=this;if(r>=n.length)o.default.saveFailEvents(t,e);else{var u=n[r];r++,this._sendAllUrlSync(u,e,function(t){t?s.default.waitEvents():i.call(a)})}}).call(this)},_sendAllUrlSync:function(t,e,n){"string"==typeof t&&(t=[t]);var r=0;(function i(){var o=this;if(r>=t.length)n(!0);else{var s=t[r];r++,this._post(s,e,function(t){t?i.call(o):n(!1)})}}).call(this)},_queue:function(t){var e=i.default.splitUrl(t),n=r(e,2),o=n[0],s=n[1],a=o.length;if(1===a){var u=o[0];return/^\(.*\)$/.test(u)&&(u=u.slice(1,-1)),u}var c=[];if(a>1)if("or"===s)for(var l=0,h=o.length;l<h;l++){var d=this._queue(o[l]);"string"!=typeof d&"string"!=typeof d[0]?c=[].concat(f(c),f(d)):c.push(d)}else{for(var p=new Array(o.length),v=0,g=o.length;v<g;v++){var _=this._queue(o[v]);"string"==typeof _&&(_=[_]),p[v]=_}c=i.default.combine(p)}return c},_post:function(t,e,n){var r=JSON.stringify(e),o=e._events;if("function"==typeof navigator.sendBeacon&&o&&1===o.length&&o[0].hasOwnProperty("_app_end")){r=a.default.encode(u.default.encode(JSON.stringify(e)));var s=new Blob([r],{type:"application/x-www-form-urlencoded"}),c=navigator.sendBeacon(t,s);n&&n(c)}else{r=i.default.aesEncrypt("ZctYg7JjXcPySXxw",r);var f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),l=!1;f.open("post",t),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.setRequestHeader("dw-protocol","1.0"),f.send(r),f.onreadystatechange=function(){var t=f.status>=200&&f.status<=207;4===f.readyState&&t?(i.default.printLog("event upload success, request body is: "+JSON.stringify(e)),n&&n(!0)):4!==f.readyState||t||0===f.status||l||(l=!0,n&&n(!1))},f.onerror=function(){l||(l=!0,n&&n(!1))};try{f.timeout=this.TIMEOUT_LITMIT,f.timeout=function(){l||(l=!0,n&&n(!1))}}catch(t){}}}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(9)),i=a(n(4)),o=n(3),s=a(n(23));function a(t){return t&&t.__esModule?t:{default:t}}var u=new function(){r.default.init()};u.onEvent=function(t,e){return(e?s.default.validateOnEvent(t,e):s.default.validateOnEvent(t))&&i.default.onInnerEvent(t,e),this},u.sendPageView=function(){return(0,o.getAllConfig)().customPV&&i.default.pageView(),this},u.setCustomPV=function(t){return s.default.validateBoolean(t,"dw.setCustomPV(bool)")&&(0,o.setOneConfig)("customPV",t),this},u.setDefualtEvents=function(t){return s.default.validateBoolean(t,"dw.setDefualtEvents(bool)")&&(0,o.setOneConfig)("defaultEvents",t),this},u.setAccountId=function(t){return void 0===t&&(t=""),(0,o.setOneConfig)("accountId",String(t)),this},u.setDeviceKey=function(t){return s.default.validateDeviceId(t)&&(0,o.setOneConfig)("deviceId",String(t)),this},u.setAppKey=function(t){return s.default.validateString(t,"dw.setAppkey(appkey)")&&t&&(0,o.setOneConfig)("appKey",t),this},u.setChannel=function(t){return s.default.validateString(t,"dw.setChannel(channel)")&&t&&(0,o.setOneConfig)("channel",t),this},u.setVersion=function(t){return s.default.validateString(t,"dw.setVersion(version)")&&t&&(0,o.setOneConfig)("version",t),this},u.setDebug=function(t){return s.default.validateBoolean(t,"dw.setDebug(debug)")&&(0,o.setOneConfig)("dbg",t),this},u.setCustomPublicAttrs=function(t,e){if("string"==typeof t&&t){var n=(0,o.getAllConfig)().customPublicAttrs;n[t]=e,(0,o.setOneConfig)("customPublicAttrs",n)}else void 0===e&&"[object Object]"===Object.prototype.toString.call(t)&&(0,o.setOneConfig)("customPublicAttrs",t);return this},window._dw=u,window.dw=window._dw,e.default=u},function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},o=l(r(2)),s=l(r(7)),a=l(r(4)),u=l(r(1)),c=r(22),f=r(3);function l(t){return t&&t.__esModule?t:{default:t}}var h={DYNAMIC_REQUEST_URL:"https://dw-online.ksosoft.com",RETRY_APPKEY_COUNT:0,RETRY_REQDYC_COUNT:0,REDIRCT_COUNT:0,init:function(){this._handleDefaultEvents(!0);var t=u.default.getDynamicData();if(t)try{t=JSON.parse(t);var e=new Date(t.serverTime),n=new Date(e.getFullYear()+"."+(e.getMonth()+1)+"."+(e.getDate()+1)).getTime(),r=o.default.getChinaDate().getTime();if(!(0,f.getAllConfig)().dbg&&r<=n)return void this._handleDynamicRes(null,t,!0)}catch(t){}this._reqDynamic()},_reqDynamic:function(){var t=this,e=o.default.getAppKey();if(!e&&this.RETRY_APPKEY_COUNT<60)return this.RETRY_APPKEY_COUNT++,void setTimeout(function(){t._reqDynamic()},500);if(this.RETRY_APPKEY_COUNT>=60);else{if(this.RETRY_REQDYC_COUNT>=10||this.REDIRCT_COUNT>=10)return void u.default.rm(u.default.DYNAMIC_DATA_NAME);var n=u.default.getDynamicData();n&&(n=JSON.parse(n))&&n.dynamicUrl&&(this.DYNAMIC_REQUEST_URL=n.dynamicUrl);var r=this._getReqBody(),i=this.DYNAMIC_REQUEST_URL+"/api/dynamicParam/v1/app/"+e;(0,c.jsonp)(i,{data:r,timeout:3e3},function(e,n){t._handleDynamicRes(e,n)})}},_getReqBody:function(){return{appVersion:o.default.getVersion(),channel:o.default.getChannel(),countryCode:"CN",brand:o.default.getBrowser(),model:o.default.getModel(),os:o.default.getClientOs(),osVersion:"",netType:"wifi",gid:o.default.getDeviceKey(),carrier:"",point:"",abTestVersion:0,sendUrlVersion:0,transportControlVersion:0,eventsVersion:0,abTestName:"",abTestGroupId:""}},_handleDynamicRes:function(t,e,n){if(t||!e)return this.RETRY_REQDYC_COUNT++,void this._reqDynamic();if("object"===(void 0===e?"undefined":i(e))&&1===Object.keys(e).length)return this.REDIRCT_COUNT++,u.default.saveDynamicData(e),void this._reqDynamic();var r=e.sendUrls,o=e.events,c=e.abTestTag,f=e.serverTime,l=e.uploadStrategy;u.default.saveDynamicData(e),r&&(s.default.SEND_EVENT_URL=r.urls||"(https://dw-collect.ksosoft.com)",s.default.SEND_EVENT_DEBUG_URL=r.debugUrls||"(http://dw-collect-debug.ksord.com)"),f&&!n&&u.default.saveServerLocalTimeSub(f);var h={_page_view:["title","url","refer"]};if(o.data){var d=[],p={};o.data.forEach(function(t){var e=t.name;!0!==t.disable&&"true"!==t.disable||d.push(e),t.encryptAttrs&&t.encryptAttrs.length&&(h[e]=t.encryptAttrs),t.sendUrls&&(p[e]=t.sendUrls)}),a.default.DISABLE_EVENTS=d,a.default.SELF_URL_EVENTS=p}a.default.ENCRYPT_EVENTS=h,c&&(a.default.ABTEST_NAME=c.name||"",a.default.ABTEST_GROUP_ID=c.groupId||""),l&&l.transportControl&&l.transportControl.splitSize&&(a.default.SPLITSIZE=l.transportControl.splitSize),a.default.failEvents(),a.default.waitEvents()},_handleDefaultEvents:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];setTimeout(function(){var e=(0,f.getAllConfig)();e.defaultEvents&&(a.default.appStart(t),e.customPV||a.default.pageView(t),a.default.registerAppEnd())},0)}};n.default=h},function(t,e,n){t.exports=function(t){return function(){var e=t,n=e.lib.BlockCipher,r=e.algo,i=[],o=[],s=[],a=[],u=[],c=[],f=[],l=[],h=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var v=t[n],g=t[v],_=t[g],y=257*t[p]^16843008*p;s[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,u[n]=y<<8|y>>>24,c[n]=y,y=16843009*_^65537*g^257*v^16843008*n,f[p]=y<<24|y>>>8,l[p]=y<<16|y>>>16,h[p]=y<<8|y>>>24,d[p]=y,n?(n=v^t[t[t[_^v]]],r^=t[t[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<r;s++)if(s<n)o[s]=e[s];else{var a=o[s-1];s%n?n>6&&s%n==4&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=p[s/n|0]<<24),o[s]=o[s-n]^a}for(var u=this._invKeySchedule=[],c=0;c<r;c++)s=r-c,a=c%4?o[s]:o[s-4],u[c]=c<4||s<=4?a:f[i[a>>>24]]^l[i[a>>>16&255]]^h[i[a>>>8&255]]^d[i[255&a]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,u,c,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,f,l,h,d,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,s,a){for(var u=this._nRounds,c=t[e]^n[0],f=t[e+1]^n[1],l=t[e+2]^n[2],h=t[e+3]^n[3],d=4,p=1;p<u;p++){var v=r[c>>>24]^i[f>>>16&255]^o[l>>>8&255]^s[255&h]^n[d++],g=r[f>>>24]^i[l>>>16&255]^o[h>>>8&255]^s[255&c]^n[d++],_=r[l>>>24]^i[h>>>16&255]^o[c>>>8&255]^s[255&f]^n[d++],y=r[h>>>24]^i[c>>>16&255]^o[f>>>8&255]^s[255&l]^n[d++];c=v,f=g,l=_,h=y}v=(a[c>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^n[d++],g=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^n[d++],_=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&f])^n[d++],y=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^n[d++],t[e]=v,t[e+1]=g,t[e+2]=_,t[e+3]=y},keySize:8});e.AES=n._createHelper(v)}(),t.AES}(n(0),n(11),n(12),n(5),n(6))},function(t,e,n){t.exports=function(t){return n=(e=t).lib.WordArray,e.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return function(t,e,r){for(var i=[],o=0,s=0;s<e;s++)if(s%4){var a=r[t.charCodeAt(s-1)]<<s%4*2,u=r[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|u)<<24-o%4*8,o++}return n.create(i,o)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t.enc.Base64;var e,n}(n(0))},function(t,e,n){t.exports=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=t[e+0],u=t[e+1],d=t[e+2],p=t[e+3],v=t[e+4],g=t[e+5],_=t[e+6],y=t[e+7],m=t[e+8],E=t[e+9],S=t[e+10],A=t[e+11],b=t[e+12],D=t[e+13],w=t[e+14],T=t[e+15],C=o[0],B=o[1],M=o[2],O=o[3];B=h(B=h(B=h(B=h(B=l(B=l(B=l(B=l(B=f(B=f(B=f(B=f(B=c(B=c(B=c(B=c(B,M=c(M,O=c(O,C=c(C,B,M,O,s,7,a[0]),B,M,u,12,a[1]),C,B,d,17,a[2]),O,C,p,22,a[3]),M=c(M,O=c(O,C=c(C,B,M,O,v,7,a[4]),B,M,g,12,a[5]),C,B,_,17,a[6]),O,C,y,22,a[7]),M=c(M,O=c(O,C=c(C,B,M,O,m,7,a[8]),B,M,E,12,a[9]),C,B,S,17,a[10]),O,C,A,22,a[11]),M=c(M,O=c(O,C=c(C,B,M,O,b,7,a[12]),B,M,D,12,a[13]),C,B,w,17,a[14]),O,C,T,22,a[15]),M=f(M,O=f(O,C=f(C,B,M,O,u,5,a[16]),B,M,_,9,a[17]),C,B,A,14,a[18]),O,C,s,20,a[19]),M=f(M,O=f(O,C=f(C,B,M,O,g,5,a[20]),B,M,S,9,a[21]),C,B,T,14,a[22]),O,C,v,20,a[23]),M=f(M,O=f(O,C=f(C,B,M,O,E,5,a[24]),B,M,w,9,a[25]),C,B,p,14,a[26]),O,C,m,20,a[27]),M=f(M,O=f(O,C=f(C,B,M,O,D,5,a[28]),B,M,d,9,a[29]),C,B,y,14,a[30]),O,C,b,20,a[31]),M=l(M,O=l(O,C=l(C,B,M,O,g,4,a[32]),B,M,m,11,a[33]),C,B,A,16,a[34]),O,C,w,23,a[35]),M=l(M,O=l(O,C=l(C,B,M,O,u,4,a[36]),B,M,v,11,a[37]),C,B,y,16,a[38]),O,C,S,23,a[39]),M=l(M,O=l(O,C=l(C,B,M,O,D,4,a[40]),B,M,s,11,a[41]),C,B,p,16,a[42]),O,C,_,23,a[43]),M=l(M,O=l(O,C=l(C,B,M,O,E,4,a[44]),B,M,b,11,a[45]),C,B,T,16,a[46]),O,C,d,23,a[47]),M=h(M,O=h(O,C=h(C,B,M,O,s,6,a[48]),B,M,y,10,a[49]),C,B,w,15,a[50]),O,C,g,21,a[51]),M=h(M,O=h(O,C=h(C,B,M,O,b,6,a[52]),B,M,p,10,a[53]),C,B,S,15,a[54]),O,C,u,21,a[55]),M=h(M,O=h(O,C=h(C,B,M,O,m,6,a[56]),B,M,T,10,a[57]),C,B,_,15,a[58]),O,C,D,21,a[59]),M=h(M,O=h(O,C=h(C,B,M,O,v,6,a[60]),B,M,A,10,a[61]),C,B,d,15,a[62]),O,C,E,21,a[63]),o[0]=o[0]+C|0,o[1]=o[1]+B|0,o[2]=o[2]+M|0,o[3]=o[3]+O|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,u=a.words,c=0;c<4;c++){var f=u[c];u[c]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return a},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+i+s;return(a<<o|a>>>32-o)+e}function f(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+i+s;return(a<<o|a>>>32-o)+e}function l(t,e,n,r,i,o,s){var a=t+(e^n^r)+i+s;return(a<<o|a>>>32-o)+e}function h(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+i+s;return(a<<o|a>>>32-o)+e}n.MD5=o._createHelper(u),n.HmacMD5=o._createHmacHelper(u)}(Math),t.MD5}(n(0))},function(t,e,n){t.exports=function(t){return n=(e=t).lib,r=n.WordArray,i=n.Hasher,o=[],s=e.algo.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],u=n[4],c=0;c<80;c++){if(c<16)o[c]=0|t[e+c];else{var f=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=f<<1|f>>>31}var l=(r<<5|r>>>27)+u+o[c];l+=c<20?1518500249+(i&s|~i&a):c<40?1859775393+(i^s^a):c<60?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,u=a,a=s,s=i<<30|i>>>2,i=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s),t.SHA1;var e,n,r,i,o,s}(n(0))},function(t,e,n){t.exports=function(t){var e,n,r;n=(e=t).lib.Base,r=e.enc.Utf8,e.algo.HMAC=n.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),s=this._iKey=e.clone(),a=o.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}(n(0))},function(t,e,n){t.exports=n(0).enc.Utf8},function(t,e,n){t.exports=function(t){return t.pad.Pkcs7}(n(0),n(6))},function(t,e,n){"use strict";var r;function i(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function o(){return new i(null)}Object.defineProperty(e,"__esModule",{value:!0}),"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=function(t,e,n,r,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this[t],c=this[t++]>>15,f=a*u+c*s;i=((u=s*u+((32767&f)<<15)+n[r]+(1073741823&i))>>>30)+(f>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},r=30):"Netscape"!=navigator.appName?(i.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},r=26):(i.prototype.am=function(t,e,n,r,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this[t],c=this[t++]>>14,f=a*u+c*s;i=((u=s*u+((16383&f)<<14)+n[r]+i)>>28)+(f>>14)+a*c,n[r++]=268435455&u}return i},r=28),i.prototype.DB=r,i.prototype.DM=(1<<r)-1,i.prototype.DV=1<<r,i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-r,i.prototype.F2=2*r-52;var s,a,u="0123456789abcdefghijklmnopqrstuvwxyz",c=new Array;for(s="0".charCodeAt(0),a=0;a<=9;++a)c[s++]=a;for(s="a".charCodeAt(0),a=10;a<36;++a)c[s++]=a;for(s="A".charCodeAt(0),a=10;a<36;++a)c[s++]=a;function f(t){return u.charAt(t)}function l(t,e){var n=c[t.charCodeAt(e)];return null==n?-1:n}function h(t){var e=o();return e.fromInt(t),e}function d(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function p(t){this.m=t}function v(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function g(){this.i=0,this.j=0,this.S=new Array}p.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},p.prototype.revert=function(t){return t},p.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},p.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},p.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},v.prototype.convert=function(t){var e=o();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(i.ZERO)>0&&this.m.subTo(e,e),e},v.prototype.revert=function(t){var e=o();return t.copyTo(e),this.reduce(e),e},v.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},v.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},v.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},i.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},i.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},i.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,o=!1,s=0;--r>=0;){var a=8==n?255&t[r]:l(t,r);a<0?"-"==t.charAt(r)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&i.ZERO.subTo(this,this)},i.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},i.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},i.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},i.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},i.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},i.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},i.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),o=n.t;for(e.t=o+r.t;--o>=0;)e[o]=0;for(o=0;o<r.t;++o)e[o+n.t]=n.am(0,r[o],e,o,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&i.ZERO.subTo(e,e)},i.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},i.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var s=this.abs();if(s.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=o());var a=o(),u=this.s,c=t.s,f=this.DB-d(r[r.t-1]);f>0?(r.lShiftTo(f,a),s.lShiftTo(f,n)):(r.copyTo(a),s.copyTo(n));var l=a.t,h=a[l-1];if(0!=h){var p=h*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),v=this.FV/p,g=(1<<this.F1)/p,_=1<<this.F2,y=n.t,m=y-l,E=null==e?o():e;for(a.dlShiftTo(m,E),n.compareTo(E)>=0&&(n[n.t++]=1,n.subTo(E,n)),i.ONE.dlShiftTo(l,E),E.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--m>=0;){var S=n[--y]==h?this.DM:Math.floor(n[y]*v+(n[y-1]+_)*g);if((n[y]+=a.am(0,S,n,m,0,l))<S)for(a.dlShiftTo(m,E),n.subTo(E,n);n[y]<--S;)n.subTo(E,n)}null!=e&&(n.drShiftTo(l,e),u!=c&&i.ZERO.subTo(e,e)),n.t=l,n.clamp(),f>0&&n.rShiftTo(f,n),u<0&&i.ZERO.subTo(n,n)}}},i.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},i.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},i.prototype.exp=function(t,e){if(t>4294967295||t<1)return i.ONE;var n=o(),r=o(),s=e.convert(this),a=d(t)-1;for(s.copyTo(n);--a>=0;)if(e.sqrTo(n,r),(t&1<<a)>0)e.mulTo(r,s,n);else{var u=n;n=r,r=u}return e.revert(n)},i.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=f(n));s>=0;)a<e?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=f(n));return i?o:"0"},i.prototype.negate=function(){var t=o();return i.ZERO.subTo(this,t),t},i.prototype.abs=function(){return this.s<0?this.negate():this},i.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},i.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+d(this[this.t-1]^this.s&this.DM)},i.prototype.mod=function(t){var e=o();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(i.ZERO)>0&&t.subTo(e,e),e},i.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new p(e):new v(e),this.exp(t,n)},i.ZERO=h(0),i.ONE=h(1),g.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},g.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var _,y,m,E=256;function S(){var t;t=(new Date).getTime(),y[m++]^=255&t,y[m++]^=t>>8&255,y[m++]^=t>>16&255,y[m++]^=t>>24&255,m>=E&&(m-=E)}if(null==y){var A;if(y=new Array,m=0,window.crypto&&window.crypto.getRandomValues){var b=new Uint8Array(32);for(window.crypto.getRandomValues(b),A=0;A<32;++A)y[m++]=b[A]}if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto&&window.crypto.random){var D=window.crypto.random(32);for(A=0;A<D.length;++A)y[m++]=255&D.charCodeAt(A)}for(;m<E;)A=Math.floor(65536*Math.random()),y[m++]=A>>>8,y[m++]=255&A;m=0,S()}function w(){if(null==_){for(S(),(_=new g).init(y),m=0;m<y.length;++m)y[m]=0;m=0}return _.next()}function T(){}function C(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}T.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=w()},C.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},C.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=function(t,e){return new i(t,16)}(t),this.e=parseInt(e,16)):alert("Invalid RSA public key")},C.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var n=new Array,r=t.length-1;r>=0&&e>0;){var o=t.charCodeAt(r--);o<128?n[--e]=o:o>127&&o<2048?(n[--e]=63&o|128,n[--e]=o>>6|192):(n[--e]=63&o|128,n[--e]=o>>6&63|128,n[--e]=o>>12|224)}n[--e]=0;for(var s=new T,a=new Array;e>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--e]=a[0]}return n[--e]=2,n[--e]=0,new i(n)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r};var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.default=C,e.hex2b64=function(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=B.charAt(n>>6)+B.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=B.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=B.charAt(n>>2)+B.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r},e.linebrk=function(t,e){for(var n="",r=0;r+e<t.length;)n+=t.substring(r,r+e),r+=e;return n+t.substring(r,t.length)}},function(t,n,r){(function(t,i){var o;!function(s){e(n);var a=("object"==e(t)&&t&&t.exports,"object"==e(i)&&i);a.global!==a&&a.window;var u=function(t){this.message=t};(u.prototype=new Error).name="InvalidCharacterError";var c=function(t){throw new u(t)},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,h={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,i,o=t.length%3,s="",a=-1,u=t.length-o;++a<u;)e=t.charCodeAt(a)<<16,n=t.charCodeAt(++a)<<8,r=t.charCodeAt(++a),s+=f.charAt((i=e+n+r)>>18&63)+f.charAt(i>>12&63)+f.charAt(i>>6&63)+f.charAt(63&i);return 2==o?(e=t.charCodeAt(a)<<8,n=t.charCodeAt(++a),s+=f.charAt((i=e+n)>>10)+f.charAt(i>>4&63)+f.charAt(i<<2&63)+"="):1==o&&(i=t.charCodeAt(a),s+=f.charAt(i>>2)+f.charAt(i<<4&63)+"=="),s},decode:function(t){var e=(t=String(t).replace(l,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,i=0,o="",s=-1;++s<e;)r=f.indexOf(t.charAt(s)),n=i%4?64*n+r:r,i++%4&&(o+=String.fromCharCode(255&n>>(-2*i&6)));return o},version:"0.1.0"};void 0===(o=function(){return h}.call(n,r,n,t))||(t.exports=o)}()}).call(this,r(19)(t),r(20))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==("undefined"==typeof window?"undefined":e(window))&&(r=window)}t.exports=r},function(t,e,n){!function(t){var e,n,r,i=String.fromCharCode;function o(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function s(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function a(t,e){return i(t>>e&63|128)}function u(t){if(0==(4294967168&t))return i(t);var e="";return 0==(4294965248&t)?e=i(t>>6&31|192):0==(4294901760&t)?(s(t),e=i(t>>12&15|224),e+=a(t,6)):0==(4292870144&t)&&(e=i(t>>18&7|240),e+=a(t,12),e+=a(t,6)),e+i(63&t|128)}function c(){if(r>=n)throw Error("Invalid byte index");var t=255&e[r];if(r++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function f(){var t,i;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(t=255&e[r],r++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|c())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|c()<<6|c())>=2048)return s(i),i;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|c()<<12|c()<<6|c())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}t.version="3.0.0",t.encode=function(t){for(var e=o(t),n=e.length,r=-1,i="";++r<n;)i+=u(e[r]);return i},t.decode=function(t){e=o(t),n=e.length,r=0;for(var s,a=[];!1!==(s=f());)a.push(s);return function(t){for(var e,n=t.length,r=-1,o="";++r<n;)(e=t[r])>65535&&(o+=i((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=i(e);return o}(a)}}(e)},function(t,e,n){"use strict";function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.jsonp=function(t,e,n){var i=Math.random().toString().replace(".",""),o="__onDWGetData__"+i,s="&jsonpCallback=__onDWGetData__"+i;t+="?"+(function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}(e.data)+s);var a=null!=e.timeout?e.timeout:6e4,u=document.head,c=void 0,f=void 0;function l(){c.parentNode&&c.parentNode.removeChild(c),window[o]=r,f&&clearTimeout(f)}return a&&(f=setTimeout(function(){l(),n&&n(new Error("ReqDynamic params Timeout"))},a)),window[o]=function(t){l(),n&&n(null,t)},(c=document.createElement("script")).src=t,u.parentNode.insertBefore(c,u),function(){window[o]&&l()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={validateString:function(t,e){var n=!0;return"string"!=typeof t&&(n=!1),n},validateBoolean:function(t,e){var n=!0;return"boolean"!=typeof t&&(n=!1),n},validateOnEvent:function(t,e){return 1===arguments.length&&"string"==typeof t||2==arguments.length&&"string"==typeof t&&"[object object]"===Object.prototype.toString.call(e).toLowerCase()},validateDeviceId:function(t){var e=!0;return"string"!=typeof t&&"number"!=typeof t&&(e=!1),e}};e.default=r}])});
},{}],"OuMU":[function(require,module,exports) {
var define;
var e;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r,n){"object"==("undefined"==typeof exports?"undefined":t(exports))&&"undefined"!=typeof module?module.exports=n(require("./dw/dw-min.js")):"function"==typeof e&&e.amd?e(["../../mindmap/js/dw/dw-min.js"],n):(r=r||self).JIMO=n(r.dw)}(this,function(e){"use strict";function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){return e(t={exports:{}},t.exports),t.exports}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var o=n(function(e){var r=function(e){var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r,n){var o,i,a,c,s=Object.create((t&&t.prototype instanceof b?t:b).prototype),u=new T(n||[]);return s._invoke=(o=e,i=r,a=u,c=l,function(e,t){if(c===d)throw Error("Generator is already running");if(c===h){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){var n=x(r,a);if(n){if(n===y)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(c===l)throw c=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c=d;var s=p(o,i,a);if("normal"===s.type){if(c=a.done?h:f,s.arg===y)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(c=h,a.method="throw",a.arg=s.arg)}}),s}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l="suspendedStart",f="suspendedYield",d="executing",h="completed",y={};function b(){}function m(){}function g(){}var v={};v[a]=function(){return this};var O=Object.getPrototypeOf,w=O&&O(O(A([])));w&&w!==n&&o.call(w,a)&&(v=w);var _=g.prototype=b.prototype=Object.create(v);function j(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function P(e){var r;this._invoke=function(n,i){function a(){return new Promise(function(r,a){!function r(n,i,a,c){var s=p(e[n],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==t(l)&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(e){r("next",e,a,c)},function(e){r("throw",e,a,c)}):Promise.resolve(l).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,c)})}c(s.arg)}(n,i,r,a)})}return r=r?r.then(a,a):a()}}function x(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,x(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,y;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,y):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:r,done:!0}}return m.prototype=_.constructor=g,g.constructor=m,g[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},j(P.prototype),P.prototype[c]=function(){return this},e.AsyncIterator=P,e.async=function(t,r,n,o){var i=new P(u(t,r,n,o));return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},j(_),_[s]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!e)for(var t in this)"t"==t[0]&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return c.type="throw",c.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var i=this.tryEntries.length-1;0<=i;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}!i||"break"!==e&&"continue"!==e||t<i.tryLoc||i.finallyLoc<t||(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),y}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}});function i(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function c(e){i(a,n,o,c,s,"next",e)}function s(e){i(a,n,o,c,s,"throw",e)}c(void 0)})}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(e[t]);return r});var p,l,f=n(function(e,t){!function(e){var t={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function s(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:t.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:t.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():t.arrayBuffer&&t.blob&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=l(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=u(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=o(e),t=i(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[o(e)]},c.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},c.prototype.set=function(e,t){this.map[o(e)]=i(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),a(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),a(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function h(e,t){var r=(t=t||{}).body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=function(e){var t=e.toUpperCase();return d.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function b(e){var t=new c;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}function m(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},f.call(h.prototype),f.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];m.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.DOMException=self.DOMException;try{new e.DOMException}catch(a){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function v(r,n){return new Promise(function(o,i){var a=new h(r,n);if(a.signal&&a.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function s(){c.abort()}c.onload=function(){var e={status:c.status,statusText:c.statusText,headers:b(c.getAllResponseHeaders()||"")};e.url="responseURL"in c?c.responseURL:e.headers.get("X-Request-URL");var t="response"in c?c.response:c.responseText;o(new m(t,e))},c.onerror=function(){i(new TypeError("Network request failed"))},c.ontimeout=function(){i(new TypeError("Network request failed"))},c.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},c.open(a.method,a.url,!0),"include"===a.credentials?c.withCredentials=!0:"omit"===a.credentials&&(c.withCredentials=!1),"responseType"in c&&t.blob&&(c.responseType="blob"),a.headers.forEach(function(e,t){c.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",s),c.onreadystatechange=function(){4===c.readyState&&a.signal.removeEventListener("abort",s)}),c.send(void 0===a._bodyInit?null:a._bodyInit)})}v.polyfill=!0,self.fetch||(self.fetch=v,self.Headers=c,self.Request=h,self.Response=m),e.Headers=c,e.Request=h,e.Response=m,e.fetch=v,Object.defineProperty(e,"__esModule",{value:!0})}(t)});function d(e){return(d="function"==typeof Symbol&&"symbol"==t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)})(e)}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function g(e,t,r){return(g=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&b(o,r.prototype),o}).apply(null,arguments)}function v(e){var t="function"==typeof Map?new Map:void 0;return(v=function(e){if(null===e||!~Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)})(e)}(p=f)&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default");var O,w,_={SMART_LAYOUT:"smartlayout",COLLAGE:"collage",CAROUSEL:"carousel",CREATIVE_CROP:"creativecrop",TEXT_TO_DIAGRAM:"texttodiagram",BEAUTI_TABLE:"beautitable",BEAUTI_VIDEO:"beautivideo"},j=(r(l={},_.SMART_LAYOUT,"图文版式"),r(l,_.COLLAGE,"图片拼图"),r(l,_.CAROUSEL,"多图轮播"),r(l,_.CREATIVE_CROP,"创意裁剪"),r(l,_.TEXT_TO_DIAGRAM,"图形表达"),r(l,_.BEAUTI_TABLE,"表格美化"),r(l,_.BEAUTI_VIDEO,"视频版式"),r({},_.CREATIVE_CROP,"easy_wpp_chuangyicaijian"));(w=O=O||{})[w.TypeError=1e4]="TypeError",w[w.ApiError=2e4]="ApiError",w[w.ApiErrorLoginError=20001]="ApiErrorLoginError",w[w.ApiErrorTimeout=20002]="ApiErrorTimeout",w[w.ApiEmptyData=20010]="ApiEmptyData";var P={genFile:!(w[w.AccessError=3e4]="AccessError"),genThumb:!1,bigThumb:{height:900,width:1600},thumbType:"jpg"},x={App_ID_Wps_Ios:"wps_ios",App_ID_Wps_Pc:"wps_pc",App_ID_Wps_Android:"wps_android",App_ID_Wps_Meihua:"wps_meihua",App_ID_Wps_IosCo:"wps_iosCo",App_ID_Wps_PcWps:"wps_pcWps",App_ID_Wps_JmPPT:"wps_jmppt"},E={personal:"personal",androidPad:"android-pad",androidPhone:"android-phone",iosPad:"ios-pad",iosPhone:"ios-phone",superPpt:"super-ppt",jmppt:"jmppt",wxapp:"wxapp",processon:"processon",docweb:"docweb",mac:"mac"},k="a9fc18de89f1ad81";function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t,n){for(var o={},i=0,a=Object.values(_);i<a.length;i++){var c=a[i];o=Object.assign(o,r({},"".concat(t).concat(c),e+"".concat(t).concat(n||"").concat(c)))}return o}function I(e,t){return"[Error Code: ".concat(e,"] ").concat(t,".")}function D(e,t){if(!e)throw new Q(t);(~t.indexOf(q)?function(e,t){if(200!==e.code)switch(e.message&&e.message.trim()||e.msg&&e.msg.trim()){case"invalid header":throw new ee;case"no_login":throw new Z;default:throw new Q(t,e.message||e.msg)}}:function(e,t){if("error"===e.result)switch(e.msg&&e.msg.trim()){case"invalid header":throw new ee;case"empty_session":case"userNotLogin":throw new Z;case"time out":throw new te(t);default:throw new Q(t,e.msg)}})(e,t)}function L(e){var t="";for(var r in e)void 0!==e[r]&&(t+="".concat(0<t.length?"&":"?").concat(r,"=").concat(e[r]));return t}function R(){}function C(e){return new Promise(function(t){e.addEventListener("open",function(){t()})})}var F,U="svc.modou.wps.cn",N="https://".concat(U,"/service/"),B="https://".concat(U,"/easy/wppv3/"),q="https://".concat(U,"/ppt/"),M="https://".concat(U,"/multibeautify/"),K=A({recognize:N+"task/structurerecognise_v2",applyCreativeCrop:N+"task/jssdkcreativecrop"},S(N+"task/","apply")),V=A({featureList:B+"fetch/narrrcmd",getDownloadUrl:B+"jssdk/download",matchfeatures:B+"match/features"},S(B,"match","/")),J={getList:q+"jmppt/document/channel/list",getDetail:q+"jmppt/document/channel/detail"},G={outlineWss:"wss://svc.modou.wps.cn/ppt/ws/outline",getToken:q+"ws/token",outline:q+"outline/convert",processon:q+"processon/convert",exportDoc:q+"outline/export",changeStyle:q+"outline/apply_theme_or_color",convertMatch:q+"feature/match",convertMatchApply:q+"feature/apply"},W={start:M+"multibeautify/task/init",stop:M+"multibeautify/task",ws:"wss://".concat(U,"/multibeautify/ws/multibeautify/")},z={getTags:"https://api.md.wpscdn.cn/easy/wppv3/fetch/startuprec",getList:B+"feature/stylembs"},H="__WPS_JIMO_SDK_TAG_LIST",Y=function(){function e(t){var r,n;c(this,e);for(var o=arguments.length,i=Array(1<o?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return(n=h(this,(r=y(e)).call.apply(r,[this].concat(i)))).time=new Date,n.code=t&&t.code,n}return m(e,v(Error)),e}(),X=function(){function e(t){return c(this,e),h(this,y(e).call(this,{code:O.TypeError},I(O.TypeError,"".concat(t," is required"))))}return m(e,Y),e}(),$=function(){function e(t,r){return c(this,e),h(this,y(e).call(this,{code:O.TypeError},I(O.TypeError,"".concat(t," is must one of [").concat(r.join(","),"]"))))}return m(e,Y),e}(),Q=function(){function e(t,r){return c(this,e),h(this,y(e).call(this,{code:O.ApiError},I(O.ApiError,"".concat(t," request failed: ").concat(r))))}return m(e,Y),e}(),Z=function(){function e(){return c(this,e),h(this,y(e).call(this,{code:O.ApiErrorLoginError},I(O.ApiErrorLoginError,"No login")))}return m(e,Y),e}(),ee=function(){function e(){return c(this,e),h(this,y(e).call(this,{code:O.AccessError},I(O.AccessError,"Access Error, please check Access Key and your domain")))}return m(e,Y),e}(),te=function(){function e(t){return c(this,e),h(this,y(e).call(this,{code:O.ApiErrorTimeout},I(O.ApiErrorTimeout,"".concat(t," time out"))))}return m(e,Y),e}(),re=function(){function e(){return c(this,e),h(this,y(e).call(this,{code:O.ApiEmptyData},I(O.ApiEmptyData,"Empty data")))}return m(e,Y),e}(),ne=function(){function e(){c(this,e)}return u(e,null,[{key:"required",value:function(e){for(var t in e)if(null==e[t]||""===e[t])throw new X(t)}},{key:"requiredLeastOne",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){for(var a=o.value,c=Object.keys(a),s=Object.values(a),u=!0,p=0,l=s;p<l.length;p++){var f=l[p];null!=f&&""!==f&&(u=!1)}if(u)throw new X(c.join("/"))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"oneOf",value:function(e,t){if(!~t.indexOf(e))throw new $(e,t)}}]),e}(),oe=[],ie=!!window.WebSocket;function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function se(){return F.httpRequestMethod?F.httpRequestMethod:fetch}function ue(e,t,r,n){var i=3<arguments.length&&void 0!==n&&n;return se()(e,{method:"POST",mode:"cors",credentials:r&&r.credentials,headers:Object.assign(ce({"Content-Type":"application/json","Jm-Client-AK":F.accessKey,"Jm-Client-Type":F.source,"Jm-Client-Version":F.clientVersion},F.entrance?{"Jm-Client-Entrance":F.entrance}:{},{},F.clientOrigin?{"Jm-Client-Origin":F.clientOrigin}:{}),r&&r.headers||{}),body:JSON.stringify(Object.assign({},t))}).then(function(){var t=a(o.mark(function t(r){var n;return o.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!F.httpRequestMethod){t.next=4;break}t.t0=r,t.next=7;break;case 4:return t.next=6,r.json();case 6:t.t0=t.sent;case 7:return n=t.t0,i||D(n,e),t.abrupt("return",n);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}function pe(e,t,r){return se()(e+L(t),{method:r&&r.method||"GET",mode:"cors",headers:Object.assign(ce({"Jm-Client-AK":F.accessKey,"Jm-Client-Type":F.source,"Jm-Client-Version":F.clientVersion},F.entrance?{"Jm-Client-Entrance":F.entrance}:{},{},F.clientOrigin?{"Jm-Client-Origin":F.clientOrigin}:{}),r&&r.headers||{}),credentials:r&&r.credentials}).then(function(){var t=a(o.mark(function t(r){var n;return o.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!F.httpRequestMethod){t.next=4;break}t.t0=r,t.next=7;break;case 4:return t.next=6,r.json();case 6:t.t0=t.sent;case 7:return D(n=t.t0,e),t.abrupt("return",n);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function he(e){return function(t){return ue(V["match".concat(e)],de({},t,{protocolVersion:"1.0"}))}}function ye(e){var t={fid:e.fid,page_cnt:e.pageCnt};for(var r in t)e.hasOwnProperty(r)&&delete e[r];var n="&jm_client_ak=".concat(F.accessKey);return"".concat(W.start).concat(L(t)).concat(n)}var be,me=!1,ge=function(){var e=a(o.mark(function e(t){var r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(ye(t),de({},t),{credentials:"include"});case 2:if((r=e.sent)&&"ok"===r.result)return e.abrupt("return",r.task_id);e.next=7;break;case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=a(o.mark(function e(t){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(W.stop,{id:t},{credentials:"include",method:"DELETE"});case 2:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=a(o.mark(function e(t,r){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(me){e.next=10;break}return e.next=3,pe("https://svc.modou.wps.cn/token",{},{credentials:"include"});case 3:return n=e.sent,be=new WebSocket((i=n.data&&n.data.token,"".concat(W.ws).concat(i,"?gateway_token=").concat(i,"&jm_client_ak=").concat(F.accessKey))),me=!0,be.addEventListener("close",function(){me=!1}),e.next=10,C(be);case 10:be.send(JSON.stringify({task:"multibeautify",task_id:t.taskId,slide_index:t.slideIndex})),be.onmessage=function(){var e=a(o.mark(function e(t){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Response(t.data).text();case 2:r(JSON.parse(void 0));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();case 12:case"end":return e.stop()}var i},e)}));return function(t,r){return e.apply(this,arguments)}}();function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function je(e){return function(t){return ue(K["apply".concat(e)],{task:"apply".concat(e),data:_e({},t)},{credentials:"include"})}}function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Te(e,t){Ae.onerror=function(){Ae.close(),e({type:"error",data:"other error"})},Ae.onmessage=function(r){var n=JSON.parse(r&&r.data||"{}");n.task_id==t&&("no_login"===n.type&&(Ae.close(),e({type:"error",data:ke({errorType:n.type},n.data),msg:n.message})),"outline_convert_num"!==n.type&&"outline_thumb"!==n.type&&"outline_doc"!==n.type||e(200!==n.code?{type:"error",data:ke({errorType:n.type},n.data),msg:n.message}:{type:n.type,data:n.data}))}}var Ae,Se,Ie,De,Le=!1,Re=function(){var e=a(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Le){e.next=11;break}return e.next=3,pe(G.getToken,{},{credentials:"include"});case 3:return Se=(t=e.sent).data&&t.data.token,Ie=t.data&&t.data.type,Ae=new WebSocket((r=Se,"".concat(G.outlineWss,"?token=").concat(r,"&jm_client_ak=").concat(F.accessKey))),Le=!0,Ae.addEventListener("close",function(){Le=!1}),e.next=11,C(Ae);case 11:case"end":return e.stop()}var r},e)}));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=a(o.mark(function e(t,r){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re();case 2:n=setTimeout(R)+"",Ae.send(JSON.stringify({type:"outline_convert",task_id:n,data:ke({},t)})),Te(r,n);case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),Fe=function(){var e=a(o.mark(function e(t,r){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(G.outline,ke({},t),{credentials:"include"},!0);case 2:r((n=e.sent)&&200===n.code?{type:"outline_all",data:n.data}:{type:"error",data:ke({errorType:n.type},n.data),msg:n.message});case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),Ue=function(){var e=a(o.mark(function e(t,r){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re();case 2:n=setTimeout(R)+"",Ae.send(JSON.stringify({type:"processon_convert",task_id:n,data:ke({},t)})),Te(r,n);case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),Ne=function(){var e=a(o.mark(function e(t,r){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(G.processon,ke({},t),{credentials:"include"},!0);case 2:r((n=e.sent)&&200===n.code?{type:"outline_all",data:n.data}:{type:"error",data:ke({errorType:n.type},n.data),msg:n.message});case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),Be=function(){var e=a(o.mark(function e(t,r){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re();case 2:n=setTimeout(R)+"",Ae.onerror=function(){Ae.close(),r({type:"error",data:"other error"})},Ae.onmessage=function(e){var t=JSON.parse(e&&e.data||"{}");t.task_id==n&&("document_export_total"!==t.type&&"document_export_current"!==t.type&&"document_export_result"!==t.type||("document_export_result"===t.type&&Ae.close(),r({type:t.type,data:t.data})))},Ae.send(JSON.stringify({type:"document_export",task_id:n,data:{doc_id:t}}));case 6:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),qe=function(){var e=a(o.mark(function e(t,r){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(G.exportDoc,{doc_id:t},{credentials:"include"},!0);case 2:r((n=e.sent)&&200===n.code?{type:"document_export_all",data:n.data}:{type:"error",data:ke({errorType:n.type},n.data),msg:n.message});case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),Me=function(){var e=a(o.mark(function e(t,r){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re();case 2:n=setTimeout(R)+"",Ae.send(JSON.stringify({type:"outline_apply_theme_or_color",task_id:n,data:ke({},t)})),Te(r,n);case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),Ke=function(){var e=a(o.mark(function e(t,r){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(G.changeStyle,ke({},t),{credentials:"include"},!0);case 2:r((n=e.sent)&&200===n.code?{type:"outline_all",data:n.data}:{type:"error",data:ke({errorType:n.type},n.data),msg:n.message});case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),Ve=0;function Je(){}function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ze(e){return ue(V.getDownloadUrl,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{protocolVersion:"1.0",appId:F.appId,clientVersion:F.clientVersion,client_type:F.appId.replace("wps_","")}),{credentials:"include"})}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Xe,$e=function(){var e=a(o.mark(function e(t){var r,n,i,a,c,s,u,p,l,f,d,h,y;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ne.required({onApplySuccess:t.onApplySuccess,page:t.page,pageNum:t.pageNum}),ne.requiredLeastOne([{userSlideObjectKey:t.userSlideObjectKey,cloudFileId:t.cloudFileId}]),r=t.page,n=t.pageNum,i=t.denyCrop,c=void 0===(a=t.aspectRatio)?"16:9":a,s=t.appId,u=t.clientVersion,p=t.preSlideType,l=t.filter,d=(f=t.recognizeData).cacheKey,h=De=setTimeout(R),y=null,(y=t.feature?he(t.feature)({page:r,pageNum:n,denyCrop:i,aspectRatio:c,appId:s,clientVersion:u,filter:l,preSlideType:p,slideInfos:f.slideInfos,aspectRatioAdapt:c}):he("features")({page:r,pageNum:n,denyCrop:i,aspectRatio:c,appId:s,clientVersion:u,filter:l,preSlideType:p,slideInfos:f.slideInfos,features:f.features||void 0,aspectRatioAdapt:c})).then(function(e){if(h===De){if(!e||"ok"!==e.result||!e.data)throw new Q("match",e.msg);!function(){var r=e.data.fetchResults;if(!Array.isArray(r)||r.length<=0)throw new re;for(var n=function(n){var o=Ye({templateInfo:r[n],recognizeDataObjectKey:d},P,{bigThumb:t.bigThumb||P.bigThumb,thumbType:t.thumbType||P.thumbType,genThumb:!0,userSlideObjectKey:t.userSlideObjectKey,cloudFileId:t.cloudFileId,slideIndex:t.cloudFileId?t.slideIndex:void 0}),i=(t.page-1)*t.pageNum+n;oe[i]=o,je(r[n].featureTypes&&r[n].featureTypes[0]||_.SMART_LAYOUT)(o).then(function(o){h===De&&(o&&"ok"===o.result&&o.data&&o.data.big_thumb_url?(r[n].real_time_thumb=o.data.big_thumb_url,t.onApplySuccess&&t.onApplySuccess({index:i,item:r[n],count:e.data.count})):t.onApplyFailed&&t.onApplyFailed({index:i,error:"".concat(o.msg,", task_id: ").concat(o.task_id),count:e.data.count}))}).catch(function(r){t.onApplyFailed&&t.onApplyFailed({index:i,error:r,count:e.data.count})})},o=0;o<r.length;o++)n(o)}()}}),e.abrupt("return",y);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Qe={init:function(e){return ne.required({fid:e.fid,page_cnt:e.pageCnt,aspectRatio:e.aspectRatio,usedStyleCatTdx:e.usedStyleCatTdx}),ge(e)},start:function(e,t){ne.required({taskId:e.taskId,slideIndex:e.slideIndex}),Oe(e,t)},stop:function(e){return ne.required({taskId:e}),ve(e)}};function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var et=function(t){try{Xe=t,e.setAppKey(k),e.setDebug(!1),e.setAccountId(t.userId||""),e.onEvent("jm_sdk_start",{source:t.source,sdkversion:"1.0.15-beta.3"})}catch(t){}},tt=function(t){try{e.setAccountId(t)}catch(t){e.setAppKey(k)}},rt=function(t,n){try{e.onEvent(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{source:Xe.source,version:Xe.clientVersion}))}catch(t){e.setAppKey(k)}};function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ot(e){return ne.required({feature:e.feature,page:e.page,pageNum:e.pageNum,aspectRatio:e.aspectRatio}),ne.oneOf(e.feature,Object.values(_)),rt("jm_sdk_tailor_featurelist",{feature:e.feature}),function(e){return ue(V.featureList,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{protocolVersion:"1.0"}))}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({content:j[e.feature],page:e.page,pageNum:e.pageNum,aspectRatio:e.aspectRatio,appId:e.appId,clientVersion:e.clientVersion},e.data||{}))}function it(e){return ue(K.applyCreativeCrop,{task:"jssdkcreativecrop",data:_e({},{creativecrop:{mbID:e.mbId,picId:e.picId},userSlideObjectKey:e.userSlideObjectKey,cloudFileId:e.cloudFileId,slideIndex:e.slideIndex,genFile:e.genFile||P.genFile,genThumb:e.genThumb||P.genThumb,bigThumb:e.bigThumb||P.bigThumb,thumbType:e.thumbType||P.thumbType})},{credentials:"include"})}var at=function(){var e=a(o.mark(function e(t,r){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze(t);case 3:n=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Q("getDownloadUrl");case 9:if(!n||"ok"!==n.result||!n.data){e.next=15;break}r.big_thumb_url&&(n.data.big_thumb_url=r.big_thumb_url),r.big_thumb_real_height&&(n.data.big_thumb_real_height=r.big_thumb_real_height),r.big_thumb_real_width&&(n.data.big_thumb_real_width=r.big_thumb_real_width),e.next=16;break;case 15:throw new Q("getDownloadUrl");case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,r){return e.apply(this,arguments)}}(),ct=function(){var e=a(o.mark(function e(t){var r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:if(!(r=e.sent)||"ok"!==r.result){e.next=11;break}if(r.data&&r.data.dl_voucher){e.next=7;break}return e.abrupt("return",Promise.reject());case 7:return e.abrupt("return",at({dlVoucher:r.data.dl_voucher},r.data));case 11:throw new Q("applyFun");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}();function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ut(e){return ne.required({page:e.page,pageNum:e.pageNum,channel:lt}),rt("jm_payhintwindow_getlist"),pe(J.getList,xe({},{offset:(e.page-1)*e.pageNum,limit:e.pageNum,channel:lt}))}function pt(e){return ne.required({id:e.id,channel:lt}),rt("jm_payhintwindow_getdetail"),pe(J.getDetail,xe({},{doc_id:e.id,channel:lt}))}var lt,ft,dt=[],ht=function(){var e=a(o.mark(function e(t){var r;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ne.required({slide_id:t.slide_id,preview:t.preview,template_info:t.template_info}),e.next=3,ue(G.convertMatchApply,ke({},t),{credentials:"include",headers:ke({},Object.assign({},"User"===Ie?{}:{"Jm-Auth-Token":Se}))});case 3:return e.abrupt("return",(r=e.sent)&&r.data);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),yt={outlineConvert:function(e,t,r){ne.required({outline:e.outline,cb:t}),rt("jm_sdk_changeintoppt_outline"),(!r&&ie?Ce:Fe)(e,t)},processonConvert:function(e,t,r){ne.required({processonData:e,cb:t}),rt("jm_sdk_changeintoppt_processon"),(!r&&ie?Ue:Ne)(e,t)},exportConvertDoc:function(e,t,r){ne.required({id:e,cb:t}),rt("jm_sdk_changeintoppt_exportdoc"),(!r&&ie?Be:qe)(e,t)},convertChangeStyle:function(e,t,r){ne.required({doc_id:e.doc_id,preview:e.preview,cb:t}),rt(e.preview?"jm_sdk_changeintoppt_changestyle":"jm_sdk_changeintoppt_changestyleapply"),(!r&&ie?Me:Ke)(e,t)},convertMatch:function(e,t){ne.required({slide_id:e.slide_id,page:e.page,page_num:e.page_num,callback:t}),rt("jm_sdk_changeintoppt_convertmatch");var r=ft=setTimeout(R);ue(G.convertMatch,ke({},e),{credentials:"include",headers:ke({},Object.assign({},"User"===Ie?{}:{"Jm-Auth-Token":Se}))}).then(function(n){if(r===ft){if(!n||200!==n.code||!n.data)throw new Q("match error");!function(){var o=n.data.fetchResults;if(!Array.isArray(o)||o.length<=0)throw new re;for(var i=function(i){var a=(e.page-1)*e.page_num+i;dt[a]={slide_id:e.slide_id,template_info:o[i]},ht({slide_id:e.slide_id,preview:!0,template_info:o[i]}).then(function(e){r===ft&&(o[i].real_time_thumb=e.big_thumb_url,t({index:a,item:o[i],count:n.data.count}))}).catch(function(e){t({index:a,error:e,count:n.data.count})})},a=0;a<o.length;a++)i(a)}()}})},convertMatchApply:function(e){return ne.required({index:e}),rt("jm_sdk_changeintoppt_convertmatchapply"),ht({preview:!1,slide_id:dt[e].slide_id,template_info:dt[e].template_info})},getConvertEditUrl:function(e){return ne.required({doc_id:e.id}),rt("jm_sdk_changeintoppt_getconvertediturl"),function(e){if(!Se)throw new X("convert operation");return"https://ppt.modou.wps.cn/ws/token/redirect?token=".concat(Se,"&doc_id=").concat(e,"&channel=").concat(F.source)}(e.id)}},bt={getTags:function(e){return t=e,new Promise(function(e,r){var n=window.localStorage.getItem(H);window.localStorage&&n?e(JSON.parse(n)):function(e,t,r){"function"==typeof t&&(r=t,t={});var n,o,i=(t=t||{}).prefix||"__jp",a=t.name||i+Ve++,c=t.param||"callback",s=null!=t.timeout?t.timeout:6e4,u=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head;function l(){n.parentNode&&n.parentNode.removeChild(n),window[a]=Je,o&&clearTimeout(o)}s&&(o=setTimeout(function(){l(),r&&r(Error("Timeout"))},s)),window[a]=function(e){l(),r&&r(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+c+"="+u(a)).replace("?&","?"),(n=document.createElement("script")).src=e,p.parentNode.insertBefore(n,p)}("".concat(z.getTags,"?position=").concat(t||"feature_style_resource_filter_pane_config","&format=jsonp"),{name:"jsonp_get_theme_tag_callback",prefix:"__jimo_sdk_jp"},function(t,n){t?~t.message.indexOf("Timeout")?r(new te("getThemeTag")):r(new Q("getThemeTag")):n&&"ok"===n.result&&n.data?(window.localStorage&&window.localStorage.setItem(H,JSON.stringify(n.data)),e(n.data)):r(new Q("getThemeTag"))})});var t},getList:function(e){return ne.required({page:e.page,pageNum:e.pageNum}),function(e){return ue(z.getList,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({appId:F.appId,aspectRatio:"16:9",aspectRatioAdapt:e.aspectRatio||"16:9",withMasterThumb:!1,withColorSchemes:!0,clientVersion:F.clientVersion,fetchSlideType:"title",protocolVersion:"1.4",topRecs:["easy_wpp_jmppt_style_top"],sort:"upload_time_desc"},e))}(e)}};function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}return function(){function e(t){c(this,e),this.checkParams(t),this.sdkParams=t,this.userSlideObjectKey="",this.cloudFileId=void 0,this.slideIndex=0,this.finishUpload=R,this.failUpload=R,this.uploadRecognizePromise=new Promise(R),this.matchApplyFinishCallback=R,this.convert=yt,this.multiBeautify=Qe,this.theme=bt,et(t)}var t,n;return u(e,[{key:"checkParams",value:function(e){ne.required({source:e.source,appId:e.appId,clientVersion:e.clientVersion,accessKey:e.accessKey}),ne.oneOf(e.source,Object.values(E)),ne.oneOf(e.appId,Object.values(x)),F=e}},{key:"setUserId",value:function(e){ne.required({userId:e}),tt(e)}},{key:"startNewUpload",value:function(){var e=this;this.uploadRecognizePromise=new Promise(function(t){var r;e.finishUpload=(r=a(o.mark(function r(n){return o.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return ne.required({slideIndex:n.slideIndex,slideCount:n.slideCount}),ne.requiredLeastOne([{userSlideObjectKey:n.userSlideObjectKey,cloudFileId:n.cloudFileId}]),e.userSlideObjectKey=n.userSlideObjectKey,e.cloudFileId=n.cloudFileId,e.slideIndex=n.slideIndex,r.next=7,e.recognize(n);case 7:t(r.sent);case 9:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)})})}},{key:"recognize",value:function(e){return function(e){return ue(K.recognize,{task:"structurerecognise",data:{slideIndex:e.slideIndex,slideCount:e.slideCount,recognize:{imageClassify:e.imageClassify||!1,features:e.features||!0,slideInfoJson:e.slideInfoJson||!1,slideInfos:e.slideInfos||!0,recognition:e.recognition||!0},userSlideObjectKey:e.userSlideObjectKey,cloudFileId:e.cloudFileId}},{credentials:"include"})}(e)}},{key:"getRecognizeData",value:(n=a(o.mark(function e(){var t;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uploadRecognizePromise;case 2:return e.abrupt("return",(t=e.sent)&&t.data);case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"match",value:(t=a(o.mark(function e(t){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRecognizeData();case 2:return e.abrupt("return",$e(gt({recognizeData:e.sent},t,{appId:t.appId||this.sdkParams.appId,clientVersion:this.sdkParams.clientVersion,userSlideObjectKey:this.userSlideObjectKey,cloudFileId:this.cloudFileId,slideIndex:this.slideIndex})));case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"featureList",value:function(e){return ot(gt({},e,{appId:e.appId||this.sdkParams.appId,clientVersion:this.sdkParams.clientVersion}))}},{key:"getMatchSlide",value:function(e){return function(e){var t=oe[e];return ct(je(t.templateInfo&&t.templateInfo.featureTypes&&t.templateInfo.featureTypes[0]||_.SMART_LAYOUT)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{genFile:!0,genThumb:!1,thumbType:void 0,bigThumb:void 0})))}(e)}},{key:"applyFeature",value:function(e){return function(e){ne.required({feature:e.feature,data:e.data}),ne.oneOf(e.feature,Object.values(_)),ne.requiredLeastOne([{userSlideObjectKey:e.data.userSlideObjectKey,cloudFileId:e.data.cloudFileId}]);var t=e.feature;switch(e.data.genFile&&rt("jm_sdk_tailor_applyfeature_genfile",{feature:e.feature}),e.data.genThumb&&rt("jm_sdk_tailor_applyfeature_genthumb",{feature:e.feature}),t){case _.CREATIVE_CROP:return e.data.genFile?ct(it(e.data)):it(e.data);default:throw Error("Unknown feature")}}(e)}},{key:"jimoppt",value:function(e){return lt=e,{getList:ut,getDetail:pt}}}]),e}()});
},{"./dw/dw-min.js":"auWY"}],"Lu3M":[function(require,module,exports) {
window.JIMO=require("../beautifysdk"),window.outlineToPptNew={options:{fileType:"ppt",source:"processon",appId:"wps_jmppt",clientVersion:"1.0.0",accessKey:"17057ceea06e45f0b5eaf5af64119a50"},docId:"",init:function(t){var e=navigator.userAgent;if(e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1)$.showTip("IE浏览器暂不支持导出PPT",3e3);else{$(".mind-downloadPPT-dlg").remove();var i=$(".mind-downloadPPT-dlg");if(0==i.length){i=$('<div class="mind-downloadPPT-dlg mind-dlg"><h3 >智能PPT美化风格</h3><div class="ppt-theme-main"><div class="ppt-theme-list"><div class="ppt-theme-header"><ul class="ppt-tag-list-container"></ul></div><div class="ppt-theme-img-box"><ul class="ppt-theme-img-list"></ul></div></div><div class="ppt-theme-preview"><div class="ppt-theme-preview-title">效果预览</div><div class="ppt-theme-preview-box"><ul class="ppt-theme-preview-list"></ul></div></div></div><div class="po-buttons" style="text-align:right"><span id="btn-download-ppt" class="po-button mind-disable primary">下载</span>&nbsp;&nbsp;</div></div>').appendTo("body")}i.dialog();var o=outlineToPptNew.getOutlineToPptData(t),n=outlineToPptNew.options,l=new JIMO(n),a=l.convert;outlineToPptNew.outlineConvert(o,a),l.theme.getTags().then(function(t){outlineToPptNew.renderPptTab(t.link.subtags[0].subtags)},function(t){}),$(".mind-downloadPPT-dlg .ppt-tag-list-container").off("click .downPPT").on("click .downPPT",function(t){if("LI"==t.target.nodeName){var e=$(t.target),i=e.index(),o=e.attr("tit"),n={};e.attr("recs").split(",");""!=o&&(n.styleTags=[o]),e.addClass("active").siblings("li").removeClass("active");var a={appId:"wps_jmppt",aspectRatio:"16:9",aspectRatioAdapt:"16:9",withMasterThumb:!1,withColorSchemes:!0,clientVersion:"1.0.0",fetchSlideType:"title",page:1,pageNum:18,protocolVersion:"1.4",filter:n,topRecs:["easy_wpp_jmppt_style_top"],sort:"upload_time_desc",usedStyleIds:[]};l.theme.getList(a).then(function(t){outlineToPptNew.renderStylembs(i,t.data.slides,o)},function(t){})}}),$(".mind-downloadPPT-dlg .ppt-theme-img-box").off("click").on("click",function(t){if("IMG"==t.target.nodeName){var e=$(t.target);if($(".mind-downloadPPT-dlg .ppt-theme-img-box li").removeClass("active"),e.parent("li").addClass("active"),e.parent("li").attr("data-stylemb")){var i=JSON.parse(e.parent("li").attr("data-stylemb"));outlineToPptNew.convertChangeStyle(i,a)}else outlineToPptNew.outlineConvert(o,a);$("#btn-download-ppt").addClass("mind-disable"),$("#btn-edit-ppt").addClass("mind-disable")}}),$(".ppt-theme-preview-list").off("click").on("click",function(t){if("IMG"==t.target.nodeName){var e=$(t.target).parent("li").index(),i=$(".ppt-theme-preview-list").html();outlineToPptNew.showThumbBigImg(e,i)}}),$("#btn-download-ppt").off("click").on("click",function(t){if(!$(this).hasClass("mind-disable")){$("#btn-download-ppt").addClass("mind-disable");var e=$(".mind-downloadPPT-dlg");a.exportConvertDoc(outlineToPptNew.docId,function(t){"document_export_result"==t.type&&($("#btn-download-ppt").removeClass("mind-disable"),location.href=t.data.file_url,window.top!==window.self&&Util.localChange({type:"closedlg",name:"dlgppt",url:t.data.file_url}),e.dialog("close"),setTimeout(function(){localStorage.removeItem("po_local_change_edit")},3e3))})}}),$("#btn-edit-ppt").off("click").on("click",function(t){var e=a.getConvertEditUrl({id:outlineToPptNew.docId});window.open(e)}),$("#btn-download-ppt-cancel").off("click").on("click",function(){$(".mind-downloadPPT-dlg").dialog("close")})}},renderPptTab:function(t){for(var e="",i="",o=0;o<t.length;o++){var n=t[o],l=n.top_rec?n.top_rec:n.top_recs.join(",");e+='<li class="'+(n.content?"":"active")+'" tit="'+n.content+'" recs = "'+l+'">'+(n.content?n.content:"全部")+"</li>",i+='<ul class="ppt-theme-img-list"></ul>',$(".ppt-theme-img-box").html(i)}$(".mind-downloadPPT-dlg .ppt-tag-list-container").html(e),$(".mind-downloadPPT-dlg .ppt-tag-list-container li").eq(0).trigger("click")},renderStylembs:function(t,e,i){var o=$(".mind-downloadPPT-dlg .ppt-theme-img-list").eq(t);if(o.children("li").length>0)o.css("display","block").html(n).siblings("ul").css("display","none");else{for(var n="",l=0;l<e.length;l++){var a=e[l],d={tid:a.tid,tdx:a.tdx,cat:a.cat,colorSchemes:a.colorSchemes};n+="<li data-stylemb="+JSON.stringify(d)+'> <img src="'+a.thumbUrl+'"></li>'}o.css("display","block").html(n).siblings("ul").css("display","none")}},outlineConvert:function(t,e){$(".ppt-theme-preview-box").append('<img class="preview-loading-img" style="width: 100px;margin: auto;display: block;margin-top: 160px;" src="https://xiaohuazhuo.com/board/images/spinner.gif" />'),e.outlineConvert(t,function(t){if("error"==t.type){var e=$(".mind-downloadPPT-dlg");$.toast({text:"生成PPT失败、请稍后再试.....",type:"error",target:e})}else if("outline_convert_num"==t.type){$(".ppt-theme-preview-box .preview-loading-img").remove(),$(".ppt-theme-preview-list").html("");for(var i=t.data.num,o=0;o<i;o++)$(".ppt-theme-preview-list").append('<li><img class="loading-img" src="https://xiaohuazhuo.com/board/images/spinner.gif" /></li>')}else"outline_thumb"==t.type?$(".ppt-theme-preview-list li").eq(t.data.index).html('<img src="'+t.data.thumb_url+'"/>'):"outline_doc"==t.type&&($("#btn-download-ppt").removeClass("mind-disable"),$("#btn-edit-ppt").removeClass("mind-disable"),outlineToPptNew.docId=t.data.doc_id)})},convertChangeStyle:function(t,e){$("#btn-download-ppt").hasClass("mind-disable")||e.convertChangeStyle({doc_id:outlineToPptNew.docId,theme_item:t,preview:!1},function(t){if("outline_convert_num"==t.type){$(".ppt-theme-preview-list").html("");for(var e=t.data.num,i=0;i<e;i++)$(".ppt-theme-preview-list").append('<li><img class="loading-img" src="https://xiaohuazhuo.com/board/images/spinner.gif" /></li>')}else"outline_thumb"==t.type?$(".ppt-theme-preview-list li").eq(t.data.index).html('<img src="'+t.data.thumb_url+'"/>'):"outline_doc"==t.type&&($("#btn-download-ppt").removeClass("mind-disable"),$("#btn-edit-ppt").removeClass("mind-disable"),outlineToPptNew.docId=t.data.doc_id)})},showThumbBigImg:function(t,e){if(!$("#btn-download-ppt").hasClass("mind-disable")){var i='<div class="big-img-wrap" style="position: absolute;z-index: 3;left: 0;right: 0;top:0;bottom: 0;background-color: rgba(0,0,0,0.3);"><div class="close-big-img-wrap" style="position: absolute; top: 40px; right: 60px;width: 30px; height: 30px; border-radius:15px;background:rgba(29,33,41,0.5);text-align: center;line-height: 28px;"><i style="font-size: 20px;color: #FFFFFF;" class="po-diagraming-icons">&#xe6b9;</i></div><ul class="big-img-box">'+e+'</ul><div class="left-btn" style="cursor: pointer; position: absolute; left: 25px; top: 50%;margin-top: -40px;text-align: center;line-height: 80px; width: 30px; height: 80px; background:rgba(29,33,41,0.5);border-radius:4px;"><i style="font-size: 16px; color: #FFFFFF;" class="po-diagraming-icons">&#xe6cf;</i></div><div class="right-btn" style="cursor: pointer; position: absolute; right: 25px; top: 50%;margin-top: -40px;text-align: center;line-height: 80px; width: 30px; height: 80px; background:rgba(29,33,41,0.5);border-radius:4px;"><i style="font-size: 16px; color: #FFFFFF;" class="po-diagraming-icons">&#xe6cd;</i></div></div>';$(".mind-downloadPPT-dlg").append(i);var o=$(".mind-downloadPPT-dlg .big-img-box li"),n=o.length;o.css({width:"800px",margin:"auto","margin-top":"85px",display:"none"}),o.children("img").css({width:"800px",display:"block"}),o.eq(t).css("display","block"),$(".mind-downloadPPT-dlg .left-btn").click(function(){o.eq(t).css("display","none"),-1==--t&&(t=n-1),o.eq(t).css("display","block")}),$(".mind-downloadPPT-dlg .right-btn").click(function(){o.eq(t).css("display","none"),++t==n&&(t=0),o.eq(t).css("display","block")}),$(".close-big-img-wrap").click(function(){$(".big-img-wrap").remove()})}},getOutlineToPptData:function(t){var e=t;void 0===e&&"undefined"!=typeof PoEditorClient&&(e=PoEditorClient.getDef());var i=e.freeChildren||[],o=e.summaries||[];return e.children=e.children.concat(i).concat(o),function t(e){if(e.length>0)for(var i=0;i<e.length;i++){var o=e[i].summaries||[],n={type:"outline",text:(l=e[i].title,a=void 0,d=void 0,a="",d=$("<div>"+l+"</div>").appendTo("body"),function t(e){for(var i=0,o=e.length;i<o;i++)"#text"==e[i].nodeName&&(a+=e[i].data),t(e[i].childNodes)}(d[0].childNodes),d.remove(),a),children:e[i].children};e[i].image&&(n.img_url=e[i].image.url),e[i]=n,o.length>0&&(e[i].children=e[i].children.concat(o)),t(e[i].children)}var l,a,d}(e.children),e={outline:{type:"outline",text:e.title,children:e.children}}}};
},{"../beautifysdk":"OuMU"}],"ARet":[function(require,module,exports) {
var t=null;function e(){return t||(t=n()),t}function n(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return r(t[0])}return"/"}function r(t){return(""+t).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}exports.getBundleURL=e,exports.getBaseURL=r;
},{}],"yU0Q":[function(require,module,exports) {
var r=require("./bundle-url").getBundleURL;function e(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch(n){if("MODULE_NOT_FOUND"===n.code)return new s(function(n,i){t(r.slice(0,-1)).then(function(){return require(e)}).then(n,i)});throw n}}function t(r){return Promise.all(r.map(u))}var n={};function i(r,e){n[r]=e}module.exports=exports=e,exports.load=t,exports.register=i;var o={};function u(e){var t;if(Array.isArray(e)&&(t=e[1],e=e[0]),o[e])return o[e];var i=(e.substring(e.lastIndexOf(".")+1,e.length)||e).toLowerCase(),u=n[i];return u?o[e]=u(r()+e).then(function(r){return r&&module.bundle.register(t,r),r}).catch(function(r){throw delete o[e],r}):void 0}function s(r){this.executor=r,this.promise=null}s.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},s.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)};
},{"./bundle-url":"ARet"}],"pkSb":[function(require,module,exports) {
var define;
var e;function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(){"use strict";n=function(){return e};var e={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",d=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(j){l=function(e,t,n){return e[t]=n}}function p(e,t,n,i){var o=t&&t.prototype instanceof g?t:g,r=Object.create(o.prototype),s=new k(i||[]);return a(r,"_invoke",{value:I(e,n,s)}),r}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=p;var u={};function g(){}function h(){}function f(){}var v={};l(v,s,function(){return this});var x=Object.getPrototypeOf,w=x&&x(x(C([])));w&&w!==i&&o.call(w,s)&&(v=w);var b=f.prototype=g.prototype=Object.create(v);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,n){var i;a(this,"_invoke",{value:function(a,r){function s(){return new n(function(i,s){!function i(a,r,s,c){var d=m(e[a],e,r);if("throw"!==d.type){var l=d.arg,p=l.value;return p&&"object"==t(p)&&o.call(p,"__await")?n.resolve(p.__await).then(function(e){i("next",e,s,c)},function(e){i("throw",e,s,c)}):n.resolve(p).then(function(e){l.value=e,s(l)},function(e){return i("throw",e,s,c)})}c(d.arg)}(a,r,i,s)})}return i=i?i.then(s,s):s()}})}function I(e,t,n){var i="suspendedStart";return function(o,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw a;return O()}for(n.method=o,n.arg=a;;){var r=n.delegate;if(r){var s=P(r,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=m(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function P(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=m(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function $(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=f,a(b,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=l(f,d,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,d,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(_.prototype),l(_.prototype,c,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,i,o,a){void 0===a&&(a=Promise);var r=new _(p(t,n,i,o),a);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},y(b),l(b,d,"Generator"),l(b,s,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach($),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],r=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),$(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;$(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function i(e,t,n,i,o,a,r){try{var s=e[a](r),c=s.value}catch(d){return void n(d)}s.done?t(c):Promise.resolve(c).then(i,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var r=e.apply(t,n);function s(e){i(r,o,a,s,c,"next",e)}function c(e){i(r,o,a,s,c,"throw",e)}s(void 0)})}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.$||(window.$=window.jQuery=require("../../common/jquery-1.10.2")),require("../common/ppt/mind.convert.ppt.js"),window.cAllCommon={cahrtObj:"",init:function(e,t){$("title").text(e.title+" - ProcessOn");var n={chartObj:e,userObj:t};cAllCommon.chartObj=e,tencentAddon.init(),appAddon.init(),iflytek.init(),editorTabBar.init(n),fromzdtcRemove.init(),navigator.userAgent.indexOf("TDAppDesktop")>-1&&TencentDocs.init(),"undefined"!=typeof Wemeet&&"markdown"!==fileType&&(PoEditorInsert.fromBaiduEditor()||Wemeet.init("editor",e,t));var i="localhost"==window.location.hostname;if(!window.dlgFromManage&&!i){bigPipe.render({js:["/static/js/dlgFromManage/dlgFromManage.js"]},function(){dlgFromManage.init("product_open","",function(e){})})}cAllCommon.goBackHide(e),cAllCommon.lenovoOnlyWindow(),cAllCommon.shieldFunction(e),window.addEventListener("message",this.handleMessage),cAllCommon.addFreeUserPoupe(e,t)},historyInit:function(e){cAllCommon.chartObj=e,appAddon.init()},getUrlParams:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},addFreeUserPoupe:function(e,t){var n=t.userId;n.substr(n.length-1,1);cAllCommon.isMobile()||cAllCommon.isMemberOrNo().then(function(t){if(!t){var n=(new Date).toISOString().slice(0,10);if(localStorage.getItem("dailyEventLastRun")!==n){localStorage.setItem("dailyEventLastRun",n),$(".free_user_pay_poupe").dialog();var i="",o="",a="";e.category.indexOf("mind")>-1?(i="14种骨架的专业思维导图",o="头脑风暴、知识整理、业务分析，一个脑图统统搞定",a="思维导图"):"outline"==e.category?(i="脑图、大纲模式随时切换",o="不只是记录笔记的利器更是结构化思考的源泉",a="思维笔记"):(i="操作超简单，但做出的流程图并不简单",o="11年匠心打磨，成就超易用绘图利器",a="流程图"),buried_point_fn("click","activity_show","编辑页",{"弹窗名称":a+"编辑器-进入付费提示弹窗"}),$(".free_user_title").text(i),$(".free_user_tip").text(o),$(".free_user_butt").on("click",function(){$(".free_user_pay_poupe").dialog("close"),insert.pay.init({title:"升级会员享无限文件数",pointsSource:a+"编辑器-进入付费提示弹窗"}),buried_point_fn("click","activity_popup_click","编辑页",{"弹窗名称":a+"编辑器-进入付费提示弹窗"})}),$("#po-dlg-mask").on("click",function(){$(".free_user_pay_poupe").dialog("close")})}}})},isMemberOrNo:function(e){return new Promise(function(e){Util.ajax({url:"/api/personal/user/privilege",type:"GET",success:function(t){e(t.privilege.orgMember||t.privilege.member)}})})},isMobile:function(){return!!window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},goBackHide:function(e){var t=cAllCommon.getUrlParams("come_pwa");t&&"true"==t&&$(function(){e.category.indexOf("mind")>-1&&!e.orgId?$("#mind-designer-back").hide():"outline"==e.category?$("#back2home").hide():$("#po-flow-back").hide()})},getCookies:function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return-1==n&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""},lenovoOnlyWindow:function(){"undefined"!=typeof jsbridge&&jsbridge.getLaunchOptions()&&(window.open=function(e){window.location.href=e},document.body.addEventListener("click",function(e){var t=e.target;t&&"A"==t.nodeName&&"_blank"==t.getAttribute("target")&&t.setAttribute("target","_self")}))},shieldFunction:function(e){"undefined"!=typeof jsbridge&&jsbridge.getLaunchOptions()&&$(function(){e.category.indexOf("mind")>-1&&!e.orgId?($("#mind-designer-back").hide(),$(".header-logo").css("content",""),$("#header-file").off("click").on("click",function(e){}),$("#header-file .header-logo").addClass("hide-after"),setTimeout(function(){$("#brain-power").hide(),$(".po-tool-button[tit='aigc']").hide(),$("#link-to-outline").hide(),$("#header-file").off().on("mousedown",function(e){}).on("mouseenter",function(e){})},800)):"outline"==e.category?$("#back2home").hide():($(".flow-logo").off("click").on("click",function(e){}),$("#po-flow-back").hide(),$(".header-container-bottom #header-file").hide(),$("#po-tool-ai-button").hide()),$("#po-user-photo-menu .po-menu-item[tit='file']").hide(),setTimeout(function(){$(".po-flow-header-right #open_wemeet").hide(),$(".mind-header-right #open_wemeet").hide()},200)})}},window.tencentAddon={openType:"",init:function(){"tencentAddon"==cAllCommon.getUrlParams("from")&&(tencentAddon.addPointSoure(),window.localStorage.setItem("fromtcdocs","true"),$(window).on("beforeunload",function(){tencentAddon.docsThumbnail(chartObj.chartId),window.localStorage.removeItem("fromtcdocs")}))},addPointSoure:function(){tencentAddon.openType=cAllCommon.getUrlParams("openType");var e="",t="",n="";"open"==tencentAddon.openType?window.location.href.indexOf("mindmap")>-1?(n="思维导图编辑器",e="腾讯文档文件页",t="mind"):window.location.href.indexOf("diagraming")>-1&&(n="流程图编辑器",e="腾讯文档文件页",t="process"):"create"==tencentAddon.openType&&(window.location.href.indexOf("mindmap")>-1?(n="思维导图编辑器",e="腾讯文档新建",t="mind"):window.location.href.indexOf("diagraming")>-1&&(n="流程图编辑器",e="腾讯文档新建",t="process")),buried_point_fn("page_visit",n,{"页面来源":e},!1,t)},docsThumbnail:function(e){Util.ajax({url:"/api/personal/tencent/docs/upload/docs/preview/img",type:"post",data:{chartId:e},headers:{token:tencentAddon.getCookies("token")},success:function(e){}})},getCookies:function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return-1==n&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""}},window.appAddon={init:function(){"app"!=tencentAddon.getCookies("sourceType")&&"app"!=cAllCommon.getUrlParams("sourceType")||(appAddon.isMobile()?($("#po-flow-back").hide(),$(".flow-logo").hide(),$("#header-file").hide(),$(".header-container").css("margin-left","20px"),$("#po-clb-button").hide(),$("#header-export").hide(),$("#open_wemeet").hide(),$("#po-publish-button").hide(),$(".back-btn").hide(),$("#head_more").hide(),$("#po-flow-user-photo").css("pointer-events","none"),$(".po-clb-user-photo-list").css("pointer-events","none"),$("#po-flow-user-photo").hide(),$("#open_wemeet").hide(),$(".po-clb-user-photo-list").hide(),setTimeout(function(){$("#open_wemeet").hide()},200),$("#enter-fullscreen").hide(),$("#po-foot-help").hide(),$("#po-view-header").hide(),editorGlobalConfig.flowToolbarConfig={flowBack:"hide",file:"hide",share:"hide",public:"hide",export:"hide",comment:"hide"}):($(".po-tool-button[tit=present]").hide(),$("#mind-designer-back,.head-more").hide(),$(".po-menu-item[ac=new]").hide(),$(".po-menu-item[ac=view]").hide(),$(".po-menu-item[ac=clone]").hide(),$(".name").hide(),$("#recentFile").hide(),$("#header-file-menu .devider").hide(),setTimeout(function(){$("#open_wemeet").hide()},500),$(".po-user-photo").off("click"),setTimeout(function(){$(".po-button[tit=colla]").off("click"),$(".po-button[tit=colla]").on("click",function(){parent.wx.miniProgram.navigateTo({url:"/pages/cooperation/InvitationAndShare?chartId="+chartId})}),$("#po-clb-button").off("click"),$("#po-clb-button").on("click",function(){parent.wx.miniProgram.navigateTo({url:"/pages/cooperation/InvitationAndShare?chartId="+chartId})}),$(".po-footer-right #mind-footer-full-btn").hide(),$("#brain-power").hide(),$(".po-footer-right #mind-footer-full-btn").next(".po-tool-devider").hide()},1e3),$("#back2home").hide(),$(".head-left-nav").css("padding-left","30px"),$("#btn_print").hide(),$("#po-flow-back").hide(),$(".po-menu-item-box:first").hide(),$(".po-menu-item[ac=close]").hide(),$(".flow-logo").off("click"),setTimeout(function(){$("#enter-fullscreen").hide(),$(".po-footer-right #enter-fullscreen").next(".po-tool-devider").hide(),$("#po-foot-help").hide(),$("#po-flow-user-photo").off("click")},1e3)),appAddon.getIsWxClient()&&appAddon.isMobile()?appAddon.loadWxJs():$("#show-more").hide())},loadWxJs:function(){$("#mind-designer-back,.head-more").hide();var e={js:["https://res.wx.qq.com/open/js/jweixin-1.4.0.js"]};setTimeout(function(){bigPipe.render(e,function(){if("miniprogram"!=appAddon.getEnv()||cAllCommon.chartObj.orgId)$("#show-more").hide();else{if("undefined"==typeof miniSheet){var e={js:["/assets/miniSheet/miniSheet.js"],css:["/assets/miniSheet/miniSheet.css"]};setTimeout(function(){bigPipe.render(e,function(){miniSheet.init(cAllCommon.chartObj),"true"==cAllCommon.getUrlParams("aigo")&&setTimeout(function(){(new PoEditorApi).mpAigo();var e=appAddon.funcUrlDel("aigo");history.replaceState(null,null,e)},1e3),"image"==cAllCommon.getUrlParams("shareType")&&setTimeout(function(){document.getElementById("downImage").click();var e=appAddon.funcUrlDel("shareType");history.replaceState(null,null,e)},1e3)})},0)}else miniSheet.init(cAllCommon.chartObj);if("false"==cAllCommon.getUrlParams("needMore")&&setTimeout(function(){$("#show-more").hide()},500),cAllCommon.getUrlParams("oid"))if("undefined"==typeof miniSheet){var t={js:["/assets/miniSheet/miniHistoryButton.js"],css:["/assets/miniSheet/miniHistoryButton.css"]};setTimeout(function(){bigPipe.render(t,function(){miniHistoryButton.init()})},0)}else miniHistoryButton.init()}})},0)},funcUrlDel:function(e){"string"==typeof e&&(e=[e]);for(var t=window.location,n={},i=t.search.substr(1).split("&"),o=0;o<i.length;o++)i[o]=i[o].split("="),n[i[o][0]]=i[o][1];for(o=0;o<e.length;o++)delete n[e[o]];return t.origin+t.pathname+"?"+JSON.stringify(n).replace(/[\"\{\}]/g,"").replace(/\:/g,"=").replace(/\,/g,"&")},getIsWxClient:function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},isMobile:function(){return!!window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},getEnv:function(){var e=/miniProgram/i.test(navigator.userAgent.toLowerCase()),t=/MicroMessenger/i.test(navigator.userAgent);return e?"miniprogram":t?"wechatBrowser":"normal"}},window.Wemeet={init:function(e,t,n){if("undefined"==typeof wemeetCommon){var i={js:["/assets/wemeet/wemeetCommon.js"],css:["/assets/wemeet/wemeetCommon.css"]};setTimeout(function(){bigPipe.render(i,function(){"undefined"!=typeof wemeetCommon&&wemeetCommon.init(e,t,n)})},0)}else wemeetCommon.init(e,t,n)}},window.TencentDocs={init:function(){if("undefined"==typeof tencentdocs){bigPipe.render({js:["/static/js/tencentdocs/tencentdocs.js"]},function(){tencentdocs.init()})}else tencentdocs.init()}},window.iflytek={init:function(){var e=cAllCommon.getUrlParams("partner");["processiflytek","mindiflytek","mindiflytek"].includes(e)&&$(window).on("beforeunload",function(){window.localStorage.removeItem("fromIflyYtek")})}},window.fromzdtcRemove={init:function(){(cAllCommon.getUrlParams("partner")||"").includes("zdtc")&&$(window).on("beforeunload",function(){window.localStorage.removeItem("fromzdtc")})}},$(function(){if(!window.getCoupon){window.getCoupon={};window.bigPipe&&window.bigPipe.render&&window.bigPipe.render({js:["/static/js/getCoupon/getCoupon.js"]},function(){getCoupon.init("product_open")})}}),window.editorTabBar={init:function(e){window.PoEditorClient=window.PoEditorClient||new PoEditorApi("body",{config:{},data:{},on:{msg:function(e){},openPage:function(e){PoEditorClient.openPage(e)}}}),"flow"==fileType&&FlowBar.init(e),"mind"==fileType&&MindBar.init(e),"outline"==fileType&&outlineBar.init(e),"markdown"==fileType&&MarkdownBar.init(e)}},window.PoEditorInsert={isMember:!1,isMemberPayType:["xmind","pnghd","word","excel","ppt","pdfhd","svg","pdfHD","csv","fmind","jpghd"],imageSvg:null,isVipImageType:!1,isWaterMarkVip:!1,isWaterTextColor:"",isWaterImageDeep:!1,selectedIds:[],imageSufix:"",scale:1,scaleFactor:.15,isDragging:!1,startX:0,startY:0,imgStartX:0,imgStartY:0,longPressTimer:null,fromOutSide:!1,zhugeImageName:"",zhugeImageType:"",zhugeWaterType:"",zhugeChartType:"",downComeFrom:"",isHaveDown:!0,publish:function(e){if(!PoEditorInsert.isLoginOrNot())if(editorGlobalConfig&&editorGlobalConfig.noFilesNum)PoEditorInsert.pay({title:"升级畅享全部会员权益",pointsSource:"三方文件数不足"});else{var t=this;PoEditorInsert.userBlack(function(e){e&&$.toast({type:"error",text:"您的账号因违反《ProcessOn服务条款-内容发布以及使用权》，已被限制相关功能及权益"})}),userObj&&!userObj.phone?"undefined"==typeof phoneBind?bigPipe.render({js:["../../assets/js/users/phonebind.js"],css:["../../assets/css/users/phonebind.css"]},function(){phoneBind.init(function(e){userObj.phone=e,t.iframeDlg({width:"742px",height:"530px",type:"pubpo",fdata:JSON.stringify(chartObj),callback:function(e){}})})}):phoneBind.init(function(e){userObj.phone=e,t.iframeDlg({width:"742px",height:"530px",type:"pubpo",fdata:JSON.stringify(chartObj),callback:function(e){}})}):t.iframeDlg({width:"742px",height:"600px",type:"pubpo",fdata:JSON.stringify(chartObj),callback:function(e){}})}},share:function(e){if(!PoEditorInsert.isLoginOrNot())if(editorGlobalConfig&&editorGlobalConfig.noFilesNum)PoEditorInsert.pay({title:"升级畅享全部会员权益",pointsSource:"三方文件数不足"});else{this.iframeDlg(r(r({width:"680px",height:"533px",type:"share",fdata:JSON.stringify(chartObj),cid:editorGlobal.poPagination.pageId},e),{},{callback:function(e){}}))}},pay:function(e){var t="670px",n=navigator.userAgent.toLowerCase();/electron/gi.test(n)&&(window.parent.postMessage({type:"getAppId"},"*"),window.addEventListener("message",function(e){if("send-appid"===e.data.type){var n=e.data.APP_ID;t="6b0d49b3ca3544178660f33adf6a0b60"==n?"540px":"616px"}}));var i="";PoEditorInsert.fromBaiduEditor()?i=location.href.includes("mindmap")>-1||location.href.includes("fishbone")>-1||location.href.includes("organizational")>-1?"思维导图编辑器":"流程图编辑器":chartObj&&chartObj.category&&(i=chartObj.category.startsWith("outline")?"思维笔记编辑器":chartObj.category.startsWith("mind")?"思维导图编辑器":"流程图编辑器"),e.height=t;var o=$.extend({width:"840px",height:t,type:"dlgPay",title:"支付",pointsPage:i,pointsSource:"头像_升级",callback:function(e){}},e);window.chartObj&&window.chartObj.orgId&&$.extend(o,{pageStatus:"index",height:"602px",payTitle:o.title,orgInfo:{orgId:chartObj.orgId},type:"dlgOrgPay",url:"/org/dlgapi"}),this.iframeDlg(o)},feedback:function(e){var t=$.extend({width:"600px",height:"471px",type:"dlgFeedback",title:"感谢您的反馈",callback:function(e){}},e);this.iframeDlg(t)},iframeDlgPre:function(e){var t=window.location.origin,n=(e=$.extend({url:t+"/dlgapi",width:"770px",height:"537px",type:"dlgPay",title:"支付"},e),$("#po-dialog-iframe-"+e.type+" iframe"));0==n.length&&(n=$('<div id="po-dialog-iframe-'+e.type+'" class="po-dialog po-dialog-iframe"><div class="po-dialog-header" style="position: absolute;width: calc(100% - 42px);height: 20px"></div><iframe></iframe></div>').appendTo("body").find("iframe")).width(e.width).height(e.height).attr("src",e.url)},iframeDlgPms:{},prevMsg:"",iframeDlg:function(e){var t=this,n=window.location.origin,i="?";if((e=$.extend({url:n+"/dlgapi",width:"770px",height:"537px",type:"dlgPay",title:"支付"},e)).type&&(i=i+"type="+e.type,"dlgPay"==e.type)){var o=e.pointSourceNew?e.pointSourceNew:e.pointsSource;i+="&pointspage="+e.pointsPage,i+="&pointssource="+o,i+="&overd="+(e.overd?e.overd:"false")}e.title&&(i=i+"&title="+e.title),e.fdata&&(i=i+"&fdata="+encodeURIComponent(e.fdata)),e.pattern&&(i+="&pattern="+e.pattern),e.pageStatus&&(i=i+"&pageStatus="+e.pageStatus),e.payTitle&&(i=i+"&payTitle="+e.payTitle),e.ai_pay&&(i+="&ai_pay="+e.ai_pay),e.cid&&(i=i+"&cid="+e.cid),$("#po-dialog-iframe-"+e.type).remove();var a=$("#po-dialog-iframe-"+e.type+" iframe");if(0==a.length){var r=$('<div id="po-dialog-iframe-'+e.type+'" class="po-dialog po-dialog-iframe"><div class="po-iframe-loading-wrap"><img src="'+staticBasePath+'/assets/images/iframe_loading.gif"></div><div class="po-dialog-header" style="position: absolute;width: calc(100% - 42px);height: 20px"></div><iframe></iframe></div>').appendTo("body");(a=r.find("iframe")).width(e.width).height(e.height).attr("src",e.url+i)}if(this.iframeDlgPms[e.type]||(this.iframeDlgPms[e.type]={}),this.iframeDlgPms[e.type].messengerIframe||(this.iframeDlgPms[e.type].messengerIframe=new Messenger("edit","v5",[{target:a[0].contentWindow,targetName:"filelist"},{target:window,targetName:"edit"}],function(n){var i=JSON.parse(n||"{}");if(t.prevMsg!==n||"resize"===i.instructs){if(t.prevMsg=n,"dlgShare"==i.type||"share"==i.type)if("close"==i.instructs){PoEditorInsert.publish();var o=i.width,r=i.height;$("#po-dialog-iframe-"+e.type).css({width:o,height:r}),a.width(o).height(r)}else"orgClose"==i.instructs&&window.location.reload();else if("dlgPubpo"==i.type)"close"==i.instructs&&$("#po-dialog-iframe-pubpo").dialog("close");else if("dlgPay"==i.type)"close"==i.instructs?window.location.reload():"paySuccess"==i.instructs&&memberObj&&(memberObj.member=!0);else if("dlgFeedback"==i.type)"close"==i.instructs&&$("#po-dialog-iframe-dlgFeedback").dialog("close");else if("copyAndMove"==i.optType){if(t.prevMsg=null,"close"==i.instructs)return void $("#po-dialog-iframe-copy").dialog("close");"move"==i.type&&(chartObj.folderId=i.targetFolderId||"root",chartObj.teamId=i.teamId||"",orgJs.toolFun&&orgJs.toolFun.getFilePath());var s="move"==i.type?"移动成功":"复制成功";$.toast({text:s}),$("#po-dialog-iframe-copy").dialog("close")}if("resize"==i.instructs){o=i.width,r=i.height;var c=i.type;"dlgShare"===c&&(c="share"),$("#po-dialog-iframe-"+c).css({marginTop:-r/2+"px",width:o,height:r,marginLeft:-o/2+"px"}),$("#po-dialog-iframe-"+c).children("iframe").width(o).height(r)}}})),!e.isHide){$.mask(),$("#po-dialog-iframe-"+e.type).width(e.width).height(parseInt(e.height)).dialog({onClose:function(){$.mask("close")}});var s=this;a.off("load").on("load",function(){$(".po-iframe-loading-wrap").fadeOut("500");var t=setTimeout(function(){$(".po-iframe-loading-wrap").remove(),clearTimeout(t)},500);if(void 0!==s.iframeDlgPms[e.type].messengerIframe){var n={type:e.type,instructs:"init"};s.iframeDlgPms[e.type].messengerIframe.targets.filelist.send(JSON.stringify(n))}})}},userPhotoMenu:{tar:null,menus:{user:{icon:"https://user-photo.ks3-cn-beijing.ksyuncs.com/518dcca57b584c3285cc3fa6330894a5",text:"123"},topay:{icon:"&#xe96b;",text:"升级"},file:{icon:"&#xe70f;",text:"我的文件"},logout:{icon:"&#xe94e;",text:"退出"}},init:function(e,t){this.tar=e,$.extend(this.menus,t),this.render()},render:function(){var e=$("#po-user-photo-menu");for(var t in this.menus){var n=this.menus[t];"user"==t?(e.find("[tit="+t+"]").find("img").attr("src",n.icon),e.find("[tit="+t+"]").find(".text").html(n.text)):(e.find("[tit="+t+"]").find(".po-diagraming-icons").html(n.icon),e.find("[tit="+t+"]").find(".text").html(n.text))}$("#user-logo img").on("error",function(){$("#user-logo img").attr("src","//cdn.processon.com/62a9b02c6376893f4929f1d2")}),e.dropdown({target:this.tar,zindex:10,position:"right",onSelect:function(e){switch(e.attr("tit")){case"user":"undefined"!=typeof jsbridge&&jsbridge.getLaunchOptions()||(location.href="/setting");break;case"topay":if(PoEditorInsert.isLoginOrNot())return;PoEditorInsert.pay({title:"开通会员享全部会员权益",pointsSource:"头像_升级"});break;case"file":var t="/diagrams";chartObj.orgId&&(t="/org"),location.href=t;break;case"logout":Util.ajax({url:"/api/personal/login/out",type:"GET",success:function(e){Util.setCookies("token","",-1),"function"==typeof randerComplete&&randerComplete(viewChart),location.href="/login"}})}}})}},userBlack:function(e){Util.ajax({url:"/api/personal/user/publish/black",type:"get",old:!0,success:function(t){e(t)}})},copyText:function(e){var t=document.createElement("textarea");t.readOnly="readonly",t.style.position="absolute",t.style.left="-9999px",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy")&&$.toast({text:"复制成功,请前往其他浏览器",type:"warning",delay:"10000"}),document.body.removeChild(t)},outHandleExport:function(e,t,n,i){PoEditorInsert.downComeFrom=i,"diagrams"==PoEditorInsert.downComeFrom?$(".free_user_pay_poupe").dialog("close"):n=n||window.fileType,PoEditorInsert.imageSufix=e,PoEditorInsert.fromOutSide=!0,appAddon.getIsWxClient()&&($.toast({text:'微信内可能无法下载,如未成功下载,请前往普通浏览器下载<a id="downloadLink" style="margin-left: 20px;color: #4C75FF;">复制链接</a>',type:"warning",delay:"10000"}),$("#downloadLink").on("click",function(){PoEditorInsert.copyText(location.origin+location.pathname)}));var o="";PoEditorInsert.isMemberPayType.includes(e)?PoEditorInsert.isMemberOrNo().then(function(i){if(!i&&"jpghd"!=e&&"pnghd"!=e)return PoEditorInsert.isMember=!1,void PoEditorInsert.pay({title:"升级会员解锁全部下载格式",pointsSource:"编辑器下载"});PoEditorInsert.isMember=!0,PoEditorInsert.getVipExportUuid(t.chartId,e).then(function(i){o=i,PoEditorInsert.downloadFileAction(e,t,n,o)})}):PoEditorInsert.fromBaiduEditor()?PoEditorInsert.downloadFileAction(e,t,n,o):PoEditorInsert.isMemberOrNo().then(function(i){PoEditorInsert.isMember=!!i,PoEditorInsert.downloadFileAction(e,t,n,o)})},downloadFileAction:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=PoEditorClient.getDef(),a="";PoEditorInsert.chartObj=t,!PoEditorInsert.chartObj.title&&PoEditorInsert.fromBaiduEditor()&&(PoEditorInsert.chartObj.title="未命名文件");var r="";if("pdfhd"!=e&&"pdfHD"!=e||"www.processon.com"==location.hostname&&(r="https://po-img.processon.com"),n.indexOf("mind")>-1?(a=r+"/chart_image/diagram_export/mindmap",i&&(a=r+"/chart_image/diagram_export/vip/mindmap")):n.indexOf("outline")>-1?a=r+"/chart_image/diagram_export/mindmap":(a=r+"/chart_image/diagram_export/mindmap",i&&(a=r+"/chart_image/diagram_export/vip/mindmap")),PoEditorInsert.fromBaiduEditor()){if("png"==e||"jpg"==e||"download_part"==e){var s=[];return"download_part"==e&&(s=PoEditorClient.getSelectedIds(),e="png"),void PoEditorClient.exportFile(e,s,function(t){PoEditorInsert.triggerDownload(URL.createObjectURL(PoEditorInsert.dataURIToBlob(t,e)),PoEditorInsert.chartObj.title+"."+e,e)})}if(window.userIdBaidu)return void PoEditorInsert.pay({title:"升级会员享受全部会员权益",pointsSource:"编辑器下载"})}"png"==e||"jpg"==e||"jpghd"==e||"pnghd"==e||"svg"==e||"pdfhd"==e||"pdfHD"==e||"download_part"==e?PoEditorInsert.exportImage(e,a,i):e.startsWith("pos")?PoEditorInsert.exportPos(e,"","/chart_image/export/file"):e.startsWith("visio")?PoEditorInsert.exportVisio(e):"ppt"==e?PoEditorInsert.exportPPT():PoEditorInsert.exportAddPower(e,function(n){n&&($("#export_form").attr("action",a),$("#export_definition").val(JSON.stringify(o)),$("#downChartId").val(t.chartId),$("#export_title").val(t.title),$("#export_type").val(e),$("#export_source").val(""),$("#export_uuid").val(i),$("#export_form").submit())})},apiChartDefGet:function(e,t){return new Promise(function(n,i){Util.ajax({url:"/api/personal/diagraming/get/chart/def",data:e,type:"get",success:function(e){var i=JSON.parse(e.def);i.page.name=t,n(i)}})})},exportVisioDown:function(e,t){PoEditorInsert.exportAddPower(t,function(t){t&&VisioPo.exportVsdx({type:"blob",data:e}).then(function(e){var t=document.createElement("a");t.download=(chartObj.title||"未命名文件")+".vsdx",t.href=URL.createObjectURL(e),document.body.appendChild(t),t.click(),URL.revokeObjectURL(t.href),document.body.removeChild(t)})})},exportPPT:function(){PoEditorInsert.exportAddPower("ppt",function(e){e&&outlineToPptNew.init()})},exportPos:function(e,t,n){var i=e.includes("all");PoEditorInsert.exportAddPower("ppt",function(e){e&&PoEditorInsert.getExportSignKey(i,PoEditorInsert.chartObj)})},getExportSignKey:function(e,t){var n={chartId:t.chartId,isCanvas:e};Util.ajax({url:"/api/personal/canvas/get/export/sign/key",type:"GET",data:n,success:function(n){var i="";e||(i=JSON.stringify(PoEditorClient.getDef())),$("#export_signKey").val(n),$("#export_def").val(i),$("#export_title_pos").val(t.title),$("#export_form_c").submit()},error:function(e){}})},exportVisio:function(e){var t=e;bigPipe&&bigPipe.render&&bigPipe.render({js:["/assets/js/visio.sdk.umd.js?time=20250526"]},function(){var e=[];Util.ajax({url:"/api/personal/canvas/get/chartdefids",data:{chartId:chartObj.chartId},type:"get",success:function(i){if(i.canvas&&i.canvas.chartCanvas){var a=i.canvas.chartCanvas;if(a.length>0){a.forEach(function(){var t=o(n().mark(function t(i,o){var a;return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a={chartId:chartObj.chartId,defId:i.definitionId},e.push(PoEditorInsert.apiChartDefGet(a,i.title));case 2:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}());i=Promise.all(e).then(function(e){"visio"==t?PoEditorInsert.exportVisioDown(PoEditorClient.getDef(),"visio"):"visio_all"==t&&PoEditorInsert.exportVisioDown(e,"visio_all")})}}}})})},exportImage:function(e,t,n){"png"==e||"jpg"==e||"pnghd"==e||"jpghd"==e||"download_part"==e?(PoEditorInsert.selectedIds=[],"download_part"==e&&(PoEditorInsert.selectedIds=PoEditorClient.getSelectedIds(),e="png",PoEditorInsert.imageSufix="png"),PoEditorInsert.waterMarkPoupe(e)):"svg"!=e&&"pdfhd"!=e&&"pdfHD"!=e||($(".water_mark_bg").css("display","none"),"pdfhd"==e||"pdfHD"==e?PoEditorInsert.exportAddPower(e,function(i){i&&($("#export_form").attr("action",t),$("#export_definition").val(""),$("#export_type").val(e),$("#export_id").val(PoEditorInsert.chartObj.chartId),$("#export_title").val(PoEditorInsert.chartObj.title),$("#export_uuid").val(n),$("#export_width").val(0),$("#export_height").val(0),$("#export_canvasId").val(localStorage.getItem("currentCanvasId")||""),$("#export_form").submit(),$("#export_definition").val(""))}):PoEditorInsert.exportAddPower(e,function(i){i&&PoEditorClient.exportFile("svg",[],function(i){$("#export_form").attr("action",t),$("#export_definition").val(i),$("#export_type").val(e),$("#export_id").val(PoEditorInsert.chartObj.chartId),$("#export_title").val(PoEditorInsert.chartObj.title),$("#export_uuid").val(n),$("#export_canvasId").val(localStorage.getItem("currentCanvasId")||""),$("#export_width").val(PoEditorInsert.handleWidthHeightPx($(i).attr("width"))),$("#export_height").val(PoEditorInsert.handleWidthHeightPx($(i).attr("height"))),$("#export_form").submit(),$("#export_definition").val("")})}))},waterMarkPoupe:function(e){if($(".water_image_ontainer svg").remove(),$(".water_mark_bg").css("display","flex"),$(".water_loading_board").show(),$(".w_m_close,.w_m_cancel").on("click",function(){$(".water_mark_bg").css("display","none"),$(".water_image_ontainer").css("top","0"),$(".water_image_ontainer").css("left","0"),PoEditorClient.exportView.clearSvg(),PoEditorInsert.sendMessage({data_down_close:!0})}),PoEditorInsert.isMember?($(".w_m_f_set_up .radio-single").eq(1).prop("checked",!0),$(".system_wm_detail").hide(),$(".custom_wm_detail").hide(),PoEditorInsert.zhugeWaterType="无水印",PoEditorInsert.isWaterMarkVip=!0,setTimeout(function(){PoEditorInsert.addWaterMarkNow("","","isInit")},0)):($(".w_m_f_set_up .radio-single").eq(0).prop("checked",!0),PoEditorInsert.zhugeWaterType="系统水印",PoEditorInsert.isWaterMarkVip=!1,$(".system_wm_detail").show(),$(".custom_wm_detail").hide(),setTimeout(function(){PoEditorInsert.addWaterMarkNow($(".system_wm_input").val(),"","isInit")},0)),$(".w_m_f_type_item").removeClass("w_m_f_type_item_active"),"png"==e||"jpg"==e)$(".w_m_f_type_item[data-type="+e+"]").addClass("w_m_f_type_item_active"),$(".w_m_f_set_up_hd .radio-single").eq(1).prop("checked",!0),PoEditorInsert.showImageWH(1),PoEditorInsert.zhugeImageType="普通",PoEditorInsert.isVipImageType=!1,PoEditorInsert.zhugeImageName=e,PoEditorInsert.imageSufix=e;else if("pnghd"==e||"jpghd"==e){$(".w_m_f_set_up_hd .radio-single").eq(0).prop("checked",!0);var t=e.replace("hd","");PoEditorInsert.zhugeImageType="高清",PoEditorInsert.isVipImageType=!0,PoEditorInsert.zhugeImageName=e,PoEditorInsert.imageSufix=e,$(".w_m_f_type_item[data-type="+t+"]").addClass("w_m_f_type_item_active"),PoEditorInsert.showImageWH(2)}$(".w_m_input_custom").val("严禁复制");var i=PoEditorClient.getDef(),a="ProcessOn.com";PoEditorInsert.chartObj&&PoEditorInsert.chartObj.category.indexOf("mind")>-1||window.fileType.indexOf("mind")>-1?(a+="免费思维导图",PoEditorInsert.zhugeChartType="mindedit",i.showWatermark&&$(".w_m_input_custom").val(i.watermark)):(PoEditorInsert.zhugeChartType="flowedit",a+="免费流程图",i.page&&i.page.showWatermark&&$(".w_m_input_custom").val(i.page.watermark)),$(".system_wm_input").val(a),$(".water_m_image_name").text($(".w_m_f_type_item_active").attr("data-name"));var r=PoEditorClient.getBackground(),s=PoEditorInsert.getWaterMarkBgColor(r);"shallow"==s?(PoEditorInsert.isWaterTextColor="0,0,0,0.25",PoEditorInsert.isWaterImageDeep=!1):"deep"==s&&(PoEditorInsert.isWaterTextColor="255,255,255,0.25",PoEditorInsert.isWaterImageDeep=!0),$(".w_m_radio_item_png").on("click",function(){var e=$(this).index();$(".w_m_radio_item_png").eq(e).find(".radio-single").prop("checked",!0),"0"==e?(PoEditorInsert.isVipImageType=!0,"png"!=PoEditorInsert.imageSufix&&"jpg"!=PoEditorInsert.imageSufix||(PoEditorInsert.imageSufix=PoEditorInsert.imageSufix+"hd"),PoEditorInsert.zhugeImageType="高清",PoEditorInsert.zhugeImageName=PoEditorInsert.imageSufix.replace("hd",""),PoEditorInsert.showImageWH(2)):(PoEditorInsert.isVipImageType=!1,"pnghd"!=PoEditorInsert.imageSufix&&"jpghd"!=PoEditorInsert.imageSufix||(PoEditorInsert.imageSufix=PoEditorInsert.imageSufix.replace("hd","")),PoEditorInsert.zhugeImageType="普通",PoEditorInsert.zhugeImageName=PoEditorInsert.imageSufix.replace("hd",""),PoEditorInsert.showImageWH(1))}),$(".w_m_radio_item").on("click",function(){var e=$(this).index();if($(".w_m_radio_item").eq(e).find(".radio-single").prop("checked",!0),"0"==e)PoEditorInsert.isWaterMarkVip=!1,$(".system_wm_detail").show(),$(".custom_wm_detail").hide(),PoEditorInsert.zhugeWaterType="系统水印",PoEditorInsert.addWaterMarkNow($(".system_wm_input").val(),"","isSystem");else if("1"==e)PoEditorInsert.isWaterMarkVip=!0,PoEditorInsert.zhugeWaterType="无水印",$(".system_wm_detail").hide(),$(".custom_wm_detail").hide(),PoEditorInsert.addWaterMarkNow(" "," ","isSystem");else if("2"==e){PoEditorInsert.isWaterMarkVip=!0,PoEditorInsert.zhugeWaterType="自定义水印",$(".system_wm_detail").hide(),$(".custom_wm_detail").show();var t=PoEditorInsert.getWaterImageSvg();PoEditorInsert.addWaterMarkNow($(".w_m_input_custom").val(),t,"",85,54)}$(".w_m_f_set_up_hd .radio-single").eq(0).prop("checked")&&("png"!=PoEditorInsert.imageSufix&&"jpg"!=PoEditorInsert.imageSufix||(PoEditorInsert.imageSufix=PoEditorInsert.imageSufix+"hd"))}),$(".w_m_f_type_item").on("click",function(){var e=$(this).attr("data-type");PoEditorInsert.imageSufix=e,$(".w_m_f_type_item").removeClass("w_m_f_type_item_active"),$(this).addClass("w_m_f_type_item_active"),PoEditorInsert.zhugeImageName=e,$(".water_m_image_name").text($(this).attr("data-name"))}),$(".w_m_start_out").off().on("click",o(n().mark(function e(){var t,i;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=PoEditorInsert.getImageParams(),!PoEditorInsert.isWaterMarkVip&&!PoEditorInsert.isVipImageType){e.next=6;break}return e.next=4,PoEditorInsert.checkMembershipAndPay();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,PoEditorInsert.svgOutImage(t);case 8:if(i=e.sent){e.next=11;break}return e.abrupt("return");case 11:PoEditorInsert.triggerDownload(URL.createObjectURL(PoEditorInsert.dataURIToBlob(i,PoEditorInsert.imageType(PoEditorInsert.imageSufix))),"".concat(PoEditorInsert.chartObj.title,".").concat(PoEditorInsert.imageType(PoEditorInsert.imageSufix)),PoEditorInsert.imageType(PoEditorInsert.imageSufix)),PoEditorInsert.sendMessage({data_down_close:!0});case 13:case"end":return e.stop()}},e)}))),$(".w_m_copy_image").off().on("click",o(n().mark(function e(){var t,i;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=PoEditorInsert.getImageParams(),!PoEditorInsert.isWaterMarkVip&&!PoEditorInsert.isVipImageType){e.next=6;break}return e.next=4,PoEditorInsert.checkMembershipAndPay();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,PoEditorInsert.svgOutImage(t);case 8:if(i=e.sent){e.next=11;break}return e.abrupt("return");case 11:PoEditorInsert.copyBase64ImageToClipboard(i);case 12:case"end":return e.stop()}},e)}))),$(".input_custom_close").off().on("mousedown",function(e){$(".w_m_input_custom").val("")}),$(".w_m_input_custom").on("focus",function(){$(".input_custom_close").show()}),$(".w_m_input_custom").on("blur",function(e){$(".input_custom_close").hide();var t=PoEditorInsert.getWaterImageSvg();PoEditorInsert.addWaterMarkNow($(".w_m_input_custom").val(),t,"",85,54)}),$(".w_m_type_item").on("click",function(){$(".w_m_type_item").removeClass("w_m_type_item_active"),$(".w_m_type_item .w_m_type_arrow").hide(),$(this).addClass("w_m_type_item_active"),$(this).find(".w_m_type_arrow").show();var e=PoEditorInsert.getWaterImageSvg(),t=$(".w_m_input_custom").val();t||(t="严禁复制"),PoEditorInsert.addWaterMarkNow(t,e,"",85,54)}),$(".icons_add").on("click",function(){PoEditorInsert.scale+=PoEditorInsert.scaleFactor,PoEditorInsert.zoom()}),$(".icons_min").on("click",function(){PoEditorInsert.scale-=PoEditorInsert.scaleFactor,PoEditorInsert.scale<.2&&(PoEditorInsert.scale=.2),PoEditorInsert.zoom()}),$(".icons_all").on("click",function(){PoEditorInsert.scale=1,PoEditorInsert.zoomAll(),$(".icons_all").hide(),$(".icons_screen").css("display","flex")}),$(".icons_screen").on("click",function(){PoEditorInsert.scale=1,PoEditorInsert.zoomAll(),PoEditorInsert.resizeSvg($(".water_image_ontainer svg"),$(".water_perview")),$(".icons_all").css("display","flex"),$(".icons_screen").hide()});var c=$(".water_perview"),d=$(".water_perview .water_image_ontainer");c.on("wheel",function(e){e.preventDefault(),e.originalEvent.deltaY>0?(PoEditorInsert.scale-=PoEditorInsert.scaleFactor,PoEditorInsert.scale<PoEditorInsert.scaleFactor&&(PoEditorInsert.scale=PoEditorInsert.scaleFactor)):PoEditorInsert.scale+=PoEditorInsert.scaleFactor,PoEditorInsert.zoom()}),d.on("mousedown",function(e){PoEditorInsert.longPressTimer=setTimeout(function(){PoEditorInsert.isDragging=!0,PoEditorInsert.startX=e.pageX,PoEditorInsert.startY=e.pageY,PoEditorInsert.imgStartX=parseFloat(d.css("left")),PoEditorInsert.imgStartY=parseFloat(d.css("top")),c.css("cursor","grabbing")},100)}),d.on("mousemove",function(e){if(PoEditorInsert.isDragging){e.preventDefault();var t=e.pageX-PoEditorInsert.startX,n=e.pageY-PoEditorInsert.startY;d.css({left:PoEditorInsert.imgStartX+t,top:PoEditorInsert.imgStartY+n})}}),c.on("mouseup mouseleave",function(){clearTimeout(PoEditorInsert.longPressTimer),PoEditorInsert.isDragging&&(PoEditorInsert.isDragging=!1,c.css("cursor","grab"))})},copyBase64ImageToClipboard:function(e){return o(n().mark(function t(){var i,o,a,r,c,d;return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,navigator.clipboard){t.next=4;break}return $.toast({type:"error",text:"您的浏览器不支持复制到剪切板的功能。"}),t.abrupt("return");case 4:for(window.focus(),i=atob(e.split(",")[1]),o=i.length,a=new Uint8Array(o),r=0;r<o;r++)a[r]=i.charCodeAt(r);return c=new Blob([a],{type:"image/png"}),d=new ClipboardItem(s({},c.type,c)),t.next=13,navigator.clipboard.write([d]);case 13:$.toast({type:"success",text:"复制图片成功！"}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),$.toast({type:"error",text:"您的浏览器不支持复制到剪切板的功能。"});case 19:case"end":return t.stop()}},t,null,[[0,16]])}))()},zoom:function(){$(".water_image_ontainer svg").css("transform"," scale(".concat(PoEditorInsert.scale,")")),$(".water_image_ontainer").css("transform"," scale(".concat(PoEditorInsert.scale,")")),$(".water_image_ontainer").css("width","auto"),$(".water_image_ontainer").css("height","auto")},zoomAll:function(){$(".water_image_ontainer svg").css("transform"," scale(".concat(PoEditorInsert.scale,")")),$(".water_image_ontainer").css("transform"," scale(".concat(PoEditorInsert.scale,")")),$(".water_image_ontainer").css("width",Math.floor($(".water_image_ontainer svg").width())),$(".water_image_ontainer").css("height",Math.floor($(".water_image_ontainer svg").height()))},showImageWH:function(e){$(".water_m_image_w").text(Math.floor($(".water_image_ontainer svg").width())*e),$(".water_m_image_h").text(Math.floor($(".water_image_ontainer svg").height())*e)},getImageParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{content:PoEditorInsert.imageSvg.content.replace(/url\(#pattern_mark\)/g,"transparent"),w:PoEditorInsert.imageSvg.w,h:PoEditorInsert.imageSvg.h,scale:"pnghd"===PoEditorInsert.imageSufix||"jpghd"===PoEditorInsert.imageSufix?2:e}},checkMembershipAndPay:function(){return o(n().mark(function e(){var t,i;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PoEditorInsert.isMemberOrNo();case 2:if(e.sent){e.next=8;break}return t="diagrams"===PoEditorInsert.downComeFrom?"下载":"download_part"===PoEditorInsert.downComeFrom?"部分下载":"下载","diagrams"===PoEditorInsert.downComeFrom&&(PoEditorInsert.zhugeChartType="diagrams"),i="".concat(PoEditorInsert.zhugeChartType,"_").concat(t).concat(PoEditorInsert.zhugeImageName,"图片_").concat(PoEditorInsert.zhugeImageType,"_").concat(PoEditorInsert.zhugeWaterType),PoEditorInsert.pay({title:"升级会员解锁全部下载格式",pointsSource:i}),e.abrupt("return",!1);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e)}))()},svgOutImage:function(e){return o(n().mark(function t(){var i;return n().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,PoEditorClient.exportView.svgToImage(e,e.scale,PoEditorInsert.imageSufix);case 2:if("exceed"!=(i=t.sent).status){t.next=8;break}return $.toast({type:"error",text:i.tip?i.tip:"图片大小超过限制,请更新图片"}),t.abrupt("return",null);case 8:if("success"===i.status){t.next=10;break}return t.abrupt("return",null);case 10:if(i.img){t.next=13;break}return $.toast({type:"error",text:"有不授信图片无法下载，建议导出SVG格式"}),t.abrupt("return",null);case 13:return t.abrupt("return",i.img);case 14:case"end":return t.stop()}},t)}))()},addWaterMarkNow:function(e,t,i,a,r){var s=this;return o(n().mark(function o(){var c,d,l,p;return n().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c={ids:PoEditorInsert.selectedIds,fileType:window.fileType.indexOf("flow")>-1?"flow":"mind",watermark:{download:"",custom:{text:{content:e,color:PoEditorInsert.isWaterTextColor,size:12,angle:315},img:{url:t,w:a,h:r,angle:315},w:200,h:200}}},"isInit"!=i){n.next=9;break}return n.next=4,PoEditorClient.exportView.init(c);case 4:PoEditorInsert.imageSvg=n.sent,d=s.stringToSvg(PoEditorInsert.imageSvg.content.replace(/pattern_mark/g,"")),$(".water_perview .water_image_ontainer").html(d),n.next=20;break;case 9:if("isSystem"!=i){n.next=17;break}return n.next=12,PoEditorClient.exportView.setWatermark(c.watermark).content;case 12:PoEditorInsert.imageSvg.content=n.sent,l=s.stringToSvg(PoEditorInsert.imageSvg.content.replace(/pattern_mark/g,"")),$(".water_perview .water_image_ontainer").html(l),n.next=20;break;case 17:PoEditorInsert.imageSvg.content=PoEditorClient.exportView.setWatermark(c.watermark).content,p=s.stringToSvg(PoEditorInsert.imageSvg.content.replace(/pattern_mark/g,"")),$(".water_image_ontainer").html(p);case 20:"",$(".water_loading_board").hide(),PoEditorInsert.chartObj&&PoEditorInsert.chartObj.category.indexOf("mind")>-1?$(".water_image_ontainer svg").css("backgroundColor"):$(".water_image_ontainer svg #svgbackgroundid").css("fill"),$(".water_image_ontainer").css("width",Math.floor($(".water_image_ontainer svg").width())),$(".water_image_ontainer").css("height",Math.floor($(".water_image_ontainer svg").height())),"png"==PoEditorInsert.imageSufix||"jpg"==PoEditorInsert.imageSufix?PoEditorInsert.showImageWH(1):PoEditorInsert.showImageWH(2),PoEditorInsert.resizeSvg($(".water_image_ontainer svg"),$(".water_perview")),PoEditorInsert.scale=1,PoEditorInsert.zoomAll();case 29:case"end":return n.stop()}},o)}))()},getWaterImageSvg:function(){return PoEditorInsert.isWaterImageDeep?$(".w_m_type_item_active").find(".w_m_type_item_image").attr("data-src-sh"):$(".w_m_type_item_active").find(".w_m_type_item_image").attr("data-src")},getWaterMarkBgColor:function(e){if(e.indexOf("rgba")>-1||e.indexOf("rgb")>-1);else if(e.indexOf("#")>-1)e=PoEditorInsert.hexToRgba(e);else if(-1==e.indexOf("#"))if("transparent"==e)e="rgba(255, 255, 255, 0)";else{var t=e.split(",");e=t[3]?"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")":"rgba("+t[0]+","+t[1]+","+t[2]+")"}var n=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i);if(n){var i={r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10),a:n[4]?parseFloat(n[4]):1},o=.299*i.r+.587*i.g+.114*i.b;return o>=192||0==o?"shallow":"deep"}},stringToSvg:function(e){return(new DOMParser).parseFromString(e,"image/svg+xml").documentElement},hexToRgba:function(e){if("transparent"===e)return"rgba(0, 0, 0, 0)";if(4===e.length){for(var t="#",n=1;n<e.length;n++)t+=e.charAt(n)+e.charAt(n);e=t}var i=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16),r=9===e.length?parseInt(e.slice(7,9),16)/255:1;return"rgba(".concat(i,", ").concat(o,", ").concat(a,", ").concat(r,")")},resizeSvg:function(e,t){var n=t.width(),i=t.height(),o=e.width(),a=e.height(),r=n/o,s=i/a,c=Math.min(r,s),d="",l="";o>n&&(l=-(o-n)/2,d=-(a-i)/2),$(".water_image_ontainer svg").css("transform","scale("+c+")"),$(".water_image_ontainer svg").css("position","absolute"),$(".water_image_ontainer svg").css("top",d),$(".water_image_ontainer svg").css("left",l)},sendMessage:function(e){window.parent.postMessage(e,"*")},handleWidthHeightPx:function(e){return e.indexOf("px")>0&&(e=e.replace("px","")),e},imageType:function(e){var t=e;return"pdfhd"==e||"pdfHD"==e?t="pdf":"pnghd"==e||"pngHD"==e?t="png":"jpghd"!=e&&"jpgHD"!=e||(t="jpg"),t},dataURIToBlob:function(e,t){for(var n=atob(e.split(",")[1]),i=n.length,o=new Uint8Array(i),a=0;a<i;a++)o[a]=n.charCodeAt(a);return new Blob([o],{type:"image/"+t})},triggerDownload:function(e,t,n){PoEditorInsert.exportAddPower(n,function(n){if(n){var i=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),o=document.createElement("a");o.setAttribute("download",t),o.setAttribute("href",e),o.setAttribute("target","_blank"),o.dispatchEvent(i)}})},isMemberOrNo:function(e){return new Promise(function(e){Util.ajax({url:"/api/personal/user/privilege",type:"GET",success:function(t){e(t.privilege.orgMember||t.privilege.member)}})})},getVipExportUuid:function(e,t){var n={chartId:e,exportType:t};return new Promise(function(e,t){Util.ajax({url:"/api/personal/chart/export/get/user/power",type:"GET",data:n,success:function(t){e(t)}})})},isLoginOrNot:function(){if(!window.cAllCommon.getCookies("token"))return window.location.href="/login?redirect="+encodeURIComponent(window.location.href),!0},fromBaiduEditor:function(){return location.pathname.indexOf("/thirds/editorbaidu")>-1},exportAddPower:function(e,t){var n,i,o,a,r,s=(null===(n=chartObj)||void 0===n?void 0:null===(i=n.owner)||void 0===i?void 0:i.userId)!==(null===(o=userObj)||void 0===o?void 0:o.userId),c=null!==(a=null===(r=chartObj)||void 0===r?void 0:r.chartId)&&void 0!==a?a:"";s?$.ajax({url:"/api/personal/chart/export/get/export/power",data:{chartId:c,exportType:e},type:"get",headers:{token:window.cAllCommon.getCookies("token")},success:function(e){200==e.code?t(!0):($.toast({type:"error",text:"您今日下载导出次数已达上限"}),t(!1))},error:function(e){$.toast({type:"error",text:"系统错误，请稍后再试"}),t(!1)}}):t(!0)}},window.FlowBar={chart:{},user:{},init:function(e){this.chart=e.chartObj,this.user=e.userObj,this.render(),this.initEvent()},domData:{clb:'<div id="po-clb-button" class="po-clb-buttom po-button primary">分享协作</div>',public:'<div id="po-publish-button" class="po-tool-button" title="发布"><span class="po-diagraming-icons">&#xe6d1;</span></div>',export:'<div id="header-export" class="po-tool-button" title="导出为"><span class="po-diagraming-icons">&#xe939;</span></div>',exportMenu:'<ul id="header-export-menu" class="po-menu large header-export-menu">\n        <li class="po-menu-item" ac="export" type="png">\n            <div class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons">&#xe981;</span>\n                <span class="text">PNG\x3c!--<span>（.png）</span>--\x3e</span>\n            </div>\n        </li>\n        <li class="po-menu-item" ac="export" type="jpg">\n            <div class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons">&#xe981;</span>\n                <span class="text">JPG\x3c!--<span>（.jpg）</span>--\x3e</span>\n            </div>\n        </li>\n        <li class="po-menu-item" ac="export" type="pos">\n            <div class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons">&#xe983;</span>\n                <span class="text">POS文件\x3c!--<span>（.pos）</span>--\x3e</span>\n            </div>\n        </li>\n        <li class="po-menu-item" ac="export" type="visio">\n          <div class="po-menu-item-box">\n            <span class="po-menu-icon po-diagraming-icons">&#xe842;</span>\n            <span class="text">VISIO文件\x3c!--<span>（.pdf）</span>--\x3e</span>\n            \x3c!-- <img class="export-list-beta-icon" src="/v5_editor/static/assets/images/beta.svg"/>--\x3e\n            \x3c!--  <img class="export-list-vip-icon" src="/v5_editor/static/assets/images/vip-tip.svg"/>--\x3e\n          </div>\n        </li>\n        <li class="po-menu-item" ac="export" type="pdfHD">\n            <div class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons">&#xe982;</span>\n                <span class="text">高清PDF\x3c!--<span>（.pdf）</span>--\x3e</span>\n                <img class="export-list-vip-icon" src="/v5_editor/static/assets/images/vip-tip.svg"/>\n            </div>\n        </li>\n        <li class="po-menu-item" ac="export" type="svg">\n            <div class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons">&#xe986;</span>\n                <span class="text">SVG</span>\n                <img class="export-list-vip-icon" src="/v5_editor/static/assets/images/vip-tip.svg"/>\n            </div>\n        </li>\n        <li class="po-menu-item disabled" ac="export" type="download_part">\n            <div class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons">&#xe981;</span>\n                <span class="text">导出所选图形为PNG</span>\n            </div>\n        </li>\n        <li class="devider"></li>\n        <li class="po-menu-item" ac="export" type="pnghd">\n            <div class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons">&#xe981;</span>\n                <span class="text">高清PNG\x3c!--<span>（.png）--\x3e</span></span>\n                <img class="export-list-vip-icon" src="/v5_editor/static/assets/images/vip-tip.svg"/>\n            </div>\n        </li>\n        <li class="po-menu-item" ac="export" type="jpghd">\n            <div class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons">&#xe981;</span>\n                <span class="text">高清JPG</span></span>\n                <img class="export-list-vip-icon" src="/v5_editor/static/assets/images/vip-tip.svg"/>\n            </div>\n        </li>\n        <li class="devider"></li>\n        <li class="po-menu-item  extend" ac="export">\n            <div class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons">&#xe983;</span>\n                <span class="text">导出全部画布</span>\n                <span class="extend-icon po-diagraming-icons">&#xe6b7;</span>\n            </div>\n            <ul class="extend-menu po-menu" style="width:160px;">\n                <li class="po-menu-item" ac="export" type="pos_all">\n                    <div class="po-menu-item-box">\n                        <span class="po-menu-icon po-diagraming-icons">&#xe983;</span>\n                        <span class="text">POSF文件<span>（.posf）</span>\n\n                    </div>\n                </li>\n                <li class="po-menu-item" ac="export" type="visio_all">\n                    <div class="po-menu-item-box">\n                        <span class="po-menu-icon po-diagraming-icons">&#xe842;</span>\n                        <span class="text">VISIO文件</span></span>\n                        \x3c!--<img class="export-list-beta-icon" src="/v5_editor/static/assets/images/beta.svg"/>--\x3e\n                        \x3c!-- <img class="export-list-vip-icon" src="/v5_editor/static/assets/images/vip-tip.svg"/>--\x3e\n                    </div>\n                </li>\n            </ul>\n        </li>\n        <div style="display:none">\n            <iframe name="export_iframe" style="display: none"></iframe>\n            <form id="export_form" action="/chart_image/diagram_export/mindmap" target="export_iframe" method="post">\n                <input id="export_type" type="hidden" name="type">\n                <input id="export_definition" type="hidden" name="definition">\n                <input id="export_canvasId" type="hidden" name="canvasId">\n                <input id="export_defs" type="hidden" name="defs">\n                <input id="export_title" type="hidden" name="title">\n                <input id="export_width" type="hidden" name="width">\n                <input id="export_height" type="hidden" name="height">\n                <input id="export_id" type="hidden" name="chartId">\n                <input id="export_source" type="hidden" name="source">\n                <input type="hidden" name="ignore" value="definition">\n                <input id="export_uuid" type="hidden" name="powerStr">  \n            </form>\n        </div>\n    </ul>',photo:'<div id="po-flow-user-photo" class="po-flow-user-photo"><img id="po_user_photo_now" alt="" src=""></div>',back:'<div id="po-flow-back" class="flow-back po-tool-button"> <span class="po-diagraming-icons"> &#xe726;</span></div>',logo:'<div class="flow-logo"><img src="/v5_editor/static/assets/images/logo-react.svg" alt=""></div>',rename:'<div id="header-rename" class="hrader-title" contenteditable="true">文件标题</div>',fav:'<div id="header-fav" class="header-fav po-tool-button-small" title="收藏"> <span class="po-diagraming-icons">&#xe6b2;</span> </div>',save:'<div id="header-history" title="历史版本" class="history-button po-tool-button-small"><img id="save_img" class="save_img" src="/v5_editor/static/images/saved.gif"><span id="save-tip" class="save-tip">所有更改已保存</span></div>',file:'<div id="header-file" class="po-tool-button">文件</div>',fileMenu:'<ul id="header-file-menu" class="header-file-menu large po-menu">\n                    <li class="extend po-menu-item">\n                        <div class="po-menu-item-box">\n                            <span class="po-diagraming-icons po-menu-icon">&#xe6c2;</span>\n                            <span class="text">新建</span>\n                            <span class="extend-icon po-diagraming-icons">&#xe6b7;</span>\n                        </div>\n                        <ul class="extend-menu po-menu" style="width:160px;max-height:600px;overflow-y:auto;">\n                            <li class="po-menu-item" ac="creat" cate="flow">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/flow.png" class="po-menu-icon">\n                                    <span class="text">流程图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="mind">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/mind.png" class="po-menu-icon">\n                                    <span class="text">思维导图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="outline">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/outline.png" class="po-menu-icon">\n                                    <span class="text">思维笔记</span>\n                                </div>\n                            </li>\n                            <li class="devider"></li>\n                            <li class="po-menu-item" ac="creat" cate="uml">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/uml.png" class="po-menu-icon">\n                                    <span class="text">UML图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="er">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/er.png" class="po-menu-icon">\n                                    <span class="text">ER图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="graph">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/graph.png" class="po-menu-icon">\n                                    <span class="text">图表/表格</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="plana">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/plana.png" class="po-menu-icon">\n                                    <span class="text">平面图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="gantt">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/gantt.png" class="po-menu-icon">\n                                    <span class="text">甘特图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="framework">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/framework.png" class="po-menu-icon">\n                                    <span class="text">架构图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="network">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/wltpt.png" class="po-menu-icon">\n                                    <span class="text">网络拓扑图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="swimlane">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/swimlane.png" class="po-menu-icon">\n                                    <span class="text">泳道图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="circuit">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/circuit.png" class="po-menu-icon">\n                                    <span class="text">电路图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="venn">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/wnt.png" class="po-menu-icon">\n                                    <span class="text">韦恩图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="bpmn">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/bpmn.png" class="po-menu-icon">\n                                    <span class="text">BPMN</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="ui">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/yxt.png" class="po-menu-icon">\n                                    <span class="text">原型图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="mind_timeline_h">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/sxt.png" class="po-menu-icon">\n                                    <span class="text">时间轴</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="mind_ishikawa_left">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/sjz.png" class="po-menu-icon">\n                                    <span class="text">鱼骨图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="org">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/szjgt.png" class="po-menu-icon">\n                                    <span class="text">组织结构图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="mind_tree_free">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/ygt.png" class="po-menu-icon">\n                                    <span class="text">树形图</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="creat" cate="mind_brace_right">\n                                <div class="po-menu-item-box">\n                                    <img src="../../assets/images/editor/kht.png" class="po-menu-icon">\n                                    <span class="text">括号图</span>\n                                </div>\n                            </li>\n                        </ul>\n                    </li>\n                    <li class="po-menu-item" ac="rename">\n                        <div class="po-menu-item-box">\n                            <span class="po-diagraming-icons po-menu-icon">&#xe6ae;</span>\n                            <span class="text">重命名</span>\n                        </div>\n                    </li>\n                    <li class="po-menu-item" ac="view">\n                        <div class="po-menu-item-box">\n                            <span class="po-diagraming-icons po-menu-icon">&#xe6d4;</span>\n                            <span class="text">预览</span>\n                        </div>\n                    </li>\n                    <li class="po-menu-item" ac="save">\n                        <div class="po-menu-item-box">\n                            <span class="po-diagraming-icons po-menu-icon">&#xe6a0;</span>\n                            <span class="text">保存</span>\n                            <span class="po-menu-hotkey">Ctrl+S</span>\n                        </div>\n                    </li>\n                    <li class="po-menu-item" ac="copy">\n                        <div class="po-menu-item-box">\n                            <span class="po-diagraming-icons po-menu-icon">&#xe6d9;</span>\n                            <span class="text">克隆</span>\n                        </div>\n                    </li>\n                    <li class="devider"></li>\n                    <li class="extend po-menu-item" ac="export-file">\n                        <div class="po-menu-item-box">\n                            <span class="po-diagraming-icons po-menu-icon">&#xe939;</span>\n                            <span class="text">导出为</span>\n                            <span class="extend-icon po-diagraming-icons">&#xe6b7;</span>\n                        </div>\n                        <ul class="extend-menu header-file-extend-menu normal po-menu">\n                            <li class="po-menu-item" ac="export" type="png">\n                                <div class="po-menu-item-box">\n                                    <span class="po-diagraming-icons po-menu-icon">&#xe981;</span>\n                                    <span class="text">PNG</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="export" type="jpg">\n                                <div class="po-menu-item-box">\n                                    <span class="po-diagraming-icons po-menu-icon">&#xe981;</span>\n                                    <span class="text">JPG</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="export" type="pos">\n                                <div class="po-menu-item-box">\n                                    <span class="po-diagraming-icons po-menu-icon">&#xe983;</span>\n                                    <span class="text">POS文件</span>\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="export" type="visio">\n                                <div class="po-menu-item-box">\n                                    <span class="po-diagraming-icons po-menu-icon">&#xe842;</span>\n                                    <span class="text">VISIO文件</span>\n                                    \x3c!--<img class="export-list-beta-icon" src="/v5_editor/static/assets/images/beta.svg">--\x3e\n                                    \x3c!--<img class="export-list-vip-icon" src="/v5_editor/static/assets/images/vip-tip.svg">--\x3e\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="export" type="pdfHD">\n                                <div class="po-menu-item-box">\n                                    <span class="po-diagraming-icons po-menu-icon">&#xe982;</span>\n                                    <span class="text">高清PDF</span>\n                                    <img class="export-list-vip-icon" src="/v5_editor/static/assets/images/vip-tip.svg">\n                                </div>\n                            </li>\n                            <li class="po-menu-item" ac="export" type="svg">\n                                <div class="po-menu-item-box">\n                                    <span class="po-diagraming-icons po-menu-icon">&#xe986;</span>\n                                    <span class="text">SVG</span>\n                                    <img class="export-list-vip-icon" src="/v5_editor/static/assets/images/vip-tip.svg">\n                                </div>\n                            </li>\n                            <li class="disabled po-menu-item" ac="export" type="download_part">\n                                <div class="po-menu-item-box">\n                                    <span class="po-diagraming-icons po-menu-icon">&#xe981;</span>\n                                    <span class="text">导出所选图形为PNG</span>\n                                </div>\n                            </li>\n                            <li class="devider"></li>\n                            <li class="po-menu-item" ac="export" type="pnghd">\n                                <div class="po-menu-item-box">\n                                    <span class="po-diagraming-icons po-menu-icon">&#xe981;</span>\n                                    <span class="text">高清PNG</span>\n                                    <img class="export-list-vip-icon" src="/v5_editor/static/assets/images/vip-tip.svg">\n                                </div>\n                            </li>\n                        </ul>\n                    </li>\n                    <li class="po-menu-item" ac="publish">\n                        <div class="po-menu-item-box">\n                            <span class="po-diagraming-icons po-menu-icon">&#xe6d1;</span>\n                            <span class="text">发布</span>\n                        </div>\n                    </li>\n                    <li class="po-menu-item" ac="share">\n                        <div class="po-menu-item-box">\n                            <span class="po-diagraming-icons po-menu-icon">&#xe6d8;</span>\n                            <span class="text">分享协作</span>\n                        </div>\n                    </li>\n                    <li class="devider"></li>\n                    <li class="po-menu-item" ac="history">\n                        <div class="po-menu-item-box">\n                            <span class="po-diagraming-icons po-menu-icon">&#xe6af;</span>\n                            <span class="text">历史记录</span>\n                        </div>\n                    </li>\n                    <li class="po-menu-item" ac="print">\n                        <div class="po-menu-item-box">\n                            <span class="po-diagraming-icons po-menu-icon">&#xe99c;</span>\n                            <span class="text">打印</span>\n                            <span class="po-menu-hotkey">Ctrl+P</span>\n                        </div>\n                    </li>\n                    <li class="po-menu-item" ac="close">\n                        <div class="po-menu-item-box">\n                            <span class="text">关闭</span>\n                        </div>\n                    </li>\n                </ul>'},render:function(){var e=PoEditorClient.getRightBar(),t=this.domData.clb+this.domData.export+this.domData.public+this.domData.photo;e.append(t),$("#po_user_photo_now").on("error",function(){$(this).attr("src","//cdn.processon.com/62a9b02c6376893f4929f1d2")});var n=PoEditorClient.getLeftBar();n.prepend(this.domData.back+this.domData.logo);var i=n.find(".header-container-top"),o=this.domData.rename+this.domData.fav+this.domData.save;i.append(o),n.find(".header-container-bottom").prepend(this.domData.file),$("body").append(this.domData.fileMenu+this.domData.exportMenu),$("#header-rename").text(this.chart.title),navigator.userAgent.indexOf("app/tencent_wemeet")>-1&&$("#header-export").hide(),PoEditorInsert.fromBaiduEditor()&&setTimeout(function(){$(".po-clb-user-photo-list").hide()},1e3),chartObj.collaRole&&"viewer"==chartObj.collaRole?$(".header-container-bottom .po-tool-button").css("opacity","0.4"):$(".header-container-bottom.po-tool-button").css("opacity","1")},initEvent:function(){var e=this;$("#header-export").button({onClick:function(e,t){if(PoEditorInsert.fromBaiduEditor());else if(PoEditorInsert.isLoginOrNot())return;if(!PoEditorInsert.fromBaiduEditor()&&editorGlobalConfig&&editorGlobalConfig.noFilesNum)PoEditorInsert.pay({title:"升级畅享全部会员权益",pointsSource:"三方文件数不足"});else{$("#header-export-menu").dropdown({target:t,position:"right",onSelect:function(e){var t=e.attr("type");PoEditorInsert.outHandleExport(t,FlowBar.chart,"flow")}});try{var n=window.location.href.indexOf("down")>=0?"个人文件页":"流程图编辑器",i="私人文件";"undefined"!=typeof chartObj&&chartObj.orgId&&(i="团队文件",window.location.href.indexOf("down")>=0&&(n="团队文件页")),poPoint.collect("export_click",{"当前页面":n,"文件类型":CategoryMap[chartObj.category],"文件属性":i})}catch(e){}}}}),$("#po-clb-button").off().on("click",function(e){PoEditorInsert.share()}),$("#po-publish-button").off().on("click",function(){PoEditorInsert.publish()}),$("#po-flow-user-photo img").attr("src",e.user.photoUrl),$("#po-flow-user-photo").off().on("click",function(t){var n=$(this);PoEditorInsert.userPhotoMenu.init(n,{user:{icon:e.user.photoUrl,text:e.user.fullName}})}),$(".flow-back").button({onClick:function(){var e=localStorage.getItem("po_file_source");localStorage.removeItem("po_file_source");var t=e||"/diagrams";window.location.href=t}}),$(".flow-logo").off("click").on("click",function(e){var t=localStorage.getItem("po_file_source");localStorage.removeItem("po_file_source");var n=t||"/diagrams";window.location.href=n}),$("#header-rename").on("blur",function(){var t=Util.filterXss($(this).text().trim());$("#header-rename").html(""),setTimeout(function(){$("#header-rename").html(t)},60),e.chart.title!=t&&e.rename(t)}).on("keydown",function(e){e.stopPropagation(),13==e.keyCode&&$("#header-rename").blur()}).on("focus",function(e){$(this).selectText()}),e.favouriteFn(e.chart.favourite),$("#header-fav").button({onClick:function(t,n){chartObj.collaRole&&"viewer"==chartObj.collaRole||PoEditorInsert.isLoginOrNot()||(editorGlobalConfig&&editorGlobalConfig.noFilesNum?PoEditorInsert.pay({title:"升级畅享全部会员权益",pointsSource:"三方文件数不足"}):e.favChart())}}),$("#header-history").button({onClick:function(e,t){"A"!==e.target.tagName&&PoEditorClient.openHistory()}}),$("#header-file").button({onClick:function(t,n){chartObj.collaRole&&"viewer"==chartObj.collaRole||PoEditorInsert.isLoginOrNot()||(editorGlobalConfig&&editorGlobalConfig.noFilesNum?PoEditorInsert.pay({title:"升级畅享全部会员权益",pointsSource:"三方文件数不足"}):$("#header-file-menu").dropdown({target:n,onSelect:function(t){var n=t.attr("ac");if("creat"==n){var i=t.attr("cate");e.newFile(i)}else if("temp"==n)window.open("/diagrams/new?category="+mind);else if("file"==n){var o=t.attr("file");window.open("/diagraming/"+o)}else if("rename"==n)$("#header-rename").focus(),$("#header-rename").select();else if("save"==n)e.save();else{if("view"==n)return void window.open("/preview/"+chartObj.chartId);if("copy"==n)e.copyFile();else if("move"==n);else if("export"==n){var a=t.attr("type");PoEditorInsert.outHandleExport(a,FlowBar.chart,"flow")}else"history"==n?PoEditorClient.openHistory():"publish"==n?PoEditorInsert.publish():"share"==n?PoEditorInsert.share():"print"==n?PoEditorClient.openPrint():"close"==n&&(window.location.href=domain+"/diagrams")}}}))}})},rename:function(e){if(e&&""!=chartId){var t=Util.restoreXss(e);if(Util.getCharLength(t)>128)return void $.toast({type:"error",text:"文件名不能超过128个字符"});PoEditorClient.rename(e),editorGlobalConfig.chartObj.title=e,$("title").html(e+"-ProcessOn"),Util.localChange({type:"rename",chartId:editorGlobalConfig.chartObj.chartId,title:editorGlobalConfig.chartObj.title})}},favChart:function(){var e=this;Util.ajax({url:"/api/personal/view/favourite_chart",data:{chartId:chartId,chartType:"chart"},success:function(t){e.chart.favourite=!e.chart.favourite,e.favouriteFn(e.chart.favourite),$("#header-fav").trigger("mouseover")}})},favouriteFn:function(e){e?($("#header-fav").children("span").html("&#xe71e;"),$("#header-fav").attr("original-title","取消收藏"),$("#header-fav").addClass("active")):($("#header-fav").children("span").html("&#xe6b2;"),$("#header-fav").attr("original-title","收藏"),$("#header-fav").removeClass("active"))},newFile:function(e){var t=this.user.userId==this.chart.owner.userId&&this.chart.folderId?this.chart.folderId:"root";Util.ajax({url:"/api/personal/diagraming/create",data:{folderId:t,category:e},success:function(e){var t=e.chart.chartId,n=e.chart.category,i="/";i="outline"==n?"/outline/"+t:n.indexOf("mind")>-1?"/mindmap/"+t:n.indexOf("markdown")>-1?"/markdown_editor/"+t:"/diagraming/"+t,Util.localChange({type:"newfile",chartId:t}),window.open(i,t)}});try{buried_point_fn("click","new_function",buried_point.visit.pageName,{"操作":"新建文件","新建类型":"空白文件","文件类型":e})}catch(n){}},copyFile:function(){var e=this.user.userId==this.chart.owner.userId&&this.chart.folderId?this.chart.folderId:"root";Util.ajax({url:"/api/personal/diagraming/create",data:{folderId:e,templateId:this.chart.chartId},success:function(e){var t=e.chart.chartId;Util.localChange({type:"clone",chartId:t}),window.open("/diagraming/"+t)}});try{buried_point_fn("click","new_function",buried_point.visit.pageName,{"操作":"克隆文件","文件类型":this.chart.category})}catch(t){}},save:function(){PoEditorClient.saveOnline()}},window.MarkdownBar={chart:{},user:{},init:function(e){this.chart=e.chartObj,this.user=e.userObj,this.render(),this.initEvent()},domData:{export:'<div class="po-tool-button" tit="export" title="导出为"><span class="po-diagraming-icons">&#xe939;</span></div>',exportMenu:'<ul id="header-export-menu" class="po-menu-icon po-menu" style="width:160px">\n                        <li class="po-menu-item"  tit="pos">\n                            <div class="po-menu-item-box">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe983;</span>\n                                <span class="text">POS文件</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="md">\n                            <div class="po-menu-item-box vip-tip">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe903;</span>\n                                <span class="text">Markdown文件</span>\n                            </div>\n                        </li>\n                    </ul>',back:'<div id="mind-designer-back" class="po-tool-button" tit="back"><span class="po-diagraming-icons" style="font-size:20px;line-height: 20px"> &#xe726;</span></div>',file:'<div id="header-file" class="header-file"> <div class="header-logo"><img src="/assets/images/editorBar/logo-react.svg" alt=""></div>\n            <ul id="header-file-menu" class="po-menu po-menu-icon header-file-menu">\n                <li class="po-menu-item extend" ac="new">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe6c2;</span>\n                        <span class="text">新建</span>\n                        <span class="extend-icon po-diagraming-icons">&#xe6b7;</span>\n                    </div>\n                    <ul class="po-menu extend-menu" style="width:160px">\n                        <li class="po-menu-item" ac="mind_free">\n                            <div class="po-menu-item-box">\n                                <img src="/assets/images/editorBar/mind.png" class="po-menu-icon">\n                                <span class="text">思维导图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  ac="flow">\n                            <div class="po-menu-item-box">\n                                <img src="/assets/images/editorBar/flow.png" class="po-menu-icon">\n                                <span class="text">流程图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  ac="outline">\n                            <div class="po-menu-item-box">\n                                <img src="/assets/images/editorBar/outline.png" class="po-menu-icon">\n                                <span class="text">思维笔记</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  ac="ui">\n                            <div class="po-menu-item-box">\n                                <img src="/assets/images/editorBar/ui.png" class="po-menu-icon">\n                                <span class="text">原型图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  ac="uml">\n                            <div class="po-menu-item-box">\n                                <img src="/assets/images/editorBar/UML.png" class="po-menu-icon">\n                                <span class="text">UML</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  ac="network">\n                            <div class="po-menu-item-box">\n                                <img src="/assets/images/editorBar/network.png" class="po-menu-icon">\n                                <span class="text">网络拓扑图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  ac="mind_org">\n                            <div class="po-menu-item-box">\n                                <img src="/assets/images/editorBar/org.png" class="po-menu-icon">\n                                <span class="text">组织结构图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  ac="bpmn">\n                            <div class="po-menu-item-box">\n                                <img src="/assets/images/editorBar/BPMN.png" class="po-menu-icon">\n                                <span class="text">BPMN</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  ac="markdown">\n                            <div class="po-menu-item-box">\n                                <img src="/assets/images/editorBar/markdown.svg" class="po-menu-icon" style="width: 15px; height: 15px; margin-left: 2px;">\n                                <span class="text">Markdwon</span>\n                            </div>\n                        </li>\n                    </ul>\n                </li>\n                <li class="po-menu-item" ac="view">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe6d4;</span>\n                        <span class="text">预览</span>\n                    </div>\n                </li>\n                <li class="po-menu-item" ac="save">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe6a0;</span>\n                        <span class="text">保存</span>\n                        <span class="po-menu-hotkey">Ctrl+S</span>\n                    </div>\n                </li>\n                <li class="po-menu-item" ac="search">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe72d;</span>\n                        <span class="text">查找替换</span>\n                        <span class="po-menu-hotkey">Ctrl+F</span>\n                    </div>\n                </li>\n                 <li class="po-menu-item" ac="importMd">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe900;</span>\n                        <span class="text">导入Markdown</span>\n                    </div>\n                </li>\n            </ul>\n        </div>',rename:'<div id="header-title" class="title" contenteditable="true"></div>',htmlMode:'<div class="po-tool-button" title="预览" tit="htmlMode"><span class="po-diagraming-icons">&#xe906;</span></div>',mindMode:'<div class="po-tool-button" title="脑图预览" tit="mindMode"><span class="po-diagraming-icons">&#xe901;</span></div>',allScreenMode:'<div class="po-tool-button" title="全屏编辑" tit="allScreenEditMode"><span class="po-diagraming-icons">&#xe902;</span></div>',split:'<div class="split"></div>',save:'<div id="header-history" class="history-button po-tool-button" tit="history" style="line-height: 1"><img id="save_img" class="save_img" src="/v5_editor/static/images/saved.gif" /><span id="save-tip">已保存</span></div>',saveBtn:'<div class="po-tool-button sava-btn" tit="save" title="保存" ><span class="po-diagraming-icons">&#xe920;</span></div>',saveMind:'<div class="po-text-button" tit="saveMind" >生成思维导图</div>'},render:function(){var e=$(PoEditorClient.getRightBar()),t=this.domData.mindMode+this.domData.htmlMode+this.domData.allScreenMode+this.domData.split+this.domData.export+this.domData.split+this.domData.saveMind;e.append(t),$("#user_photo_now").on("error",function(){$(this).attr("src","//cdn.processon.com/62a9b02c6376893f4929f1d2")}),e.children(".po-clb-user-photo-list").after(this.domData.clb),$(PoEditorClient.getLeftBar()).children(".toolbar-filling").after(this.domData.back+this.domData.file+this.domData.rename+this.domData.save+this.domData.saveBtn),$("body").append(this.domData.exportMenu),navigator.userAgent.indexOf("app/tencent_wemeet")>-1&&$("#header-export").hide()},initEvent:function(){var e=this,t=$("#header-title"),n=e.chart.title;t.text(n),t.on("blur",function(i){i.stopPropagation();var o=$(this).text();$(this).removeClass("empty"),t.html(""),""!=o?(setTimeout(function(){t.text(o)},60),""!=o&&e.rename(o)):$(this).text(Util.restoreXss(n))}).on("keydown",function(e){e.stopPropagation(),13==e.keyCode&&$(this).blur()}).on("focus",function(){"未命名文件"==n&&$(this).html("").addClass("empty")}),$(".mind-header [tit]").on("click",function(t){if(PoEditorInsert.fromBaiduEditor());else if(PoEditorInsert.isLoginOrNot())return;if(editorGlobalConfig&&editorGlobalConfig.noFilesNum)PoEditorInsert.pay({title:"升级畅享全部会员权益",pointsSource:"三方文件数不足"});else{t.stopPropagation();var n=$(this),i=n.attr("tit"),o=function(){n.siblings().removeClass("active"),n.addClass("active"),PoEditorClient.setMarkdownShowMode(i.replace("Mode",""))};switch(i){case"back":var a=localStorage.getItem("po_file_source");localStorage.removeItem("po_file_source");var r=a||"/diagrams";window.location.href=r;break;case"save":e.save();break;case"saveMind":var s=PoEditorClient.getDef("pos");s.diagram.elements||(s.diagram.elements={root:"true",showWatermark:!1,structure:"mind_free",title:e.chart.title,id:"root",children:[]});var c=JSON.stringify(s);blob=new Blob([c],{type:"text/json"});var d=new File([blob],e.chart.title+".pos"),l=e.user.userId==e.chart.owner.userId&&e.chart.folderId?e.chart.folderId:"root",p=new FormData;p.append("file",d),p.append("fileType","pos"),p.append("folder",l);Util.ajax({url:"/api/personal/import/file",type:"post",async:!1,contentType:!1,processData:!1,data:p,success:function(e){var t=e&&e.chartId;t&&window.open("/mindmap/"+t,t)}}),poCollect("markdown_down_function",{"导出格式":"另存为思维导图"});break;case"export":$("#header-export-menu").dropdown({target:n,zindex:4,position:"right",onSelect:function(t){var n,i=t.attr("tit"),o="";if("pos"===i||"md"===i){o=i+"文件";var a=PoEditorClient.getDef(i);if("pos"===i){var r=JSON.stringify(a);n=new Blob([r],{type:"text/json"})}else n=new Blob([a],{type:i});var s=URL.createObjectURL(n);PoEditorInsert.triggerDownload(s,e.chart.title+".".concat(i))}else{o="另存为思维导图";var c=PoEditorClient.getDef("pos");c.diagram.elements||(c.diagram.elements={root:"true",showWatermark:!1,structure:"mind_free",title:e.chart.title,id:"root",children:[]});r=JSON.stringify(c);n=new Blob([r],{type:"text/json"});var d=new File([n],e.chart.title+".pos"),l=e.user.userId==e.chart.owner.userId&&e.chart.folderId?e.chart.folderId:"root",p=new FormData;p.append("file",d),p.append("fileType","pos"),p.append("folder",l);Util.ajax({url:"/api/personal/import/file",type:"post",async:!1,contentType:!1,processData:!1,data:p,success:function(e){var t=e&&e.chartId;t&&window.open("/mindmap/"+t,t)}})}poCollect("markdown_down_function",{"导出格式":o})}});break;case"allScreenEditMode":o(),poCollect("markdown_click",{"按钮名称":"顶部工具栏-全屏"});break;case"htmlMode":o(),poCollect("markdown_click",{"按钮名称":"顶部工具栏-预览"});break;case"mindMode":o(),poCollect("markdown_click",{"导出按钮名称格式":"顶部工具栏-脑图预览"})}}});var i=!1;$("#header-file").off().on("mousedown",function(e){e.stopPropagation()}).on("mouseenter",function(t){if(!PoEditorInsert.isLoginOrNot()){if(!editorGlobalConfig||!editorGlobalConfig.noFilesNum)return"viewer"!==e.chart.collaRole&&void(i||(i=!0,e.renderRecentFile(),$("#header-file-menu").show().find("li").off().on("click",function(){var t=$(this),n=t.attr("ac");window.mind&&mind.events.push("hideRightMoreList"),"importMd"==n?e.importMd():"view"==n?window.open("/preview/"+e.chart.chartId):"save"==n?e.save():"search"==n?PoEditorClient.openSearch():"new"==t.parent().parent().attr("ac")&&e.newFile(n)})));PoEditorInsert.pay({title:"升级畅享全部会员权益",pointsSource:"三方文件数不足"})}}).on("mouseleave",function(e){i=!1,$("#header-file-menu").dropdown("close")}),$("#more-file").on("click",function(){window.open("/history")})},rename:function(e){var t=this,n=this.chart.chartId;if(e&&""!=n){var i=Util.restoreXss(e);if(Util.getCharLength(i)>128)return void $.toast({type:"error",text:"文件名不能超过128个字符"});Util.ajax({url:"/api/personal/chart/rename",data:{title:i,ignore:"title",chartId:n},success:function(n){t.chart.title=e,$("title").html(e+"-ProcessOn"),Util.localChange({type:"rename",chartId:t.chart.chartId,title:t.chart.title})}})}},importMd:function(){var e=o(n().mark(function e(){var t,i,o,a,r;return n().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,i=function(e){return new Promise(function(t){var n=function(e){void 0===e&&(e={});var t=e.accept;void 0===t&&(t="");var n=e.capture;void 0===n&&(n=!1);var i=e.multiple;void 0===i&&(i=!1);var o=document.createElement("input");return o.type="file",o.accept=t,o.capture=n,o.multiple=i,o}(e);n.addEventListener("change",function(){return t(n.files||null)}),setTimeout(function(){var e=new MouseEvent("click");n.dispatchEvent(e)},0)})},e.next=4,i({accept:".md",multiple:!1});case 4:o=e.sent,a=t.user.userId==t.chart.owner.userId&&t.chart.folderId?t.chart.folderId:"root",r=new FormData,"/api/personal/import/markdown",r.append("file",o[0]),r.append("fileType","markdown"),r.append("folder",a),Util.ajax({url:"/api/personal/import/markdown",type:"post",async:!1,contentType:!1,processData:!1,data:r,success:function(e){var t=e&&e.chartId;t&&window.open("/markdown_editor/"+t,t)}});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),newFile:function(e){var t=this.user.userId==this.chart.owner.userId&&this.chart.folderId?this.chart.folderId:"root";Util.ajax({url:"/api/personal/diagraming/create",data:{folderId:t,category:e},success:function(e){var t=e.chart.chartId,n=e.chart.category,i="/";i="outline"==n?"/outline/"+t:n.indexOf("mind")>-1?"/mindmap/"+t:n.indexOf("markdown")>-1?"/markdown_editor/"+t:"/diagraming/"+t,Util.localChange({type:"newfile",chartId:t}),window.open(i,t)}});try{buried_point_fn("click","new_function",buried_point.visit.pageName,{"操作":"新建文件","新建类型":"空白文件","文件类型":e})}catch(n){}},copyFile:function(){var e=this.user.userId==this.chart.owner.userId&&this.chart.folderId?this.chart.folderId:"root";Util.ajax({url:"/api/personal/diagraming/create",data:{folderId:e,templateId:this.chart.chartId},success:function(e){var t=e.chart.chartId;Util.localChange({type:"clone",chartId:t}),window.open("/mindmap/"+t)}});try{buried_point_fn("click","new_function",buried_point.visit.pageName,{"操作":"克隆文件","文件类型":this.chart.category})}catch(t){}},save:function(){PoEditorClient.saveOnline()},renderRecentFile:function(){var e=this;Util.ajax({type:"get",url:"/api/personal/folder/history_files",success:function(t){for(var n="",i=0;i<t.charts.length;i++){var o=t.charts[i];o.category.indexOf("mind")>=0?o.category="mind":"outline"==o.category?o.category="outline":o.category="flow",n+='<div class="po-menu-item-box" tp="'+o.category+'" id="'+o.chartId+'"><img src="'+staticBasePath+"/images/"+o.category+'.png" class="po-menu-icon"><span class="text">'+o.title+"</span></div>"}$("#recentFile").html(n),$("#recentFile>div").off().on("click",function(){var t=$(this);e.openFile(t.attr("tp"),t.attr("id"))})}})},openFile:function(e,t){e&&e.indexOf("mind")>=0?window.open("/mindmap/"+t,t):"outline"==e?window.open("/outline/"+t,t):window.open("/diagraming/"+t,t)}},window.MindBar={chart:{},user:{},init:function(e){this.chart=e.chartObj,this.user=e.userObj,this.render(),this.initEvent()},domData:{clb:'<div class="po-clb-btn po-button primary" tit="colla">分享协作</div>',public:'<div class="po-tool-button" title="发布" tit="publish"><span class="po-diagraming-icons">&#xe6d1;</span></div>',export:'<div class="po-tool-button" tit="export" title="导出为"><span class="po-diagraming-icons">&#xe939;</span></div>',exportMenu:'<ul id="header-export-menu" class="po-menu-icon po-menu" style="width:220px">\n                        <li class="po-menu-item"  tit="png">\n                            <div class="po-menu-item-box">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe981;</span>\n                                <span class="text">PNG</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="jpg">\n                            <div class="po-menu-item-box">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe981;</span>\n                                <span class="text">JPG</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="pos">\n                            <div class="po-menu-item-box">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe983;</span>\n                                <span class="text">POS文件</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="xmind">\n                            <div class="po-menu-item-box vip-tip">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe985;</span>\n                                <span class="text">XMind文件</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="fmind">\n                            <div class="po-menu-item-box vip-tip">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe97f;</span>\n                                <span class="text">FreeMind文件<span>（.mm）</span></span>\n                            </div>\n                        </li>\n                        <li class="devider devi-clip"></li>\n                        <li class="po-menu-item"  tit="word">\n                            <div class="po-menu-item-box vip-tip">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe980;</span>\n                                <span class="text">Word<span>（.docx）</span></span>\n                \n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="csv">\n                            <div class="po-menu-item-box vip-tip">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe97d;</span>\n                                <span class="text">Excel<span>（.csv）</span></span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="ppt">\n                            <div class="po-menu-item-box vip-tip">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe97e;</span>\n                                <span class="text">PPT文件</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="pdfHD">\n                            <div class="po-menu-item-box vip-tip">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe982;</span>\n                                <span class="text">高清PDF</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="svg">\n                            <div class="po-menu-item-box vip-tip">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe986;</span>\n                                <span class="text">SVG</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="pnghd">\n                            <div class="po-menu-item-box vip-tip">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe981;</span>\n                                <span class="text">高清PNG</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="jpghd">\n                            <div class="po-menu-item-box vip-tip">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe981;</span>\n                                <span class="text">高清JPG</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item"  tit="pos_all">\n                            <div class="po-menu-item-box">\n                                <span class="po-menu-icon po-diagraming-icons">&#xe983;</span>\n                                <span class="text">导出全部画布<span>（.posm）</span></span>\n                            </div>\n                        </li>\n                        <li style="display:none">\n                            <iframe name="export_iframe" style="display: none"></iframe>\n                            <form id="export_form"  target="export_iframe" action="/chart_image/diagram_export/mindmap" method="post">\n                                <input id="export_definition" type="hidden" name="definition"/>\n                                <input id="export_title" type="hidden" name="title"/>\n                                <input id="export_width" type="hidden" name="width"/>\n                                <input id="export_height" type="hidden" name="height"/>\n                                <input id="export_canvasId" type="hidden" name="canvasId">\n                                <input id="export_id" type="hidden" name="chartId">\n                                <input type="hidden" name="ignore" value="definition"/>\n                                <input id="export_type" type="hidden" name="type">\n                                <input id="export_source" type="hidden" name="source">\n                                <input id="export_uuid" type="hidden" name="powerStr"> \n                            </form>\n                        </li>\n                    </ul>',photo:'<div class="po-user-photo" tit="head"><img id="user_photo_now" src="" alt=""></div>',back:'<div id="mind-designer-back" class="po-tool-button" tit="back"><span class="po-diagraming-icons" style="font-size:20px;line-height: 20px"> &#xe726;</span></div>',file:'<div id="header-file" class="header-file"> <div class="header-logo"><img src="/v5_editor/static/assets/images/logo-react.svg" alt=""></div>\n            <ul id="header-file-menu" class="po-menu po-menu-icon header-file-menu">\n                <li class="po-menu-item extend" ac="new">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe6c2;</span>\n                        <span class="text">新建</span>\n                        <span class="extend-icon po-diagraming-icons">&#xe6b7;</span>\n                    </div>\n                    <ul class="po-menu extend-menu" style="width:160px;max-height:600px;overflow-y:auto;">\n                        <li class="po-menu-item" ac="mind_free">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/mind.png" class="po-menu-icon">\n                                <span class="text">思维导图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="flow">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/flow.png" class="po-menu-icon">\n                                <span class="text">流程图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="outline">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/outline.png" class="po-menu-icon">\n                                <span class="text">思维笔记</span>\n                            </div>\n                        </li>\n                        <li class="devider"></li>\n                        <li class="po-menu-item" ac="mind_timeline_h">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/sxt.png" class="po-menu-icon">\n                                <span class="text">时间轴</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="mind_ishikawa_left">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/sjz.png" class="po-menu-icon">\n                                <span class="text">鱼骨图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="mind_org">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/szjgt.png" class="po-menu-icon">\n                                <span class="text">组织结构图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="mind_tree_free">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/ygt.png" class="po-menu-icon">\n                                <span class="text">树形图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="mind_brace_right">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/kht.png" class="po-menu-icon">\n                                <span class="text">括号图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="uml">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/uml.png" class="po-menu-icon">\n                                <span class="text">UML图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="er">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/er.png" class="po-menu-icon">\n                                <span class="text">ER图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="graph">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/graph.png" class="po-menu-icon">\n                                <span class="text">图表/表格</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="plana">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/plana.png" class="po-menu-icon">\n                                <span class="text">平面图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="gantt">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/gantt.png" class="po-menu-icon">\n                                <span class="text">甘特图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="framework">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/framework.png" class="po-menu-icon">\n                                <span class="text">架构图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="network">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/wltpt.png" class="po-menu-icon">\n                                <span class="text">网络拓扑图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="swimlane">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/swimlane.png" class="po-menu-icon">\n                                <span class="text">泳道图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="circuit">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/circuit.png" class="po-menu-icon">\n                                <span class="text">电路图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="venn">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/wnt.png" class="po-menu-icon">\n                                <span class="text">韦恩图</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="bpmn">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/bpmn.png" class="po-menu-icon">\n                                <span class="text">BPMN</span>\n                            </div>\n                        </li>\n                        <li class="po-menu-item" ac="ui">\n                            <div class="po-menu-item-box">\n                                <img src="../../assets/images/editor/yxt.png" class="po-menu-icon">\n                                <span class="text">原型图</span>\n                            </div>\n                        </li>\n                    </ul>\n                </li>\n                <li class="po-menu-item" ac="view">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe6d4;</span>\n                        <span class="text">预览</span>\n                    </div>\n                </li>\n                <li class="po-menu-item" ac="save">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe6a0;</span>\n                        <span class="text">保存</span>\n                        <span class="po-menu-hotkey">Ctrl+S</span>\n                    </div>\n                </li>\n                <li class="po-menu-item" ac="search">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe72d;</span>\n                        <span class="text">查找替换</span>\n                        <span class="po-menu-hotkey">Ctrl+F</span>\n                    </div>\n                </li>\n                <li class="po-menu-item" ac="history">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe6af;</span>\n                        <span class="text">历史记录</span>\n                        <span class="po-menu-hotkey">Shift+R</span>\n                    </div>\n                </li>\n                <li class="po-menu-item" ac="clone">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe6d9;</span>\n                        <span class="text">克隆</span>\n                    </div>\n                </li>\n                <li class="devider"></li>\n                <li class="name">最近编辑<span id="more-file">更多</span></li>\n                <li class="po-menu-item scroll" id="recentFile" style="max-height:175px">\n                </li>\n            </ul>\n        </div>',rename:'<div id="header-title" class="title" contenteditable="true"></div>',fav:'<div class="po-tool-button" tit="collect" title="收藏" id="collect-btn" style="line-height: 1"> <span class="po-diagraming-icons">&#xe6b2;</span> </div>',save:'<div id="header-history" class="history-button po-tool-button" title="历史记录（Shift+R）" tit="history" style="line-height: 1"><img id="save_img" class="save_img" src="/v5_editor/static/images/saved.gif" /><span id="save-tip">已保存</span></div>'},render:function(){var e=PoEditorClient.getRightBar(),t=this.domData.export+this.domData.public+this.domData.photo;e.append(t),$("#user_photo_now").on("error",function(){$(this).attr("src","//cdn.processon.com/62a9b02c6376893f4929f1d2")}),e.children(".po-clb-user-photo-list").after(this.domData.clb);var n=PoEditorClient.getLeftBar();n.children(".toolbar-filling").after(this.domData.back+this.domData.file+this.domData.rename+this.domData.fav+this.domData.save),$("body").append(this.domData.exportMenu),"viewer"==this.chart.collaRole&&(e.find("[tit=export]").addClass("disabled"),e.find("[tit=publish]").addClass("disabled"),n.find("#header-title").addClass("disabled"),n.find("#header-file").addClass("disabled"),n.find("#header-history").addClass("disabled")),navigator.userAgent.indexOf("app/tencent_wemeet")>-1&&$(".po-tool-button[tit='export']").hide(),PoEditorInsert.fromBaiduEditor()&&setTimeout(function(){$(".po-clb-user-photo-list").hide()},1e3)},initEvent:function(){var e=this,t=$("#header-title"),n=e.chart.title;t.text(n),$(".po-user-photo img").attr("src",e.headerImageUrl()),t.on("blur",function(e){e.stopPropagation();var i=$(this).text();$(this).removeClass("empty"),t.html(""),""!=i?(setTimeout(function(){t.text(i)},60),""!=i&&PoEditorClient.rename(i)):$(this).text(Util.restoreXss(n))}).on("keydown",function(e){e.stopPropagation(),13==e.keyCode&&$(this).blur()}).on("focus",function(){"未命名文件"==$(this).text()&&$(this).html("").addClass("empty")}),$(".mind-header [tit]").on("click",function(t){if(PoEditorInsert.fromBaiduEditor());else if(PoEditorInsert.isLoginOrNot())return;if(!PoEditorInsert.fromBaiduEditor()&&editorGlobalConfig&&editorGlobalConfig.noFilesNum)PoEditorInsert.pay({title:"升级畅享全部会员权益",pointsSource:"三方文件数不足"});else{t.stopPropagation();var n=$(this);switch(n.attr("tit")){case"back":var i=localStorage.getItem("po_file_source");localStorage.removeItem("po_file_source");var o=i||"/diagrams";window.location.href=o;break;case"collect":e.favChart();break;case"history":PoEditorClient.openHistory();break;case"export":if($("#header-export-menu").dropdown({target:n,zindex:4,position:"right",onSelect:function(e){var t=e.attr("tit");PoEditorInsert.outHandleExport(t,MindBar.chart,"mind")}}),"function"==typeof buried_point_fn){var a=window.location.href.indexOf("down")>=0?"个人文件页":"思维导图编辑器",r="私人文件";void 0!==e.chart&&e.chart.orgId&&(r="团队文件",window.location.href.indexOf("down")>=0&&(a="团队文件页")),buried_point_fn("click","export_click",a,{"按钮名称":"下载","文件类型":e.chart.category,"文件属性":r})}break;case"publish":PoEditorInsert.publish();break;case"colla":PoEditorInsert.share();break;case"head":PoEditorInsert.userPhotoMenu.init(n,{user:{icon:e.user.photoUrl,text:e.user.fullName}})}}});var i=!1;$("#header-file").off().on("mousedown",function(e){e.stopPropagation()}).on("mouseenter",function(t){if(!PoEditorInsert.isLoginOrNot()){if(!editorGlobalConfig||!editorGlobalConfig.noFilesNum)return"viewer"!==e.chart.collaRole&&void(i||(i=!0,e.renderRecentFile(),$("#header-file-menu").show().find("li").off().on("click",function(){var t=$(this),n=t.attr("ac");window.mind&&mind.events.push("hideRightMoreList"),"import"==n||("view"==n?window.open("/preview/"+e.chart.chartId):"save"==n?e.save():"search"==n?PoEditorClient.openSearch():"history"==n?PoEditorClient.openHistory():"clone"==n?e.copyFile():"new"==t.parent().parent().attr("ac")&&e.newFile(n))})));PoEditorInsert.pay({title:"升级畅享全部会员权益",pointsSource:"三方文件数不足"})}}).on("mouseleave",function(e){i=!1,$("#header-file-menu").dropdown("close")}),$("#more-file").on("click",function(){window.open("/history")})},headerImageUrl:function(){return"https://user-photo.ks3-cn-beijing.ksyuncs.com/"+this.user.userId+".png"},rename:function(e){if(e&&""!=chartId){var t=Util.restoreXss(e);if(Util.getCharLength(t)>128)return void $.toast({type:"error",text:"文件名不能超过128个字符"});PoEditorClient.rename(e),editorGlobalConfig.chartObj.title=e,$("title").html(e+"-ProcessOn"),Util.localChange({type:"rename",chartId:editorGlobalConfig.chartObj.chartId,title:editorGlobalConfig.chartObj.title})}},favChart:function(){var e=this;Util.ajax({url:"/api/personal/view/favourite_chart",data:{chartId:e.chart.chartId,chartType:"chart"},success:function(t){e.chart.favourite=!e.chart.favourite,e.favouriteFn(e.chart.favourite),$("#collect-btn").trigger("mouseover")}})},favouriteFn:function(e){var t=$("#collect-btn");e?(t.children("span").html("&#xe71e;"),t.attr("original-title","取消收藏"),t.addClass("active")):(t.children("span").html("&#xe6b2;"),t.attr("original-title","收藏"),t.removeClass("active"))},newFile:function(e){var t=this.user.userId==this.chart.owner.userId&&this.chart.folderId?this.chart.folderId:"root";Util.ajax({url:"/api/personal/diagraming/create",data:{folderId:t,category:e},success:function(e){var t=e.chart.chartId,n=e.chart.category,i="/";i="outline"==n?"/outline/"+t:n.indexOf("mind")>-1?"/mindmap/"+t:n.indexOf("markdown")>-1?"/markdown_editor/"+t:"/diagraming/"+t,Util.localChange({type:"newfile",chartId:t}),window.open(i,t)}});try{buried_point_fn("click","new_function",buried_point.visit.pageName,{"操作":"新建文件","新建类型":"空白文件","文件类型":e})}catch(n){}},copyFile:function(){var e=this.user.userId==this.chart.owner.userId&&this.chart.folderId?this.chart.folderId:"root";Util.ajax({url:"/api/personal/diagraming/create",data:{folderId:e,templateId:this.chart.chartId},success:function(e){var t=e.chart.chartId;Util.localChange({type:"clone",chartId:t}),window.open("/mindmap/"+t)}});try{buried_point_fn("click","new_function",buried_point.visit.pageName,{"操作":"克隆文件","文件类型":this.chart.category})}catch(t){}},save:function(){PoEditorClient.saveOnline()},renderRecentFile:function(){var e=this;Util.ajax({type:"get",url:"/api/personal/folder/history_files",success:function(t){for(var n="",i=0;i<t.charts.length;i++){var o=t.charts[i];o.category.indexOf("mind")>=0?o.category="mind":"outline"==o.category?o.category="outline":o.category="flow",n+='<div class="po-menu-item-box" tp="'+o.category+'" id="'+o.chartId+'"><img src="'+staticBasePath+"/images/"+o.category+'.png" class="po-menu-icon"><span class="text">'+o.title+"</span></div>"}$("#recentFile").html(n),$("#recentFile>div").off().on("click",function(){var t=$(this);e.openFile(t.attr("tp"),t.attr("id"))})}})},openFile:function(e,t){e&&e.indexOf("mind")>=0?window.open("/mindmap/"+t,t):"outline"==e?window.open("/outline/"+t,t):window.open("/diagraming/"+t,t)}},window.outlineBar={chart:{},user:{},init:function(e){this.chart=e.chartObj,this.user=e.userObj,this.render(),this.initEvent()},domData:{clb:'<a id="btn_colla_share" class="nav-i"  tit="btn_colla_share" title="分享协作"  class="icon-button header-item"><i class="ol-icons">&#xe60b;</i></a>'},render:function(){var e=PoEditorClient.getRightBar(),t=this.domData.clb;e.prepend(t),e.children(".po-clb-user-photo-list").after(this.domData.clb),$("body").append(this.domData.exportMenu)},initEvent:function(){$("#btn_colla_share").off("mousedown").on("mousedown",function(e){var t=document.body.classList.contains("dark-mode")?"black":"white";PoEditorInsert.share({pattern:t})})},showMenu:function(e,t,n){var i=this;if("string"==typeof e&&"close"==e)return $(".outline-dropdown").removeClass("visible").hide(),void $(".dropdown-active").removeClass("dropdown-active");if(!i.menuOpening){if(i.menuOpening=!0,e.hasClass("dropdown-active"))return i.showMenu("close"),void(i.menuOpening=!1);$(".dropdown-active").removeClass("dropdown-active"),$(".outline-dropdown").removeClass("visible").hide(),t.css("display","block"),$(".header-item.dropdown-active").removeClass("dropdown-active"),e.addClass("dropdown-active");var o=e.offset().left+(e.outerWidth()-t.outerWidth())/2;o+t.width()>$(window).width()&&(o=$(window).width()-t.width()-10),t.addClass("visible"),t.css({left:o,top:e.outerHeight()+17,zIndex:9}),null!=n&&n(),$(document).off("mousedown.menu").on("mousedown.menu",function(e){i.showMenu("close"),$(document).off("mousedown.menu")}),setTimeout(function(){i.menuOpening=!1},300)}},rename:function(e){if(e&&""!=chartId){var t=Util.restoreXss(e);if(Util.getCharLength(t)>128)return void $.toast({type:"error",text:"文件名不能超过128个字符"});PoEditorClient.rename(e),editorGlobalConfig.chartObj.title=e,$("title").html(e+"-ProcessOn"),Util.localChange({type:"rename",chartId:editorGlobalConfig.chartObj.chartId,title:editorGlobalConfig.chartObj.title})}},favChart:function(){var e=this;Util.ajax({url:"/api/personal/view/favourite_chart",data:{chartId:chartId,chartType:"chart"},success:function(t){e.chart.favourite=!e.chart.favourite,e.favouriteFn(e.chart.favourite),$("#collect-btn").trigger("mouseover")}})},favouriteFn:function(e){var t=$("#collect-btn");e?(t.children("span").html("&#xe71e;"),t.attr("original-title","取消收藏"),t.addClass("active")):(t.children("span").html("&#xe6b2;"),t.attr("original-title","收藏"),t.removeClass("active"))},newFile:function(e){var t=this.user.userId==this.chart.owner.userId&&this.chart.folderId?this.chart.folderId:"root";Util.ajax({url:"/api/personal/diagraming/create",data:{folderId:t,category:e},success:function(e){var t=e.chart.chartId,n=e.chart.category,i="/";i="outline"==n?"/outline/"+t:n.indexOf("mind")>-1?"/mindmap/"+t:"/diagraming/"+t,Util.localChange({type:"newfile",chartId:t}),window.open(i,t)}});try{buried_point_fn("click","new_function",buried_point.visit.pageName,{"操作":"新建文件","新建类型":"空白文件","文件类型":e})}catch(n){}},copyFile:function(){var e=this.user.userId==this.chart.owner.userId&&this.chart.folderId?this.chart.folderId:"root";Util.ajax({url:"/api/personal/diagraming/create",data:{folderId:e,templateId:this.chart.chartId},success:function(e){var t=e.chart.chartId;Util.localChange({type:"clone",chartId:t}),window.open("/diagraming/"+t)}});try{buried_point_fn("click","new_function",buried_point.visit.pageName,{"操作":"克隆文件","文件类型":this.chart.category})}catch(t){}},save:function(){PoEditorClient.saveOnline()},renderRecentFile:function(){var e=this;Util.ajax({type:"get",url:"/api/personal/folder/history_files",success:function(t){for(var n="",i=0;i<t.charts.length;i++){var o=t.charts[i];o.category.indexOf("mind")>=0?o.category="mind":"outline"==o.category?o.category="outline":o.category="flow",n+='<div class="po-menu-item-box" tp="'+o.category+'" id="'+o.chartId+'"><img src="'+staticBasePath+"/images/"+o.category+'.png" class="po-menu-icon"><span class="text">'+o.title+"</span></div>"}$("#recentFile").html(n),$("#recentFile>div").off().on("click",function(){var t=$(this);e.openFile(t.attr("tp"),t.attr("id"))})}})},openFile:function(e,t){e&&e.indexOf("mind")>=0?window.open("/mindmap/"+t,t):"outline"==e?window.open("/outline/"+t,t):window.open("/diagraming/"+t,t)}},window.canvasMore={init:function(e){$(function(){e.category.indexOf("mind")>-1&&!e.orgId?$("#header-file-menu .po-menu-item[ac='clone']").hide():"outline"==e.category||e.orgId||$("#header-file-menu .po-menu-item[ac='copy']").hide()})}},window.outDesignerInsertTemp={init:function(e,t){"undefined"==typeof DesignerInsertTemp?require("_bundle_loader")(require.resolve("../common/designerInsertTemp/designer_insert_temp")).then(function(n){outDesignerInsertTemp.editorTemplateInit(e,t)}):outDesignerInsertTemp.editorTemplateInit(e,t)},editorTemplateInit:function(e,t){e&&e.category.indexOf("mind")>-1?DesignerInsertTemp.init("mind",t):e&&e.category.indexOf("outline")>-1||DesignerInsertTemp.init("flow",t)}};
},{"../../common/jquery-1.10.2":"gPHy","../common/ppt/mind.convert.ppt.js":"Lu3M","_bundle_loader":"yU0Q","../common/designerInsertTemp/designer_insert_temp":[["designer_insert_temp.fe38b521.js","KudY"],"designer_insert_temp.0fa94bc8.css","KudY"]}],"AzEq":[function(require,module,exports) {
"use strict";var e=t(require("./personal/edit_c"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e){return o(e)||i(e)||a(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){d=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,r){return e[t]=r}}function l(e,t,r,a){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),s=new P(a||[]);return n(o,"_invoke",{value:T(e,r,s)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(j){return{type:"throw",arg:j}}}e.wrap=l;var p={};function f(){}function g(){}function m(){}var y={};c(y,i,function(){return this});var v=Object.getPrototypeOf,b=v&&v(v(S([])));b&&b!==t&&r.call(b,i)&&(y=b);var w=m.prototype=f.prototype=Object.create(y);function x(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function I(e,t){var a;n(this,"_invoke",{value:function(n,i){function o(){return new t(function(a,o){!function n(a,i,o,s){var c=u(e[a],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==h(d)&&r.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):t.resolve(d).then(function(e){l.value=e,o(l)},function(e){return n("throw",e,o,s)})}s(c.arg)}(n,i,a,o)})}return a=a?a.then(o,o):o()}})}function T(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return _()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=k(o,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return g.prototype=m,n(w,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:g,configurable:!0}),g.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(I.prototype),c(I.prototype,o,function(){return this}),e.AsyncIterator=I,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new I(l(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(w),c(w,s,"Generator"),c(w,i,function(){return this}),c(w,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=S,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function p(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){p(i,n,a,o,s,"next",e)}function s(e){p(i,n,a,o,s,"throw",e)}o(void 0)})}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.Util=window.Util||window.toolUtil,require("./personal/cAllCommon"),window.staticBasePath="/v6_editor/static";var g={currentListData:[],callSearchTimor:null,currentTabType:0,chartId:"chartId",chartCanvas:[],utils:{pobToast:function(e,t){if("object"==h(e)){var r=null,n="";(e=$.extend({type:"success",text:"操作成功",delay:5e3,name:"name",autoClose:!0,zIndex:9999,target:$("body"),isHoverTimeOut:!1},e)).icon?n="<span class='po-diagraming-icons'>"+e.icon+"</span>":"success"==e.type?n="<span class='po-diagraming-icons'>&#xe976;</span>":"error"==e.type?n="<span class='po-diagraming-icons'>&#xe995;</span>":"warning"==e.type?n="<span class='po-diagraming-icons'>&#xe977;</span>":"secondary"==e.type?n="<span class='po-diagraming-icons'>&#xe996;</span>":"cancelsecondary"==e.type?n="<span class='po-diagraming-icons'>&#xe996;</span>":"notify"==e.type&&(n="<span class='po-diagraming-icons'>&#xe748;</span>");var a=$(".pob_toast").length,i=0,o=0;if(a>0){var s=$(".pob_toast").eq(a-1);i=parseInt(parseInt(s.attr("top"))+s.outerHeight()),o=0,e.zIndex-=1}var c=$("<div style='opacity:"+o+";z-index:"+e.zIndex+";top:"+i+"px' name="+e.name+" class='pob_toast po-toast-"+e.type+"'>"+n+'<span class="wrap_text">'+e.text+"</span></div>");if(c.appendTo(e.target),e.marginTop&&c.css("margin-top",e.marginTop+"px"),e.autoClose&&d(),e.isHoverTimeOut&&c.on("mouseenter",function(){clearTimeout(r),r=null}).on("mouseleave",function(){"function"!=typeof e.onClose&&d()}),a>0?(c.attr("top",i+16),c.animate({top:i+16+"px",opacity:1,zIndex:e.zIndex-a})):(c.attr("top","16"),c.animate({top:"16px",opacity:1,zIndex:e.zIndex+1})),e.showSetRole){var l=$("<div class='set_role' role='editor'>编辑者</div>").appendTo(c);l.off("mousedown").on("mousedown",function(e){if($(document).off("mousedown.showSetRole").on("mousedown.showSetRole",function(e){$(".set_role").removeClass("active"),$(".role_lists").hide()}),!$(this).hasClass("active")){$(".set_role").removeClass("active"),$(".set_role .role_lists").remove(),$(this).addClass("active");var t=$(".role_lists").eq(0).clone();return t.appendTo(l),t.find("li[role="+$(this).attr("role")+"]").addClass("active").siblings().removeClass("active"),t.css({display:"block"}),t.find("li").on("mousedown",function(){return $(this).addClass("active").siblings().removeClass("active"),$(this).parents(".set_role").removeClass("active").text($(this).text()).attr("role",$(this).attr("role")),$(".role_lists").hide(),d(),!1}),!1}})}if(e.cancelEmpower)$("<div style='margin-right:5px;' class='cancel_empower'>撤回</div>").appendTo(c).off("click").on("click",function(t){"function"==typeof e.activeColseCallBack&&e.activeColseCallBack(c),c.remove(),g.utils.pobToast({text:"已取消授权，被@用户将不会收到消息提醒",type:"warning"})});if(e.recallReminder&&$("<div>并且提醒对方</div>").appendTo(c),e.showCancle)$("<div class='cancel_empower'>撤回</div>").appendTo(c).off("click").on("click",function(t){"function"==typeof e.activeColseCallBack&&e.activeColseCallBack(c),c.remove(),g.utils.pobToast({text:"已取消",type:"cancelsecondary"})});if(e.notify)$("<div class='look_notify'>查看</div>").appendTo(c).off("click").on("click",function(t){c.remove(),PoEditorClient.posMentionTarget({id:e.notifyId})});if("function"==typeof e.onClose){var u=$("<div class='po-diagraming-icons po-close-btn'>&#xe6b9;</div>").appendTo(c);c.addClass("po-toast-close"),u.off("click").on("click",function(t){c.remove(),e.onClose()})}}else"string"==typeof e&&"close"==e&&(t?"all"==t?$(".pob_toast").remove():$(".pob_toast[name="+t+"]").remove():$(".pob_toast[name=name]").remove());function d(){r=setTimeout(function(){var t,n;clearTimeout(r),"function"==typeof e.autoColseCallBack&&e.autoColseCallBack(c),t=c,n=0,$(".pob_toast").each(function(){var e=$(this).attr("top");t.index()==$(this).index()?(n=$(this).outerHeight()+16,$(this).attr("top",e-n),$(this).animate({top:e-n+"px",opacity:0},function(){t.remove()})):$(this).index()>t.index()&&($(this).attr("top",e-n),$(this).animate({top:e-n+"px"}))})},e.delay)}}},ajax:function(e){return f(d().mark(function t(){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){Util.ajax(Object.assign(e,{success:function(e){t(e)},error:function(e){t({result:"error",error:e})}}))}));case 1:case"end":return t.stop()}},t)}))()},getUrlParams:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(t);return null!=r?unescape(r[2]):null},getCookies:function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var r=document.cookie.indexOf(";",t);return-1==r&&(r=document.cookie.length),unescape(document.cookie.substring(t,r))}}return""},setCookies:function(e,t,r){var n=new Date;n.setDate(n.getDate()+r),document.cookie=e+"="+escape(t)+(null==r?"":";path=/;expires="+n.toGMTString())},createDom:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},getDef:function(){var e=f(d().mark(function e(t,r){var n,a,i,o,s,c,u,p,f,h,m,y;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.chartId,a=g.getUrlParams("linkId"),i=g.getUrlParams("isTemp"),o=g.getUrlParams("from"),s="",0==(c=window.location.pathname).indexOf("/embed/")&&(s=c.substring(c.lastIndexOf("/")-0+1)),u="/api/personal/diagraming/get/chart/def",p={chartId:n},f="GET",!a){e.next=14;break}p={viewLinkId:a,viewPassword:g.getCookies("link_pw_"+a)},u="/api/personal/view/link/def",f="POST",e.next=27;break;case 14:if(!i){e.next=26;break}if(!g.getUrlParams("token")||-1!=location.pathname.indexOf("/template/mploading/")){e.next=21;break}return e.next=19,x(n,t.defId);case 19:return h=e.sent,e.abrupt("return",h.def);case 21:p={chartId:n,template:!0},u="/api/personal/diagraming/get/template/def",f="GET",e.next=27;break;case 26:s?(p={chartId:s},u="/api/personal/embed/get/def/v2",f="GET"):"trash"==o&&(u="/api/personal/diagraming/get/chart/trash/def",f="GET");case 27:return this.chartCanvas&&null!=(m=this.chartCanvas.find(function(e){return e.definitionId===t.defId}))&&m.canvasId&&localStorage.setItem("currentCanvasId",m.canvasId),e.next=30,this.ajax({url:u,data:l({defId:t.defId},p),cache:!1,noToken:!0,type:f});case 30:return y=e.sent,e.abrupt("return",y.def);case 32:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getEmbedChart:function(){var e=f(d().mark(function e(t,r){var n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ajax({url:"/api/personal/embed/get/def/v2",data:t,cache:!1,noToken:!0,type:"GET"});case 2:return n=e.sent,e.abrupt("return",n.chart);case 4:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),getUserInfo:function(e,t){var r=this;return f(d().mark(function e(){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ajax({url:"/api/personal/user/info",type:"GET"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))()},getChartId:function(){var e=this;return f(d().mark(function t(){var r,n;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(r=window.location.pathname).indexOf("/mindmap/")&&0!=r.indexOf("/outline/")&&0!=r.indexOf("/diagraming/")&&0!=r.indexOf("/embed/")&&0!=r.indexOf("/markdown_editor/")){t.next=5;break}return t.abrupt("return",r.substring(r.lastIndexOf("/")-0+1));case 5:if(0!=r.indexOf("/v/")&&0!=r.indexOf("/collaboration/invite/")){t.next=11;break}return n="",0==r.indexOf("/v/")?n=r.substring(r.lastIndexOf("/")-0+1):0==r.indexOf("/collaboration/invite/")&&(n=r.substring(r.lastIndexOf("/")-0)),t.next=10,e.getCollaboration(n);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}},t)}))()},getInitInfo:function(){var e=this;return f(d().mark(function t(){var r,n,a,i,o,s,c,l,u;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getChartId();case 2:return r=e.chartId=t.sent,g.getUrlParams("targetId")&&"mind"==fileType&&(localStorage.setItem("mention_targetId",g.getUrlParams("targetId")),history.replaceState(null,null,location.origin+location.pathname)),Util.getUrlParams("cid")&&(localStorage.setItem("page_local_"+r,Util.getUrlParams("cid")),(n=new URL(window.location.href)).searchParams.delete("cid"),history.replaceState(null,null,n.toString())),t.next=7,e.getUserInfo();case 7:return a=t.sent,window.userObj=e.userObj=a.user,window.authObj=e.authObj=a.auth,editorGlobalConfig.zdtcLogin({chartId:r}),editorGlobalConfig.iflyYtekLogin(),g.initPersonalInsert(),t.next=15,e.ajax({url:"/api/personal/canvas/get/chartdefids",type:"GET",data:{chartId:r}});case 15:return i=t.sent,window.chartObj=e.chartObj=i.chart||{},o=localStorage.getItem("page_local_"+r),s=i.canvas.chartCanvas||[],e.chartCanvas=s,c=o&&s.find(function(e){return e.definitionId==o})?o:s[0].definitionId,t.next=23,g.getDef({defId:c});case 23:if(l=t.sent,"board"!=chartObj.category){t.next=27;break}return $.toast({text:"暂时不支持打开白板",type:"error",autoClose:!1,name:"board"}),t.abrupt("return");case 27:return g.isPhone()&&["designer","flow"].indexOf(fileType)>-1&&(u="app"==g.getUrlParams("sourceType")?"?sourceType=app":"",window.location.replace("/preview/".concat(r).concat(u))),g.addRecord(r),t.abrupt("return",{userObj:userObj,authObj:authObj,chartObj:chartObj,chartDefIds:s,mainCanvasId:c,def:l});case 30:case"end":return t.stop()}},t)}))()},getViewInitInfo:function(){var e=this;return f(d().mark(function t(){var r,n,a,i,o,s,c,l,u,p,f,h,m,v,w,x,I,T,k,C,O,P,S;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.chartId=g.getUrlParams("chartId"),n=g.getUrlParams("linkId"),a=g.getUrlParams("isTemp"),i=g.getUrlParams("from"),o=g.getUrlParams("oid"),s=g.getUrlParams("yearReport"),c=g.getUrlParams("aiTemplate"),l={},!s){t.next=25;break}return u=localStorage.getItem("scence_report_title")?localStorage.getItem("scence_report_title"):"思维导图",p=localStorage.getItem("scence_report_type")||"mind",f="","mind"==p?f={leftChildren:[],children:[],root:!0,theme:"simple2",id:"root",title:u,version:3,structure:"mind_free"}:"flow"==p&&(f={page:{padding:20,backgroundColor:"transparent",orientation:"portrait",gridSize:15,width:1745,showGrid:!0,lineJumps:!1,height:970},elements:{},version:1}),t.next=15,e.getUserInfo();case 15:return h=t.sent,l.def=JSON.stringify(f),l.chartDefIds=[],l.mainCanvasId="",l.isPure=!0,l.category=p,l.chartObj={chartId:g.getRandomChartId(10),category:p},l.userObj=h.user,l.isYearReport=!0,t.abrupt("return",l);case 25:if(!c){t.next=36;break}return f="",m="",localStorage.getItem("ai_template_title")?(f={leftChildren:[],children:[],root:!0,theme:"simple2",id:"root",title:localStorage.getItem("ai_template_title"),version:3,structure:"mind_free"},m="mind"):(f={page:{padding:20,backgroundColor:"transparent",orientation:"portrait",gridSize:15,width:1745,showGrid:!0,lineJumps:!1,height:970},elements:{},version:1},m="flow"),l.def=JSON.stringify(f),l.chartDefIds=[],l.mainCanvasId="",l.isPure=!0,l.chartObj={chartId:g.getRandomChartId(10),category:m},l.isAiTemplate=!0,t.abrupt("return",l);case 36:if(v="",0==(w=window.location.pathname).indexOf("/embed/")&&(v=w.substring(w.lastIndexOf("/")-0+1)),g.getUrlParams("cid")&&localStorage.setItem("page_local_"+r,g.getUrlParams("cid")),l={},x="/api/personal/canvas/get/chartdefids",I={chartId:r},T="GET","GET","/api/personal/diagraming/get/chart/def",!n){t.next=51;break}x="/api/personal/view/link/v2",I={viewLinkId:n,viewPassword:g.getCookies("link_pw_"+n)},"/api/personal/view/link/def",T="POST","POST",t.next=65;break;case 51:if(!a){t.next=64;break}if(!(k=g.getUrlParams("token"))||-1!=location.pathname.indexOf("/template/mploading/")){t.next=56;break}return C=b(r,k),t.abrupt("return",C);case 56:x="/api/personal/canvas/get/template/chartdefids",I={chartId:r,template:!0},"/api/personal/diagraming/get/template/def",T="GET","GET",l.isTemp=!0,t.next=65;break;case 64:v?(x="/api/personal/embed/get/chartdefids",I={chartId:v},"/api/personal/embed/get/def/v2",T="GET","GET",l.isEmbed=!0):"trash"==i&&(x="/api/personal/canvas/get/trash/chartdefids","/api/personal/diagraming/get/chart/trash/def");case 65:return t.next=67,e.ajax({url:x,data:I,type:T,noToken:!0});case 67:if(O=t.sent,P=O.canvas||O,S=localStorage.getItem("page_local_"+r),g.getUrlParams("targetId")&&"mind"==fileType&&localStorage.setItem("mention_targetId",g.getUrlParams("targetId")),l.chartDefIds=P.chartCanvas,l.mainCanvasId=S&&l.chartDefIds.find(function(e){return e.definitionId==S})?S:l.chartDefIds[0].definitionId,!v){t.next=77;break}return t.next=76,e.getEmbedChart({chartId:v,defId:l.mainCanvasId});case 76:O.chart=t.sent;case 77:if(l.chartObj=O.chart||{chartId:r},!o||!l.chartObj){t.next=85;break}return l.chartDefIds=[],t.next=82,y(l.chartObj);case 82:l.def=t.sent,t.next=88;break;case 85:return t.next=87,e.getDef({defId:l.mainCanvasId});case 87:l.def=t.sent;case 88:return!r||a||v||o||g.addRecord(r),t.abrupt("return",l);case 90:case"end":return t.stop()}},t)}))()},getListUsers:function(e,t){var n=this;return f(d().mark(function e(){var t,a;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ajax({url:"/api/personal/collaboration/list_users",data:{type:"chart",id:n.chartId},type:"POST"});case 2:return t=e.sent,a=[],[t.owner||[]].concat(r(t.collaborations||[])).forEach(function(e){e.userId||(e=l(l({},e),e.user)),e.userName=e.fullName,a.push(e)}),e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))()},getDefById:function(e,t,r,n){Util.ajax({url:e,data:t,noToken:!0,cache:!1,type:r,success:function(e){n&&n(e)},error:function(){}})},getCollaboration:function(){var e=f(d().mark(function e(t){var r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ajax({url:"/api/personal/collaboration/join_link/"+t,noToken:!0,cache:!1,type:"GET"});case 2:if(401!=(r=e.sent).code){e.next=8;break}return setTimeout(function(){window.location.href="/"},3e3),e.abrupt("return",!1);case 8:return e.abrupt("return",r.shareCollaboration.chartId);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),loadCAllCommon:function(e,t){cAllCommon.init(e,t)},loadMpCAllCommon:function(e){cAllCommon.historyInit(e)},addRecord:function(e,t){var r=Util.getUrlParams("token")||Util.getCookies("token"),n=Util.getCookies("po-last-platform");e&&r&&n&&"personal"!==n&&Util.ajax({url:"/api/org/chart/record/add",type:"post",data:{chartId:e},noToken:!0,isErr:!0,function:function(e){t(e)}})},isMobile:function(){return!!window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},isPhone:function(){return!!window.navigator.userAgent.match(/Android|iPhone|SymbianOS|Windows\sPhone/i)},isWeiXin:function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},chartAiResult:function(e,t){var r=this;return f(d().mark(function n(){var a;return d().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return localStorage.getItem("is_ai_again")&&(e.ac="yearEndSummaryRevision"),n.next=3,r.getUserInfo();case 3:a=n.sent,e.userObj=a.user,editorGlobalConfig.userObjAi=a.user,PoEditorClient.AIGCRun(e,function(e){if("mind"==t&&(mind.opts.readonly=!0),e&&"success"==e.type){var r=PoEditorClient.getDef();localStorage.setItem("year_current_def",JSON.stringify(r)),g.sendMessage({chart_type_status:"success"})}else e&&"error"==e.type?g.sendMessage({chart_type_status:"fail",code:e.code?e.code:""}):g.sendMessage({chart_type_status:"fail"})});case 7:case"end":return n.stop()}},n)}))()},sendMessage:function(e){window.parent.postMessage(e,"*")},replaceSpecialCharsWithSpace:function(e){return e.replace(/[^\w\s]/g,"")},getRandomChartId:function(e){return Math.floor((Math.random()+Math.floor(9*Math.random()+1))*Math.pow(10,e-1))+(new Date).getTime()},getCollaborationRecent:function(e){var t=e.content,r=void 0===t?"":t;return new Promise(function(e){Util.ajax({url:"/api/personal/collaboration_recent/list",cache:!1,data:{content:r},type:"GET",success:function(t){e(t)},error:function(){}})})},getRecentChart:function(e){var t=e.pageSize,r=void 0===t?"":t;return new Promise(function(e){Util.ajax({url:"/api/personal/folder/history_files",cache:!1,data:{pageSize:r},type:"GET",success:function(t){e(t)},error:function(){}})})},getSearchRecentChart:function(e,t){return new Promise(function(r){Util.ajax({url:"/api/personal/folder/at/chart",cache:!1,data:JSON.stringify({title:e,type:t}),type:"post",contentType:"application/json",success:function(e){r(e)},error:function(){}})})},choosePeople:function(e,t){var r=e.id,n=e.role,a=e.remind,i=e.targetId,o=r.join(",");g.utils.pobToast({text:"被@的人将会成为",type:"secondary",marginTop:"80",showSetRole:!0,autoClose:!0,showCancle:!0,recallReminder:a,isHoverTimeOut:!0,cancelEmpower:!1,activeColseCallBack:function(e){t(!1)},autoColseCallBack:function(e){var r,s,c=localStorage.getItem("remind")?localStorage.getItem("remind"):"true";Util.ajax({url:"/api/personal/collaboration/at/add",cache:!1,contentType:"application/json",data:JSON.stringify({chartId:chartObj.chartId,role:n||e.find(".set_role").attr("role"),mentUserId:o,position:i,nftTpye:c,canvasId:null===(r=editorGlobal)||void 0===r?void 0:null===(s=r.poPagination)||void 0===s?void 0:s.pageId}),type:"POST",success:function(){if(a){var e=g.currentListData.find(function(e){return e.uid===o});g.utils.pobToast({text:e.name+" 将收到消息提醒",type:"secondary",recallReminder:!1,autoClose:!0,isHoverTimeOut:!1}),t(!0)}else t(!1)},error:function(){t(!1)}})}})},triggerLookTip:function(e,t,r){g.utils.pobToast({text:t+" 提到了你",type:"notify",notify:!0,notifyId:e,isHoverTimeOut:!0})},getExportSignKey:function(e,t){var r={chartId:t.chartId,isCanvas:e};Util.ajax({url:"/api/personal/canvas/get/export/sign/key",type:"GET",data:r,success:function(r){var n="";e||(n=JSON.stringify(PoEditorClient.getDef())),$("#export_signKey").val(r),$("#export_def").val(n),$("#export_title_pos").val(t.title),$("#export_form_c").submit()},error:function(e){}})},dataURIToBlob:function(e,t){for(var r=atob(e.split(",")[1]),n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return new Blob([a],{type:"image/"+t})},triggerDownload:function(e,t){var r=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",t),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.dispatchEvent(r)},dealAllData:function(e,t,n,a){return f(d().mark(function i(){var o,s,c,l;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o=[],s=[],c=0,l={data:[],totalPage:1},g.dealAllContacts(0,function(e){if(c+=1,o=e.data,2==c){if(g.currentTabType!=n)return;l.data=[].concat(r(o),r(s)),a(l)}}),g.dealSearchFile(e,t,0,function(e){if(c+=1,s=e.data,2==c){if(g.currentTabType!=n)return;l.data=[].concat(r(o),r(s)),a(l)}});case 6:case"end":return i.stop()}},i)}))()},dealAllContacts:function(e,t){return f(d().mark(function r(){var n,a,i;return d().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.getCollaborationList({});case 2:if(n=r.sent,a=[],n.forEach(function(e){a.push({uid:e.user.userId,icon:"https://user-photo.ks3-cn-beijing.ksyuncs.com/".concat(e.user.userId,".png"),name:e.user.fullName,phone:e.phone,email:e.email,type:0})}),g.currentListData=a,i={data:a,totalPage:1},g.currentTabType==e){r.next=9;break}return r.abrupt("return");case 9:t(i);case 10:case"end":return r.stop()}},r)}))()},dealAllFiles:function(e,t,n){return f(d().mark(function a(){var i,o,s;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.getRecentChartList({pageSize:e});case 2:if(i=a.sent,(o=r(i.charts)).forEach(function(e){e.chartType=g.dealFileType(e),e.name=e.title,e.url=g.getFileUrl(e),e.time=g.friendlyTime(e.lastModify),e.icon=location.origin+"/assets/images/calledIcon/".concat(e.chartType,"_circular.svg"),e.type=1,e.uid=e.chartId}),s={data:o,totalPage:1},g.currentTabType==t){a.next=8;break}return a.abrupt("return");case 8:n(s);case 9:case"end":return a.stop()}},a)}))()},dealSearchAllData:function(e,t,n,a){return f(d().mark(function i(){var o,s,c,l;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o=[],s=[],c=0,l={data:[],totalPage:1},g.dealSearchPeople(e,n,function(e){if(c+=1,o=e.data,2==c){if(s&&s.length>0&&o&&o.length>0?l.data=[].concat(r(o),r(s)):s&&s.length>0?l.data=s:o&&o.length>0?l.data=o:l.data=[],g.currentTabType!=n)return;a(l)}}),g.dealSearchFile(e,t,n,function(e){if(c+=1,s=e.data,2==c){if(s&&s.length>0&&o&&o.length>0?l.data=[].concat(r(o),r(s)):s&&s.length>0?l.data=s:o&&o.length>0?l.data=o:l.data=[],g.currentTabType!=n)return;a(l)}});case 6:case"end":return i.stop()}},i)}))()},dealSearchPeople:function(e,t,r){return f(d().mark(function n(){var a,i,o;return d().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.getCollaborationList({content:e});case 2:if(a=n.sent,i=[],a.forEach(function(e){i.push({uid:e.user.userId,icon:"https://user-photo.ks3-cn-beijing.ksyuncs.com/".concat(e.user.userId,".png"),name:e.user.fullName,phone:e.phone,email:e.email,type:0})}),g.currentListData=i,o={data:i,totalPage:1},g.currentTabType==t){n.next=9;break}return n.abrupt("return");case 9:r(o);case 10:case"end":return n.stop()}},n)}))()},dealSearchFile:function(e,t,r,n){return f(d().mark(function a(){var i,o,s;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=g.replaceSpecialCharsWithSpace(e),a.next=3,m.getSearchRecentChartList(e,t);case 3:if(i=a.sent,(o=i)&&o.forEach(function(e){e.chartType=g.dealFileType(e),e.name=e.title,e.url=g.getFileUrl(e),e.time=g.friendlyTime(e.lastModify),e.icon=location.origin+"/assets/images/calledIcon/".concat(e.chartType,"_circular.svg"),e.type=1,e.uid=e.chartId}),s={data:o||[],totalPage:1},g.currentTabType==r){a.next=9;break}return a.abrupt("return");case 9:n(s);case 10:case"end":return a.stop()}},a)}))()},getFileUrl:function(e){var t=location.origin;return e.orgId?t+="/f/":e.category.indexOf("mind")>-1?t+="/mindmap/":e.category.indexOf("outline")>-1?t+="/outline/":e.category.indexOf("board")>-1?t+="/f/":t+="/diagraming/",t+=e.chartId},dealFileType:function(e){var t=e.category;return t.includes("mind")?t="mind":"ui"!==t&&"outline"!==t&&"board"!==t&&(t="flow"),t||"flow"},friendlyTime:function(e){var t=0;if(null==e)return"";try{t=(new Date).getTime()-new Date(e.replace(/-/g,"/")).getTime()}catch(r){return""}if(t>321408e5)return"更新于"+Math.floor(t/321408e5)+"年前";if(t>26784e5)return"更新于"+Math.floor(t/26784e5)+"月前";if(t>864e5)return"更新于"+Math.floor(t/864e5)+"天前";if(t>36e5)return"更新于"+Math.floor(t/36e5)+"小时前";if(t>6e4)return"更新于"+Math.floor(t/6e4)+"分钟前";return"刚刚更新"},initPersonalInsert:function(){window.personalInsert={share:{init:function(e){e&&1==e.isHide||insert.iframeDlg(l(l({width:"680px",height:"533px",type:"share",fdata:JSON.stringify(chartObj)},e),{},{callback:function(e){}}))},dialogPre:function(){insert.iframeDlgPre({width:"680px",height:"533px",type:"share",fdata:JSON.stringify(chartObj),callback:function(e){}})}},copyAndMove:{init:function(e){e&&1==e.isHide||insert.iframeDlg(l(l({width:"556px",height:"450px",type:"copy",fdata:JSON.stringify(chartObj)},e),{},{callback:function(e){}}))}},publish:{init:function(e){userObj&&!userObj.phone?"undefined"==typeof phoneBind?bigPipe.render({js:["../../assets/js/users/phonebind.js"],css:["../../assets/css/users/phonebind.css"]},function(){phoneBind.init(function(e){userObj.phone=e,insert.iframeDlg({width:"742px",height:"530px",type:"pubpo",fdata:JSON.stringify(chartObj),callback:function(e){}})})}):phoneBind.init(function(e){userObj.phone=e,insert.iframeDlg({width:"742px",height:"530px",type:"pubpo",fdata:JSON.stringify(chartObj),callback:function(e){}})}):insert.iframeDlg({width:"742px",height:"600px",type:"pubpo",fdata:JSON.stringify(chartObj),callback:function(e){}})}},pay:{init:function(e){var t="616px",r=navigator.userAgent.toLowerCase();/electron/gi.test(r)&&(window.parent.postMessage({type:"getAppId"},"*"),window.addEventListener("message",function(e){if("send-appid"===e.data.type){var r=e.data.APP_ID;t="6b0d49b3ca3544178660f33adf6a0b60"==r?"540px":"616px"}}));var n=chartObj.category.startsWith("outline")?"思维笔记编辑器":chartObj.category.startsWith("mind")?"思维导图编辑器":"流程图编辑器",a=$.extend({width:"840px",height:t,type:"dlgPay",title:"支付",pointsPage:n,pointsSource:"头像_升级",callback:function(e){}},e);chartObj&&chartObj.orgId&&$.extend(a,{pageStatus:"index",height:"602px",payTitle:a.title,orgInfo:{orgId:chartObj.orgId},type:"dlgOrgPay",url:"/org/dlgapi"}),injectExtraAsynCall("onShowVipLimit",a,function(e){personalInsert.iframeDlg($.extend(a,e))})}},feedback:{init:function(e){var t=$.extend({width:"600px",height:"471px",type:"dlgFeedback",title:"感谢您的反馈",callback:function(e){}},e);insert.iframeDlg(t)}},chooseMyfile:{init:function(e){var t=$.extend({width:"820px",height:"558px",type:"dlgChooseFile",callback:function(e){}},e);personalInsert.iframeDlg(t)}},iframeDlgPms:{},prevMsg:"",iframeDlg:function(e){var t=this,r=null;e.fdata&&(r=JSON.parse(e.fdata).orgId);var n=window.location.origin,a="?";(e=$.extend({url:n+(r?"/org":"")+"/dlgapi",width:"770px",height:"537px",type:"dlgPay",title:"支付"},e)).type&&(a=a+"type="+e.type,"dlgPay"==e.type&&(a+="&pointspage="+e.pointsPage,a+="&pointssource="+e.pointsSource)),e.title&&(a=a+"&title="+e.title),e.fdata&&(a=a+"&fdata="+encodeURIComponent(e.fdata)),e.pattern&&(a+="&pattern="+e.pattern),e.pageStatus&&(a=a+"&pageStatus="+e.pageStatus),e.payTitle&&(a=a+"&payTitle="+e.payTitle),e.orgInfo&&(a=a+"&orgInfo="+JSON.stringify(e.orgInfo)),$("#po-dialog-iframe-"+e.type).remove();var i=$("#po-dialog-iframe-"+e.type+" iframe");if(0==i.length){var o=$('<div id="po-dialog-iframe-'+e.type+'" class="po-dialog po-dialog-iframe"><div class="po-iframe-loading-wrap"><img src="'+staticBasePath+'/assets/images/iframe_loading.gif"></div><div class="po-dialog-header" style="position: absolute;width: calc(100% - 42px);height: 20px"></div><iframe></iframe></div>').appendTo("body");(i=o.find("iframe")).width(e.width).height(e.height).attr("src",e.url+a)}if(this.iframeDlgPms[e.type]||(this.iframeDlgPms[e.type]={}),this.iframeDlgPms[e.type].messengerIframe||(this.iframeDlgPms[e.type].messengerIframe=new Messenger("edit","v5",[{target:i[0].contentWindow,targetName:"filelist"},{target:window,targetName:"edit"}],function(r){var n=JSON.parse(r||"{}");if(t.prevMsg!==r||"resize"===n.instructs){if(t.prevMsg=r,"dlgShare"==n.type||"share"==n.type){if("close"==n.instructs){personalInsert.publish.init();var a=n.width,o=n.height;$("#po-dialog-iframe-"+e.type).css({width:a,height:o}),i.width(a).height(o)}else"orgClose"==n.instructs&&window.location.reload();if(injectExtraAsynCall("openMention"))if("addCollaMember"==n.instructs)n.userIds.split(",").forEach(function(e){mention.mentionStatus(e,!0)});else if("delCollaMember"==n.instructs){n.userIds.split(",").forEach(function(e){mention.mentionStatus(e,!1)})}}else if("dlgPubpo"==n.type)"close"==n.instructs&&$("#po-dialog-iframe-pubpo").dialog("close");else if("dlgPay"==n.type)"close"==n.instructs?window.location.reload():n.instructs;else if("dlgFeedback"==n.type)"close"==n.instructs&&$("#po-dialog-iframe-dlgFeedback").dialog("close");else if("copyAndMove"==n.optType){if(t.prevMsg=null,"close"==n.instructs)return void $("#po-dialog-iframe-copy").dialog("close");"move"==n.type&&(chartObj.folderId=n.targetFolderId||"root",chartObj.teamId=n.teamId||"");var s="move"==n.type?"移动成功":"复制成功";$.toast({text:s}),$("#po-dialog-iframe-copy").dialog("close")}else if("dlgChooseFile"==n.optType){if(t.prevMsg=null,"save"==n.instructs){var c=n.chooseFile.file;c.chartType=g.dealFileType(c),c.text=c.title,c.url=g.getFileUrl(c),c.time=g.friendlyTime(c.lastModify),c.icon=location.origin+"/assets/images/calledIcon/".concat(c.chartType,"_circular.svg"),c.type=1,c.uid=c.chartId;var l=[c];$("#po-dialog-iframe-dlgChooseFile").dialog("close"),PoEditorClient.getSelectData(l)}$("#po-dialog-iframe-dlgChooseFile").dialog("close")}if("resize"==n.instructs){a=n.width,o=n.height;var u=n.type;"dlgShare"===u&&(u="share"),$("#po-dialog-iframe-"+u).css({marginTop:-o/2+"px",width:a,height:o,marginLeft:-a/2+"px"}),$("#po-dialog-iframe-"+u).children("iframe").width(a).height(o)}}})),!e.isHide){$.mask(),$("#po-dialog-iframe-"+e.type).width(e.width).height(parseInt(e.height)).dialog({onClose:function(){$.mask("close")}});var s=this;i.off("load").on("load",function(){$(".po-iframe-loading-wrap").fadeOut("500");var t=setTimeout(function(){$(".po-iframe-loading-wrap").remove(),clearTimeout(t)},500);if(void 0!==s.iframeDlgPms[e.type].messengerIframe){var r={type:e.type,instructs:"init"};s.iframeDlgPms[e.type].messengerIframe.targets.filelist.send(JSON.stringify(r))}}),"pubpo"===e.type&&$("#po-dialog-iframe-"+e.type).css({})}}}},getSourceType:function(e){"app"==g.getUrlParams("sourceType")?"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?wx.miniProgram.getEnv(function(t){t.miniprogram?e("mp"):e("wx")}):e("app"):e("web")}};window.editorGlobalConfig=new e.default(g);var m={getCollaborationList:T(g.getCollaborationRecent,800),getSearchRecentChartList:T(g.getSearchRecentChart,400),getRecentChartList:T(g.getRecentChart,800)};function y(e){return v.apply(this,arguments)}function v(){return(v=f(d().mark(function e(t){var r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.getUrlParams("oid")&&g.loadMpCAllCommon(t),editorGlobalConfig.showPage=!1,e.next=4,g.ajax({url:"/api/personal/version/get/history/definition",data:{chartId:g.getUrlParams("chartId"),versionId:g.getUrlParams("oid"),definitionId:g.getUrlParams("oidDef")},noToken:!0,cache:!1,type:"GET"});case 4:return r=e.sent,e.abrupt("return",r.definition);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e,t){return w.apply(this,arguments)}function w(){return(w=f(d().mark(function e(t,r){var n,a,i,o,s;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r)-1;t+=String.fromCharCode(n)}return t}(decodeURIComponent(r)),localStorage.manageToken=n,editorGlobalConfig.chartObj={chartId:t},e.next=6,g.ajax({url:"/api/admin/manage/file/canvas/get/template/chartdefids",data:{chartId:t},noToken:!0,type:"GET",headers:{token:n}});case 6:return a=e.sent,(i={}).chartDefIds=a.chartCanvas,i.mainCanvasId=a.mainCanvasId,i.chartObj={chartId:t},o=a.mainCanvasId,e.next=14,x(t,o);case 14:return s=e.sent,e.abrupt("return",Object.assign(i,s));case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e,t,r){return I.apply(this,arguments)}function I(){return(I=f(d().mark(function e(t,r,n){var a,i,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.ajax({url:"/api/admin/manage/file/diagraming/get/template/def",data:{chartId:t,defId:r},noToken:!0,type:"GET",headers:{token:localStorage.manageToken}});case 2:if(a=e.sent,null==(i=JSON.parse(a.def))||"string"!=typeof i.theme||0!=i.theme.indexOf("customise_")){e.next=9;break}return e.next=7,g.ajax({url:"/api/admin/manage/file/gettheme",data:{id:i.theme},noToken:!0,type:"GET",headers:{token:localStorage.manageToken}});case 7:o=e.sent,i.theme=o.replace("customise_","");case 9:return a.def=JSON.stringify(i),e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e,t){var r;return f(d().mark(function n(){var a=arguments,i=this;return d().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(r),n.abrupt("return",new Promise(function(n){r=setTimeout(f(d().mark(function t(){var r;return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.apply(i,a);case 2:r=t.sent,n(r);case 4:case"end":return t.stop()}},t)})),t)}));case 2:case"end":return n.stop()}},n)}))}function k(){var e="";e+='<div id="insetC_lb_box" style="display:none;position: absolute;top:10px;right:10px;">',e+='<img style="width:100px;height:30px;cursor: pointer;" src="'+staticBasePath+'/assets/images/big-logo.svg"></img>',e+="</div>",$("body").append(e),$("body").hover(function(){$("#insetC_lb_box").show()},function(){$("#insetC_lb_box").hide()}),$("#insetC_lb_box").on("click",function(){window.open("https://www.processon.com/","_blank")})}window.receivedParseText=null,window.onload=function(){"undefined"!=typeof chartType&&"mermaid"==chartType&&window.addEventListener("message",function(e){"parseText"===e.data.type&&(receivedParseText=e.data.data,window.waitingForParseText&&window.waitingForParseText(receivedParseText))}),window.PoEditorClient=window.PoEditorClient||new PoEditorApi;try{window.top.PoEditorClient=window.PoEditorClient}catch(e){}window.location.href.includes("embed")&&k()};
},{"./personal/edit_c":"HIts","./personal/cAllCommon":"pkSb"}],"Z2WC":[function(require,module,exports) {
module.exports=function(e){return new Promise(function(n,o){var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onerror=function(e){r.onerror=r.onload=null,o(e)},r.onload=function(){r.onerror=r.onload=null,n()},document.getElementsByTagName("head")[0].appendChild(r)})};
},{}],"Bs6y":[function(require,module,exports) {
module.exports=function(n){return new Promise(function(e,o){var r=document.createElement("script");r.async=!0,r.type="text/javascript",r.charset="utf-8",r.src=n,r.onerror=function(n){r.onerror=r.onload=null,o(n)},r.onload=function(){r.onerror=r.onload=null,e()},document.getElementsByTagName("head")[0].appendChild(r)})};
},{}],0:[function(require,module,exports) {
var b=require("yU0Q");b.register("css",require("Z2WC"));b.register("js",require("Bs6y"));
},{}]},{},[0,"AzEq"], null)