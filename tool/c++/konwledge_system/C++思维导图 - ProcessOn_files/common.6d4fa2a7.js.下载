parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"G6ls":[function(require,module,exports) {
var define;
var e;function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function n(e){var t=u();return function(){var n,o=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return c(e)||l(e,t)||b(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(l){s=!0,o=l}finally{try{r||null==n.return||n.return()}finally{if(s)throw o}}return a}}function c(e){if(Array.isArray(e))return e}function d(e,t,n){return(d=u()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&p(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return g(e)||f(e)||b(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function g(e){if(Array.isArray(e))return y(e)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){"use strict";k=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var a=t&&t.prototype instanceof p?t:p,r=Object.create(a.prototype),s=new M(o||[]);return i(r,"_invoke",{value:_(e,n,s)}),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var u={};function p(){}function h(){}function m(){}var f={};l(f,a,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(D([])));v&&v!==t&&n.call(v,a)&&(f=v);var b=m.prototype=p.prototype=Object.create(f);function y(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var o;i(this,"_invoke",{value:function(i,a){function r(){return new t(function(o,r){!function i(o,a,r,s){var l=d(e[o],e,a);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==w(u)&&n.call(u,"__await")?t.resolve(u.__await).then(function(e){i("next",e,r,s)},function(e){i("throw",e,r,s)}):t.resolve(u).then(function(e){c.value=e,r(c)},function(e){return i("throw",e,r,s)})}s(l.arg)}(i,a,o,r)})}return o=o?o.then(r,r):r()}})}function _(e,t,n){var i="suspendedStart";return function(o,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw a;return E()}for(n.method=o,n.arg=a;;){var r=n.delegate;if(r){var s=C(r,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=d(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function C(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function D(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=m,i(b,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:h,configurable:!0}),h.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(x.prototype),l(x.prototype,r,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,i,o,a){void 0===a&&(a=Promise);var r=new x(c(t,n,i,o),a);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},y(b),l(b,s,"Generator"),l(b,a,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return r.type="throw",r.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],r=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function _(e,t,n,i,o,a,r){try{var s=e[a](r),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(i,o)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function r(e){_(a,i,o,r,s,"next",e)}function s(e){_(a,i,o,r,s,"throw",e)}r(void 0)})}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function M(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkmindEditor=self.webpackChunkmindEditor||[]).push([[76],{19249:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(61894),n(4790),n(69268),n(84889),t.default=function(){function e(t){var n=this;T(this,e),this._data={};var i=[];Object.keys(t).forEach(function(e){n._data[e]=t[e],i.push(e)}),this.types=i}return M(e,[{key:"getType",value:function(e){var t=this;return new Promise(function(n,i){n(t._data[e])})}}]),e}()},69513:function(e,t,n){n(11568),n(14237),Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(){var e=C(k().mark(function e(t,n,o){var a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=i.getCliboardFail().write){e.next=2;break}return e.abrupt("return",s(n));case 2:return e.next=4,u(t,o);case 4:return null==(a=e.sent).content&&Object.assign(a,s(n)),e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}(),t.getStorage=r,t.read=u,t.save=function(){var e=C(k().mark(function e(t,n,r){var s,l,c,d,u,p,h,m,f,g;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.value,l=r.str,c=void 0===l?" ":l,d=r.html,u=void 0===d?" ":d,p=r.image,h=r.flag,m=JSON.stringify(s),window.localStorage.setItem(n,m),f='<div data-t="'.concat(h,'" data-processon-v="').concat(m.replace(/&quot;/g,"%26quot;").replace(/"/g,"&quot;").replace(/&lt;/g,"".concat(a,"lt;")).replace(/&gt;/g,"".concat(a,"gt;")),'">').concat(u,"</ul>"),g={"text/plain":(0,o.strToBlob)(c,"text/plain"),"text/html":(0,o.strToBlob)(f,"text/html")},e.t0=p,!e.t0){e.next=9;break}return e.next=8,(0,o.imageToBlob)(p);case 8:g["image/png"]=e.sent;case 9:return" "!=c&&window.localStorage.setItem(h+"Cache",JSON.stringify({key:(0,o.md5)(c.replace(/\r\n/g,"\n")),value:n})),e.prev=10,e.next=13,i.write([new i.ClipboardItem(g)],t);case 13:e.next=17;break;case 15:e.prev=15,e.t1=e.catch(10);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,null,[[10,15]])}));return function(t,n,i){return e.apply(this,arguments)}}(),n(27531),n(5682),n(38297),n(4790),n(87812),n(1053),n(82403),n(12638),n(33809),n(38887),n(6284),n(37212),n(69268),n(86837),n(69858);var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=w(e)&&"function"!=typeof e)return{default:e};var n=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return function(e){return e?n:t}(e)}(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var r=o?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(i,a,r):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(21425)),o=n(78322);var a="💔";function r(e){var t;try{t=JSON.parse(window.localStorage.getItem(e))}catch(t){window.localStorage.removeItem(e)}return t}function s(e){return{type:"diagram",content:r(e)}}var l=function(){return'<span class="equation-text" data-index="0" data-equation="'.concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",'"><span></span><span></span></span>')};function c(e,t){return[1,3].includes(e.nodeType)?"mind"==t||3==e.nodeType?e.textContent:d(e,t):""}function d(e,t){var n=e.style;n.color,n.fontWeight,n.fontStyle,n.textDecoration;return e.style.cssText="",e.removeAttribute("style"),e.nodeName.toLowerCase(),e.outerHTML,e.innerText.replace(/</g,"&gt;").replace(/>/g,"&lt;")}function u(e,t){return p.apply(this,arguments)}function p(){return(p=C(k().mark(function e(t,n){var r,s,u,p,h,m,f,g,v,b,y,x,w,_,C,T,S,M,D,E,A,F;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={type:"txt",blob:null,imgUrl:null,content:null},e.next=3,i.read(t);case 3:if((u=e.sent).length){e.next=6;break}return e.abrupt("return",s);case 6:if(p=null!==(r=u.find(function(e){return e.types.some(function(e){return e.startsWith("image/")})}))&&void 0!==r?r:u[0],h=p.types.find(function(e){return e.startsWith("image/")}),m=p.types.includes("text/html"),f=p.types.includes("text/plain"),!m&&!f){e.next=15;break}return e.next=12,p.getType(m?"text/html":"text/plain");case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=null;case 16:if(!(g=e.t0)){e.next=23;break}return e.next=20,(0,o.readBlob)(g,"text/plain");case 20:e.t1=e.sent,e.next=24;break;case 23:e.t1=null;case 24:if(v=e.t1,!f){e.next=31;break}return e.next=28,p.getType("text/plain");case 28:e.t2=e.sent,e.next=32;break;case 31:e.t2=null;case 32:if(!(b=e.t2)){e.next=39;break}return e.next=36,(0,o.readBlob)(b,"text/plain");case 36:e.t3=e.sent,e.next=40;break;case 39:e.t3=null;case 40:if(y=e.t3,s.txt=y,!y||" "==y){e.next=52;break}if(!(x=window.localStorage.getItem(n+"Cache"))){e.next=52;break}if(e.prev=44,(w=JSON.parse(x)).key!=(0,o.md5)(y.replace(/\r\n/g,"\n"))){e.next=48;break}return e.abrupt("return",(s.content=JSON.parse(window.localStorage.getItem(w.value)),s.type="diagram",s.blob=g,s));case 48:e.next=52;break;case 50:e.prev=50,e.t4=e.catch(44);case 52:if(!m||!v){e.next=72;break}if(v=v.replace(/^<\!DOCTYPE html>/,"").replace(/^<meta[^>]+>/,"").replace(/contenteditable=(\?['"])\w*\1/,""),_=-1==(_=v.indexOf("\x3c!--StartFragment--\x3e"))?0:_+20,C=-1==(C=v.lastIndexOf("\x3c!--EndFragment--\x3e"))?v.length:C,v=v.substring(_,C),(T=document.createElement("div")).innerHTML=v,!T.children.length){e.next=71;break}if(S=T.children[0].dataset,M=S.processonV,D=S.t,!M){e.next=68;break}if(D!=n){e.next=66;break}return s.type="diagram",s.blob=g,E=new RegExp(a+"lt;","g"),A=new RegExp(a+"gt;","g"),e.abrupt("return",(s.content=JSON.parse(M.replace(/([\w-]+)?font-family\:[^;]*;/g,"").replace(E,"&lt;").replace(A,"&gt;").replace(/%26quot;/g,"&quot;")),s));case 66:e.next=69;break;case 68:v=function(e,t){if(!o.reInlineTag.test(e))return e;var n=document.createElement("div");return n.innerHTML=e,Array.prototype.map.call(n.childNodes,function(e){if(3==e.nodeType)return e.textContent;if(1!=e.nodeType)return"";if("eq-pre-white"==e.className)return"";if("equation-text"==e.className)return l(e.getAttribute("data-equation"));var n=e.querySelector(".equation-text");if(n){for(var i="",o=n;o.previousSibling;)i=c(o=o.previousSibling,t);for(i+=l(n.getAttribute("data-equation")),o=n;o.nextSibling;)i+=1==(o=o.nextSibling).nodeType&&"equation-text"==o.className?l(o.getAttribute("data-equation")):c(o,t);return i}var a=e.querySelector(".katex");if(a){var r,s=null===(r=a.querySelector(".Apple-interchange-newline"))||void 0===r||null===(r=r.nextSibling)||void 0===r?void 0:r.textContent;return l(s)}return d(e)}).join("")}(v,n),o.reInlineTag.test(v)||(T.innerHTML=v,T.querySelector(".equation-text")||(m=!1));case 69:e.next=72;break;case 71:m=!1;case 72:if(!h){e.next=83;break}return s.type="image",null!=y&&y.startsWith("http")&&(s.imgUrl=y),e.next=76,p.getType(h);case 76:return F=e.sent,s.blob=F,e.next=80,(0,o.readBlob)(F,h);case 80:s.content=e.sent,e.next=84;break;case 83:s.type=m?"html":"txt",s.blob=m?g:b,s.content=m?v:y;case 84:return e.abrupt("return",s);case 85:case"end":return e.stop()}},e,null,[[44,50]])}))).apply(this,arguments)}},21425:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.brower=t.ClipboardItem=void 0,t.clearClipboardFail=function(){var e=p();return window.localStorage.removeItem(u),0!=e.write||0!=e.writeText},t.dataTransfer2json=y,t.getCliboardFail=p,t.permission=m,t.read=function(){var e=C(k().mark(function e(t){var n,i,o,a,s,l,c,d,u,p,f,g,v;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=null!=(f=t)&&f.clipboardData?y(f.clipboardData):Object.create(null),e.next=3,m("clipboard-read");case 3:if(o=e.sent,a=h.isSafari&&null==t,s=h.isFirefox,l=h.isWemeet&&null==t,c=editorGlobal.deviceType,d="wpsclient_mac"==c,u="wpsclient"==c,p=null!==(n=i.images)&&void 0!==n?n:[],delete i.images,g=Object.keys(i).length?[new r(i)]:[],!("denied"==o||s||a||l||d||u)){e.next=15;break}return e.abrupt("return",w(g,p));case 15:if(e.prev=15,!h.isSougou){e.next=18;break}return e.abrupt("return",w(g,p));case 18:return e.next=20,navigator.clipboard.read();case 20:if(!((g=e.sent)instanceof DataTransfer)){e.next=24;break}delete(v=y(g)).images,g=Object.keys(v).length?[new r(v)]:[];case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(15);case 28:return e.abrupt("return",(w(g,p),g));case 29:case"end":return e.stop()}},e,null,[[15,26]])}));return function(t){return e.apply(this,arguments)}}(),t.readText=function(){var e=C(k().mark(function e(t){var n,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){var t=null==e?void 0:e.clipboardData;return t?t.getData(h.isIE?s:l):""}(t),e.next=3,m("clipboard-read");case 3:if(e.t0=e.sent,"denied"!=e.t0){e.next=6;break}return e.abrupt("return",n);case 6:if(i=n,e.prev=7,!h.isSougou){e.next=10;break}return e.abrupt("return",i);case 10:return e.next=12,navigator.clipboard.readText();case 12:i=e.sent,e.next=17;break;case 15:e.prev=15,e.t1=e.catch(7);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}},e,null,[[7,15]])}));return function(t){return e.apply(this,arguments)}}(),t.write=function(){var e=C(k().mark(function e(t,n){var i,a,r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",Promise.resolve(!1));case 2:return i=t[0]instanceof o.default,e.next=5,m("clipboard-write");case 5:if(e.t1=e.sent,e.t0="denied"==e.t1,e.t0){e.next=9;break}e.t0=i;case 9:if(!e.t0){e.next=11;break}return e.abrupt("return",v(t,n));case 11:return e.prev=11,e.next=14,navigator.clipboard.write(t);case 14:a=e.sent,r=0,e.next=21;break;case 18:e.prev=18,e.t2=e.catch(11),r=1,a=v(t,n);case 21:return e.abrupt("return",(window.localStorage.setItem(u,JSON.stringify({write:r})),a));case 22:case"end":return e.stop()}},e,null,[[11,18]])}));return function(t,n){return e.apply(this,arguments)}}(),t.writeText=function(){var e=C(k().mark(function e(t,n){var i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t){var n=t&&t.clipboardData;n&&n.setData(h.isIE?s:l,e)}(t,n),e.next=3,m("clipboard-write");case 3:if(e.t0=e.sent,"denied"!=e.t0){e.next=6;break}return e.abrupt("return",g(t));case 6:return e.prev=6,e.next=9,navigator.clipboard.writeText(t);case 9:i=e.sent,o=0,e.next=16;break;case 13:e.prev=13,e.t1=e.catch(6),o=1,i=g(t);case 16:return e.abrupt("return",(window.localStorage.setItem(u,JSON.stringify({writeText:o})),i));case 17:case"end":return e.stop()}},e,null,[[6,13]])}));return function(t,n){return e.apply(this,arguments)}}(),n(27531),n(61894),n(5682),n(4790),n(38887),n(37212),n(69268),n(86837),n(84889),n(69858);var o=i(n(19249)),a=n(78322),r=t.ClipboardItem=window.ClipboardItem||o.default,s="text",l="text/plain",c="text/html",d="image/png",u="CLIPBOARD_FAIL";function p(){var e=window.localStorage.getItem(u),t={write:0,writeText:0};if(!e)return t;try{t=JSON.parse(e)}catch(e){}return t}var h=t.brower=function(){var e=navigator.userAgent,t={};return e.includes("MSIE")?t={isIE:!0,target:"ie"}:e.includes("Firefox")?t={isFirefox:!0,target:"firefox"}:e.includes("SE 2.X")?t={isSougou:!0,target:"sougou"}:e.includes("Chrome")?t={isChrome:!0,target:"chrome"}:e.includes("Safari")?t={isSafari:!0,target:"safari"}:e.includes("Opera")?t={isOpera:!0,target:"opera"}:e.includes("app/tencent_wemeet")&&(t={isWemeet:!0,target:"wemeet"}),t}();function m(e){return f.apply(this,arguments)}function f(){return(f=C(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={state:"denied"},e.prev=1,e.next=4,navigator.permissions.query({name:t});case 4:n=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return","https:"!=window.location.protocol?n.state:"prompt");case 10:return e.abrupt("return",n.state);case 11:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function g(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();var n=document.execCommand("Copy");return document.body.removeChild(t),n}function v(e,t){return b.apply(this,arguments)}function b(){return(b=C(k().mark(function e(t,n){var i,o,r,c,d,u,p;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=null==n?void 0:n.clipboardData)){e.next=21;break}o=0;case 3:if(!(o<t.length)){e.next=20;break}r=0;case 5:if(!(r<t[o].types.length)){e.next=17;break}return c=t[o].types[r],e.next=9,t[o].getType(c);case 9:return d=e.sent,e.next=12,(0,a.readBlob)(d,c);case 12:u=e.sent,c==l&&(g(u),h.isIE&&(c=s)),i.setData(c,u);case 14:r++,e.next=5;break;case 17:o++,e.next=3;break;case 20:return e.abrupt("return",!0);case 21:if(p=t.find(function(e){return e.types.includes(l)}),e.t0=!!p,!e.t0){e.next=34;break}return e.t1=g,e.t2=a.readBlob,e.next=28,p.getType(l);case 28:return e.t3=e.sent,e.t4=l,e.next=32,(0,e.t2)(e.t3,e.t4);case 32:e.t5=e.sent,e.t0=(0,e.t1)(e.t5);case 34:return e.abrupt("return",e.t0);case 35:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){var t=e.items,n=e.types,i={images:[]};if(n.includes("Files")&&!h.isIE)for(var o=0;o<t.length;o++)"file"==t[o].kind&&t[o].type.startsWith("image/")&&i.images.push(t[o].getAsFile());return n.includes(l)&&(i[l]=(0,a.strToBlob)(e.getData(h.isIE?s:l),l),n.includes(c)&&(i[c]=(0,a.strToBlob)(e.getData(c),c))),n.includes(d)&&(i[d]=(0,a.dataURLToBlob)(e.getData(d))),i}function w(e,t){return e.some(function(e){return e.types.includes(d)})||t.forEach(function(t){e.push(new r(x({},d,t)))}),e}},83283:function(e,t,n){n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.Collaboration=void 0;var o=i(n(66603));n(61894),n(96909),n(82403),n(12638),n(6284),n(69268),n(86837),n(84889);var a=n(91602),r=i(n(32483)),s=i(n(68482)),l=n(72011),c=n(53680);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}window.PoNetwork={preStatus:"online",offlineCallback:null,onlineCallback:null,onlineVal:"online",offlineVal:"offline",intervalTime:2e4,networkTimer:null,imgExpireLoadTime:5e3,imgTimeoutTimer:null,imgTimeoutTimer2:null,init:function(e){e||(e={}),PoNetwork.offlineHandlePub=e.offlineHandle,PoNetwork.onlineHandlePub=e.onlineHandle,e.onlineChange&&(PoNetwork.onlineChangePub=e.onlineChange),window.addEventListener("offline",PoNetwork.offlineFc,!1),window.addEventListener("online",PoNetwork.onlineFc,!1),PoNetwork.networkTimer&&clearInterval(PoNetwork.networkTimer),PoNetwork.networkTimer=setInterval(function(){PoNetwork.test()},PoNetwork.intervalTime),Object.defineProperty(PoNetwork,"status",{get:function(){return this.preStatus},set:function(e){"offline"==e&&"online"==this.preStatus&&(this.preStatus=e,PoNetwork.offlineChange()),"online"==e&&"offline"==this.preStatus&&(this.preStatus=e,PoNetwork.onlineChange())}})},onlineChange:function(){this.onlineChangePub&&this.onlineChangePub()},offlineChange:function(){},offlineHandle:function(){"undefined"==typeof offlineMask&&(window.offlineMask=this.offlineMask=!1),this.offlineMask||window.offlineMask||PoNetwork.openDialog(),window.offlineMask=this.offlineMask=!0,PoNetwork.offlineHandlePub&&PoNetwork.offlineHandlePub(),this.offlineCallback&&this.offlineCallback()},onlineHandle:function(){"undefined"==typeof offlineMask&&(window.offlineMask=this.offlineMask=!1),PoNetwork.closeDialog(),window.offlineMask=this.offlineMask=!1,PoNetwork.onlineCallback&&PoNetwork.onlineCallback(),PoNetwork.onlineHandlePub&&PoNetwork.onlineHandlePub()},clearNetworkTimer:function(){clearInterval(PoNetwork.netWorkTimer)},test:function(e){null==e&&(e={}),PoNetwork.onlineCallback=e.onlineCallback||null,PoNetwork.offlineCallback=e.offlineCallback||null,PoNetwork.saveTrigger=e.saveTrigger||null;var t="https://ks3-cn-beijing.ksyun.com/mind-files/netest.jpg?_u="+(new Date).getTime();"object"==("undefined"==typeof editorGlobalConfig?"undefined":w(editorGlobalConfig))&&"string"==typeof editorGlobalConfig.testNetworkImage&&(t=editorGlobalConfig.testNetworkImage);var n=new Image;n.src=t,clearTimeout(PoNetwork.imgTimeoutTimer),clearTimeout(PoNetwork.imgTimeoutTimer2),PoNetwork.imgTimeoutTimer=setTimeout(function(){PoNetwork.testAgain(),n=null},PoNetwork.imgExpireLoadTime),n.onload=function(){clearTimeout(PoNetwork.imgTimeoutTimer),clearTimeout(PoNetwork.imgTimeoutTimer2),PoNetwork.onlineFc(),n=null}},offlineFc:function(){PoNetwork.status="offline",PoNetwork.offlineHandle()},onlineFc:function(){PoNetwork.status="online",PoNetwork.onlineHandle()},testAgain:function(e){clearTimeout(PoNetwork.imgTimeoutTimer2);var t="https://nettest.processon.com/assets/netest.jpg?_u="+(new Date).getTime();"object"==("undefined"==typeof editorGlobalConfig?"undefined":w(editorGlobalConfig))&&"string"==typeof editorGlobalConfig.testNetworkImage&&(t=editorGlobalConfig.testNetworkImage);var n=this,i=new Image;i.src=t,PoNetwork.imgTimeoutTimer2=setTimeout(function(){n.offlineFc(),i=null},PoNetwork.imgExpireLoadTime),i.onload=function(){clearTimeout(PoNetwork.imgTimeoutTimer2),n.onlineFc(),i=null}},openDialog:function(e){var t=this;injectExtraAsynCall("beforeOfflineTip",{},function(){a.configCollaSave.errorTip&&(e=e||r.default.t("js.Network_disconnected"),a.configCollaSave.errorTip(e)),t.offlineTimer||(t.offlineTimer=setTimeout(function(){t.turnToReadOnly()},6e4))})},closeDialog:function(){this.offlineTimer&&clearTimeout(this.offlineTimer),this.offlineTimer=null,a.configCollaSave.closeTip&&a.configCollaSave.closeTip()},offlineTimer:null,turnToReadOnly:function(){},turnToEdit:function(){},readonlyDlg:function(){}},PoNetwork.init({offlineHandle:function(){},onlineChange:function(){"undefined"!=typeof publicCLB&&(a.sendMessage.serverRestartHandle(),"undefined"!=typeof poWebSocket&&poWebSocket&&1!=poWebSocket.state&&publicCLB.socketReconnect("dir"),"undefined"!=typeof poWebSocket&&poWebSocket&&1==poWebSocket.state&&a.sendMessage.clearDlgWarnAndReload())}}),t.Collaboration=function(){function e(t){T(this,e),t&&(this.chartId=t.chartId,this.userId=t.userId,this.fullName=t.fullName,this.photoUrl=t.photoUrl,this.name=t.name,this.defaultPort=t.defaultPort,this.fileType=t.fileType,this.userToken=t.userToken,this.saveTextDom=t.saveTextDom,this.renderOffText=t.renderOffText,this.photoCon=t.photoCon,this.webSocketUrl=t.webSocketUrl,this.eventBusUrl=t.eventBusUrl,this.headers={}),this.collaUserCount=1,this.versionSaveTime=18e4,this.collaUserClient={},this.collaUsers={},this.reconnecting=!1,this.reconnectTimer=null,this.reconnectCount=0,this.prePoSaveStatus="success",this.reconnectTimerSpace=1e4,this.heartRate=15e3,this.timer=null,this.serverTimer=null,this.userOpCount={},this.cooperatingSending=!1,this.cooperatingSendErrorCount=0,this.cooperatingSendErrorTime=null,this.collaClose=0}return M(e,[{key:"init",value:function(){var e=this;this.client=(new Date).valueOf()+a.configCollaSave.newId(),window.onbeforeunload=function(t){if(window.poWebSocket&&1==poWebSocket.state&&poWebSocket.close(1e3),"error"==e.prePoSaveStatus)return r.default.t("js.The_network_is_abnormal")+"？"},window.setInterval(function(){("undefined"==typeof AIDraw||"object"==("undefined"==typeof AIDraw?"undefined":w(AIDraw))&&!AIDraw.controller.run)&&a.sendMessage.isSaveVersion&&a.sendMessage.saveVersion()},e.versionSaveTime),document.addEventListener("visibilitychange",function(){!document.hidden&&window.poWebSocket&&1!=poWebSocket.state&&e.socketReconnect("dir"),PoNetwork.test()}),this.collaStart(),a.sendMessage.poSaveStatus||Object.defineProperty(a.sendMessage,"poSaveStatus",{get:function(){return e.prePoSaveStatus},set:function(t){if("success"==t&&"error"==e.prePoSaveStatus&&(a.sendMessage.serverRestartHandle(),window.offLineDlgTimer&&(clearTimeout(window.offLineDlgTimer),window.offLineDlgTimer=null)),"error"==t&&"offline"==PoNetwork.preStatus){if(window.offLineDlgTimer)return;window.offLineDlgTimer=setTimeout(function(){"offline"==PoNetwork.preStatus&&a.configCollaSave.offlineDialog&&a.configCollaSave.offlineDialog()},3e3)}e.prePoSaveStatus=t}})}},{key:"send",value:function(e){if(!(Object.keys(publicCLB.collaUserClient).length<2)){var t=this.headers;t.type=0,poWebSocket.publish("ws."+this.chartId,e,t)}}},{key:"onMessage",value:function(e,t){var n=this,i=e.msg,o=[],r=[],s=null;if(e.client!=n.client){injectExtraAsynCall("onClbMsg",{msgs:i},function(e){});for(var d=0;d<i.length;d++){var p=i[d],h="outline"==e.source?p.content:"mind"==e.source&&(p.content.content||p.content)||[];if(0==h.length||!n.getTopicParent(h)){var m=p.action;if(a.sendMessage.version++,"outline"!=e.source)if("mind"!==e.source){"changeTitle"==m?$("#header-rename").text(p.title):"chat"==m?a.configCollaSave.appendChatMsg(p):"changeSchema"==m?""==p.categories?a.configCollaSave.setSchema([]):a.configCollaSave.setSchema(p.categories.split(",")):"command"==m?editorGlobal.poPagination&&editorGlobal.poPagination.iSshow?(p.pageId==editorGlobal.poPagination.pageId||void 0===p.pageId&&editorGlobal.poPagination.pageId==editorGlobal.poPagination.list[0].definitionId)&&(a.configCollaSave.MessageSource(p.messages),a.sendMessage.version=a.sendMessage.version+p.messages.length-1):(a.configCollaSave.MessageSource(p.messages),a.sendMessage.version=a.sendMessage.version+p.messages.length-1):"addHistory"==m?a.configCollaSave.loadHistorys():"page"==m?a.configCollaSave.loadPages(p.messages):"showCommentIcon"==m&&editorGlobal.config.showComment&&l.comment.Controller.colla.updateComments(p);var f=void 0!==p.messages?p.messages[0]:null;f&&"update"===f.action?s=u({},f.content.updates[0]).id:f&&(s=f.content[0]?f.content[0].id:null),s&&t&&t(s)}else"outline"!=n.fileType&&(r.push(p),e.msg=r);else"mind"!=n.fileType&&a.configCollaSave.MessageSource(p)}}if("outline"!=e.source||"mind"!=n.fileType)if("mind"===e.source){if("outline"==n.fileType)return void c.directMatch.mind.init(e);a.configCollaSave.MessageSource(e,function(e){(s=(o=e)&&o.length>0&&o[0])&&t&&t(s)})}else s&&t&&t(s);else c.directMatch.outline.init(e)}}},{key:"getTopicParent",value:function(e){return!!a.configCollaSave.getTopicParent&&a.configCollaSave.getTopicParent(e)}},{key:"reset",value:function(){return clearTimeout(this.timer),clearTimeout(this.serverTimer),this}},{key:"start",value:function(){var e=this;this.timer=setTimeout(function(){e.serverTimer&&clearTimeout(e.serverTimer),publicCLB.send({type:"PING"}),e.serverTimer=setTimeout(function(){e.reset(),e.stopCollaDlg("collaClose")},e.heartRate)},this.heartRate)}},{key:"collaStart",value:function(){var e=this;window.poWebSocket&&1==poWebSocket.state||(window.poWebSocket&&poWebSocket.close(1e3),window.poWebSocket=null,this.createWebsocket(),this.clearSocketReconnectCountTimer&&(clearInterval(this.clearSocketReconnectCountTimer),this.clearSocketReconnectCountTimer=null),this.clearSocketReconnectCountTimer=setInterval(function(){"online"==PoNetwork.status&&e.reconnectCount>10&&(e.reconnectCount=1)},3e5))}},{key:"createWebsocket",value:function(){var e=this;if(window.WebSocket){window.poWebSocket&&1!=poWebSocket.state&&(poWebSocket.close(1e3),poWebSocket=null),this.userId||(this.userId=this.client);var t=this.fullName?this.fullName.replace(/&amp;/g,"&"):r.default.t("js.Visitor");try{var n=e.userToken?"&token=".concat(e.userToken):"",i=(e.webSocketUrl,"?chartId=".concat(e.chartId,"&userId=").concat(e.userId,"&userName=").concat(encodeURIComponent(t),"&avatar=").concat(e.photoUrl).concat(n),e.eventBusUrl),o=e.headers={chartId:e.chartId,userId:e.userId,clientId:e.client,userNick:t,userLogo:e.photoUrl};injectExtraAsynCall("onBeforeCreateWebsocket",{eventBusUrl:i,headers:o},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.eventBusUrl&&(i=t.eventBusUrl),t.headers&&(o=t.headers),window.poWebSocket=new s.default(i+"/eventbus",{vertxbus_ping_interval:1e4,transports:"websocket"}),e.collaEventInit(o)})}catch(t){e.socketReconnect()}}else $.showTip(r.default.t("js.Current_browser_does_not_support_WebSocket"))}},{key:"socketReconnect",value:function(e){var t=this;if(!this.reconnecting)if(this.reconnecting=!0,"offline"!=PoNetwork.status)if("dir"!=e&&(this.reconnectCount+=1),this.reconnectCount>10)this.reconnecting=!1;else{this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnecting=!1);var n=this.reconnectTimerSpace*this.reconnectCount;"dir"==e&&(n=100),this.reconnectTimer=setTimeout(function(){t.reconnecting=!1,t.createWebsocket()},n)}else this.reconnecting=!1}},{key:"collaEventInit",value:function(e){var t=this;poWebSocket.onopen=function(){t.reconnecting=!1,t.reconnectCount=1,window.poWebSocket.registerHandler("ws."+t.chartId,e,function(i,o){var a=o.headers.type;if("1"==a)e.type=3,t.client==o.headers.clientId&&(t.client=o.headers.clientSessionId),poWebSocket.send("ws.board.online.user",{},e,function(e,n){if("4"==n.headers.type){var i=n.body.data;t.renderUsers(i)}});else if("2"==a){var r=o.body.data;t.renderUsers({userId:r},"leave")}else"0"==a&&n(o)}),t.closeCollaElseDlg(),a.sendMessage.clearDlgWarnAndReload(),"undefined"!=typeof getCollaCountTimer&&getCollaCountTimer&&clearInterval(getCollaCountTimer),t.reset()};var n=function(e){var n=e.body;switch(n.type){case"_s@deliver":if("object"==("undefined"==typeof AIDraw?"undefined":w(AIDraw))&&AIDraw.controller.run)return;try{var i=n.content;if("fe_all_update"===i.type)return void(i.version-a.sendMessage.version>4&&("success"!=a.sendMessage.poSaveStatus?a.configCollaSave.saveVersion&&a.configCollaSave.saveVersion(null,function(e){"success"==e&&a.sendMessage.dlgWarnAndReload()}):a.sendMessage.dlgWarnAndReload()));t.onMessage(i,function(e){t.showUserOp(e,i.client)})}catch(e){}break;case"_s@board":var o=n.content;"undefined"!=typeof wemeetWebSocket&&(o.type==wemeetWebSocket.WEMEET_TYPE.CREAT_NOTICE||o.type==wemeetWebSocket.WEMEET_TYPE.SUS_NOTICE||o.type==wemeetWebSocket.WEMEET_TYPE.REC_NOTICE)&&wemeetWebSocket.msg(n)}};poWebSocket.onerror=function(e){t.reset(),a.configCollaSave.isSafari()?PoNetwork.test({onlineCallback:function(){setTimeout(function(){t.stopCollaDlg("collaClose")},500)}}):setTimeout(function(){t.stopCollaDlg("collaClose")},500)},poWebSocket.onclose=function(e){t.reset(),a.configCollaSave.isSafari()?PoNetwork.test({onlineCallback:function(){setTimeout(function(){t.stopCollaDlg("collaClose")},2e3)}}):setTimeout(function(){t.stopCollaDlg("collaClose")},2e3)}}},{key:"renderUsers",value:function(e,t){var n=this;if(null==t&&e instanceof Array)for(var i=0;i<e.length;i++){var o=e[i];o.userName=o.userInfo.userNick,o.avatar=o.userInfo.userLogo,delete o.userInfo}injectExtraAsynCall("beforeRenderUsers",{users:e,type:t},function(i){e=i.users,t=i.type;var o=$(".po-clb-user-photo-list");if(null==t&&e instanceof Array){if(n.collaUsers={},n.collaUserClient={},e.forEach(function(e,t){e.avatar=decodeURIComponent(e.avatar),null==n.collaUserClient[e.clientId]&&(n.collaUserClient[e.clientId]=e),null==n.collaUsers[e.userId]&&(n.collaUsers[e.userId]=e,n.collaUserClient[e.clientId]=e)}),a.configCollaSave.resetUserPic(o,t,e),!(Object.keys(n.collaUserClient).length>1))return void o.hide();o.css("display","flex")}if("join"==t&&(n.collaUserClient[e.clientId]=e,null==n.collaUsers[e.userId]&&(n.collaUsers[e.userId]=e),o.show(),a.configCollaSave.resetUserPic(o,t,e),a.configCollaSave.forceExitFocus&&a.configCollaSave.forceExitFocus()),"leave"==t){var r=0,s=null;for(var l in n.collaUserClient)n.collaUserClient[l].userId==e.userId&&(r++,s=l);s&&n.collaUserClient[s]&&delete n.collaUserClient[s],n.collaUsers[e.userId]&&r>0&&r<2&&(delete n.collaUsers[e.userId],a.configCollaSave.resetUserPic(o,t,e)),Object.keys(n.collaUserClient).length<=1&&o.length>0&&o.hide()}})}},{key:"resetUserPic",value:function(e,t,n){var i=this,o=e.find(".users-box"),a=o.children(),r=[],s=[];for(var l in i.collaUsers)r.unshift(i.collaUsers[l]);if(null==t){if(a.length<1){for(var c=0;c<3;c++)s.push("<div uid='' ind='"+c+"' style='left:"+26*c+"px; display: none; z-index:"+(c+1)+"' class='colla-user' title_pos='top' disableTitle title=''><img src='"+i.defaultPort+"'/></div>");o.html(s.join("")),o.find("img").off("error.img").on("error.img",function(){$(this).off("error.img"),$(this).attr("src",staticBasePath+"/assets/images/default_photo.png")})}d(r,3),i.collaMemberList.call(i,r,t)}else d(r,3),i.collaMemberList.call(i,n,t);function d(t,n){e.find("[uid]").each(function(e,n){$(n).css({display:e<t.length?"block":"none"})}),t.length>1?o.css({width:30+26*(t.length-1)}):o.css({width:30}),t.forEach(function(e,n){var o=$(".colla-user[ind="+(t.length-n-1)+"]"),a=o.find("img");o.attr({uid:e.userId,title:i.collaDecode(e.userName)});var r=e.avatar;a.attr("src",r)})}}},{key:"collaMemberList",value:function(e,t){var n=this,i=Object.keys(n.collaUsers).length;$("#po-clb-user-menu .title .text").html(r.default.t("js.Current_number_of_collaborators")+i);var o="";for(var a in n.collaUsers){var s=n.collaUsers[a];o+='<li> <img src="'+s.avatar+'" alt="" /> <div class="center"> <div class="name">'+n.collaDecode(s.userName)+'</div></div><div class="po-tool-button"></div></li>'}$("#po-clb-user-menu .po-clb-user-list").html(o),$("#po-clb-user-menu .po-clb-user-list li").find("img").off("error.img").on("error.img",function(){$(this).off("error.img"),$(this).attr("src",staticBasePath+"/assets/images/default_photo.png")})}},{key:"collaDecode",value:function(e){if(e)try{return decodeURI(e)}catch(t){return e}}},{key:"renderOff",value:function(e){if(!$("#stop_listen_tip").length){var t=a.sendMessage.isOffLine?this.renderOffText.isOffLine:e?this.renderOffText.isColla:this.renderOffText.defaultText,n='<div id="stop_listen_tip"><div style="font-size:17px;margin-top:40px;color:#999;font-size:16px;">'.concat(r.default.t("js.A_reminder"),'</div><div style="font-size:16px;margin-top:58px;color:#666;">').concat(t,"</div></div>");$(n).appendTo("body").show(),$.mask(),$(".server_error_dlg_tip_reload").off("click").on("click",function(){window.location.reload()})}}},{key:"showUserOp",value:function(e,t){var n=this.collaUserClient[t];if(null!=n&&e){var i=$("#"+e),o=a.configCollaSave.zoom()||1;if("mind"==this.fileType&&(i=$("#topic-"+e)),i.length>0){var r=$(".colla-user-tip-con[uk='"+t+"']");if(0==r.length){var s=n.avatar;"flow"==this.fileType?(r=$("<div uk='"+t+"' class='colla-user-tip-con'><img src='"+s+"'/></div>").appendTo("#designer_canvas"),Model&&"number"==typeof Model.maxZIndex&&r.css("z-index",Model.maxZIndex+3)):r=$("<div uk='"+t+"' class='colla-user-tip-con'><img src='"+s+"'/></div>").appendTo("#mind_con"),null!=this.userOpCount[t]&&window.clearTimeout(this.userOpCount[t]),this.userOpCount[t]=setTimeout(function(){r.fadeOut().remove()},2e3)}var l=0,c=0;if("flow"==this.fileType){var d=i.offset();l=d.left+(i.outerWidth()+12)*o,c=d.top+i.outerHeight()/2*o-r.outerHeight()/2}else{var u=editorGlobal.mindMap.renderer.getCacheTopic(e).getRectInSvg(),p=i.offset();l=p.left+u.width+12,c=p.top+u.height/2-12}r.css({left:l,top:c}).show()}}}},{key:"cooperatingSend",value:function(e,t){e&&e(1)}},{key:"stopCollaDlg",value:function(e){var t=this;if(this.collaClose="collaClose"==e?1:0,"offline"!=PoNetwork.status)return window.getCollaCountTimer&&clearInterval(getCollaCountTimer),Object.keys(t.collaUserClient).length<2&&"yunVersionLarge"!=e&&"collaClose"!=e?(t.socketReconnect("dir"),void(window.getCollaCountTimer=setInterval(function(){t.cooperatingSend(function(e){e>1&&t.stopCollaDlg("dir")})},2e4))):void(Object.keys(t.collaUserClient).length<2&&"yunVersionLarge"!=e&&"dir"!=e||$("#stop-colla-dlg").is(":visible")||(this.closeCollaElseDlg("stop"),"yunVersionLarge"!=e&&a.configCollaSave.poCollect("yunVersionLarge")))}},{key:"closeCollaElseDlg",value:function(e){var t={stop:"#stop-colla-dlg",server:"#colla-server-error"};for(var n in t)if(e!=n){var i=$(t[n]);i.length>0&&i.dialog("close")}}},{key:"collaServerError",value:function(){a.configCollaSave.poCollect("collaServerError");var e=$("#colla-server-error");if(0==e.length){var t='<div id="colla-server-error" class="dialog dialog-box" style="width: 400px;min-height: 0px;z-index:3;"><h3 style="padding:3px 18px;margin-bottom:16px;">'.concat(r.default.t("js.Collaboration_exception"),'</h3>\n\t\t\t\t\t<div style="padding:0px 18px;margin-bottom:12px;"><div style="font-size:14px;">').concat(r.default.t("js.Ensure_that_the_network"),'。</div></div><div style="margin-top:20px;" class="dialog_buttons"><span style="margin-right: 20px; color:#63abf7;cursor:pointer" class="server_error_dlg_tip_reload mind-button">').concat(r.default.t("js.Refresh_retry"),"</span></div></div>");e=$(t).appendTo($("body")),$(".server_error_dlg_tip_reload").off("click").on("click",function(){window.location.reload()})}e.dialog(),this.closeCollaElseDlg("server")}},{key:"addPage",value:function(e,t){var n=this;$("#po-global-loading-wrap").css("backgroundColor","transparent").show().find(".po-loadingTop p").hide(),setTimeout(function(){$("#po-global-loading-wrap").fadeOut()},2e3),injectExtraAsynCall("onServerApi",{apiName:"addCanvas",params:{}},function(e){if($("#po-global-loading-wrap").fadeOut(),e){t&&t(e.chartDefIds,e.defId,e.def);try{if("undefined"!=typeof poWebSocket&&poWebSocket){var i={type:"_s@deliver",content:{client:n.client,source:"flow",msg:[{action:"page",messages:[{action:"addPage",content:e.chartDefIds}],name:userObj.userName}]}};publicCLB.send(i)}}catch(e){}}})}},{key:"copyPage",value:function(e,t){var n=this;$("#po-global-loading-wrap").css("backgroundColor","transparent").show().find(".po-loadingTop p").hide(),injectExtraAsynCall("onServerApi",{apiName:"copyCanvas",params:e},function(e){if($("#po-global-loading-wrap").fadeOut(),e){t&&t(e.chartDefIds,e.defId,e.def);try{if("undefined"!=typeof poWebSocket&&poWebSocket){var i={type:"_s@deliver",content:{client:n.client,source:"flow",msg:[{action:"page",messages:[{action:"copyPage",content:e.chartDefIds}],name:userObj.userName}]}};publicCLB.send(i)}}catch(e){}}})}},{key:"deletePage",value:function(e,t){var n=this;injectExtraAsynCall("onServerApi",{apiName:"deleteCanvas",params:e},function(i){t&&t(i);try{if("undefined"!=typeof poWebSocket&&poWebSocket){var o={type:"_s@deliver",content:{client:n.client,source:"flow",msg:[{action:"page",messages:[{action:"delPage",content:{id:e.definitionId}}],name:userObj.userName}]}};publicCLB.send(o)}}catch(e){}})}},{key:"renamePage",value:function(e,t){var n=this;injectExtraAsynCall("onServerApi",{apiName:"canvasRename",params:e},function(e){if("error"!=e.status&&void 0!==e){t&&t(e.chartDefIds);try{if("undefined"!=typeof poWebSocket&&poWebSocket){var i={type:"_s@deliver",content:{client:n.client,source:"designer",msg:[{action:"page",messages:[{action:"rename",content:e.chartDefIds}]}]}};publicCLB.send(i)}}catch(e){}}else t&&t()})}},{key:"sortPage",value:function(e,t,n){var i=this;injectExtraAsynCall("onServerApi",{apiName:"canvasSort",params:{source:e,target:t}},function(e){"function"==typeof n&&n(e.chartDefIds);try{if("undefined"!=typeof poWebSocket&&poWebSocket){var t={type:"_s@deliver",content:{client:i.client,source:"designer",msg:[{action:"page",messages:[{action:"sortpage",content:e.chartDefIds}]}]}};publicCLB.send(t)}}catch(e){}})}}]),e}()},91602:function(e,t,n){n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.sendMessage=t.configCollaSave=void 0,n(61894),n(96909),n(5682),n(69268),n(86837),n(84889);var o=i(n(66603)),a=n(27251),r=n(83283),s=n(78322),l=n(31396),c=n(47306);n(77749);var d=n(27619),u=i(n(32483)),p=n(59584),h=n(63372),m=n(70400),f=n(15240);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b={};window.domain||(window.domain="");var y=t.sendMessage=null;(0,a.injectExtraAsynCall)("beforeCreateIndexdb",{},function(){var e="processonEdit",t=[{storeName:e,option:{keyPath:"id"},index:[]}];editorGlobal.db=new h.IndexDB("processonEdit","1",t),editorGlobal.dbstore=editorGlobal.db.collection(e,"1")});var x=t.configCollaSave={opts:{chartId:null,userId:null,fullName:null,photoUrl:null,photoCon:$(".po-clb-user-photo-list"),name:u.default.t("Mind_Map"),readonly:!1,defaultPort:staticBasePath+"/assets/images/default_photo.png",webSocketUrl:s.webSocketUrl,eventBusUrl:s.eventBusUrl,saveTextDom:$("#save-tip"),renderOffText:{defaultText:"".concat(u.default.t("js.Because_you_have_not_edited"),"<br><br>").concat(u.default.t("js.Automatically_saved_the_history"),'</div><div style="color:#666;font-size:16px;margin-top:40px;">').concat(u.default.t("js.click"),' <a class="server_error_dlg_tip_reload" style="color:#63abf7;cursor:pointer">').concat(u.default.t("js.Restore"),"</a>"),isOffLine:"".concat(u.default.t("js.Graphics_when_collaborating"),'</div><div style="font-size:16px;margin-top:8px;color:#666;">').concat(u.default.t("js.Please_make_sure_to_refresh"),'</div><div style="color:#666;font-size:16px;margin-top:40px;">').concat(u.default.t("js.click"),' <a class="server_error_dlg_tip_reload" style="color:#63abf7;cursor:pointer">').concat(u.default.t("js.Refresh_page"),"</a>"),isColla:"".concat(u.default.t("js.Editing_operations_cannot_be_performed"),'</div><div style="font-size:16px;margin-top:8px;color:#666;">').concat(u.default.t("js.Please_refresh_the_page"),'</div><div style="color:#666;font-size:16px;margin-top:40px;">').concat(u.default.t("js.click"),' <a class="server_error_dlg_tip_reload" style="color:#63abf7;cursor:pointer">').concat(u.default.t("js.Refresh_page"),"</a>")},editorVersion:{mindEditorVersion:l.VERSION.mind}},init:function(e,n){var i,o=this.opts;if(n){"designer"==n&&(n="flow");var a=n;e&&(a+="-"+e),w[a]&&(o=v(v({},o),w[a].opts),t.configCollaSave=x=v(v({},x),w[a]));var s=w[a]||{};o=v(v({},o),s.opts),t.configCollaSave=x=v(v(v({},x),s),{},{opts:o})}o.storePos=null===(i=editorGlobalConfig)||void 0===i||null===(i=i.pageInfoConfig)||void 0===i||null===(i=i.pageInfo)||void 0===i?void 0:i.store,this.opts=o,this.getUserObj(),this.instantSend(this.opts),window.publicCLB=new r.Collaboration(o),publicCLB.init();var l=editorGlobal.chartObj;editorGlobal.chartObj&&(this.opts.collaRole=l.collaRole,this.opts.orgId=l.orgId,this.getFilePower()),y.initVersion(),editorGlobal.configCollaSave=x},instantSend:function(e){y?e&&(y.chartId=e.chartId,y.userId=e.userId,y.fullName=e.fullName,y.fileType=e.fileType,y.saveTextDom=e.saveTextDom,y.renderOffText=e.renderOffText,y.readonly=e.readonly):editorGlobal.sendMessage=t.sendMessage=y=new d.Message(e)},getUserObj:function(){this.opts.chartId=editorGlobal.chartId;var e=editorGlobal.userObj;e&&(this.opts.userId=e.userId,this.opts.fullName=e.fullName,this.opts.photoUrl=e.photoUrl)},apiList:{cooperatingSend:"https://wpscb.processon.com/online_user"},host:function(e){var t=this.apiList;if(t&&t[e])return t[e]},getFilePower:function(){"viewer"!=this.opts.collaRole||this.opts.orgId||(this.opts.readonly=!0)},saveSending:function(){},saveSuccess:function(){},saveLocal:function(){},getLocal:function(){},saveLocal_:function(e){y.saveLocal_(e)},store:function(e,t,n,i){(0,a.injectExtraAsynCall)("beforeSaveIndexdb",{type:e,data:t,resolve:n,reject:i},function(e){var t=e.type,n=e.data,i=e.resolve,o=e.reject;t&&editorGlobal.dbstore[t]&&editorGlobal.dbstore[t](n).then(function(e){i&&i(e)}).catch(function(e){o&&o(e)})})},errorTextTip:function(){this.toast({type:"warning",text:u.default.t("js.Sensitive_characters_are_involved")})},toast:function(e,t){$.toast&&$.toast(e,t)},errorTip:function(e){this.toast({type:"warning",text:e,name:"network",autoClose:!1,zIndex:16})},closeTip:function(){this.toast("close","network"),this.warnTip("close","network")},pageReloadTip:function(){this.toast({type:"secondary",text:u.default.t("js.Detected_a_cloud_version_update"),autoClose:!1})},getCurrDef:function(){var e=window.Model&&$.extend(Model.define,{comments:Model.comments})||editorGlobal.mindMap&&editorGlobal.mindMap.getData(),t=JSON.stringify(e);return JSON.parse(t)},ajax:function(e,t){},loadHistorys:function(e){},setSchema:function(e){Designer.setSchema(e)},appendChatMsg:function(e){},showUserOp:function(){},MessageSource:function(e,t){},renderUsers:function(){},resetUserPic:function(e,t,n){},zoom:function(){return 1},poCollect:function(e){},isChrome:function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>=0},isFirefox:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>=0},isSafari:function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")},isIE:function(){var e=navigator.userAgent;return e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1||e.indexOf("Edge/")>-1},newId:function(){return this.randomString(10)+this.randomNumber(6)},randomNumber:function(e){for(var t="";e>0;)t+=Math.floor(10*Math.random()),e--;return t},randomString:function(e,t){t=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var n="",i=0;i<e;i++){var o=Math.floor(Math.random()*t.length);n+=t.substring(o,o+1)}return n},closeHistory:function(){},loadPages:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("delPage"==n.action){var i=editorGlobal.poPagination.getPageById(n.content.id);editorGlobal.poPagination.delPage(i,!0)}else editorGlobal.poPagination.list=n.content,editorGlobal.poPagination.build(),editorGlobal.poPagination.renderInit()}},getDefId:function(){var e;return null===(e=editorGlobal)||void 0===e||null===(e=e.poPagination)||void 0===e?void 0:e.pageId},getCanvasId:function(){var e,t;return editorGlobal.poPagination&&null!==(e=null===(t=editorGlobal.poPagination.data[editorGlobal.poPagination.pageId])||void 0===t?void 0:t.canvasId)&&void 0!==e?e:""},warnTip:function(e,t){var n=$(".warn-tip");if((t||e.data)&&(n=$(".warn-tip[data-info="+(t||e.data)+"]")),"string"!=typeof e){var i={content:"",tipIcon:!1,pos:"top",top:"90px",closable:!0,delay:null,onClose:null,callback:null};$.extend(i,e),n.length>0&&n.remove();var o="";if(i.tipIcon){var a="&#xe672;";i.tipIcon.indexOf("&#")>-1&&(a=i.tipIcon),o="<div class='warn-icon icons'>"+a+"</div>"}var r="";i.data&&(r="data-info="+i.data),0==(n=$("<div class='warn-tip' "+r+">"+o+"<div class='mind-tip-text'>"+i.content+"</div><div class='mind-tip-close icons'>&#xe622;</div></div>").appendTo("body")).find(".mind-tip-close").length&&$("<span class='mind-dlog-close icons'>&#xe623;</span>").appendTo(dialogTitle),!1===i.closable?(n.find(".mind-tip-close").css("display","none"),i.delay&&("undefined"!=typeof clearWarnTipTimer&&clearTimeout(clearWarnTipTimer),clearWarnTipTimer=setTimeout(function(){n.remove()},i.delay))):n.find(".mind-tip-close").css("display","block"),n.children(".mind-tip-close").off("click").on("click",function(){n.remove(),i.onClose&&i.onClose instanceof Function&&i.onClose()}),setTimeout(function(){n.css({top:i.top,bottom:"auto"})}),i.callback&&i.callback instanceof Function&&i.callback()}else"close"==e&&n.length>0&&n.find(".mind-tip-close").trigger("click")},offlineTipCount:0,offlineDialog:function(){if(!(this.offlineTipCount>0)){this.offlineTipCount++;var e=$("#po-offline-dlg");e.length||(e=$('<div id="po-offline-dlg" class="po-dialog" style="width:412px;">\n\t\t\t\t<div class="po-dialog-header">'.concat(u.default.t("js.Risk_Alert"),'</div>\n\t\t\t\t<div class="mind-context-menu-content" style="padding:0px 24px;">\n\t\t\t\t\t<div style="font-size:14px;">').concat(u.default.t("js.Continue_the_offline_editing_operation"),'</div>\n\t\t\t\t\t<div style="font-size:14px;margin-top:8px;">').concat(u.default.t("js.Cause_some_content_to_be_lost"),'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="po-buttons" style="padding:20px 24px;white-space: nowrap;text-align: right;">\n\t\t\t\t\t<span id="btn-offline-cancel" style="width:32px;" class="po-button primary">').concat(u.default.t("js.Got_it"),"</span>\n\t\t\t\t</div>\n\t\t\t</div>")).appendTo("body"),$("#btn-offline-cancel").on("click",function(){e.dialog("close").remove()})),e.is(":visible")||e.dialog()}},injectExtraAsynCall:function(e,t,n){(0,a.injectExtraAsynCall)(e,t,function(e,t,i){n(e,t,i)})}},w={mind:{opts:{fileType:"mind",name:u.default.t("Mind_Map")},zoom:function(){return 1},saveOnlineError:function(){c.Util.loading({content:u.default.t("js.No_local_data_found"),show:3e3,model:!1})},saveSending:function(){$("#header-history img").is(":visible")||$("#header-history img").show(),$("#header-history img").attr("src","".concat(staticBasePath,"/images/saving.gif"))},saveSuccess:function(){$("#header-history img").is(":visible")||$("#header-history img").show(),$("#header-history img").attr("src",staticBasePath+"/images/saved.gif"),$(".reconn").remove(),editorGlobal.mindMap.emit("view_data_change")},getCurrDef:function(){var e,t=null===(e=editorGlobal.mindMap)||void 0===e?void 0:e.getData(),n=JSON.stringify(t);return JSON.parse(n)},checkMsgs:function(){y.checkMsgs()},initMap:function(e){var t=editorGlobal.mindMap.renderer.mindTree=e;setTimeout(function(){null!=t&&t.theme&&!(0,f.isJSONString)(t.theme)&&t.theme.indexOf("customise_")>=0?p.Server.getThemeById(t.theme,function(e){t.theme=e,editorGlobal.mindMap.setFullData(t)}):editorGlobal.mindMap.setFullData(t)},1e3)},renderUsers:function(e,t){publicCLB.renderUsers(e,t)},resetUserPic:function(e,t,n){publicCLB.resetUserPic(e,t,n)},loadHistorys:function(e){"mind"==this.opts.fileType?m.historyUI.loadHistorys(e):"undefined"!=typeof historyV&&historyV.loadHistorys(e),$("#history_remark").val(""),$("#btn_history_clear").button("disable")},getTopicParent:function(e){var t=!1;if(e&&e.length>0)for(var n=0;n<e.length;n++){var i=e[n].parent;if(!editorGlobal.mindMap.renderer.getTopicById(i)){if(t=!0,e.length>1)for(var o=0;o<e.length;o++)if(i==e[o].id){t=!1;break}break}}return t},MessageSource:function(e,t){editorGlobal.mindMap.emit("msgExcute",e,t)},forceExitFocus:function(){}},"mind-mobi":{opts:{photoCon:$(".colla-users-con")},saveSending:function(){$("#save-tip").html(u.default.t("js.Save"))},saveSuccess:function(){$("#save-tip").html(u.default.t("js.Saved")),$(".reconn").remove()},renderUsers:function(e,t){$("#colla-users-con").find("img").attr("src",this.opts.photoUrl),publicCLB.renderUsers(e,t)},resetUserPic:function(e,t,n){var i,o=[],a=[];for(var r in publicCLB.collaUserClient){var s=publicCLB.collaUserClient[r];-1==a.indexOf(s)&&a.unshift(s),o.indexOf(s.userId)<0&&o.push(s.userId)}(i=o.length)>0?(e.find(".colla-amount").length&&e.find(".colla-amount").remove(),e.append('<div class="colla-amount">'+i+"</div>")):$(".colla-amount").remove(),null==t?this.collaMemberList(a,t):this.collaMemberList(n,t)},collaMemberList:function(e,t){var n=$("#topic-colla-con"),i=$(".colla_list");if(i.length<1&&(i=$("<div class='colla_list'><ul class='colla_oneself'></ul><ul class='colla_temp'></ul>").appendTo(n)),null==t)$(".colla_temp").find("li[uid]").remove(),e.forEach(function(e,t){r(e,!0)});else if("join"==t)$("li[uid="+e.userId+"]").length<1&&r(e);else if("leave"==t){var o=0;for(var a in publicCLB.collaUserClient)publicCLB.collaUserClient[a].userId==e.userId&&o++;if(o>0)return;$("li[uid="+e.userId+"]").length&&$("li[uid="+e.userId+"]").remove()}function r(e,t){window.userObj&&userObj.userId==e.userId&&t?$(".colla_oneself").html("<li uid='"+e.userId+"'><img src='"+e.avatar+"' /><span class='owner_name'>"+decodeURIComponent(e.userName)+"</span><label>（".concat(u.default.t("js.I_on"),"）</label></li>")):$("li[uid="+e.userId+"]").length<1&&$(".colla_temp").append("<li uid='"+e.userId+"'><img src='"+e.avatar+"' /><span class='owner_name'>"+decodeURIComponent(e.userName)+"</span></li>")}},MessageSource:function(e,t){editorGlobal.mindMap.emit("msgExcute",e,t)}},flow:{opts:{fileType:"flow",name:"流程图"},saveSending:function(){$("#header-history img").attr("src","".concat(staticBasePath,"/images/saving.gif")).error(function(){$(this).hide()}).load(function(){$(this).show()})},apiList:{addPage:b.addPage,deletePage:b.deletePage,copyPage:b.copyPage,sortPage:b.sortPage,renamePage:b.renamePage},saveSuccess:function(){$("#header-history img").attr("src",staticBasePath+"/images/saved.gif").show(),$(".reconn").remove(),Model.define.version=y.version},saveOnlineError:function(){c.Util.loading({content:"未发现本地数据，请编辑后，再次尝试",show:3e3,model:!1})},initMap:function(e){Model.define=e,setTimeout(function(){Designer.open(v({},Model.define)),Designer.initialize.canvasSizeAuto()},1e3)},renderUsers:function(e,t){publicCLB.renderUsers(e,t)},resetUserPic:function(e,t,n){publicCLB.resetUserPic(e,t,n)},loadHistorys:function(e,t){null!=t&&""!=t&&(History.loadHistorys(!0),$.toast({text:u.default.t("js.History_version_created_successfully")}))},MessageSource:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){MessageSource.receive(e)})},outline:{opts:{fileType:"outline",name:"思维笔记"},getUserObj:function(){this.opts.chartId=editorGlobal.chartId,this.opts.userId=window.userId,this.opts.fullName=window.fullName,this.opts.photoUrl=window.photoUrl},saveSending:function(){$("#header-history img").attr("src","".concat(staticBasePath,"/images/saving.gif")).error(function(){$(this).hide()}).load(function(){$(this).show()})},saveSuccess:function(){$("#header-history img").attr("src","".concat(staticBasePath,"/images/saved.gif")).show(),$(".reconn").remove()},saveOnlineError:function(){c.Util.loading({content:"未发现本地数据，请编辑后，再次尝试",show:3e3,model:!1})},checkMsgs:function(){y.checkMsgs()},initMap:function(e){outlineObj.model.data=e,setTimeout(function(){$("#outline-con").html(""),window.outlineObj=new window.Outline({target:"outline-con",line:{show:!0},readonly:!1,indent:"wider"},e)},1e3)},renderUsers:function(e,t){publicCLB.renderUsers(e,t)},resetUserPic:function(e,t,n){},loadHistorys:function(e){outlineUI&&outlineUI.history&&outlineUI.history.loadHistorys(),$("#history_remark").val(""),$("#btn_history_clear").button("disable"),$.toast({text:u.default.t("js.History_version_created_successfully")})},MessageSource:function(e,t){window.outlineObj.server.excuteMsgDirect(e,t)},getTopicParent:function(e){if("undefined"==typeof outlineObj||!outlineObj)return!1;var t=!1;if(e&&e.length>0)for(var n=0;n<e.length;n++){var i=e[n].parent;if(!outlineObj.model.getNodeById(i)){if(t=!0,e.length>1)for(var o=0;o<e.length;o++)if(i==e[o].id){t=!1;break}break}}return t},forceExitFocus:function(){0==$(".mind-topic-focus").length||$("#root").length>0||window.mind&&(mind.operation.focusTopic.call(mind,mind.model.topic.id,!0,!1),mind.operation.exitFocus.call(mind),x.toast({type:"warning",text:u.default.t("js.Your_files_are_in_collaboration")+", "+u.default.t("js.Out_of_focus_mode")}))}}};if(x.instantSend(),editorGlobal.configCollaSave=x,window.localStorage){var k=function(e,t){x.store("get",e,function(n){if(n){var i=n.value;"string"==typeof i&&(i=JSON.parse(i)),t[version]>i[version]&&x.store("put",{id:e,value:t},function(){localStorage.removeItem(e)})}else x.store("add",{id:e,value:t},function(){localStorage.removeItem(e)})})};for(var _ in localStorage)if(_.indexOf("def_")>-1){var C=JSON.parse(localStorage.getItem(_));C&&k(_,C)}}var T=x.getDefId?x.getDefId():"";T&&x.store("find","def_"+editorGlobal.chartId,function(e){if(e){var t=e.value;"string"==typeof t&&(t=JSON.parse(t)),x.store("add",{id:"def_"+editorGlobal.chartId+"_"+T,value:t},function(){x.store("remove","def_"+editorGlobal.chartId)})}})},53680:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.directMatch=void 0,n(61894),n(65534),n(82403),n(6284),n(69268),n(84889);var i=n(15240);t.directMatch={mind:{executing:!1,mess:[],init:function(e){var t=e.msg,n=this;if(this.executing)this.mess.push(t);else{this.executing=!0;var i=window.outlineObj.util.copyArray(this.mess.concat(t));try{for(var o=0;o<i.length;o++){var a=i[o],r=a.action,s=a.content,l=a.pageId;if(editorGlobal.poPagination&&editorGlobal.poPagination.iSshow&&a.pageId!=editorGlobal.poPagination.pageId&&(void 0!==a.pageId||editorGlobal.poPagination.pageId!=editorGlobal.poPagination.list[0].definitionId))return void(this.executing=!1);if("create"==r){var c={action:"add",content:s.content,indexs:s.index,pageId:l};window.outlineObj.server.excuteMsgDirect(c,function(){})}else if("delete"==r)c={action:"delete",content:s.content,pageId:l,indexs:{}},window.outlineObj.server.excuteMsgDirect(c,function(){});else if("updateTitle"==r);else if("updateImage"==r);else if("setTheme"==r);else if("updateStructure"==r);else if("deleteConnection"==r)c={action:"deleteConnection",content:s.content,pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){});else if("addConnection"==r)c={action:"addConnection",content:s.content,pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){});else if("updateConnection"==r);else if("updatePos"==r){var d=window.outlineObj.model,u=s.content,p=s.newIndex,h=(s.original,s.newPart);if(u.length<1)return;var m={sourceId:[],target:{}};u.forEach(function(e,t){if(!e.id)return!0;m.sourceId.push(e.id);var n=p[e.id];if(null==n)return!0;if(n<1)"root"==e.parent&&"left"==h[e.id]?m.target[e.id]={id:e.parent,pos:"in",part:"left"}:m.target[e.id]={id:e.parent,pos:"in"};else{var i=d.getNodeById(e.parent);if(!i)return!0;var o=i.children;"root"==e.parent&&"left"==h[e.id]&&(o=i.leftChildren);var a=o[n-1].id;m.target[e.id]={id:a,pos:"down"}}}),m.source={},c={action:"moveNode",content:m,pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){}),n.updateSummaries(s.newSums,s.oldSums)}else if("changeToFreeTopic"==r){var f=s.content,g=(s.original,s.index,s.updates);null!=g&&$.isEmptyObject(g)&&(g=null);var v=window.outlineObj.util.copy(f);if(!f||$.isEmptyObject(f))return;var b=(d=window.outlineObj.model).data.children,y=(m={sourceId:[f.id],target:{}},{});y=0==b.length?{id:"root",pos:"in"}:{id:b[b.length-1].id,pos:"down"},m.target[f.id]=y,c={action:"moveNode",content:m,pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){});var x=d.getNodeById(v.id);x.parent="root",x.pos=v.pos,x.free=!0,n.updateSummaries(null,{updates:g})}else if("updateFreeTopic"==r);else if("update"==r)c={action:"update",content:m={nodes:s.content,oldNodes:s.original,key:s.type},pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){});else if("addFreeTopic"==r);else if("updateBg"==r){var w=s.content;w&&(w.indexOf("obqv3yxb1.bkt.clouddn.com")>=0&&(w=w.replace("obqv3yxb1.bkt.clouddn.com","cdn3.processon.com")),(d=window.outlineObj.model).getNodeById("root").background=w)}else if("setThemeOverWrite"==r){var k=s.content,_=s.tps;n.style.setThemeOverWrite_.call(n,k,_,"delete",!0),n=this;var C=(d=window.outlineObj.model).data;C.theme,null==k&&""==k||(C.theme=k),n.getStyleTopics(C),d.resetNodeList()}else if("setTopicStyle"==r);else if("changetopicexpand"==r);else if("insertParent"==r);else if("unInsertParent"==r);else if("addSummary"==r)c={action:"addSummary",content:T=s.content,pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){});else if("deleteSummary"==r){var T=s.content,S=s.parats;c={action:"deleteSummary",content:T,pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){})}else if("updateSummary"==r)T=s.content,s.original,c={action:"updateSummary",content:T,pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){});else if("addBoundary"==r);else if("delPerBoundaries"==r);else if("updatePerBoundaries"==r);else if("deleteSelf"==r);else if("deleteSelfRestore"==r);else if("removeAndAdd"==r){var M=function(e,t,n){var i={action:n,content:e,indexs:t,pageId:l};window.outlineObj.server.excuteMsgDirect(i,function(){})},D=s,E=D.addTopics,A=void 0===E?[]:E,F=D.removeTopics,I=void 0===F?[]:F,O=D.addIndexs,L=void 0===O?{}:O,P=D.removedIndexs,B=void 0===P?{}:P;I.length&&M(I,B,"delete"),A.length&&M(A,L,"add")}else if("hideTopics"==r){var N=s.ids;s.withChildren,c={action:"hideTopics",content:N,withChildren:!1,pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){})}else"showTopics"==r?(N=s.ids,S=s.parts,s.withChildren,c={action:"showTopics",content:N,parts:S,withChildren:!1,pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){})):"updatePage"==r?(c={action:"updatePage",content:s.content,original:s.original,pageId:l},window.outlineObj.server.excuteMsgDirect(c,function(){})):"updateSumData"==r?n.updateSummaries(s.newSums,s.oldSums):"updateDef"==r&&window.outlineObj.server.excuteMsgDirect(a,function(){})}}catch(z){}this.executing=!1,this.mess=[]}},updateSummaries:function(e,t){var n=window.outlineObj.model;if(null!=t&&!$.isEmptyObject(t)){var i=t.updates;for(var o in i)if((l=i[o])&&l.length>0){var a=n.getNodeById(o).summaries;l.forEach(function(e,t){var n=a[t];n.id==e.id&&(n.range=e.range,e.part?n.part=e.part:delete n.part,e.removed&&a.splice(t,1))})}}if(null!=e&&!$.isEmptyObject(e)){var r=e.updates;for(var s in r){var l;if((l=r[s])&&l.length>0){a=n.getNodeById(s).summaries;var c=[];a.forEach(function(e){c.push(e.id)}),l.forEach(function(e,t){var n=a[t];n&&n.id==e.id?(n.range=e.range,e.part?n.part=e.part:delete n.part):c.indexOf(e.id)<0&&a.push(e)})}}}n.resetNodeList()},getStyleTopics:function(e){var t=[],n=this.util;return function e(i){if(i){if(i.style||i.lineStyle||i.theme&&i.background||i.margin){if(t.push(n.copy(i)),i.summary){if(null!=i.style)for(var o in i.style)"lineWidth"!=o&&"lineColor"!=o&&"lineType"!=o&&delete i.style[o]}else delete i.style;delete i.lineStyle}i.theme&&delete i.background,i.margin&&delete i.margin;var a=i.children,r=[];if(i.root&&(r=i.leftChildren,a=a.concat(r)),a.length>0)for(var s=0,l=a.length;s<l;s++){e(a[s])}}}(e),t}},outline:{executing:!1,mess:[],init:function(e){var t,n,o,a,r=e.msg;if(this.executing)this.mess.concat(r);else{this.executing=!0;var s=(0,i.deepClone)(this.mess.concat(r));try{for(var l=0;l<s.length;l++){var c=s[l],d=c.action,u=c.pageId;if(editorGlobal.poPagination&&editorGlobal.poPagination.iSshow&&c.pageId!=editorGlobal.poPagination.pageId&&(void 0!==c.pageId||editorGlobal.poPagination.pageId!=editorGlobal.poPagination.list[0].definitionId))return void(this.executing=!1);switch(d){case"add":var p={msg:[{action:"create",content:{content:f=c.content,index:c.indexs},pageId:u}],client:e.client,source:"outline"};null===(t=editorGlobal)||void 0===t||null===(t=t.configCollaSave)||void 0===t||t.MessageSource(p);break;case"update":p={msg:[{action:"update",content:{content:(A=c.content).nodes,original:A.oldNodes,type:A.key},pageId:u}],client:e.client,source:"outline"},null===(n=editorGlobal)||void 0===n||null===(n=n.configCollaSave)||void 0===n||n.MessageSource(p);break;case"moveNode":for(var h=(A=c.content).sourceId,m=A.target,f=(A.source,[]),g=0,v=h.length;g<v;g++){var b=h[g];(m.id||m[b])&&f.push(editorGlobal.mindMap.renderer.getCacheTopic(b).getPureData())}if(m.id)k(f,m);else for(var y=0,x=f.length;y<x;y++){var w=f[y];k([w],E=m[w.id])}var k=function(t,n){var o;n.pos&&("up"==n.pos&&(n.pos="before"),"down"==n.pos&&(n.pos="after"),n.pos);var a={msg:[{action:"updatePos",content:{content:(0,i.deepClone)(t),target:n,moveFromOutline:!0},pageId:u}],client:e.client,source:"outline"};null===(o=editorGlobal)||void 0===o||null===(o=o.configCollaSave)||void 0===o||o.MessageSource(a)};break;case"delete":f=c.content,p={msg:[{action:"delete",content:{content:(0,i.deepClone)(f),updates:null},pageId:u}],client:e.client,source:"outline"},null===(o=editorGlobal)||void 0===o||null===(o=o.configCollaSave)||void 0===o||o.MessageSource(p);break;case"open":case"close":break;case"indent":var _=(A=c.content).ids,C=A.targets,T=(A.origins,A.type);if(0==_.length)return;var S=(0,i.deepClone)(_);for(f=[],v=S.length,g=0;g<v;g++){m=C[I=S[g]];var M,D=(0,i.copyTopicData)(editorGlobal.mindMap.renderer.getTopicById(I)),E=m;if(m)"undo"!=T&&(E={id:m.id,pos:"in"}),p={msg:[{action:"updatePos",content:{content:[D],target:E,moveFromOutline:!0},pageId:u}],client:e.client,source:"outline"},null===(M=editorGlobal)||void 0===M||null===(M=M.configCollaSave)||void 0===M||M.MessageSource(p)}break;case"unIndent":var A;for(S=(A=c.content).ids,C=A.targets,A.origins,S.length>0&&S.reverse(),_=(0,i.deepClone)(S),g=0;g<S.length;g++){var F,I=S[g];"root"!=(D=(0,i.copyTopicData)(editorGlobal.mindMap.renderer.getTopicById(I))).parent&&(p={msg:[{action:"updatePos",content:{content:[D],target:m={id:D.parent,pos:"after"},moveFromOutline:!0},pageId:u}],client:e.client,source:"outline"},null===(F=editorGlobal)||void 0===F||null===(F=F.configCollaSave)||void 0===F||F.MessageSource(p))}break;case"updateDef":p={msg:[c],client:e.client,source:"outline"},null===(a=editorGlobal)||void 0===a||null===(a=a.configCollaSave)||void 0===a||a.MessageSource(p)}}}catch(O){}this.executing=!1,this.mess=[]}}}}},63372:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IndexDB=void 0,n(4790),n(82403),n(33809),n(13253),n(14237);var i=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;t.IndexDB=function(){function e(t,n,i){T(this,e),this._dbs={},this._databaseName=t,this.currentStore="",this.open(t,n,i)}return M(e,[{key:"open",value:function(e,t,n){var o=this;if(i)return new Promise(function(a,r){if(o._dbs&&o._dbs[e])a(o._dbs[e]);else{var s=i.open(e,t);s.onupgradeneeded=function(i){var r=i.target.result;for(var s in o._dbs[e]=r,n)if(r.objectStoreNames.contains(n[s].storeName))r.close(),t++,o.open(e,t,n);else{var l,c=r.createObjectStore(n[s].storeName,n[s].option),d=v(n[s].index);try{for(d.s();!(l=d.n()).done;){var u=l.value;c.createIndex(u.name,u.keyPath,{unique:u.unique})}}catch(p){d.e(p)}finally{d.f()}}a(r)},s.onsuccess=function(t){var n=t.target.result;o._dbs[e]=n,a(n)},s.onerror=function(e){var t=e.target.error;if("VersionError"==t.name){var n=(t=t.toString()).match(/requested version \([0-9]+\) is less than the existing version \([0-9]+\)/);if(n){var i=n[0].match(/requested version \((\S*?)\)/);i&&(i=i[1]);var o=n[0].match(/existing version \((\S*?)\)/);o&&(o=o[1])}}}}})}},{key:"_getTransaction",value:function(e,t,n){var i=this;if(this._dbs[this._databaseName]){var o=this._dbs[this._databaseName].transaction(e,"readwrite");n&&n(o)}else this.open(this._databaseName,t).then(function(){i._getTransaction(e,t,n)})}},{key:"_getObjectStore",value:function(e,t,n){this._getTransaction(e,t,function(t){var i=t.objectStore(e);n&&n(i)})}},{key:"collection",value:function(e,t){return this.currentStore=e,this._getObjectStore(e,t),this}},{key:"add",value:function(e){var t=this;return new Promise(function(n,i){t._getObjectStore(t.currentStore,1,function(t){var o=t.get(e);o.onsuccess=function(e){n(e.target.result)},o.onerror=function(e){i(null)}})})}},{key:"get",value:function(e){var t=this;return new Promise(function(n,i){t._getObjectStore(t.currentStore,1,function(t){var o=t.get(e);o.onsuccess=function(e){n(e.target.result)},o.onerror=function(e){i(null)}})})}},{key:"delete",value:function(e){var t=this;return new Promise(function(n,i){t._getObjectStore(t.currentStore,1,function(t){var o=t.delete(e);o.onsuccess=function(e){n(e.target.result)},o.onerror=function(e){i(null)}})})}},{key:"clear",value:function(e){var t=this;return new Promise(function(n,i){t._getObjectStore(t.currentStore,1,function(t){var o=t.clear(e);o.onsuccess=function(e){n(e.target.result)},o.onerror=function(e){i(null)}})})}},{key:"put",value:function(e){var t=this;return new Promise(function(n,i){t._getObjectStore(t.currentStore,1,function(t){var o=t.put(e);o.onsuccess=function(e){n(e.target.result)},o.onerror=function(e){i(null)}})})}},{key:"find",value:function(e,t,n,i){var o=this;return new Promise(function(a,r){o._getObjectStore(o.currentStore,1,function(o){var s=o.openCursor(IDBKeyRange.bound(e,t,n,i));s.onsuccess=function(e){a(e.target.result)},s.onerror=function(e){r(null)}})})}}]),e}()},27619:function(e,t,n){n(61894),n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var o=i(n(66603));n(5682),n(82403),n(12638),n(33809),n(47958),n(14237);var a=i(n(32483)),r=n(91602);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}n(47306),t.Message=function(){function t(e){T(this,t),e&&(this.chartId=e.chartId,this.definitionId=e.chartObj.definitionId,this.userId=e.userId,this.fullName=e.fullName,this.fileType=e.fileType,this.saveTextDom=e.saveTextDom,this.renderOffText=e.renderOffText,this.readonly=e.readonly),this.isOffLine=!1,this.saving=!1,this.versionNow=0,this.version=0,this.isSaveVersion=!1,this.errorVersionStart=0,this.serverRestartSaveErrorCount=0,this.saveOnlineTime=1e4,this.isWaiting=!1,this.errorSave=0,this.versionTimer=null,this.checkMsgUnsavedTime=3e3,this.sendServerErrorStatus=!1,this.sending=!1,this.mess=[],this.tempMess=[],this.sendCount=0}return M(t,[{key:"send",value:function(e){var t=this;if(r.configCollaSave.saveSending&&r.configCollaSave.saveSending(),e||(e=[]),Object.keys(e).length&&this.version++,this.isSaveVersion=!0,"command"==e.action&&(this.version=this.version+e.messages.length-1),null==this.chartId||""==this.chartId)return t.isOffLine=!0,void r.configCollaSave.poCollect("emptyChartId");var n=h(e=[].concat(e));if(this.sending)return $.isEmptyObject(n)||(this.tempMess=this.tempMess.concat(n)),void r.configCollaSave.saveLocal_(!0);window.savePartnerUnsaved&&clearTimeout(savePartnerUnsaved),$.isEmptyObject(n)?t.mess=t.tempMess:t.mess=t.tempMess.concat(n),t.tempMess=[],t.sending=!0,r.configCollaSave.checkMsgs&&r.configCollaSave.checkMsgs(),0===t.sendCount&&("flow"==this.fileType&&this.mess[0].messages&&this.mess[0].messages[0]?this.mess[0].messages[0].editorVersion=r.configCollaSave.opts.editorVersion:this.mess[0].editorVersion=r.configCollaSave.opts.editorVersion.mindEditorVersion),t.sendCount++;var i=JSON.stringify(this.mess),o=r.configCollaSave.getCanvasId?r.configCollaSave.getCanvasId():"",a=this.version;injectExtraAsynCall("onServerApi",{apiName:"sendMsg",params:{msgStr:i,canvasId:o}},function(e){t.sending=!1,"error"==e.result?t.sendError(e.jqxr):t.sendSuccess(e.data||{},a)})}},{key:"sendSuccess",value:function(e,t){var n=this;if(n.sending=!1,n.sendServerErrorStatus=!1,"oauth"!=e.result){if("error"==e.result||"error_text"==e.error||"error"==e.error||e.error)return n.poSaveStatus="error",n.errorSave++,n.errorVersionStart=n.version,"error_text"==e.error&&(r.configCollaSave.errorTextTip(),r.configCollaSave.poCollect("saveError")),n.directErrorHandle(),void r.configCollaSave.saveLocal_();n.versionNow=t||this.version,n.errorSave=0,n.errorVersionStart=0,e.version&&e.version>n.versionNow&&n.versionNow>1&&e.version-n.versionNow>5&&n.dlgWarnAndReload(),n.poSaveStatus="success",window.poWebSocket&&1!=poWebSocket.state&&publicCLB&&publicCLB.socketReconnect("dir");var i=h(n.mess);if(n.mess=[],window.poWebSocket){var o={type:"_s@deliver",content:{client:publicCLB.client,source:n.fileType,msg:i}};publicCLB.send(o)}n.saveTextDom.html(a.default.t("js.Saved")),r.configCollaSave.saveSuccess(),localStorage.setItem("version_local_"+n.chartId,e.version||1),window.savePartnerUnsaved=setTimeout(function(){n.tempMess&&n.tempMess.length>0&&n.send()},n.checkMsgUnsavedTime)}else n.pageReload()}},{key:"sendError",value:function(e){var t=this;t.sending=!1,t.poSaveStatus="error",t.errorSave++,t.errorVersionStart=t.version,r.configCollaSave.saveLocal_(),PoNetwork.test({onlineCallback:function(){e.status&&0==(e.status+"").indexOf("50")&&(t.sendServerErrorStatus=!0)}})}},{key:"checkMsgs",value:function(){for(var e=h(this.mess),t={},n=0;n<e.length;n++){var i=e[n];if("create"==i.action)for(var o=i.content,a=o.length-1;a>=0;a--){var r=o[a];t[r.id]?o.splice(a,1):t[r.id]=!0}}this.mess=e}},{key:"initVersion",value:function(){var e=this,t=this,n=r.configCollaSave.getCurrDef().version||0;isNaN(n)||(this.version=this.versionNow=n),r.configCollaSave.opts.readonly||(this.versionTimer&&(clearTimeout(this.versionTimer),this.versionTimer=null),this.versionTimer=setTimeout(function(){var i=r.configCollaSave.getDefId(),o=r.configCollaSave.getDefId?"_"+r.configCollaSave.getDefId():"";t.chartId==(r.configCollaSave.getCanvasId?r.configCollaSave.getCanvasId():"")&&(o=""),r.configCollaSave.store("get","def_"+e.chartId+o,function(e){if(r.configCollaSave.getDefId()==i&&e){var o=e.value;if("string"==typeof o&&(o=JSON.parse(o)),"[object Object]"!=Object.prototype.toString.call(o))return;var a=o.page&&!isNaN(o.page.version)&&o.page.version||o.version||0;!isNaN(n)&&a-n>2&&(t.version=t.versionNow=a,r.configCollaSave.initMap&&r.configCollaSave.initMap(o),t.saveOnline("initVersion"))}})},1500))}},{key:"pageReload",value:function(){"offline"!=PoNetwork.status&&(window.reloadTimer&&(clearTimeout(window.reloadTimer),window.reloadTimer=null),r.configCollaSave.closeTip(),r.configCollaSave.pageReloadTip(),window.reloadTimer=setTimeout(function(){window.reloadTimer&&(clearTimeout(window.reloadTimer),window.reloadTimer=null),window.location.reload()},3e3))}},{key:"initVersionCallback",value:function(){if(window.poWebSocket&&1==poWebSocket.state){var t={type:"_s@deliver",content:{client:publicCLB.client,source:this.fileType,msg:[],type:"fe_all_update",version:this.version}};try{publicCLB.send(t)}catch(e){}}}},{key:"getYunVersion",value:function(e){var t=r.configCollaSave.getCanvasId?r.configCollaSave.getCanvasId():that.chartId,n={userId:this.userId,chartId:this.chartId,canvasId:t};r.configCollaSave.host("getYunVersion"),injectExtraAsynCall("onServerApi",{apiName:"getYunVersion",params:n},function(t){if(null!=t.version)return e&&e(t.version),t.version})}},{key:"saveVersion",value:function(e,t){var n=this,i=r.configCollaSave.getCurrDef();editorGlobal.sendMessage.version>1&&(i.version=editorGlobal.sendMessage.version);var o=!0,a=JSON.stringify(i),s="自动存储";null!=e&&""!=e&&(s=e,o=!1);var l=r.configCollaSave.getCanvasId?r.configCollaSave.getCanvasId():n.chartId;injectExtraAsynCall("onServerApi",{apiName:"addHistory",params:{canvasId:l,def:a,remark:s,terminal:"WEB",isAuto:o}},function(i){n.isSaveVersion=!1,t&&t("success"),r.configCollaSave.loadHistorys(!0,e)})}},{key:"saveLocal_",value:function(e){var t=this,n=r.configCollaSave.getCurrDef();this.version>1&&(n.version=this.version);var i=JSON.stringify(n);if(""!=i){var o=r.configCollaSave.getDefId?"_"+r.configCollaSave.getDefId():"";this.chartId==(r.configCollaSave.getCanvasId?r.configCollaSave.getCanvasId():"")&&(o=""),r.configCollaSave.store&&r.configCollaSave.store("put",{id:"def_"+this.chartId+o,value:i}),e||setTimeout(function(){$("#header-history img").hide(),t.saveTextDom.html("<span class='offline-tip'><span class='po-diagraming-icons'>&#xe99a;</span></span>"),$("#header-history").siblings(".reconn").length<1&&($("#header-history").after("<a href='javascript:void(0)' class=\"reconn\" style='color:#067BEF;text-decoration:underline;margin-left:2px'>重连同步</a>"),$("#header-history").siblings(".reconn").off("click").on("click",function(){editorGlobal.sendMessage.saveOnline()}))},100)}}},{key:"getLocalVersion",value:function(e){return this.chartId&&(localStorage.getItem("def_"+this.chartId)||{}).version||0}},{key:"removeLocalDef",value:function(){this.chartId&&r.configCollaSave.store&&r.configCollaSave.store("delete","def_"+this.chartId)}},{key:"directErrorHandle",value:function(){var e=this;e.judgeCollaStatus(function(t){"colla"!=t?editorGlobal.sendMessage.saveOnline("initVersion"):editorGlobal.sendMessage.getYunVersion(function(t){!isNaN(t)&&t-e.version>1?editorGlobal.sendMessage.saveVersion(null,function(t){"success"==t&&e.pageReload()}):editorGlobal.sendMessage.saveOnline("initVersion_colla")})})}},{key:"serverRestartHandle",value:function(e){var t=this;t.version-t.versionNow>0?t.getYunVersion(function(e){!isNaN(e)&&e-t.version>2&&t.dlgWarnAndReload(),t.saveOnline("serverRestart")}):t.judgeCollaStatus(function(e){"colla"==e&&t.getYunVersion(function(e){e&&e-t.version>2&&t.dlgWarnAndReload()})})}},{key:"dlgWarnAndReload",value:function(){var e=this;"offline"!=PoNetwork.status&&(publicCLB&&publicCLB.stopCollaDlg("yunVersionLarge"),window.reload20s&&window.clearTimeout(reload20s),window.reload20s=setTimeout(function(){e.pageReload()},5e3))}},{key:"clearDlgWarnAndReload",value:function(){var e=this,t=$("#stop-colla-dlg");t.length>0&&"block"==t.css("display")&&t.dialog("close"),"undefined"!=typeof reload20s&&reload20s&&e.getYunVersion(function(t){t-e.version<3&&(window.clearTimeout(reload20s),reload20s=null)})}},{key:"judgeCollaStatus",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},publicCLB.collaUserClient);Object.keys(t).length>1?e&&e("colla"):publicCLB&&publicCLB.cooperatingSend(function(t){t>1?e&&e("colla"):e&&e("self")},"dir")}},{key:"saveOnline",value:function(e){var t=this;if(!t.saving)if("click"!=e&&"serverRestart"!=e&&t.serverRestartSaveErrorCount>=5){if(window.clearSaveErrorCountTimer&&(clearTimeout(window.clearSaveErrorCountTimer),window.clearSaveErrorCountTimer=null),window.serverRestartSaveErrorTimer)return;window.serverRestartSaveErrorTimer=setTimeout(function(){t.serverRestartSaveErrorCount=0,window.serverRestartSaveErrorTimer=null},6e4)}else if("click"==e||"serverRestart"==e||!t.isWaiting){t.isWaiting=!0,window.saveOnlineTimer&&(clearTimeout(window.saveOnlineTimer),window.saveOnlineTimer=null),window.saveOnlineTimer=setTimeout(function(){t.isWaiting=!1,window.saveOnlineTimer=null},t.saveOnlineTime),window.clearSaveErrorCountTimer||(window.clearSaveErrorCountTimer=setTimeout(function(){t.serverRestartSaveErrorCount=0,window.clearSaveErrorCountTimer=null},6e4)),t.saving=!0;var n=r.configCollaSave.getCurrDef();this.version>1&&(n.version=this.version);var i=JSON.stringify(n);if(null!=i&&""!=$.trim(i))if("offline"!=PoNetwork.status){t.saveTextDom||(t.saveTextDom=$('<div style="display: none"></div>').appendTo($("body"))),t.saveTextDom.html(a.default.t("js.Save")),t.version++;var o=Object.keys(n).length,s=r.configCollaSave.getCanvasId?r.configCollaSave.getCanvasId():"";injectExtraAsynCall("onServerApi",{apiName:"saveOnline",params:{def:i,shapecount:o,ignore:"def",canvasId:s}},function(n){t.saving=!1;var i=n.data;"error"!=n.result?"oauth"!=i.error&&"notlogin"!=i.error?"error"!=i.error&&"error"!=i.result?(t.serverRestartSaveErrorCount=0,t.initVersionCallback(),t.getLocalVersion(),i.version&&i.version,t.saveTextDom.html(a.default.t("js.Saved")),$("#header-history").siblings(".reconn").remove(),r.configCollaSave.saveSuccess(),t.poSaveStatus="success",t.versionNow=i.version):t.serverRestartSaveErrorCount++:t.pageReload():"serverRestart"==e&&t.serverRestartSaveErrorCount++})}else t.saving=!1;else r.configCollaSave.saveOnlineError()}}}]),t}()},22841:function(e,t,n){n(96700),n(61894),n(69642),n(96909),n(83403),n(28293),n(95313),n(33488),n(70116),n(5682),n(87812),n(1053),n(82403),n(12638),n(33809),n(6284),n(30940),n(48915),n(20005),n(13552),n(42712),n(42211),n(20306),n(32209),n(68801),n(18097),n(62495),n(72216),n(63061),n(69268),n(84889),n(78471),e.exports=function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){return o(t[r][1][e]||e)},c,c.exports,e,t,n,i)}return n[r].exports}for(var a=void 0,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,i){(function(n){(function(){var i=e("./transport-list");t.exports=e("./main")(i),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(e,t,n){var i=e("inherits"),o=e("./event");function a(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}i(a,o),t.exports=a},{"./event":4,inherits:54}],3:[function(e,t,n){var i=e("inherits"),o=e("./eventtarget");function a(){o.call(this)}i(a,o),a.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},a.prototype.once=function(e,t){var n=this,i=!1;this.on(e,function o(){n.removeListener(e,o),i||(i=!0,t.apply(this,arguments))})},a.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];for(var a=0;a<t.length;a++)t[a].apply(this,i)}},a.prototype.on=a.prototype.addListener=o.prototype.addEventListener,a.prototype.removeListener=o.prototype.removeEventListener,t.exports.EventEmitter=a},{"./eventtarget":5,inherits:54}],4:[function(e,t,n){function i(e){this.type=e}i.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},i.prototype.stopPropagation=function(){},i.prototype.preventDefault=function(){},i.CAPTURING_PHASE=1,i.AT_TARGET=2,i.BUBBLING_PHASE=3,t.exports=i},{}],5:[function(e,t,n){function i(){this._listeners={}}i.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];-1===n.indexOf(t)&&(n=n.concat([t])),this._listeners[e]=n},i.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var i=n.indexOf(t);-1===i||(1<n.length?this._listeners[e]=n.slice(0,i).concat(n.slice(i+1)):delete this._listeners[e])}},i.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var i=this._listeners[t],o=0;o<i.length;o++)i[o].apply(this,n)},t.exports=i},{}],6:[function(e,t,n){var i=e("inherits"),o=e("./event");function a(e){o.call(this),this.initEvent("message",!1,!1),this.data=e}i(a,o),t.exports=a},{"./event":4,inherits:54}],7:[function(e,t,n){var i=e("./utils/iframe");function o(e){(this._transport=e).on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(e,t){i.postMessage("c",JSON.stringify([e,t]))},o.prototype._transportMessage=function(e){i.postMessage("t",e)},o.prototype._send=function(e){this._transport.send(e)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=o},{"./utils/iframe":47}],8:[function(e,t,n){var i=e("./utils/url"),o=e("./utils/event"),a=e("./facade"),r=e("./info-iframe-receiver"),s=e("./utils/iframe"),l=e("./location");t.exports=function(e,t){var n,c={};t.forEach(function(e){e.facadeTransport&&(c[e.facadeTransport.transportName]=e.facadeTransport)}),c[r.transportName]=r,e.bootstrap_iframe=function(){var t;s.currentWindowId=l.hash.slice(1),o.attachEvent("message",function(o){if(o.source===parent&&(void 0===n&&(n=o.origin),o.origin===n)){var r;try{r=JSON.parse(o.data)}catch(d){return void o.data}if(r.windowId===s.currentWindowId)switch(r.type){case"s":var d;try{d=JSON.parse(r.data)}catch(d){r.data;break}var u=d[0],p=d[1],h=d[2],m=d[3];if(u!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+u+'", the iframe: "'+e.version+'".');if(!i.isOriginEqual(h,l.href)||!i.isOriginEqual(m,l.href))throw new Error("Can't connect to different domain from within an iframe. ("+l.href+", "+h+", "+m+")");t=new a(new c[p](h,m));break;case"m":t._send(r.data);break;case"c":t&&t._close(),t=null}}}),s.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:void 0}],9:[function(e,t,n){var i=e("events").EventEmitter,o=e("inherits"),a=e("./utils/object"),r=function(){};function s(e,t){i.call(this);var n=this,o=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(e,t){var i,s;if(200===e){if(s=+new Date-o,t)try{i=JSON.parse(t)}catch(e){r("bad json",t)}a.isObject(i)||(i={})}n.emit("finish",i,s),n.removeAllListeners()})}o(s,i),s.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=s},{"./utils/object":49,debug:void 0,events:3,inherits:54}],10:[function(e,t,n){var i=e("inherits"),o=e("events").EventEmitter,a=e("./transport/sender/xhr-local"),r=e("./info-ajax");function s(e){var t=this;o.call(this),this.ir=new r(e,a),this.ir.once("finish",function(e,n){t.ir=null,t.emit("message",JSON.stringify([e,n]))})}i(s,o),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=s},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:54}],11:[function(e,t,i){(function(n){(function(){var i=e("events").EventEmitter,o=e("inherits"),a=e("./utils/event"),r=e("./transport/iframe"),s=e("./info-iframe-receiver"),l=function(){};function c(e,t){var o=this;function c(){var n=o.ifr=new r(s.transportName,t,e);n.once("message",function(e){if(e){var t;try{t=JSON.parse(e)}catch(t){return l("bad json",e),o.emit("finish"),void o.close()}var n=t[0],i=t[1];o.emit("finish",n,i)}o.close()}),n.once("close",function(){o.emit("finish"),o.close()})}i.call(this),n.document.body?c():a.attachEvent("load",c)}o(c,i),c.enabled=function(){return r.enabled()},c.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=c}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:void 0,events:3,inherits:54}],12:[function(e,t,n){var i=e("events").EventEmitter,o=e("inherits"),a=e("./utils/url"),r=e("./transport/sender/xdr"),s=e("./transport/sender/xhr-cors"),l=e("./transport/sender/xhr-local"),c=e("./transport/sender/xhr-fake"),d=e("./info-iframe"),u=e("./info-ajax"),p=function(){};function h(e,t){p(e);var n=this;i.call(this),setTimeout(function(){n.doXhr(e,t)},0)}o(h,i),h._getReceiver=function(e,t,n){return n.sameOrigin?new u(t,l):s.enabled?new u(t,s):r.enabled&&n.sameScheme?new u(t,r):d.enabled()?new d(e,t):new u(t,c)},h.prototype.doXhr=function(e,t){var n=this,i=a.addPath(e,"/info");p("doXhr",i),this.xo=h._getReceiver(e,i,t),this.timeoutRef=setTimeout(function(){p("timeout"),n._cleanup(!1),n.emit("finish")},h.timeout),this.xo.once("finish",function(e,t){p("finish",e,t),n._cleanup(!0),n.emit("finish",e,t)})},h.prototype._cleanup=function(e){p("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},h.prototype.close=function(){p("close"),this.removeAllListeners(),this._cleanup(!1)},h.timeout=8e3,t.exports=h},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:void 0,events:3,inherits:54}],13:[function(e,t,i){(function(e){(function(){t.exports=e.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,i){(function(n){(function(){e("./shims");var i,o=e("url-parse"),a=e("inherits"),r=e("./utils/random"),s=e("./utils/escape"),l=e("./utils/url"),c=e("./utils/event"),d=e("./utils/transport"),u=e("./utils/object"),p=e("./utils/browser"),h=e("./utils/log"),m=e("./event/event"),f=e("./event/eventtarget"),g=e("./location"),v=e("./event/close"),b=e("./event/trans-message"),y=e("./info-receiver"),x=function(){};function w(e,t,n){if(!(this instanceof w))return new w(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");f.call(this),this.readyState=w.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&h.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return r.string(i)}}this._server=n.server||r.numberString(1e3);var a=new o(e);if(!a.host||!a.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(a.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==a.protocol&&"https:"!==a.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+a.protocol+"' is not allowed.");var s="https:"===a.protocol;if("https:"===g.protocol&&!s&&!l.isLoopbackAddr(a.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var c=t.sort();c.forEach(function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<c.length-1&&e===c[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")});var d=l.getOrigin(g.href);this._origin=d?d.toLowerCase():null,a.set("pathname",a.pathname.replace(/\/+$/,"")),this.url=a.href,x("using url",this.url),this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:l.isOriginEqual(this.url,g.href),sameScheme:l.isSchemeEqual(this.url,g.href)},this._ir=new y(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function k(e){return 1e3===e||3e3<=e&&e<=4999}a(w,f),w.prototype.close=function(e,t){if(e&&!k(e))throw new Error("InvalidAccessError: Invalid code");if(t&&123<t.length)throw new SyntaxError("reason argument has an invalid length");this.readyState!==w.CLOSING&&this.readyState!==w.CLOSED&&this._close(e||1e3,t||"Normal closure",!0)},w.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===w.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===w.OPEN&&this._transport.send(s.quote(e))},w.version=e("./version"),w.CONNECTING=0,w.OPEN=1,w.CLOSING=2,w.CLOSED=3,w.prototype._receiveInfo=function(e,t){if(x("_receiveInfo",t),this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=u.extend(e,this._urlInfo),x("info",e);var n=i.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,x(this._transports.length+" enabled transports"),this._connect()}else this._close(1002,"Cannot connect to server")},w.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(x("attempt",e.transportName),e.needBody&&(!n.document.body||void 0!==n.document.readyState&&"complete"!==n.document.readyState&&"interactive"!==n.document.readyState))return x("waiting for body"),this._transports.unshift(e),void c.attachEvent("load",this._connect.bind(this));var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),x("using timeout",t);var i=l.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),o=this._transportOptions[e.transportName];x("transport url",i);var a=new e(i,this._transUrl,o);return a.on("message",this._transportMessage.bind(this)),a.once("close",this._transportClose.bind(this)),a.transportName=e.transportName,void(this._transport=a)}this._close(2e3,"All transports failed",!1)},w.prototype._transportTimeout=function(){x("_transportTimeout"),this.readyState===w.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},w.prototype._transportMessage=function(e){x("_transportMessage",e);var t,n=this,i=e.slice(0,1),o=e.slice(1);switch(i){case"o":return void this._open();case"h":return this.dispatchEvent(new m("heartbeat")),void x("heartbeat",this.transport)}if(o)try{t=JSON.parse(o)}catch(e){x("bad json",o)}if(void 0!==t)switch(i){case"a":Array.isArray(t)&&t.forEach(function(e){x("message",n.transport,e),n.dispatchEvent(new b(e))});break;case"m":x("message",this.transport,t),this.dispatchEvent(new b(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}else x("empty payload",o)},w.prototype._transportClose=function(e,t){x("_transportClose",this.transport,e,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),k(e)||2e3===e||this.readyState!==w.CONNECTING?this._close(e,t):this._connect()},w.prototype._open=function(){x("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===w.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=w.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new m("open")),x("connected",this.transport)):this._close(1006,"Server lost session")},w.prototype._close=function(e,t,n){x("_close",this.transport,e,t,n,this.readyState);var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===w.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=w.CLOSING,setTimeout(function(){this.readyState=w.CLOSED,i&&this.dispatchEvent(new m("error"));var o=new v("close");o.wasClean=n||!1,o.code=e||1e3,o.reason=t,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null,x("disconnected")}.bind(this),0)},w.prototype.countRTO=function(e){return 100<e?4*e:300+e},t.exports=function(t){return i=d(t),e("./iframe-bootstrap")(w,t),w}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:void 0,inherits:54,"url-parse":57}],15:[function(e,t,n){function i(e){return"[object Function]"===s.toString.call(e)}function o(e){return"[object String]"===u.call(e)}var a,r=Array.prototype,s=Object.prototype,l=Function.prototype,c=String.prototype,d=r.slice,u=s.toString,p=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();function h(e,t,n){for(var i in t)s.hasOwnProperty.call(t,i)&&a(e,i,t[i],n)}function m(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}function f(){}a=p?function(e,t,n,i){!i&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,i){!i&&t in e||(e[t]=n)},h(l,{bind:function(e){var t=this;if(!i(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=d.call(arguments,1),o=Math.max(0,t.length-n.length),a=[],r=0;r<o;r++)a.push("$"+r);var s=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof s){var i=t.apply(this,n.concat(d.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(d.call(arguments)))});return t.prototype&&(f.prototype=t.prototype,s.prototype=new f,f.prototype=null),s}}),h(Array,{isArray:function(e){return"[object Array]"===u.call(e)}});var g,v,b,y=Object("a"),x="a"!==y[0]||!(0 in y);h(r,{forEach:function(e,t){var n=m(this),a=x&&o(this)?this.split(""):n,r=t,s=-1,l=a.length>>>0;if(!i(e))throw new TypeError;for(;++s<l;)s in a&&e.call(r,a[s],s,n)}},(g=r.forEach,b=v=!0,g&&(g.call("foo",function(e,t,n){"object"!=w(n)&&(v=!1)}),g.call([1],function(){b="string"==typeof this},"x")),!(g&&v&&b)));var k=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);h(r,{indexOf:function(e,t){var n=x&&o(this)?this.split(""):m(this),i=n.length>>>0;if(!i)return-1;var a=0;for(1<arguments.length&&(a=function(e){var t=+e;return t!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(0<t||-1)*Math.floor(Math.abs(t))),t}(t)),a=0<=a?a:Math.max(0,i+a);a<i;a++)if(a in n&&n[a]===e)return a;return-1}},k);var _,C=c.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||1<".".split(/()()/).length?(_=void 0===/()??/.exec("")[1],c.split=function(e,t){var n=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==u.call(e))return C.call(this,e,t);var i,o,a,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),d=0;for(e=new RegExp(e.source,c+"g"),n+="",_||(i=new RegExp("^"+e.source+"$(?!\\s)",c)),t=void 0===t?-1>>>0:t>>>0;(o=e.exec(n))&&!(d<(a=o.index+o[0].length)&&(l.push(n.slice(d,o.index)),!_&&1<o.length&&o[0].replace(i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)}),1<o.length&&o.index<n.length&&r.push.apply(l,o.slice(1)),s=o[0].length,d=a,l.length>=t));)e.lastIndex===o.index&&e.lastIndex++;return d===n.length?!s&&e.test("")||l.push(""):l.push(n.slice(d)),l.length>t?l.slice(0,t):l}):"0".split(void 0,0).length&&(c.split=function(e,t){return void 0===e&&0===t?[]:C.call(this,e,t)});var T=c.substr;h(c,{substr:function(e,t){return T.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},"".substr&&"b"!=="0b".substr(-1))},{}],16:[function(e,t,n){t.exports=[e("./transport/websocket"),e("./transport/xhr-streaming"),e("./transport/xdr-streaming"),e("./transport/eventsource"),e("./transport/lib/iframe-wrap")(e("./transport/eventsource")),e("./transport/htmlfile"),e("./transport/lib/iframe-wrap")(e("./transport/htmlfile")),e("./transport/xhr-polling"),e("./transport/xdr-polling"),e("./transport/lib/iframe-wrap")(e("./transport/xhr-polling")),e("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(e,t,i){(function(n){(function(){var i=e("events").EventEmitter,o=e("inherits"),a=e("../../utils/event"),r=e("../../utils/url"),s=n.XMLHttpRequest,l=function(){};function c(e,t,n,o){l(e,t);var a=this;i.call(this),setTimeout(function(){a._start(e,t,n,o)},0)}o(c,i),c.prototype._start=function(e,t,n,i){var o=this;try{this.xhr=new s}catch(e){}if(!this.xhr)return l("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();t=r.addQuery(t,"t="+ +new Date),this.unloadRef=a.unloadAdd(function(){l("unload cleanup"),o._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){l("xhr timeout"),o.emit("finish",0,""),o._cleanup(!1)})}catch(e){return l("exception",e),this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!c.supportsCORS||(l("withCredentials"),this.xhr.withCredentials=!0),i&&i.headers)for(var d in i.headers)this.xhr.setRequestHeader(d,i.headers[d]);this.xhr.onreadystatechange=function(){if(o.xhr){var e,t,n=o.xhr;switch(l("readyState",n.readyState),n.readyState){case 3:try{t=n.status,e=n.responseText}catch(e){}l("status",t),1223===t&&(t=204),200===t&&e&&0<e.length&&(l("chunk"),o.emit("chunk",t,e));break;case 4:t=n.status,l("status",t),1223===t&&(t=204),12005!==t&&12029!==t||(t=0),l("finish",t,n.responseText),o.emit("finish",t,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(e){o.emit("finish",0,""),o._cleanup(!1)}},c.prototype._cleanup=function(e){if(l("cleanup"),this.xhr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){l("close"),this._cleanup(!0)},c.enabled=!!s;var d=["Active"].concat("Object").join("X");!c.enabled&&d in n&&(l("overriding xmlhttprequest"),c.enabled=!!new(s=function(){try{return new n[d]("Microsoft.XMLHTTP")}catch(e){return null}}));var u=!1;try{u="withCredentials"in new s}catch(o){}c.supportsCORS=u,t.exports=c}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],18:[function(e,t,i){(function(e){(function(){t.exports=e.EventSource}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,t,i){(function(e){(function(){var n=e.WebSocket||e.MozWebSocket;t.exports=n?function(e){return new n(e)}:void 0}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){var i=e("inherits"),o=e("./lib/ajax-based"),a=e("./receiver/eventsource"),r=e("./sender/xhr-cors"),s=e("eventsource");function l(e){if(!l.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/eventsource",a,r)}i(l,o),l.enabled=function(){return!!s},l.transportName="eventsource",l.roundTrips=2,t.exports=l},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:54}],21:[function(e,t,n){var i=e("inherits"),o=e("./receiver/htmlfile"),a=e("./sender/xhr-local"),r=e("./lib/ajax-based");function s(e){if(!o.enabled)throw new Error("Transport created when disabled");r.call(this,e,"/htmlfile",o,a)}i(s,r),s.enabled=function(e){return o.enabled&&e.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,t.exports=s},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(e,t,n){var i=e("inherits"),o=e("events").EventEmitter,a=e("../version"),r=e("../utils/url"),s=e("../utils/iframe"),l=e("../utils/event"),c=e("../utils/random"),d=function(){};function u(e,t,n){if(!u.enabled())throw new Error("Transport created when disabled");o.call(this);var i=this;this.origin=r.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=c.string(8);var a=r.addPath(n,"/iframe.html")+"#"+this.windowId;d(e,t,a),this.iframeObj=s.createIframe(a,function(e){d("err callback"),i.emit("close",1006,"Unable to load an iframe ("+e+")"),i.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}i(u,o),u.prototype.close=function(){if(d("close"),this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},u.prototype._message=function(e){if(d("message",e.data),r.isOriginEqual(e.origin,this.origin)){var t;try{t=JSON.parse(e.data)}catch(n){return void d("bad json",e.data)}if(t.windowId===this.windowId)switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch(n){return void d("bad json",t.data)}this.emit("close",n[0],n[1]),this.close()}else d("mismatched window id",t.windowId,this.windowId)}else d("not same origin",e.origin,this.origin)},u.prototype.postMessage=function(e,t){d("postMessage",e,t),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},u.prototype.send=function(e){d("send",e),this.postMessage("m",e)},u.enabled=function(){return s.iframeEnabled},u.transportName="iframe",u.roundTrips=2,t.exports=u},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:void 0,events:3,inherits:54}],23:[function(e,t,i){(function(n){(function(){var i=e("inherits"),o=e("./lib/sender-receiver"),a=e("./receiver/jsonp"),r=e("./sender/jsonp");function s(e){if(!s.enabled())throw new Error("Transport created when disabled");o.call(this,e,"/jsonp",r,a)}i(s,o),s.enabled=function(){return!!n.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,t.exports=s}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(e,t,n){var i=e("inherits"),o=e("../../utils/url"),a=e("./sender-receiver"),r=function(){};function s(e,t,n,i){var s;a.call(this,e,t,(s=i,function(e,t,n){r("create ajax sender",e,t);var i={};"string"==typeof t&&(i.headers={"Content-type":"text/plain"});var a=o.addPath(e,"/xhr_send"),l=new s("POST",a,t,i);return l.once("finish",function(e){if(r("finish",e),l=null,200!==e&&204!==e)return n(new Error("http status "+e));n()}),function(){r("abort"),l.close(),l=null;var e=new Error("Aborted");e.code=1e3,n(e)}}),n,i)}i(s,a),t.exports=s},{"../../utils/url":52,"./sender-receiver":28,debug:void 0,inherits:54}],25:[function(e,t,n){var i=e("inherits"),o=e("events").EventEmitter,a=function(){};function r(e,t){a(e),o.call(this),this.sendBuffer=[],this.sender=t,this.url=e}i(r,o),r.prototype.send=function(e){a("send",e),this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){a("sendScheduleWait");var e,t=this;this.sendStop=function(){a("sendStop"),t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){a("timeout"),t.sendStop=null,t.sendSchedule()},25)},r.prototype.sendSchedule=function(){a("sendSchedule",this.sendBuffer.length);var e=this;if(0<this.sendBuffer.length){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(t){e.sendStop=null,t?(a("error",t),e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}},r.prototype._cleanup=function(){a("_cleanup"),this.removeAllListeners()},r.prototype.close=function(){a("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=r},{debug:void 0,events:3,inherits:54}],26:[function(e,t,i){(function(n){(function(){var i=e("inherits"),o=e("../iframe"),a=e("../../utils/object");t.exports=function(e){function t(t,n){o.call(this,e.transportName,t,n)}return i(t,o),t.enabled=function(t,i){if(!n.document)return!1;var r=a.extend({},i);return r.sameOrigin=!0,e.enabled(r)&&o.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=o.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(e,t,n){var i=e("inherits"),o=e("events").EventEmitter,a=function(){};function r(e,t,n){a(t),o.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}i(r,o),r.prototype._scheduleReceiver=function(){a("_scheduleReceiver");var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(t){a("message",t),e.emit("message",t)}),t.once("close",function(n,i){a("close",n,i,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||("network"===i?e._scheduleReceiver():(e.emit("close",n||1006,i),e.removeAllListeners()))})},r.prototype.abort=function(){a("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=r},{debug:void 0,events:3,inherits:54}],28:[function(e,t,n){var i=e("inherits"),o=e("../../utils/url"),a=e("./buffered-sender"),r=e("./polling"),s=function(){};function l(e,t,n,i,l){var c=o.addPath(e,t);s(c);var d=this;a.call(this,e,n),this.poll=new r(i,c,l),this.poll.on("message",function(e){s("poll message",e),d.emit("message",e)}),this.poll.once("close",function(e,t){s("poll close",e,t),d.poll=null,d.emit("close",e,t),d.close()})}i(l,a),l.prototype.close=function(){a.prototype.close.call(this),s("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=l},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:void 0,inherits:54}],29:[function(e,t,n){var i=e("inherits"),o=e("events").EventEmitter,a=e("eventsource"),r=function(){};function s(e){r(e),o.call(this);var t=this,n=this.es=new a(e);n.onmessage=function(e){r("message",e.data),t.emit("message",decodeURI(e.data))},n.onerror=function(e){r("error",n.readyState,e);var i=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(i)}}i(s,o),s.prototype.abort=function(){r("abort"),this._cleanup(),this._close("user")},s.prototype._cleanup=function(){r("cleanup");var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},s.prototype._close=function(e){r("close",e);var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)},t.exports=s},{debug:void 0,events:3,eventsource:18,inherits:54}],30:[function(e,t,i){(function(n){(function(){var i=e("inherits"),o=e("../../utils/iframe"),a=e("../../utils/url"),r=e("events").EventEmitter,s=e("../../utils/random"),l=function(){};function c(e){l(e),r.call(this);var t=this;o.polluteGlobalNamespace(),this.id="a"+s.string(6),e=a.addQuery(e,"c="+decodeURIComponent(o.WPrefix+"."+this.id)),l("using htmlfile",c.htmlfileEnabled);var i=c.htmlfileEnabled?o.createHtmlfile:o.createIframe;n[o.WPrefix][this.id]={start:function(){l("start"),t.iframeObj.loaded()},message:function(e){l("message",e),t.emit("message",e)},stop:function(){l("stop"),t._cleanup(),t._close("network")}},this.iframeObj=i(e,function(){l("callback"),t._cleanup(),t._close("permanent")})}i(c,r),c.prototype.abort=function(){l("abort"),this._cleanup(),this._close("user")},c.prototype._cleanup=function(){l("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n[o.WPrefix][this.id]},c.prototype._close=function(e){l("_close",e),this.emit("close",null,e),this.removeAllListeners()},c.htmlfileEnabled=!1;var d=["Active"].concat("Object").join("X");if(d in n)try{c.htmlfileEnabled=!!new n[d]("htmlfile")}catch(i){}c.enabled=c.htmlfileEnabled||o.iframeEnabled,t.exports=c}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],31:[function(e,t,i){(function(n){(function(){var i=e("../../utils/iframe"),o=e("../../utils/random"),a=e("../../utils/browser"),r=e("../../utils/url"),s=e("inherits"),l=e("events").EventEmitter,c=function(){};function d(e){c(e);var t=this;l.call(this),i.polluteGlobalNamespace(),this.id="a"+o.string(6);var a=r.addQuery(e,"c="+encodeURIComponent(i.WPrefix+"."+this.id));n[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(a),this.timeoutId=setTimeout(function(){c("timeout"),t._abort(new Error("JSONP script loaded abnormally (timeout)"))},d.timeout)}s(d,l),d.prototype.abort=function(){if(c("abort"),n[i.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},d.timeout=35e3,d.scriptErrorTimeout=1e3,d.prototype._callback=function(e){c("_callback",e),this._cleanup(),this.aborting||(e&&(c("message",e),this.emit("message",e)),this.emit("close",null,"network"),this.removeAllListeners())},d.prototype._abort=function(e){c("_abort",e),this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},d.prototype._cleanup=function(){if(c("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete n[i.WPrefix][this.id]},d.prototype._scriptError=function(){c("_scriptError");var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},d.scriptErrorTimeout))},d.prototype._createScript=function(e){c("_createScript",e);var t,i=this,r=this.script=n.document.createElement("script");if(r.id="a"+o.string(8),r.src=e,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){c("onload"),i._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(c("onreadystatechange",r.readyState),/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){i.loadedOkay=!0;try{r.onclick()}catch(e){}}r&&i._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===r.async&&n.document.attachEvent)if(a.isOpera())(t=this.script2=n.document.createElement("script")).text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=t.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch(e){}r.async=!0}void 0!==r.async&&(r.async=!0);var s=n.document.getElementsByTagName("head")[0];s.insertBefore(r,s.firstChild),t&&s.insertBefore(t,s.firstChild)},t.exports=d}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],32:[function(e,t,n){var i=e("inherits"),o=e("events").EventEmitter,a=function(){};function r(e,t){a(e),o.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(e,t){a("finish",e,t),n._chunkHandler(e,t),n.xo=null;var i=200===e?"network":"permanent";a("close",i),n.emit("close",null,i),n._cleanup()})}i(r,o),r.prototype._chunkHandler=function(e,t){if(a("_chunkHandler",e),200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var i=t.slice(this.bufferPosition);if(-1===(n=i.indexOf("\n")))break;var o=i.slice(0,n);o&&(a("message",o),this.emit("message",o))}},r.prototype._cleanup=function(){a("_cleanup"),this.removeAllListeners()},r.prototype.abort=function(){a("abort"),this.xo&&(this.xo.close(),a("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=r},{debug:void 0,events:3,inherits:54}],33:[function(e,t,i){(function(n){(function(){var i,o,a=e("../../utils/random"),r=e("../../utils/url"),s=function(){};t.exports=function(e,t,l){s(e,t),i||(s("createForm"),(i=n.document.createElement("form")).style.display="none",i.style.position="absolute",i.method="POST",i.enctype="application/x-www-form-urlencoded",i.acceptCharset="UTF-8",(o=n.document.createElement("textarea")).name="d",i.appendChild(o),n.document.body.appendChild(i));var c="a"+a.string(8);i.target=c,i.action=r.addQuery(r.addPath(e,"/jsonp_send"),"i="+c);var d=function(e){s("createIframe",e);try{return n.document.createElement('<iframe name="'+e+'">')}catch(i){var t=n.document.createElement("iframe");return t.name=e,t}}(c);d.id=c,d.style.display="none",i.appendChild(d);try{o.value=t}catch(e){}function u(e){s("completed",c,e),d.onerror&&(d.onreadystatechange=d.onerror=d.onload=null,setTimeout(function(){s("cleaning up",c),d.parentNode.removeChild(d),d=null},500),o.value="",l(e))}return i.submit(),d.onerror=function(){s("onerror",c),u()},d.onload=function(){s("onload",c),u()},d.onreadystatechange=function(e){s("onreadystatechange",c,d.readyState,e),"complete"===d.readyState&&u()},function(){s("aborted",c),u(new Error("Aborted"))}}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:void 0}],34:[function(e,t,i){(function(n){(function(){var i=e("events").EventEmitter,o=e("inherits"),a=e("../../utils/event"),r=e("../../utils/browser"),s=e("../../utils/url"),l=function(){};function c(e,t,n){l(e,t);var o=this;i.call(this),setTimeout(function(){o._start(e,t,n)},0)}o(c,i),c.prototype._start=function(e,t,i){l("_start");var o=this,r=new n.XDomainRequest;t=s.addQuery(t,"t="+ +new Date),r.onerror=function(){l("onerror"),o._error()},r.ontimeout=function(){l("ontimeout"),o._error()},r.onprogress=function(){l("progress",r.responseText),o.emit("chunk",200,r.responseText)},r.onload=function(){l("load"),o.emit("finish",200,r.responseText),o._cleanup(!1)},this.xdr=r,this.unloadRef=a.unloadAdd(function(){o._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(i)}catch(e){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(e){if(l("cleanup",e),this.xdr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){l("close"),this._cleanup(!0)},c.enabled=!(!n.XDomainRequest||!r.hasDomain()),t.exports=c}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],35:[function(e,t,n){var i=e("inherits"),o=e("../driver/xhr");function a(e,t,n,i){o.call(this,e,t,n,i)}i(a,o),a.enabled=o.enabled&&o.supportsCORS,t.exports=a},{"../driver/xhr":17,inherits:54}],36:[function(e,t,n){var i=e("events").EventEmitter;function o(){var e=this;i.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},o.timeout)}e("inherits")(o,i),o.prototype.close=function(){clearTimeout(this.to)},o.timeout=2e3,t.exports=o},{events:3,inherits:54}],37:[function(e,t,n){var i=e("inherits"),o=e("../driver/xhr");function a(e,t,n){o.call(this,e,t,n,{noCredentials:!0})}i(a,o),a.enabled=o.enabled,t.exports=a},{"../driver/xhr":17,inherits:54}],38:[function(e,t,n){var i=e("../utils/event"),o=e("../utils/url"),a=e("inherits"),r=e("events").EventEmitter,s=e("./driver/websocket"),l=function(){};function c(e,t,n){if(!c.enabled())throw new Error("Transport created when disabled");r.call(this),l("constructor",e);var a=this,d=o.addPath(e,"/websocket");d="https"===d.slice(0,5)?"wss"+d.slice(5):"ws"+d.slice(4),this.url=d,this.ws=new s(this.url,[],n),this.ws.onmessage=function(e){l("message event",e.data),a.emit("message",e.data)},this.unloadRef=i.unloadAdd(function(){l("unload"),a.ws.close()}),this.ws.onclose=function(e){l("close event",e.code,e.reason),a.emit("close",e.code,e.reason),a._cleanup()},this.ws.onerror=function(e){l("error event",e),a.emit("close",1006,"WebSocket connection broken"),a._cleanup()}}a(c,r),c.prototype.send=function(e){var t="["+e+"]";l("send",t),this.ws.send(t)},c.prototype.close=function(){l("close");var e=this.ws;this._cleanup(),e&&e.close()},c.prototype._cleanup=function(){l("_cleanup");var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),i.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return l("enabled"),!!s},c.transportName="websocket",c.roundTrips=2,t.exports=c},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:void 0,events:3,inherits:54}],39:[function(e,t,n){var i=e("inherits"),o=e("./lib/ajax-based"),a=e("./xdr-streaming"),r=e("./receiver/xhr"),s=e("./sender/xdr");function l(e){if(!s.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",r,s)}i(l,o),l.enabled=a.enabled,l.transportName="xdr-polling",l.roundTrips=2,t.exports=l},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(e,t,n){var i=e("inherits"),o=e("./lib/ajax-based"),a=e("./receiver/xhr"),r=e("./sender/xdr");function s(e){if(!r.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",a,r)}i(s,o),s.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&r.enabled&&e.sameScheme},s.transportName="xdr-streaming",s.roundTrips=2,t.exports=s},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(e,t,n){var i=e("inherits"),o=e("./lib/ajax-based"),a=e("./receiver/xhr"),r=e("./sender/xhr-cors"),s=e("./sender/xhr-local");function l(e){if(!s.enabled&&!r.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr",a,r)}i(l,o),l.enabled=function(e){return!e.nullOrigin&&(!(!s.enabled||!e.sameOrigin)||r.enabled)},l.transportName="xhr-polling",l.roundTrips=2,t.exports=l},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(e,t,i){(function(n){(function(){var i=e("inherits"),o=e("./lib/ajax-based"),a=e("./receiver/xhr"),r=e("./sender/xhr-cors"),s=e("./sender/xhr-local"),l=e("../utils/browser");function c(e){if(!s.enabled&&!r.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/xhr_streaming",a,r)}i(c,o),c.enabled=function(e){return!e.nullOrigin&&!l.isOpera()&&r.enabled},c.transportName="xhr-streaming",c.roundTrips=2,c.needBody=!!n.document,t.exports=c}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],43:[function(e,t,i){(function(e){(function(){e.crypto&&e.crypto.getRandomValues?t.exports.randomBytes=function(t){var n=new Uint8Array(t);return e.crypto.getRandomValues(n),n}:t.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,i){(function(e){(function(){t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(e){return!1}}}}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){var i,o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;t.exports={quote:function(e){var t=JSON.stringify(e);return o.lastIndex=0,o.test(t)?(i=i||function(e){var t,n={},i=[];for(t=0;t<65536;t++)i.push(String.fromCharCode(t));return e.lastIndex=0,i.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n}(o),t.replace(o,function(e){return i[e]})):t}}},{}],46:[function(e,t,i){(function(n){(function(){var i=e("./random"),o={},a=!1,r=n.chrome&&n.chrome.app&&n.chrome.app.runtime;t.exports={attachEvent:function(e,t){void 0!==n.addEventListener?n.addEventListener(e,t,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+e,t),n.attachEvent("on"+e,t))},detachEvent:function(e,t){void 0!==n.addEventListener?n.removeEventListener(e,t,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+e,t),n.detachEvent("on"+e,t))},unloadAdd:function(e){if(r)return null;var t=i.string(8);return o[t]=e,a&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in o&&delete o[e]},triggerUnloadCallbacks:function(){for(var e in o)o[e](),delete o[e]}},r||t.exports.attachEvent("unload",function(){a||(a=!0,t.exports.triggerUnloadCallbacks())})}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(e,t,i){(function(n){(function(){var i=e("./event"),o=e("./browser"),a=function(){};t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in n||(n[t.exports.WPrefix]={})},postMessage:function(e,i){n.parent!==n?n.parent.postMessage(JSON.stringify({windowId:t.exports.currentWindowId,type:e,data:i||""}),"*"):a("Cannot postMessage, no parent window.",e,i)},createIframe:function(e,t){function o(){a("unattach"),clearTimeout(l);try{d.onload=null}catch(e){}d.onerror=null}function r(){a("cleanup"),d&&(o(),setTimeout(function(){d&&d.parentNode.removeChild(d),d=null},0),i.unloadDel(c))}function s(e){a("onerror",e),d&&(r(),t(e))}var l,c,d=n.document.createElement("iframe");return d.src=e,d.style.display="none",d.style.position="absolute",d.onerror=function(){s("onerror")},d.onload=function(){a("onload"),clearTimeout(l),l=setTimeout(function(){s("onload timeout")},2e3)},n.document.body.appendChild(d),l=setTimeout(function(){s("timeout")},15e3),c=i.unloadAdd(r),{post:function(e,t){a("post",e,t),setTimeout(function(){try{d&&d.contentWindow&&d.contentWindow.postMessage(e,t)}catch(e){}},0)},cleanup:r,loaded:o}},createHtmlfile:function(e,o){function r(){clearTimeout(c),u.onerror=null}function s(){h&&(r(),i.unloadDel(d),u.parentNode.removeChild(u),u=h=null,CollectGarbage())}function l(e){a("onerror",e),h&&(s(),o(e))}var c,d,u,p=["Active"].concat("Object").join("X"),h=new n[p]("htmlfile");h.open(),h.write('<html><script>document.domain="'+n.document.domain+'";<\/script></html>'),h.close(),h.parentWindow[t.exports.WPrefix]=n[t.exports.WPrefix];var m=h.createElement("div");return h.body.appendChild(m),u=h.createElement("iframe"),m.appendChild(u),u.src=e,u.onerror=function(){l("onerror")},c=setTimeout(function(){l("timeout")},15e3),d=i.unloadAdd(s),{post:function(e,t){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(e,t)},0)}catch(e){}},cleanup:s,loaded:r}}},t.exports.iframeEnabled=!1,n.document&&(t.exports.iframeEnabled=("function"==typeof n.postMessage||"object"==w(n.postMessage))&&!o.isKonqueror())}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:void 0}],48:[function(e,t,i){(function(e){(function(){var n={};["log","debug","warn"].forEach(function(t){var i;try{i=e.console&&e.console[t]&&e.console[t].apply}catch(t){}n[t]=i?function(){return e.console[t].apply(e.console,arguments)}:"log"===t?function(){}:n.log}),t.exports=n}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){t.exports={isObject:function(e){var t=w(e);return"function"==t||"object"==t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,i=1,o=arguments.length;i<o;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}}},{}],50:[function(e,t,n){var i=e("crypto"),o="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(e){for(var t=o.length,n=i.randomBytes(e),a=[],r=0;r<e;r++)a.push(o.substr(n[r]%t,1));return a.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},{crypto:43}],51:[function(e,t,n){t.exports=function(e){return{filterToEnabled:function(t,n){var i={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach(function(e){e&&("websocket"!==e.transportName||!1!==n.websocket)&&(t.length&&-1===t.indexOf(e.transportName)?e.transportName:e.enabled(n)?(e.transportName,i.main.push(e),e.facadeTransport&&i.facade.push(e.facadeTransport)):e.transportName)}),i}}}},{debug:void 0}],52:[function(e,t,n){var i=e("url-parse");t.exports={getOrigin:function(e){if(!e)return null;var t=new i(e);if("file:"===t.protocol)return null;var n=t.port;return n=n||("https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}}},{debug:void 0,"url-parse":57}],53:[function(e,t,n){t.exports="1.6.1"},{}],54:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){var n=function(){};e.super_=t,n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],55:[function(e,t,n){var i=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}n.stringify=function(e,t){t=t||"";var n,o,a=[];for(o in"string"!=typeof t&&(t="?"),e)if(i.call(e,o)){if((n=e[o])||null!=n&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?t+a.join("&"):""},n.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,i={};t=n.exec(e);){var a=o(t[1]),r=o(t[2]);null===a||null===r||a in i||(i[a]=r)}return i}},{}],56:[function(e,t,n){t.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],57:[function(e,t,i){(function(n){(function(){var i=e("requires-port"),o=e("querystringify"),a=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,r=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,d=/^[a-zA-Z]:/;function u(e){return(e||"").toString().replace(a,"")}var p=[["#","hash"],["?","query"],function(e,t){return f(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function m(e){var t,i=("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{}).location||{},o={},a=w(e=e||i);if("blob:"===e.protocol)o=new v(unescape(e.pathname),{});else if("string"==a)for(t in o=new v(e,{}),h)delete o[t];else if("object"==a){for(t in e)t in h||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function f(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=u(e)).replace(r,""),t=t||{};var n,i=c.exec(e),o=i[1]?i[1].toLowerCase():"",a=!!i[2],s=!!i[3],l=0;return a?l=s?(n=i[2]+i[3]+i[4],i[2].length+i[3].length):(n=i[2]+i[4],i[2].length):s?(n=i[3]+i[4],l=i[3].length):n=i[4],"file:"===o?2<=l&&(n=n.slice(2)):f(o)?n=i[4]:o?a&&(n=n.slice(2)):2<=l&&f(t.protocol)&&(n=i[4]),{protocol:o,slashes:a||f(o),slashesCount:l,rest:n}}function v(e,t,n){if(e=(e=u(e)).replace(r,""),!(this instanceof v))return new v(e,t,n);var a,s,l,c,h,b,y=p.slice(),x=w(t),k=this,_=0;for("object"!=x&&"string"!=x&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),a=!(s=g(e||"",t=m(t))).protocol&&!s.slashes,k.slashes=s.slashes||a&&t.slashes,k.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||d.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!f(k.protocol)))&&(y[3]=[/(.*)/,"pathname"]);_<y.length;_++)"function"!=typeof(c=y[_])?(l=c[0],b=c[1],l!=l?k[b]=e:"string"==typeof l?~(h="@"===l?e.lastIndexOf(l):e.indexOf(l))&&(e="number"==typeof c[2]?(k[b]=e.slice(0,h),e.slice(h+c[2])):(k[b]=e.slice(h),e.slice(0,h))):(h=l.exec(e))&&(k[b]=h[1],e=e.slice(0,h.index)),k[b]=k[b]||a&&c[3]&&t[b]||"",c[4]&&(k[b]=k[b].toLowerCase())):e=c(e,k);n&&(k.query=n(k.query)),a&&t.slashes&&"/"!==k.pathname.charAt(0)&&(""!==k.pathname||""!==t.pathname)&&(k.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,o=n[i-1],a=!1,r=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),r++):r&&(0===i&&(a=!0),n.splice(i,1),r--);return a&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(k.pathname,t.pathname)),"/"!==k.pathname.charAt(0)&&f(k.protocol)&&(k.pathname="/"+k.pathname),i(k.port,k.protocol)||(k.host=k.hostname,k.port=""),k.username=k.password="",k.auth&&(~(h=k.auth.indexOf(":"))?(k.username=k.auth.slice(0,h),k.username=encodeURIComponent(decodeURIComponent(k.username)),k.password=k.auth.slice(h+1),k.password=encodeURIComponent(decodeURIComponent(k.password))):k.username=encodeURIComponent(decodeURIComponent(k.auth)),k.auth=k.password?k.username+":"+k.password:k.username),k.origin="file:"!==k.protocol&&f(k.protocol)&&k.host?k.protocol+"//"+k.host:"null",k.href=k.toString()}v.prototype={set:function(e,t,n){var a=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),a[e]=t;break;case"port":a[e]=t,i(t,a.protocol)?t&&(a.host=a.hostname+":"+t):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=t,a.port&&(t+=":"+a.port),a.host=t;break;case"host":a[e]=t,l.test(t)?(t=t.split(":"),a.port=t.pop(),a.hostname=t.join(":")):(a.hostname=t,a.port="");break;case"protocol":a.protocol=t.toLowerCase(),a.slashes=!n;break;case"pathname":case"hash":if(t){var r="pathname"===e?"/":"#";a[e]=t.charAt(0)!==r?r+t:t}else a[e]=t;break;case"username":case"password":a[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(a.username=t.slice(0,s),a.username=encodeURIComponent(decodeURIComponent(a.username)),a.password=t.slice(s+1),a.password=encodeURIComponent(decodeURIComponent(a.password))):a.username=encodeURIComponent(decodeURIComponent(t))}for(var c=0;c<p.length;c++){var d=p[c];d[4]&&(a[d[1]]=a[d[1]].toLowerCase())}return a.auth=a.password?a.username+":"+a.password:a.username,a.origin="file:"!==a.protocol&&f(a.protocol)&&a.host?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,i=n.host,a=n.protocol;a&&":"!==a.charAt(a.length-1)&&(a+=":");var r=a+(n.protocol&&n.slashes||f(n.protocol)?"//":"");return n.username?(r+=n.username,n.password&&(r+=":"+n.password),r+="@"):n.password?(r+=":"+n.password,r+="@"):"file:"!==n.protocol&&f(n.protocol)&&!i&&"/"!==n.pathname&&(r+="@"),(":"===i[i.length-1]||l.test(n.hostname)&&!n.port)&&(i+=":"),r+=i+n.pathname,(t="object"==w(n.query)?e(n.query):n.query)&&(r+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(r+=n.hash),r}},v.extractProtocol=g,v.location=m,v.trimLeft=u,v.qs=o,t.exports=v}).call(this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:55,"requires-port":56}]},{},[1])(1)},68482:function(e,t,n){n(96700),n(61894),n(5682),n(82403),n(33809),n(6284),function(){var i=n(22841);if(!i)throw new Error("vertx-eventbus.js requires sockjs-client, see http://sockjs.org");!function(n){function i(e,t){if(e){if(!t)return e;for(var n in e)e.hasOwnProperty(n)&&void 0===t[n]&&(t[n]=e[n])}return t||{}}var o=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var i=this;t=t||{},this.pingInterval=t.vertxbus_ping_interval||5e3,this.pingTimerID=null,this.reconnectEnabled=!1,this.reconnectAttempts=0,this.reconnectTimerID=null,this.maxReconnectAttempts=t.vertxbus_reconnect_attempts_max||1/0,this.reconnectDelayMin=t.vertxbus_reconnect_delay_min||1e3,this.reconnectDelayMax=t.vertxbus_reconnect_delay_max||5e3,this.reconnectExponent=t.vertxbus_reconnect_exponent||2,this.randomizationFactor=t.vertxbus_randomization_factor||.5;this.defaultHeaders=null,this.onerror=function(e){},this.onevent=function(e,t){return!1},this.onunhandled=function(e){try{"err"===e.type?i.onerror(e):e.event}catch(e){}};!function a(){i.sockJSConn=new n(e,null,t),i.state=o.CONNECTING,i.handlers={},i.replyHandlers={},i.sockJSConn.onopen=function(){i.enablePing(!0),i.state=o.OPEN,i.onopen&&i.onopen(),i.reconnectTimerID&&(i.reconnectAttempts=0,i.onreconnect&&i.onreconnect())},i.sockJSConn.onclose=function(e){i.state=o.CLOSED,i.pingTimerID&&clearInterval(i.pingTimerID),i.reconnectEnabled&&i.reconnectAttempts<i.maxReconnectAttempts&&(i.sockJSConn=null,i.reconnectTimerID=setTimeout(a,function(){var e=i.reconnectDelayMin*Math.pow(i.reconnectExponent,i.reconnectAttempts);if(i.randomizationFactor){var t=Math.random(),n=Math.floor(t*i.randomizationFactor*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,i.reconnectDelayMax)}()),++i.reconnectAttempts),i.onclose&&i.onclose(e)},i.sockJSConn.onmessage=function(e){var t;try{t=JSON.parse(e.data)}catch(n){t={type:"err",failureType:n.toString(),message:e.data}}if(t.replyAddress&&Object.defineProperty(t,"reply",{value:function(e,n,o){i.send(t.replyAddress,e,n,o)}}),i.handlers[t.address])for(var n=i.handlers[t.address],o=0;o<n.length;o++)"err"===t.type?n[o]({failureCode:t.failureCode,failureType:t.failureType,message:t.message}):n[o](null,t);else if(i.replyHandlers[t.address]){var a=i.replyHandlers[t.address];delete i.replyHandlers[t.address],"err"===t.type?a({failureCode:t.failureCode,failureType:t.failureType,message:t.message}):a(null,t)}else t.event&&i.onevent(t.event,t.message)||i.onunhandled(t)}}()});o.prototype.send=function(e,t,n,a){if(this.state!==o.OPEN)throw new Error("INVALID_STATE_ERR");"function"==typeof n&&(a=n,n={});var r={type:"send",address:e,headers:i(this.defaultHeaders,n),body:t};if(a){var s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e,t){return t=16*Math.random(),("y"==e?3&t|8:0|t).toString(16)});r.replyAddress=s,this.replyHandlers[s]=a}this.sockJSConn.send(JSON.stringify(r))},o.prototype.publish=function(e,t,n){if(this.state!==o.OPEN)throw new Error("INVALID_STATE_ERR");this.sockJSConn.send(JSON.stringify({type:"publish",address:e,headers:i(this.defaultHeaders,n),body:t}))},o.prototype.registerHandler=function(e,t,n){if(this.state!==o.OPEN)throw new Error("INVALID_STATE_ERR");"function"==typeof t&&(n=t,t={}),this.handlers[e]||(this.handlers[e]=[],this.sockJSConn.send(JSON.stringify({type:"register",address:e,headers:i(this.defaultHeaders,t)}))),this.handlers[e].push(n)},o.prototype.unregisterHandler=function(e,t,n){if(this.state!==o.OPEN)throw new Error("INVALID_STATE_ERR");var a=this.handlers[e];if(a){"function"==typeof t&&(n=t,t={});var r=a.indexOf(n);-1!==r&&(a.splice(r,1),0===a.length&&(this.sockJSConn.send(JSON.stringify({type:"unregister",address:e,headers:i(this.defaultHeaders,t)})),delete this.handlers[e]))}},o.prototype.close=function(){this.state=o.CLOSING,this.enableReconnect(!1),this.sockJSConn.close()},o.CONNECTING=0,o.OPEN=1,o.CLOSING=2,o.CLOSED=3,o.prototype.enablePing=function(e){var t=this;if(e){var n=function(){t.sockJSConn.send(JSON.stringify({type:"ping"}))};t.pingInterval>0&&(n(),t.pingTimerID=setInterval(n,t.pingInterval))}else t.pingTimerID&&(clearInterval(t.pingTimerID),t.pingTimerID=null)},o.prototype.enableReconnect=function(e){var t=this;t.reconnectEnabled=e,!e&&t.reconnectTimerID&&(clearTimeout(t.reconnectTimerID),t.reconnectTimerID=null,t.reconnectAttempts=0)},e.exports?t=e.exports=o:t.EventBus=o}(i)}()},83492:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.pointTS=t.ajaxCollect=void 0,n(82403),n(64518),n(14544),n(23801),n(66096),n(63551),n(40724),n(81006),n(13253),n(14237);var i=!1,o=null,a=null;t.pointTS=function(e){var t;if(e&&null!==(t=window.editorGlobalConfig)&&void 0!==t&&t.qualityCollect){var n=Date.now();o||(o=window.performance.timing,a=o.requestStart||0),i||(i=!0,window.editorGlobalConfig.qualityCollect({name:"html.start",ts:a,duration:0}),window.editorGlobalConfig.qualityCollect({name:"html.loaded",ts:o.responseEnd,duration:o.responseEnd-a})),window.editorGlobalConfig.qualityCollect({name:e,ts:n,duration:n-a})}},t.ajaxCollect=function(){$.ajaxPrefilter(function(e,t,n){var i=e.error;e.error=function(e,t,n){if(403===e.status){var o=decodeURIComponent(this.data||"");if(o.length>100){var a=o.match(/<[^>]*>/g);o=a?h(new Set(a)).join(""):o.substring(0,100)}var r={host:location.host,ajaxType:this.type,status:e.status,url:this.url,data:o};window.poCollect&&window.poCollect("接口响应错误",r)}i&&i.call(this,e,t,n)}})}},72011:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.mindComment=t.comment=void 0,n(27531),n(61894),n(38297),n(87812),n(1053),n(82403),n(12638),n(33809),n(6284),n(96038),n(37212),n(47958),n(69268),n(58500),n(86837),n(54938);var o=i(n(32483)),a=n(47306);n(22845);var r=n(41295),s=n(45861);n(83316);var l=t.comment={hotkey:a.Util.ctrlToCommand("Alt+Ctrl+M"),editorComment:{},editorDef:{},editorListDef:{},editorIconCon:{},commentsArray:[],commentsJSON:{},data:{},Model:{initData:function(e){if("flow"==fileType)l.editorComment=flowComment,l.editorDef=Model.define,l.editorListDef=Model,l.editorIconCon=Model.define;else if("mind"==fileType){var t;(t=window).mind||(t.mind=e),l.editorComment=c,l.editorDef=editorGlobal.mindMap.renderer.mindTree,l.editorListDef=editorGlobal.mindMap.renderer,l.editorIconCon=editorGlobal.mindMap.renderer.mindTree;var n=l.Model.ifIconShow();l.View.editPannel.updateIfShowIcon(n)}else l.editorComment=outlineComment,l.editorDef=outlineObj.model.node,l.editorListDef=outlineObj.model,l.editorIconCon=outlineObj.model.node;this.oldToNewData(),this.data2Json()},oldToNewData:function(){if(l.editorDef.comments&&l.editorDef.comments.length)for(var e=0;e<l.editorDef.comments.length;e++){var t=l.editorDef.comments[e];void 0!==t.shapeId&&void 0===t.selectionId&&function(){var t=l.editorDef.comments[e],n=t.content,i=t.photoUrl,o=t.shapeId,a=t.name,r=t.id,s=t.replyId;if(r=r.startsWith("comment_")?r:"comment_"+r,""!=(s=""==s||s.startsWith("comment_")?s:"comment_"+s)&&""==o){var c=l.editorDef.comments.filter(function(e){return e.id==s});c.length&&(o=c[0].shapeId)}Object.assign(l.editorDef.comments[e],{text:n,avatarUrl:i,selectionId:o,userName:a,id:r,replyId:s})}()}},data2Json:function(){var e;(e=l.editorDef).comments||(e.comments=[]);var t=this.commentsArrayToJson();l.editorListDef.commentsList=t,l.commentsArray=l.editorDef.comments,l.commentsJSON=t},commentsArrayToJson:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.editorDef.comments,t={};return e&&e.length&&e.map(function(e){t[e.selectionId]||(t[e.selectionId]=[]),t[e.selectionId].push(e)}),t},ifIconShow:function(){return void 0===l.editorIconCon.showCommentIcon||l.editorIconCon.showCommentIcon},getSelection:function(e){var t,n="";if("flow"==fileType){if(!(t=Model.getShapeById(e)))return null;if(t.textBlock.length){n=t.textBlock[0].text||"";try{var i=(new DOMParser).parseFromString(n,"text/html");n=i.body.textContent||i.body.innerText}catch(e){}}}else if("mind"==fileType){if(!(t=editorGlobal.mindMap.renderer.getTopicById(e)))return null;n=t.title,n=l.Util.extractPlainText(n)}else{if(!(t=outlineObj.model.getNodeById(e)))return null;n=t.title,n=l.Util.extractPlainText(n)}return n=a.Util.filterXss(n)},formatTime:function(e){var t=new Date;e=new Date(e);var n=(t.getTime()-e.getTime())/1e3;if(n<=60)return o.default.t("js.just_now");if(n<3600)return Math.floor(n/60)+o.default.t("js.Mins_Ago");if(n<86400)return Math.floor(n/3600)+o.default.t("js.Hrs_Ago");if(n<518400)return Math.floor(n/86400)+o.default.t("js.Days_Ago");var i=t.getFullYear()-e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),s=e.getHours(),l=e.getMinutes();return a<10&&(a="0"+a),r<10&&(r="0"+r),s<10&&(s="0"+s),l<10&&(l="0"+l),0===i?a+"-"+r+" "+s+":"+l:e.getFullYear()+"-"+a+"-"+r+" "+s+":"+l},getRandomId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t="",n=0;n<e;n++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return t},updateCommentsArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"update";if("add"!=t){for(var n=0;n<l.editorDef.comments.length;n++)if(l.editorDef.comments[n].id==e.id){"update"==t?l.editorDef.comments[n]=e:l.editorDef.comments.splice(n,1);break}}else l.editorDef.comments&&0==l.editorDef.comments.filter(function(t){return t.id==e.id}).length&&l.editorDef.comments.push(e)},updateCommentsJson:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"update",n=e.id,i=e.selectionId,o=l.editorListDef.commentsList[i];if("add"!=t)for(var a=0;a<o.length;a++)o[a].id==n&&("update"==t?l.editorListDef.commentsList[i][a]=e:(l.editorListDef.commentsList[i].splice(a,1),0==l.editorListDef.commentsList[i].length&&delete l.editorListDef.commentsList[i]));else o?l.editorListDef.commentsList[i].push(e):l.editorListDef.commentsList[i]=[e]}},View:{entry:{init:function(){l.editorComment.entry.init()},initMobi:function(){"mind"==fileType&&l.editorComment.entry.initMobi()}},editPannel:{initWrap:function(e){l.editorComment.editPannel.initWrap(e),this.initWrapEvent()},initMobiWrap:function(){l.editorComment.editPannel.initMobiWrap()},initWrapEvent:function(){var e=this;$(".po-comment-icon-ifShow").off("click").on("click",function(t){t.stopPropagation();var n=l.Model.ifIconShow();e.renderCommentIcon(n),$(t.target).trigger("mouseover")})},render:function(e){this.clear();var t=l.View.topTool.render(),n=null;l.editorComment.getReadonly()&&(n="none");var i=this.renderContent("all","unsolved",n,e);""==i&&(i=l.View.editPannel.renderEmptyContent());var o="\n                    ".concat(t,'\n                    <div class="comment-list-wrap dock-container" style="top: 90px !important;">').concat(i,"</div>\n                "),a=l.editorListDef.commentsList?Object.keys(l.editorListDef.commentsList).length:0;return $(".comment-title").text($(".comment-title").text().replace(/（\d+）/,"（".concat(a,"）"))),o},renderMobi:function(){this.clear();var e=this.renderContent("all","unsolved",null,"icon");return'\n                    <div class="comment-list-wrap dock-container" style="top: 40px;">'.concat(e,"</div>\n                ")},renderContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unsolved",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o="";"all"!==t&&(l.commentsArray=l.Controller.getCommentsArrByStatus(e,t),l.commentsJSON=l.Model.commentsArrayToJson(l.commentsArray));var a=l.editorComment.getSelectedIds(),r=!1;for(var s in l.commentsJSON){"none"!==n&&(1!=a.length||!s.startsWith(a[0])||r||["right-menu","toolbar","hotkey"].includes(i)?n="default":(n="focus",r=!0));var c=l.commentsJSON[s];o+=l.View.commentCard.render(s,c,null,n)}if("none"!==n&&1==a.length&&["right-menu","toolbar","hotkey"].includes(i)){var d=a[0]+"_"+l.Model.getRandomId(4);o+=l.View.commentCard.render(d,[],null,"edit")}return o},renderEmptyContent:function(){return'\n                    <div class="po-comment-empty-tip">\n                        <img src="'.concat(staticBasePath,"/").concat("v1"===editorGlobal.config.uiType?"wps/images":"images",'/comment_empty.svg">\n                        <span>').concat(o.default.t("js.No_Comments"),"</span>\n                    </div>\n                ")},updateIfShowIcon:function(e){var t=e?"&#xe6d4;":"&#xea77;",n=e?o.default.t("js.Hide_Comments"):o.default.t("js.Show_Comments");$(".po-comment-icon-ifShow").attr("title",n),$(".po-comment-icon-ifShow").html(t)},renderCommentIcon:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e?($(".po-comment-icon-ifShow").html("&#xea77;"),$(".po-comment-icon-ifShow").attr("title",o.default.t("js.Show_Comments")),l.editorIconCon.showCommentIcon=!1,l.Controller.icon.remove(null,!0)):($(".po-comment-icon-ifShow").html("&#xe6d4;"),$(".po-comment-icon-ifShow").attr("title",o.default.t("js.Hide_Comments")),l.editorIconCon.showCommentIcon=!0,l.Controller.icon.render({},null,!0)),n){var i,a={action:"showCommentIcon",content:{showCommentIcon:!e},pageId:null===(t=editorGlobal.poPagination)||void 0===t?void 0:t.pageId};"flow"==fileType?editorGlobal.sendMessage.send({action:"command",messages:[a],pageId:null===(i=editorGlobal.poPagination)||void 0===i?void 0:i.pageId}):editorGlobal.sendMessage.send(a)}},initEvent:function(){l.View.topTool.initEvent()},clear:function(){$(".comment-content").children().remove()}},topTool:{flowTypes:[{text:o.default.t("js.All_Types"),class:"all",checked:!0},{text:o.default.t("js.Related_To_Me"),class:"about",checked:!1}],mindTypes:[{text:o.default.t("js.All_Types"),class:"all",checked:!0},{text:o.default.t("js.At_Me"),class:"mention",checked:!1},{text:o.default.t("js.Related_To_Me"),class:"about",checked:!1}],status:[{text:o.default.t("js.All_Statuses"),class:"all",checked:!1},{text:o.default.t("js.Unresolved"),class:"unsolved",checked:!0},{text:o.default.t("js.Resolved"),class:"solved",checked:!1}],render:function(){return'\n                <div class="po-comment-toptool">\n                    <div class="types" tp="types">\n                        <span class="text" op="all">'.concat(o.default.t("js.All_Types_Repeat"),'</span>\n                        <span class="po-diagraming-icons icon">&#xe96f;</span>\n                    </div>\n                    <div class="status" tp="status">\n                        <span class="text" op="unsolved">').concat(o.default.t("js.Unresolved"),'</span>\n                        <span class="po-diagraming-icons icon">&#xe96f;</span>\n                    </div>\n                </div>\n                ')},renderDropDown:function(e,t){this.removeDropDown();var n="types"==e?"flow"==fileType||"wps"==source?this.flowTypes:this.mindTypes:this.status,i="";return n.map(function(e){var n=e.class==t?'<span class="po-diagraming-icons icon">&#xe6c2a;</span>':"";i+='\n                    <div class="item" op="'.concat(e.class,'">\n                        ').concat(n,"\n                        <span>\n                            ").concat(e.text,"\n                        </span>\n                    </div>\n                    ")}),'\n                <div class="comment-toptool-dropdown '.concat(e,'">\n                    ').concat(i,"\n                </div>\n                ")},removeDropDown:function(){$(".comment-toptool-dropdown").remove()},initEvent:function(){var e=this;$(".po-comment-toptool>div").off("click").on("click",function(){var t=$(this).attr("tp"),n=$(this).children(".text").attr("op");if(t){if($(".comment-toptool-dropdown").length&&$(".comment-toptool-dropdown").hasClass(t))e.removeDropDown();else{var i,o,a=e.renderDropDown(t,n);$(a).appendTo($(".po-comment-toptool")),"outline"==fileType?(i="types"==t?"0":"146px",o="138px"):(i="types"==t?"0":"116px",o="108px"),$(".comment-toptool-dropdown").css({left:i,width:o}),e.bindDropDownEvent()}$(this).children(".icon").toggleClass("down"),$(this).siblings().children(".icon").removeClass("down")}})},bindDropDownEvent:function(){var e=this;$(".comment-toptool-dropdown>div").off("click").on("click",function(t){t.stopPropagation();var n,i,o=$(this).attr("op"),a=$(this).parents(".comment-toptool-dropdown:first").hasClass("types")?"types":"status";"types"==a?(n=o,i=$(".po-comment-toptool>.status>.text").attr("op")):(n=$(".po-comment-toptool>.types>.text").attr("op"),i=o),e.changeTypeStatu(n,i),$(".po-comment-toptool").children("div[tp=".concat(a,"]")).children(".icon").toggleClass("down"),e.removeDropDown()})},changeTypeStatu:function(e,t){if(l.editorComment.editPannel.isOpen()&&e&&t){l.commentsArray=l.Controller.getCommentsArrByStatus(e,t),l.commentsJSON=l.Model.commentsArrayToJson(l.commentsArray);var n=l.View.editPannel.renderContent(e,t,"none");""==n&&(n=l.View.editPannel.renderEmptyContent()),$(".comment-list-wrap").children().remove(),$(n).appendTo($(".comment-list-wrap")),l.View.commentCard.initEvent();var i=("flow"==fileType||"wps"==source?this.flowTypes:this.mindTypes).filter(function(t){return t.class==e})[0].text,o=this.status.filter(function(e){return e.class==t})[0].text;$(".po-comment-toptool>div[tp=types]>.text").text(i).attr("op",e),$(".po-comment-toptool>div[tp=status]>.text").text(o).attr("op",t)}}},commentCard:{render:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",a=e.split("_")[0],r=l.Model.getSelection(a),s=0;null==r&&(s=1);var c="",d="",u=0;if(void 0!==t&&0!==t.length)for(var p=0;p<t.length;p++){var h=t[p];c+=this.renderItem(h),h.status&&!u&&(u=1)}"edit"!=i&&"focus"!=i||(d=this.renderEditArea({selectionId:e,replyId:n,state:i}));var m="focus"==i||"edit"==i?"focus":"",f=s?"delete":"",g=u&&!s?"solved":"",v=l.editorComment.getReadonly()?"disabled":"",b=u&&!s?'\n                    <div class="comment-solved-header">\n                        <span class="comment-solved-title">'.concat(o.default.t("js.Comment_Resolved"),'</span>\n                        <span class="comment-solved-btn ').concat(v,'">').concat(o.default.t("js.Repost"),"</span>\n                    </div>\n                "):"",y=s?"":'\n                <div class="comment-selection">\n                    <span class="text">'.concat(r,'</span>\n                    <span class="po-diagraming-icons icon solve" title="').concat(o.default.t("js.Resolve_And_Hide"),'">&#xe6c2f;</span>\n                </div>\n                '),x=s?'\n                <div class="comment-delete-header">\n                    <span class="comment-delete-title">'.concat(o.default.t("js.The_original_text_has_been_deleted"),"</span>\n                </div>\n                "):"";return'\n                <div class="comment-card '.concat(m," ").concat(g," ").concat(f,'" selection="').concat(e,'">\n                    ').concat(b,"\n                    ").concat(x,"\n                    ").concat(y,"\n                    ").concat(c,"\n                    ").concat(d,"\n                </div>\n                ")},renderItem:function(e){var t="",n=this.renderTimeInfo(e.updateTime||e.createTime);if(""!==e.replyId&&(t=this.renderReply(e)),"wps"!==source){var i=(new Date).getTime();e.avatarUrl="https://user-photo.ks3-cn-beijing.ksyuncs.com/".concat(e.userId,".png?v=").concat(i)}else e.avatarUrl||(e.avatarUrl=l.data.userObj.photoUrl);var o=e.avatarUrl;return'\n                    <div class="comment-item" commentid="'.concat(e.id,'">\n                        <div class="comment-info-wrap">\n                            <div class="comment-userinfo">\n                                <div class="comment-user-avatar">\n                                    <img src="').concat(o,'">\n                                </div>\n                                <div class="comment-user-name">').concat(e.userName,"</div>\n                            </div>\n                            ").concat(n,'\n                        </div>\n                        <div class="comment-content-text">').concat(l.Util.filterXSS(e.text),"</div>\n                        ").concat(t,"\n                    </div>\n                ")},renderTimeInfo:function(e){var t=e?l.Model.formatTime(e):"";return'\n                <div class="comment-timeinfo">\n                    <div class="comment-time-content">'.concat(t,"</div>\n                </div>\n                ")},renderRightBtns:function(e,t,n){var i=l.Controller.getCommentById(t,e);if(!i)return"";var a=i.userId,r=l.Controller.role.getRole(),s="",c="";return l.Controller.role.getUserInfo().userId==a||(s="disabled",c="disabled","owner"==r&&(c="")),n?'\n                    <div class="comment-right-btns">\n                        <span class="po-diagraming-icons icon delete '.concat(c,'" title="').concat(o.default.t("js.Delete_Comment"),'">&#xe80c;</span>\n                        <div class="comment-del-confirm">\n                            <div class="confirm-arrow"></div>\n                            <div class="comment-del-confirm-text">').concat(o.default.t("js.Delete_This_Comment"),'</div>\n                            <div class="comment-del-confirm-btns">\n                                <div class="cancel">').concat(o.default.t("js.Cancel_Comment"),'</div>\n                                <div class="delete">').concat(o.default.t("js.Delete_Comment"),"</div>\n                            </div>\n                            \n                        </div>\n                    </div>\n                    "):'\n                <div class="comment-right-btns">\n                    <span class="po-diagraming-icons icon reply" title="'.concat(o.default.t("js.Reply"),'">&#xe6c2d;</span>\n                    <span class="po-diagraming-icons icon more" title="').concat(o.default.t("js.More_Comment"),'">&#xe6c2e;</span>\n                    <div class="comment-right-btns-menus">\n                        <div class="edit ').concat(s,'">').concat(o.default.t("js.Edit_Comment"),'</div>\n                        <div class="delete ').concat(c,'">').concat(o.default.t("js.Delete_Comment"),'</div>\n                    </div>\n                    <div class="comment-del-confirm">\n                        <div class="confirm-arrow"></div>\n                        <div class="comment-del-confirm-text">').concat(o.default.t("js.Delete_This_Comment"),'</div>\n                        <div class="comment-del-confirm-btns">\n                            <div class="cancel">').concat(o.default.t("js.Cancel_Comment"),'</div>\n                            <div class="delete">').concat(o.default.t("js.Delete_Comment"),"</div>\n                        </div>\n                        \n                    </div>\n                </div>\n                ")},renderReply:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=l.commentsJSON[e.selectionId],i="";if(n&&n.length){var a=n.filter(function(t){return t.id==e.replyId})[0],r=t?'<span class="po-diagraming-icons icon del">&#xe80d;</span>':"",s=null==a?void 0:a.userName;a&&(s=l.Util.truncateString(s));var c=a?"".concat(a.userName,"：").concat(a.text):o.default.t("js.Quote_Deleted"),d=a?"".concat(s,"：").concat(a.text):o.default.t("js.Quote_Deleted"),u=document.createElement("div"),p="";document.body.appendChild(u);var h=$(".comment-item[commentid=".concat(e.replyId,"]")).length?$(".comment-item[commentid=".concat(e.replyId,"]")).width()-48:154;u.style.cssText="width: ".concat(h,"px; height: 44px;");var m=l.Util.extractPlainText(c);u.textContent=m,(u.scrollHeight>u.clientHeight||a&&a.userName!=s)&&(p='original-title="'.concat(m,'"')),u.remove(),i='\n                    <div class="comment-reply-wrap" reply="'.concat(e.replyId,'">\n                        <div class="comment-reply-content" ').concat(p,">").concat(l.Util.filterXSS(d),"</div>\n                        ").concat(r,"\n                    </div>\n                    ")}return i},renderBtns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"disabled";if(0!==$(".comment-edit-btns").length)return"";var t="enable"==e?"":" disabled";return'\n                <div class="comment-edit-btns">\n                    <div class="cancel">'.concat(o.default.t("js.Cancel_Comment"),'</div>\n                    <div class="submit').concat(t,'">').concat(o.default.t("js.Submit_Comment"),"</div>\n                </div>                    \n                ")},updateCardByStatus:function(e,t){for(var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=[],r=e[0].selectionId,s=0;s<e.length;s++){var c=e[s];c.status=t,c.updateType="status",a.push(c),c.status=t,l.Model.updateCommentsArray(c),l.Model.updateCommentsJson(c)}var d=$(".po-comment-toptool>.types>.text").attr("op"),u=$(".po-comment-toptool>.status>.text").attr("op"),p=$(".comment-card[selection=".concat(r,"]"));if(t){var h=r.split("_")[0];if(l.editorDef.comments.filter(function(e){return e.selectionId.startsWith(h)&&!e.status}).length||l.Controller.icon.remove(r,!0),$(".comment-edit-wrap").remove(),$(".po-hover-tip").hide(),"unsolved"==u){if(p.remove(),0==$(".comment-list-wrap").children().length){var m=l.View.editPannel.renderEmptyContent();$(".comment-list-wrap").children().remove(),$(m).appendTo($(".comment-list-wrap"))}}else if("all"==u&&0==p.find(".comment-solved-header").length){var f=l.editorComment.getReadonly()?"disabled":"";$('<div class="comment-solved-header">\n                            <span class="comment-solved-title">'.concat(o.default.t("js.Comment_Resolved"),'</span>\n                            <span class="comment-solved-btn ').concat(f,'">').concat(o.default.t("js.Repost"),"</span>\n                        </div>")).prependTo(p),p.addClass("solved"),this.bindHoverSelectionEvent()}else if("solved"==u){if(p.length)return;var g=!1;if("all"==d)g=!0;else{var v=l.editorListDef.commentsList[r],b=l.Controller.role.getUserInfo().userId;if(Array.isArray(v))for(var y=function(e){var t=v[e],n=t.text,i=t.replyId,o=t.userId,a=new RegExp('<span\\s+class="mention[^"]*"\\s+data-id="'+b+'"');if(a.test(n))return g=!0,"break";if(""!==i){var r=v.filter(function(e){return e.id==i})[0]||{};if(a.test(r.text))return g=!0,"break"}if("about"==d){if(b==o)return g=!0,"break";if(""!==i&&(v.filter(function(e){return e.id==i})[0]||{}).userId==b)return g=!0,"break"}},x=0;x<v.length;x++){if("break"===y(x))break}}if(g){var w=l.View.commentCard.render(r,e);$(w).appendTo($(".comment-list-wrap")),l.View.commentCard.bindClickCardEvent(),l.View.commentCard.bindHoverItemEvent(),l.View.commentCard.bindHoverSelectionEvent()}}}else if(l.Controller.icon.render({},r,!0),"solved"==u){if(p.remove(),0==$(".comment-list-wrap").children().length){var k=l.View.editPannel.renderEmptyContent();$(".comment-list-wrap").children().remove(),$(k).appendTo($(".comment-list-wrap"))}}else if("all"==u)p.removeClass("solved"),p.children(".comment-solved-header").remove(),this.bindHoverSelectionEvent();else if("unsolved"==u){if(p.length)return;var _=!1;if("all"==d)_=!0;else{var C=l.editorListDef.commentsList[r],T=l.Controller.role.getUserInfo().userId;if(Array.isArray(C))for(var S=function(e){var t=C[e],n=t.text,i=t.replyId,o=t.userId,a=new RegExp('<span\\s+class="mention[^"]*"\\s+data-id="'+T+'"');if(a.test(n))return _=!0,"break";if(""!==i){var r=C.filter(function(e){return e.id==i})[0]||{};if(a.test(r.text))return _=!0,"break"}if("about"==d){if(T==o)return _=!0,"break";if(""!==i&&(C.filter(function(e){return e.id==i})[0]||{}).userId==T)return _=!0,"break"}},M=0;M<C.length;M++){if("break"===S(M))break}}if(_){var D=l.View.commentCard.render(r,e);$(D).appendTo($(".comment-list-wrap")),l.View.commentCard.bindClickCardEvent(),l.View.commentCard.bindHoverItemEvent(),l.View.commentCard.bindHoverSelectionEvent()}}if(i){var E,A=[{action:"updateComment",content:{content:a},pageId:null===(n=editorGlobal.poPagination)||void 0===n?void 0:n.pageId}];"flow"==fileType?editorGlobal.sendMessage.send({action:"command",messages:A,pageId:null===(E=editorGlobal.poPagination)||void 0===E?void 0:E.pageId}):editorGlobal.sendMessage.send(A)}},removeCard:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.selectionId,i=e.id;if(e){var o;l.Model.updateCommentsArray(e,"delete"),l.Model.updateCommentsJson(e,"delete");var a=l.editorListDef.commentsList?Object.keys(l.editorListDef.commentsList).length:0;if($(".comment-title").text($(".comment-title").text().replace(/（\d+）/,"（".concat(a,"）"))),!t)return;var r,s={action:"delComment",content:e,pageId:null===(o=editorGlobal.poPagination)||void 0===o?void 0:o.pageId};"flow"==fileType?editorGlobal.sendMessage.send({action:"command",messages:[s],pageId:null===(r=editorGlobal.poPagination)||void 0===r?void 0:r.pageId}):editorGlobal.sendMessage.send(s)}var c=$(".comment-card[selection=".concat(n,"]"));if(c.length)if(1==c.children(".comment-item").length){if(c.remove(),l.Controller.icon.remove(n,!0),0==$(".comment-list-wrap").children().length){var d=l.View.editPannel.renderEmptyContent();$(".comment-list-wrap").children().remove(),$(d).appendTo($(".comment-list-wrap"))}}else c.children(".comment-item[commentid=".concat(i,"]")).remove()},renderEditArea:function(e){var t;if($(".comment-edit-wrap").length&&$(".comment-edit-wrap").remove(),null!==(t=l.data)&&void 0!==t&&t.isMobi)return"";var n=e.selectionId,i=e.replyId,a=e.id,r=e.text,s=void 0===r?"":r,c=e.state,d=e.replyPer,u=void 0!==d&&d,p="";void 0!==i&&""!==i&&null!==i&&(p=this.renderReply({selectionId:n,replyId:i},u));var h="",m=sessionStorage.getItem("commentData");m&&""==s&&(s=m);var f=""==s?"disabled":"enable",g=sessionStorage.getItem("commentTipShown"),v="mind"==fileType&&"wps"!==source?o.default.t("js.Shift_Enter_Line_Break_At_Mention"):o.default.t("js.Shift_Enter_Line_Break");return m&&""!=m&&!g&&($.toast({text:o.default.t("js.Comment_Saved_Enter_To_Continue_Editing"),type:"secondary",delay:2e3}),sessionStorage.setItem("commentTipShown",!0)),"edit"==c&&(h=this.renderBtns(f)),a||(a="comment_"+l.Model.getRandomId()),'\n                <div class="comment-edit-wrap '.concat(c,'">\n                    <div class="comment-edit-box ').concat(c,'" contenteditable="true" id="').concat(a,'" placeholder="').concat(v,'">').concat(s,"</div>\n                    ").concat(p,"\n                    ").concat(h,"\n                </div>\n                ")},changeCardState:function(e,t){var n=this;if(l.editorComment.editPannel.isOpen()){var i;if($(".comment-card.focus").length>0&&0==$(".comment-card.focus>.comment-item").length&&$(".comment-card.focus").remove(),$(".comment-card").removeClass("focus"),"solved"==t||"delete"==t?(i=$(".comment-card[selection^=".concat(e,"]")),$(".comment-edit-wrap").remove(),"unsolved"==$(".po-comment-toptool>.status>.text").attr("op")&&i.remove()):i=$(".comment-card:not(.solved):not(.delete)[selection^=".concat(e,"]")),i.length){var a;switch(t){case"edit":case"focus":a="focus";break;case"delete":a="delete";break;default:a=""}if("delete"==t){var r=[];return $(".comment-card[selection^=".concat(e,"]")).each(function(e,t){$(t).removeClass(a).addClass(a),$(t).children(".comment-solved-header").remove(),$('<div class="comment-delete-header">\n                                <span class="comment-delete-title">'.concat(o.default.t("js.The_original_text_has_been_deleted"),"</span>\n                            </div>")).prependTo($(t)),r.push($(t).attr("selection"))}),r}var s="solved"==t?$(".comment-card[selection^=".concat(e,"]:first")):$(".comment-card:not(.solved):not(.delete)[selection^=".concat(e,"]:first"));if(s.attr("class","comment-card ".concat(a)),!l.data.isMobi&&("focus"==t||"edit"==t)){var c=n.renderEditArea({selectionId:e,state:"focus"});$(c).appendTo(s),n.bindEditBoxEvent()}return s.attr("selection")}var d=$(".po-comment-toptool>.types>.text").attr("op"),u=$(".po-comment-toptool>.status>.text").attr("op");return l.View.topTool.changeTypeStatu(d,u),n.bindHoverSelectionEvent(),null}},undoDeleteState:function(e){if(l.editorComment.editPannel.isOpen){var t=$(".po-comment-toptool>.types>.text").attr("op"),n=$(".po-comment-toptool>.status>.text").attr("op");if(!t||!n)return;l.View.topTool.changeTypeStatu(t,n),this.bindHoverSelectionEvent()}},focusCard:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(l.editorComment.editPannel.isOpen()){if(!l.data.isMobi){var n=$(".po-comment-toptool>div[tp=status]>.text").attr("op"),i=$(".po-comment-toptool>div[tp=types]>.text").attr("op");if("solved"!=n&&"all"===i||(n="solved"==n?"unsolved":n,l.View.topTool.changeTypeStatu("all",n)),t){var o=e;o.indexOf("_")||(o+="_");var a=$(".comment-card[selection^=".concat(o,"]"));if(l.editorComment.icon.getItems(e)&&0==a.length)return void l.Controller.editPannel.render("toolbar")}}var r=this.changeCardState(e,"focus");this.moveViewToCard(r)}},moveViewToCard:function(e){var t=$(".comment-card[selection=".concat(e,"]"));t.length&&$(".comment-list-wrap").scrollTop(t[0].offsetTop)},initEvent:function(){var e=this;setTimeout(function(){$(".comment-edit-box.edit").focus(),l.Util.cursorToEnd($(".comment-edit-box.edit"))},400),e.bindEditBoxEvent(),e.bindReplyEvent(),e.bindClickCardEvent(),e.bindHoverItemEvent(),e.bindHoverSelectionEvent(),("undefined"!=typeof chartObj&&chartObj.orgId||"mind"==fileType)&&injectExtraAsynCall("openMention")&&$(".comment-list-wrap").find("span.mention").each(function(e,t){var n=r.mention.collaUsers,i="undefined"!=typeof userObj&&userObj.userId||"undefined"!=typeof userId&&userId,o=$(t).attr("data-id");(n.indexOf(o)>-1||o==i)&&0==$(t).attr("data-type")?$(t).removeClass("online").addClass("online"):0==$(t).attr("data-type")&&$(t).removeClass("online")})},bindEditBoxEvent:function(){var e=this;$(".comment-edit-box").off("click").on("click",function(){if(!l.editorComment.getReadonly()){$(this).removeClass("focus").addClass("edit");var t=""==$(".comment-edit-box").text()?"disabled":"enable",n=e.renderBtns(t);$(n).appendTo($(".comment-edit-wrap")),e.bindEditBtnEvent()}}),$(document).on("mousedown",function(t){if(!l.editorComment.getReadonly()){var n="new";if($(".comment-edit-wrap").length&&$(".comment-edit-wrap").parents(".comment-item").length&&(n="edit"),!$(t.target).closest(".shape_box").length&&!$(t.target).closest("#shape_controls").length){if(!$(t.target).closest(".comment-edit-wrap").length)if("edit"==n){var i,o=$(".comment-edit-box").parents(".comment-item:first").attr("commentid"),a=$(".comment-edit-box").parents(".comment-card").attr("selection"),r="";$(".comment-edit-box").parents(".comment-edit-wrap").children(".comment-reply-wrap").length&&(r=$(".comment-edit-box").parents(".comment-edit-wrap").children(".comment-reply-wrap").attr("reply"));var s=l.Controller.getCommentById(a,o),c=null!==(i=null==s?void 0:s.text)&&void 0!==i?i:"";if($('<div class="comment-content-text">'.concat(l.Util.filterXSS(c),"</div>")).appendTo($(".comment-edit-box").parents(".comment-item:first")),""!==r){var d=e.renderReply({selectionId:a,replyId:r});$(d).appendTo($(".comment-edit-box").parents(".comment-item:first"))}$(".comment-edit-wrap").remove()}else 0==$(".comment-edit-box").parents(".comment-card:first").children(".comment-item").length||($(".comment-edit-box").removeClass("edit").addClass("focus"),$(".comment-edit-btns").remove(),$(".comment-edit-wrap .comment-reply-wrap").remove());if($(t.target).closest(".comment-right-btns-menus").length||$(".comment-right-btns-menus").removeClass("show"),$(t.target).closest(".comment-del-confirm").length||$(".comment-del-confirm").removeClass("show"),!$(t.target).closest(".comment-card").length&&($(".comment-edit-box").length&&(sessionStorage.setItem("commentData",$(".comment-edit-box").html()),0==$(".comment-edit-box").parents(".comment-card:first").children(".comment-item").length&&$(".comment-edit-box").parents(".comment-card:first").remove()),$(t.target).closest("#shape_controls").length||$(".comment-card").removeClass("focus"),$(".comment-edit-wrap").remove(),0==$(".comment-list-wrap").children().length)){var u=l.View.editPannel.renderEmptyContent();$(".comment-list-wrap").children().remove(),$(u).appendTo($(".comment-list-wrap"))}}}}),$(".comment-edit-box").on("input",function(){l.editorComment.getReadonly()||(""!==$(this).text().trim()?($(".comment-edit-btns .submit").removeClass("disabled"),$(".comment-edit-box").scrollTop($(".comment-edit-box")[0].scrollHeight),("undefined"!=typeof chartObj&&chartObj.orgId||"mind"==fileType)&&injectExtraAsynCall("openMention")&&r.mention.searchMention()):$(".comment-edit-btns .submit").hasClass("disabled")||$(".comment-edit-btns .submit").addClass("disabled"))}),$(".comment-edit-box").off("keydown.commenthotkey").on("keydown.commenthotkey",function(e){if(e.stopPropagation(),!l.editorComment.getReadonly()&&(13!=e.keyCode||e.shiftKey||(e.preventDefault(),"block"!==$("#mention_box").css("display")&&($(".comment-edit-btns>div.submit").trigger("click"),$(this).blur())),("undefined"!=typeof chartObj&&chartObj.orgId||"mind"==fileType)&&injectExtraAsynCall("openMention"))){"mind"==fileType&&editorGlobal.mindMap.emit("hidepopeditor");var t=$(this).parents(".comment-item:first").attr("commentid")||$(this).attr("id");if(r.mention.keydownEvents(e,t))return}}),$(".comment-edit-box").off("keyup.commenthotkey").on("keyup.commenthotkey",function(e){l.editorComment.getReadonly()||("undefined"!=typeof chartObj&&chartObj.orgId||"mind"==fileType)&&injectExtraAsynCall("openMention")&&r.mention.getMentionPos()}),$(".comment-edit-box").on("blur",function(e){l.editorComment.getReadonly()||(e.preventDefault(),e.stopPropagation(),$(".comment-edit-box").length&&sessionStorage.setItem("commentData",$(".comment-edit-box").html()))}),e.bindEditBtnEvent()},bindIconsEvent:function(){var e=this;$(".comment-right-btns .reply").off("click").on("click",function(t){if(t.stopPropagation(),!l.editorComment.getReadonly()){var n=$(this).parents(".comment-card:first").attr("selection"),i=$(this).parents(".comment-item:first").attr("commentid"),o=e.renderEditArea({selectionId:n,replyId:i,state:"edit",replyPer:!0});$(".comment-edit-wrap").remove(),$(o).appendTo($(this).parents(".comment-card:first")),$(".comment-edit-box").focus(),l.Util.cursorToEnd($(".comment-edit-box")),e.bindEditBoxEvent(),e.bindReplyEvent()}}),$(".comment-right-btns .more").off("mousedown").on("mousedown",function(e){e.stopPropagation(),l.editorComment.getReadonly()||($(".comment-del-confirm").hasClass("show")&&$(".comment-del-confirm").removeClass("show"),$(".comment-right-btns-menus").toggleClass("show"),l.Util.updatePopupPos($(this),$(".comment-right-btns-menus"),120))}),$(".comment-right-btns-menus>div, .comment-right-btns>.delete").off("click").on("click",function(t){if(t.stopPropagation(),!l.editorComment.getReadonly()){var n=$(this).parents(".comment-item:first"),i=$(this).parents(".comment-card:first").attr("selection"),o=n.attr("commentid"),a=l.Controller.getCommentById(i,o).userId,r=l.Controller.role.getRole(),s=!0,c=!0;if(l.Controller.role.getUserInfo().userId==a||(s=!1,c=!1,"owner"==r&&(c=!0)),$(this).hasClass("edit")&&s){var d,u=null===(d=n.children(".comment-reply-wrap"))||void 0===d?void 0:d.attr("reply"),p=n.children(".comment-content-text").html(),h=e.renderEditArea({selectionId:i,replyId:u,id:o,state:"edit",text:p});$(".comment-edit-wrap").remove(),n.children(".comment-content-text").remove(),$(h).appendTo(n),e.bindEditBoxEvent(),$(".comment-edit-box").scrollTop($(".comment-edit-box")[0].scrollHeight),u&&n.children(".comment-reply-wrap").remove(),l.Util.cursorToEnd($(".comment-edit-box"))}else c&&($(".comment-del-confirm").addClass("show"),l.Util.updatePopupPos($(".comment-right-btns"),$(".comment-del-confirm"),120));$(".comment-right-btns-menus").removeClass("show")}}),$(".comment-del-confirm .cancel, .comment-del-confirm .delete").off("click").on("click",function(t){if(t.stopPropagation(),!l.editorComment.getReadonly())if($(this).hasClass("delete")){var n=$(this).parents(".comment-item:first").attr("commentid"),i=$(this).parents(".comment-card:first").attr("selection"),a=l.Controller.getCommentById(i,n);e.removeCard(a),$(".comment-reply-wrap[reply=".concat(n,"]>.comment-reply-content")).text(o.default.t("js.Quote_Deleted"))}else $(".comment-del-confirm").removeClass("show")})},bindHoverItemEvent:function(){var e=this;$(".comment-card>.comment-item").hover(function(){if(!l.editorComment.getReadonly()&&!$(".comment-right-btns").length){var t=!1;if(($(this).parents(".comment-card:first").hasClass("solved")||$(this).parents(".comment-card:first").hasClass("delete"))&&(t=!0),!l.data.isMobi){$(this).find(".comment-timeinfo").hide();var n=$(this).attr("commentid"),i=$(this).parents(".comment-card:first").attr("selection"),o=e.renderRightBtns(n,i,t);$(o).appendTo($(this).children(".comment-info-wrap")),e.bindIconsEvent()}}},function(){$(".comment-right-btns-menus").hasClass("show")||$(".comment-right-btns .comment-del-confirm").hasClass("show")||($(".comment-right-btns").remove(),$(".comment-right-btns-del").remove(),$(this).find(".comment-timeinfo").show())}),$(".comment-user-avatar").each(function(e,t){$(t).children("img").on("error",function(){$(this).attr("src","".concat(staticBasePath,"/assets/images/default_photo.png"))})})},bindHoverSelectionEvent:function(){var e=this;$(".comment-card:not(.solved)>.comment-selection").hover(function(e){e.stopPropagation(),l.editorComment.getReadonly()||$(this).parents(".comment-card:first").hasClass("solved")||$(this).parents(".comment-card:first").hasClass("delete")||0!=$(this).parents(".comment-card:first").children(".comment-item").length&&(l.data.isMobi||($(this).find(".icon.solve").hasClass("show")||$(this).find(".icon.solve").addClass("show"),$(this).children(".text").css("max-width","calc(100% - 24px)")))},function(){$(this).find(".icon.solve").removeClass("show")}),$(".comment-selection .icon.solve").off("click").on("click",function(t){if(t.stopPropagation(),!l.editorComment.getReadonly()){var n=$(this).parents(".comment-card:first").attr("selection"),i=l.editorListDef.commentsList[n];e.updateCardByStatus(i,1)}}),$(".comment-solved-header .comment-solved-btn").off("click").on("click",function(){if(!l.editorComment.getReadonly()){var t=$(this).parents(".comment-card:first").attr("selection"),n=l.editorListDef.commentsList[t];e.updateCardByStatus(n,0)}})},bindReplyEvent:function(){$(".comment-reply-wrap .icon.del").off("click").on("click",function(e){e.stopPropagation(),l.editorComment.getReadonly()||($(this).parents(".comment-reply-wrap:first").remove(),$(".comment-edit-box").focus(),l.Util.cursorToEnd($(".comment-edit-box")))})},bindClickCardEvent:function(){var e=this;$(".comment-card").off("click").on("click",function(t){if(t.stopPropagation(),!l.editorComment.getReadonly()&&($(t.target).is(".comment-card")||!$(t.target).closest(".comment-card").length||0!=$(t.target).parents(".comment-card:first").children(".comment-item").length)&&!$(t.target).closest(".comment-edit-wrap").length){0==$(".comment-card.focus>.comment-item").length&&$(".comment-card.focus").remove(),$(this).siblings(".comment-card").removeClass("focus"),$(".comment-card>.comment-edit-wrap").remove(),$(this).addClass("focus");var n=$(this).attr("selection");if(!$(this).hasClass("solved")&&!$(this).hasClass("delete")&&!l.data.isMobi){var i=e.renderEditArea({selectionId:n,state:"focus"});$(i).appendTo($(this)),e.bindEditBoxEvent()}e.bindReplyEvent();var o=n.split("_")[0];if(l.editorComment.locateById(o),("undefined"!=typeof chartObj&&chartObj.orgId||"mind"==fileType)&&injectExtraAsynCall("openMention")&&$(t.target).closest(".mention").length){if(1==$(t.target).data("type")){var a=$(t.target).data("url");return void injectExtraAsynCall("openFileUrl",{url:a})}if("flow"==fileType&&Designer.readonly||"flow"!==fileType&&r.mention.getReadonly())return}}})},bindEditBtnEvent:function(){var e=this,t=l.Controller.role.getUserInfo(),n=t.userId,i=t.fullName,o=t.photoUrl;if($(".comment-edit-btns>div").off("click").on("click",function(t){if(!l.editorComment.getReadonly()&&!$(this).hasClass("disabled")){var a=$(".comment-edit-box").html();if(""!=a||!$(this).hasClass("submit")){t.stopPropagation();var s,c="new";$(this).parents(".comment-item").length&&$(this).parents(".comment-item:first").attr("commentid")&&(c="edit",s=$(this).parents(".comment-item:first").attr("commentid"));var d=$(this).parents(".comment-card").attr("selection"),u="";if($(this).parents(".comment-edit-wrap").children(".comment-reply-wrap").length&&(u=$(this).parents(".comment-edit-wrap").children(".comment-reply-wrap").attr("reply")),$(this).hasClass("cancel")){if("edit"==c){var p,h=l.Controller.getCommentById(d,s),m=null!==(p=null==h?void 0:h.text)&&void 0!==p?p:"";if($('<div class="comment-content-text">'.concat(l.Util.filterXSS(m),"</div>")).appendTo($(this).parents(".comment-item:first")),""!==u){var f=e.renderReply({selectionId:d,replyId:u});$(f).appendTo($(this).parents(".comment-item:first"))}}sessionStorage.removeItem("commentData")}else{s||(s=$(this).parents(".comment-edit-wrap:first").children(".comment-edit-box").attr("id"));var g={selectionId:d,userId:n,userName:i,avatarUrl:o,id:s,status:0,replyId:u,createTime:new Date,updateTime:new Date,text:a};l.Controller.updateComment(g,c);var v=e.renderItem(g),b=i;b=l.Util.truncateString(b);var y="".concat(b,"：").concat(a);$(".comment-reply-wrap[reply=".concat(s,"]>.comment-reply-content")).text(y);var x=document.createElement("div");document.body.appendChild(x);var w=$(".comment-item[commentid=".concat(s,"]")).width()||166;x.style.cssText="width: ".concat(w,"px; height: 44px;");var k=l.Util.extractPlainText("".concat(i,"：").concat(a));if(x.textContent=k,x.scrollHeight>x.clientHeight||b!=i?$(".comment-reply-wrap[reply=".concat(s,"]>.comment-reply-content")).attr("original-title",k):$(".comment-reply-wrap[reply=".concat(s,"]>.comment-reply-content")).removeAttr("original-title"),x.remove(),("undefined"!=typeof chartObj&&chartObj.orgId||"mind"==fileType)&&injectExtraAsynCall("openMention")&&"false"!=localStorage.getItem("remind")){var _=$(this).parents(".comment-edit-wrap:first").children(".comment-edit-box").find("span.mention");if(_.length){var C,T=[];_.each(function(e,t){if(1!=$(t).attr("data-type")){var n=$(t).attr("data-id");T.push(n)}}),r.mention.sendNotice({targetId:s,id:T,remind:!0,pageId:null===(C=editorGlobal.poPagination)||void 0===C?void 0:C.pageId})}}var S=$(this).parents(".comment-card:first");"edit"==c?($(this).parents(".comment-item:first").after(v),$(this).parents(".comment-item:first").remove()):$(".comment-edit-wrap").before(v),S.is(":last-child")&&$(".comment-list-wrap").scrollTop($(".comment-list-wrap")[0].scrollHeight),sessionStorage.removeItem("commentData"),$(this).parents(".comment-edit-wrap:first").children(".comment-edit-box").attr("id","comment_"+l.Model.getRandomId()),e.bindClickCardEvent(),e.bindHoverItemEvent(),e.bindHoverSelectionEvent(),editorGlobal.mindMap.emit("editComment")}if("new"==c?$(this).parents(".comment-card:first").find(".comment-item").length?($(".comment-edit-box").text(""),$(".comment-edit-box").removeClass("edit").addClass("focus"),$(".comment-edit-btns").remove(),$(".comment-edit-wrap .comment-reply-wrap").remove()):$(this).parents(".comment-card:first").remove():($(".comment-edit-wrap").remove(),$(".comment-card").removeClass("focus")),0==$(".comment-list-wrap").children().length){var M=l.View.editPannel.renderEmptyContent();$(".comment-list-wrap").children().remove(),$(M).appendTo($(".comment-list-wrap"))}}}}),$(".comment-edit-btns").parents(".comment-card:first").length){var a=$(".comment-edit-btns"),s=$(".comment-list-wrap"),c=a.offset().top,d=a.outerHeight(),u=c+d,p=s.offset().top+s.outerHeight();(u+d>p||c<s.offset().top)&&s.scrollTop(s.scrollTop()+u-p+d+16)}}},search:{initEntry:function(){"mind"==fileType&&$('</li><li class="po-menu-item" ac="comment">\n                        <div class="po-menu-item-box">\n                            <span class="text">'.concat(o.default.t("js.Comment_new"),"</span>\n                        </div>\n                    </li>")).appendTo("#mind-outline-type")}}},Controller:{init:function(e){e&&(l.data=e),l.Model.initData(),"mind"==fileType&&(editorGlobal.mindMap.on("clickComment",function(e,t){if(!l.data.isMobi){var n=t.id;$(".comment-card:not(.solved):not(.delete)[selection^=".concat(n,"]")).length||l.Controller.editPannel.render("icon"),$(".mind-right-con").hasClass("active")&&$(".mind-right-con [tit=comment]").is(":visible")&&!l.editorComment.getReadonly()?l.View.commentCard.focusCard(n):(editorGlobal.mindMap.emit("openCorner","comment"),l.Controller.editPannel.render("icon"),l.editorComment.getReadonly()||l.View.commentCard.focusCard(n))}}),editorGlobal.mindMap.on("readonly_change",function(e){e.hasOwnProperty("comment")&&(e.comment?($(".po-comment-icon-ifShow").removeClass("readonly"),$(".comment-edit-wrap").show()):($(".po-comment-icon-ifShow").addClass("readonly"),$(".comment-edit-wrap").hide()))})),l.data.isMobi&&"mind"==fileType?(this.editPannel.initMobiWrap(),l.View.entry.initMobi()):(l.View.entry.init(),this.editPannel.initWrap(),l.View.search.initEntry())},editPannel:{initWrap:function(){var e=l.Model.ifIconShow();l.View.editPannel.initWrap(e)},initMobiWrap:function(){l.View.editPannel.initMobiWrap()},render:function(e){l.data.isMobi?l.editorComment.editPannel.renderMobi():l.editorComment.editPannel.render(e),l.View.commentCard.initEvent()}},icon:{render:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(l.Model.initData(e.that),void 0===l.editorDef.showCommentIcon||l.editorDef.showCommentIcon){var i="";if(t){if("string"==typeof t)i=t;else{if(Array.isArray(t)){for(var o=0;o<t.length;o++)"string"==typeof t[o]?i=t[o]:"object"==w(t[o])&&(i=t[o].id),l.editorComment.icon.render(e,i,n);return}"object"==w(t)&&(i=t.id)}l.editorComment.icon.render(e,i,n)}else{for(var a in l.commentsJSON)l.editorComment.icon.render(e,a,n);l.editorComment.icon.getItems()}}},remove:function(e){var t=[];if(e){var n;if("string"==typeof e){var i=e.split("_")[0];n=$("#"+i);var o=l.editorComment.icon.getItems(i);o&&t.push(o),editorGlobal.mindMap.emit("set_topic_comment",i,"remove")}else if(Array.isArray(e))for(var a=0;a<e.length;a++){var r="";"string"==typeof e[a]?r=e[a].split("_")[0]:"object"==w(e[a])&&(r=e[a].id.split("_")[0]),n=$("#"+r);var s=l.editorComment.icon.getItems(r);s&&t.push(s),"flow"==fileType&&n.children(".shape_comment_ico").remove(),n.children(".comment_ico").remove(),editorGlobal.mindMap.emit("set_topic_comment",r,"remove")}else if("object"==w(e)){n=$("#"+e.id.split("_")[0]);var c=l.editorComment.icon.getItems(e.id.split("_")[0]);c&&t.push(c);var d=e.id.split("_")[0];editorGlobal.mindMap.emit("set_topic_comment",d,"remove")}Array.isArray(e)||("flow"==fileType&&n.children(".shape_comment_ico").remove(),n.children(".comment_ico").remove())}else t=l.editorComment.icon.getItems(),"flow"==fileType&&$(".shape_comment_ico").remove(),$(".comment_ico").remove(),editorGlobal.mindMap.emit("clear_topic_comment")}},role:{getRole:function(){var e=this.getUserInfo(),t=e.userId,n=e.user_id;e.collaRole;return("wps"==window.source?n:t)==l.data.owner.userId?"owner":"colla"},getUserInfo:function(){var e,t=l.data.userObj;return"wps"==window.source&&(t.fullName=t.nickname||t.name||editorGlobal.pageInfo.userName,t.photoUrl=t.portraitUrl||t.avatar||(null===(e=editorGlobal.pageInfo)||void 0===e||null===(e=e.uc)||void 0===e?void 0:e.photoUrl)),t}},search:{renderCommentList:function(e,t,n){var i=l.commentsArray.filter(function(e){return e.selectionId.startsWith(t)});if(i.length>0){var o="";i.map(function(e,t){if(n){var i=e.text.replace(n,"<font color='#2C78FF'>"+n+"</font>");o+='<div class="po-diagraming-icons node-comment">'.concat(i,"</div>")}else o+='<div class="po-diagraming-icons node-comment">'.concat(e.text,"</div>")});var a='<div class="node-comments">'.concat(o,"</div>");$(a).appendTo($(e))}},filterComments:function(e,t){var n=l.commentsArray.filter(function(t){return t.selectionId.startsWith(e)}),i=!1;if(n.length>0){if(void 0===t)return!0;for(var o=0;o<n.length;o++)if(n[o].text.indexOf(t)>-1){i=!0;break}}return i}},colla:{updateComments:function(e){var t,n,i,o,a,r,s,c,d,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],p=e.action,h=e.content;"updateComment"!==p&&(n=(t=h).id,i=t.selectionId,o=t.updateType,a=t.text,r=t.status,s=t.showCommentIcon,c=t.replyId,d=t.userId);var m=$(".po-comment-toptool>.types>.text").attr("op"),f=$(".po-comment-toptool>.status>.text").attr("op"),g=l.Controller.role.getUserInfo().userId;switch(p){case"addComment":if(l.Controller.updateComment(h,"new",u),$(".comment-card[selection=".concat(i,"]")).length){var v=$(".comment-card[selection=".concat(i,"]")),b=l.View.commentCard.renderItem(h);v.children(".comment-edit-wrap").length?v.children(".comment-edit-wrap").before(b):$(b).appendTo(v),l.View.commentCard.bindHoverItemEvent()}else{var y=!1;if("solved"!==f)if("all"==m)y=!0;else{var x=new RegExp('<span\\s+class="mention[^"]*"\\s+data-id="'+g+'"');if(x.test(a)&&(y=!0),""!==c){var w=l.editorListDef.commentsList[i].filter(function(e){return e.id==c})[0]||{};x.test(w)&&(y=!0)}"about"==m&&(d==g&&(y=!0),""!==c)&&(l.editorListDef.commentsList[i].filter(function(e){return e.id==c})[0]||{}).userId==g&&(y=!0)}if(y){var k=l.View.commentCard.render(i,[h]);$(k).appendTo($(".comment-list-wrap")),l.View.commentCard.bindClickCardEvent(),l.View.commentCard.bindHoverItemEvent(),l.View.commentCard.bindHoverSelectionEvent()}}break;case"updateComment":if(void 0!==(h=h.content)&&h.length)for(var _=0;_<h.length;_++){var C=h[_];switch(n=C.id,i=C.selectionId,o=C.updateType,a=C.text,r=C.status,s=C.showCommentIcon,c=C.replyId,d=C.userId,o){case"text":$(".comment-item[commentid=".concat(n,"]>.comment-content-text")).html(l.Util.filterXSS(a)),l.Controller.updateComment(C,"edit",u);break;case"status":l.View.commentCard.updateCardByStatus(l.editorListDef.commentsList[i],r,u)}}break;case"showCommentIcon":l.View.editPannel.renderCommentIcon(!s,u);break;case"delComment":l.View.commentCard.removeCard(h,u)}}},updateComment:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.selectionId,o=e.id,a=e.text,r=(e.userId,e.avatarUrl,e.replyId,e.userName,e.status,l.commentsJSON[i]),s="addComment";if("edit"==t){if(s="updateComment",r)for(var c=0;c<r.length;c++)if(r[c].id==o){r[c].text=a;break}l.Model.updateCommentsArray(e,"update"),l.Model.updateCommentsJson(e,"update")}else{l.commentsArray.push(e),l.commentsJSON[i]?l.commentsJSON[i].push(e):l.commentsJSON[i]=[e],l.Model.updateCommentsArray(e,"add"),l.Model.updateCommentsJson(e,"add"),l.Controller.icon.render({},i,!0);var d=l.editorListDef.commentsList?Object.keys(l.editorListDef.commentsList).length:0;$(".comment-title").text($(".comment-title").text().replace(/（\d+）/,"（".concat(d,"）")))}if(n)if(e.updateType="text","updateComment"==s){var u,p,h=[{action:s,content:{content:[e]},pageId:null===(u=editorGlobal.poPagination)||void 0===u?void 0:u.pageId}];"flow"==fileType?editorGlobal.sendMessage.send({action:"command",messages:h,pageId:null===(p=editorGlobal.poPagination)||void 0===p?void 0:p.pageId}):editorGlobal.sendMessage.send(h)}else{var m,f,g={action:s,content:e,pageId:null===(m=editorGlobal.poPagination)||void 0===m?void 0:m.pageId};"flow"==fileType?editorGlobal.sendMessage.send({action:"command",messages:[g],pageId:null===(f=editorGlobal.poPagination)||void 0===f?void 0:f.pageId}):editorGlobal.sendMessage.send(g)}},getCommentById:function(e,t){var n=(l.commentsJSON[e]||[]).filter(function(e){return e.id==t});return n&&0!=n.length?n[0]:null},getCommentsArrByStatus:function(e,t){var n=l.Controller.role.getUserInfo().userId,i=[],o=[];switch(e){case"mention":l.editorDef.comments.map(function(e,t){var a=e.text,r=e.selectionId;if(new RegExp('<span\\s+class="mention[^"]*"\\s+data-id="'+n+'"').test(a)&&!o.includes(r)){var s=l.editorDef.comments.filter(function(e){return e.selectionId==r})||[];i=i.concat(s),o.push(r)}});break;case"about":l.editorDef.comments.map(function(e,t){var a=e.userId,r=e.replyId,s=e.selectionId,c=e.text;if(!o.includes(s))if(a==n)i=i.concat(l.editorListDef.commentsList[s]),o.push(s);else if(""!==r){var d=l.editorDef.comments.filter(function(t){return t.id==e.replyId})[0]||{};d.userId==n?(i=i.concat(l.editorListDef.commentsList[s]),o.push(s)):new RegExp('<span\\s+class="mention[^"]*"\\s+data-id="'+n+'"').test(d.text)&&(o.includes(s)||(i=i.concat(l.editorListDef.commentsList[s]),o.push(s)))}else new RegExp('<span\\s+class="mention[^"]*"\\s+data-id="'+n+'"').test(c)&&(o.includes(s)||(i=i.concat(l.editorListDef.commentsList[s]),o.push(s)))});break;default:i=l.editorDef.comments}switch(t){case"solved":i=i.filter(function(e){var t=e.selectionId.split("_")[0];return!l.editorComment.icon.getItems(t)||e.status})||[];break;case"unsolved":i=i.filter(function(e){var t=e.selectionId.split("_")[0];return!!l.editorComment.icon.getItems(t)&&!e.status})||[]}return i},posMentionTarget:function(e){if("wps"!=source){l.Controller.editPannel.render("init");var t=$(".comment-item[commentid=".concat(e,"]")),n=l.editorDef.comments.filter(function(t){return t.id==e});if(0!=t.length||0!=n.length)if(n&&1==n[0].status)$.toast({type:"warning",text:o.default.t("js.Mention_Solved")});else{"flow"==fileType?Dock.show("comment"):editorGlobal.mindMap.emit("openCorner","comment");var i=t.parents(".comment-card").attr("selection");l.View.commentCard.focusCard(i);var a=i.split("_")[0];l.editorComment.locateById(a)}else $.toast({type:"warning",text:o.default.t("js.Mention_Deleted")})}}},Util:{cursorToEnd:function(e){if(void 0!==e&&0!=e.length){e.focus();var t=e.get(0);if("number"==typeof t.selectionStart)t.selectionStart=t.selectionEnd=t.value.length;else if(void 0!==t.createTextRange)(n=t.createTextRange()).collapse(!1),n.select();else if(window.getSelection){var n,i=window.getSelection();(n=document.createRange()).selectNodeContents(t),n.collapse(!1),i.removeAllRanges(),i.addRange(n)}}},extractPlainText:function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},wrapSelectedText:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=window.getSelection();if(n.rangeCount>0){var i=n.getRangeAt(0),o=document.createElement(e),a=t.className,r=t.id,s=t.style;a&&(o.className=t.className),r&&(o.id=t.id),s&&Object.assign(o.style,t.style);try{i.surroundContents(o)}catch(e){var l=i.extractContents();o.appendChild(l),i.insertNode(o)}n.removeAllRanges()}},wrapOutlineText:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e;if("string"==typeof e&&"outline"==fileType&&(i=$("#".concat(e)).find("div[contenteditable=true]")[0]),i){var o=i.innerHTML,a=document.createElement(t);for(var r in n)n.hasOwnProperty(r)&&a.setAttribute(r,n[r]);a.innerHTML=o,i.innerHTML="",i.appendChild(a)}},truncateString:function(e){var t=$("<span>").css({"font-size":l.data.isMobi?"15px":"13px",visibility:"hidden","white-space":"nowrap"}).text(e).appendTo("body");if(t.width()>114){for(var n="",i=0;i<e.length;i++)if(n+=e[i],t.text(n+"..."),t.width()>114){n=n.slice(0,-1);break}return t.remove(),n+"..."}return t.remove(),e},updatePopupPos:function(e,t,n){var i=e.offset().top+e.outerHeight();$(window).height()-i<n?(t.css({top:-t.outerHeight()-2}),t.hasClass("comment-del-confirm")&&t.children(".confirm-arrow").css({top:"84px","border-left-width":0,"border-top-width":0,"border-right-width":"1px","border-bottom-width":"1px"})):t.css({top:e.outerHeight()+2})},filterXSS:function(e){return(0,s.poFilterXSS)(e,{whiteList:{span:["class","contenteditable","data-id","data-name","data-type","data-url","data-charttype"]}})}}},c=t.mindComment={rightCon:".mind-right-con",entry:{init:function(){"wps"==source&&this.topMenuInit(),this.contextMenuInit()},initMobi:function(){c.editPannel.renderMobi()},contextMenuInit:function(){},rightMenuInit:function(){var e='\n                <div class="po-tool-button" tit="comment"  title-pos="left" title="'.concat(o.default.t("js.Comment_new"),'">\n                    <span class="po-diagraming-icons">&#xe6ea;</span>\n                </div>\n            ');$(".mind-custom-toolbar>[tit=code]").after(e);var t='\n                <li class="po-menu-item" tit="comment">\n                    <div class="po-menu-item-box">\n                        <span class="po-diagraming-icons po-menu-icon">&#xe6ea;</span>\n                        <span class="text">'.concat(o.default.t("js.Comment_new"),'</span>\n                        <span class="po-menu-hotkey">').concat(l.hotkey,"</span>\n                    </div>\n                </li>\n            ");$("#po-mind-more-list>li[tit=note]").after(t),this.rightMenuInitEvent()},rightMenuInitEvent:function(){$("#po-mind-more-list [tit=comment], .mind-toolbar [tit=comment], .mind-toolbar-right [tit=comment]").off("click").on("click",function(e){editorGlobal.mindMap.emit("hideRightMoreList"),$(this).hasClass("disabled")||(l.Controller.editPannel.render("toolbar"),$(".mind-right-con").hasClass("active")&&$(".mind-right-con [tit=comment]").is(":visible")&&!l.editorComment.getReadonly()||editorGlobal.mindMap.emit("openCorner","comment"))})},topMenuInit:function(){var e='\n                <div id="mind-insert-comment" tit="comment" class="po-tool-btn">\n                    <div class="mind-icons">&#xe6c2d;</div>\n                    <div class="item-name">'.concat(o.default.t("js.Comment_new"),"</div>\n                </div>\n            ");$("#mind-insert-remark").after(e)}},editPannel:{initWrap:function(e){if(!$(".mind-right-con [tit=comment]").length){var t=e?o.default.t("js.Hide_Comments"):o.default.t("js.Show_Comments"),n=e?"&#xe6d4;":"&#xea77;",i=l.editorListDef.commentsList?Object.keys(l.editorListDef.commentsList).length:0,a=l.editorComment.getReadonly()?"disabled":"",r='\n                <div tit="comment"> \n                    <div class="title comment-title">'.concat(o.default.t("js.All_Comments"),"（").concat(i,'）</div>\n                    <span class="po-comment-icon-ifShow po-diagraming-icons mind ').concat(a,'" title="').concat(t,'">').concat(n,'</span>\n                    <div class="comment-content"></div>\n                </div>\n            ');$(r).appendTo($(".mind-right-con"))}},initMobiWrap:function(){if(!$(".op-con-detail>div[tit=comment]").length){var e='\n                <div tit="comment"> \n                    <h3>\n                        <label>\n                            <i class="po-diagraming-icons">&#xe6cf;</i>\n                        </label>\n                        <span style="pointer-events: none;">'.concat(o.default.t("js.Comment_new"),'</span>\n                        <label style="pointer-events: none;"></label>\n                    </h3>\n                    <div class="comment-content"></div>\n                </div>\n            ');$(e).appendTo($(".op-con-detail"))}},render:function(e){var t,n,i;null!==(t=l.data)&&void 0!==t&&null!==(t=t.userObj)&&void 0!==t&&t.photoUrl||(l.data.userObj.photoUrl=(null===(n=editorGlobal.userObj)||void 0===n?void 0:n.portraitUrl)||(null===(i=editorGlobal.userObj)||void 0===i?void 0:i.avatar));var o=l.View.editPannel.render(e);$(o).appendTo($(".mind-right-con [tit=comment] .comment-content")),l.View.editPannel.initEvent()},renderMobi:function(){var e=l.View.editPannel.renderMobi();$(e).appendTo($(".op-con-detail [tit=comment] .comment-content")),l.View.editPannel.initEvent()},isOpen:function(){return l.data.isMobi?"block"==$(".op-con-detail").css("display")&&"block"==$(".op-con-detail>div[tit=comment]").css("display"):$(".mind-corner.right").hasClass("active")&&"block"==$(".mind-corner.right>div[tit=comment]").css("display")}},icon:{render:function(e,t){t=t.split("_")[0];var n=Object.keys(l.commentsJSON);if(n.length>0){var i="remove";n.filter(function(e){return e.startsWith(t)&&!l.commentsJSON[e][0].status}).length&&(i="add"),editorGlobal.mindMap.emit("set_topic_comment",t,i)}},initEvent:function(){},getItems:function(e){if(e)return editorGlobal.mindMap.renderer.getTopicById(e);var t=[];for(var n in l.commentsJSON){var i=editorGlobal.mindMap.renderer.getTopicById(n.split("_")[0]);i&&t.push(i)}return t}},getSelectedIds:function(){return editorGlobal.mindMap.renderer.getSelectedIds()},locateById:function(e){var t,n=editorGlobal.mindMap.renderer.getCacheTopic(e);n&&(null!==(t=l.data)&&void 0!==t&&t.isMobi?mindUI.moveToSearchTopic(e):n.selected())},getReadonly:function(){return!editorGlobal.mindMap.opt.readonlyList.comment||editorGlobal.isView},changeCardState:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"delete",n=editorGlobal.mindMap.renderer.getChildrenIds(e),i=0;i<n.length;i++)"undoDel"==t?l.View.commentCard.undoDeleteState(n[i]):l.View.commentCard.changeCardState(n[i],t)}}},27251:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.injectExtraAsynCall=t.bigPipe=void 0,n(96700),n(26149),n(27531),n(61894),n(68174),n(96909),n(5682),n(38297),n(65528),n(87812),n(1053),n(82403),n(12638),n(33809),n(38887),n(6284),n(96038),n(30940),n(47958),n(69268),n(58500),n(86837),n(54938),n(14237);var o=n(47306),a=i(n(6535)),r=n(34504).j,s={};window.injectExtraAsynCall=o.Util.injectExtraAsynCall;var l=t.injectExtraAsynCall=window.injectExtraAsynCall;!function(e){e(document).on("mouseover.tip","[title],[original-title]",function(){if("undefined"!=typeof device&&device.indexOf("mobi")>-1)return!1;if(e(this).attr("disableTitle"))return!1;if(e(this).hasClass("dropdown")&&e(this).hasClass("selected"))return!1;var t=e(this);if(t.attr("title")&&(t.attr("original-title",t.attr("title")),t.removeAttr("title")),t.attr("original-title")){var n=t.attr("original-title"),i=e(".po-hover-tip");0==i.length&&(i=e("<div class='po-hover-tip'><div class='tip-arrow'></div><div class='tip-content radius3'></div></div>").appendTo("body")),i.removeAttr("style"),o.Util.isMac()&&(n=n.replace(/Ctrl/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe795;</span>").replace(/Alt/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe9e0;</span>")),e(".tip-content").html(n),e(".po-hover-tip").show(),n.indexOf("）")==n.length-1?e(".tip-content").css("padding-right","0px"):e(".tip-content").css("padding-right","8px");var a=t.attr("title-translate-x")||0,r=t.attr("title-translate-y")||0;a||r?e(".tip-content").css("transform","translate("+a+"px,"+r+"px)"):e(".tip-content").css("transform","translate(0,0)");var s=0,l=0;"right"==t.attr("title-pos")?(s=t.offset().left+t.outerWidth()+4+4,l=t.offset().top+t.outerHeight()/2-i.outerHeight()/2,e(".tip-arrow").attr("class","tip-arrow tip-right")):"top"==t.attr("title-pos")?(s=t.offset().left+t.outerWidth()/2-i.outerWidth()/2,l=t.offset().top-i.outerHeight()-4-4,e(".tip-arrow").attr("class","tip-arrow tip-top")):"left"==t.attr("title-pos")?(s=t.offset().left-i.outerWidth()-4-4,l=t.offset().top+t.outerHeight()/2-i.outerHeight()/2,e(".tip-arrow").attr("class","tip-arrow tip-left")):(s=t.offset().left+t.outerWidth()/2-i.outerWidth()/2,l=t.offset().top+t.outerHeight()+4+4,e(".tip-arrow").attr("class","tip-arrow")),e(".tip-arrow").removeAttr("style");var c=0,d=0;s<2?c=2:s+i.outerWidth()>e(window).width()-2&&(c=e(window).width()-i.outerWidth()-2),l<2?d=2:l+i.outerHeight()>e(window).height()-2&&(d=e(window).height()-i.outerHeight()-2),"left"==t.attr("title-pos")||"right"==t.attr("title-pos")?d&&e(".tip-arrow").css({marginTop:l-d-4}):c&&e(".tip-arrow").css({marginLeft:s-c-4}),i.css({left:c||s,top:d||l})}}).on("mouseout.tip","[title],[original-title]",function(){e(".po-hover-tip").hide()}),e("body").on("mouseover.titletip","[title-tip]",function(){var t=e(this),n=e(this).attr("title-tip"),i=e(".po-title-tip");n&&(0==i.length&&(i=e('<div class="po-title-tip">'+n+"</div>").appendTo("body")),i.html(n).css({left:parseInt(t.offset().left+t.outerWidth()/2-i.outerWidth()/2),top:parseInt(t.offset().top+t.outerHeight()+14)}).show())}).on("mouseout.titletip","[title-tip]",function(){e(".po-title-tip").hide()}),e(document).on("mouseover.tip","[full-title]",function(){if("undefined"!=typeof device&&device.indexOf("mobi")>-1)return!1;if(e(this).attr("disableTitle"))return!1;if(e(this).hasClass("dropdown")&&e(this).hasClass("selected"))return!1;var t=e(this);if(t.attr("title")&&t.removeAttr("title"),t.attr("full-title")&&!(t[0].scrollWidth<=t[0].offsetWidth)){var n=t.attr("full-title"),i=e(".po-hover-tip");0==i.length&&(i=e("<div class='po-hover-tip'><div class='tip-arrow'></div><div class='tip-content radius3'></div></div>").appendTo("body")),i.removeAttr("style"),o.Util.isMac()&&(n=n.replace(/Ctrl/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe795;</span>").replace(/Alt/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe9e0;</span>")),e(".tip-content").html(n),e(".po-hover-tip").show(),n.indexOf("）")==n.length-1?e(".tip-content").css("padding-right","0px"):e(".tip-content").css("padding-right","8px");var a=t.attr("title-translate-x")||0,r=t.attr("title-translate-y")||0;a||r?e(".tip-content").css("transform","translate("+a+"px,"+r+"px)"):e(".tip-content").css("transform","translate(0,0)");var s=0,l=0;"right"==t.attr("title-pos")?(s=t.offset().left+t.outerWidth()+4+4,l=t.offset().top+t.outerHeight()/2-i.outerHeight()/2,e(".tip-arrow").attr("class","tip-arrow tip-right")):"top"==t.attr("title-pos")?(s=t.offset().left+t.outerWidth()/2-i.outerWidth()/2,l=t.offset().top-i.outerHeight()-4-4,e(".tip-arrow").attr("class","tip-arrow tip-top")):"left"==t.attr("title-pos")?(s=t.offset().left-i.outerWidth()-4-4,l=t.offset().top+t.outerHeight()/2-i.outerHeight()/2,e(".tip-arrow").attr("class","tip-arrow tip-left")):(s=t.offset().left+t.outerWidth()/2-i.outerWidth()/2,l=t.offset().top+t.outerHeight()+4+4,e(".tip-arrow").attr("class","tip-arrow")),e(".tip-arrow").removeAttr("style");var c=0,d=0;s<2?c=2:s+i.outerWidth()>e(window).width()-2&&(c=e(window).width()-i.outerWidth()-2),l<2?d=2:l+i.outerHeight()>e(window).height()-2&&(d=e(window).height()-i.outerHeight()-2),"left"==t.attr("title-pos")||"right"==t.attr("title-pos")?d&&e(".tip-arrow").css({marginTop:l-d-4}):c&&e(".tip-arrow").css({marginLeft:s-c-4}),i.css({left:c||s,top:d||l})}}).on("mouseout.tip","[full-title]",function(){e(".po-hover-tip").hide()}),e.toast=function(t,n){var i;if("object"==w(t)){t.target&&null!==(i=t.target)&&void 0!==i&&i.is(":visible")||delete t.target,t=e.extend({type:"success",text:a.default.t("js.Operation_successful"),delay:3e3,name:"name",autoClose:!0,zIndex:9999,target:e("body")},t);var o=e("#po_toast");o.length>0&&o.remove();var r="",s="";if(t.icon?r="<span class='po-diagraming-icons'>"+t.icon+"</span>":"success"==t.type?r="<span class='po-diagraming-icons'>&#xe976;</span>":"error"==t.type?r="<span class='po-diagraming-icons'>&#xe995;</span>":"warning"==t.type?r="<span class='po-diagraming-icons'>&#xe977;</span>":"secondary"==t.type?r="<span class='po-diagraming-icons'>&#xe996;</span>":"wps_pay"==t.type&&(r='<img class="vip-icon" src="'+staticBasePath+'/wps/images/new_svip_icon.svg" />',s="<div class='po-wps-pay-btn'>"+t.bottonText+"</a></div>"),o=e("<div id='po_toast' style='z-index:"+t.zIndex+"' name="+t.name+" class='po-toast po-toast-"+t.type+"'>"+r+t.text+s+"</div>").appendTo(t.target),t.marginTop&&o.css("margin-top",t.marginTop+"px"),t.autoClose)var l=setTimeout(function(){o.remove(),clearTimeout(l)},t.delay);if("wps_pay"==t.type&&"function"==typeof t.payCallback&&e(".po-wps-pay-btn").off("click").on("click",function(){o.remove(),t.onClose(),t.payCallback()}),"function"==typeof t.onClose){var c=e("<div class='po-diagraming-icons po-close-btn'>&#xe6b9;</div>").appendTo(o);o.addClass("po-toast-close"),c.off("click").on("click",function(e){o.remove(),t.onClose()})}}else"string"==typeof t&&"close"==t&&(n?"all"==n?e("#po_toast").remove():e("#po_toast[name="+n+"]").remove():e("#po_toast[name=name]").remove())},e.loading=function(t){var n;if("string"!=typeof t){"object"!=w(t)&&(t={}),t.target&&null!==(n=t.target)&&void 0!==n&&n.is(":visible")||delete t.target,t=e.extend({type:"style1",text:"",target:e("body")},t);var i=e("#po-loading");i.length>0&&i.remove(),i=e("<div id='po-loading' class='po-loading po-loading-"+t.type+"'>"+t.text+"<div class='po-loading-loader po-loading-four'/></div>").appendTo(t.target)}else"close"==t&&e("#po-loading").remove()};var t=null;function n(e,t,n){if(!isNaN(t)){if(e.attr("max")){var i=parseInt(e.attr("max"));t>i&&(t=i)}if(e.attr("min")){var o=parseInt(e.attr("min"));t<o&&(t=o)}var a=e.attr("old"),r=t+n.unit;e.spinner("setValue",t+n.unit),a!=r&&n.onChange&&n.onChange(t)}}e.showTip=function(n,i,o,a){var r=e("#mind-tip");if("close"==n)return t&&(clearTimeout(t),t=null),r.remove(),void(t&&(clearTimeout(t),t=null));0==r.length&&((r=e("<div id='mind-tip'><div class='mind-tip-text'></div></div>").appendTo("body")).append("<div class='mind-tip-close mind-icons'></div>"),r.children(".mind-tip-close").on("click",function(){e.showTip("close")})),a?r.children(".mind-tip-close").on("click.callback",function(){a()}):r.children(".mind-tip-close").unbind("click.callback"),r.children(".mind-tip-text").html(n),r.css({marginLeft:-r.width()/2-15}),null!=o&&"left_bottom"==o?r.show().css({bottom:100,left:25,marginLeft:"0",top:"initial"}):r.show().css({top:60}),null!=i&&null==t&&(t=setTimeout(function(){e.showTip("close"),t=null},i))},e.fn.checkbox=function(t){if("string"==typeof t)if("check"==t)e(this).addClass("checked");else if("uncheck"==t)e(this).removeClass("checked");else if("isChecked"==t)return e(this).hasClass("checked")},e.fn.checkboxall=function(t){var n=[],i=e(this),o=void 0===t?{}:t;e(this).off().on("click",function(t){var a;(a=e(this)).hasClass("checked")?a.removeClass("checked"):a.addClass("checked"),n=[],i.each(function(){e(this).hasClass("checked")&&n.push(e(this).attr("po-data"))}),"function"==typeof o.change&&o.change(n)})},e.fn.radio=function(t){var n="number"==typeof t.index?t.index:0;function i(t){e(".po-radio[name="+t.attr("name")+"]").removeClass("is-checked"),t.addClass("is-checked")}i(e(this).eq(n)),e(this).off().on("click",function(n){n.stopPropagation(),n.preventDefault(),i(e(this)),"function"==typeof t.change&&t.change(e(this).index(),e(this).attr("po-data"))})},e.fn.switch=function(t){var n=void 0!==t.size?t.size:"default",i=void 0!==t.firstColor?t.firstColor:"#dcdfe6",o=void 0!==t.secondColor?t.secondColor:"#62b979",a=void 0!==t.status?t.status:"off";"mini"===n&&e(this).addClass("size-mini"),"on"===a&&e(this).addClass("is-checked"),e(this).off().on("click",function(n){n.stopPropagation(),n.preventDefault();var a=e(this),r=e(this).hasClass("is-checked")?"on":"off";"on"==r?(a.removeClass("is-checked"),a.children(".po-switch-core").css({background:i,borderColor:i})):(a.addClass("is-checked"),a.children(".po-switch-core").css({background:o,borderColor:o})),"function"==typeof t.change&&t.change("on"!==r)})},e.fn.popconfirm=function(t){var n=t.width||260,i=null;function o(){e("#po-popover").remove(),e(document).off("mousewheel.popover")}e(this).off("click").on("click",function(r){return i=e(r.target),function(r,s,l){e("#po-popover").length>0&&o();var c=r.left+s/2-n/2,d=r.top+l+10,u="";u+='<div id="po-popover" class="po-popover po-popper triangle-default turn-up" style="width:'+n+"px;top: "+d+"px; left: "+c+'px;">',u+='<div class="po-popconfirm">',u+='<div class="po-popconfirm__main">',u+='<i class="po-popconfirm__icon po-icon-question" style="color: rgb(255, 153, 0);"></i>',u+=t.title,u+="</div>",u+='<div class="po-popconfirm__action">',u+='<div class="po-button default" _btnevt="cancel" style="margin-right: 16px;">'+a.default.t("js.Cancel")+"</div>",u+='<div class="po-button primary" _btnevt="success">'+a.default.t("js.Confirm")+"</div>",u+="</div>",u+="</div>";var p,h=e(u+="</div>");e("body").append(h),p=h,e("body").off("click.popover").on("click.popover",function(){o(),"function"==typeof t.cancel&&t.cancel()}),e(document).on("mousewheel.popover",function(e){o(),"function"==typeof t.cancel&&t.cancel()}),p.find(".po-button").off("click.popover").on("click.popover",function(n){var a=e(this).attr("_btnevt");"function"==typeof t[a]&&t[a](i),o()}),function(t,i,o){var a=e(window).width(),r=e(window).height();if(t.offset().left+n>a-32){var s=26,l=a-(i.left+o)-s;l<10&&(l=10),t.css({position:"fixed",left:"initial",right:l+"px"}),t.addClass("triangle-right")}if(t.offset().left<32){s=26;var c=i.left-s;c<10&&(c=10),t.css({position:"fixed",left:c+"px"}),t.addClass("triangle-left")}var d=t.height();if(t.offset().top+d>r){var u=r-d;t.css({top:u})}}(h,r,s)}(e(this).offset(),e(this).outerWidth(),e(this).outerHeight()),"function"==typeof t.onClick&&t.onClick(r),!1})},e.fn.searchInput=function(t){if(t){var n=e(this),i="";t.maxLength&&(i='maxlength="'+t.maxLength+'"'),n.append('<span class="search-icon po-diagraming-icons">&#xe8da;</span> <input class="po-input" type="text" placeholder="'+a.default.t("js.Please_enter_search_content")+'" '+i+">"),"function"==typeof t.search&&n.children(".po-input").off("blur keydown input").on("blur",function(){o.Util.filterXss(e.trim(e(this).val()))}).on("keydown",function(n){if(n.stopPropagation(),"13"==n.keyCode){var i=o.Util.filterXss(e.trim(e(this).val()));t.search(i)}}).on("input",function(){o.Util.filterXss(e.trim(e(this).val())).length>0?0==n.children(".search-clear-icon").length&&n.append('<span class="search-clear-icon po-diagraming-icons">&#xe6c8;</span>'):(n.children(".search-clear-icon").remove(),t.empty())}),n.on("mousedown",function(i){if(e(i.target).hasClass("search-clear-icon"))n.children(".po-input").val(""),n.children(".search-clear-icon").remove(),"function"==typeof t.empty&&(t.empty(),n.children(".po-input").focus());else if(e(i.target).hasClass("search-icon")){var a=o.Util.filterXss(e.trim(n.children(".po-input").val()));t.search(a)}})}},e.fn.spinner=function(t){var i=e(this);if("string"==typeof t){if("getValue"==t){var o=i.find("input").val();return parseInt(o)}if("setValue"==t)i.find("input").val(arguments[1]),i.attr("old",arguments[1]);else if("setOptions"==t){var a=arguments[1];void 0!==a.min&&i.attr("min",a.min),void 0!==a.max&&i.attr("max",a.max)}else"disable"==t?(i.addClass("disabled"),i.parent(".po-spinner-group-inside").addClass("disabled")):"enable"==t&&(i.removeClass("disabled"),i.parent(".po-spinner-group-inside").removeClass("disabled"));return e(this)}i.addClass("po-spinner"),i.html("<div class='po-spinner-input'><input/></div><div class='po-spinner-buttons'><div class='po-spinner-up'></div><div class='po-spinner-down'></div></div>"),void 0!==(t=e.extend({step:1,unit:"",min:0,max:2e4},t)).min&&i.attr("min",t.min),void 0!==t.max&&i.attr("max",t.max),i.css("width",t.width);var r=i.children(".po-spinner-input").find("input");i.spinner("setValue",t.min+t.unit),i.find(".po-spinner-up").bind("click",function(){if(!i.button("isDisabled")){var e=i.spinner("getValue")+t.step;n(i,e,t)}}),i.find(".po-spinner-down").bind("click",function(){if(!i.button("isDisabled")){var e=i.spinner("getValue")-t.step;n(i,e,t)}}),r.bind("keydown",function(o){if(o.stopPropagation(),13==o.keyCode){var a=parseInt(e(this).val());if(isNaN(a))return t.min;n(i,a,t)}else 38==o.keyCode?(i.find(".po-spinner-up").trigger("click"),r.focus()):40==o.keyCode&&(i.find(".po-spinner-down").trigger("click"),r.focus())}).bind("focus",function(t){e(this).select(),e(this).bind("mouseup",function(t){t.preventDefault(),e(this).unbind("mouseup")});var n=e(this).parent().parent(),i=n.parent(".po-spinner-group-inside");n.hasClass("active")||(n.addClass("active inset"),i.addClass("active inset"))}).bind("blur",function(o){var a=e(this).parent().parent(),r=a.parent(".po-spinner-group-inside");a.hasClass("inset")&&(a.removeClass("active inset"),r.removeClass("active inset"));var s=parseInt(e(this).val());if(isNaN(s))return t.min;n(i,s,t)})},e.fn.button=function(t){if("string"==typeof t){if("disable"==t)e(this).addClass("disabled"),e(this).find("input").attr("disabled",!0),e(this).prev(".label").addClass("disabled"),e(this).parent(".po-tool-group").length>0&&e(this).parent(".po-tool-group").prev(".label").addClass("disabled");else if("enable"==t)e(this).removeClass("disabled"),e(this).find("input").attr("disabled",!1),e(this).prev(".label").removeClass("disabled"),e(this).parent(".po-tool-group").length>0&&e(this).parent(".po-tool-group").prev(".label").removeClass("disabled");else{if("isDisabled"==t)return e(this).hasClass("disabled");if("isSelected"==t)return e(this).hasClass("selected");if("unselect"==t)e(this).removeClass("selected");else if("select"==t)e(this).addClass("selected");else if("show"==t)e(this).removeClass("hide");else if("hide"==t)e(this).addClass("hide");else if("setText"==t)e(this).children(".text-content").html(arguments[1]);else if("setColor"==t){var n="none";"transparent"==arguments[1]?(n="0 0 0 1px #e3e6e9",e(this).find(".po-tool-button-color,.color_line").css({"background-color":arguments[1]})):arguments[1]&&0==arguments[1].indexOf("#")?(e(this).find(".po-tool-button-color,.color_line").css("background-color",arguments[1]),"#fff"!=arguments[1].toLowerCase()&&"#ffffff"!=arguments[1].toLowerCase()||(n="0 0 0 1px #e3e6e9")):(e(this).find(".po-tool-button-color,.color_line").css("background-color","rgb("+arguments[1]+")"),"255,255,255"==arguments[1]&&(n="0 0 0 1px #e3e6e9")),e(this).children(".po-tool-button-color").css({"box-shadow":n})}else{if("getColor"==t)return e(this).find(".po-tool-button-color,.color_line").css("background-color").replace(/\s/g,"").replace(/[^\d,\.]/g,"");if("setBackColor"==t){var i="#FFF";arguments[1]&&(i="transparent"==arguments[1]||0==arguments[1].indexOf("#")?arguments[1]:"rgb("+arguments[1]+")"),e(this).css({color:i})}else if("getBackColor"==t)return e(this).css("color").replace(/\s/g,"").replace(/[^\d,\.]/g,"")}}return e(this)}var o=e(this);o.off("click"),o.off("mousedown"),t.onClick&&o.on("click",function(n){e(this).button("isDisabled")||t.onClick(n,e(this))}),t.onMousedown&&o.on("mousedown",function(e){o.button("isDisabled")||(t.onMousedown(e,o),e.stopPropagation())})},e.fn.colorButton=function(t){var n=e(this),i=n.find(".color").length>0?n.find(".color"):n;if("string"!=typeof t)n.unbind("click").bind("click",function(i){if(!n.button("isDisabled")){t.onClick&&t.onClick(),i.stopPropagation();var o=e.extend({},t);o.target=n,o.onSelect=function(e){n.colorButton("setColor",e),t.onSelect&&t.onSelect(e)};var a=(e(this).hasClass("po-tool-color-button")?e(this):e(this).find(".po-tool-color-button")).css("background-color");a=a.replace(/[^\d,\.]/g,""),o.color=a,o.trans=!(void 0!==t.trans&&!t.trans),e.colorpicker(o)}});else if("setColor"==t)"transparent"==arguments[1]?i.css({"background-color":"transparent","background-image":"url("+staticBasePath+"/assets/images/noFill.svg)","background-size":"100% 100%"}):!arguments[1]||0!=arguments[1].indexOf("#")&&0!=arguments[1].indexOf("rgb")?(i.css("background-color","rgb("+arguments[1]+")"),i.css("background-image","")):(i.css("background-color",arguments[1]),i.css("background-image",""));else{if("getRgbColor"==t)return o.Util.getHexColor(i.css("background-color")).rgb;if("getHexColor"==t)return o.Util.getHexColor(i.css("background-color")).hex}},e.fn.colorInput=function(t){var n=e(this);"string"!=typeof t?(n.before("<span style='padding-left: 4px; color: #A6B9CD'>#</span>").css("padding-left","4px"),n.off().on("blur.colorInput",function(i){i.stopPropagation();var a=e.extend({},t);if("function"==typeof a.onChange)if("hex"==a.type)a.onChange("#"+n.val());else{var r=o.Util.getRgbFromHex(n.val());e.isEmptyObject(r)||a.onChange(r.r+","+r.g+","+r.b)}}).on("keydown",function(e){e.stopPropagation(),13==e.keyCode&&n.blur()})):"setColor"==t&&("transparent"==arguments[1]?n.val(a.default.t("NO_Fill")):0==arguments[1].indexOf("#")?n.val(arguments[1].substring(1,arguments[1].length)):n.val(o.Util.getHexColor("rgb("+arguments[1]+")").hex))};var i=null;e.fn.dropdown=function(t){var n=e(this);if(n.find(".po-selected-icon").remove(),n.find(".po-menu-item-box.active").removeClass("active"),"string"!=typeof t)if(null==i){o.Util.isMac()&&n.find(".po-menu-hotkey").each(function(t,n){e(n).html(e(n).html().replace(/Ctrl/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe795;</span>").replace(/Alt/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe9e0;</span>"))});var r=t.target;i={target:r,menu:n,zoom:t.zoom?t.zoom:1};var s=r.offset();r.addClass("selected"),r.attr("dropdown",!0),n.find("li").each(function(t,n){r.find(".text-content").text().trim().length>0&&r.find(".text-content").text().trim()==e(n).find(".text").text().trim()&&e(n).menuitem("select")}),n.hasClass("auto-target")&&n.width(r.outerWidth()),t.width&&n.width(t.width),n.show(),n.addClass("po-dropdown-menu"),e(".po-hover-tip").hide();var l=s.left,c=s.top+5+r.outerHeight()*i.zoom;t.position&&(t.position.includes("center")?l=s.left+r.outerWidth()*i.zoom/2-n.outerWidth()/2:t.position.includes("right")&&(l=s.left+r.outerWidth()*i.zoom-n.outerWidth()),t.position.includes("top")&&(c=s.top-n.outerHeight()-r.outerHeight()*i.zoom+20));var d=n.find(".po-menu").length,u=t.maxHeightWithWindow?t.maxHeightWithWindow:"450px";e(window).height()<300?u="188px":e(window).height()<500&&(u="376px"),d||n.hasClass("color_picker")||n.css({maxHeight:u,overflowY:"auto"}),l<2?l=2:l+n.outerWidth()>e(window).width()-2&&(l=e(window).width()-n.outerWidth()-2),!d&&n.outerHeight()+10>e(window).height()?(c=5,n.css({maxHeight:e(window).height()-10-(n.outerHeight()-n.height())+"px",overflowY:"auto"})):c+n.outerHeight()>e(window).height()&&(c=e(window).height()-n.outerHeight()-5),n.css({top:c,left:l,zIndex:12}),void 0!==t.zindex&&n.css("z-index",t.zindex);var p=n.find(".extend-menu"),h=n.offset();p.css("left",n.outerWidth()),h.left+n.outerWidth()+p.outerWidth()>e(window).width()-2&&p.css("left",-1*p.outerWidth()),n.unbind("mousedown").bind("mousedown",function(e){e.stopPropagation()});var m=t.isSelect;void 0!==t.bind&&1!=t.bind||(n.find("li:not(.devider,.menu_text)").off("click").on("click",function(){var i=e(this);if("wps"==window.source){var o,s,l=null===(o=null===(s=editorGlobal.pageInfo)||void 0===s||null===(s=s.user_acl)||void 0===s?void 0:s.download)||void 0===o||o;if("menu-item-export"==i.attr("id")&&!l)return void e.toast({type:"error",text:a.default.t("js.No_save_export_permissions"),name:"user_acl_download"})}i.menuitem("isDisabled")||i.hasClass("extend")||i.menuitem("isSelected")||!t.onSelect||(m&&r.find(".text-content").text(i.find(".text").text()),!1!==t.onSelect(i)&&n.dropdown("close"))}),t.stopPropagation&&n.find("li:not(.devider,.menu_text)").off("mousedown").on("mousedown",function(e){e.preventDefault(),e.stopPropagation()})),n.off("mousedown touchend").on("mousedown touchend",function(e){e.stopPropagation()}).off("mouseup touchstar").on("mouseup touchstar",function(e){e.stopPropagation()}),e(document).off("mousedown.ui_dropdown touchend.ui_dropdown").on("mousedown.ui_dropdown touchend.ui_dropdown",function(i){e(i.target).parents(".color_picker").length||e(i.target).hasClass("color_picker")||e(i.target).parents("[dropdown=true]").length>0||e(i.target).attr("dropdown")||(n.dropdown("close"),t.onClose&&t.onClose())}),e(document).off("mouseup.ui_dropdown touchstar.mind-dropdown").on("mouseup.ui_dropdown touchstar.mind-dropdown",function(i){e(i.target).parents(".color_picker").length||e(i.target).hasClass("color_picker")||e(i.target).parents("[dropdown=true]").length>0||e(i.target).attr("dropdown")||(n.dropdown("close"),t.onClose&&t.onClose())})}else i.menu.dropdown("close");else"close"==t?(n.hide(),null!=i&&(i.target.removeClass("selected"),i.target.removeAttr("dropdown")),e(document).unbind("mousedown.ui_dropdown"),i=null):"select"==t&&arguments[1].children(".po-menu-item-box").prepend("<div class='po-selected-icon po-diagraming-icons'>&#xe6c2a;</div>")},e.fn.menuitem=function(t){var n=e(this);if("string"==typeof t)if("disable"==t)n.addClass("disabled");else if("enable"==t)n.removeClass("disabled");else{if("isDisabled"==t)return n.hasClass("disabled");if("isSelected"==t)return n.children(".po-menu-item-box").children(".po-selected-icon").length>0||n.children(".po-menu-item-box.active").length>0;if("unselect"==t)return n.children(".po-menu-item-box").children(".po-selected-icon").remove();if("select"==t&&!n.menuitem("isSelected"))return n.parent(".po-menu-grid").length>0||n.parent(".po-menu-group-content").length>0?n.children(".po-menu-item-box").addClass("active"):n.children(".po-menu-item-box").prepend("<div class='po-selected-icon po-diagraming-icons'>&#xe6c2a;</div>")}},e.colorpicker=function(t){var n=e(".color_picker"),i=(a.default.t("js.System_color"),{config:{colorData:{},colorBase:[{color:"transparent"},{color:"rgba(255,255,255,1)"},{color:"rgba(127,139,152,1)"},{color:"rgba(0,0,0,1)"},{color:"rgba(231,79,76,1)"},{color:"rgba(237,151,69,1)"},{color:"rgba(224,196,49,1)"},{color:"rgba(123,209,68,1)"},{color:"rgba(rgba(76,203,205,1))"},{color:"rgba(70,105,234,1)"},{color:"rgba(232,85,164,1)"}]},data:{hsb:{h:0,s:100,b:100},rgba:{r:0,g:0,b:0,a:1}},init:function(){this.config.colorData[a.default.t("js.System_color")]=[{color:"rgba(239,236,235,1)"},{color:"rgba(242,242,242,1)"},{color:"rgba(231,235,237,1)"},{color:"rgba(250,220,219,1)"},{color:"rgba(251,234,218,1)"},{color:"rgba(252,249,234,1)"},{color:"rgba(229,246,218,1)"},{color:"rgba(219,245,245,1)"},{color:"rgba(210,214,249,1)"},{color:"rgba(250,221,237,1)"},{color:"rgba(222,217,215,1)"},{color:"rgba(217,217,217,1)"},{color:"rgba(224,224,224,1)"},{color:"rgba(245,185,183,1)"},{color:"rgba(248,213,181,1)"},{color:"rgba(246,237,193,1)"},{color:"rgba(202,237,180,1)"},{color:"rgba(183,234,235,1)"},{color:"rgba(166,174,243,1)"},{color:"rgba(246,187,219,1)"},{color:"rgba(190,179,175,1)"},{color:"rgba(191,191,191,1)"},{color:"rgba(158,158,158,1)"},{color:"rgba(241,149,148,1)"},{color:"rgba(244,193,143,1)"},{color:"rgba(241,228,162,1)"},{color:"rgba(176,227,143,1)"},{color:"rgba(148,224,225,1)"},{color:"rgba(121,133,236,1)"},{color:"rgba(241,153,200,1)"},{color:"rgba(157,140,136,1)"},{color:"rgba(166,166,166,1)"},{color:"rgba(97,97,97,1)"},{color:"rgba(236,114,112,1)"},{color:"rgba(241,172,106,1)"},{color:"rgba(233,214,111,1)"},{color:"rgba(149,218,105,1)"},{color:"rgba(112,213,215,1)"},{color:"rgba(91,121,232,1)"},{color:"rgba(237,119,182,1)"},{color:"rgba(92,64,56,1)"},{color:"rgba(127,127,127,1)"},{color:"rgba(38,38,38,1)"},{color:"rgba(162,55,53,1)"},{color:"rgba(166,106,48,1)"},{color:"rgba(167,147,44,1)"},{color:"rgba(86,146,48,1)"},{color:"rgba(53,142,144,1)"},{color:"rgba(49,74,164,1)"},{color:"rgba(162,60,115,1)"}],this.config.colorData[a.default.t("js.Morandi")]=[{color:"rgba(241,241,232,1)"},{color:"rgba(236,236,237,1)"},{color:"rgba(243,250,249,1)"},{color:"rgba(244,240,234,1)"},{color:"rgba(249,250,238,1)"},{color:"rgba(248,249,245,1)"},{color:"rgba(245,233,237,1)"},{color:"rgba(252,231,235,1)"},{color:"rgba(249,238,225,1)"},{color:"rgba(254,245,239,1)"},{color:"rgba(227,226,209,1)"},{color:"rgba(217,218,219,1)"},{color:"rgba(232,245,244,1)"},{color:"rgba(233,225,213,1)"},{color:"rgba(243,246,221,1)"},{color:"rgba(240,243,236,1)"},{color:"rgba(235,210,220,1)"},{color:"rgba(249,207,215,1)"},{color:"rgba(243,221,195,1)"},{color:"rgba(253,235,223,1)"},{color:"rgba(214,212,186,1)"},{color:"rgba(197,199,202,1)"},{color:"rgba(220,239,238,1)"},{color:"rgba(221,209,193,1)"},{color:"rgba(238,241,203,1)"},{color:"rgba(233,236,226,1)"},{color:"rgba(224,188,202,1)"},{color:"rgba(246,182,196,1)"},{color:"rgba(237,204,165,1)"},{color:"rgba(252,226,207,1)"},{color:"rgba(200,197,163,1)"},{color:"rgba(178,181,184,1)"},{color:"rgba(209,234,233,1)"},{color:"rgba(210,194,172,1)"},{color:"rgba(232,237,186,1)"},{color:"rgba(225,230,217,1)"},{color:"rgba(214,165,185,1)"},{color:"rgba(243,158,176,1)"},{color:"rgba(231,187,135,1)"},{color:"rgba(251,216,191,1)"},{color:"rgba(149,146,112,1)"},{color:"rgba(127,130,133,1)"},{color:"rgba(158,183,182,1)"},{color:"rgba(159,143,121,1)"},{color:"rgba(181,186,135,1)"},{color:"rgba(174,179,166,1)"},{color:"rgba(163,114,134,1)"},{color:"rgba(192,107,125,1)"},{color:"rgba(180,136,84,1)"},{color:"rgba(200,165,140,1)"}],this.config.colorData[a.default.t("js.Chinese_style")]=[{color:"rgba(134,107,80,1)"},{color:"rgba(112,81,56,1)"},{color:"rgba(90,86,69,1)"},{color:"rgba(92,55,25,1)"},{color:"rgba(119,85,80,1)"},{color:"rgba(90,18,22,1)"},{color:"rgba(176,145,62,1)"},{color:"rgba(150,77,34,1)"},{color:"rgba(226,131,66,1)"},{color:"rgba(195,121,64,1)"},{color:"rgba(44,35,5,1)"},{color:"rgba(100,88,34,1)"},{color:"rgba(107,94,76,1)"},{color:"rgba(85,105,128,1)"},{color:"rgba(112,136,125,1)"},{color:"rgba(91,132,131,1)"},{color:"rgba(151,95,66,1)"},{color:"rgba(162,130,94,1)"},{color:"rgba(221,171,76,1)"},{color:"rgba(145,164,90,1)"},{color:"rgba(77,82,85,1)"},{color:"rgba(88,125,140,1)"},{color:"rgba(115,124,123,1)"},{color:"rgba(177,173,148,1)"},{color:"rgba(173,180,169,1)"},{color:"rgba(70,126,125,1)"},{color:"rgba(148,182,142,1)"},{color:"rgba(137,66,118,1)"},{color:"rgba(195,96,119,1)"},{color:"rgba(213,148,130,1)"},{color:"rgba(20,74,116,1)"},{color:"rgba(73,92,105,1)"},{color:"rgba(49,70,86,1)"},{color:"rgba(19,72,87,1)"},{color:"rgba(126,132,137,1)"},{color:"rgba(143,146,127,1)"},{color:"rgba(178,187,190,1)"},{color:"rgba(103,144,124,1)"},{color:"rgba(83,146,113,1)"},{color:"rgba(210,177,22,1)"},{color:"rgba(50,47,59,1)"},{color:"rgba(82,82,136,1)"},{color:"rgba(128,118,163,1)"},{color:"rgba(26,148,188,1)"},{color:"rgba(93,49,49,1)"},{color:"rgba(49,74,67,1)"},{color:"rgba(193,101,26,1)"},{color:"rgba(222,158,68,1)"},{color:"rgba(210,177,22,1)"},{color:"rgba(210,217,122,1)"}],this.config.colorData[a.default.t("js.Pantone_color")]=[{color:"rgba(227,240,225,1)"},{color:"rgba(238,231,241,1)"},{color:"rgba(228,213,216,1)"},{color:"rgba(253,248,220,1)"},{color:"rgba(223,227,245,1)"},{color:"rgba(255,241,213,1)"},{color:"rgba(223,229,219,1)"},{color:"rgba(226,239,245,1)"},{color:"rgba(222,230,230,1)"},{color:"rgba(249,221,214,1)"},{color:"rgba(199,225,195,1)"},{color:"rgba(222,208,228,1)"},{color:"rgba(202,170,177,1)"},{color:"rgba(251,241,184,1)"},{color:"rgba(191,199,234,1)"},{color:"rgba(254,226,171,1)"},{color:"rgba(191,202,182,1)"},{color:"rgba(198,223,234,1)"},{color:"rgba(189,206,205,1)"},{color:"rgba(243,187,173,1)"},{color:"rgba(171,209,166,1)"},{color:"rgba(205,184,214,1)"},{color:"rgba(175,128,138,1)"},{color:"rgba(248,235,149,1)"},{color:"rgba(158,170,224,1)"},{color:"rgba(254,212,128,1)"},{color:"rgba(160,176,146,1)"},{color:"rgba(169,206,224,1)"},{color:"rgba(157,181,181,1)"},{color:"rgba(237,153,132,1)"},{color:"rgba(143,194,136,1)"},{color:"rgba(189,161,201,1)"},{color:"rgba(149,85,99,1)"},{color:"rgba(246,228,113,1)"},{color:"rgba(126,142,213,1)"},{color:"rgba(253,197,86,1)"},{color:"rgba(128,149,109,1)"},{color:"rgba(141,190,213,1)"},{color:"rgba(124,157,156,1)"},{color:"rgba(231,119,91,1)"},{color:"rgba(92,143,85,1)"},{color:"rgba(138,110,150,1)"},{color:"rgba(98,34,48,1)"},{color:"rgba(195,177,62,1)"},{color:"rgba(75,91,162,1)"},{color:"rgba(202,146,35,1)"},{color:"rgba(77,98,58,1)"},{color:"rgba(90,139,162,1)"},{color:"rgba(73,106,105,1)"},{color:"rgba(180,68,40,1)"}],0==n.find(".color_change>.select").length&&(this.renderGroupColor(a.default.t("js.System_color"),this.config.colorData[a.default.t("js.System_color")]),n.find(".color_change div[type=select]").addClass("select")),0==n.find(".color_base>div").length&&this.renderGroupColor("colorBase",this.config.colorBase),this.setHistory();var i=e.extend({type:"rgb"},t,{bind:!1});if(null==i.dropdown||i.dropdown)n.dropdown(i),n.off("mouseup");else{var o=t.target,r=o.offset();n.css({top:r.top,left:r.left+o.outerWidth()+1}).show()}if("transparent"==t.color||"0,0,0,0"==t.color)var s="FFFFFF";else t.color?(this.data.rgba=this.strToRgba(t.color),s=this.rgbToHex(this.data.rgba)):s="FFFFFF";n.find(".input_hex").val(s),this.setColorByInput("input_hex",s),1==t.trans?n.removeClass("alpha_disabled"):n.addClass("alpha_disabled"),(!window.EyeDropper||editorGlobal.deviceType&&editorGlobal.deviceType.includes("wpsclient"))&&n.find(".color_options .color_draw").hide(),n.children(".color_extend").remove(),t.extend&&n.append("<div class='color_extend'>"+t.extend+"</div>"),e("body").width()-n.offset().left-n.width()<180?n.find(".more_panel").addClass("left"):n.find(".more_panel").removeClass("left"),e("#color_menu").html("").hide(),Object.keys(this.config.colorData).map(function(t){e("#color_menu").append('<li class="po-menu-item" ac="'+t+'"><div class="po-menu-item-box"><span class="text">'+t+"</span></div></li>")}),this.domEvent()},domEvent:function(){var o=this;n.find(".color_change>div").off("mousedown").on("mousedown",function(t){t.stopPropagation(),t.preventDefault();var n=e(this).children(".text-content").text().trim();e("#color_menu").show().find(".po-selected-icon").remove(),e("#color_menu [ac='"+n+"']").menuitem("select")}),e("#color_menu li").off("mousedown").on("mousedown",function(t){t.stopPropagation(),t.preventDefault();var n=e(this).attr("ac").trim();o.renderGroupColor(n,o.config.colorData[n]),e("#color_menu").siblings(".text-content").text(n)}).off("mouseup").on("mouseup",function(){e("#color_menu").hide()}),n.find(".color_transparent").off("click").on("click",function(){t.onSelect&&t.onSelect("transparent"),i.close()}),n.find(".color_group,.color_base,.history_color").off("click.colorPicker").on("click.colorPicker",".color_item",function(){var n=e(this).css("color"),a=e(this).attr("name")||"";e(this).hasClass("transparent")&&t.onSelect?t.onSelect("transparent"):o.selectColor(n,a),i.close()}),n.find(".color_options .color_draw").off("click").on("click",function(){o.colorDraw.init()}),n.find(".color_edit .input_change").off("click").on("click",function(){e(this).parent().css("display","none").siblings().css("display","flex")});var a=!1;n.find(".color_panel,.hue_horizontal,.alpha_horizontal").off("mousedown.colorPicker").on("mousedown.colorPicker",function(t){a=!0;var n=e(this),i=n.offset().left,r=n.offset().top;o.setPickerPin(n,t.pageX-i,t.pageY-r),e("body").off("mousemove.colorPicker").on("mousemove.colorPicker",function(e){e.preventDefault(),e.stopPropagation(),o.setPickerPin(n,e.pageX-i,e.pageY-r)}),e("body").off("mouseup.colorPicker").on("mouseup.colorPicker",function(t){t.preventDefault(),t.stopPropagation(),o.selectColor(o.data.rgba),e("body").off("mousemove.colorPicker"),e("body").off("mouseup.colorPicker"),a=!1})});var r="";n.find(".input_box input").off("focus.colorPicker").on("focus.colorPicker",function(t){e(this).select(),r=e(this).val()}).off("mousedown.colorPicker").on("mousedown.colorPicker",function(e){e.stopPropagation()}),n.find(".input_box input").off("keydown.colorPicker").on("keydown.colorPicker",function(e){e.stopPropagation(),13==e.keyCode&&i.close()}),n.find(".input_box input").off("paste.colorPicker").on("paste.colorPicker",function(e){e.stopPropagation()}),n.find(".input_box input").off("input.colorPicker").on("input.colorPicker",function(t){t.stopPropagation();var n=e(this).attr("class"),i=e(this).val();if("input_hex"==n)(a=i.replace(/[^\da-fA-F]/g,""))!=i&&(i=a,e(this).val(a));else if("input_a"==n)(a=i.replace(/[^\d]/g,""))-100>0&&(a="100"),a+"%"!=i&&(i=a+"%",e(this).val(a));else{var a;(a=i.replace(/[^\d]/g,""))-255>0&&(a="255"),a!=i&&(i=a,e(this).val(a))}r!=i&&(r=i,o.setColorByInput(n,i),o.selectColor(o.data.rgba))}),null==t.dropdown||t.dropdown?n.off("mouseenter").off("mouseleave"):(n.off("mouseenter").on("mouseenter",function(e){t.target.addClass("selected")}),n.off("mouseleave").on("mouseleave",function(i){e(".po-hover-tip").is(":visible")||(t.target.removeClass("selected"),n.hide())})),n.off("mousedown").on("mousedown",function(n){t.stopPropagation&&(n.preventDefault(),n.stopPropagation()),e("#color_menu").hide()}).off("mouseup").on("mouseup",function(e){t.stopPropagation&&!a&&(e.preventDefault(),e.stopPropagation())})},close:function(){null==t.dropdown||t.dropdown?n.dropdown("close"):(n.hide(),t.target.removeClass("selected"),t.target.parent().dropdown("close")),e(".po-hover-tip").hide()},setHistory:function(e,t){var n=localStorage.getItem("recent_used_color");try{n=JSON.parse(n)||[]}catch(e){n=[]}if(e){var i={color:e,name:t||"",time:(new Date).getTime()};20==(n=n.filter(function(t){return t.color!=e})).length&&n.pop(),n.unshift(i),localStorage.setItem("recent_used_color",JSON.stringify(n))}if(n.length<10){var o=Array(10-n.length).fill({disabled:!0});n=n.concat(o)}this.renderGroupColor("history",n.slice(0,10))},selectColor:function(e,n){if("string"==typeof e&&(e=this.strToRgba(e)),t.onSelect){var i=this.rgbaToStr(e);this.setHistory(i,n),"hex"==t.type?t.onSelect("#"+this.rgbToHex(e)):t.onSelect(e.r+","+e.g+","+e.b)}},renderGroupColor:function(e,t){var i=this;if(e&&t){var o="";t.map(function(e){var t=e.name||"";if(e.disabled)o+='<div class="color_item disabled" style="color: rgba(255,255,255,1);background: rgba(255,255,255,1);border-color: #E9EDF2;"><span></span></div>';else if("transparent"==e.color)o+='<div class="color_item transparent" name="'+t+'" original-title="'+t+'" style="color: transparent;background: rgba(255,255,255,1);border-color: #E9EDF2;"><span></span></div>';else{var n=i.strToRgba(e.color),a=i.rgbaToStr(n),r="#"+i.rgbToHex(n),s=r,l="",c="";1!=n.a&&(s=Math.round(100*n.a)+"% "+s,l="alpha"),t&&(s=e.name+" "+s),-1!=a.indexOf("255,255,255")&&(c="border-color:#E9EDF2;"),o+='<div class="color_item '+l+'" name="'+t+'" original-title="'+s+'" style="color:'+a+";background:"+r+";"+c+'"><span></span></div>'}}),"history"==e?n.find(".history_color").html(o):"colorBase"==e?n.find(".color_base").html(o):n.find(".color_group").html(o)}},setPickerPin:function(e,t,n){var i=this.data.hsb,o=this.data.rgba,a=e.width(),r=e.height();t=Math.max(0,Math.min(t,a)),e.hasClass("hue_horizontal")?(n="50%",i.h=Math.round(360*t/a),this.setPancelColor(i.h)):e.hasClass("alpha_horizontal")?(n="50%",o.a=Math.round(100*(1-t/a))/100):(n=Math.max(0,Math.min(n,r)),i.s=Math.round(100*t/a),i.b=Math.round(100*(r-n)/r)),e.find(".picker_pin").css({left:t,top:n}),this.setShowColor(),this.setPickerColor(),this.setValue(o)},setPancelColor:function(e){var t=this.hsbToRgb({h:e,s:100,b:100});n.find(".color_panel").css("background","rgba("+t.r+","+t.g+","+t.b+",1)")},setShowColor:function(){var t=this.data.hsb,i=this.data.rgba,o=this.hsbToRgb(t);e.extend(i,o),n.find(".color_show_now").css("color",this.rgbaToStr(i))},setPickerColor:function(){var e=this.data.hsb,t=this.data.rgba,i=this.rgbaToStr(this.hsbToRgb(e)),o=this.rgbaToStr(this.hsbToRgb({h:e.h,s:100,b:100})),a=this.rgbaToStr({r:0,g:0,b:0,a:t.a});n.find(".color_panel .picker_pin").css({color:i}),n.find(".hue_horizontal .picker_pin").css({color:o}),n.find(".alpha_horizontal .picker_pin").css({color:a})},setValue:function(e,t){"hex"!=t&&n.find(".input_hex").val(this.rgbToHex(e)),"rgb"!=t&&(n.find(".input_r").val(e.r),n.find(".input_g").val(e.g),n.find(".input_b").val(e.b)),"a"!=t&&n.find(".input_a").val(100*e.a+"%")},setColorByInput:function(e,t){var i=this.data;switch(e){case"input_hex":3==t.length?(t="#"+t[0]+t[0]+t[1]+t[1]+t[2]+t[2],i.hsb=this.hexToHsb(t)):6==t.length&&(i.hsb=this.hexToHsb(t)),e="hex";break;case"input_a":var o=n.find(".input_a").val();i.rgba.a=""==o?1:parseInt(o)/100,e="a";break;default:var a=n.find(".input_r").val(),r=n.find(".input_g").val(),s=n.find(".input_b").val(),l={r:a?parseInt(a):0,g:r?parseInt(r):0,b:s?parseInt(s):0};i.hsb=this.rgbToHsb(l),e="rgb"}this.setPancelColor(i.hsb.h),this.setShowColor(),this.setPickerColor(),this.setValue(i.rgba,e),this.changeViewByHsb()},changeViewByHsb:function(){var e=this.data.hsb,t=this.data.rgba,i=n.find(".color_panel"),o=n.find(".hue_horizontal"),a=n.find(".alpha_horizontal"),r=o.width(),s=i.width(),l=i.height();i.find(".picker_pin").css({left:Math.round(e.s*s/100),top:Math.round((100-e.b)*l/100)}),o.find(".picker_pin").css({left:Math.round(e.h/360*r)}),a.find(".picker_pin").css({left:Math.round((1-t.a)*r)})},colorDraw:{config:{canvasScale:2,viewScale:8},init:function(){var t=this;e(".po-hover-tip").hide(),window.EyeDropper?(new EyeDropper).open().then(function(e){var t=e.sRGBHex.replace(/[^\da-fA-F]/g,"").toUpperCase();n.find(".input_box .input_hex").val(t),i.setColorByInput("input_hex",t),i.selectColor(i.data.rgba)}).catch(function(e){}):window.html2canvas?t.canvasGetColor():c.render({js:[staticBasePath+"/assets/js/files/html2canvas.min.js"]},function(){t.canvasGetColor()})},canvasGetColor:function(){var t=this,n=e('<div id="color_picker_screen" class="color_picker_screen_loading"></div>').appendTo("body");e(document).find("svg").each(function(){var t=e(this).attr("width"),n=e(this).attr("height");t&&e(this).attr("old-width",t),n&&e(this).attr("old-height",n);var i=e(this).width(),o=e(this).height();e(this).attr("width",i).attr("height",o)}),html2canvas(document.body,{useCORS:!0,backgroundColor:"transparent",scale:t.config.canvasScale}).then(function(i){e(document).find("svg").each(function(){var t=e(this).attr("old-width"),n=e(this).attr("old-height");t?e(this).attr("width",t).removeAttr("old-width"):e(this).removeAttr("width"),n?e(this).attr("height",n).removeAttr("old-height"):e(this).removeAttr("height")}),n.append('<div class="magnifier"><canvas></canvas></div><div class="magnifier_tip"></div>'),n.append(i),n.removeClass("color_picker_screen_loading"),t.domEvent()})},domEvent:function(){var t=this.config.viewScale,o=this.config.canvasScale,a={r:255,g:255,b:255,a:1},r=e("#color_picker_screen>canvas")[0].getContext("2d"),s=e("#color_picker_screen .magnifier canvas")[0].getContext("2d"),l=e("#color_picker_screen .magnifier").width(),c=o*l/t;e("#color_picker_screen .magnifier canvas").attr("width",c).attr("height",c);var d=n.find(".color_edit .hex").is(":visible"),u=e("#color_picker_screen").width(),p=e("#color_picker_screen").height(),h=e("#color_picker_screen .magnifier_tip").width(),m=e("#color_picker_screen .magnifier_tip").height();e("#color_picker_screen").off("mousemove").on("mousemove",function(t){var n=r.getImageData(o*t.clientX,o*t.clientY,1,1).data;a.r=n[0],a.g=n[1],a.b=n[2];var l=r.getImageData(o*t.clientX-c/2,o*t.clientY-c/2,c,c);s.putImageData(l,0,0),e(this).find(".magnifier").css({left:t.clientX,top:t.clientY}),d?e(this).find(".magnifier_tip").text(i.rgbToHex(a)):e(this).find(".magnifier_tip").text(a.r+" "+a.g+" "+a.b);var f=t.clientX,g=t.clientY+30;f<h/2+5?f=h/2+5:f>u-h/2-5&&(f=u-h/2-5),g>p-m/2-5&&(g=t.clientY-30),e(this).find(".magnifier_tip").css({left:f,top:g})}).off("mousedown").on("mousedown",function(e){if(e.preventDefault(),e.stopPropagation(),1==e.which){var t=i.rgbToHex(a);n.find(".input_box .input_hex").val(t),i.setColorByInput("input_hex",t),i.selectColor(i.data.rgba)}}).off("contextmenu").on("contextmenu",function(e){e.stopPropagation(),e.preventDefault()}).off("mouseup").on("mouseup",function(t){t.preventDefault(),t.stopPropagation(),e(this).remove()}),e(document).off("keyup.colorDraw").on("keyup.colorDraw",function(t){27==t.keyCode&&(e("#color_picker_screen").remove(),e(document).off("keyup.colorDraw"))})}},strToRgba:function(e){var t=e.replace(/[^\d,\.]/g,"").split(",");return 3==t.length&&t.push(1),{r:n(t[0],255),g:n(t[1],255),b:n(t[2],255),a:n(t[3],1)};function n(e,t){return Math.max(0,Math.min(e-0,t))}},rgbaToStr:function(e){return null==e.a&&(e.a=1),"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hsbToRgb:function(e){var t={},n=Math.round(e.h),i=Math.round(255*e.s/100),o=Math.round(255*e.b/100);if(0==i)t.r=t.g=t.b=o;else{var a=o,r=(255-i)*o/255,s=n%60*(a-r)/60;360==n&&(n=0),n<60?(t.r=a,t.b=r,t.g=r+s):n<120?(t.g=a,t.b=r,t.r=a-s):n<180?(t.g=a,t.r=r,t.b=r+s):n<240?(t.b=a,t.r=r,t.g=a-s):n<300?(t.b=a,t.g=r,t.r=r+s):n<360?(t.r=a,t.g=r,t.b=a-s):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},rgbToHex:function(e){var t=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.map(function(e,n){1==e.length&&(t[n]="0"+e)}),t.join("").toUpperCase()},hexToRgb:function(e){return{r:(e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}},hexToHsb:function(e){return this.rgbToHsb(this.hexToRgb(e))},rgbToHsb:function(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),o=i-n;return t.b=i,t.s=0!=i?255*o/i:0,0!=t.s?e.r==i?t.h=(e.g-e.b)/o:e.g==i?t.h=2+(e.b-e.r)/o:t.h=4+(e.r-e.g)/o:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}});i.init()},e.mask=function(t){if(void 0===t&&(t="open"),"open"==t){if(0===e("#po-dlg-mask").length){var n=e("<div id='po-dlg-mask' class='po-dlg-mask' style='display:none'></div>").appendTo("body");n.css({width:e(window).width()+"px",height:e(window).height()+"px",filter:"alpha(opacity=60)"}).show(),e(window).on("resize.mask",function(){n.css({width:e(window).width()+"px",height:e(window).height()+"px"})})}var i=1;e(".po-dialog").each(function(){if(e(this).is(":visible")&&e(this).css("zIndex")){var t=parseInt(e(this).css("zIndex"));t&&t>i&&(i=t)}}),e(".po-dlg-mask").css("zIndex",i-1),l("postMessageFn",{apiName:"yunMask",params:"show"})}else"close"==t&&setTimeout(function(){var t=!0,n=1;e(".po-dialog").each(function(){if(e(this).is(":visible")&&e(this).css("zIndex")){t=!1;var i=parseInt(e(this).css("zIndex"));i&&i>n&&(n=i)}}),t?(e("#po-dlg-mask").remove(),e(window).off("resize.mask"),l("postMessageFn",{apiName:"yunMask",params:"close"})):e(".po-dlg-mask").css("zIndex",n-1)},30)};var r=20;e.fn.dialog=function(t){var n=e(this);if("string"==typeof t)"close"==t&&n.find(".po-dialog-close").trigger("click");else{(t=e.extend({fixed:!0,closable:!0,mask:!0},t))||(t={});var i="";t.title&&(i=t.title),r++,n.css("z-index",r),n.addClass("po-dialog").show();var o=e("<div class='po-dialog-close po-diagraming-icons'>&#xe6b9;</div>").appendTo(n),a=e("<div class='po-dialog-contmask'></div>").appendTo(n);a.css({position:"absolute",display:"none",top:0,left:0,right:0,bottom:0,zIndex:10});var s=n.children(".po-dialog-content");s.length>0&&s.css({top:n.find(".po-dialog-header").outerHeight()||0,bottom:n.find(".po-dialog-footer").outerHeight()||0}),o.bind("click",function(){e(document).off("keyup.confirm"),t.onClose&&t.onClose(),e.mask("close"),n.hide(),n.removeClass("po-dialog").find(".po-dialog-close").remove(),n.css("height",n.attr("dlg-h")),e(window).unbind("resize.dialog"),n.find(".po-dialog-contmask").remove(),r--}),t.closable?o.show():o.hide(),""!=i&&n.prepend("<h2 style='position:absolute; z-index:11;' class='po-dialog-header'>"+i+"</h2>"),t.mask&&e.mask();var l=n.outerHeight(),c=0;editorGlobal.deviceType&&"wpsyun"===editorGlobal.deviceType&&(c=70),e(window).off("resize.dialog").bind("resize.dialog",function(){var i=n.outerWidth(),o=n.outerHeight(),a="scale(1)";t.fixed?(n.css("position","fixed"),e(window).height()<l+40+c&&(a="scale("+(e(window).height()-40-c)/l+")")):(n.css("position","absolute"),e(window).height()<l+40+c&&(a="scale("+(e(window).height()-40-c)/l+")")),e(window).width(),n.css({top:"50%",left:"50%",marginTop:"-"+o/2+"px",marginLeft:"-"+i/2+"px",transform:"scale(1)"==a?"translate(0, 0)":a})}),e(window).trigger("resize.dialog"),n.find(".po-dialog-header").draggable({target:n,moveCbk:function(){a.show()},moveUpCbk:function(){a.hide()}})}return n},e.fn.draggable=function(t){var n=e.extend({target:"default",clone:!1,undrag:"",scroll:!0,start:function(){},drag:function(){},end:function(){}},t);return e(this).off("mousedown.drag").on("mousedown.drag",function(t){e(document).on("selectstart.drag dragstart",function(){return!1});var i=e(this),o="string"==typeof n.target&&"default"==n.target?i:n.target,a=t.pageX,r=t.pageY,s=o.offset().left,l=o.offset().top;n.clone&&(o=i.clone().removeAttr("id").css("position","absolute").offset({left:s,top:l}),"function"==typeof n.clone&&(n.clone.call(o,t),s=1*o.css("left").replace("px",""),l=1*o.css("top").replace("px","")),n.opacity&&o.css("opacity",n.opacity)),e(document).on("mousemove.drag",function(e){i.hasClass("ondrag")||(i.addClass("ondrag"),n.clone&&o.appendTo(i.parent()),n.start.call(i[0],e));var t=e.pageX-a+s,c=e.pageY-r+l;if(n.bounding){var d=n.bounding.offset().left,u=n.bounding.offset().top;t>d&&c>u&&t<d+n.bounding.outerWidth()-o.outerWidth()&&c<u+n.bounding.outerHeight()-o.outerHeight()&&o.offset({left:t,top:c})}else o.offset({left:t,top:c});n.drag.call(i[0],e),n.moveCbk&&n.moveCbk(t,c)}),e(document).on("mouseup.drag",function(t){n.end.call(i[0],t),n.clone&&o.remove(),e(document).off("selectstart.drag dragstart"),e(document).off("mousemove.drag"),e(document).off("mouseup.drag"),e(".drop-hover").length||i.removeClass("ondrag"),n.moveUpCbk&&n.moveUpCbk(t)}),e(this).on("mouseup.drag",function(t){e(document).trigger("mouseup.drag"),e(this).off("mouseup.drag")})}),n.undrag&&e(this).find(n.undrag).off("mousemove.drag").on("mousemove.drag",function(e){e.stopPropagation()}).on("dragstart",function(){return!1}),this},e.fn.progress=function(t){var n=e(this);if("string"!=typeof t)n.html('<div class="po-zoom-out po-tool-button"> <span class="po-diagraming-icons">&#xe6ed;</span> </div><div class="po-progress"><div class="po-progress-inner"></div><div class="po-progress-cursor"></div></div>  <div title-pos="top" title="'+a.default.t("js.Reset_scale")+'" class="po-progress-text progress-text-mini">100%</div><div class="po-zoom-in po-tool-button"> <span class="po-diagraming-icons ">&#xe6c26;</span> </div><div title-pos="top" title="'+a.default.t("js.Reset_scale")+'" class="po-progress-text progress-text-normal">100%</div>'),n.addClass("po-progress-container"),void 0!==(t=e.extend({min:20,max:200,step:2,unit:"%"},t)).min&&n.attr("min",t.min),void 0!==t.max&&n.attr("max",t.max),n.progress("setValue",t.min+t.unit),n.find(".po-zoom-out").on("click",function(e){e.stopPropagation();var i=n.progress("getValue")-t.step;l(n,i,t)}),n.find(".po-zoom-in").off().on("click",function(e){e.stopPropagation();var i=n.progress("getValue")+t.step;l(n,i,t)}),n.find(".po-progress-text").off().on("click resetSize",function(e){e.stopPropagation(),l(n,100,t)}),n.find(".po-progress-cursor").off().on("mousedown touchstart",function(i){i.stopPropagation(),"touchstart"==i.type&&(i=i.originalEvent.touches[0]);var o=i.pageX,a=!0,r=(e(this).position().left,Math.floor(100/((t.max-t.min)/t.step))),s=n.progress("getValue");n.find(".po-progress").off("mousemove touchmove").on("mousemove touchmove",function(e){if(a){"touchmove"==e.type&&(e=e.originalEvent.touches[0]);var i=e.pageX-o;l(n,Math.round(i/r)*t.step+s,t,!1)}}),e(document).off("mouseup.progress").on("mouseup touchend.progress",function(e){a=!1})}),n.find(".po-progress").off("mousedown").on("mousedown",function(i){var o=i.pageX-e(this).offset().left,a=Math.floor(100/((t.max-t.min)/t.step));l(n,Math.round(o/a)*t.step,t,!1)});else{if("getValue"==t){var i=n.attr("progress");return parseInt(i)}if("setValue"==t){n.attr("progress",arguments[1]);var o=n.attr("min"),r=n.attr("max"),s=parseInt(arguments[1]);n.find(".po-progress-cursor").css("left",100*(s-o)/(r-o)+"%"),n.find(".po-progress-inner").length&&n.find(".po-progress-inner").get(0).style.setProperty("--process-percent",100*(s-o)/(r-o)+"%"),n.find(".po-progress-text").html(arguments[1])}}function l(e,t,n,i){if(e.attr("max")){var o=parseInt(e.attr("max"));t>o&&(t=o)}if(e.attr("min")){var a=parseInt(e.attr("min"));t<a&&(t=a)}e.attr("progress")!=t+n.unit&&n.onChange&&n.onChange(t),e.progress("setValue",t+n.unit)}};var s=0;e.fn.showPanel=function(t){var n,i,o=(t=e.extend({target:null,panel:null,position:"bottom",zoom:1,offsetTop:0},t)).target,a={};if(o instanceof jQuery)a=o.offset(),n=o.outerWidth(),i=o.outerHeight();else{var r=o.getBoundingClientRect();a={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height},n=r.width,i=r.height}var l=t.panel,c=t.position,d=e(window).width(),u=e(window).height(),p=l.outerWidth(),h=l.outerHeight(),m=window.mind?mind.operation.zoomVal/100:"undefined"!=typeof Designer?Designer.config.scale:t.zoom;if(l.addClass("mind-panel-unique"),"top"==c){var f=a.top-h-22;l.addClass("posT")}else f=a.top+i*m+(t.offsetTop||21),l.removeClass("posT");var g=a.left-p/2+n*m/2;f+h>u?f=u-h:f<0&&(f=8),g+p>d?g=d-p:g<0&&(g=8),l.show().css({left:g,top:f,opacity:1}),e(document).off("mousedown.dropbox").on("mousedown.dropbox",function(t){setTimeout(function(){l.remove(),e(document).off("mousedown.dropbox")},50)});var v="mouseup.dropbox"+s++;e(document).off(v).on(v,function(t){var n;null!==(n=l[0])&&void 0!==n&&n.contains(document.activeElement)||setTimeout(function(){null==l||l.remove(),e(document).off(v)},50)}),e(document).off("touchstart.dropbox").on("touchstart.dropbox",function(t){setTimeout(function(){l.remove(),e(document).off("touchstart.dropbox")},50)}),l.on("mousedown",function(e){e.stopPropagation()}),l.on("mouseup",function(e){e.stopPropagation()}),l.on("touchstart",function(e){e.stopPropagation()})},e.fn.submitForm=function(t){var n=e.extend({json:!0},t),i=e(this);if(!n.onSubmit||0!=n.onSubmit.call(i)){n.url&&i.attr("action",n.url);var o="submit_frame_"+(new Date).getTime(),a=e("<iframe id="+o+" name="+o+"></iframe>").attr("src",window.ActiveXObject?"javascript:false":"about:blank").css({position:"absolute",top:-1e3,left:-1e3});i.attr("target",o),a.appendTo("body"),a.bind("load",function t(){a.unbind();var i=e("#"+o).contents().find("body"),s=i.html();if(""==s)return--r?void setTimeout(t,200):void 0;var l=i.find(">textarea");if(l.length)s=l.val();else{var c=i.find(">pre");c.length&&(s=c.html())}try{"string"==typeof s&&(s=JSON.parse(s)),"error"==s.error||n.success&&n.success(s)}catch(e){n.json?n.error&&n.error(s):n.success&&n.success(s)}setTimeout(function(){a.unbind(),a.remove()},100)}),i.append("<input type='hidden' name='submitFormByHiddenFrame' id='submitFormByHiddenFrameParam' value='hiddenFrame'/>"),i[0].submit(),e("#submitFormByHiddenFrameParam").remove();var r=10}},e.fn.selectText=function(){var e=document,t=this[0];if(e.body.createTextRange)(n=document.body.createTextRange()).moveToElementText(t),n.select();else if(window.getSelection){var n,i=window.getSelection();(n=document.createRange()).selectNodeContents(t),i.removeAllRanges(),i.addRange(n)}},e.fn.textMoveToEnd=function(){var e=this[0];e.focus();var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();0==n.anchorOffset&&(n.removeAllRanges(),n.addRange(t))},e.fn.datePicker=function(t){var n={selected:null,minimumDate:null,maximumDate:null,dateFormat:null},i=new Array(a.default.t("js.January"),a.default.t("js.February"),a.default.t("js.March"),a.default.t("js.April"),a.default.t("js.May"),a.default.t("js.June"),a.default.t("js.July"),a.default.t("js.August"),a.default.t("js.September"),a.default.t("js.October"),a.default.t("js.November"),a.default.t("js.December")),o=new Array(a.default.t("js.January"),a.default.t("js.February"),a.default.t("js.March"),a.default.t("js.April"),a.default.t("js.May"),a.default.t("js.June"),a.default.t("js.July"),a.default.t("js.August"),a.default.t("js.September"),a.default.t("js.October"),a.default.t("js.November"),a.default.t("js.December")),r="td:not(.m):not(:empty)";return this.each(function(){if(this.datePicker)return!1;var a=e.extend({},n,t),s=e(this),l=null,c=null,d=null,u={initialize:function(){e(document).keydown(function(e){27==e.keyCode&&u.hide()}).on("click.show",function(){u.hide()}),s.on("click.show",function(e){return u.show(),!1}).keydown(function(e){if(13==e.keyCode)return u.entered(),!1}),l=u.initializeContainer().append(u.buildMonth(new Date)).delegate(r,"click",u.clicked).delegate("td:not(:empty)","hover",u.hover).delegate(".prev","click",u.loadPrevious).delegate(".next","click",u.loadNext).delegate(".month","click",u.pickMonth).delegate(".year","click",u.pickYear).click(function(){return!1}).mousedown(function(e){e.stopPropagation(),e.preventDefault()}),u.show();var t=s.offset().top,n=s.offset().left;n+l.width()>e(window).width()&&(n=e(window).width()-l.outerWidth()),t+l.height()>e(window).height()&&(t=e(window).height()-l.outerHeight()),l.css({top:t,left:n})},parseDate:function(e){return new Date(e)},show:function(){l.show()},hide:function(){l.hide()},loadPrevious:function(){l.empty().append(u.buildMonth(new Date(c.getFullYear(),c.getMonth()-1,1)))},loadNext:function(){l.empty().append(u.buildMonth(new Date(c.getFullYear(),c.getMonth()+1,1)))},hover:function(){e(this).toggleClass("hover")},clicked:function(){var t=e(this);if("month"==d)l.empty().append(u.buildMonth(new Date(c.getFullYear(),4*(t.parent().index()-1)+t.index(),1)));else if("year"==d)c=new Date(t.text(),0,1),u.pickMonth();else{l.find("td.selected").removeClass("selected"),t.addClass("selected");var n=new Date(c.getFullYear(),c.getMonth(),t.text()),i=u.format(n);s.val(i).change(),null!=a.selected&&a.selected(i),u.hide()}},entered:function(){var e=u.parseDate(s.val().replace(/^\s*/,"").replace(/\s*$/,""));null!=e&&l.empty().append(u.buildMonth(e)).find(r).eq(e.getDate()-1).click()},initializeContainer:function(){return e("<div>").addClass("calendar").appendTo("body")},pickYear:function(){d="year";var e=document.createElement("table"),t=c.getFullYear()-6;a.minimumDate&&a.minimumDate>t&&(t=a.minimumDate);for(var n=0;n<3;++n)for(var i=e.insertRow(-1),o=0;o<4;++o)i.insertCell(-1).innerHTML=t+4*n+o;l.empty().append(e)},pickMonth:function(){d="month";var e=document.createElement("table"),t=e.insertRow(-1).insertCell(-1);t.colSpan=4,t.className="m year",t.innerHTML=c.getFullYear();for(var n=0;n<3;++n)for(var i=e.insertRow(-1),a=0;a<4;++a)i.insertCell(-1).innerHTML=o[4*n+a];l.empty().append(e)},buildMonth:function(t){d="day";var n=new Date(t.getFullYear(),t.getMonth(),1),o=new Date(t.getFullYear(),t.getMonth()+1,0);c=n;for(var r=n.getDay(),s=o.getDate(),l=Math.ceil((s+r)/7),p=document.createElement("table"),h=0,m=1;h<l;++h)for(var f=p.insertRow(-1),g=0;g<7;++g,++m){var v=f.insertCell(-1);m>r&&m<=s+r&&(v.innerHTML=m-r)}var b=p.insertRow(0);u.addHeaderCell(b,'<div class="prev">&laquo;</div>',1),u.addHeaderCell(b,'<div class="month">'+i[t.getMonth()]+" "+t.getFullYear()+"</div>",5),u.addHeaderCell(b,'<div class="next">&raquo;</div>',1);var y=e(p);return a.minimumDate&&a.minimumDate>=n&&y.find(".prev").hide(),a.maximumDate&&a.maximumDate<=o&&y.find(".next").hide(),y},addHeaderCell:function(e,t,n){var i=e.insertCell(-1);i.innerHTML=t,i.className="m ",i.colSpan=n},format:function(e){if(null!=a.dateFormat){var t={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},n="";for(var o in/(y+)/.test(a.dateFormat)&&(n=a.dateFormat.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+o+")").test(a.dateFormat)&&(n=n.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return n}return i[e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()}};this.datePicker=u,u.initialize()})},e.fn.showCorner=function(t){var n=e(this);if("string"!=typeof t){var i=t.type,o=t.pos;n.children("[tit="+i+"]").show().siblings("div").hide(),n.addClass("active"),n.children(".close").off().on("click",function(n){e(".mind-corner."+o).removeClass("active"),"right"==o&&e(".po-footer").css("width","100%"),t.onClose&&t.onClose instanceof Function&&t.onClose(i)})}else"close"==t&&n.removeClass("active")},e.fn.multiInput=function(t,n,i){var o=e(this);function a(e,t){var n,i,a=o.find(".user-list"),r="&#xe63e;";if(t instanceof Array)for(var s=0;s<t.length;s++){if(n=t[s].isEmail(),i=/^[1][3,4,5,7,8][0-9]{9}$/.test(t[s]),n)r="&#xe72b;",e=t;else if(i)r="&#xe72a;",e=t;else if(!n&&!i)return;var l='<div class="user-item"><span  class="po-icon po-diagraming-icons">'+r+"</span>"+t[s]+'<span class="close po-diagraming-icons">&#xe6b9;</span></div>';a.append(l)}else{if(null==e)return;l='<div class="user-item"><span  class="po-icon po-diagraming-icons">'+r+"</span>"+t[s]+'<span class="close po-diagraming-icons">&#xe6b9;</span></div>',a.append(l)}}"string"!=typeof t||"setVal"!=t?(t=e.extend({text:"请在此输入对方ProcessOn账号邮箱或手机号，回车添加",autoComplete:!1,url:"",params:{}},t),o.find("input").off("keyup").on("keyup",function(n){var i=e.trim(e(this).val());if(""!=i)if(13==n.keyCode&&t.setVal){var o,r;i=i.split(/[,， ]+/);for(var s=0;s<i.length;s++)if(o=i[s].isEmail(),r=/^[1][3,4,5,7,8,9][0-9]{9}$/.test(i[s]),!o&&!r)return void e.toast({type:"error",text:"手机号或邮箱输入格式有误，请重新输入",target:e("#po-share-dlg")});i=i.filter(function(e,t,n){return n.indexOf(e,0)===t}),a(null,t.setVal(i)),e(this).val("")}else t.autoComplete&&(t.params=e.extend(t.params,{value:i}),e.ajax({url:t.url,cache:!1,data:t.params,success:function(n){var i=t.autoCompleteCallback(n);if(e(".popWindow").remove(),""!=i){var o=e("<div class='popWindow'></div>").appendTo("body");o.html(i),o.popWindow({target:"#multi-input"})}}}))}),e(document).on("click",".user-list .close",function(){var n=e(this),i=n.prev().text();null!=i&&t.deleteVal&&(n.parent().remove(),t.deleteVal(i))})):a(n,i)},e.fn.suggest=function(t){var n=e(this),i={valueField:"value",offsetX:0,offsetY:0,width:n.outerWidth(),format:function(e){return e.text}},o=e.extend(i,t),a=e(".suggest-menu");a.length<1&&(a=e("<ul class='suggest-menu'></ul>").appendTo("body")),a.width(o.width);var r=-1,s="",l="";n.off("keydown.suggest").on("keydown.suggest",function(e){if(40==e.keyCode)e.preventDefault(),r<a.children().length-1&&(r++,a.find(".active").removeClass("active"),a.find("li[index="+r+"]").addClass("active"));else if(38==e.keyCode)e.preventDefault(),a.find(".active").removeClass("active"),r>=0&&(r--,a.find("li[index="+r+"]").addClass("active"));else if(13==e.keyCode){var t=a.find(".active");t.length&&n.val(t.attr("val")),o.onEnter&&o.onEnter(n),a.hide(),l=""}}).off("keyup.suggest").on("keyup.suggest",function(t){""==(l=n.val())?a.hide():l!=s&&(r=-1,e.get(o.url,{q:l},function(t){a.empty();var i=t.items;if(0==i.length)a.hide(),l="";else{for(var r=0;r<i.length;r++){var c=i[r],d="<li index='"+r+"' class='suggest-item' val='"+c[o.valueField]+"'>";d+=o.format(c),d+="</li>",a.append(d)}a.show(),a.attr("tabindex",0);var u=0;(u="center"==o.position?n.offset().left+n.outerWidth()/2-a.outerWidth()/2:"right"==o.position?n.offset().left+n.outerWidth()-a.outerWidth():n.offset().left)+a.outerWidth()>e(window).width()&&(u=e(window).width()-a.outerWidth());var p=n.offset().top+n.outerHeight();o.autoPosition&&p+o.offsetY+a.outerHeight()>e(window).height()+e(document).scrollTop()?a.css({top:e(window).height()-a.outerHeight()+e(document).scrollTop(),left:u+o.offsetX}):a.css({top:p+o.offsetY,left:u+o.offsetX}),a.find(".suggest-item").off("mousedown").on("mousedown",function(t){t.preventDefault(),n.val(e(this).attr("val")),o.onEnter&&o.onEnter(n),a.hide(),s=l=""})}})),s=l}).off("blur.suggest").on("blur.suggest",function(e){a.hide(),s=""})},e.warnTip=function(t,n){var i=e(".warn-tip");if((n||t.data)&&(i=e(".warn-tip[data-info="+(n||t.data)+"]")),"string"!=typeof t){var o={content:"",tipIcon:!1,pos:"top",closable:!0,delay:null,onClose:null,callback:null};e.extend(o,t),i.length>0&&i.remove();var a="";if(o.tipIcon){var r="&#xe996;";"string"==typeof o.tipIcon&&o.tipIcon.indexOf("&#")>-1&&(r=o.tipIcon),a="<span class='warn-icon po-diagraming-icons'>"+r+"</span>"}var s="";o.data&&(s="data-info="+o.data),0==(i=e("<div class='warn-tip' "+s+">"+a+"<div class='mind-tip-text'>"+o.content+"</div><div class='mind-tip-close icons'>&#xe622;</div></div>").appendTo("body")).find(".mind-tip-close").length&&e("<span class='mind-dlog-close po-diagraming-icons'>&#xe623;</span>").appendTo(dialogTitle),!1===o.closable?(i.find(".mind-tip-close").css("display","none"),o.delay&&("undefined"!=typeof clearWarnTipTimer&&clearTimeout(clearWarnTipTimer),clearWarnTipTimer=setTimeout(function(){i.remove()},o.delay))):i.find(".mind-tip-close").css("display","block"),i.children(".mind-tip-close").off("click").on("click",function(){i.remove(),o.onClose&&o.onClose instanceof Function&&o.onClose()}),setTimeout(function(){i.css({top:"120px",bottom:"auto"})}),o.callback&&o.callback instanceof Function&&o.callback()}else"close"==t&&i.length>0&&i.find(".mind-tip-close").trigger("click")},e.fn.bottomPopup=function(t){var n=e(this);if("string"!=typeof t||"close"!=t){t=e.extend({height:"auto"},t),n.addClass("po-bottom-popup").css("bottom","0px");var i=e("#po-bottom-popup-mark");i.remove(),(i=e("<div id='po-bottom-popup-mark' class='po-bottom-popup-mark'></div>").appendTo("body")).off("click").on("click",function(e){n.bottomPopup("close")})}else{e("#po-bottom-popup-mark").remove();var o=n.outerHeight();n.css({bottom:-o+"px"})}}}(jQuery),window.bigPipe={jsVersion:r,cssVersion:r,count:0,jsCounter:0,finallyCallback:!1,render:function(e,t){this.finallyCallback=!!e.finallyCallback;var n=new Object;return(n=Object.assign(n,c)).renderCore(e,t),n},renderCore:function(e,t){for(var n=document.getElementsByTagName("script"),i=document.getElementsByTagName("link"),o=0;o<n.length;o++)if((a=n[o].getAttribute("src"))&&a.indexOf("/assets/js/")>=0){if(a.indexOf("-")<0)break;a.substring(a.indexOf("-"),a.indexOf(".js"));break}for(o=0;o<i.length;o++){var a;if((a=i[o].getAttribute("href"))&&a.indexOf("/assets/css/")>=0){if(a.indexOf("-")<0)break;a.substring(a.indexOf("-"),a.indexOf(".css"));break}}var r=e.css||[],s=e.js||[];for(this.jsCounter=s.length,this.count=0,o=0;o<r.length;o++){var l=r[o];this.renderCss(l)}o=0;for(var c=s.length;o<c;o++){var d=s[o];this.renderJs(d,t)}},renderCss:function(e){var t=document,n=(this.cssVersion,t.createElement("link"));n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),e.indexOf("http"),e+=e.indexOf("?")>-1?"&v="+this.jsVersion:"?v="+this.jsVersion,n.setAttribute("href",e);var i=t.getElementsByTagName("head");i.length?i[0].appendChild(n):t.documentElement.appendChild(n)},renderJs:function(e,t){var n=document,i=(this.jsVersion,this),o=n.createElement("script");e.indexOf("http"),o.setAttribute("type","text/javascript");var a=e;for(var r in a.indexOf("https://")>-1&&(a=a.split("/static/")[1]),s)r.indexOf(a)>-1&&o.setAttribute("integrity",s[r]);e+=e.indexOf("?")>-1?"&v="+i.jsVersion:"?v="+i.jsVersion,o.setAttribute("src",e),o.setAttribute("charset","UTF-8"),n.body.appendChild(o),o.onload=function(){i.count++,i.handle(t)},this.finallyCallback&&(o.onerror=function(){i.count++,i.handle(t)})},handle:function(e){this.count==this.jsCounter&&(null!=e&&e(),this.count=0,this.jsCounter=0)},init:function(){var e=!1;$(document).off("mousemove.ck").on("mousemove.ck",function(){e||($.get("/popular/init"),e=!0)})}};var c=t.bigPipe=window.bigPipe;String.prototype.isEmpty=function(){return this.replace(/(^\s*)|(\s*$)/g,"").length<=0},String.prototype.notEmpty=function(){return!this.isEmpty()},String.prototype.isEmail=function(){return!this.isEmpty()&&!!/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(this)},String.prototype.isPhoneNumber=function(){return!(this.isEmpty()||!/^0{0,1}(13[0-9]|15[7-9]|153|156|18[7-9])[0-9]{8}$/.test(this))},String.prototype.minLength=function(e){return this.length>=e},String.prototype.maxLength=function(e){return this.length<=e},String.prototype.cut=function(e,t){var n="";if(""==this)return n;void 0===t&&(t="...");for(var i=0,o=0;o<this.length;o++)this.charCodeAt(o)>127||94==this.charCodeAt(o)?i+=2:i++;if(i<=e)return this.toString();for(i=0,e=e>t.length?e-t.length:e,o=0;o<this.length;o++){if(this.charCodeAt(o)>127||94==this.charCodeAt(o)?i+=2:i++,i>e){n+=t;break}n+=this.charAt(o)}return n},String.prototype.byteLength=function(){for(var e=0,t=0;t<this.length;t++)this.charCodeAt(t)>127||94==this.charCodeAt(t)?e+=2:e++;return e},Array.prototype.flat||(Array.prototype.flat=function(){return function e(t,n){for(var i=[],o=0;o<t.length;o++)Array.isArray(t[o])&&n>0?i.push.apply(i,h(e(t[o],n-1))):void 0!==t[o]&&i.push(t[o]);return i}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}),String.prototype.replaceCanvasFont=function(e){try{return void 0!==editorGlobal.deviceType&&"wpsclient_mac"==editorGlobal.deviceType&&/12\.\d+\.\d+/g.test(systemVersion)?"svg"==e?this.replace(/(font-family=".*?")|(font-family:.*?;)/gi,function(e){return e.replace(/微软雅黑/g,"苹方-简").replace(/宋体/g,"宋体-简").replace(/黑体/g,"黑体-简").replace(/楷体/g,"楷体-简")}):this.replace(/微软雅黑/g,"苹方-简").replace(/宋体/g,"宋体-简").replace(/黑体/g,"黑体-简").replace(/楷体/g,"楷体-简"):this.valueOf()}catch(e){return this.valueOf()}},function(e){window.addEventListener("storage",function(e){if("po_local_change_filelist"===e.key){var t=e.newValue;"paysuccess"==(t=JSON.parse(t)).type||window.location.reload()}});var t="v5",n="postMessage"in window;function i(e,t){var n="";if(arguments.length<2?n="target error - target and name are both required":"object"!=w(e)?n="target error - target itself must be window object":"string"!=typeof t&&(n="target error - target name must be string type"),n)throw new Error(n);this.target=e,this.name=t}function o(e,n,i,o){this.targets={},this.name=e,this.listenFunc=[],this.version="1.0.1",t=n||t;for(var a=0,r=i.length;a<r;a++)this.addTarget(i[a].target,i[a].targetName);this.initListen(),"function"==typeof o&&this.listen(o)}i.prototype.send=n?function(e){this.target.postMessage(t+e,"*")}:function(e){var n=window.navigator[t+this.name];if("function"!=typeof n)throw new Error("target callback function is not defined");n(t+e,window)},o.prototype.addTarget=function(e,t){var n=new i(e,t);this.targets[t]=n},o.prototype.initListen=function(){var e=this,i=function(n){if("object"==w(n)&&n.data&&(n=n.data),!n||"object"==w(n)||"v5"!==n.substr(0,2))return!1;t||(t="lenovo-messenger"),n=n.slice(t.length);for(var i=0;i<e.listenFunc.length;i++)e.listenFunc[i](n)};n?"addEventListener"in document?window.addEventListener("message",i,!1):"attachEvent"in document&&window.attachEvent("onmessage",i):window.navigator[t+this.name]=i},o.prototype.listen=function(e){this.listenFunc.push(e)},o.prototype.clear=function(){this.listenFunc=[]},o.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)},e.Messenger=o}(window),$("img").on("error",function(){}),window.requestAnimationFrame=window.requestAnimationFrame||function(e){return window.setTimeout(e,16.7)},window.cancelAnimationFrame=window.cancelAnimationFrame||function(e){return clearTimeout(e)}},2612:function(e,t,n){n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66603));n(31039),n(61894),n(65534),n(69642),n(96909),n(33152),n(65528),n(4790),n(82403),n(52465),n(13253),n(6284),n(37212),n(47958),n(69268),n(58500),n(86837),n(54938);var a=n(23985);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={elements:{},type:"png",ids:[],watermark:{},pageColor:"",eqObj:{},dom:"",init:function(){var e=C(k().mark(function e(t,n){var i,o,a,r,s,l,c,d,u,p,h,m,f,g,v,b,y,x=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=this,"string"==typeof n?i.type=n:(this.elements=n.elements||Model.define.elements,n.ids=n.ids||[],n.ids.length||(n.ids=Object.keys(this.elements)),i.type=n.type,i.eqObj=n.eqObj,i.ids=n.ids,i.pageColor=n.pageColor||Model.define.page.backgroundColor,i.planeConfig=Model.define.page.planeConfig||Designer.plane.config,n.watermark&&"object"==w(n.watermark)?i.watermark=n.watermark:i.watermark={},i.pagePadding="number"==typeof n.pagePadding?n.pagePadding:25),i.dom=t,o=$(t),a=t.substring(1,t.length),0==o.length&&(o=$("<div id="+a+" style='display:none;position:fixed;z-index:-1;'></div>").appendTo("body")),this.cleanSvgHtml(),r=this.calcCanvasSize(i.ids),i.canvasSize=r,s=SVG(a).size(r.w,r.h),l=null!=Model.define.theme,Model.define.page,i.setPageColor(this.pageColor,s),i.setWatermark(["",""],r,s),(c=i.ids.map(function(e){return Utils.copy(x.elements[e])})).sort(function(e,t){return e.props.zindex-t.props.zindex}),d=0,u=c.length;case 12:if(!(d<u)){e.next=39;break}if("linker"!=(b=c[d]).name){e.next=17;break}this.linker2svg(b,s,r,l),e.next=36;break;case 17:if(e.t0=""==b.parent||null==b.parent,!e.t0){e.next=22;break}return e.next=21,this.shape2svg(b,s,r);case 21:e.t0=null!=b.children&&b.children.length>0;case 22:if(!e.t0){e.next=36;break}p=b.children,(h=p.filter(function(e){return"verticalSeparatorBar"==Model.getShapeById(e).name}))&&h.length>0&&(p.splice(p.indexOf(h[0]),1),p.splice(0,0,h[0])),m=0;case 26:if(!(m<p.length)){e.next=36;break}if(f=p[m],this.elements[f]){e.next=30;break}return e.abrupt("break",36);case 30:return g=Utils.copy(this.elements[f]),e.next=33,this.shape2svg(g,s,r,l);case 33:m++,e.next=26;break;case 36:d++,e.next=12;break;case 39:for(v=s.group(),d=0,u=c.length;d<u;d++)b=c[d],i.drawSize(b,v);return i.drawArea(v,r),i.watermark.download&&i.setWatermark(i.watermark.download,r,s),i.watermark.normal&&i.drawBrand(i.watermark.normal,r,s),i.watermark.custom&&i.setCustomWatermark(i.watermark.custom),y=$(i.dom).html().replace(/custom_mark/g,"custom_mark_").replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href"),e.abrupt("return",{w:r.w,h:r.h,x:r.minX,y:r.minY,bg:this.pageColor,content:y});case 44:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),getSvgHtml:function(){return this.init(),$(this.dom).html().replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href")},cleanSvgHtml:function(){$(this.dom).html("")},shape2svg:function(){var e=C(k().mark(function e(t,n,i,o){var r,s,c,d,u,p,h,m,f,g,v,b,y,x,w,_,T,S;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S=function(e,t,n,i,o){var r="";if("close"==e.action)return"Z";r+=e.action.substring(0,1).toUpperCase()+" ";var s={w:t,h:n,height:[i]};if("curve"==e.action)return r+(0,a.parseArithmetic)(e.x1,s)+" "+(0,a.parseArithmetic)(e.y1,s)+" "+(0,a.parseArithmetic)(e.x2,s)+" "+(0,a.parseArithmetic)(e.y2,s)+" "+(0,a.parseArithmetic)(e.x,s)+" "+(0,a.parseArithmetic)(e.y,s);if("quadraticCurve"==e.action)return r+(0,a.parseArithmetic)(e.x1,s)+" "+(0,a.parseArithmetic)(e.y1,s)+" "+(0,a.parseArithmetic)(e.x,s)+" "+(0,a.parseArithmetic)(e.y,s);if("rect"==e.action){var l=(0,a.parseArithmetic)(e.w,s),c=(0,a.parseArithmetic)(e.h,s),d=(0,a.parseArithmetic)(e.x,s),u=(0,a.parseArithmetic)(e.y,s);return"M"+d+" "+u+" L"+(d+l)+" "+u+" L"+(d+l)+" "+(u+c)+" L"+d+" "+(u+c)+" Z"}if("arc"==e.action){var p,h,m,f=(0,a.parseArithmetic)(e.x,s),g=(0,a.parseArithmetic)(e.y,s),v=(0,a.parseArithmetic)(e.x1,s),b=(0,a.parseArithmetic)(e.y1,s),y=(0,a.parseArithmetic)(e.x2,s),x=(0,a.parseArithmetic)(e.y2,s),w=((0,a.parseArithmetic)(e.t,s),(0,a.parseArithmetic)(e.v,s)||!1),k=Math.sqrt(Math.pow(v-f,2)+Math.pow(b-g,2)),_=Utils.getAngle({x:f,y:g},{x:v,y:b}),C=Utils.getAngle({x:f,y:g},{x:y,y:x}),T=w?0:1;return w?(_=_<=C?_+2*Math.PI:_,h=(m=Utils.getRotated({x:f,y:g},{x:v,y:b},(C-_)/2)).x,p=m.y):(C=C<=_?C+2*Math.PI:C,h=(m=Utils.getRotated({x:f,y:g},{x:v,y:b},(C-_)/2)).x,p=m.y),r+k+" "+k+" 0 0 "+T+" "+h+" "+p+r+k+" "+k+" 0 0 "+T+" "+y+" "+x}return r+(0,a.parseArithmeticTernaryExpression)(e.x,s)+" "+(0,a.parseArithmeticTernaryExpression)(e.y,s)},T=function(e,n,i){var o=Utils.getShapeLineStyle(t.lineStyle,!1),a=e.lineWidth;"string"==typeof e.lineWidth&&(a=function(e,t){return new Function("lineWidth","return ".concat(e,";"))(t.lineWidth)}(e.lineWidth,o)),e.lineColor=e.lineColor?e.lineColor:"0,0,0",g.alpha=g.alpha?g.alpha:"1";var r={width:a,color:"rgba("+e.lineColor+","+g.alpha+")"};"dot"==e.lineStyle?r=$.extend(r,{dasharray:e.lineWidth+","+1.5*e.lineWidth}):"dashed"==e.lineStyle?r=$.extend(r,{dasharray:5*e.lineWidth+","+2*e.lineWidth}):"dashdot"==e.lineStyle&&(r=$.extend(r,{dasharray:5*e.lineWidth+","+2*e.lineWidth+","+e.lineWidth+","+2*e.lineWidth})),0==e.lineWidth?i.stroke("none"):i.stroke(r)},_=function(){return(_=C(k().mark(function e(n,i,d){var u,p,h,m,f,v,y,x,w,_,C,T,S,M,D,E,A,F,I,O,L,P,B,N,z;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("none"==n.type){e.next=31;break}if("image"==n.type){e.next=5;break}"gradient"==n.type&&"radial"==n.gradientType?(n.alpha=null!=n.alpha?n.alpha:g.alpha,u="transparent"==n.beginColor?n.beginColor:"rgb("+n.beginColor+")",p="transparent"==n.endColor?n.endColor:"rgb("+n.endColor+")",(h=d.gradient("radial",function(e){e.at(0,u,n.alpha),e.at(1,p,n.alpha)})).radius(n.radius),i.fill(h)):"gradient"==n.type&&"linear"==n.gradientType?(n.alpha=null!=n.alpha?n.alpha:g.alpha,u="transparent"==n.beginColor?n.beginColor:"rgb("+n.beginColor+")",p="transparent"==n.endColor?n.endColor:"rgb("+n.endColor+")",h=d.gradient("linear",function(e){e.at(0,u,n.alpha),e.at(1,p,n.alpha)}),m=n.angle?n.angle:0,f=Math.sin(m)/2,v=Math.cos(m)/2,h.from(.5+f,.5-v).to(.5-f,.5+v),i.fill(h)):(y=Utils.copy(t.fillStyle).color||"255, 255, 255",x=$.extend({},n),w=Utils.getShapeFillStyle(x,o),(_=w.color).indexOf("r")>=0&&(C=function(e){var t=(0,a.parseArithmetic)(e);return isNaN(t)?0:Math.max(0,Math.min(255,t))},[],S=(T=$.isEmptyObject(t.fillStyle)?w.color.split(","):y.split(","))[0],M=T[1],D=T[2],"string"==typeof S?(E=y.split(","),_=_.replace("r",E[0]).replace("g",E[1]).replace("b",E[2])):_=_.replace("r",S).replace("g",M).replace("b",D),A=_.split(","),_=[C(A[0]),C(A[1]),C(A[2])].join(",")),F={color:"rgb("+_+")"},null!=n.alpha?F.opacity=n.alpha:null!=g.alpha&&(F.opacity=g.alpha),i.fill(F)),e.next=29;break;case 5:if(N=n.fileId){e.next=7;break}return e.abrupt("return",void(null!=i&&i.fill("none")));case 7:if(-1!=N.indexOf("data:image/")||(0!=N.indexOf("http")?(N=N.indexOf("/")<0?"https://cdn.processon.com/"+N:-1==n.fileId.indexOf("/assets")?staticBasePath+"/assets"+n.fileId:staticBasePath+n.fileId,location.origin.indexOf("processon.com")>-1&&(N=N.replace("http://","https://"))):(N.indexOf("orgu2a928.bkt.clouddn.com")>=0?N=N.replace("orgu2a928.bkt.clouddn.com","cdn2.processon.com").replace("http://","https://"):N.indexOf("7xt9nt.com1.z0.glb.clouddn.com")>=0?N=N.replace("7xt9nt.com1.z0.glb.clouddn.com","cdn.processon.com").replace("http://","https://"):N.indexOf("p7o7ul1nf.bkt.clouddn.com")>=0&&(N=N.replace("p7o7ul1nf.bkt.clouddn.com","cdn1.processon.com").replace("http://","https://")),"https:"===location.protocol&&(N=N.replace(/^http:\/\//,"https://")))),10!=n.imageW||10!=n.imageH){e.next=12;break}return e.next=10,l.getImageSize(N);case 10:I=e.sent,n.imageW=I.width,n.imageH=I.height;case 12:O=n.imageW,L=n.imageH,P=0,B=0,e.t0=n.display,e.next="static"===e.t0?16:"stretch"===e.t0?18:"fill"===e.t0?20:"fit"===e.t0?22:"original"===e.t0?24:"tile"===e.t0?26:27;break;case 16:return P=(0,a.parseArithmetic)(n.imageX,r),B=(0,a.parseArithmetic)(n.imageY,r),e.abrupt("break",27);case 18:return O=r.w,L=r.h,e.abrupt("break",27);case 20:return O/L>s/c?(O*=c/L,L=c,P=(s-O)/2):(L*=s/O,O=s,B=(c-L)/2),e.abrupt("break",27);case 22:return c/L<s/O?(O*=c/L,L=c,P=(s-O)/2):(L*=s/O,O=s,B=(c-L)/2),e.abrupt("break",27);case 24:return P=(s-O)/2,B=(c-L)/2,e.abrupt("break",27);case 26:s=O,c=L;case 27:O=O>0?O:1,L=L>0?L:1,s=s>0?s:1,c=c>0?c:1,"stretch"==n.display&&"pdfhd"==l.type?(N=b.image(N).size(O,L).attr({preserveAspectRatio:"none",crossOrigin:"anonymous"}),i.fill("transparent"),N=null):(z=b.pattern(s,c,function(e){e.image(N).size(O,L).attr({preserveAspectRatio:"none",crossOrigin:"anonymous"}).move(P,B)}),i.fill(z),z=null),i.opacity(g.alpha);case 29:e.next=32;break;case 31:null!=i&&i.fill("none");case 32:case"end":return e.stop()}},e)}))).apply(this,arguments)},w=function(e,t,n){return _.apply(this,arguments)},x=function(){return(x=C(k().mark(function e(n,i,o,a,l){var u,p,h,m,f,g,v,b,y,x,_,C,M,D,E,A,F;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("grid"==t.category){for(u=[],p=0;p<n.length;p++)for(h=0;h<n[p].length;h++)n[p][h].row=p,n[p][h].column=h,u.push(n[p][h]);for(n=u,m=t.merge||[],p=0;p<m.length;p++)for(f=m[p],g=f[0],v=f[f.length-1],n[g].actions[0].w=n[v].actions[0].w+"+"+n[v].actions[0].x+"-"+n[g].actions[0].x,n[g].actions[0].h=n[v].actions[0].h+"+"+n[v].actions[0].y+"-"+n[g].actions[0].y,h=1;h<f.length;h++)n[f[h]].jump=!0}p=0;case 2:if(!(p<n.length)){e.next=14;break}if((b=n[p]).jump){e.next=11;break}for(y=$.extend({},a,b.lineStyle),x=$.extend({},o,b.fillStyle),_=b.actions,C="",h=0;h<_.length;h++)C+=S(_[h],s,c,d,y.lineWidth);return M=i.path(C),T(y,0,M),t.theme=t.theme||{},"header"==t.theme.name?x=0==b.row?$.extend({},o,t.theme.row[0].fillStyle,b.fillStyle):$.extend({},o,t.theme.row[1].fillStyle,b.fillStyle):"striping"==t.theme.name&&(t.theme.row&&(x=$.extend({},o,t.theme.row[b.row%2].fillStyle,b.fillStyle)),t.theme.column&&(x=$.extend({},o,t.theme.column[b.column%2].fillStyle,b.fillStyle))),Schema.svgInCanvas&&Schema.svgInCanvas[t.name]&&(D=Schema.svgInCanvas[t.name],E=t.fillStyle,Model.define.theme&&Model.define.theme.shape&&(E=$.extend({},Model.define.theme.shape.fillStyle,E)),A=t.lineStyle,Model.define.theme&&Model.define.theme.shape&&(A=$.extend({},Model.define.theme.shape.lineStyle,A)),x.fileId=Designer.painter.updateSVGStyle(D,{fillStyle:E,lineStyle:A})),e.next=11,w(x,M,l);case 11:p++,e.next=2;break;case 14:null!=r.angle&&0!=r.angle&&(F=180*r.angle/Math.PI,i.rotate(F,r.w/2,r.h/2));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)},y=function(e,t,n,i,o){return x.apply(this,arguments)},$.isEmptyObject(t)||"linker"==t.name){e.next=22;break}if(r=t.props,s=r.w,c=r.h,d=r.height,u=t.path,p=t.textBlock,h=t.dataAttributes,r.x-=i.minX,r.y-=i.minY,m=Utils.getShapeFillStyle(t.fillStyle,o),f=Utils.getShapeLineStyle(t.lineStyle,o),Utils.getShapeBox(t),g=t.shapeStyle,v=n.defs(),b=n.group().attr("transform","translate("+r.x+","+r.y+")"),!t.name.startsWith("chart_")){e.next=15;break}return e.next=13,this.chart2Svg(t,b);case 13:e.next=17;break;case 15:return e.next=17,y(u,b,m,f,v);case 17:return e.next=19,function(){var e=C(k().mark(function e(n){var i,o,a,r,s,l,c,d,u,p;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.attribute&&t.attribute.markers&&t.attribute.markers.length>0)){e.next=10;break}i=t.attribute.markers,o=Schema.config.markerSize,a=t.attribute.markerOffset,r=i.length*o+4*(i.length-1),s=t.props.w/2-r/2,l=0;case 2:if(!(l<i.length)){e.next=10;break}return c=i[l],d=t.props.h-o-a,u=n.group().attr("transform","translate("+s+","+d+")"),p=Schema.markers[c].call(t,o),e.next=6,y(p,u,m,f,v);case 6:s+=o+4;case 7:l++,e.next=2;break;case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(b);case 19:!function(e,n){if("grid"==t.category&&t.merge)for(var i=t.merge||[],o=0;o<i.length;o++){var s=i[o],c=s[0],d=s[s.length-1];e[c].position.w=e[d].position.w+"+"+e[d].position.x+"-"+e[c].position.x,e[c].position.h=e[d].position.h+"+"+e[d].position.y+"-"+e[c].position.y;for(var u=1;u<s.length;u++)e[s[u]].jump=!0}for(o=0;o<e.length;o++){var p=e[o];if(!p.jump){var h=p.position,m=p.text||"",f=null,v=n.group(),b=Utils.getShapeFontStyle(t.fontStyle);(b=$.extend({},b,p.fontStyle)).fontFamily="微软雅黑"==b.fontFamily?'"Microsoft YaHei",微软雅黑,Arial':b.fontFamily;var y=(0,a.parseArithmetic)(h.w,r),x=(0,a.parseArithmetic)(h.h,r),w=(0,a.parseArithmetic)(h.x,r),k=(0,a.parseArithmetic)(h.y,r);if("horizontal"==b.orientation){var _={x:w+y/2,y:k+x/2};h={x:_.x-x/2,y:_.y-y/2,w:x,h:y}}if(!$.isEmptyObject(l.eqObj)){var C=l.eqObj,T=C.eqImgObj["text_"+t.id+"_"+o];if(T){var S;S="middle"==b.vAlign?(x-T.h)/2:"bottom"==b.vAlign?x-T.h:0;var M=v.rect(T.w,T.h);M.attr("transform","translate("+w+","+(k+S)+")");var D=n.pattern(T.w,T.h,function(e){e.image(C.src).size(C.w,C.h).attr({preserveAspectRatio:"none",crossOrigin:"anonymous"}).move(T.x,-T.y)});M.fill(D),D=null;continue}}f="font-family:"+b.fontFamily+";text-align:"+b.textAlign+";font-size:"+b.size+"px;vertical-align:"+b.vAlign+";color:rgb("+b.color+");",b.bold?f+="font-weight:700;":f+="font-weight:400;",b.italic&&(f+="font-style:italic;"),b.underline&&(f+="text-decoration:underline;"),b.middleline&&(f+="text-decoration:line-through;"),"horizontal"==b.orientation?f+="line-height:"+100*b.lineHeight+"%;width:"+Math.ceil(x)+"px; -ms-word-wrap: break-word;word-break:break-word;overflow-wrap: break-word;border:0;":f+="line-height:"+100*b.lineHeight+"%;width:"+Math.ceil(y)+"px; -ms-word-wrap: break-word;word-break:break-word;overflow-wrap: break-word;border:0;",m=(m=m||"").replace(/\n/g,"<br>").replace(/<br>(<\/[^>]*>)?<div><\/div>/g,"<br>$1").replace(/(\u001C)|(\t)|()/g," ").replace(/[\u0000-\u001f]/g,""),"undefined"==typeof isNewTextV||isNewTextV||(m=(m=(m=(m=(m=(m=(m=(m=(m=m.replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/&lt;br&gt;/gi,"<br>")).replace(/&lt;b&gt;/gi,"<b>").replace(/&lt;\/b&gt;/gi,"</b>")).replace(/&lt;div&gt;/gi,"<div>").replace(/&lt;\/div&gt;/gi,"</div>")).replace(/&lt;i&gt;/gi,"<i>").replace(/&lt;\/i&gt;/gi,"</i>")).replace(/&lt;u&gt;/gi,"<u>").replace(/&lt;\/u&gt;/gi,"</u>")).replace(/&lt;font/gi,"<font").replace(/\"&gt;/gi,'">').replace(/&lt;\/font&gt;/gi,"</font>")).replace(/&lt;span/gi,"<span").replace(/&lt;\/span&gt;/gi,"</span>")).replace(/&lt;p/gi,"<p").replace(/&lt;\/p&gt;/gi,"</p>"));var E=$("<div contenteditable=true style='"+f+";display:inline-block;position: relative;'>"+m+"</div>").appendTo("body"),A=E.outerHeight(),F=0;F="middle"==b.vAlign?(x-A)/2:"bottom"==b.vAlign?x-A:0,F+=k;var I=0;if("horizontal"==b.orientation){F=y/2-A/2;var O=t.props.angle;O=(1.5*Math.PI+O)%(2*Math.PI),I=Math.round(O/(2*Math.PI)*360),F=w+F,w=(r.h-x)/2-r.h}l.richText2svg(E,v,w,F,I,g.alpha),E.remove()}}}(p,b),function(e){if(t.code){var n=l.eqObj,i=n.eqImgObj["code-area_"+t.id];if(i){var o=e.group().rect(i.w,i.h),a=e.pattern(i.w,i.h,function(e){e.image(n.src).size(n.w,n.h).attr({preserveAspectRatio:"none",crossOrigin:"anonymous"}).move(i.x,-i.y)});o.fill(a),a=null}}}(b),function(e,n){for(var i=0,o=e.length;i<o;i++){var a=e[i],r="",s=null;if("text"==a.showType||"icon"==a.showType){var c=n.group();if("text"==a.showType)r=a.value,"link"==a.type&&(r="<a style='color:#4183C4;' href="+r+" target='_blank'> "+r+" </a>"),1==a.showName&&(r=a.name+":"+r);else if("icon"==a.showType){if(a.icon=a.icon>29&&a.icon<50?parseInt(a.icon)+1:a.icon,r='<i style="display:inline-block;width:21px;height:21px;"></i>',"link"==a.type&&(r="<a href="+a.value+' target="_blank" style="display:inline-block;width:21px;height:21px;"></a>'),1==a.showName&&(r='<span style ="position: relative;top:-7px">'+a.name+": </span>"+r),a.icon>0){var d=staticBasePath+"/assets/images/data_attr/"+a.icon+".png";s=c.image(d,20,20)}a.icon.indexOf("http")>=0&&(s=c.image(a.icon,20,20))}var u,p,h=$("<div contenteditable=true style='display:inline-block;font-size:12px;color:#333;'>"+r+"</div>").appendTo("body"),m=h.outerHeight(),f=h.outerWidth(),g=a.horizontal,v=a.vertical;u="mostleft"==g?-f-2:"leftedge"==g?-f/2:"left"==g?2:"center"==g?(t.props.w-f)/2:"right"==g?t.props.w-f-2:"rightedge"==g?t.props.w-f/2:t.props.w+2,p="mosttop"==v?-m:"topedge"==v?-m/2:"top"==v?0:"middle"==v?(t.props.h-m)/2:"bottom"==v?t.props.h-m:"bottomedge"==v?t.props.h-m/2:t.props.h,l.richText2svg(h,c,u,p,0),s&&s.attr({x:u+f-21,y:p}),s=null,h.remove()}}}(h,b);case 22:case"end":return e.stop()}},e,this)}));return function(t,n,i,o){return e.apply(this,arguments)}}(),drawSize:function(e,t){if(e&&"linker"!=e.name&&!(e.category&&e.category.indexOf("plane")<0)){var n=this.planeConfig,i=e.props,o=(i.w,i.h,i.height,[]),a=[],r=!1;if(!e.wallAttribute||"all"!=n.sizeType&&"wall"!=n.sizeType)e.doorAttribute&&"all"==n.sizeType||"controllerSize"==e.name?(o.push({x:0}),o.push({x:i.w})):"all"==n.sizeType&&(r=!0,o.push({x:0,y:0}),o.push({x:e.props.w,y:e.props.h}));else{var s=Designer.plane.utils.getWallRulePos(e);o=s.in,a=s.out}var l=Math.round(i.angle/(2*Math.PI)*360),c=Utils.getShapeFontStyle(e.fontStyle),d=(c.size,c.fontFamily,c.bold,c.italic,c.textAlign,c.color,c.underline||c.middleline,{x:i.x+i.w/2,y:i.y+i.h/2}),u={x:d.x,y:i.y+i.h+16};"controllerSize"==e.name&&(u={x:d.x,y:i.y}),o.length>0&&p(o),a.length>0&&(u={x:d.x,y:i.y-8},p(a))}function p(e){var o=Utils.getRotated(d,u,i.angle),a=t.group().attr("transform","translate("+(o.x-i.w/2)+","+(o.y-16)+")"),s=0;if(l>90&&l<=270){l+=180;for(var p=[],h=e.length-1;h>=0;h--)p.push({x:i.w-e[h].x,y:i.w-e[h].y});e=p,s=c.size/2}for(h=0;h<e.length-1;h++){var m=Math.floor(e[h+1].x-e[h].x),f=e[h+1].x-e[h].x;n.unit.indexOf("m")>-1&&(f=Utils.pxToMm(f)),f=f*n.planeScale/n.unitScale;var g=n.precision>=1?0:Math.log10(1/n.precision),v=(Math.round(f/n.precision)*n.precision).toFixed(g)+n.unit;if(r){var b=e[h+1].y-e[h].y;n.unit.indexOf("m")>-1&&(b=Utils.pxToMm(b)),b=b*n.planeScale/n.unitScale,v=(Math.round(f/n.precision)*n.precision).toFixed(g)+" × "+(Math.round(b/n.precision)*n.precision).toFixed(g)+n.unit}e[h].isJump&&(v=""),a.text(v).font({size:c.size,family:c.fontFamily,anchor:"middle"}).fill(c.color).attr({x:e[h].x+m/2,y:s})}a.rotate(l,i.w/2,16)}},drawArea:function(e,t){var n=Designer.plane.roomMap.list,i=Designer.plane.config,o=1;i.unit.indexOf("m")>-1&&(o=Utils.pxToMm(Utils.pxToMm(1))),o=o*(i.planeScale/1e3)*(i.planeScale/1e3);for(var a=Math.log10(10),r=0;r<n.length;r++){var s=n[r],l=Designer.plane.utils.getPolygonArea(s),c=Designer.plane.utils.getPolygonCenter(s),d=(.1*Math.round(l*o/.1)).toFixed(a)+"m²";e.group().attr("transform","translate("+(c.x-t.minX)+","+(c.y-t.minY)+")").text(d).font({size:16,anchor:"middle"}).attr("style","font-weight:600")}},linker2svg:function(e,t,n,i){var o=e.points,a=e.from,r=e.to;if("number"==typeof a.x&&"number"==typeof a.y&&"number"==typeof r.x&&"number"==typeof r.y){var s=Utils.getEndpointAngle(e,"from");isNaN(s)&&(s=0);var c=Utils.getEndpointAngle(e,"to"),d=Utils.getLinkerLineStyle(e.lineStyle);if(h(a,e,d.beginArrowStyle,s),h(r,e,d.endArrowStyle,c),0==d.lineWidth&&(d.lineWidth=1),void 0!==d.lineColor&&3!==d.lineColor.split(",").length){var u=d.lineColor.split(",")[0];d.lineColor=u+","+u+","+u}if(a=f(a),r=f(r),!(e.attribute&&e.attribute.collapseBy||Math.abs(a.y-r.y)<1&&Math.abs(a.x-r.x)<1)){if("broken"==e.linkerType){var p=Utils.copy(Model.intersection)[e.id];p&&(p=Utils.copyArray(p),o=function(e,t,n,i){for(var o=0;o<t.length-1;o++){var a=t[o].x,r=t[o].y,s=t[o+1].x,l=t[o+1].y;Math.abs(r-l)<1&&Math.abs(a-s)<1&&(t[o+1].type="equal",t[o].type="equal")}for(t.unshift(g(e)),t.push(g(i)),o=0;o<t.length-1;o++)if(a=t[o].x,r=t[o].y,s=t[o+1].x,l=t[o+1].y,Math.abs(r-l)<1)if(t[o].intersectionArr=[],s>a){for(var c=0;c<n.length;c++){var d=n[c].x,u=n[c].y;Math.abs(r-u)<1&&d>a&&d<s&&(n[c].type="intersectionR",t[o].intersectionArr.push(n[c]))}t[o].intersectionArr=m(t[o].intersectionArr,"x")}else{for(c=0;c<n.length;c++)d=n[c].x,u=n[c].y,Math.abs(r-u)<1&&d<a&&d>s&&(n[c].type="intersectionL",t[o].intersectionArr.push(n[c]));t[o].intersectionArr=m(t[o].intersectionArr,"x").reverse()}var p=[];for(o=0;o<t.length;o++){p.push(t[o]);var h=t[o].intersectionArr;if(null!=h&&h.length>0)for(c=0;c<h.length;c++)p.push(h[c])}return p.splice(0,1),p.splice(p.length-1,1),p;function m(e,t){for(var n,i=0;i<e.length-1;i++)for(var o=0;o<e.length-1;o++)e[o][t]>e[o+1][t]&&(n=e[o],e[o]=e[o+1],e[o+1]=n);return e}}(e.from,e.points,p.points,e.to))}!function(){var n="",i=t.group();if("curve"==e.linkerType){n+="M"+a.x+" "+a.y+"C";for(var s=0;s<o.length&&2!==s;s++)n+=" "+(c=f(o[s])).x+" "+c.y;n+=" "+r.x+" "+r.y}else if("broken"==e.linkerType){for(Model.intersection[e.id]&&(a=f(a),r=f(r)),n+="M"+a.x+" "+a.y,s=0;s<o.length;s++){var c=f(o[s]);if(!isNaN(c.x)&&!isNaN(c.y))if("intersectionR"==c.type)n+="L"+((u=c.x)-6)+" "+(p=c.y)+"A 3 3, 0, 0, 1,"+(u+6)+" "+p;else if("intersectionL"==c.type){var u,p;n+="L"+((u=c.x)+6)+" "+(p=c.y)+"A 3 3, 0, 0, 0,"+(u-6)+" "+p}else"equal"!=c.type&&(n+="L"+c.x+" "+c.y)}n+="L"+r.x+" "+r.y}else"normal"==e.linkerType&&(n+="M"+a.x+" "+a.y,n+="L"+r.x+" "+r.y);var h=i.path(n),g={width:d.lineWidth,color:"rgb("+d.lineColor+")"};"dashed"==d.lineStyle?g=$.extend(g,{dasharray:5*d.lineWidth+","+2*d.lineWidth}):"dot"==d.lineStyle?g=$.extend(g,{dasharray:d.lineWidth+","+1.5*d.lineWidth}):"dashdot"==d.lineStyle&&(g=$.extend(g,{dasharray:5*d.lineWidth+","+2*d.lineWidth+","+d.lineWidth+","+2*d.lineWidth})),h.stroke(g),h.fill("none"),function(n,i){var r=null;switch(n.beginArrowStyle){case"solidArrow":var s="M"+2*((d=n.lineWidth)+5)+",0 L0,"+(d+3)+" L"+2*(d+5)+","+2*(d+3)+" L"+2*(d+5)+",0",l=d+2;r=t.marker(2*(d+5),2*(d+3),function(e){e.path(s).fill("rgb("+n.lineColor+")").stroke({width:1,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",l);break;case"normal":r=t.marker(16,20,function(e){e.path("M15,1 L1,10 L15,19").fill("none").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",0);break;case"dashedArrow":r=t.marker(16,12,function(e){e.path("M1,6 L15,1 L15,11L1,6").fill("#fff").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",0);break;case"solidDiamond":r=t.marker(20,12,function(e){e.path("M2,6 L10,2 L18,6 L10,10L2,6").fill("rgb("+n.lineColor+")").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",0);break;case"dashedDiamond":r=t.marker(20,12,function(e){e.path("M2,6 L10,2 L18,6 L10,10L2,6").fill("#fff").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",0);break;case"solidCircle":r=t.marker(16,16,function(e){e.circle(8).center(8,8).fill("rgb("+n.lineColor+")").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",3);break;case"dashedCircle":r=t.marker(16,16,function(e){e.circle(8).center(8,8).fill("#fff").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",3);break;case"cross":r=t.marker(14,12,function(e){e.path("M14,0 L0,12").fill("none").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",-1);break;case"asynch1":r=t.marker(20,12,function(e){e.path("M0,8 L15,0").fill("none").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",0).attr("refY",8);break;case"asynch2":r=t.marker(20,12,function(e){e.path("M0,0 L15,8").fill("none").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",0).attr("refY",0)}var c=null;switch(n.endArrowStyle){case"solidArrow":var d;s="M0,0 L"+2*((d=n.lineWidth)+5)+","+(d+3)+" L0,"+2*(d+3)+" L0,0",l=d+8,c=t.marker(2*(d+5),2*(d+3),function(e){e.path(s).fill("rgb("+n.lineColor+")").stroke({width:1,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",l);break;case"normal":c=t.marker(16,16,function(e){e.path("M0,0 L10,8 L0,16").fill("none").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",11);break;case"dashedArrow":c=t.marker(14,12,function(e){e.path("M1,1 L14,6 L1,11L1,1").fill("#fff").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",16);break;case"solidDiamond":c=t.marker(20,12,function(e){e.path("M2,6 L10,2 L18,6 L10,10L2,6").fill("rgb("+n.lineColor+")").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",20);break;case"dashedDiamond":c=t.marker(20,12,function(e){e.path("M2,6 L10,2 L18,6 L10,10L2,6").fill("#fff").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",20);break;case"solidCircle":c=t.marker(16,16,function(e){e.circle(8).center(8,8).fill("rgb("+n.lineColor+")").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",13);break;case"dashedCircle":c=t.marker(16,16,function(e){e.circle(8).center(8,8).fill("#fff").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",13);break;case"cross":c=t.marker(14,12,function(e){e.path("M14,0 L0,12").fill("none").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",15);break;case"asynch1":c=t.marker(20,12,function(e){e.path("M15,0 L0,8").fill("none").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",16).attr("refY",0);break;case"asynch2":c=t.marker(20,12,function(e){e.path("M15,8 L0,0").fill("none").stroke({width:n.lineWidth,color:"rgb("+n.lineColor+")"})}).attr("markerUnits","userSpaceOnUse").attr("refX",16).attr("refY",8)}null!=r&&(void 0===n.lineStyle&&"solid"===n.lineStyle||r.attr("stroke-dasharray","0,0"),"broken"===e.linkerType&&o[0]&&a.x<o[0].x&&a.y===o[0].y&&r.attr("orient",0),i.attr("marker-start","url(#"+r.node.id+")")),null!=c&&(void 0===n.lineStyle&&"solid"===n.lineStyle||c.attr("stroke-dasharray","0,0"),i.attr("marker-end","url(#"+c.node.id+")"))}(d,h),function(t){if(null==e.textBlock){if(!e.text)return;e.textBlock=[{text:e.text,location:.5}]}var n=Utils.getLinkerFontStyle(e.fontStyle);n.fontFamily="微软雅黑"==n.fontFamily?'"Microsoft YaHei",微软雅黑,Arial':n.fontFamily;for(var i="transparent"==n.background?"transparent":"rgb("+(n.background||"255,255,255")+")",o={"line-height":Math.round(1.25*n.size)+"px","font-size":n.size+"px","font-family":n.fontFamily,"font-weight":n.bold?"bold":"normal","font-style":n.italic?"italic":"normal","text-align":n.textAlign,color:"rgb("+n.color+")","text-decoration":n.underline?"underline":n.middleline?"line-through":"none","white-space":"nowrap",background:i,border:"1px solid transparent"},a=Utils.getLinkerBox(e),r=0;r<e.textBlock.length;r++){var s=e.textBlock[r],c=null,d=Designer.painter.getLinkerPointByLocation(e,s.location);c={x:d.x,y:d.y};var u=m(s.text,o),p=Utils.getAngleDir(d.angle);"bottom"==s.pos?"1"==p||"3"==p?c.x+=u.w/2+4:c.y+=u.h/2+4:"top"==s.pos&&("1"==p||"3"==p?c.x-=u.w/2+4:c.y-=u.h/2+4),1==p||3==p?c.y<a.y+u.h/2?c.y=a.y+u.h/2:c.y>a.y+a.h-u.h/2&&(c.y=a.y+a.h-u.h/2):2!=p&&4!=p||(c.x<a.x+u.w/2?c.x=a.x+u.w/2:c.x>a.x+a.w-u.w/2&&(c.x=a.x+a.w-u.w/2));var h=n.fontFamily,f="vertical-align: top;text-align:"+n.textAlign+";color:rgb("+n.color+");background:"+i+";line-height:"+Math.round(1.25*n.size)+"px;font-size:"+n.size+"px;font-family:"+h+";white-space:nowrap;border: 1px solid transparent;";n.bold?f+="font-weight:700;":f+="font-weight:400;",n.italic&&(f+="font-style:italic;"),n.underline&&(f+="text-decoration:underline;"),n.middleline&&(f+="text-decoration:line-through;");var g=s.text.replace(/\n/g,"<br>").replace(/(\u001C)|(\t)|()/g," ").replace(/[\u0000-\u001f]/g,"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&lt;br&gt;/gi,"<br>").replace(/&lt;div&gt;/gi,"<div>").replace(/&lt;\/div&gt;/gi,"</div>"),v=$("<div contenteditable=true style='"+f+";display:inline-block;position:relative;'></div>").appendTo("body");v.html(g);var b=v.width(),y=v.outerHeight();v.css("width",b),t.rect().attr({width:b,height:y,x:c.x-b/2,y:c.y-y/2,fill:i}),l.richText2svg(v,t,c.x-b/2,c.y-y/2,0),v.remove()}}(i)}()}}function h(e,t,n,i){if(e.id){var o=Model.getShapeById(e.id);if(o){var a={x:0,y:0},r=Utils.getShapeLineStyle(o.lineStyle),s=Utils.getLinkerLineStyle(t.lineStyle);a.x="none"==n||"cross"==n?-r.lineWidth/2:"solidArrow"==n||"dashedArrow"==n?-r.lineWidth/2-1.3*s.lineWidth:"solidDiamond"==n||"dashedDiamond"==n?-r.lineWidth/2-s.lineWidth:-r.lineWidth/2-s.lineWidth/2;var l=Utils.getRotated({x:0,y:0},a,i);e.x+=l.x,e.y+=l.y}}}function m(e,t){var n=$("<div class='text_canvas linker_text' style='z-index: -1;'></div>").appendTo("body");e=e.replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;").replace(/\  /g,"&nbsp;&nbsp;"),n.html(e).css(t);var i={w:n.outerWidth(),h:n.outerHeight()};return n.remove(),i}function f(e){return e.x=e.x-n.minX,e.y=e.y-n.minY,e}function g(e){return e.x=e.x+n.minX,e.y=e.y+n.minY,e}},chart2Svg:function(e,t){return new Promise(function(){var n=C(k().mark(function n(i){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Designer.events.push("renderSvgCharts",e);case 2:setTimeout(function(){var n="#svg_chart_"+e.id,o=$(n).find("svg:first");if(o){var a=$(o).find('text[text-anchor="left"]');$(o).find('path[id$="-radio"]').remove(),$(o).find('path[id$="-background"]').remove(),a&&a.each(function(e,t){$(t).attr("text-anchor","start")}),t.node.innerHTML=o[0].innerHTML}i()});case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())},calcCanvasSize:function(e){var t=null,n=null,i=null,o=null;if(e)for(var a=0,r=e.length;a<r;a++){var s=p(this.elements[e[a]]);s&&((null==t||s.x<t)&&(t=s.x),(null==n||s.y<n)&&(n=s.y),(null==i||s.x+s.w>i)&&(i=s.x+s.w),(null==o||s.y+s.h>o)&&(o=s.y+s.h))}else{var l=this.elements;for(var c in l){var d=p(l[c]);d&&((null==t||d.x<t)&&(t=d.x),(null==n||d.y<n)&&(n=d.y),(null==i||d.x+d.w>i)&&(i=d.x+d.w),(null==o||d.y+d.h>o)&&(o=d.y+d.h))}}var u="number"==typeof this.pagePadding?this.pagePadding:25;return{w:i-t+2*u,h:o-n+2*u,minX:t-u,minY:n-u};function p(e){if("linker"!==e.name){for(var t=Utils.copy(e.props),n=0,i=0,o=t.w,a=t.h,r=Utils.getShapeFontStyle(e.fontStyle),s=e.getTextBlock(),l=0;l<s.length;l++){var c=s[l];if(!c.jump&&c.text&&""!==c.text.trim()){(r=$.extend({},r,c.fontStyle)).fontFamily="微软雅黑"==r.fontFamily?'"Microsoft YaHei",微软雅黑,Arial':r.fontFamily;var d=Utils.copy(c.position),u={width:d.w,"line-height":100*r.lineHeight+"%","font-size":r.size+"px","font-family":r.fontFamily,"font-weight":r.bold?"bold":"normal","font-style":r.italic?"italic":"normal","text-align":r.textAlign,color:"rgb("+r.color+")","text-decoration":r.underline?"underline":r.middleline?"line-through":"none",opacity:e.shapeStyle.alpha,"word-wrap":"break-word"},p=h(c.text,u);p.w>d.w&&(d.w=p.w),p.h>d.h&&("middle"===r.vAlign?d.y=d.y+d.h/2-p.h/2:"bottom"===r.vAlign&&(d.y=d.y+d.h-p.h),d.h=p.h),n=Math.min(n,d.x),i=Math.min(i,d.y),o=Math.max(o,d.x+d.w),a=Math.max(a,d.y+d.h)}}if(e.dataAttributes&&e.dataAttributes.length)for(var m=0;m<e.dataAttributes.length;m++){var f=e.dataAttributes[m];if("none"!==f.showType){var g="";if(f.showName&&(g=f.name+": "),"text"===f.showType?g+=f.value:"icon"===f.showType&&(g+="ok"),""!==g){var v=h(g,{fontSize:"12px"}),b=f.horizontal,y=f.vertical;v.x="mostleft"==b?-v.w-2:"leftedge"==b?-v.w/2:"left"==b?2:"center"==b?(e.props.w-v.w)/2:"right"==b?e.props.w-v.w-2:"rightedge"==b?e.props.w-v.w/2:e.props.w+2,v.y="mosttop"==y?-v.h:"topedge"==y?-v.h/2:"top"==y?0:"middle"==y?(e.props.h-v.h)/2:"bottom"==y?e.props.h-v.h:"bottomedge"==y?e.props.h-v.h/2:e.props.h,n=Math.min(n,v.x),i=Math.min(i,v.y),o=Math.max(o,v.x+v.w),a=Math.max(a,v.y+v.h)}}}if(e.category&&e.category.startsWith("plane")){var x=Model.define.page.planeConfig||{sizeType:"all",planeScale:50,unit:"mm",unitScale:1,precision:10};if("all"==x.sizeType){var w={"font-size":r.size+"px","font-family":r.fontFamily,"font-weight":r.bold?"bold":"normal","font-style":r.italic?"italic":"normal","text-align":r.textAlign,color:"rgb("+r.color+")","text-decoration":r.underline?"underline":r.middleline?"line-through":"none","word-wrap":"break-word"},k=x.precision>=1?0:Math.log10(1/x.precision),_=(Math.round(e.props.w/x.precision)*x.precision).toFixed(k)+" × "+(Math.round(e.props.h/x.precision)*x.precision).toFixed(k)+x.unit,C=$("<span>"+_+"</span>").appendTo("body");C.css(w);var T=C.width();C.remove(),n=Math.min(n,e.props.w-T),o=Math.max(o,T)}}var S={x:Math.min(t.x,t.x+n),y:Math.min(t.y,t.y+i),w:n<0?Math.max(t.w,o)-n:Math.max(t.w,o),h:i<0?Math.max(t.h,a)-i:Math.max(t.h,a)},M={x:t.x+t.w/2,y:t.y+t.h/2};return Utils.getRotatedBox(S,e.props.angle,M)}if(Math.abs(e.from.x-e.to.x)<1&&Math.abs(e.from.y-e.to.y)<1)return!1;var D=Utils.getLinkerBox(e),E=0,A=0,F=D.w,I=D.h;if(e.textBlock&&e.textBlock.length){var O=Utils.getLinkerFontStyle(e.fontStyle);O.fontFamily="微软雅黑"==O.fontFamily?'"Microsoft YaHei",微软雅黑,Arial':O.fontFamily;for(var L={"line-height":Math.round(1.25*O.size)+"px","font-size":O.size+"px","font-family":O.fontFamily,"font-weight":O.bold?"bold":"normal","font-style":O.italic?"italic":"normal","text-align":O.textAlign,color:"rgb("+O.color+")","text-decoration":O.underline?"underline":O.middleline?"line-through":"none","white-space":"nowrap",background:"#ffffff",border:"1px solid transparent"},P=0,B=e.textBlock.length;P<B;P++){var N=e.textBlock[P],z=h(N.text.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>")+"<br/>",L),j=Designer.painter.getLinkerPointByLocation(e,N.location);if(null!=j&&null!=j.x){var R=j.y-D.y-z.h/2,G=j.x-D.x-z.w/2,H=Utils.getAngleDir(j.angle);"top"==N.pos?"1"==H||"3"==H?G=G-z.w/2-6:R=R-z.h/2-6:"bottom"==N.pos&&("1"==H||"3"==H?G+=z.w/2+6:R+=z.h/2+6);1==H||3==H?R<10?R=10:R+z.h>D.h-10&&(R=D.h-10-z.h):2!=H&&4!=H||(G<10?G=10:G+z.w>D.w-10&&(G=D.w-10-z.w)),E=Math.min(E,G),A=Math.min(A,R),F=Math.max(F,G+z.w),I=Math.max(I,R+z.h)}}}return{x:Math.min(D.x,D.x+E),y:Math.min(D.y,D.y+A),w:E<0?Math.max(D.w,F)-E:Math.max(D.w,F),h:A<0?Math.max(D.h,I)-A:Math.max(D.h,I)}}function h(e,t){var n=$("<div class='text_canvas' style='z-index: -1;'></div>").appendTo("body");n.html(e).css(t);var i={w:n.outerWidth()};if(n.find("span.equation-text").length){insert.equation.renderEquation(n);var o=0;n.find("span.equation-text").each(function(){var e=$(this).outerWidth();e>o&&(o=e)}),o>i.w&&(i.w=o)}return i.h=n.outerHeight(),n.remove(),i}},richText2svg:function(e,t,n,i,o,a){var r=e[0].style,s={anchor:"center"==r.textAlign?"middle":"right"==r.textAlign?"end":"start",family:r.fontFamily,size:r.fontSize,width:r.width?r.width:0,fill:r.color,weight:r.fontWeight,align:r.verticalAlign,lineHeight:r.lineHeight},l={boxW:parseInt(s.width),boxX:n||0,boxY:i||0,deg:o||0,alpha:a||1};e.find("font").each(function(){var e=$(this).attr("color");void 0!==e&&$(this).css("fill",-1==e.indexOf("#")&&-1==e.indexOf("rgb")?"#"+e:e)}),e.find("b").css("font-weight","bold"),e.find("i").css("font-style","italic"),e.find("u").css("text-decoration","underline"),e.find("strike").css("text-decoration","line-through"),e.find("strong").css("font-weight","bold"),e.find("em").css("font-style","italic"),e.find("sup").css({"font-size":parseInt(s.size)/6*5,"vertical-align":"super"}),e.find("sub").css({"font-size":parseInt(s.size)/6*5,"vertical-align":"sub"}),e.find("section").each(function(){$(this).html("<div>"+$(this).html()+"</div>")});var c=[];!function e(t){for(var n=0,i=t.length;n<i;n++){var o=!1;if("#text"==t[n].nodeName)for(var a=0;a<t[n].data.length;a++){if("DIV"==t[n].parentNode.nodeName)var r={text:t[n].data[a],style:""};else r={text:t[n].data[a],style:t[n].parentNode.getAttribute("style").replace(/<br>/g,"").replace(/color/g,"fill").replace(/font-size:\s*inherit;/g,"")};c.push(r)}else"BR"==t[n].nodeName?(n>0&&"DIV"==t[n-1].nodeName&&(r={text:"</br>",style:""},c.push(r)),r={text:"</br>",style:""},c.push(r)):"DIV"==t[n].nodeName?(c.length>0&&"</br>"!=c[c.length-1].text&&" "!=c[c.length-1].text&&(r={text:"</br>",style:""},c.push(r)),o=!0):"DIV"==t[n].parentNode.nodeName?"function"==typeof t[n].getAttribute&&t[n].setAttribute("style",t[n].getAttribute("style")||""):"#comment"!==t[n].nodeName&&t[n].setAttribute("style",(t[n].parentNode.getAttribute("style")||"")+(t[n].getAttribute("style")||""));e(t[n].childNodes),o&&t[n+1]&&"DIV"!=t[n+1].nodeName&&"BR"!=t[n+1].nodeName&&c.length>0&&"</br>"!=c[c.length-1].text&&c.push({text:"</br>",style:""})}}(e[0].childNodes),e.empty();for(var d=[],u=0;u<c.length;u++){var p;p="</br>"==c[u].text?c[u].text:'<span style="'+c[u].style+'">'+c[u].text+"</span>",$(p).appendTo(e)}for(e.children().each(function(e){if("</br>"==c[e].text)void 0!==c[e-1]&&"</br>"!=c[e-1].text||(c[e].dy=null,d.push(c[e]));else{c[e].dy=$(this)[0].offsetTop,c[e].dx=$(this)[0].offsetLeft;var t=$(this)[0].getBoundingClientRect();c[e].w=t.width,c[e].h=t.height,0!=d.length&&d[d.length-1].style==c[e].style&&d[d.length-1].dy==c[e].dy&&0!==d.dy?(d[d.length-1].text+=c[e].text,d[d.length-1].w+=c[e].w):d.push(c[e])}}),u=0;u<d.length;u++){var h,m,f,g=d[u];if(g.style.indexOf("underline")>-1||"underline"==r.textDecoration){var v=(h=g.style.match(/fill:(.*?);/))?h[1]:s.fill,b=(m=g.dx+l.boxX)+g.w,y=f=l.boxY+g.dy+g.h-(g.h-parseInt(s.size))/2;t.line(m,f,b,y).stroke({width:Math.round(parseInt(s.size)/10),color:v})}if(g.style.indexOf("line-through")>-1||"line-through"==r.textDecoration)v=(h=g.style.match(/fill:(.*?);/))?h[1]:s.fill,b=(m=g.dx+l.boxX)+g.w,y=f=l.boxY+g.dy+g.h/2,t.line(m,f,b,y).stroke({width:Math.round(parseInt(s.size)/10),color:v})}var x,w=[],k=null;for(u=0;u<d.length;u++){var _=d[u];null!=_.dy&&null!=k&&_.dx+3>=k?(w[w.length-1].texts.push(_),k=_.dx+_.w):(w.push({texts:[_],dy:_.dy}),k=null==_.dy?null:_.dx+_.w)}x="middle"==s.anchor?l.boxX+l.boxW/2:"end"==s.anchor?l.boxX+l.boxW:l.boxX;var C=1.25;s.lineHeight&&s.lineHeight.indexOf("%")>-1&&(C=parseInt(s.lineHeight)/100);var T=t.text(function(e){for(var t=0,n=parseInt(s.size)/3.3,i=0,o=0;o<w.length;o++)e.tspan(function(e){for(var a=0,r=0,l=w[o].texts,c=0;c<l.length;c++){l[c].text="</br>"==l[c].text?" ":l[c].text;var d=e.tspan(l[c].text).attr("style",l[c].style);-1!==l[c].style.indexOf("super")?(0===c?(0===o&&(i=parseInt(s.size)*C+n),d.dy(-n-t+i)):d.dy(-n-t),t=-n,a=n):-1!==l[c].style.indexOf("sub")?(0===c?(0===o&&(i=parseInt(s.size)*C+n),d.dy(n-t+i)):d.dy(n-t),t=n,r=n):0!==t&&(0!==c&&d.dy(0-t),t=0)}i=parseInt(s.size)*C+a+r}).dy(i).attr({x:x})}),S=parseInt(s.size),M=S>=64?8:S>=40?5:S>=32?4:S>=20?3:S>=16?2:1;T.font(s).attr("font-style",r.fontStyle),T.attr("opacity",l.alpha),T.attr({y:l.boxY-parseInt(s.size)*((C-1)/2)-M,transform:"rotate("+l.deg+")"})},setPageColor:function(e,t){var n=this;"jpg"!=n.type||null!=e&&"transparent"!=e?null!=e&&"transparent"!=e?e=e.indexOf("rgb")>-1?e:"rgb("+e+")":"transparent"!=e&&(e="rgb(255,255,255)"):e="rgb(255,255,255)",t=t||n.draw;var i=$(n.dom+" #svgbackgroundid");i.length>0?i.attr("fill",e):t.rect(n.canvasSize.w,n.canvasSize.h).fill(e).attr("id","svgbackgroundid");var o=$(n.dom).html().replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href");return{w:n.canvasSize.w,h:n.canvasSize.h,x:n.canvasSize.minX,y:n.canvasSize.minY,content:o}},setWatermark:function(e,t,n){var i=this.pageColor;"transparent"==i&&(i="255,255,255"),t=t||this.canvasSize,this.draw=n||this.draw,n=this.draw;var o=this.getDarkerColor(i),a=$(this.dom+">svg").find("defs")[0],r="http://www.w3.org/2000/svg",s=[];"string"==typeof e&&(s=[e]),"object"==w(e)&&(s=e);for(var l=0;l<10;l++){var c=$("#pattern_mark_"+l);if(l>s.length-1){if(c.length){c.find("text").html("");continue}break}if(c.length)c.find("text").html(s[l]);else{var d=document.createElementNS(r,"pattern");d.setAttributeNS(null,"patternUnits","userSpaceOnUse"),d.setAttributeNS(null,"id","pattern_mark_"+l),d.setAttributeNS(null,"width","300"),d.setAttributeNS(null,"height","300"),a.appendChild(d),(e=document.createElementNS(r,"text")).style.dominantBaseline="middle",e.style.textAnchor="middle",e.setAttributeNS(null,"x","150"),e.setAttributeNS(null,"y",100*l+100),e.setAttributeNS(null,"fill","rgba("+o+",0.8)"),e.setAttributeNS(null,"font-size","18"),e.setAttributeNS(null,"transform","rotate(-45, 150, 150)"),e.textContent=$("<span/>").html(s[l]).text(),d.appendChild(e),n.rect(t.w,t.h).fill("url(#pattern_mark_"+l+")")}}var u=$(this.dom).html().replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href");return{w:t.w,h:t.h,x:t.minX,y:t.minY,content:u}},drawBrand:function(e,t,n){var i=this.pageColor;"transparent"==i&&(i="255,255,255"),t=t||this.canvasSize,this.draw=n||this.draw,n=this.draw;var o=this.getBrandColor("rgba("+i+",1)"),a=$(this.dom+">svg").find("defs")[0],r="http://www.w3.org/2000/svg",s=[];"string"==typeof e&&(s=[e]),"object"==w(e)&&(s=e);for(var l=0;l<10;l++){var c=$("#wpspattern_mark_"+l);if(l>s.length-1){if(c.length){c.find("text").html("");continue}break}if(c.length)c.find("text").html(s[l]);else{var d=document.createElementNS(r,"pattern");d.setAttributeNS(null,"patternUnits","userSpaceOnUse"),d.setAttributeNS(null,"id","wpspattern_mark_"+l),d.setAttributeNS(null,"width","300"),d.setAttributeNS(null,"height","300"),a.appendChild(d),(e=document.createElementNS(r,"text")).style.dominantBaseline="middle",e.style.textAnchor="middle",e.setAttributeNS(null,"x","150"),e.setAttributeNS(null,"y",100*l+100),e.setAttributeNS(null,"fill",o),e.setAttributeNS(null,"font-size","18"),e.setAttributeNS(null,"transform","rotate(-45, 150, 150)"),e.textContent=$("<span/>").html(s[l]).text(),d.appendChild(e),n.rect(t.w,t.h).fill("url(#wpspattern_mark_"+l+")")}}var u=$(this.dom).html().replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href");return{w:t.w,h:t.h,x:t.minX,y:t.minY,content:u}},getBrandColor:function(e){var t,n,i,o="#0000004d";function a(e){var t,n,i;if("rgb"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")){var o=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*\d+(\.\d+)?)?\)/);t=parseInt(o[1]),n=parseInt(o[2]),i=parseInt(o[3])}else t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);var a=t/255,r=n/255,s=i/255,l=Math.max(a,r,s),c=Math.min(a,r,s),d=(l+c)/2;if(l===c)return{h:0,s:0,l:100*d};var u,p=l-c,h=d>.5?p/(2-l-c):p/(l+c);switch(l){case a:u=(r-s)/p+(r<s?6:0);break;case r:u=(s-a)/p+2;break;case s:u=(a-r)/p+4}return{h:360*(u/=6),s:100*h,l:100*d}}if(null!=e){var r=function(e){var t=/#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})\b/g,n=/rgba?\(\d+,\d+,\d+(?:,(0|0?\.\d+|1))?\)/g,i=/hsla?\(\d+,\d+%,\d+%(?:,(0|0?\.\d+|1))?\)/g,o=0;if((e=e.replace(/[\s\n'"]/g,"")).match(t))o=a(e.match(t)[0],"hex");else if(e.match(n))o=a(e.match(n)[0],"rgb");else if(e.match(i)){var r=e.match(i)[0];o={h:Number(/hsla?\((\d+),/.exec(r)[1]),s:Number(/hsla?\((\d+),/.exec(r)[2]),l:Number(/hsla?\((\d+),/.exec(r)[3])}}return o.h>360&&(o.h=360),o.h<0&&(o.h=0),o}(e);t=r.h,n=r.l,i=["#0000004d","#ffffff80"],o=t<200||t>270?n<=30?i[1]:i[0]:n<=50?i[1]:i[0]}return o},getDarkerColor:function(e,t){t||(t=26);var n=e.split(","),i=parseInt(n[0]),o=parseInt(n[1]),a=parseInt(n[2]),r=Math.round(i-i/255*t);r<0&&(r=0);var s=Math.round(o-o/255*t);s<0&&(s=0);var l=Math.round(a-a/255*t);return l<0&&(l=0),r+","+s+","+l},getImageSize:function(e){return new Promise(function(t){var n=$(".shape_img[src='"+e+"']");0===n.length?((n=$("<img class='shape_img' loaded='0' src=''/>").appendTo("#shape_img_container")).bind("load.exportTest",function(){t({width:$(this).width(),height:$(this).height()}),$(this).attr("loaded","1"),n.unbind("load.exportTest")}),n.attr("src",e)):t({width:n.width(),height:n.height()})})},setCustomWatermark:function(e){$(this.dom).find("#custom_mark_rect").remove(),$(this.dom).find("#custom_mark").remove();var t,n=(e=s(s({},{text:{},img:{},w:300,h:300}),e)).w,i=e.h,o=e.img,a=o.url,r=o.angle||0,l=o.w||n,c=o.h||i,d=(t=e.text).angle||0,u=t.content,p=t.color||"0, 0, 0, 0.8",h=t.size||18,m=$(this.dom+">svg").find("defs")[0],f="http://www.w3.org/2000/svg",g=document.createElementNS(f,"pattern");if(g.setAttributeNS(null,"patternUnits","userSpaceOnUse"),g.setAttributeNS(null,"id","custom_mark"),g.setAttributeNS(null,"width",n),g.setAttributeNS(null,"height",i),m.appendChild(g),a){var v=document.createElementNS('xmlns:xlink="http://www.w3.org/1999/xlink"',"image");v.setAttributeNS(null,"patternUnits","userSpaceOnUse"),v.setAttributeNS(null,"href",a),v.setAttributeNS(null,"x",(n-l)/2),v.setAttributeNS(null,"y",(i-c)/2),v.setAttributeNS(null,"width",l),v.setAttributeNS(null,"height",c),v.setAttributeNS(null,"transform","rotate("+r+", "+n/2+", "+i/2+")"),g.appendChild(v)}u&&((t=document.createElementNS(f,"text")).style.dominantBaseline="middle",t.style.textAnchor="middle",t.setAttributeNS(null,"x",n/2),t.setAttributeNS(null,"y",i/2),t.setAttributeNS(null,"fill","rgba("+p+")"),t.setAttributeNS(null,"font-size",h),t.setAttributeNS(null,"transform","rotate("+d+", "+n/2+", "+i/2+")"),t.textContent=$("<span/>").html(u).text(),g.appendChild(t));var b=this.draw,y=this.canvasSize;b.rect(y.w,y.h).fill("url(#custom_mark)").attr("id","custom_mark_rect");var x=$(this.dom).html().replace(/custom_mark/g,"custom_mark_").replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href");return{w:y.w,h:y.h,x:y.minX,y:y.minY,content:x}}};window.flow2svg=l,t.default=l},84535:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.flowEq2Img=void 0,n(4790),n(82403),n(12638),n(69268),n(86837),t.flowEq2Img=function(){var e=C(k().mark(function e(t){var n,i,o,a,r,s,l,c,d,u,p,h,m,f,g,v,b,y,x,w,_,T;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:T=function(){return(T=C(k().mark(function e(t){var n,i,r,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="load"===editorGlobal.codeblock.loadCode,!e.t0){e.next=4;break}return e.next=4,new Promise(function(e){!1===editorGlobal.codeblock.loadCodeJs(e)&&e()});case 4:return n=t.code,i={w:t.props.w,h:t.props.h},r=$('<div class="code-area flow-code"><textarea name="code"></textarea></div>').appendTo(o),s=r.children(),r.css({position:"absolute",width:i.w-2,height:i.h-2,top:a,left:0}),e.abrupt("return",((window.CodeMirror&&CodeMirror.fromTextArea(s[0],{mode:n.language,lineNumbers:n.lineNumbers,matchBrackets:!0,autoCloseBrackets:!0,autoCloseTags:!0,autofocus:!1,foldGutter:!0,lineWrapping:n.lineWrapping,viewportMargin:1/0,indentUnit:4,singleCursorHeightPerLine:!1,theme:"base16-light"})).setValue(n.text),i));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)},_=function(e){return T.apply(this,arguments)},w=function(e,t){var n=$("<div class='text_canvas'></div>").appendTo(o);n.html(e).css(t);var i={w:n.outerWidth()};if(n.find("span.equation-text").length){insert.equation.renderEquation(n);var r=0;n.find("span.equation-text").each(function(){var e=$(this).outerWidth();e>r&&(r=e)}),r>i.w&&(i.w=r)}return i.h=n.outerHeight(),n.css({top:a+"px",left:0}),n.css({transform:"none"}),i},n=t.elements||Model.define.elements,(i=t.ids||[]).length||(i=Object.keys(n)),o=$("<div style='z-index:-1;position:fixed;top:-9999px;left:-9999px;'></div>").appendTo("body"),a=0,r=0,s={},l=0;case 10:if(!(l<i.length)){e.next=38;break}if(c=i[l],!(d=n[c])){e.next=35;break}if("code"!==d.name){e.next=21;break}return e.next=16,_(d);case 16:u=e.sent,p="code-area_"+c,s.eqImgObj||(s.eqImgObj={}),s.eqImgObj[p]={w:u.w,h:u.h,x:0,y:a},a+=u.h,r=r<u.w||0===r?u.w:r,e.next=35;break;case 21:if("linker"===d.name){e.next=35;break}h=d.getTextBlock(),m=Utils.getShapeFontStyle(d.fontStyle),f=0;case 25:if(!(f<h.length)){e.next=35;break}if(g=h[f],v=/<span[^>]*class=["'][^"']*equation-text[^"']*["'][^>]*>/i,!g.jump&&g.text&&v.test(g.text)){e.next=29;break}return e.abrupt("continue",32);case 29:m=$.extend({},m,g.fontStyle),b={width:Utils.copy(g.position).w,"line-height":100*m.lineHeight+"%","font-size":m.size+"px","font-family":m.fontFamily,"font-weight":m.bold?"bold":"normal","font-style":m.italic?"italic":"normal","text-align":m.textAlign,color:"rgb("+m.color+")","text-decoration":m.underline?"underline":m.middleline?"line-through":"none",opacity:d.shapeStyle.alpha,"word-wrap":"break-word"},y=w(g.text,b),x="text_"+c+"_"+f,s.eqImgObj||(s.eqImgObj={}),s.eqImgObj[x]={w:y.w,h:y.h,x:0,y:a},a+=y.h,r=r<y.w||0===r?y.w:r;case 32:f++,e.next=25;break;case 35:l++,e.next=10;break;case 38:if(e.t0=a&&a,!e.t0){e.next=45;break}return o.css({height:a,width:r}),s.w=r,s.h=a,e.next=45,bigPipe.render({js:[staticBasePath+"/assets/js/files/html2canvas.min.js"]},C(k().mark(function e(){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=html2canvas(o[0],{useCORS:!0,backgroundColor:"transparent",scale:3}),!t.eqBase64){e.next=5;break}s.src=n.toDataURL("image/png"),e.next=8;break;case 5:return e.next=7,new Promise(function(e,i){var o=n.toDataURL("image/png"),a={img:o};"svg"!=t.type&&(a={img:o,temporary:!0}),injectExtraAsynCall("onServerApi",{apiName:"uploadImage64",params:a},function(t){var n=t.data;e(n.url)})});case 7:s.src=e.sent;case 8:case"end":return e.stop()}},e)})));case 45:return o.remove(),e.abrupt("return",s);case 47:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},49853:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(27531),n(61894),n(54183),n(4790),n(87812),n(1053),n(82403),n(33809),n(38887),n(13253),n(6284),n(37212),n(47958),n(69268),n(58500),n(86837),n(84889),n(54938),n(14237),n(24812),n(56980),n(97316),n(92439),n(16610),n(19301);var o=n(91396),a=i(n(2612)),r=(i(n(24960)),i(n(52823))),s=n(84535),l=i(n(32483));n(15240);var c={init:function(){var e=C(k().mark(function e(t){var n,i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type||"svg",i=null,!t.fileType||"mind"!=t.fileType){e.next=8;break}return e.next=5,editorGlobal.mindMap.poExport.init(t);case 5:i=e.sent,e.next=19;break;case 8:if(!t.fileType||"outline"!=t.fileType){e.next=13;break}return e.next=11,r.default.init(t.type);case 11:return i=e.sent,e.abrupt("return",i);case 13:return e.next=15,(0,s.flowEq2Img)(t);case 15:return t.eqObj=e.sent,e.next=18,a.default.init(t.wrapper,t);case 18:i=e.sent;case 19:if("png"!=n&&"jpg"!=n&&"pnghd"!=n){e.next=25;break}return o=1,o="pnghd"==n?this.scaleMax(i.w,i.h):"jpg"==n&&"mind"!=t.fileType?1.5:1,o=t.scale||o,e.next=24,this.drawCanvas(i,o,n);case 24:return e.abrupt("return",e.sent);case 25:if("svg"!=n&&"pdfhd"!=n&&"pdfHD"!=n){e.next=27;break}return e.abrupt("return",i);case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),drawCanvas:function(){var e=C(k().mark(function e(t,n,i){var a,r,s,c,d,u,p;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.w*t.h>268435456/Math.pow(n,2))){e.next=7;break}if(!(n>1)){e.next=6;break}return a=n>2?2:n>1.5?1.5:1,e.next=5,this.drawCanvas(t,a,i);case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",{status:"exceed",tip:l.default.t("js.Picture_size_out_of_limit")});case 7:return t.content=this.scaleSvgContent(t.content,n),e.next=10,this.getReplaceSvgImages(t.content);case 10:if(r=e.sent){e.next=13;break}return e.abrupt("return",{status:"fail",tip:l.default.t("js.Some_uncredited_images_cannot_be_downloaded")});case 13:return r.length&&(t.content=this.replaceSvgImageUrls(t.content,r)),$("#canvas_exporter_"+t.index_).remove(),$('<canvas id="canvas_exporter_'+t.index_+'" width="'+t.w*n+'" height="'+t.h*n+'"></canvas>').appendTo("body"),s=$("#canvas_exporter_"+t.index_)[0],c=s.getContext("2d"),e.next=18,o.Canvg.from(c,t.content,{anonymousCrossOrigin:!0,enableRedraw:!0,forceRedraw:!0,ignoreDimensions:!0,ignoreClear:!0});case 18:return d=e.sent,e.next=21,d.render();case 21:if(u="",u=i&&-1!==i.indexOf("jpg")?s.toDataURL("image/jpeg"):s.toDataURL(),$("#canvas_exporter_"+t.index_).remove(),!(u.length<10)){e.next=29;break}if(!(n>1)){e.next=28;break}return p=n>2?2:n>1.5?1.5:1,e.next=27,this.drawCanvas(t,p,i);case 27:return e.abrupt("return",e.sent);case 28:return e.abrupt("return",{status:"exceed",tip:l.default.t("js.File_content_exceeds_download_limit")});case 29:return e.abrupt("return",{status:"success",img:u,canvas:s});case 30:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}(),setPageColor:function(e,t){return"flow"!=t?editorGlobal.mindMap.poExport.setPageColor(e):a.default.setPageColor(e)},setWatermark:function(e,t){return"flow"!=t?editorGlobal.mindMap.poExport.setWatermark(e):a.default.setWatermark(e)},drawBrand:function(e,t){return"flow"!=t?editorGlobal.mindMap.poExport.drawBrand(e):a.default.drawBrand(e)},getReplaceSvgImages:function(){var e=C(k().mark(function e(t){var n,i,o,a,r,s,l,c,d,u,p=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=/<image[^>]*\bxlink:href="([^">]*)"[^>]*>/gi,i=[];null!==(o=n.exec(t));)o.length>1&&!i.includes(o[1])&&i.push(o[1]);if(i.length){e.next=4;break}return e.abrupt("return",[]);case 4:return a=i.map(function(e){return p.checkSvgImage(t,e)}),e.next=7,Promise.all(a);case 7:return r=e.sent,s=[],l=[],r.map(function(e){e&&(e.replaceUrl?s.push(e):l.push(e))}),e.next=13,this.serverReplaceCorsImageUrls(l);case 13:return l=e.sent,c=[],l.map(function(e){!e.replaceUrl||"svg"!==e.type&&""!==e.type?s.push(e):c.push(p.checkSvgImage(t,e.replaceUrl,e.url))}),e.next=18,Promise.all(c);case 18:if(d=e.sent,(u=[].concat(s,h(d))).filter(function(e){return!e.replaceUrl}).length){e.next=22;break}return e.abrupt("return",u);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),checkSvgImage:function(){var e=C(k().mark(function e(t,n,i){var o,a,r,s,l,c,d,u,p,h;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e){return e.includes("png")?"png":e.includes("svg")?"svg":e.includes("jpeg")?"jpg":e.includes("gif")?"gif":e},e.prev=1,a=n,n.startsWith("blob:")||n.startsWith("data:image/")||((a=$("<span>").html(n).text()).includes("?")?a+="&_t="+Date.now():a+="?_t="+Date.now()),e.next=6,new Promise(function(e,t){injectExtraAsynCall("getImageText",{url:a},function(){var t=C(k().mark(function t(r){var s,l,c;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.text||!r.type){t.next=4;break}"svg"!=r.type?e({url:n,type:"svg",replaceUrl:$("<span>").text(a+"1").html()}):e(r),t.next=16;break;case 4:return t.next=6,fetch(a);case 6:if(!(s=t.sent).headers.has("Content-Type")||!s.headers.get("Content-Type").includes("image/svg+xml")){t.next=14;break}return t.next=10,s.text();case 10:l=t.sent,e({type:"svg",text:l}),t.next=16;break;case 14:c=s.headers.get("Content-Type"),i&&e({url:i,type:o(c),replaceUrl:n}),n.startsWith("blob:")||n.startsWith("data:image/")||e({url:n,type:o(c),replaceUrl:$("<span>").text(a+"1").html()}),e();case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())});case 6:if((!(r=e.sent)||"svg"==r.type)&&r){e.next=9;break}return e.abrupt("return",r);case 9:return s=r.text,l=this.replaceSvgImageData(t,s,i||n),e.next=13,this.svgToBase64(l);case 13:return c=e.sent,e.abrupt("return",{url:i||n,type:"svg",replaceUrl:c});case 17:return e.prev=17,e.t0=e.catch(1),i&&(n=i),d="",e.t0.response?(u=e.t0.response.headers.get("Content-Type"),d=o(u)):(p=n.split("?")[0],-1!==(h=p.lastIndexOf("."))&&(d=p.slice(h+1),["svg","png","jpg","jpeg","gif"].includes(d)||(d=""))),e.abrupt("return",{url:n,type:d});case 23:case"end":return e.stop()}},e,this,[[1,17]])}));return function(t,n,i){return e.apply(this,arguments)}}(),replaceSvgImageData:function(e,t,n){var i={imgCode:"",scale:1},o=150,a=150;i.imgCode=t.replace(/<svg[^>]*>/g,function(e){var t=e.match(/ width=["']([^"']+)["']/),n=e.match(/ height=["']([^"']+)["']/);return t&&n?(o=parseFloat(t[1]),a=parseFloat(n[1]),e):e.replace(/ viewBox=(["'])([^"]+)\1/g,function(e,i,r){var s=r.trim().split(" ");return 4===s.length&&(t||(e+=" width="+i+s[2]+i,o=parseFloat(s[2])),n||(e+=" height="+i+s[3]+i,a=parseFloat(s[3]))),e})});var r=e.match(/<image[^>]*\bxlink:href="([^">]*)"[^>]*>/gi);return r&&r.forEach(function(e){if(e.includes(n)){var t=e.match(/ width="([^"]+)"/),r=e.match(/ height="([^"]+)"/);if(t&&r){var s=parseFloat(t[1]),l=parseFloat(r[1]),c=Math.ceil(Math.max(s/o,l/a));c>i.scale&&(i.scale=c)}}}),i},svgToBase64:function(e){return new Promise(function(t,n){var i=function(){var n=new Blob([e.imgCode],{type:"image/svg+xml;"}),i=new FileReader;i.onload=function(){t(i.result)},i.onerror=function(){t("")},i.readAsDataURL(n)};!function(){var n=new Blob([e.imgCode],{type:"image/svg+xml"}),o=URL.createObjectURL(n),a=new Image;a.onload=function(){var n=document.createElement("canvas");n.width=a.width*e.scale,n.height=a.height*e.scale,n.getContext("2d").drawImage(a,0,0,n.width,n.height);try{var r=n.toDataURL("image/png");t(r)}catch(e){i()}finally{URL.revokeObjectURL(o)}},a.onerror=function(){i()},a.src=o}()})},serverReplaceCorsImageUrls:function(e){if(!e||!e.length)return[];var t=e.map(function(e){return encodeURIComponent(e.url)});return new Promise(function(n,i){injectExtraAsynCall("onServerApi",{apiName:"processCorsImage",params:{urls:t.join(","),temporary:!0}},function(t){var i=t.data.urls;i&&i.length&&e.map(function(e,t){return e.url.includes(".processon.com")?e.replaceUrl="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7":i[t]&&(e.replaceUrl=$("<span>").text(i[t]).html()),e}),n(e)},function(){n(e)})})},replaceSvgImageUrls:function(e,t){return e.replace(/<image[^>]*\bxlink:href="([^">]*)"[^>]*>/gi,function(e,n){var i=t.find(function(e){return e.url===n});return i?e.replace(i.url,i.replaceUrl):e})},replaceSvgContent:function(e){return(e=e.replace(/<svg[^>]*>/,function(e){return e.replace(/transform[^;]*;/g,"")})).replace(/(<tspan[^>]*>)([\u00a0 ])/g," $1").replace(/([\u00a0 ])(<\/tspan>)/g,"$2 ").replace(/\u00a0/g,"<tspan> </tspan>")},scaleSvgContent:function(e,t){if(1!==t){var n=new RegExp("<(?!"+["linearGradient","radialGradient"].join("|")+" )([^>]*)>","g");e=e.replace(n,function(e){var n=new RegExp(" ("+["width","height","x","y","x1","y1","x2","y2","dx","dy","r","cx","cy","rx","ry","font-size","stroke-width","markerWidth","markerHeight","refX","refY"].join("|")+')="([^"]+)"',"g");e=e.replace(n,function(e,n,i){return" "+n+'="'+parseFloat(i)*t+'"'});var i=new RegExp(" ("+["viewBox","d","stroke-dasharray","points"].join("|")+')="([^"]+)"',"g");e=e.replace(i,function(e,n,i){return i=i.replace(/\d+(\.\d+)?/g,function(e){return parseFloat(e)*t}),"d"===n&&(i.includes("a")||i.includes("A"))&&(i=i.replace(/a[^mlhvcsqtaz]+/gi,function(e){var n=0;return e.replace(/\d+(\.\d+)?/g,function(e){return[3,4,5].includes(++n%7)?e/t:e})}))," "+n+'="'+i+'"'});var o=new RegExp(" ("+["transform"].join("|")+')="([^"]+)"',"g");e=e.replace(o,function(e,n,i){return" "+n+'="'+(i=(i=(i=i.replace(/translate\([^)]+\)/g,function(e){return e.replace(/\d+(\.\d+)?/g,function(e){return parseFloat(e)*t})})).replace(/rotate\(([^,)]+)[, ]+([^,)]+)[, ]+([^,)]+)\)/g,function(e,n,i,o){return"rotate("+n+","+(i=parseFloat(i)*t)+","+(o=parseFloat(o)*t)+")"})).replace(/matrix\(([^,)]+),([^,)]+),([^,)]+),([^,)]+),([^,)]+),([^,)]+)\)/g,function(e,n,i,o,a,r,s){return"matrix("+n+","+i+","+o+","+a+","+(r=parseFloat(r)*t)+","+(s=parseFloat(s)*t)+")"}))+'"'});var a=new RegExp(" ("+["style"].join("|")+')="([^"]+)"',"g"),r=new RegExp("(^|;| )("+["width","height","left","top","font-size","stroke-width","stroke-dasharray"].join("|")+"):([^;]+)(?=;|$)","g");return e.replace(a,function(e,n,i){return" "+n+'="'+(i=i.replace(r,function(e){return e.replace(/\d+(\.\d+)?/g,function(e){return parseFloat(e)*t})}))+'"'})})}return this.replaceSvgContent(e)},setCustomWatermark:function(e,t,n){var i={};return e&&(i.img=e),t&&(i.text=t),"flow"!=n?editorGlobal.mindMap.poExport.setCustomWatermark({img:e,text:t}):a.default.setCustomWatermark({img:e,text:t})},scaleMax:function(e,t){var n=Math.sqrt(268435456/(Math.ceil(e)*Math.ceil(t))),i=Math.floor(10*n)/10;return i>8?3:i>4?2:i>2?1.5:1}};t.default=c},6716:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.poMindSvgColor=t.poMindSvg=void 0,t.poMindSvg={0:'d="M508.295791 3.713113C227.559513 3.713113 0 231.27262601 0 512s227.568417 508.286887 508.295791 508.286887c280.71847001 0 508.286887-227.568417 508.28688699-508.286887S789.014261 3.713113 508.295791 3.713113zM564.57126999 785.114157l-66.52438299 0L498.046887 361.22267799c-16.01892199 15.279861-37.02427801 30.550817-63.01607 45.82177401-25.991791 15.279861-49.338991 26.730852-70.032696 34.370783l0-64.3072c37.202365-17.488139 69.721043-38.680487 97.564939-63.568139 27.834991-24.878748 47.549217-49.027339 59.13377399-72.43686999l42.86553001-2e-8L564.562365 785.114157z"',1:'d="M512.036126 4.262904c-280.448474 0-507.75516 227.342812-507.75516 507.773223 0 280.412348 227.306685 507.75516 507.75516 507.75516 280.430411 0 507.737096-227.342812 507.737096-507.75516C1019.773223 231.623778 792.466537 4.262904 512.036126 4.262904zM654.608573 756.520868 360.630799 756.520868l0-11.650732c1.896631-29.099735 15.498183-55.309367 40.750467-78.592768 25.216158-23.283401 57.224061-59.680649 96.059834-109.155618 38.781584-49.493032 64.015805-87.786911 75.666537-114.990016 11.650732-27.148915 16.022014-50.432316 13.113847-69.850203-2.908167-19.38176-12.1565-35.385712-27.654683-48.029917-15.552373-12.590016-33.489081-17.918645-53.846252-16.003951-20.375234 1.95082-39.79312 9.736038-58.217534 23.283401-18.46054 13.601552-32.513671 33.976786-42.213583 61.125701l-55.309367-8.724502c15.498183-44.615982 35.385712-77.147716 59.680649-97.504886 24.240748-20.375234 52.852778-31.520198 85.872217-33.471018 19.363697-1.914694 36.830764-1.463115 52.383136 1.463115 15.498183 2.908167 31.520198 9.736038 48.029917 20.375234 16.45553 10.693385 30.057082 26.697336 40.750467 48.029917 10.639196 21.38677 14.558899 47.07257 11.650732 77.147716-2.908167 30.111272-17.972835 65.984689-45.12175 107.692503-27.203105 41.762004-79.586241 107.240924-157.185535 196.454824L654.608573 704.119668 654.608573 756.520868z"',2:'d="M512.036126 4.262904c-280.448474 0-507.75516 227.342812-507.75516 507.75516 0 280.412348 227.306685 507.75516 507.75516 507.75516 280.430411 0 507.737096-227.342812 507.737096-507.75516C1019.773223 231.623778 792.466537 4.262904 512.036126 4.262904zM653.163521 638.604622c-4.877051 37.860363-21.838349 68.405151-50.938084 91.688552s-62.119174 34.464491-98.949938 33.489081c-36.884953-0.957347-68.892856-12.590016-96.059834-34.934133-27.185041-22.289928-44.670171-54.803599-52.383136-97.504886l52.383136-8.724502c7.749092 25.234221 20.375234 46.133286 37.8423 62.570753 17.48513 16.50972 39.305415 24.313001 65.496984 23.283401 26.191568-0.957347 47.018381-11.650732 62.570753-31.989839 15.498183-20.393297 22.271865-43.676698 20.375234-69.850203-1.95082-26.209631-12.138437-46.584865-30.562851-61.143764-18.442477-14.558899-48.011854-24.746516-88.762321-30.562851l0-37.8423c40.750467-3.865514 70.301782-14.558899 88.762321-32.025966 18.442477-17.467067 26.66121-40.244699 24.746516-68.405151-1.95082-28.106262-14.558899-48.481496-37.8423-61.125701-23.283401-12.590016-48.029917-14.053131-74.221485-4.371282-26.191568 9.736038-47.054507 36.884953-62.588816 81.500935l-52.383136-8.724502c11.650732-34.934133 27.654683-64.033868 48.029917-87.317269s48.029917-36.848827 82.96405-40.750467c34.91607-3.865514 65.47892 0.487705 91.688552 13.095784 26.191568 12.644205 44.615982 32.007903 55.309367 58.217534 10.639196 26.209631 12.102311 54.857788 4.353219 85.872217-7.785218 31.068619-30.111272 58.217534-66.942036 81.500935 27.148915 11.650732 48.029917 29.099735 62.588816 52.383136C653.163521 570.199471 657.986382 600.798448 653.163521 638.604622z"',3:['d="M558.566802 596.409102 558.566802 366.465197 395.564932 596.409102Z"','d="M512.036126 4.262904c-280.448474 0-507.75516 227.324749-507.75516 507.773223 0 280.412348 227.306685 507.75516 507.75516 507.75516 280.430411 0 507.737096-227.342812 507.737096-507.75516C1019.773223 231.587652 792.466537 4.262904 512.036126 4.262904zM683.726371 645.902134l-69.850203 0 0 110.60067-55.309367 0 0-110.60067L334.439231 645.902134l0-49.493032 235.76024-340.544576 43.658635 0 0 340.544576 69.850203 0L683.708308 645.902134z"'],4:'d="M512.036126 4.262904c-280.448474 0-507.75516 227.360875-507.75516 507.773223 0 280.448474 227.306685 507.75516 507.75516 507.75516 280.430411 0 507.737096-227.306685 507.737096-507.75516C1019.773223 231.623778 792.466537 4.262904 512.036126 4.262904zM656.071688 599.371459c-1.011536 21.38677-5.364756 43.225119-13.113847 65.47892-7.785218 22.326054-19.417887 40.750467-34.934133 55.32743-15.552373 14.540836-34.464491 26.173505-56.772482 34.934133-22.326054 8.706439-48.011854 12.138437-77.111589 10.187617-29.117799-1.896631-56.772482-12.590016-82.96405-32.025966-26.191568-19.363697-44.164403-52.383136-53.846252-98.968001l52.383136-14.576962c13.565426 52.419263 36.848827 81.537061 69.868266 87.353396 32.96525 5.816334 59.662586 2.438525 80.019757-10.187617 20.375234-12.590016 34.952196-29.099735 43.676698-49.493032 8.724502-20.357171 12.590016-43.152866 11.650732-68.405151-1.011536-25.198095-7.785218-46.566802-20.375234-64.015805-12.644205-17.467067-28.66622-29.099735-48.029917-34.934133-19.417887-5.816334-41.256236-5.816334-65.47892 0-24.294937 5.816334-44.14634 19.417887-59.680649 40.750467l-49.474969-5.816334c3.865514-11.650732 22.271865-95.066361 55.309367-250.319139l229.943905 0 0 52.383136L450.874299 317.044417c-9.736038 52.383136-19.417887 94.14514-29.117799 125.177633 29.117799-13.565426 56.266714-19.887529 81.518998-18.930182 25.180032 1.011536 49.474969 6.827871 72.75837 17.467067 23.283401 10.693385 40.262762 25.234221 50.938084 43.658635 10.639196 18.46054 18.424413 36.884953 23.283401 55.32743C655.078215 558.151349 657.029035 578.020815 656.071688 599.371459z"',5:['d="M580.441277 506.201729c-24.294937-15.516246-51.461916-21.332581-81.500935-17.467067-30.111272 3.901641-51.931558 18.46054-65.496984 43.658635-13.583489 25.234221-19.399824 51.931558-17.467067 80.055883 1.914694 28.160452 11.650732 51.443853 29.099735 69.850203 17.48513 18.46054 40.768531 28.648157 69.868266 30.544787 29.099735 1.968883 53.340483-7.731028 72.75837-29.099735 19.363697-21.314518 29.099735-52.383136 29.099735-93.133604S604.682025 521.754101 580.441277 506.201729z"','d="M512.054189 4.262904c-280.430411 0-507.773223 227.342812-507.773223 507.773223 0 280.430411 227.342812 507.75516 507.773223 507.75516 280.412348 0 507.719033-227.324749 507.719033-507.75516C1019.773223 231.605715 792.466537 4.262904 512.054189 4.262904zM667.758546 663.405327c-8.724502 25.216158-24.294937 48.011854-46.566802 68.405151-22.326054 20.357171-53.394673 31.538261-93.151667 33.471018-39.79312 1.95082-73.751843-5.310566-101.858105-21.820286-28.160452-16.473593-47.578338-39.756994-58.217534-69.868266-10.693385-30.057082-15.064667-59.174881-13.113847-87.335333 1.896631-28.088199 7.27945-51.877368 16.022014-71.295255 8.724502-19.38176 21.820286-43.658635 39.287352-72.776433l119.343235-186.285271 66.942036 0-122.233339 192.101605c52.383136-13.547363 94.072888-11.650732 125.141506 5.816334 31.032493 17.467067 51.895431 37.390721 62.588816 59.680649 10.639196 22.344117 16.45553 46.584865 17.467067 72.75837C680.348562 612.44918 676.483048 638.189169 667.758546 663.405327z"'],6:'d="M512.054189 4.262904c-280.430411 0-507.773223 227.342812-507.773223 507.75516 0 280.448474 227.342812 507.773223 507.773223 507.773223 280.412348 0 507.719033-227.324749 507.719033-507.773223C1019.773223 231.605715 792.466537 4.262904 512.054189 4.262904zM669.203599 314.08206c-91.236973 147.503687-151.333075 295.007373-180.450873 442.456871l-64.051932 0c34.952196-147.449497 96.059834-293.995837 183.377104-439.53064L357.758758 317.008291l0-52.383136 311.44484 0L669.203599 314.08206z"',7:['d="M512.054189 4.262904c-280.430411 0-507.773223 227.306685-507.773223 507.773223 0 280.394285 227.342812 507.75516 507.773223 507.75516 280.412348 0 507.719033-227.360875 507.719033-507.75516C1019.773223 231.587652 792.466537 4.262904 512.054189 4.262904zM647.383313 683.744435c-8.724502 17.467067-18.46054 32.025966-29.099735 43.676698-10.693385 11.650732-25.234221 20.862939-43.658635 27.63662-18.46054 6.827871-41.762004 10.169554-69.868266 10.169554-28.160452 0-52.383136-3.359746-72.75837-10.169554-20.375234-6.773681-37.372658-16.961298-50.938084-30.562851-13.601552-13.547363-22.831822-29.569377-27.63662-48.011854-4.877051-18.424413-7.27945-39.305415-7.27945-62.588816s5.816334-46.079097 17.467067-68.405151c11.650732-22.289928 31.032493-40.262762 58.217534-53.846252-23.283401-13.547363-38.81771-28.61203-46.566802-45.12175-7.785218-16.45553-12.138437-35.385712-13.095784-56.754419-1.011536-21.332581 1.896631-39.756994 8.724502-55.309367 6.773681-15.498183 16.943235-30.057082 30.544787-43.658635 13.565426-13.547363 28.61203-22.777633 45.12175-27.654683 16.45553-4.822861 34.428365-7.27945 53.846252-7.27945 19.363697 0 36.830764 1.95082 52.383136 5.816334 15.498183 3.901641 32.007903 12.138437 49.474969 24.746516 17.467067 12.644205 30.057082 30.562851 37.8423 53.846252 7.749092 23.301464 7.27945 50.486506-1.445052 81.500935-8.724502 31.068619-31.574387 55.309367-68.405151 72.776433 32.96525 9.736038 56.248651 24.746516 69.850203 45.12175 13.565426 20.375234 20.375234 45.12175 20.375234 74.221485S656.107814 666.277368 647.383313 683.744435z"','d="M500.403457 465.433198c29.099735 0 50.920021-8.724502 65.47892-26.191568 14.576962-17.467067 21.350644-38.293879 20.393297-62.570753-1.011536-24.240748-9.736038-42.213583-26.209631-53.846252-16.491656-11.650732-38.81771-16.45553-66.942036-14.558899-28.160452 1.95082-48.029917 10.187617-59.680649 24.746516s-17.467067 31.574387-17.467067 50.938084c0 19.417887 6.791745 37.8423 20.375234 55.309367C449.916952 456.690633 471.285659 465.433198 500.403457 465.433198z"','d="M564.419263 545.471018c-21.38677-14.558899-44.652108-20.826812-69.850203-18.930182-25.234221 1.95082-46.133286 10.693385-62.588816 26.191568-16.50972 15.552373-25.234221 34.934133-26.191568 58.235597-1.011536 23.283401 2.908167 43.658635 11.650732 61.125701s24.728453 28.648157 48.029917 33.489081c23.283401 4.877051 47.524149 4.353219 72.75837-1.463115 25.198095-5.816334 42.647098-19.363697 52.383136-40.750467 9.681849-21.332581 13.113847-42.665161 10.187617-64.033868C597.908344 578.002752 585.751843 560.029917 564.419263 545.471018z"'],8:['d="M557.139813 331.549127c-16.491656-13.547363-34.464491-20.375234-53.828188-20.375234-11.650732-1.896631-26.7154 1.011536-45.12175 8.724502-18.46054 7.785218-33.019439 23.283401-43.658635 46.566802-10.693385 23.283401-14.558899 47.578338-11.650732 72.776433 2.908167 25.234221 13.547363 46.115223 32.007903 62.570753 18.424413 16.50972 38.293879 23.807232 59.680649 21.838349 21.332581-1.896631 38.293879-7.731028 50.920021-17.467067 12.608079-9.681849 24.746516-26.191568 36.397248-49.474969 7.731028-29.099735 9.681849-53.846252 5.816334-74.221485C583.78296 362.111977 573.613406 345.150679 557.139813 331.549127z"','d="M512.054189 4.280967c-280.430411 0-507.773223 227.360875-507.773223 507.773223 0 280.412348 227.342812 507.719033 507.773223 507.719033 280.412348 0 507.719033-227.306685 507.719033-507.719033C1019.773223 231.641842 792.466537 4.280967 512.054189 4.280967zM625.544964 512.018063c-19.417887 40.750467-66.942036 125.141506-142.608573 253.24537L418.884459 765.263433c42.665161-71.801023 77.599294-136.810302 104.802399-195.027836-48.535685 7.767155-88.780385 1.445052-120.80635-18.912119-32.007903-20.393297-51.443853-48.04798-58.217534-82.96405-6.827871-34.934133-6.340166-66.454331 1.445052-94.596719 7.731028-28.124325 19.887529-51.407726 36.397248-69.850203 16.45553-18.442477 36.379185-31.520198 59.662586-39.305415 23.301464-7.731028 44.110213-11.650732 62.588816-11.650732 18.424413 0 37.336532 3.919704 56.754419 11.650732 19.363697 7.785218 36.830764 19.417887 52.383136 34.934133 15.498183 15.552373 26.191568 31.556324 32.007903 48.029917 5.816334 16.50972 8.724502 37.8423 8.724502 64.033868S644.926724 471.267596 625.544964 512.018063z"'],9:'d="M512 960.248024c-247.548002 0-448.248024-200.701045-448.248024-448.248024 0-247.567445 200.701045-448.248024 448.248024-448.248024 247.567445 0 448.248024 200.680579 448.248024 448.248024C960.248024 759.546979 759.567445 960.248024 512 960.248024L512 960.248024zM512.019443 100.034321c-227.490178 0-411.916561 184.41615-411.916561 411.92577 0 227.469712 184.426383 411.92577 411.916561 411.92577 227.508597 0 411.945213-184.455035 411.945213-411.92577C923.964656 284.451494 739.529063 100.034321 512.019443 100.034321L512.019443 100.034321zM305.999253 645.832078l0 19.86442c0 0 103.199407 67.023486 209.68772 67.023486 105.535615 0 202.150046-69.339228 202.150046-69.339228L717.837019 645.832078c0 0-97.41261 55.331189-202.150046 55.331189C408.430156 701.162244 305.999253 645.832078 305.999253 645.832078L305.999253 645.832078zM648.566352 450.637444c-37.121456 0-67.217914-29.075199-67.217914-64.922638 0-35.855626 30.097482-64.941058 67.217914-64.941058 37.139875 0 67.227124 29.085432 67.227124 64.941058C715.783243 421.562245 685.695994 450.637444 648.566352 450.637444L648.566352 450.637444zM381.786333 450.637444c-37.130665 0-67.237357-29.075199-67.237357-64.922638 0-35.855626 30.106692-64.941058 67.237357-64.941058 37.120432 0 67.216891 29.085432 67.216891 64.941058C449.004247 421.562245 418.906765 450.637444 381.786333 450.637444L381.786333 450.637444zM381.786333 450.637444"',10:'d="M511.962138 28.606525c-266.832208 0-483.140719 216.309534-483.140719 483.140719s216.309534 483.140719 483.140719 483.140719 483.140719-216.309534 483.140719-483.140719S778.794345 28.606525 511.962138 28.606525zM511.962138 954.62598c-244.594741 0-442.87976-198.283995-442.87976-442.87976S267.366374 68.866461 511.962138 68.866461s442.87976 198.283995 442.87976 442.87976S756.557902 954.62598 511.962138 954.62598zM262.842337 527.096836c0.164752-40.668235 19.918655-73.529667 44.262086-73.529667 24.445762 0 44.26311 33.138748 44.26311 74.016761s-19.816325 74.016761-44.26311 74.016761c-24.343431 0-44.096311-32.861432-44.262086-73.503061L262.842337 527.096836zM670.492734 527.096836c0.164752-40.668235 19.918655-73.529667 44.262086-73.529667 24.445762 0 44.26311 33.138748 44.26311 74.016761s-19.816325 74.016761-44.26311 74.016761c-24.343431 0-44.096311-32.861432-44.262086-73.503061L670.492734 527.096836zM447.040523 734.697011c0.781806-12.010545 28.880771-21.643949 63.427588-21.643949 35.039028 0 63.442938 9.908674 63.442938 22.131043s-28.40391 22.131043-63.442938 22.131043c-34.546817 0-62.644759-9.632381-63.425541-21.618367L447.040523 734.697011z"',11:'d="M512 966.889281c-251.235998 0-454.889281-203.674773-454.889281-454.889281 0-251.235998 203.654306-454.889281 454.889281-454.889281 251.226788 0 454.889281 203.654306 454.889281 454.889281C966.889281 763.215532 763.216555 966.889281 512 966.889281L512 966.889281zM512.020466 91.552136c-232.184083 0-420.397722 188.205453-420.397722 420.387489 0 232.184083 188.213639 420.397722 420.397722 420.397722 232.17385 0 420.397722-188.213639 420.397722-420.397722C932.418188 279.757588 744.193293 91.552136 512.020466 91.552136L512.020466 91.552136zM302.936497 706.335057l0-33.04972c0 0 104.738459-61.975517 212.795501-61.975517 107.098203 0 205.14424 61.975517 205.14424 61.975517l0 33.04972c0 0-98.845239-61.95505-205.14424-61.95505-108.84601 0-212.795501 64.324004-212.795501 64.324004L302.936497 706.335057zM638.417201 494.742964c-34.295084 0-62.093197-46.218648-62.093197-103.198383 0-56.999179 27.799136-103.219873 62.093197-103.219873s62.072731 46.219671 62.072731 103.219873C700.490955 448.524317 672.702052 494.742964 638.417201 494.742964L638.417201 494.742964zM392.009162 494.742964c-34.295084 0-62.082964-46.218648-62.082964-103.198383 0-56.999179 27.788903-103.219873 62.082964-103.219873 34.284851 0 62.082964 46.219671 62.082964 103.219873C454.092126 448.524317 426.294013 494.742964 392.009162 494.742964L392.009162 494.742964zM392.009162 494.742964"',17:'d="M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64M512 512 512 100.693333c-227.157333-0.298667-411.562667 183.594667-411.861333 410.752-0.298667 227.157333 183.594667 411.562667 410.752 411.904 227.157333 0.256 411.52-183.637333 411.861333-410.752C922.922667 403.413333 879.658667 298.666667 802.602667 221.44L512 512z"',18:'d="M512 44.00000001c247.424 0 448 200.576 448 447.99999999S759.424 940 512 940 64 739.42400001 64 492 264.576 44.00000001 512 44.00000001M512 492L512 80.69333301c-227.157333 0-411.306667 184.149333-411.306667 411.30666699s184.149333 411.349333 411.306667 411.349333 411.349333-184.149333 411.349333-411.349333l0 0L512 492z"',19:'d="M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64M512 512 512 100.693333c-227.157333-0.298667-411.562667 183.594667-411.861333 410.752-0.298667 227.157333 183.594667 411.562667 410.752 411.904 109.44 0.128 214.357333-43.349333 291.669333-120.746667L512 512z"',20:'d="M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64M512 512 512 100.693333c-227.157333-0.042667-411.349333 184.021333-411.434667 411.178667-0.042667 227.157333 184.021333 411.392 411.178667 411.477333 0.085333 0 0.170667 0 0.256 0L512 512z"',21:'d="M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64M512 512 512 100.693333c-227.157333 0.298667-411.050667 184.704-410.752 411.861333 0.128 108.757333 43.349333 213.034667 120.192 290.005333L512 512z"',22:'d="M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64M512 512 512 100.693333c-227.157333 0-411.306667 184.149333-411.306667 411.306667L512 512z"',23:'d="M512 64c247.424 0 448 200.576 448 448S759.424 960 512 960 64 759.424 64 512 264.576 64 512 64M512 512 512 100.693333C402.986667 100.821333 298.453333 144.256 221.44 221.44L512 512z"',24:'d="M512.466048 65.278976c-246.434816 0-446.211072 199.771136-446.211072 446.200832 0 246.424576 199.776256 446.216192 446.211072 446.216192 246.429696 0 446.205952-199.791616 446.205952-446.216192C956.672 265.051136 756.895744 65.278976 510.466048 65.278976zM798.789632 420.78208 478.706688 740.810752c-6.529024 6.57408-17.169408 6.57408-23.663616 0l-47.312896-47.75936c-6.490112-6.554624-17.164288-17.272832-23.653376-23.886848l-110.068736-115.68128c-3.227648-3.28704-4.953088-7.82336-4.953088-12.151808 0-4.303872 1.72544-8.428544 4.953088-11.73504l48.234496-43.470848c3.262464-3.326976 7.629824-4.953088 11.938816-4.932608 4.248576 0.039936 8.482816 1.680384 11.715584 4.932608l109.147136 111.397888c6.495232 6.608896 17.134592 6.608896 23.663616 0l249.137152-248.42752c6.495232-6.549504 17.129472-6.549504 23.62368 0l47.323136 47.798272C805.30944 403.429376 805.30944 414.208 798.789632 420.78208z"',26:'d="M784.352 184.224c-15.968-6.624-34.304-2.944-46.496 9.248-53.92 53.888-141.696 53.92-195.68 0-87.264-87.168-229.12-87.168-316.32 0-8.032 7.968-12.512 18.848-12.512 30.176l0 554.656c0 23.552 19.072 42.656 42.656 42.656s42.656-19.104 42.656-42.656l0-194.272c54.24-42.528 133.152-38.88 183.168 11.104 87.264 87.168 229.152 87.168 316.32 0 8.032-8.032 12.512-18.848 12.512-30.176l0-341.344c0-17.28-10.4-32.8-26.336-39.424z"',27:'d="M784.352 184.224c-15.968-6.624-34.304-2.944-46.496 9.248-53.92 53.888-141.696 53.92-195.68 0-87.264-87.168-229.12-87.168-316.32 0-8.032 7.968-12.512 18.848-12.512 30.176l0 554.656c0 23.552 19.072 42.656 42.656 42.656s42.656-19.104 42.656-42.656l0-194.272c54.24-42.528 133.152-38.88 183.168 11.104 87.264 87.168 229.152 87.168 316.32 0 8.032-8.032 12.512-18.848 12.512-30.176l0-341.344c0-17.28-10.4-32.8-26.336-39.424z"',28:'d="M784.352 184.224c-15.968-6.624-34.304-2.944-46.496 9.248-53.92 53.888-141.696 53.92-195.68 0-87.264-87.168-229.12-87.168-316.32 0-8.032 7.968-12.512 18.848-12.512 30.176l0 554.656c0 23.552 19.072 42.656 42.656 42.656s42.656-19.104 42.656-42.656l0-194.272c54.24-42.528 133.152-38.88 183.168 11.104 87.264 87.168 229.152 87.168 316.32 0 8.032-8.032 12.512-18.848 12.512-30.176l0-341.344c0-17.28-10.4-32.8-26.336-39.424z"',29:'d="M784.352 184.224c-15.968-6.624-34.304-2.944-46.496 9.248-53.92 53.888-141.696 53.92-195.68 0-87.264-87.168-229.12-87.168-316.32 0-8.032 7.968-12.512 18.848-12.512 30.176l0 554.656c0 23.552 19.072 42.656 42.656 42.656s42.656-19.104 42.656-42.656l0-194.272c54.24-42.528 133.152-38.88 183.168 11.104 87.264 87.168 229.152 87.168 316.32 0 8.032-8.032 12.512-18.848 12.512-30.176l0-341.344c0-17.28-10.4-32.8-26.336-39.424z"',30:'d="M784.352 184.224c-15.968-6.624-34.304-2.944-46.496 9.248-53.92 53.888-141.696 53.92-195.68 0-87.264-87.168-229.12-87.168-316.32 0-8.032 7.968-12.512 18.848-12.512 30.176l0 554.656c0 23.552 19.072 42.656 42.656 42.656s42.656-19.104 42.656-42.656l0-194.272c54.24-42.528 133.152-38.88 183.168 11.104 87.264 87.168 229.152 87.168 316.32 0 8.032-8.032 12.512-18.848 12.512-30.176l0-341.344c0-17.28-10.4-32.8-26.336-39.424z"',31:'d="M784.352 184.224c-15.968-6.624-34.304-2.944-46.496 9.248-53.92 53.888-141.696 53.92-195.68 0-87.264-87.168-229.12-87.168-316.32 0-8.032 7.968-12.512 18.848-12.512 30.176l0 554.656c0 23.552 19.072 42.656 42.656 42.656s42.656-19.104 42.656-42.656l0-194.272c54.24-42.528 133.152-38.88 183.168 11.104 87.264 87.168 229.152 87.168 316.32 0 8.032-8.032 12.512-18.848 12.512-30.176l0-341.344c0-17.28-10.4-32.8-26.336-39.424z"',32:'d="M784.352 184.224c-15.968-6.624-34.304-2.944-46.496 9.248-53.92 53.888-141.696 53.92-195.68 0-87.264-87.168-229.12-87.168-316.32 0-8.032 7.968-12.512 18.848-12.512 30.176l0 554.656c0 23.552 19.072 42.656 42.656 42.656s42.656-19.104 42.656-42.656l0-194.272c54.24-42.528 133.152-38.88 183.168 11.104 87.264 87.168 229.152 87.168 316.32 0 8.032-8.032 12.512-18.848 12.512-30.176l0-341.344c0-17.28-10.4-32.8-26.336-39.424z"',33:'d="M129 513 513 897 513 673 897 673 897 353 513 353 513 129Z"',34:'d="M897 513 513 129 513 353 129 353 129 673 513 673 513 897Z"',35:'d="M513 129 129 513 353 513 353 897 673 897 673 513 897 513Z"',36:'d="M513 897 897 513 673 513 673 129 353 129 353 513 129 513Z"',37:'d="M962 512l-361.147-450v230.625h-177.705v-230.625l-361.148 450 361.147 450v-230.625h177.705v230.625z"',38:'d="M510.466048 65.278976c-246.434816 0-446.211072 199.771136-446.211072 446.200832 0 246.424576 199.776256 446.216192 446.211072 446.216192 246.429696 0 446.205952-199.791616 446.205952-446.216192C956.672 265.051136 756.895744 65.278976 510.466048 65.278976zM798.789632 420.78208 478.706688 740.810752c-6.529024 6.57408-17.169408 6.57408-23.663616 0l-47.312896-47.75936c-6.490112-6.554624-17.164288-17.272832-23.653376-23.886848l-110.068736-115.68128c-3.227648-3.28704-4.953088-7.82336-4.953088-12.151808 0-4.303872 1.72544-8.428544 4.953088-11.73504l48.234496-43.470848c3.262464-3.326976 7.629824-4.953088 11.938816-4.932608 4.248576 0.039936 8.482816 1.680384 11.715584 4.932608l109.147136 111.397888c6.495232 6.608896 17.134592 6.608896 23.663616 0l249.137152-248.42752c6.495232-6.549504 17.129472-6.549504 23.62368 0l47.323136 47.798272C805.30944 403.429376 805.30944 414.208 798.789632 420.78208z"',39:'d="M511.674589 63.444984c-247.481488 0-448.208115 200.684672-448.208115 448.208115 0 247.537769 200.698998 448.208115 448.208115 448.208115 247.537769 0 448.208115-200.62839 448.208115-448.208115C959.882704 264.171612 759.211335 63.444984 511.674589 63.444984L511.674589 63.444984zM695.428659 636.040061c7.634888 7.592932 12.331863 18.068518 12.331863 29.684066 0 23.229051-18.785855 42.015929-42.015929 42.015929-11.530614 0-22.090111-4.696975-29.684066-12.331863L511.674589 571.090816 387.371538 695.450149c-7.649214 7.634888-18.153452 12.331863-29.767977 12.331863-23.159466 0-41.987277-18.785855-41.987277-42.029232 0-11.614525 4.696975-22.062482 12.289907-29.655414l124.373659-124.443243L327.933821 387.308093c-7.607258-7.621585-12.289907-18.124799-12.289907-29.726022 0-23.201421 18.814508-42.015929 42.015929-42.015929 11.57257 0 22.076808 4.682649 29.697369 12.289907l124.303051 124.373659 124.386962-124.345006c7.592932-7.592932 18.153452-12.289907 29.684066-12.289907 23.187095 0 42.015929 18.785855 42.015929 42.015929 0 11.614525-4.696975 22.118763-12.331863 29.726022L571.112306 511.638773 695.428659 636.040061 695.428659 636.040061z"',40:['d="M898.292462 150.642952l-40.481993 0 0 119.055536L682.360528 269.698488 682.360528 150.642952 369.969705 150.642952l0 119.055536L194.51874 269.698488 194.51874 150.642952 125.706515 150.642952c-32.700773 0-59.20952 26.508747-59.20952 59.20952l0 651.0448c0 32.69975 26.508747 59.20952 59.20952 59.20952l772.585947 0c32.69975 0 59.20952-26.50977 59.20952-59.20952L957.501982 209.852472C957.501982 177.151699 930.992211 150.642952 898.292462 150.642952zM899.015939 845.830111c0 10.898211-8.837272 19.73446-19.735483 19.73446L144.719544 865.564571c-10.900258 0-19.73753-8.836249-19.73753-19.73446L124.982014 348.614839c0-10.899234 8.836249-19.736507 19.73753-19.736507l734.560912 0c10.898211 0 19.735483 8.837272 19.735483 19.736507L899.015939 845.830111z"','d="M221.82362 239.434208c0 5.418406 4.39203 9.810437 9.809413 9.810437l106.862843 0c5.418406 0 9.809413-4.39203 9.809413-9.810437L348.305289 113.702622c0-5.418406-4.391007-9.810437-9.809413-9.810437L231.634056 103.892185c-5.418406 0-9.809413 4.39203-9.809413 9.810437L221.824643 239.434208z"','d="M706.036763 239.434208c0 5.418406 4.391007 9.810437 9.810437 9.810437l106.860796 0c5.41943 0 9.810437-4.39203 9.810437-9.810437L832.518433 113.702622c0-5.418406-4.391007-9.810437-9.810437-9.810437L715.8472 103.892185c-5.41943 0-9.810437 4.39203-9.810437 9.810437L706.036763 239.434208z"','d="M831.096037 379.779629 723.275379 379.779629c-7.913227 0-14.329357 6.415107-14.329357 14.328333l0 107.822704c0 7.91118 6.41613 14.32731 14.329357 14.32731l107.820658 0c7.91118 0 14.328333-6.41613 14.328333-14.32731L845.42437 394.107963C845.42437 386.194736 839.007217 379.779629 831.096037 379.779629z"','d="M831.096037 530.184151 723.275379 530.184151c-7.913227 0-14.329357 6.414083-14.329357 14.328333l0 107.821681c0 7.91118 6.41613 14.32731 14.329357 14.32731l107.820658 0c7.91118 0 14.328333-6.41613 14.328333-14.32731L845.42437 544.512485C845.42437 536.597211 839.007217 530.184151 831.096037 530.184151z"','d="M831.096037 680.586626 723.275379 680.586626c-7.913227 0-14.329357 6.414083-14.329357 14.328333l0 107.822704c0 7.91118 6.41613 14.32731 14.329357 14.32731l107.820658 0c7.91118 0 14.328333-6.41613 14.328333-14.32731L845.42437 694.91496C845.42437 687.00071 839.007217 680.586626 831.096037 680.586626z"','d="M652.842237 379.779629 545.020556 379.779629c-7.912204 0-14.329357 6.415107-14.329357 14.328333l0 107.822704c0 7.91118 6.417153 14.32731 14.329357 14.32731L652.842237 516.257977c7.91118 0 14.328333-6.41613 14.328333-14.32731L667.17057 394.107963C667.17057 386.194736 660.753417 379.779629 652.842237 379.779629z"','d="M652.842237 528.095583 545.020556 528.095583c-7.912204 0-14.329357 6.41306-14.329357 14.32731l0 107.821681c0 7.912204 6.417153 14.328333 14.329357 14.328333L652.842237 664.572908c7.91118 0 14.328333-6.41613 14.328333-14.328333L667.17057 542.422893C667.17057 534.50762 660.753417 528.095583 652.842237 528.095583z"','d="M652.842237 678.498058 545.020556 678.498058c-7.912204 0-14.329357 6.41306-14.329357 14.32731L530.691199 800.648073c0 7.912204 6.417153 14.328333 14.329357 14.328333L652.842237 814.976406c7.91118 0 14.328333-6.41613 14.328333-14.328333L667.17057 692.825368C667.17057 684.911118 660.753417 678.498058 652.842237 678.498058z"','d="M366.767779 516.257977l107.820658 0c7.91118 0 14.32731-6.41613 14.32731-14.32731L488.915747 394.107963c0-7.913227-6.41613-14.328333-14.32731-14.328333L366.767779 379.779629c-7.913227 0-14.329357 6.415107-14.329357 14.328333l0 107.822704C352.438423 509.842871 358.854553 516.257977 366.767779 516.257977z"','d="M478.183312 528.096607 365.992113 528.096607c-8.233522 0-14.909571 6.674003-14.909571 14.908548l0 112.191198c0 8.233522 6.67605 14.908548 14.909571 14.908548l112.192222 0c8.231475 0 14.906501-6.675026 14.906501-14.908548L493.090836 543.005155C493.090836 534.77061 486.414787 528.096607 478.183312 528.096607z"','d="M475.632209 677.685553 367.811552 677.685553c-7.913227 0-14.329357 6.414083-14.329357 14.328333l0 107.821681c0 7.91118 6.41613 14.32731 14.329357 14.32731l107.820658 0c7.91118 0 14.32731-6.41613 14.32731-14.32731L489.959519 692.013887C489.960543 684.099636 483.544413 677.685553 475.632209 677.685553z"','d="M297.378409 531.227923 189.557752 531.227923c-7.913227 0-14.329357 6.414083-14.329357 14.328333l0 107.821681c0 7.91118 6.41613 14.32731 14.329357 14.32731l107.820658 0c7.912204 0 14.32731-6.41613 14.32731-14.32731L311.70572 545.556257C311.70572 537.642007 305.290613 531.227923 297.378409 531.227923z"','d="M297.378409 677.685553 189.557752 677.685553c-7.913227 0-14.329357 6.414083-14.329357 14.328333l0 107.821681c0 7.91118 6.41613 14.32731 14.329357 14.32731l107.820658 0c7.912204 0 14.32731-6.41613 14.32731-14.32731L311.70572 692.013887C311.70572 684.099636 305.290613 677.685553 297.378409 677.685553z"'],41:'d="M546.583273 153.623273C546.629818 153.041455 546.909091 152.552727 546.909091 151.947636l0-69.818182 93.090909 0c12.846545 0 23.272727-10.426182 23.272727-23.272727l0-23.272727c0-12.846545-10.426182-23.272727-23.272727-23.272727l-256 0c-12.846545 0-23.272727 10.426182-23.272727 23.272727l0 23.272727c0 12.846545 10.426182 23.272727 23.272727 23.272727l93.090909 0 0 69.818182c0 0.581818 0.302545 1.093818 0.325818 1.652364C255.860364 171.287273 81.454545 356.328727 81.454545 582.469818c0 237.800727 192.768 430.592 430.545455 430.592 237.777455 0 430.545455-192.768 430.545455-430.592C942.545455 356.328727 768.139636 171.287273 546.583273 153.623273zM512 943.522909c-199.330909 0-360.936727-161.489455-360.936727-360.727273 0-199.214545 161.582545-360.727273 360.936727-360.727273s360.936727 161.489455 360.936727 360.727273C872.936727 782.033455 711.330909 943.522909 512 943.522909zM546.513455 508.974545l0-165.166545c0-16.104727-15.453091-29.160727-34.513455-29.160727-19.060364 0-34.513455 13.056-34.513455 29.160727l0 165.166545c-27.671273 13.009455-46.941091 40.936727-46.941091 73.541818 0 44.986182 36.468364 81.454545 81.454545 81.454545 44.986182 0 81.454545-36.468364 81.454545-81.454545C593.454545 549.911273 574.184727 521.984 546.513455 508.974545z"',42:'d="M946.399621 805.467845c0 0-338.714352-579.191308-382.716518-651.846048-51.757804-62.370513-111.540376 0-111.540376 0s-300.852022 519.839549-356.251773 613.983719c-77.125565 109.543905 12.925381 128.594797 12.925381 128.594797s744.461399 0 821.209364 0C984.084918 875.785354 946.399621 805.467845 946.399621 805.467845zM511.674589 776.865413c-24.301476 0-44.002167-19.700691-44.002167-44.002167 0-24.301476 19.700691-44.002167 44.002167-44.002167 24.301476 0 44.002167 19.700691 44.002167 44.002167C555.676755 757.164722 535.976064 776.865413 511.674589 776.865413zM555.676755 595.827197c0 24.301476-19.700691 44.002167-44.002167 44.002167-24.301476 0-44.002167-19.700691-44.002167-44.002167l0-213.870995c0-24.301476 19.700691-44.002167 44.002167-44.002167 24.301476 0 44.002167 19.700691 44.002167 44.002167L555.676755 595.827197z"',43:'d="M503.803829 63.578014c-247.050676 0-447.328072 200.277396-447.328072 447.327048 0 247.054769 200.277396 447.333188 447.328072 447.333188 247.054769 0 447.332165-200.278419 447.332165-447.333188C951.13497 263.85541 750.858598 63.578014 503.803829 63.578014zM575.659367 767.528767 447.745069 767.528767 447.745069 425.470251l127.914298 0L575.659367 767.528767zM575.659367 383.576095 447.745069 383.576095 447.745069 255.897158l127.914298 0L575.659367 383.576095z"',44:'d="M512.805342 64.646346c-246.850108 0-446.789813 199.935612-446.789813 446.789813 0 246.850108 199.939705 446.789813 446.789813 446.789813 246.854201 0 446.789813-199.939705 446.789813-446.789813C959.595154 264.581957 759.65852 64.646346 512.805342 64.646346zM546.401508 777.538749l-73.90829 0 0-80.627319 73.90829 0L546.401508 777.538749zM653.899824 421.442518c-13.437034 24.672936-31.387871 45.912679-53.749158 63.828724-22.395056 17.953907-38.109969 35.833113-47.03013 53.752228-8.958022 17.950837-13.441127 30.232558-13.441127 36.950564l0 23.5166-60.467163 0 0-33.593096c0-20.156062 5.037736-39.752376 15.117302-58.790988 10.076496-19.000749 27.399023-39.752376 52.071959-62.148455 17.916045-15.642259 30.232558-31.915897 36.950564-48.710398 6.719028-16.798595 10.079566-33.034371 10.079566-48.710398 0-29.080316-6.719028-50.916647-20.156062-65.508993-13.437034-14.558577-32.474622-21.836331-57.109696-21.836331-24.672936 0-45.352931 9.55461-62.148455 28.555359-16.798595 19.037589-25.197892 49.866734-25.197892 92.38306l-77.265758 0c2.205225-62.673411 19.000749-109.181655 50.39169-139.414213 31.353079-30.235628 69.391417-45.352931 114.219391-45.352931 49.235354 0 87.86721 13.437034 115.89659 40.312124 27.995611 26.874067 41.995463 61.626569 41.995463 104.143918C674.058956 369.932354 667.336858 396.807445 653.899824 421.442518z"',45:'d="M955.6104 403.197992c-3.797489-11.391445-13.513782-19.655665-25.351388-21.443381l-269.601274-41.657772L540.263717 82.223676c-5.249561-11.168364-16.529465-18.427698-28.925796-18.427698l0 0c-12.396331 0-23.564695 7.147794-28.925796 18.316158L360.9027 339.316056l-269.935895 40.764426c-11.838629 1.786693-21.666462 9.939373-25.463951 21.330818-3.797489 11.279904-1.004887 23.90034 7.370875 32.387641l195.890482 201.474664L221.969441 919.282007c-2.009773 12.06171 3.127224 24.234961 13.066597 31.271214s23.118534 7.818059 33.839713 1.898233l241.12164-132.678812 240.563938 133.572158c4.913916 2.568499 10.163477 3.90903 15.523555 3.90903l0.670266 0c17.645892 0 31.828916-14.295588 31.828916-31.94148 0-3.90903-0.670266-7.706519-2.009773-11.279904l-44.672432-277.865495 196.337667-200.692858C956.503746 426.986791 959.407889 414.477896 955.6104 403.197992z"',46:'d="M512 259.648c-64.896 0-125.952 25.024-171.84 70.464-45.888 45.44-71.168 105.92-71.168 170.176s25.28 124.672 71.168 170.112S447.104 740.864 512 740.864s125.952-25.024 171.84-70.464c45.888-45.44 71.168-105.856 71.168-170.112 0-64.256-25.28-124.736-71.168-170.176C638.016 284.672 576.896 259.648 512 259.648zM512 690.112c-105.728 0-191.808-85.12-191.808-189.824S406.208 310.4 512 310.4c105.728 0 191.808 85.184 191.808 189.888C703.808 604.992 617.792 690.112 512 690.112zM514.816 197.504c14.144 0 25.6-11.328 25.6-25.408L540.416 110.72c0-14.016-11.456-25.408-25.6-25.408S489.152 96.64 489.152 110.72l0 61.376C489.216 186.176 500.672 197.504 514.816 197.504zM299.52 283.52c6.592 0 13.12-2.496 18.112-7.488 10.048-9.92 10.048-25.984 0-35.84L273.792 196.736c-10.048-9.92-26.24-9.92-36.224 0-10.048 9.92-10.048 25.984 0 35.904l43.84 43.392C286.336 281.024 292.928 283.52 299.52 283.52zM208.576 444.288 146.56 444.288c-14.144 0-25.664 11.328-25.664 25.408 0 14.016 11.456 25.408 25.664 25.408l62.016 0c14.144 0 25.664-11.328 25.664-25.408C234.24 455.68 222.784 444.288 208.576 444.288zM877.44 449.984l-62.016 0c-14.144 0-25.664 11.328-25.664 25.408 0 14.016 11.52 25.408 25.664 25.408l62.016 0c14.144 0 25.664-11.328 25.664-25.408C903.104 461.312 891.648 449.984 877.44 449.984zM728.64 287.488c6.592 0 13.12-2.496 18.112-7.424l43.84-43.456c10.048-9.92 10.048-25.984 0-35.904s-26.24-9.92-36.288 0L710.4 244.16c-9.984 9.92-9.984 25.984 0 35.904C715.52 284.992 721.984 287.488 728.64 287.488zM606.656 791.488 417.408 791.488c-14.144 0-25.664 11.392-25.664 25.408s11.456 25.408 25.664 25.408l189.248 0c14.144 0 25.664-11.328 25.664-25.408C632.256 802.88 620.736 791.488 606.656 791.488zM572.416 887.936 451.648 887.936c-14.144 0-25.664 11.328-25.664 25.408 0 14.016 11.456 25.408 25.664 25.408l120.704 0c14.144 0 25.664-11.392 25.664-25.408C598.08 899.264 586.56 887.936 572.416 887.936z"',47:'d="M459.0592 112.5376c-197.3248 23.4496-353.6896 179.8656-377.1392 377.1392l377.1392 0 0-377.1392zM566.9376 113.3056l0 432.896c0 28.3648-22.9888 51.3536-51.4048 51.3536l-432.896 0c27.6992 211.712 208.5376 375.1936 427.7248 375.1936 238.3872 0 431.7184-193.2288 431.7184-431.7184 0-219.1872-163.4816-400.0256-375.1424-427.7248z"',48:'d="M596.87936 285.25568c37.9392 23.78752 64.54272 64.04096 69.39648 110.76608 15.4624 7.22944 32.64512 11.38688 50.8416 11.38688 66.47808 0 120.34048-53.87264 120.34048-120.33024 0-66.46784-53.8624-120.34048-120.34048-120.34048C651.28448 166.74816 597.88288 219.65824 596.87936 285.25568zM518.0416 531.65056c66.4576 0 120.34048-53.88288 120.34048-120.34048S584.4992 290.97984 518.0416 290.97984s-120.36096 53.88288-120.36096 120.34048S451.584 531.65056 518.0416 531.65056zM569.07776 539.8528l-102.10304 0c-84.96128 0-154.08128 69.13024-154.08128 154.08128l0 124.88704 0.31744 1.95584 8.6016 2.69312c81.08032 25.32352 151.52128 33.78176 209.50016 33.78176 113.24416 0 178.88256-32.28672 182.9376-34.34496l8.0384-4.07552 0.86016 0L723.1488 693.93408C723.15904 608.98304 654.03904 539.8528 569.07776 539.8528zM768.18432 415.62112l-101.3248 0c-1.09568 40.54016-18.40128 77.04576-45.76256 103.30112 75.52 22.45632 130.7648 92.48768 130.7648 175.2064l0 38.48192c100.0448-3.67616 157.696-32.02048 161.49504-33.93536l8.0384-4.07552 0.86016 0L922.25536 569.69216C922.25536 484.74112 853.13536 415.62112 768.18432 415.62112zM306.88256 407.41888c23.54176 0 45.44512-6.87104 64-18.57536 5.89824-38.47168 26.5216-72.0896 55.98208-94.98624 0.12288-2.2528 0.33792-4.48512 0.33792-6.7584 0-66.46784-53.88288-120.34048-120.32-120.34048-66.47808 0-120.34048 53.87264-120.34048 120.34048C186.54208 353.54624 240.40448 407.41888 306.88256 407.41888zM414.95552 518.92224c-27.2384-26.12224-44.48256-62.43328-45.74208-102.72768-3.75808-0.27648-7.4752-0.57344-11.30496-0.57344l-102.10304 0c-84.96128 0-154.08128 69.12-154.08128 154.07104l0 124.89728 0.31744 1.93536 8.6016 2.70336c65.04448 20.31616 123.09504 29.66528 173.5168 32.6144l0-37.71392C284.18048 611.40992 339.41504 541.3888 414.95552 518.92224z"',49:'d="M820.851719 939.594635 200.779328 939.594635c-22.339798 0-40.440038-18.10024-40.440038-40.441061L160.33929 548.678364c0-22.319331 18.10024-40.420595 40.440038-40.420595l67.400063 0 0-188.718129c0-133.995807 108.629069-242.638179 242.635109-242.638179 134.00911 0 242.639203 108.642372 242.639203 242.638179l0 188.718129 67.398016 0c22.339798 0 40.441061 18.102287 40.441061 40.420595l0 350.477256C861.292779 921.494395 843.191516 939.594635 820.851719 939.594635M470.380602 739.660046l0 78.614475c0 22.338774 18.105357 40.441061 40.433898 40.441061 22.339798 0 40.440038-18.101263 40.440038-40.441061l0-78.614475c24.076348-14.020318 40.441061-39.806611 40.441061-69.662593 0-44.667316-36.201503-80.880075-80.880075-80.880075-44.675502 0-80.877005 36.21276-80.877005 80.880075C429.937494 699.852412 446.302207 725.639728 470.380602 739.660046M672.573627 319.537594c0-89.330538-72.427566-161.759127-161.759127-161.759127-89.342818 0-161.756057 72.428589-161.756057 161.759127l0 188.719152 323.515185 0L672.573627 319.537594z"',50:'d="M139.85792 884.144128c0 41.119744 33.308672 74.42432 74.430464 74.42432l595.423232 0c41.119744 0 74.43456-33.304576 74.43456-74.42432L884.146176 512c0-41.121792-33.314816-74.428416-74.43456-74.428416L363.145216 437.571584l0-130.246656c0-82.241536 66.6112-148.85888 148.854784-148.85888 82.243584 0 148.85888 66.617344 148.85888 148.85888l0 9.299968c0 25.677824 20.840448 46.52032 46.512128 46.52032 25.675776 0 46.524416-20.842496 46.524416-46.52032l0-9.299968c0-133.595136-108.302336-241.891328-241.893376-241.891328-133.61152 0-241.891328 108.296192-241.891328 241.891328l0 130.246656-55.820288 0c-41.121792 0-74.430464 33.306624-74.430464 74.428416L139.859968 884.144128zM437.571584 642.250752c0-41.119744 33.306624-74.426368 74.428416-74.426368s74.426368 33.306624 74.426368 74.426368c0 26.238976-13.586432 49.313792-34.048 62.523392 0 0 7.2704 43.921408 15.446016 95.639552 0 15.437824-12.466176 27.904-27.912192 27.904l-55.824384 0c-15.443968 0-27.908096-12.466176-27.908096-27.904l15.446016-95.639552C451.162112 691.564544 437.571584 668.48768 437.571584 642.250752z"',51:'d="M514.958222 640.170667 0.056889 342.869333 0.056889 282.567111c0-71.111111 57.628444-128.739556 128.739556-128.739556l766.577778 0c71.111111 0 128.739556 57.628444 128.739556 128.739556l0 60.359111L514.958222 640.170667zM514.958222 716.572444 1024.056889 419.328l0 320.796444c0 71.850667-57.628444 130.048-128.739556 130.048L128.796444 870.172444C57.685333 870.172444 0.056889 811.918222 0.056889 740.124444L0.056889 419.328 514.958222 716.572444z"',52:'d="M301.623281 897.208571c-110.900927-64.038887-149.018484-205.890886-84.878286-316.79079l33.13796-57.482315L283.020915 465.553438l132.500672-229.626351 33.188104-57.432171C494.452191 99.309498 595.849312 72.118196 675.033706 117.860697c79.287752 45.742501 106.47803 147.137576 60.685385 226.374161l-82.896067 143.478094-33.49306 58.094276L503.70323 746.056412c-27.395971 47.571218-88.232811 63.836265-135.805053 36.441318-47.522098-27.496258-63.836265-88.334122-36.340006-135.804029l99.413879-172.24637 19.567381-34.001663 63.226351-109.526575c9.199872-15.857755 29.427311-21.296834 45.285066-12.148129 15.856732 9.199872 21.346978 29.479501 12.148129 45.336233L507.972626 473.58465l-19.619571 34.002686-99.413879 172.195203c-9.198849 15.856732-3.709626 36.085193 12.148129 45.284042 15.857755 9.098561 36.085193 3.710649 45.285066-12.094915l165.689799-287.059546 16.517813-28.716086 13.519412-23.430508 19.619571-34.001663 16.567957-28.665942c27.496258-47.571218 11.182091-108.358938-36.340006-135.804029-47.571218-27.445091-108.410106-11.182091-135.804029 36.391174l-49.758107 86.09709-16.517813 28.717109L323.832939 527.356316l-16.620147 28.717109-33.086792 57.432171c-25.412728 43.963927-27.59757 94.585737-11.740838 138.853598 0.91487 2.33732 1.727406 4.675664 2.744611 7.014007 2.032363 5.082955 4.168084 10.114743 6.811385 14.891717 3.253214 6.302782 7.012984 12.301631 11.079757 18.144931 2.134698 2.998401 4.472018 5.793156 6.810361 8.639079 4.370707 5.489223 9.198849 10.724656 14.434282 15.654109 2.133674 1.983243 4.269396 4.016629 6.556572 5.84637 7.369108 6.351903 15.196674 12.247394 23.989255 17.330349 79.184394 45.742501 180.580492 18.60339 226.322993-60.633195l49.70694-86.14928 132.603006-229.626351 16.516789-28.664918 16.570003-28.717109c9.198849-15.805564 29.427311-21.244643 45.284042-12.146083 15.857755 9.198849 21.295811 29.427311 12.147106 45.284042l-16.567957 28.717109-16.56898 28.716086L618.517429 812.332331C554.426351 923.282379 412.573329 961.299648 301.623281 897.208571z"',53:'d="M960.225968 473.04478c0-7.68196-2.931892-15.362896-8.798747-21.228487-5.864808-5.864568-13.525592-8.797363-21.185353-8.797363l-45.828599 0c-18.997435 0-39.088828-14.81645-44.735663-32.93818l-23.768284-57.732889c-8.930759-16.698311-5.252846-41.340547 8.097754-54.757115l32.522003-32.477692c5.427838-5.427616 8.798747-12.933567 8.798747-21.228487 0-8.293897-3.326905-15.800871-8.798747-21.249977l-55.197351-55.107085c-5.427838-5.427616-12.912607-8.775874-21.185353-8.775874s-15.801518 3.370771-21.229357 8.775874l-32.522003 32.521694c-13.3506 13.394055-38.081854 17.070794-54.803362 8.097422l-57.691251-23.74582c-18.034464-5.602601-32.917016-25.737174-32.917016-44.711318L580.983386 93.797269c0-7.659447-2.932916-15.341407-8.798747-21.206998-5.864808-5.865591-13.525592-8.798387-21.185353-8.798387l-77.95866 0c-7.703765 0-15.363525 2.932796-21.229357 8.798387-5.864808 5.864568-8.797724 13.546527-8.797724 21.206998l0 45.893236c0 18.974144-14.751563 39.108716-32.873012 44.711318l-57.735255 23.74582c-16.764489 8.973372-41.364755 5.339612-54.715354-8.097422l-32.654015-32.499182c-5.427838-5.427616-12.956611-8.754385-21.229357-8.754385-8.272746 0-15.757514 3.369747-21.185353 8.775874l-55.065339 55.063083c-5.427838 5.427616-8.754743 12.912078-8.798747 21.206998 0 8.272407 3.370909 15.779382 8.798747 21.206998l32.479023 32.543184c13.437584 13.438057 17.115497 38.058804 8.097754 54.757115l-23.768284 57.776891c-5.602831 18.120706-25.694225 32.937157-44.690636 32.937157l-45.873626-0.042979c-7.703765 0-15.364549 2.932796-21.229357 8.797363-5.864808 5.865591-8.798747 13.546527-8.798747 21.228487l0 77.932953c0 7.68196 2.932916 15.363919 8.798747 21.228487 5.864808 5.844102 13.525592 8.775874 21.229357 8.775874l45.873626 0c18.996411 0.044002 39.044824 14.859429 44.647655 32.93818l23.812288 57.732889c8.929736 16.742313 5.29685 41.451064-8.097754 54.801117l-32.566007 32.476669c-5.427838 5.427616-8.798747 12.93459-8.798747 21.251 0 8.272407 3.369885 15.800871 8.798747 21.228487l55.196328 55.107085c5.427838 5.428639 12.912607 8.775874 21.186376 8.775874 8.272746 0 15.801518-3.347235 21.229357-8.775874l32.566007-32.499182c13.3506-13.371542 37.949842-17.048281 54.627346-7.988951l57.866243 23.74582c18.121449 5.624091 32.873012 25.714661 32.873012 44.711318l0 45.718251c0 7.68196 2.932916 15.362896 8.797724 21.228487 5.865831 5.843078 13.525592 8.775874 21.229357 8.775874l77.914656 0c7.703765 0 15.364549-2.932796 21.229357-8.775874 5.864808-5.865591 8.798747-13.546527 8.798747-21.228487l0-45.718251c0-18.996656 14.882552-39.087227 32.917016-44.711318l57.779259-23.74582c16.720485-9.060353 41.407735-5.383614 54.846343 7.988951l32.347011 32.476669c5.427838 5.450129 12.912607 8.842389 21.229357 8.842389 8.272746 0.021489 15.801518-3.326768 21.229357-8.775874l55.197351-55.151088c5.471842-5.449106 8.798747-12.95608 8.798747-21.251s-3.370909-15.800871-8.798747-21.228487l-32.522003-32.476669c-13.3506-13.350053-17.028513-38.057781-8.097754-54.801117l23.768284-57.732889c5.646835-18.077727 25.825213-32.894178 44.735663-32.894178l45.828599 0c7.659761 0 15.320545-2.931772 21.185353-8.798387 5.865831-5.864568 8.798747-13.546527 8.798747-21.228487L960.226991 473.04478 960.225968 473.04478zM684.505282 511.957021c0 95.222735-77.169659 172.34523-172.373782 172.34523-95.248127 0-172.418809-77.122495-172.418809-172.34523 0-95.200222 77.170682-172.367743 172.418809-172.367743C607.335623 339.589278 684.505282 416.756799 684.505282 511.957021"',54:'d="M511.968 945.216l-392.192 0c-46.176 0-40.8-19.04-40.8-94.464 0-126.72 321.216-165.888 321.216-296.32 0-80.544-132.8-79.68-132.8-266.592 0-157.824 108.832-248.48 244.576-248.48 135.84 0 244.576 90.656 244.576 248.48 0 186.88-132.704 186.016-132.704 266.592 0 130.432 321.216 169.6 321.216 296.32 0 75.424 5.28 94.464-40.8 94.464l-392.288 0z"',55:'d="M712.772916 66.038042 311.22606 66.038042c-36.910157 0-66.930104 32.181957-66.930104 71.753207l0 747.422847c0 39.572274 30.018924 71.753207 66.930104 71.753207l401.546856 0c36.932671 0 66.930104-32.181957 66.930104-71.753207l0-747.422847C779.704044 98.219999 749.706611 66.038042 712.772916 66.038042zM384.129454 122.972752c0-2.825348 4.581534-5.116531 10.233491-5.116531l237.417003 0c5.651957 0 10.233491 2.291183 10.233491 5.116531l0 11.256368c0 2.825348-4.581534 5.116531-10.233491 5.116531l-237.417003 0c-5.651957 0-10.233491-2.291183-10.233491-5.116531L384.129454 122.972752zM512 913.954675c-20.317574 0-36.788379-16.4783-36.788379-36.805254 0-20.326954 16.470805-36.805254 36.788379-36.805254s36.788379 16.4783 36.788379 36.805254C548.788379 897.476375 532.317574 913.954675 512 913.954675zM311.22606 745.064127 311.22606 209.556737l401.55402 0 0.048097 535.50739L311.22606 745.064127z"',56:'d="M764.032 960 259.968 960c-46.4 0-83.968-37.632-83.968-83.968L176 147.968C176 101.568 213.632 64 259.968 64l504 0c46.4 0 83.968 37.568 83.968 83.968l0 728C848 922.368 810.368 960 764.032 960zM512 931.968c15.424 0 28.032-12.48 28.032-28.032S527.424 876.032 512 876.032s-28.032 12.48-28.032 28.032S496.576 931.968 512 931.968zM526.016 120 497.984 120c-7.744 0-14.016 6.272-14.016 14.016S490.24 147.968 497.984 147.968l28.032 0c7.744 0 14.016-6.272 14.016-14.016S533.76 120 526.016 120zM792 176l-560 0 0 672 560 0L792 176z"',57:['d="M886.59584 423.53792 648.01152 423.53792C740.45184 82.08512 584.30464 64.64 584.30464 64.64c-66.2016 0-52.4608 52.34048-57.4592 61.06112 0 166.98624-177.37216 297.8368-177.37216 297.8368l0 473.54752c0 46.72768 63.70048 63.55456 88.6848 63.55456l358.5024 0c33.728 0 61.20576-88.48256 61.20576-88.48256C946.56 570.58816 946.56 480.86528 946.56 480.86528 946.56 418.55744 886.59584 423.53792 886.59584 423.53792L886.59584 423.53792zM886.59584 423.53792"','d="M251.56736 423.6928 108.69888 423.6928c-29.51296 0-29.97888 28.97664-29.97888 28.97664l29.51296 477.59232c0 30.37824 30.4448 30.37824 30.4448 30.37824l123.66336 0c25.76256 0 25.5296-20.09472 25.5296-20.09472L287.87072 459.90912C287.87072 423.22688 251.56736 423.6928 251.56736 423.6928L251.56736 423.6928zM251.56736 423.6928"'],58:'d="M849.821517 593.375356c0 0 53.94461 4.495384 53.94461-51.697429 0 0 0-80.916914-79.793324-352.885096 0 0-24.723078-79.793324-55.067176-79.793324L446.365652 108.999506c-22.476921 0-79.792301 15.172561-79.792301 57.31538l0 427.059446c0 0 159.582555 118.001531 159.582555 268.596388 4.494361 7.867178-7.867178 55.0682 51.695383 55.0682 0 0 140.480498-15.735379 57.316403-323.666634l214.654848 0L849.82254 593.375356zM278.491247 593.233116c0 0 32.661887 0.421602 32.661887-32.661887l0-433.45204c0 0 0.209778-18.121729-22.968108-18.121729L176.924014 108.99746c0 0-27.393907 0-27.393907 27.393907l-26.549679 430.711626c0 0 0.419556 26.1291 26.971281 26.1291L278.491247 593.233116 278.491247 593.233116z"',59:'d="M884.992 139.072C836.672 90.624 772.416 64 704 64S571.328 90.624 523.072 139.008C474.624 187.392 447.936 251.712 448 320.128c0 46.4 13.184 90.368 36.16 129.28l-374.72 374.72c-25.024 25.024-25.024 65.472 0 90.496 12.48 12.48 28.864 18.752 45.248 18.752s32.768-6.272 45.248-18.752L320 794.496l74.752 74.752c12.48 12.48 28.864 18.752 45.248 18.752s32.768-6.272 45.248-18.752c25.024-25.024 25.024-65.472 0-90.496L410.496 704l164.096-164.096C613.504 562.88 657.6 576.064 704 576.064c68.416 0 132.736-26.688 181.056-75.072C933.376 452.736 960 388.48 960 320.128 960 251.648 933.312 187.328 884.992 139.072zM794.56 410.496c-48.32 48.448-132.48 48.64-181.056-0.128C589.312 386.304 576 354.24 576 320.128c0-34.24 13.312-66.368 37.632-90.688C637.76 205.248 669.824 192 704 192c34.112-0.064 66.24 13.248 90.432 37.504C818.624 253.76 832 285.888 832 320.128 832 354.24 818.688 386.368 794.56 410.496z"',60:'d="M514.031263 900.587226 135.016043 537.873274c-12.113899-12.916171-23.00904-27.228131-32.346709-42.551118-9.209756-15.098883-16.879436-31.207769-22.815635-47.894823-10.060123-28.318976-15.178701-70.808696-15.178701-100.106975 0-143.041834 116.358101-228.320079 259.399935-228.320079 72.010057 0 139.912563 54.723346 188.528817 106.179274C561.203632 173.724647 629.122511 119.001301 701.132568 119.001301c143.025461 0 259.383562 85.278245 259.383562 228.320079 0 28.800953-4.941546 70.840418-14.665001 98.726535-6.209422 17.746176-14.376429 34.881438-24.323988 50.895157-8.359388 13.477966-18.003026 26.249851-28.672016 37.978986l-2.037403 2.053776L514.031263 900.587226z"',61:['d="M594.861196 863.930351l-14.810311-14.852266-63.36005 63.817468 14.45727 14.497179c14.915711 14.971993 41.335431 12.912078 58.900481-4.585435C607.612615 905.308761 609.771791 878.897228 594.861196 863.930351z"','d="M582.168106 745.952356c-7.225565-7.173376-16.812921-11.124362-26.993794-11.124362-10.287297 0-19.944238 4.02057-27.191292 11.319813l-100.267635 100.990089c-7.211239 7.263427-11.161201 16.898879-11.124362 27.133987 0.036839 10.234085 4.056386 19.840884 11.31879 27.051099 7.226588 7.1744 16.812921 11.125385 26.994818 11.125385 10.287297 0 19.943215-4.02057 27.190269-11.319813l100.266611-100.990089C597.247546 785.146007 597.160565 760.837368 582.168106 745.952356z"','d="M725.919091 85.903485c-58.45432 0-106.947777 24.098861-130.712017 44.734854-64.075341 55.640228-230.29199 227.095181-275.626501 274.064936 21.218254 18.551518 68.658729 54.581106 117.02018 54.581106 2.416026 0 4.837168-0.092098 7.194866-0.274246l0.712221-0.039909c0.546446-0.021489 59.598376-2.815115 104.092753-45.760207l0.236384-0.223081 102.697987-95.274924 202.171536 210.722282c17.942651-19.192108 51.29527-55.145971 63.774489-70.458725 17.09126-20.971637 38.084387-64.522526 41.001833-118.244055 2.427282-44.696991-7.615445-111.785969-69.25327-177.571255C841.818751 111.560842 786.872325 85.903485 725.919091 85.903485z"','d="M865.064174 589.655637l-0.301875-0.310062L761.91798 480.529241l0.164752-0.155543-111.8883-116.621091-78.904071 73.201186c-52.287877 50.377364-118.877481 54.538127-125.273145 54.82363-3.098571 0.231267-6.264681 0.348947-9.416464 0.348947-78.899978 0-149.302421-72.349795-152.259776-75.429946l-10.92584-11.375072 10.924817-11.375072c6.29845-6.557346 115.513874-120.197546 203.940832-207.302393-18.995633-18.62315-32.653701-31.649837-40.653909-38.768979-23.986297-21.349237-74.068949-47.750537-136.272663-51.889811-46.947242-3.127224-115.485221 6.049786-175.361937 67.50444-83.689051 85.896322-94.072539 187.095165-30.027897 292.656363 0.962931 1.588171 1.762133 2.908236 2.366907 3.946892 14.930037 25.65838 80.858586 87.48961 80.858586 87.48961l60.648288-58.979276c13.459546-13.556761 31.392988-21.021779 50.496068-21.021779 18.908652 0 36.713156 7.337105 50.132794 20.660552 13.487176 13.390985 20.953218 31.233352 21.021779 50.240241 0.01228 3.330862-0.216941 6.624884-0.652869 9.870812 5.184069-1.183965 10.533914-1.812275 15.985066-1.812275 18.908652 0 36.713156 7.337105 50.131771 20.660552 13.487176 13.390985 20.953218 31.233352 21.021779 50.240241 0.00921 2.670829-0.143263 5.317099-0.421602 7.93574 4.349051-0.818645 8.803503-1.251503 13.32754-1.251503 18.908652 0 36.713156 7.337105 50.131771 20.660552 16.031115 15.917528 22.865777 37.633109 20.520359 58.509579 4.448312-0.858554 9.010211-1.306762 13.643742-1.306762 18.908652 0 36.712133 7.337105 50.131771 20.660552 27.495214 27.299763 27.977191 71.650877 1.363044 99.567693l14.224979 14.262842c6.946202 6.972808 16.739243 10.440793 27.579125 9.768481 11.628852-0.719384 22.955828-6.019087 31.891338-14.921851 8.937556-8.903787 14.280238-20.210297 15.043624-31.837102 0.711198-10.837836-2.718925-20.643156-9.660011-27.608801l-0.180102-0.184195L555.342134 636.815727l-1.047866-1.050935 23.25361-23.190165 133.309168 133.671419c6.946202 6.973832 16.741289 10.438747 27.579125 9.769504 11.627828-0.719384 22.954805-6.02011 31.892361-14.922874 17.880229-17.812691 20.295232-44.480051 5.383614-59.446927L645.270283 551.030945l10.025331-10.012028 13.071713-13.821797 134.582161 127.266545 0.172939 0.172939c14.858406 14.916734 41.49609 12.580526 59.477626-5.170766C878.338502 632.621195 879.532701 604.179422 865.064174 589.655637z"','d="M497.873258 668.088988c-7.225565-7.173376-16.811898-11.124362-26.993794-11.124362-10.287297 0-19.944238 4.019547-27.191292 11.31879l-100.266611 100.991112c-7.211239 7.262404-11.161201 16.898879-11.124362 27.131941s4.056386 19.841907 11.31879 27.052123c7.225565 7.1744 16.811898 11.124362 26.993794 11.124362 10.287297 0 19.944238-4.019547 27.191292-11.31879l100.267635-100.991112C512.952698 707.281615 512.864694 682.975023 497.873258 668.088988z"','d="M338.646813 538.598798c-0.036839-10.234085-4.056386-19.841907-11.31879-27.052123-7.226588-7.173376-16.812921-11.125385-26.993794-11.125385-10.287297 0-19.943215 4.02057-27.191292 11.319813l-100.267635 100.991112c-7.210215 7.262404-11.161201 16.898879-11.124362 27.131941s4.056386 19.841907 11.31879 27.052123c7.225565 7.1744 16.811898 11.124362 26.993794 11.124362 10.287297 0 19.944238-4.019547 27.191292-11.31879l100.267635-100.991112C334.732667 558.468334 338.683652 548.832883 338.646813 538.598798z"','d="M425.13256 617.557104c-0.036839-10.234085-4.056386-19.841907-11.31879-27.052123-7.225565-7.1744-16.811898-11.124362-26.993794-11.124362-10.287297 0-19.944238 4.019547-27.191292 11.31879L259.361049 691.690522c-7.211239 7.263427-11.161201 16.898879-11.124362 27.131941s4.056386 19.841907 11.31879 27.052123c7.226588 7.1744 16.812921 11.125385 26.994818 11.125385 10.287297 0 19.943215-4.02057 27.190269-11.319813l100.266611-100.991112C421.218414 637.427664 425.169399 627.79119 425.13256 617.557104z"'],62:['d="M580.34176 1021.502464c-58.528768 4.818944-127.265792 0-127.265792 0s-350.40768-8.02816-350.40768-287.214592 337.506304-459.13088 337.506304-459.13088l154.349568 0c0 0 320.625664 215.497728 320.625664 464.290816C915.150848 988.281856 580.34176 1023.910912 580.34176 1021.502464L580.34176 1021.502464zM440.174592 256.959488l0-54.629376 154.693632 0 0 54.629376L440.174592 256.959488 440.174592 256.959488zM592.459776 184.132608 442.58304 184.132608 362.816512 4.340736c0 0 47.156224 36.395008 76.172288 36.395008 28.997632 0 78.541824-37.579776 78.541824-37.579776s45.914112 37.579776 74.929152 37.579776c28.977152 0 78.56128-38.687744 78.56128-38.687744L592.459776 184.132608 592.459776 184.132608z"','d="M470.910976 862.855168l69.863424 0 0-67.818496 93.39392 0 0-54.89664-93.39392 0 0-29.858816 93.39392 0 0-54.89664-65.830912 0 78.294016-156.813312-76.573696 0-50.653184 105.892864c-5.810176 12.388352-10.284032 24.046592-13.418496 35.018752-2.675712-10.129408-7.14752-21.751808-13.456384-35.018752l-49.678336-105.892864-76.516352 0 77.280256 156.813312-64.874496 0 0 54.89664 92.17024 0 0 29.858816-92.17024 0 0 54.89664 92.17024 0L470.910976 862.855168 470.910976 862.855168z"'],63:['d="M641.648 168.592 855.36 382.32 385.2 852.528 171.456 638.784 641.648 168.592z"','d="M727.136 83.136l213.744 213.728-64.128 64.08L663.008 147.216 727.136 83.136z"','d="M150.096 660.176l213.728 213.712L64.608 959.392 150.096 660.176z"','d="M809.984 80.432l133.584 133.6c22.112 22.096 20.928 59.216-2.672 82.832-23.648 23.6-60.704 24.784-82.832 2.64l-133.616-133.552c-22.112-22.16-20.928-59.216 2.688-82.816C750.768 59.52 787.824 58.336 809.984 80.432z"'],64:'d="M832.805982 271.399223l-53.467749 0L779.338233 84.253916l-534.677489 0 0 187.145307-53.467749 0c-58.985416 0-106.935498 47.959292-106.935498 106.935498L84.257497 725.875089l160.403247 0 0 213.870995 534.677489 0 0-213.870995 160.403247 0L939.741479 378.334721C939.741479 319.358515 891.782188 271.399223 832.805982 271.399223zM244.660744 431.80247c0-14.785751 11.957333-26.743084 26.733874-26.743084l240.60487 0c14.776542 0 26.733874 11.957333 26.733874 26.743084 0 14.776542-11.957333 26.733874-26.733874 26.733874L271.394618 458.536344C256.618077 458.536344 244.660744 446.579011 244.660744 431.80247zM725.870484 886.278335l-427.741991 0L298.128493 645.673465l427.741991 0L725.870484 886.278335zM725.870484 271.399223l-427.741991 0L298.128493 137.721665l427.741991 0L725.870484 271.399223z"',128:["d='M187.939068 93.731068c-37.032329 9.440438-15.640548 172.873644-0.32263 253.404932 47.566904-36.934137 145.46411-127.284603 156.461589-193.21337-66.069041-66.209315-109.862575-72.00263-156.138959-60.191562z'","d='M149.616219 447.670356l-17.127452-90.05589c-7.925479-41.675397-17.576329-105.41589-20.381808-161.006466-1.374685-27.32537-1.304548-55.899178 2.651178-79.787836 1.935781-11.726904 5.358466-25.908603 12.316055-39.052274 6.985644-13.185753 21.237479-31.842192 46.991781-38.407013 30.144877-7.701041 64.091178-10.632767 102.119452 1.921753 36.471233 12.035507 71.231123 36.54137 107.604164 73.012603l20.367781 20.409863-4.74126 28.447562c-4.47474 26.792329-16.832877 52.027616-30.172932 73.34926-13.718795 21.896767-30.66389 43.134247-47.917589 62.365808-34.423233 38.392986-73.377315 72.465534-99.313973 92.580822l-72.395397 56.221808z m27.493699-164.54137c3.324493 23.720329 7.069808 45.953753 10.492493 64.007014 13.494356-10.478466 31.04263-25.249315 49.502685-42.545096 46.627068-43.681315 99.089534-103.438027 106.972931-150.668274-66.069041-66.209315-109.862575-72.00263-156.138959-60.191562-28.72811 7.322301-22.303562 107.309589-10.815123 189.397918z'","d='M822.805041 71.455562c49.446575 4.769315 49.446575 177.137973 43.260493 262.73315-34.830027-16.384-89.228274-45.603068-137.328219-79.226739-45.406685-31.744-85.188384-67.429699-97.504438-99.903124 74.162849-77.627616 129.781479-89.564932 191.572164-83.603287z'","d='M916.143342 419.741808l5.891507-81.513205c3.226301-44.607123 4.923616-112.541808-0.911781-171.260493-2.861589-28.840329-7.883397-59.251726-17.337863-84.290631-7.476603-19.83474-27.690082-62.435945-75.579616-67.064986-36.499288-3.534904-75.256986-2.090082-116.778082 13.95726-40.889863 15.808877-79.970192 44.032-120.775891 86.71737l-24.421698 25.585973 12.540493 33.062575c10.338192 27.283288 29.934466 51.059726 49.376438 70.277261 20.171397 19.918904 44.214356 38.799781 68.453699 55.744876 51.284164 35.854027 108.60011 66.602082 145.590356 83.996055l73.952438 34.787945zM868.716712 273.001205a1128.658411 1128.658411 0 0 1-2.651178 61.17348 959.025096 959.025096 0 0 1-54.53852-28.02674c-26.511781-14.644603-55.646685-32.206904-82.775672-51.171945-45.420712-31.758027-85.202411-67.443726-97.518465-99.917151 74.162849-77.627616 129.781479-89.564932 191.572164-83.603287 39.332822 3.801425 47.370521 113.678027 45.911671 201.545643z'","d='M929.104658 545.41326C929.104658 778.744986 739.959233 967.890411 506.641534 967.890411 273.309808 967.890411 84.164384 778.744986 84.164384 545.41326 84.164384 312.109589 273.309808 122.950137 506.641534 122.950137c233.317699 0 422.463123 189.145425 422.463124 422.463123z'","d='M985.214247 545.41326C985.214247 809.731507 770.945753 1024 506.641534 1024 242.323288 1024 28.054795 809.731507 28.054795 545.41326 28.054795 281.109041 242.323288 66.840548 506.641534 66.840548c264.304219 0 478.572712 214.268493 478.572713 478.572712zM506.641534 967.890411c233.317699 0 422.463123-189.145425 422.463124-422.477151 0-233.317699-189.145425-422.463123-422.463124-422.463123C273.309808 122.950137 84.164384 312.095562 84.164384 545.41326 84.164384 778.744986 273.309808 967.890411 506.641534 967.890411z'","d='M187.939068 93.731068c-37.032329 9.440438-15.640548 172.873644-0.32263 253.404932 47.566904-36.934137 145.46411-127.284603 156.461589-193.21337-66.069041-66.209315-109.862575-72.00263-156.138959-60.191562z'","d='M256.392767 101.221699c-23.369644-7.715068-44.466849-6.382466-66.714301-0.70137-1.99189 0.504986-4.390575 2.216329-6.817315 6.78926-2.42674 4.572932-4.404603 11.221918-5.82137 19.820712-2.847562 17.155507-3.198247 40.398904-1.893699 66.29348 2.384658 46.963726 10.127781 101.347945 17.253699 140.975342 23.103123-18.75463 54.286027-46.851507 81.934027-77.683726 15.73874-17.534247 30.215014-35.825973 41.39485-53.710904 10.380274-16.566356 17.702575-32.431342 20.760547-46.739288-31.42137-31.000548-57.175671-47.48274-80.096438-55.043506z m4.390575-13.326028c26.427616 8.725041 54.805041 27.535781 88.246357 61.075288l2.552986 2.552986-0.589151 3.548932c-2.959781 17.772712-11.670795 36.681644-23.369644 55.380164-11.754959 18.768658-26.778301 37.733699-42.839671 55.632658-32.12274 35.811945-68.818411 67.920658-92.86137 86.591123l-9.061698 7.027726-2.146192-11.249973c-7.687014-40.455014-16.917041-101.782795-19.568219-154.329424-1.332603-26.203178-1.038027-50.638904 2.048-69.295343 1.543014-9.286137 3.843507-17.604384 7.266192-24.085041 3.436712-6.480658 8.472548-11.951342 15.738739-13.816986 24.014904-6.129973 47.973699-7.81326 74.583671 0.981918z'","d='M822.805041 71.455562c49.446575 4.769315 49.446575 177.137973 43.260493 262.73315-34.830027-16.384-89.228274-45.603068-137.328219-79.226739-45.406685-31.744-85.188384-67.429699-97.504438-99.903124 74.162849-77.627616 129.781479-89.564932 191.572164-83.603287z'","d='M734.193973 88.456767c29.555726-11.432329 57.736767-12.93326 87.95178-10.015562 7.911452 0.771507 15.808877 8.556712 22.58411 26.525809 6.536767 17.309808 10.899288 41.254575 13.578521 68.243287 4.937644 49.656986 4.025863 108.010959 1.444821 150.177315-34.465315-16.804822-83.378849-43.681315-126.990027-74.162849-22.513973-15.752767-43.484932-32.347178-60.261699-48.927562-15.36-15.163616-26.848438-29.948493-33.03452-43.681315 35.278904-36.288877 65.928767-57.035397 94.712986-68.17315z m-5.063891-13.087562c-32.150795 12.428274-65.423781 35.545425-102.961096 74.836165l-3.057972 3.198246 1.557041 4.138083c6.691068 17.618411 20.53611 35.489315 37.986192 52.743013 17.534247 17.309808 39.178521 34.423233 62.071232 50.428493 48.492712 33.904219 103.255671 63.319671 138.35222 79.815891l9.258082 4.348493 0.729424-10.18389c3.100055-43.022027 4.671123-107.940822-0.785534-162.858083-2.735342-27.409534-7.252164-52.799123-14.420164-71.820274-6.943562-18.37589-17.576329-33.918247-34.367123-35.531397-31.617753-3.057973-62.14137-1.571068-94.362302 10.88526z'","d='M925.808219 547.068493c0 232.419945-188.401973 420.821918-420.821918 420.821918C272.566356 967.890411 84.164384 779.488438 84.164384 547.068493 84.164384 314.648548 272.566356 126.246575 504.986301 126.246575c232.419945 0 420.821918 188.401973 420.821918 420.821918z'","d='M911.780822 547.068493c0 224.662795-182.131726 406.794521-406.794521 406.794521S98.191781 771.731288 98.191781 547.068493s182.131726-406.794521 406.79452-406.79452 406.794521 182.131726 406.794521 406.79452z'","d='M921.712219 627.824219c-37.032329 195.513863-208.783781 343.36263-415.070685 343.36263-179.25611 0-332.42126-111.630027-393.80515-269.157698l4.320438-3.464767c63.530082-50.989589 124.998137-100.337973 303.665096-100.337973 77.290959 0 155.535781 19.119342 227.945205 36.80789 106.944877 26.133041 201.138849 49.137973 260.544877 2.80548 4.236274-3.815452 8.360329-7.153973 12.400219-10.015562z'","d='M374.545534 588.870137c32.543562-0.855671 75.285041-13.326027 101.165589 11.797041 20.339726 47.202192-73.124822 68.804384-39.669479 116.104767 25.417644 54.243945 97.139726 55.857096 144.482192 33.679781 26.427616-10.085699 42.923836-38.154521 71.343342-43.288548-20.15737 61.860822-101.530301 84.402849-159.659836 73.08274-49.685041-17.898959-106.215452 23.706301-151.131178-14.083507-14.532384-13.129644-45.743342-39.024219-26.24526-58.339945 26.904548 37.972164 71.539726 72.900384 119.345096 47.777315-15.374027-33.020493-27.100932-70.613918-59.532274-90.785315-22.780493-16.846904-38.996164-69.295342-0.098192-75.944329z m72.100822 25.6c-4.03989 15.710685 1.40274 20.550137 16.215671 14.462247 4.124055-15.991233-1.318575-20.844712-16.215671-14.462247zM196.383562 420.821918a56.109589 56.109589 0 0 1 56.109589-56.109589h112.219178a56.109589 56.109589 0 1 1 0 112.219178h-112.219178a56.109589 56.109589 0 0 1-56.109589-56.109589z'","d='M210.410959 420.821918c0-23.243397 21.980932-42.082192 49.09589-42.082192h98.191781c27.114959 0 49.09589 18.838795 49.095891 42.082192s-21.980932 42.082192-49.095891 42.082192h-98.191781c-27.114959 0-49.09589-18.838795-49.09589-42.082192z'","d='M504.986301 420.821918a56.109589 56.109589 0 0 1 56.109589-56.109589h112.219178a56.109589 56.109589 0 0 1 0 112.219178h-112.219178a56.109589 56.109589 0 0 1-56.109589-56.109589z'","d='M519.013699 420.821918c0-23.243397 21.980932-42.082192 49.09589-42.082192h98.191781c27.114959 0 49.09589 18.838795 49.09589 42.082192s-21.980932 42.082192-49.09589 42.082192h-98.191781c-27.114959 0-49.09589-18.838795-49.09589-42.082192z'","d='M371.726027 378.739726c19.357808 0 35.068493 18.838795 35.068494 42.082192s-15.710685 42.082192-35.068494 42.082192-35.068493-18.838795-35.068493-42.082192 15.710685-42.082192 35.068493-42.082192zM680.328767 378.739726c19.357808 0 35.068493 18.838795 35.068493 42.082192s-15.710685 42.082192-35.068493 42.082192-35.068493-18.838795-35.068493-42.082192 15.710685-42.082192 35.068493-42.082192z'"],201:["d='M591.260444 953.941333A199.111111 199.111111 0 0 1 455.111111 765.041778V120.888889a120.888889 120.888889 0 0 1 241.777778 0v341.518222a130.318222 130.318222 0 0 0 51.100444 103.480889 70.641778 70.641778 0 0 1 45.425778-7.893333l170.666667 27.221333A71.111111 71.111111 0 0 1 1024 655.431111V952.888889a71.111111 71.111111 0 0 1-71.111111 71.111111H782.222222a70.940444 70.940444 0 0 1-53.475555-24.220444l-137.486223-45.838223z m17.991112-53.973333A142.222222 142.222222 0 0 1 512 765.041778V120.888889a64 64 0 1 1 128 0v341.518222A187.207111 187.207111 0 0 0 768 640v-11.776a14.222222 14.222222 0 0 1 16.455111-14.037333l170.666667 27.207111a14.222222 14.222222 0 0 1 11.989333 14.037333V952.888889a14.222222 14.222222 0 0 1-14.222222 14.222222H782.222222a14.222222 14.222222 0 0 1-14.222222-14.222222v-19.726222a14.222222 14.222222 0 0 1-18.716444 13.482666l-140.032-46.677333z'","d='M71.111111 967.111111a14.222222 14.222222 0 0 1-14.222222-14.222222V655.431111a14.222222 14.222222 0 0 1 11.989333-14.037333l170.666667-27.207111a14.222222 14.222222 0 0 1 16.455111 14.051555V640a187.591111 187.591111 0 0 0 54.784-29.070222A187.207111 187.207111 0 0 0 384 462.407111V120.888889a64 64 0 1 1 128 0v644.152889a142.222222 142.222222 0 0 1-97.251556 134.926222l-140.032 46.677333A14.222222 14.222222 0 0 1 256 933.162667V952.888889a14.222222 14.222222 0 0 1-14.222222 14.222222H71.111111z m224.142222 32.668445A70.940444 70.940444 0 0 1 241.777778 1024H71.111111a71.111111 71.111111 0 0 1-71.111111-71.111111V655.431111a71.111111 71.111111 0 0 1 59.918222-70.215111l170.666667-27.221333c16.355556-2.602667 32.142222 0.568889 45.425778 7.893333A130.318222 130.318222 0 0 0 327.111111 462.407111V120.888889a120.888889 120.888889 0 0 1 241.777778 0v644.152889a199.111111 199.111111 0 0 1-136.149333 188.899555l-137.500445 45.838223z'","d='M512 120.888889a64 64 0 1 1 128 0v341.518222A187.192889 187.192889 0 0 0 768 640v312.888889l-158.748444-52.906667A142.222222 142.222222 0 0 1 512 765.027556V120.888889z'","d='M576 192a56.888889 56.888889 0 0 0-56.888889 56.888889V483.555556a7.111111 7.111111 0 0 1-14.222222 0V248.888889a71.111111 71.111111 0 0 1 142.222222 0V483.555556a7.111111 7.111111 0 0 1-14.222222 0V248.888889a56.888889 56.888889 0 0 0-56.888889-56.888889z'","d='M512 120.888889a64 64 0 1 0-128 0v341.518222A187.192889 187.192889 0 0 1 256 640v312.888889l158.748444-52.906667A142.222222 142.222222 0 0 0 512 765.027556V120.888889z'","d='M504.888889 120.888889a71.111111 71.111111 0 0 1 142.222222 0v341.518222c0 77.511111 49.607111 146.346667 123.136 170.851556L768 640h7.111111v322.759111l-168.106667-56.035555a149.333333 149.333333 0 0 1-102.115555-141.681778V120.888889z m256 524.16c-76.657778-27.804444-128-100.721778-128-182.641778V120.888889a56.888889 56.888889 0 0 0-113.777778 0v644.152889a135.111111 135.111111 0 0 0 92.387556 128.184889L760.888889 943.018667v-297.955556z'","d='M768 952.888889V628.224a14.222222 14.222222 0 0 1 16.455111-14.037333l170.666667 27.207111a14.222222 14.222222 0 0 1 11.989333 14.037333V952.888889a14.222222 14.222222 0 0 1-14.222222 14.222222H782.222222a14.222222 14.222222 0 0 1-14.222222-14.222222z'","d='M519.111111 120.888889a71.111111 71.111111 0 0 0-142.222222 0v341.518222c0 77.511111-49.607111 146.346667-123.136 170.851556L256 640h-7.111111v322.759111l168.106667-56.035555a149.333333 149.333333 0 0 0 102.115555-141.681778V120.888889z m-256 524.16c76.657778-27.804444 128-100.721778 128-182.641778V120.888889a56.888889 56.888889 0 0 1 113.777778 0v644.152889a135.111111 135.111111 0 0 1-92.387556 128.184889L263.111111 943.018667v-297.955556z'","d='M448 192a56.888889 56.888889 0 0 1 56.888889 56.888889V483.555556a7.111111 7.111111 0 0 0 14.222222 0V248.888889a71.111111 71.111111 0 0 0-142.222222 0V483.555556a7.111111 7.111111 0 0 0 14.222222 0V248.888889a56.888889 56.888889 0 0 1 56.888889-56.888889z'","d='M256 952.888889V628.224a14.222222 14.222222 0 0 0-16.455111-14.037333l-170.666667 27.207111a14.222222 14.222222 0 0 0-11.989333 14.037333V952.888889a14.222222 14.222222 0 0 0 14.222222 14.222222h170.666667a14.222222 14.222222 0 0 0 14.222222-14.222222z'"],202:["d='M932.408759 477.838156A72.675545 72.675545 0 0 1 895.999876 521.841705a69.361768 69.361768 0 0 1-31.601774 7.580444H895.999876c21.105775 0 40.063994 9.443554 53.091548 24.419552A73.756434 73.756434 0 0 1 967.110977 602.382139c0 18.631109-6.812443 35.626662-18.019553 48.526215A70.172435 70.172435 0 0 1 895.999876 675.327906h-31.601774c11.349332 0 22.087108 2.730666 31.601774 7.580444a72.675545 72.675545 0 0 1 36.408883 44.003549c2.019555 6.755555 3.100444 13.937776 3.100444 21.361775 0 18.631109-6.826666 35.626662-18.019553 48.526215a70.172435 70.172435 0 0 1-53.091548 24.419552h-31.601773c11.349332 0 22.072886 2.730666 31.601773 7.580444a72.675545 72.675545 0 0 1 36.408884 44.017772c2.005333 6.755555 3.100444 13.923554 3.100444 21.347552 0 40.29155-31.843551 72.95999-71.111101 72.95999H478.549267a924.47276 924.47276 0 0 1-222.577747-27.207107A28.44444 28.44444 0 0 1 227.555524 967.110977H85.333321a28.44444 28.44444 0 0 1-28.44444-28.444441V398.293278a28.44444 28.44444 0 0 1 28.44444-28.44444h142.222203a28.430218 28.430218 0 0 1 28.44444 28.401773 311.068401 311.068401 0 0 0 49.607105-34.503106 253.610631 253.610631 0 0 0 37.518217-39.77955c33.763551-44.799994 53.87377-95.089765 75.548434-171.064865l9.99822-35.043551c14.250665-49.919993 68.622213-74.951101 114.446207-52.693326 36.295106 17.635553 54.926215 59.519992 44.131549 99.199986l-17.336886 168.931532c-6.869332 25.244441 11.633776 50.247104 37.191106 50.247105h257.279964c39.281772 0 71.111101 32.654218 71.111101 72.959989a74.666656 74.666656 0 0 1-3.086222 21.333331z m50.047993 28.771551a131.015093 131.015093 0 0 0 9.941332-50.133326c0-70.314657-55.950214-129.834649-127.999982-129.834649H627.768802l15.644442-152.433756C658.318131 110.364429 627.967913 43.135994 567.99281 13.994665c-78.833767-38.300439-170.439087 5.589333-194.019529 88.248876l-10.012443 35.043551c-21.048886 73.841768-38.855106 116.053317-66.275546 152.419534a198.044417 198.044417 0 0 1-31.203551 32.625774 84.963544 84.963544 0 0 0-38.926217-9.386666H85.333321a85.333321 85.333321 0 0 0-85.333321 85.333322V938.666536a85.333321 85.333321 0 0 0 85.333321 85.333322h142.222203a84.977766 84.977766 0 0 0 54.698659-19.825775A981.432753 981.432753 0 0 0 478.549267 1023.999858h354.247062c72.049768 0 127.999982-59.50577 127.999982-129.834649a131.029315 131.029315 0 0 0-9.955554-50.133326 130.92976 130.92976 0 0 0 41.557327-95.758209 131.029315 131.029315 0 0 0-9.955554-50.133327A130.92976 130.92976 0 0 0 1023.999858 602.382139a130.92976 130.92976 0 0 0-41.543106-95.772432z'","d='M418.67372 152.817757l9.99822-35.043551c14.250665-49.934215 68.622213-74.979545 114.446207-52.707548 36.295106 17.635553 54.926215 59.534214 44.131549 99.214208L569.91281 333.22662c-6.869332 25.244441 11.633776 50.247104 37.191106 50.247105h257.279964c39.281772 0 71.111101 32.66844 71.111101 72.959989 0 40.29155-31.829329 72.95999-71.111101 72.95999H895.999876c39.26755 0 71.111101 32.654218 71.111101 72.945768 0 40.29155-31.843551 72.95999-71.111101 72.95999h-31.601774c39.26755 0 71.111101 32.654218 71.111101 72.95999 0 40.277328-31.843551 72.945768-71.111101 72.945767h-31.601773c39.26755 0 71.111101 32.654218 71.111101 72.95999 0 40.277328-31.843551 72.945768-71.111101 72.945768H478.549267c-81.635544 0-162.915533-10.808887-241.720855-32.15644L56.888881 886.186544V464.54038l48.241771-11.434665c90.12621-21.361775 182.229308-55.253326 237.994634-129.223093 33.763551-44.799994 53.87377-95.089765 75.548434-171.064865z'","d='M573.226587 161.663978l-17.351109 169.031087c-8.291554 33.422218 16.241776 67.00088 51.228438 67.00088h257.279964c31.089773 0 56.888881 25.955552 56.888881 58.737769 0 32.782218-25.799108 58.73777-56.888881 58.73777v14.22222a69.361768 69.361768 0 0 0 41.44355-13.653331 73.443545 73.443545 0 0 0 29.681773-59.306659c0-40.29155-31.843551-72.95999-71.111101-72.959989H607.103916c-25.55733 0-44.060438-25.002663-37.191106-50.261327l17.351108-168.931532c10.780443-39.679994-7.850666-81.578655-44.145771-99.214208-45.823994-22.271997-100.209764 2.773333-114.446207 52.707548l-9.99822 35.043551c-21.674664 75.975101-41.784883 126.264871-75.548434 171.064865-55.751103 73.955545-147.868424 107.861318-237.994634 129.223093L56.888881 464.54038V886.186544l179.939531 48.753771A924.47276 924.47276 0 0 0 478.549267 967.110977h354.247062c39.26755 0 71.111101-32.66844 71.111101-72.95999a73.443545 73.443545 0 0 0-29.681774-59.306659 69.361768 69.361768 0 0 0-41.429327-13.653331v14.22222c31.075551 0 56.888881 25.955552 56.888881 58.73777 0 32.782218-25.81333 58.73777-56.888881 58.73777H478.549267c-80.383989 0-160.412422-10.652443-237.994634-31.672885L71.111101 875.33499V475.775934l37.290662-8.831999c90.623987-21.475553 187.121752-56.277326 246.072854-134.499537 35.370662-46.904882 56.035548-99.214208 77.880879-175.729753l9.99822-35.043551c11.903998-41.742216 56.974214-62.065769 94.549321-43.804438 29.966218 14.563554 45.681771 49.407993 36.622217 82.673766l-0.298667 1.137778z m335.985731 368.981282a69.816879 69.816879 0 0 0-13.212442-1.265778h-31.601774v14.22222H895.999876c31.075551 0 56.888881 25.955552 56.888881 58.73777 0 32.782218-25.81333 58.73777-56.888881 58.73777h-31.601774v28.44444c31.075551 0 56.888881 25.94133 56.888881 58.73777 0 32.767995-25.81333 58.723547-56.888881 58.723547h-31.601773v14.22222h31.601773c4.508444 0 8.931554-0.426667 13.212443-1.265777 32.952884-6.34311 57.884436-36.039106 57.884436-71.67999a73.457768 73.457768 0 0 0-29.667551-59.306659 69.361768 69.361768 0 0 0-41.429328-13.653331H895.999876a69.688879 69.688879 0 0 0 13.226664-1.265778c32.952884-6.357332 57.884436-36.039106 57.884437-71.694212 0-35.655106-24.931552-65.33688-57.884437-71.694212z'","d='M881.635433 529.777704a13.511109 13.511109 0 0 1-13.511109 14.293332h-85.290655c-7.807999 0-14.407109-6.399999-14.748442-14.293332a13.511109 13.511109 0 0 1 13.525331-14.293331h85.276433c7.822221 0 14.421331 6.399999 14.748442 14.293331zM746.666563 675.555462a14.22222 14.22222 0 0 1 14.22222-14.222221h99.555542a14.22222 14.22222 0 1 1 0 28.444441h-99.555542a14.22222 14.22222 0 0 1-14.22222-14.22222z m0 142.222202a14.22222 14.22222 0 0 1 14.22222-14.22222H824.888774a14.22222 14.22222 0 1 1 0 28.44444h-63.999991a14.22222 14.22222 0 0 1-14.22222-14.22222z'","d='M56.888881 938.666536a28.44444 28.44444 0 0 0 28.44444 28.444441h142.222203a28.44444 28.44444 0 0 0 28.44444-28.444441V398.222167a28.44444 28.44444 0 0 0-28.44444-28.444441H85.333321a28.44444 28.44444 0 0 0-28.44444 28.444441v540.444369z'"],203:["d='M199.020712 197.183123L351.694904 41.633315c52.111781-53.079671 140.512438-41.703452 177.47463 22.864658l67.107069 117.198904a87.573041 87.573041 0 0 1-24.477808 114.323287l-19.946959 14.518357a111.601973 111.601973 0 0 1-80.938083 20.339726 123.693589 123.693589 0 0 1-53.472438 38.912l4.79737 127.270575a411.00274 411.00274 0 0 1-16.903014 133.162082 336.643507 336.643507 0 0 1 110.437699 9.117808 400.76274 400.76274 0 0 1 311.408219-117.970411c75.733918 5.035836 139.64274 58.213699 158.369315 131.77337l28.966575 113.846356c23.299507 91.570849-33.693808 184.291945-125.923945 204.842083a1938.067288 1938.067288 0 0 1-515.478794 44.130191L177.306301 1006.465753A175.973699 175.973699 0 0 1 11.151781 809.240548l16.65052-135.743123A465.302795 465.302795 0 0 1 56.530411 560.113973l142.490301-362.93085z m334.497315 506.080439l-14.336-4.615014a280.547945 280.547945 0 0 0-183.380164 3.997808l-32.571616 12.063562a354.991342 354.991342 0 0 0 62.940931-215.530959l-6.312329-167.318795-0.364712-9.356274a2.10411 2.10411 0 0 1 2.482849-2.146191c19.694466 3.647123 39.136438-1.683288 53.865206-13.297973l0.420822-0.336658a66.994849 66.994849 0 0 0 22.331616-33.03452l3.899617-12.93326a2.567014 2.567014 0 0 1 4.152109-1.192329l2.903671 2.524931 1.45885 1.234411c11.64274 9.482521 26.24526 13.606575 40.483068 12.231891a55.464329 55.464329 0 0 0 27.353425-10.380274l19.946959-14.532384a31.463452 31.463452 0 0 0 8.795178-41.072219l-67.121096-117.198904c-18.474082-32.277041-62.674411-37.972164-88.723288-11.432329L247.064548 228.323945l-138.310137 352.298082a409.193205 409.193205 0 0 0-25.249315 99.70674l-16.664548 135.729096a119.892164 119.892164 0 0 0 113.201096 134.354411l195.794411 9.510575c168.006137 8.13589 336.376986-6.270247 500.553644-42.853698a111.433644 111.433644 0 0 0 83.743561-136.24811l-28.966575-113.846356a119.303014 119.303014 0 0 0-107.716384-89.621041 344.653151 344.653151 0 0 0-284.307287 119.345096l-5.624987 6.564822z'","d='M291.713753 706.714301l11.516494 7.995617 4.881534 13.143671 32.557589-12.063562a266.520548 266.520548 0 0 1 174.220274-3.787397l23.201315 7.462575 11.698849-13.620602a330.625753 330.625753 0 0 1 272.734685-114.491617 105.275616 105.275616 0 0 1 95.049644 79.086466l28.966575 113.846356a97.406247 97.406247 0 0 1-73.208986 119.092603 1867.874192 1867.874192 0 0 1-496.822356 42.531068l-195.794411-9.496547a105.836712 105.836712 0 0 1-99.945206-118.643727l16.650521-135.729095a395.193863 395.193863 0 0 1 24.393644-96.298083l137.272109-349.632876L401.744658 90.771288a42.082192 42.082192 0 0 1 66.56 8.556712l67.107068 117.212932c4.41863 7.715068 2.314521 17.534247-4.881534 22.766465L510.59726 253.825753a41.577205 41.577205 0 0 1-51.803178-2.300493l-2.903671-2.524931a16.594411 16.594411 0 0 0-26.806356 7.701041l-3.913644 12.93326a53.205918 53.205918 0 0 1-60.612384 36.934137 16.131507 16.131507 0 0 0-19.063232 16.468165l6.677041 176.661041a340.907836 340.907836 0 0 1-60.458083 207.016328z'","d='M303.230247 714.69589l13.157698-4.867506-1.543013-4.138083-3.619069-2.524931-7.995616 11.544548z m-11.530521-7.981589l-11.530521-7.995616-7.981589 11.544548 11.530521 7.995616 7.995616-11.544548z m16.412055 21.139288l-13.157699 4.881534 4.881534 13.157699 13.143672-4.881534-4.867507-13.157699z m32.557589-12.063562l4.881534 13.157699-4.881534-13.157699z m174.220274-3.787397l-4.292384 13.354082 4.292384-13.354082z m23.201315 7.462575l-4.306411 13.354083 8.879342 2.861589 6.059836-7.069809-10.632767-9.145863z m11.698849-13.620602l10.646795 9.131835-10.646795-9.131835z m272.734685-114.491617l0.925808-13.999342-0.925808 13.999342z m95.049644 79.086466l13.592548-3.464767-13.606575 3.464767z m28.966575 113.846356l13.606576-3.464767-13.606576 3.464767zM873.345753 903.364384l-3.043945-13.69074 3.043945 13.69074z m-496.822356 42.531068l-0.673315 14.01337 0.673315-14.027397z m-195.794411-9.496548l-0.687342 13.999343 0.687342-13.999343z m-38.53326-9.300164l5.779288-12.778959-5.779288 12.764931z m-61.411945-109.343562l13.915178 1.711343-13.915178-1.711343z m16.65052-135.729096l13.915178 1.711343-13.915178-1.711343z m24.393644-96.298082l13.04548 5.134027-13.04548-5.134027z m137.27211-349.632877l-10.015562-9.819178-2.005918 2.033973-1.038027 2.665205 13.045479 5.12zM401.744658 90.771288l10.015561 9.819178-10.015561-9.819178z m66.56 8.556712l-12.175781 6.985644 12.175781-6.971617z m67.107068 117.212932l12.161753-6.971617-12.161753 6.971617z m-4.881534 22.766465l8.262137 11.334137-8.262137-11.334137zM510.59726 253.825753l8.24811 11.348165-8.24811-11.362192z m-51.803178-2.300493l-9.230027 10.56263 9.230027-10.56263z m-2.903671-2.524931l9.230027-10.576658-9.230027 10.576658z m-26.806356 7.701041l-13.424219-4.067945 13.424219 4.067945z m-3.913644 12.93326l13.438247 4.067945-13.438247-4.067945z m-60.612384 36.934137l-2.567013 13.788932 2.567013-13.788932z m-19.063232 16.468165l-14.027398 0.533041 14.027398-0.533041z m6.677041 176.661041l14.013369-0.519014-14.027397 0.519014zM311.225863 703.193425l-11.530521-7.995617-15.991232 23.061041 11.544548 7.995617 15.977205-23.061041z m10.043616 19.806685l-4.881534-13.157699-26.30137 9.749041 4.867507 13.157699 26.315397-9.749041z m14.532384-20.339726l-32.571616 12.063561 9.749041 26.30137 32.571616-12.063562-9.749041-26.301369z m183.380164-3.997809a280.547945 280.547945 0 0 0-183.380164 3.997809l9.749041 26.301369A252.493151 252.493151 0 0 1 510.59726 725.356712l8.584767-26.708164z m23.201315 7.462576l-23.201315-7.462576-8.584767 26.708165 23.187288 7.462575 8.598794-26.708164z m-3.226301-9.412384l-11.712877 13.63463 21.279562 18.277699 11.712877-13.63463-21.293589-18.277699z m284.29326-119.345096a344.653151 344.653151 0 0 0-284.307287 119.345096l21.293589 18.277699a316.598356 316.598356 0 0 1 261.162082-109.62411l1.865644-27.998685z m107.716384 89.635069a119.303014 119.303014 0 0 0-107.716384-89.635069l-1.851616 27.998685a91.248219 91.248219 0 0 1 82.382904 68.537863l27.185096-6.915507z m28.966575 113.832328l-28.966575-113.846356-27.185096 6.915507 28.966575 113.846356 27.185096-6.915507z m-83.743561 136.24811a111.433644 111.433644 0 0 0 83.743561-136.24811l-27.185096 6.915507a83.378849 83.378849 0 0 1-62.660383 101.951124l6.101918 27.381479z m-500.553644 42.853699c168.006137 8.13589 336.376986-6.270247 500.553644-42.853699l-6.101918-27.381479a1853.860822 1853.860822 0 0 1-493.091069 42.208438l-1.360657 28.02674z m-195.808439-9.510576l195.808439 9.510576 1.360657-28.02674-195.808438-9.496548-1.360658 28.012712z m-43.639232-10.520548c13.746849 6.228164 28.559781 9.791123 43.639232 10.520548l1.360658-28.012712a91.823342 91.823342 0 0 1-33.427288-8.065753l-11.572602 25.557917z m-69.547836-123.833863a119.892164 119.892164 0 0 0 69.547836 123.833863l11.572602-25.557917A91.83737 91.83737 0 0 1 94.684932 819.480548l-27.844384-3.422685zM83.491068 680.328767l-16.65052 135.729096 27.844384 3.422685 16.65052-135.729096-27.844384-3.422685z m25.263343-99.70674a409.193205 409.193205 0 0 0-25.249315 99.70674l27.830356 3.422685a381.124384 381.124384 0 0 1 23.537973-92.875397l-26.119014-10.254028z m137.27211-349.632876L108.754411 580.622027l26.119014 10.24L272.131507 241.257205l-26.119014-10.254027zM391.743123 80.938082l-142.65863 145.351891 20.003069 19.638356 142.65863-145.323836-20.003069-19.666411z m88.723288 11.432329c-18.474082-32.277041-62.674411-37.972164-88.723288-11.432329l20.017096 19.652384a28.054795 28.054795 0 0 1 44.368658 5.723178l24.337534-13.943233z m67.107068 117.198904l-67.107068-117.198904-24.337534 13.943233 67.107068 117.198904 24.337534-13.943233z m-8.78115 41.072219a31.463452 31.463452 0 0 0 8.795178-41.072219l-24.351562 13.943233a3.408658 3.408658 0 0 1-0.953863 4.446685l16.510247 22.682301z m-19.960987 14.532384l19.960987-14.532384-16.510247-22.682301-19.946959 14.518356 16.496219 22.682301z m-69.295342-3.086028a55.604603 55.604603 0 0 0 69.295342 3.086028l-16.496219-22.696329a27.549808 27.549808 0 0 1-34.339068-1.514959l-18.446028 21.12526z m-2.889644-2.524931l2.903671 2.524931 18.446028-21.12526-2.889644-2.524931-18.460055 21.12526z m-4.152109 1.192329a2.567014 2.567014 0 0 1 4.152109-1.192329l18.460055-21.139288a30.621808 30.621808 0 0 0-49.460603 14.223781l26.848439 8.107836z m-3.899617 12.93326l3.899617-12.93326-26.848439-8.107836-3.913644 12.93326 26.862466 8.107836z m-76.617644 46.669151a67.233315 67.233315 0 0 0 76.617644-46.669151l-26.862466-8.107836a39.178521 39.178521 0 0 1-44.635178 27.199124l-5.12 27.577863z m-2.482849 2.146191a2.10411 2.10411 0 0 1 2.482849-2.146191l5.12-27.577863a30.158904 30.158904 0 0 0-35.629589 30.790137l28.02674-1.066083z m6.677041 176.675069l-6.677041-176.675069-28.02674 1.066083 6.663014 176.661041 28.040767-1.052055zM303.230247 714.69589a354.935233 354.935233 0 0 0 62.940931-215.530958l-28.040767 1.052054a326.894466 326.894466 0 0 1-57.947178 198.487672l23.047014 15.991232z'","d='M466.691507 193.942795a7.013699 7.013699 0 0 1 9.791123 1.486904l16.860932 22.892712a7.013699 7.013699 0 1 1-11.306083 8.318247l-16.832876-22.892713a7.013699 7.013699 0 0 1 1.472876-9.80515z m-14.504329 5.681095a7.013699 7.013699 0 0 1 5.947617 7.939507l-7.013699 48.82937a7.013699 7.013699 0 1 1-13.887123-1.99189l7.013698-48.82937a7.013699 7.013699 0 0 1 7.939507-5.947617zM778.422356 666.076932a238.465753 238.465753 0 0 0-187.546301 91.178082L576.806575 775.153973a14.027397 14.027397 0 1 1-22.065096-17.323836l14.041425-17.898959a266.520548 266.520548 0 0 1 209.625425-101.909041h17.646466a14.027397 14.027397 0 1 1 0 28.054795h-17.646466zM233.41589 768.252493a14.027397 14.027397 0 0 1 1.795507-19.750575l62.618302-52.181918a14.027397 14.027397 0 0 1 17.955068 21.546082l-62.604274 52.181918a14.027397 14.027397 0 0 1-19.764603-1.795507z'"],204:["d='M932.408889 546.161778c2.019556 6.755556 3.100444 13.937778 3.100444 21.361778 0 40.291556-31.843556 72.945778-71.111111 72.945777H607.104c-25.557333 0-44.060444 25.002667-37.191111 50.247111l17.351111 168.931556c10.780444 39.68-7.850667 81.564444-44.145778 99.2-45.824 22.272-100.209778-2.773333-114.446222-52.693333l-9.998222-35.043556c-21.674667-75.975111-41.784889-126.264889-75.548445-171.064889a253.610667 253.610667 0 0 0-37.518222-39.779555A311.068444 311.068444 0 0 0 256 625.763556a28.430222 28.430222 0 0 1-28.444444 28.401777H85.333333a28.444444 28.444444 0 0 1-28.444444-28.444444V85.333333a28.444444 28.444444 0 0 1 28.444444-28.444444h142.222223a28.444444 28.444444 0 0 1 28.416 27.207111A924.615111 924.615111 0 0 1 478.549333 56.888889h354.247111c39.267556 0 71.111111 32.654222 71.111112 72.945778 0 7.424-1.095111 14.592-3.100445 21.347555a72.675556 72.675556 0 0 1-36.408889 44.017778 69.361778 69.361778 0 0 1-31.601778 7.580444h31.601778c21.105778 0 40.064 9.429333 53.091556 24.419556a73.756444 73.756444 0 0 1 18.019555 48.526222 74.666667 74.666667 0 0 1-3.100444 21.361778A72.675556 72.675556 0 0 1 896 341.091556a69.376 69.376 0 0 1-31.601778 7.580444H896c21.105778 0 40.064 9.443556 53.091556 24.419556A73.756444 73.756444 0 0 1 967.111111 421.617778c0 18.631111-6.812444 35.640889-18.019555 48.540444A70.172444 70.172444 0 0 1 896 494.577778h-31.601778c11.349333 0 22.087111 2.730667 31.601778 7.580444a72.675556 72.675556 0 0 1 36.408889 44.003556z m50.048-28.771556a131.015111 131.015111 0 0 1 9.941333 50.133334c0 70.314667-55.950222 129.834667-128 129.834666H627.768889l15.644444 152.433778c14.890667 63.829333-15.459556 131.072-75.434666 160.213333-78.833778 38.300444-170.439111-5.589333-194.019556-88.248889l-10.012444-35.043555c-21.048889-73.827556-38.855111-116.053333-66.275556-152.419556a198.044444 198.044444 0 0 0-31.203555-32.625777c-11.662222 6.001778-24.888889 9.386667-38.926223 9.386666H85.333333a85.333333 85.333333 0 0 1-85.333333-85.333333V85.333333A85.333333 85.333333 0 0 1 85.333333 0h142.222223c20.821333 0 39.893333 7.452444 54.698666 19.825778A981.404444 981.404444 0 0 1 478.549333 0h354.247111c72.049778 0 128 59.505778 128 129.834667a131.029333 131.029333 0 0 1-9.955555 50.133333 130.929778 130.929778 0 0 1 41.557333 95.758222 131.029333 131.029333 0 0 1-9.955555 50.133334A130.929778 130.929778 0 0 1 1024 421.617778a130.929778 130.929778 0 0 1-41.543111 95.772444z'","d='M580.394667 861.582222l-0.156445-0.554666-0.056889-0.568889-17.28-168.391111c-7.594667-29.354667 13.923556-58.652444 44.202667-58.652445h257.28c35.185778 0 64-29.297778 64-65.848889 0-36.536889-28.814222-65.848889-64-65.848889v-14.222222H896c35.171556 0 64-29.297778 64-65.834667 0-36.536889-28.828444-65.848889-64-65.848888h-31.601778v-14.222223c35.171556 0 64-29.297778 64-65.848889 0-36.522667-28.828444-65.834667-64-65.834666h-31.601778v-14.222222c35.171556 0 64-29.297778 64-65.848889 0-36.522667-28.828444-65.834667-64-65.834667H478.549333a917.333333 917.333333 0 0 0-239.857777 31.914667L64 143.246222v410.595556l42.766222 10.140444c90.368 21.404444 184.675556 55.751111 242.033778 131.84 34.56 45.866667 54.954667 97.166222 76.714667 173.411556l9.998222 35.043555c13.084444 45.838222 62.805333 68.522667 104.504889 48.256 33.137778-16.099556 50.289778-54.471111 40.376889-90.936889z'","d='M832.796444 202.808889v-14.222222c31.075556 0 56.888889-25.955556 56.888889-58.737778 0-32.782222-25.813333-58.737778-56.888889-58.737778H478.549333a910.222222 910.222222 0 0 0-237.994666 31.672889L71.111111 148.679111v399.544889l37.290667 8.832c90.624 21.475556 187.121778 56.291556 246.072889 134.499556 35.370667 46.904889 56.035556 99.214222 77.880889 175.729777l9.998222 35.043556c11.904 41.742222 56.974222 62.065778 94.549333 43.804444 29.966222-14.563556 45.681778-49.408 36.622222-82.673777l-0.298666-1.137778-17.351111-169.016889c-8.291556-33.422222 16.241778-67.000889 51.228444-67.000889h257.28c31.089778 0 56.888889-25.955556 56.888889-58.737778 0-32.782222-25.799111-58.737778-56.888889-58.737778v-14.222222c39.281778 0 71.111111 32.668444 71.111111 72.96 0 40.291556-31.829333 72.96-71.111111 72.96h-257.28c-25.557333 0-44.060444 25.002667-37.191111 50.261334l17.351111 168.931555c10.780444 39.68-7.850667 81.578667-44.145778 99.214222-45.824 22.272-100.209778-2.773333-114.446222-52.707555l-9.998222-35.043556c-21.674667-75.975111-41.784889-126.264889-75.548445-171.064889-55.751111-73.955556-147.868444-107.861333-237.994666-129.223111L56.888889 559.459556V137.813333L236.828444 89.031111A924.444444 924.444444 0 0 1 478.549333 56.888889h354.247111c39.267556 0 71.111111 32.668444 71.111112 72.96 0 40.291556-31.843556 72.96-71.111112 72.96z m31.601778 145.891555v14.222223H896c31.075556 0 56.888889 25.955556 56.888889 58.737777 0 32.782222-25.813333 58.737778-56.888889 58.737778h-31.601778v14.222222H896c39.267556 0 71.111111-32.668444 71.111111-72.96 0-40.291556-31.843556-72.96-71.111111-72.96h-31.601778z m0 0v-14.222222c31.075556 0 56.888889-25.941333 56.888889-58.737778 0-32.768-25.813333-58.723556-56.888889-58.723555h-31.601778v-14.222222h31.601778c39.267556 0 71.111111 32.668444 71.111111 72.96 0 40.291556-31.843556 72.96-71.111111 72.96z'","d='M881.635556 494.222222a13.511111 13.511111 0 0 0-13.511112-14.293333h-85.290666c-7.808 0-14.407111 6.4-14.748445 14.293333a13.511111 13.511111 0 0 0 13.525334 14.293334h85.276444c7.822222 0 14.421333-6.4 14.748445-14.293334zM746.666667 348.444444a14.222222 14.222222 0 0 0 14.222222 14.222223h99.555555a14.222222 14.222222 0 1 0 0-28.444445h-99.555555a14.222222 14.222222 0 0 0-14.222222 14.222222z m0-142.222222a14.222222 14.222222 0 0 0 14.222222 14.222222H824.888889a14.222222 14.222222 0 1 0 0-28.444444h-64a14.222222 14.222222 0 0 0-14.222222 14.222222z'","d='M56.888889 56.888889m28.444444 0l142.222223 0q28.444444 0 28.444444 28.444444l0 540.444445q0 28.444444-28.444444 28.444444l-142.222223 0q-28.444444 0-28.444444-28.444444l0-540.444445q0-28.444444 28.444444-28.444444Z'"],301:"d='M1016.123077 514.615138c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123076 278.417723 0 504.123077 225.705354 504.123077 504.123076zM438.429538 299.874462a321.378462 321.378462 0 0 1-75.618461 32.515938v62.007138c50.664369-15.123692 93.010708-39.337354 127.039015-74.106092v464.297354h62.007139V244.657231h-48.395816c-18.148431 20.416985-39.3216 38.581169-65.031877 55.217231z'",302:"d='M1016.123077 514.615138c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123076 278.417723 0 504.123077 225.705354 504.123077 504.123076zM387.229538 293.824985c-33.272123 35.540677-50.664369 83.936492-50.664369 144.431261H398.572308c0.756185-47.639631 12.098954-83.936492 33.272123-108.1344 19.6608-25.710277 48.395815-37.809231 85.448861-37.809231 34.784492 0 62.763323 9.074215 82.424123 27.206893 19.6608 18.148431 29.4912 43.102523 29.4912 76.3904 0 34.768738-14.367508 67.284677-41.590153 96.775877-14.367508 15.123692-42.346338 37.053046-84.692677 67.316184-57.470031 39.305846-96.035446 71.837538-117.208616 96.035446-36.296862 40.077785-53.689108 84.692677-53.689107 133.828923h359.943876v-55.185723h-283.56923c9.8304-36.296862 49.152-77.887015 117.9648-124.014277 55.957662-37.809231 93.010708-67.316185 111.915323-86.96123 34.784492-37.809231 52.932923-80.171323 52.932923-127.05477 0-46.883446-16.636062-85.448862-48.395816-114.183876-32.515938-28.719262-73.349908-43.102523-123.258092-43.102524-54.445292 0-99.060185 18.148431-132.332308 54.461047z'",303:"d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM390.272 271.616c-33.792 29.952-53.76 71.424-58.368 124.416h62.208c3.84-36.864 16.128-65.28 37.632-85.248 20.736-19.968 49.152-29.184 86.016-29.184 35.328 0 63.744 8.448 83.712 26.88 18.432 16.896 28.416 40.704 28.416 71.424 0 30.72-9.984 54.528-29.184 71.424-19.2 16.128-46.848 24.576-83.712 24.576h-42.24v49.152h44.544c38.4 0 67.584 8.448 89.088 26.88 21.504 18.432 32.256 43.776 32.256 76.8 0 32.256-11.52 59.136-33.024 80.64-23.808 22.272-55.296 33.792-94.464 33.792-34.56 0-62.976-9.984-86.016-28.416-26.88-22.272-41.472-55.296-43.008-98.304h-63.744c4.608 61.44 26.112 108.288 65.28 140.544 33.024 26.112 75.264 39.936 127.488 39.936 56.832 0 102.912-16.128 138.24-48.384 34.56-31.488 52.224-72.192 52.224-122.112 0-32.256-9.216-59.136-27.648-80.64-16.896-21.504-41.472-36.864-73.728-46.848 59.904-19.968 89.856-61.44 89.856-122.88 0-46.08-16.128-82.176-47.616-109.056-32.256-26.88-75.264-39.936-127.488-39.936-52.224 0-94.464 14.592-126.72 44.544z'",304:['d="M543.5392 318.227692v285.837785h-219.293538L541.270646 318.227692h2.268554z"','d="M1016.123077 514.615138c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123076 278.417723 0 504.123077 225.705354 504.123077 504.123076z m-744.054154 81.132308v58.9824h271.470277v122.501908h58.9824V654.729846h87.717415v-50.664369h-87.717415v-366.749539H544.295385L272.068923 595.747446z"'],305:'d="M1016.123077 514.615138c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123076 278.417723 0 504.123077 225.705354 504.123077 504.123076z m-680.314092 22.685539h58.9824a107.094646 107.094646 0 0 1 48.395815-48.395815c20.416985-11.342769 43.102523-16.620308 68.8128-16.620308 39.3216 0 70.325169 11.342769 92.254523 35.524923 22.685538 23.441723 34.784492 56.713846 34.784492 99.832123 0 37.809231-12.855138 68.797046-37.053046 93.010708-24.954092 24.182154-55.957662 36.281108-93.766892 36.281107-33.272123 0-61.250954-8.302277-82.424123-24.182153-24.197908-18.164185-37.809231-44.630646-40.833969-78.6432h-61.250954c3.780923 49.152 24.197908 88.4736 62.007138 117.208615 33.272123 25.694523 74.106092 38.549662 121.745723 38.549661 52.932923 0 98.304-16.620308 134.600862-49.152 38.565415-34.784492 58.226215-79.399385 58.226215-133.828923 0-58.241969-16.636062-103.613046-48.395815-136.885169-31.759754-32.515938-73.349908-48.395815-124.770462-48.395815-24.954092 0-47.639631 3.780923-68.8128 12.855138-23.441723 9.074215-43.102523 22.685538-58.226215 40.849723h-3.024739l18.148431-180.743877H678.360615v-55.201477H364.544l-28.735015 297.936739z"',306:['d="M606.144985 518.396062c-22.685538-24.197908-52.176738-35.540677-89.229785-35.540677-35.540677 0-65.031877 12.098954-88.4736 36.296861-23.441723 24.197908-34.784492 54.445292-34.784492 92.254523s10.586585 68.8128 33.272123 93.010708c22.685538 25.710277 52.176738 38.565415 89.985969 38.565415 36.296862 0 65.788062-12.855138 88.4736-37.053046 22.685538-25.710277 34.028308-57.470031 34.028308-96.035446s-11.342769-68.8128-33.272123-91.498338z"','d="M1016.123077 514.615138c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123076 278.417723 0 504.123077 225.705354 504.123077 504.123076zM373.996308 318.763323c-34.028308 53.689108-50.664369 124.014277-50.66437 210.219323 0 82.424123 15.123692 146.699815 46.883447 192.827077 33.272123 48.395815 82.424123 73.349908 148.212184 73.349908 52.932923 0 96.035446-18.148431 130.819939-52.932923 34.028308-34.784492 51.420554-79.399385 51.420554-132.332308 0-52.932923-15.879877-95.279262-46.883447-128.551385-31.759754-33.272123-73.349908-49.908185-124.770461-49.908184-31.759754 0-59.738585 7.561846-83.936492 23.441723-25.710277 15.123692-44.614892 37.053046-58.226216 65.031877h-3.024738c-0.756185-9.8304-0.756185-16.636062-0.756185-19.6608 0-61.250954 11.342769-111.915323 35.540677-151.236923 24.197908-42.346338 57.470031-62.763323 99.816369-62.763323 62.763323 0 99.816369 30.247385 111.915323 92.254523H691.593846c-15.123692-96.791631-72.593723-144.431262-172.410092-144.431262-61.250954 0-109.646769 27.978831-145.187446 84.692677z"'],307:'d="M1016.123077 514.615138c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123076 278.417723 0 504.123077 225.705354 504.123077 504.123076zM334.674708 301.386831h291.131077L424.660677 784.5888h65.788061l198.876554-489.251446V244.657231H334.674708v56.713846z"',308:['d="M601.985969 314.226215C580.056615 294.565415 549.809231 284.735015 512 284.735015c-38.565415 0-68.8128 9.8304-89.985969 29.4912-18.904615 16.636062-27.978831 38.565415-27.978831 65.031877 0 27.222646 8.318031 49.908185 24.954092 66.544246 19.6608 19.6608 50.664369 30.247385 93.010708 30.247385 41.590154 0 72.593723-10.586585 93.010708-30.247385 16.636062-16.636062 24.954092-39.3216 24.954092-66.544246 0-26.466462-9.8304-48.395815-27.978831-65.031877zM613.328738 556.961477C589.130831 535.032123 555.102523 524.445538 512 524.445538c-43.858708 0-77.130831 10.586585-100.572554 32.515939-22.685538 19.6608-33.272123 46.127262-33.272123 78.6432 0 31.759754 10.586585 58.226215 33.272123 77.887015 22.685538 20.416985 56.713846 31.003569 100.572554 31.00357 43.858708 0 77.130831-10.586585 101.328738-31.759754 21.173169-19.6608 32.515938-45.371077 32.515939-77.130831 0-32.515938-11.342769-58.9824-32.515939-78.6432z"','d="M1016.123077 514.615138c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123076 278.417723 0 504.123077 225.705354 504.123077 504.123076zM379.667692 277.929354c-29.4912 26.466462-43.858708 59.738585-43.858707 99.060184 0 28.735015 6.805662 52.932923 20.416984 72.593724 14.367508 21.173169 35.540677 37.053046 64.275693 46.883446v1.512369c-28.735015 6.805662-52.176738 22.685538-71.837539 46.883446-21.173169 25.710277-31.759754 55.957662-31.759754 90.742154 0 47.639631 16.636062 86.205046 49.908185 114.940061 34.028308 29.4912 82.424123 44.614892 145.187446 44.614893 62.007138 0 110.402954-15.123692 145.187446-44.614893 33.272123-28.735015 49.908185-67.300431 49.908185-114.940061 0-34.784492-10.586585-65.031877-31.759754-90.742154-19.6608-24.197908-43.858708-40.077785-71.837539-46.883446v-1.512369c27.978831-9.8304 49.152-25.710277 64.275693-46.883446 13.611323-19.6608 20.416985-43.858708 20.416984-72.593724 0-39.3216-15.123692-72.593723-43.858707-99.060184-31.759754-29.4912-76.374646-43.858708-132.332308-43.858708-56.713846 0-100.572554 14.367508-132.332308 43.858708z"'],309:['d="M598.016 316.16c22.272 24.576 33.792 56.064 33.792 94.464 0 37.632-12.288 69.12-35.328 93.696-24.576 24.576-54.528 36.864-89.856 36.864-38.4 0-68.352-12.288-90.624-36.096-23.04-23.04-33.792-54.528-33.792-92.928 0-39.936 10.752-72.192 33.792-97.536 23.04-25.344 52.992-37.632 90.624-37.632s68.352 13.056 91.392 39.168z"','d="M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM372.224 277.76C336.896 313.088 320 357.632 320 412.16c0 52.992 15.36 96 46.848 129.024 32.256 34.56 74.496 52.224 127.488 52.224 32.256 0 60.672-8.448 85.248-23.808 25.344-16.128 45.312-38.4 59.136-66.048h3.072c0 5.6 0.288 10.352 0.512 14.08 0.144 2.4 0.256 4.384 0.256 5.888 0 61.44-12.288 112.896-36.096 153.6-25.344 42.24-59.136 63.744-101.376 63.744-64.512 0-102.144-31.488-113.664-93.696h-62.208c14.592 97.536 72.96 146.688 175.104 146.688 61.44 0 110.592-29.184 147.456-86.016 33.792-55.296 51.456-125.952 51.456-213.504 0-84.48-16.128-150.528-48.384-196.608C621.056 248.576 571.136 224 505.088 224c-53.76 0-98.304 17.664-132.864 53.76z"'],310:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM512 960c118.8 0 232.8-47.2 316.8-131.2A448.096 448.096 0 0 0 960 512l-0.064-7.744A448.08 448.08 0 0 0 828.8 195.2L512 512l-0.016-0.016L512 64c-118.8 0-232.8 47.2-316.8 131.2l-0.016 0.016A448.096 448.096 0 0 0 195.2 828.8 448.096 448.096 0 0 0 512 960z'"],311:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM512 960c118.8 0 232.8-47.2 316.8-131.2A448.096 448.096 0 0 0 960 512H512l-0.016-0.016L512 64c-118.8 0-232.8 47.2-316.8 131.2l-0.016 0.016A448.096 448.096 0 0 0 195.2 828.8 448.096 448.096 0 0 0 512 960z'"],312:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-512.016-0.016L512 64c-118.8 0-232.8 47.2-316.8 131.2l-0.016 0.016A448.096 448.096 0 0 0 195.2 828.8a448.096 448.096 0 0 0 633.6 0L511.984 511.984z'"],313:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-512.016-0.016L512 64c-118.8 0-232.8 47.2-316.8 131.2l-0.016 0.016A448.096 448.096 0 0 0 195.2 828.8 448.096 448.096 0 0 0 512 960V512l-0.016-0.016z'"],314:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-512.016-0.016L512 64c-118.8 0-232.8 47.2-316.8 131.2l-0.016 0.016A448.096 448.096 0 0 0 195.2 828.8l316.784-316.816z'"],315:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM195.184 195.216A448.096 448.096 0 0 0 64 512h448l-0.016-0.016L512 64c-118.8 0-232.8 47.2-316.8 131.2l-0.016 0.016z'"],316:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM512 64c-118.8 0-232.8 47.2-316.8 131.2L512 512V64z'"],317:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-249.104-137.648a31.984 31.984 0 1 0-45.792-44.704L439.456 626.208 278.896 461.808a32 32 0 0 0-45.792 44.72l183.456 187.84a32 32 0 0 0 45.792 0l312.544-320z'"],328:["d='M164.664889 30.890667l-1.962667 0.967111c-32.711111 16.753778-44.529778 42.012444-49.038222 93.582222l-0.725333 9.386667-0.583111 9.927111a347.591111 347.591111 0 0 0-0.284445 25.742222l0.327111 9.656889c0.071111 1.649778 0.142222 3.328 0.241778 5.034667l0.625778 10.496 0.824889 11.050666c0.312889 3.768889 0.654222 7.637333 1.038222 11.605334l1.237333 12.174222 0.696889 6.300444 1.536 13.013334 1.749333 13.596444 1.934223 14.179556 1.052444 7.296 2.247111 15.047111 2.446222 15.630222 2.645334 16.213333 2.844444 16.796445 16.824889 97.664 81.066667-68.167111 19.626666-16.711112 13.368889-11.605333 8.277334-7.310222 11.477333-10.325333 7.04-6.456889 9.614222-9.059556 5.802667-5.632 5.319111-5.304889 4.835556-4.977778 2.232888-2.375111 2.104889-2.289777c27.690667-30.364444 50.062222-59.591111 65.536-84.664889 7.253333-11.776 12.928-22.513778 16.711111-31.943111 2.56-6.371556 4.451556-12.472889 5.518223-18.972445 2.944-17.863111 1.066667-34.787556-15.317334-51.996444l-6.755555-7.096889a430.193778 430.193778 0 0 0-9.656889-9.699556 331.889778 331.889778 0 0 0-26.951111-23.623111 271.374222 271.374222 0 0 0-45.596445-29.112889c-45.696-22.940444-107.320889-23.921778-139.932444-8.035555z m114.417778 58.88c20.636444 10.368 37.603556 23.580444 50.574222 35.328l5.703111 5.304889 5.12 5.006222 4.551111 4.608 7.324445 7.665778c1.109333 1.166222 0.512 4.920889-1.934223 10.894222l-1.379555 3.171555c-0.241778 0.568889-0.512 1.137778-0.796445 1.720889l-1.848889 3.697778-2.133333 4.053333-2.488889 4.366223-2.787555 4.693333-3.128889 5.006222-3.441778 5.304889-3.783111 5.589333-4.124445 5.873778-4.451555 6.115556-4.807111 6.4-5.134222 6.641777-5.504 6.869334-5.831112 7.096889-6.215111 7.310222-6.556444 7.509333-3.413333 3.825778-5.390223 5.902222-6.357333 6.599111-4.864 4.835556-5.376 5.191111-5.873778 5.546667-6.385778 5.902222-10.524444 9.500444-11.633778 10.296889-8.391111 7.310222-13.553778 11.619556-14.663111 12.416-4.024889-23.936-2.432-15.232-2.247111-14.648889-2.048-14.08-1.863111-13.468444-1.678222-12.899556-1.479111-12.316444-1.28-11.747556-1.095111-11.150222-0.896-10.567111-0.711111-9.998222a581.333333 581.333333 0 0 1-0.284445-4.778667l-0.426667-9.116445c-0.312889-8.817778-0.355556-16.782222-0.099555-23.864888l0.142222-3.456c0.156444-2.958222 0.327111-5.774222 0.497778-8.448l0.568889-7.623112 0.625778-6.855111 0.711111-6.144 0.768-5.461333 0.853333-4.835556 0.426667-2.204444 0.952889-3.982222c2.417778-9.272889 5.461333-13.724444 8.988444-16.540445l1.450667-1.038222 1.493333-0.924444 1.536-0.824889 1.550222-0.768c10.225778-4.977778 52.963556-10.595556 89.500445 7.736889zM599.665778 103.509333l-36.024889 35.2 30.577778 40.021334c36.935111 48.312889 78.464 89.912889 124.572444 124.672 46.634667 35.157333 93.539556 60.728889 140.8 76.401777l53.546667 17.777778 18.588444-54.528 0.682667-2.360889 0.625778-2.545777 0.568889-2.759112 0.768-4.593777 0.426666-3.413334 0.398222-3.740444 0.654223-8.533333 0.497777-10.126223 0.284445-8.789333 0.327111-17.208889 0.184889-20.764444 0.085333-24.832v-10.936889c0-89.258667-14.904889-150.471111-39.452444-185.642667-28.16-40.391111-76.387556-43.093333-144.938667-29.269333l-9.941333 2.076444c-42.808889 9.329778-88.974222 40.860444-143.217778 93.895111z m251.463111-34.147555l2.161778 3.299555 1.521777 2.588445 1.564445 2.901333 1.621333 3.242667 0.810667 1.763555 1.649778 3.768889 1.664 4.124445 1.664 4.508444 1.649777 4.906667 0.810667 2.602666 1.607111 5.489778 0.782222 2.915556 1.536 6.129778 0.739556 3.228444 1.436444 6.798222 1.365334 7.239111 0.64 3.797334 1.223111 7.936c0.768 5.461333 1.464889 11.235556 2.090667 17.351111l0.853333 9.429333 0.355555 4.906667 0.625778 10.211555c0.099556 1.749333 0.184889 3.512889 0.256 5.304889l0.369778 11.022222 0.199111 11.576889v27.164445l-0.213333 27.249778-0.384 21.859555-0.568889 16.440889-0.341333 6.200889-0.398223 4.835555-0.284444 2.488889-0.298667 1.891556a10.368 10.368 0 0 1-0.327111 1.28c-41.073778-13.639111-82.574222-36.252444-124.472889-67.84-41.912889-31.587556-79.786667-69.518222-113.607111-113.777778 47.246222-46.179556 85.76-72.504889 115.569778-78.990222l8.334222-1.735111 8.192-1.521778c37.873778-6.613333 70.144-6.144 79.601778 7.395556z'","d='M512 50.986667c-267.064889 0-483.555556 216.490667-483.555556 483.555555 0 267.050667 216.490667 483.555556 483.555556 483.555556s483.555556-216.504889 483.555556-483.555556c0-267.064889-216.490667-483.555556-483.555556-483.555555z m0 56.888889c235.648 0 426.666667 191.018667 426.666667 426.666666 0 235.633778-191.018667 426.666667-426.666667 426.666667-235.648 0-426.666667-191.032889-426.666667-426.666667 0-235.648 191.018667-426.666667 426.666667-426.666666z'","d='M512 534.542222m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z'","d='M189.582222 338.944c-15.530667-90.168889-22.328889-153.927111-20.423111-191.260444 2.887111-56.021333 10.197333-60.672 20.423111-65.649778 10.225778-4.977778 52.963556-10.595556 89.500445 7.736889 36.522667 18.346667 61.539556 45.582222 73.272889 57.912889 4.352 4.579556-17.592889 48.952889-73.272889 110.023111-15.644444 17.152-45.482667 44.231111-89.500445 81.237333z'","d='M186.467556 75.633778l-1.607112 0.796444c-10.837333 5.546667-16.583111 14.691556-19.882666 37.404445l-0.810667 6.229333-0.711111 6.897778c-0.213333 2.417778-0.426667 4.935111-0.611556 7.580444l-0.540444 8.32-0.241778 4.451556-0.256 7.196444c-0.113778 4.992-0.085333 10.382222 0.071111 16.128l0.312889 8.931556c0.071111 1.536 0.142222 3.100444 0.241778 4.693333l0.611556 9.784889 0.810666 10.382222 0.995556 10.951111 0.568889 5.703111 1.294222 11.832889 0.725333 6.115556 2.446222 19.271111 1.877334 13.568 2.062222 14.151111 2.261333 14.734222 3.740445 23.196445 4.849778 28.401778 24.234666-20.451556 13.610667-11.676444 8.433778-7.352889 11.733333-10.368 10.581333-9.571556 9.457778-8.789333 5.688889-5.418667 5.162667-5.077333 4.693333-4.721778 4.167111-4.380444 5.12-5.632 6.314667-7.096889 6.087111-7.04 5.873778-6.968889 5.617777-6.855111 5.361778-6.755556 5.12-6.613333 4.835556-6.456889 4.536889-6.300445 4.252444-6.115555 2.005333-2.972445 3.783112-5.802666 3.456-5.546667 3.128888-5.333333 2.759112-5.048889 1.251555-2.417778 2.232889-4.608c5.447111-11.904 6.869333-20.48 3.328-24.206222l-6.485333-6.769778-5.688889-5.831111-5.176889-5.091556c-1.664-1.607111-3.271111-3.128889-4.892445-4.608l-4.892444-4.366222-2.531556-2.147555-5.404444-4.408889a221.952 221.952 0 0 0-40.163556-26.126222c-32-16.071111-77.297778-16.796444-95.800888-7.793778z m89.415111 20.494222c12.202667 6.115556 23.765333 13.624889 34.844444 22.300444l2.787556 2.190223c7.850667 6.286222 13.724444 11.576889 21.191111 19.057777l5.930666 6.058667 4.906667 5.12-0.412444 1.507556c-0.284444 0.924444-0.668444 1.991111-1.152 3.2-2.275556 5.646222-6.300444 13.297778-11.804445 22.215111-13.269333 21.532444-33.251556 47.601778-58.353778 75.136l-1.848888 1.991111c-1.308444 1.422222-2.730667 2.901333-4.238223 4.437333l-4.807111 4.835556-5.347555 5.233778-5.916445 5.617777-6.456889 6.001778-10.737777 9.742222-7.822223 6.968889-12.8 11.178667-14.037333 12.046222-5.304889 4.508445-1.905778-11.548445-3.569777-22.499555-2.133334-14.264889-1.948444-13.696-1.763556-13.098667-1.564444-12.515556-1.379556-11.946666-1.180444-11.363556-0.512-5.447111-0.896-10.481778-0.711111-9.898666-0.512-9.301334-0.327111-8.732444a291.399111 291.399111 0 0 1 0.170666-22.641778l0.455111-8.064 0.497778-7.296 0.839111-9.528889 0.625778-5.518222 0.711111-4.864c2.304-14.478222 5.688889-20.081778 11.022222-23.182222l2.332445-1.194667c14.407111-7.011556 55.04-6.357333 83.128889 7.736889z'","d='M639.431111 144.199111c47.246222-46.179556 85.76-72.504889 115.569778-78.990222 44.714667-9.742222 85.333333-11.335111 96.142222 4.152889 10.794667 15.473778 29.212444 57.969778 29.212445 153.031111 0 63.388444-0.952889 97.848889-2.844445 103.424-41.073778-13.639111-82.574222-36.252444-124.472889-67.84-41.912889-31.587556-79.786667-69.518222-113.607111-113.777778z'","d='M753.493333 58.254222c-30.350222 6.599111-68.195556 31.985778-114.090666 76.060445l-9.443556 9.187555 3.825778 5.006222c34.204444 44.771556 72.533333 83.157333 114.972444 115.143112 42.496 32.042667 84.664889 55.025778 126.520889 68.906666l6.684445 2.218667 2.275555-6.684445 0.384-1.422222 0.355556-1.948444 0.327111-2.474667 0.455111-4.750222 0.384-5.973333 0.526222-12.757334 0.384-16.355555 0.256-20.053334 0.142222-29.056v-10.894222c0-79.857778-12.544-131.413333-30.492444-157.127111-12.416-17.777778-50.759111-18.488889-103.466667-7.025778z m91.804445 15.175111c15.587556 22.328889 27.235556 68.935111 27.918222 142.222223l-0.014222 27.804444-0.170667 23.395556-0.426667 26.296888-0.355555 11.52-0.412445 8.903112-0.170666 2.673777-7.054222-2.616889c-35.370667-13.653333-71.139556-34.076444-107.292445-61.326222l-8.234667-6.328889c-35.413333-27.761778-67.825778-60.231111-97.265777-97.422222l-2.872889-3.697778 4.920889-4.664889c42.040889-39.68 76.416-62.321778 102.656-68.039111 45.169778-9.827556 79.004444-9.543111 87.964444 0.256l0.810667 1.024z'","d='M512 534.542222m-412.444444 0a412.444444 412.444444 0 1 0 824.888888 0 412.444444 412.444444 0 1 0-824.888888 0Z'","d='M933.973333 613.077333c-37.546667 198.229333-211.768889 348.131556-420.835555 348.131556-181.76 0-337.066667-113.180444-399.36-272.896 1.564444-1.180444 2.986667-2.346667 4.408889-3.512889 64.426667-51.697778 126.72-101.731556 307.911111-101.731556 78.364444 0 157.724444 19.384889 231.111111 37.319112 108.373333 26.496 203.946667 49.820444 264.106667 2.844444 4.408889-3.868444 8.533333-7.253333 12.657777-10.154667z'","d='M379.164444 584.035556c32.995556-0.867556 76.373333-13.511111 102.542223 11.946666 20.622222 47.872-74.097778 69.774222-40.106667 117.731556 25.742222 54.997333 98.417778 56.632889 146.346667 34.133333 26.88-10.211556 43.662222-38.684444 72.391111-43.875555-20.48 62.705778-102.968889 85.575111-161.848889 74.097777-50.346667-18.147556-107.662222 24.021333-153.173333-14.279111-14.791111-13.312-46.506667-39.566222-26.737778-59.164444 27.306667 38.513778 72.533333 73.927111 121.031111 48.455111-15.502222-33.479111-27.448889-71.594667-60.302222-92.046222-23.182222-17.080889-39.537778-70.257778-0.142223-76.999111z m73.102223 25.955555c-4.124444 15.914667 1.422222 20.835556 16.497777 14.648889 4.124444-16.213333-1.422222-21.12-16.497777-14.648889zM198.542222 413.653333a56.888889 56.888889 0 0 1 56.888889-56.888889h113.777778a56.888889 56.888889 0 1 1 0 113.777778h-113.777778a56.888889 56.888889 0 0 1-56.888889-56.888889z'","d='M212.764444 413.653333c0-23.566222 22.328889-42.666667 49.777778-42.666666h99.555556c27.448889 0 49.777778 19.100444 49.777778 42.666666s-22.328889 42.666667-49.777778 42.666667h-99.555556c-27.448889 0-49.777778-19.100444-49.777778-42.666667z'","d='M511.431111 413.653333a56.888889 56.888889 0 0 1 56.888889-56.888889h113.777778a56.888889 56.888889 0 1 1 0 113.777778h-113.777778a56.888889 56.888889 0 0 1-56.888889-56.888889z'","d='M525.653333 413.653333c0-23.566222 22.328889-42.666667 49.777778-42.666666h99.555556c27.448889 0 49.777778 19.100444 49.777777 42.666666s-22.328889 42.666667-49.777777 42.666667h-99.555556c-27.448889 0-49.777778-19.100444-49.777778-42.666667z'","d='M376.32 370.986667c19.626667 0 35.555556 19.100444 35.555556 42.666666s-15.928889 42.666667-35.555556 42.666667-35.555556-19.100444-35.555556-42.666667 15.928889-42.666667 35.555556-42.666666zM689.208889 370.986667c19.626667 0 35.555556 19.100444 35.555555 42.666666s-15.928889 42.666667-35.555555 42.666667-35.555556-19.100444-35.555556-42.666667 15.928889-42.666667 35.555556-42.666666z'"],329:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM519.84 121.712a16 16 0 0 0-24.192 0L239.744 417.264c-8.96 10.368-1.6 26.48 12 26.48h160v432a32 32 0 0 0 32 32h128a32 32 0 0 0 32-32v-432h159.968c13.696 0 21.056-16.112 12.096-26.48L519.84 121.712z'"],330:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-125.968-12.096L602.48 243.936c-10.368-8.96-26.48-1.6-26.48 12.08V416H144a32 32 0 0 0-32 32v128a32 32 0 0 0 32 32h432v160c0 13.6 16.112 20.96 26.48 12l295.552-255.904a16 16 0 0 0 0-24.192z'"],331:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM571.744 116.176h-128a32 32 0 0 0-32 32v432h-160c-13.6 0-20.96 16.112-12 26.48l255.904 295.552a16 16 0 0 0 24.192 0l255.968-295.552c8.96-10.368 1.6-26.48-12.096-26.48h-159.968v-432a32 32 0 0 0-32-32z'"],332:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-906.464-12.096a16 16 0 0 0 0 24.176L413.088 780c10.368 8.96 26.48 1.6 26.48-12V608h432a32 32 0 0 0 32-32v-128a32 32 0 0 0-32-32h-432v-159.952c0-13.696-16.112-21.056-26.48-12.096L117.536 499.888z'"],333:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM507.44 93.92L251.52 389.504c-8.96 10.368-1.6 26.48 12 26.48h160v192h-160c-13.6 0-20.96 16.112-12 26.48l255.904 295.552a16 16 0 0 0 24.192 0l255.968-295.552c8.96-10.368 1.6-26.48-12.096-26.48H615.52v-192h159.968c13.696 0 21.056-16.112 12.096-26.48L531.632 93.92a16 16 0 0 0-24.192 0z'"],334:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-922.464 12.08L397.088 780c10.368 8.96 26.48 1.6 26.48-12V608h192v160c0 13.6 16.112 20.96 26.48 12L937.6 524.08a16 16 0 0 0 0-24.192L642.048 243.952c-10.368-8.96-26.48-1.6-26.48 12.08V416h-192v-159.952c0-13.696-16.112-21.056-26.48-12.096L101.536 499.888a16 16 0 0 0 0 24.176z'"],335:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM307.36 248c-7.232-5.28-15.936-8-24.864-8-8.912 0-17.616 2.88-24.848 8-7.232 5.28-12.64 12.64-15.472 21.12a42.464 42.464 0 0 0 14.816 47.36v442.08c0 6.72 2.688 13.12 7.472 17.92 4.784 4.8 11.28 7.52 18.032 7.52 6.768 0 13.248-2.72 18.032-7.52 4.784-4.8 7.472-11.2 7.472-17.92l0.032-442.08a42.336 42.336 0 0 0 14.816-47.36 42.944 42.944 0 0 0-15.488-21.12z m267.872 32.32c-30.08-17.76-62.784-23.36-112.016-23.36-49.232 0-91.04 17.44-121.216 35.52V585.6c30.192-17.92 71.984-35.36 121.216-35.36s81.904 5.6 112 23.36c30.176 18.08 48.448 23.36 97.712 23.36 49.28 0 80.8-12.32 111.072-30.24V284c-30.256 17.92-62.768 22.88-112.064 22.88-49.2 0-66.512-8.8-96.704-26.56z'"],336:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM307.36 248c-7.232-5.28-15.936-8-24.864-8-8.912 0-17.616 2.88-24.848 8-7.232 5.28-12.64 12.64-15.472 21.12a42.464 42.464 0 0 0 14.816 47.36v442.08c0 6.72 2.688 13.12 7.472 17.92 4.784 4.8 11.28 7.52 18.032 7.52 6.768 0 13.248-2.72 18.032-7.52 4.784-4.8 7.472-11.2 7.472-17.92l0.032-442.08a42.336 42.336 0 0 0 14.816-47.36 42.944 42.944 0 0 0-15.488-21.12z m267.872 32.32c-30.08-17.76-62.784-23.36-112.016-23.36-49.232 0-91.04 17.44-121.216 35.52V585.6c30.192-17.92 71.984-35.36 121.216-35.36s81.904 5.6 112 23.36c30.176 18.08 48.448 23.36 97.712 23.36 49.28 0 80.8-12.32 111.072-30.24V284c-30.256 17.92-62.768 22.88-112.064 22.88-49.2 0-66.512-8.8-96.704-26.56z'"],337:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM307.36 248c-7.232-5.28-15.936-8-24.864-8-8.912 0-17.616 2.88-24.848 8-7.232 5.28-12.64 12.64-15.472 21.12a42.464 42.464 0 0 0 14.816 47.36v442.08c0 6.72 2.688 13.12 7.472 17.92 4.784 4.8 11.28 7.52 18.032 7.52 6.768 0 13.248-2.72 18.032-7.52 4.784-4.8 7.472-11.2 7.472-17.92l0.032-442.08a42.336 42.336 0 0 0 14.816-47.36 42.944 42.944 0 0 0-15.488-21.12z m267.872 32.32c-30.08-17.76-62.784-23.36-112.016-23.36-49.232 0-91.04 17.44-121.216 35.52V585.6c30.192-17.92 71.984-35.36 121.216-35.36s81.904 5.6 112 23.36c30.176 18.08 48.448 23.36 97.712 23.36 49.28 0 80.8-12.32 111.072-30.24V284c-30.256 17.92-62.768 22.88-112.064 22.88-49.2 0-66.512-8.8-96.704-26.56z'"],338:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM307.36 248c-7.232-5.28-15.936-8-24.864-8-8.912 0-17.616 2.88-24.848 8-7.232 5.28-12.64 12.64-15.472 21.12a42.464 42.464 0 0 0 14.816 47.36v442.08c0 6.72 2.688 13.12 7.472 17.92 4.784 4.8 11.28 7.52 18.032 7.52 6.768 0 13.248-2.72 18.032-7.52 4.784-4.8 7.472-11.2 7.472-17.92l0.032-442.08a42.336 42.336 0 0 0 14.816-47.36 42.944 42.944 0 0 0-15.488-21.12z m267.872 32.32c-30.08-17.76-62.784-23.36-112.016-23.36-49.232 0-91.04 17.44-121.216 35.52V585.6c30.192-17.92 71.984-35.36 121.216-35.36s81.904 5.6 112 23.36c30.176 18.08 48.448 23.36 97.712 23.36 49.28 0 80.8-12.32 111.072-30.24V284c-30.256 17.92-62.768 22.88-112.064 22.88-49.2 0-66.512-8.8-96.704-26.56z'"],339:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM307.36 248c-7.232-5.28-15.936-8-24.864-8-8.912 0-17.616 2.88-24.848 8-7.232 5.28-12.64 12.64-15.472 21.12a42.464 42.464 0 0 0 14.816 47.36v442.08c0 6.72 2.688 13.12 7.472 17.92 4.784 4.8 11.28 7.52 18.032 7.52 6.768 0 13.248-2.72 18.032-7.52 4.784-4.8 7.472-11.2 7.472-17.92l0.032-442.08a42.336 42.336 0 0 0 14.816-47.36 42.944 42.944 0 0 0-15.488-21.12z m267.872 32.32c-30.08-17.76-62.784-23.36-112.016-23.36-49.232 0-91.04 17.44-121.216 35.52V585.6c30.192-17.92 71.984-35.36 121.216-35.36s81.904 5.6 112 23.36c30.176 18.08 48.448 23.36 97.712 23.36 49.28 0 80.8-12.32 111.072-30.24V284c-30.256 17.92-62.768 22.88-112.064 22.88-49.2 0-66.512-8.8-96.704-26.56z'"],340:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM307.36 248c-7.232-5.28-15.936-8-24.864-8-8.912 0-17.616 2.88-24.848 8-7.232 5.28-12.64 12.64-15.472 21.12a42.464 42.464 0 0 0 14.816 47.36v442.08c0 6.72 2.688 13.12 7.472 17.92 4.784 4.8 11.28 7.52 18.032 7.52 6.768 0 13.248-2.72 18.032-7.52 4.784-4.8 7.472-11.2 7.472-17.92l0.032-442.08a42.336 42.336 0 0 0 14.816-47.36 42.944 42.944 0 0 0-15.488-21.12z m267.872 32.32c-30.08-17.76-62.784-23.36-112.016-23.36-49.232 0-91.04 17.44-121.216 35.52V585.6c30.192-17.92 71.984-35.36 121.216-35.36s81.904 5.6 112 23.36c30.176 18.08 48.448 23.36 97.712 23.36 49.28 0 80.8-12.32 111.072-30.24V284c-30.256 17.92-62.768 22.88-112.064 22.88-49.2 0-66.512-8.8-96.704-26.56z'"],341:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM307.36 248c-7.232-5.28-15.936-8-24.864-8-8.912 0-17.616 2.88-24.848 8-7.232 5.28-12.64 12.64-15.472 21.12a42.464 42.464 0 0 0 14.816 47.36v442.08c0 6.72 2.688 13.12 7.472 17.92 4.784 4.8 11.28 7.52 18.032 7.52 6.768 0 13.248-2.72 18.032-7.52 4.784-4.8 7.472-11.2 7.472-17.92l0.032-442.08a42.336 42.336 0 0 0 14.816-47.36 42.944 42.944 0 0 0-15.488-21.12z m267.872 32.32c-30.08-17.76-62.784-23.36-112.016-23.36-49.232 0-91.04 17.44-121.216 35.52V585.6c30.192-17.92 71.984-35.36 121.216-35.36s81.904 5.6 112 23.36c30.176 18.08 48.448 23.36 97.712 23.36 49.28 0 80.8-12.32 111.072-30.24V284c-30.256 17.92-62.768 22.88-112.064 22.88-49.2 0-66.512-8.8-96.704-26.56z'"],342:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM526.352 233.744a15.936 15.936 0 0 0-28.704 0l-80.672 163.36c-2.336 4.8-6.832 8-12.048 8.8l-180.4 26.24c-13.12 1.92-18.368 18.08-8.864 27.2l130.528 127.36c3.776 3.68 5.504 8.96 4.608 14.08L320 780.464c-2.24 13.12 11.472 23.04 23.216 16.96l161.36-84.96c4.656-2.4 10.24-2.4 14.88 0l161.36 84.96c11.744 6.08 25.456-3.84 23.216-16.96l-30.816-179.68a15.888 15.888 0 0 1 4.608-14.08l130.528-127.36c9.504-9.12 4.256-25.28-8.864-27.2l-180.4-26.24a15.984 15.984 0 0 1-12.048-8.8l-80.672-163.36z'"],343:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM526.352 233.744a15.936 15.936 0 0 0-28.704 0l-80.672 163.36c-2.336 4.8-6.832 8-12.048 8.8l-180.4 26.24c-13.12 1.92-18.368 18.08-8.864 27.2l130.528 127.36c3.776 3.68 5.504 8.96 4.608 14.08L320 780.464c-2.24 13.12 11.472 23.04 23.216 16.96l161.36-84.96c4.656-2.4 10.24-2.4 14.88 0l161.36 84.96c11.744 6.08 25.456-3.84 23.216-16.96l-30.816-179.68a15.888 15.888 0 0 1 4.608-14.08l130.528-127.36c9.504-9.12 4.256-25.28-8.864-27.2l-180.4-26.24a15.984 15.984 0 0 1-12.048-8.8l-80.672-163.36z'"],344:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM526.352 233.744a15.936 15.936 0 0 0-28.704 0l-80.672 163.36c-2.336 4.8-6.832 8-12.048 8.8l-180.4 26.24c-13.12 1.92-18.368 18.08-8.864 27.2l130.528 127.36c3.776 3.68 5.504 8.96 4.608 14.08L320 780.464c-2.24 13.12 11.472 23.04 23.216 16.96l161.36-84.96c4.656-2.4 10.24-2.4 14.88 0l161.36 84.96c11.744 6.08 25.456-3.84 23.216-16.96l-30.816-179.68a15.888 15.888 0 0 1 4.608-14.08l130.528-127.36c9.504-9.12 4.256-25.28-8.864-27.2l-180.4-26.24a15.984 15.984 0 0 1-12.048-8.8l-80.672-163.36z'"],345:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM526.352 233.744a15.936 15.936 0 0 0-28.704 0l-80.672 163.36c-2.336 4.8-6.832 8-12.048 8.8l-180.4 26.24c-13.12 1.92-18.368 18.08-8.864 27.2l130.528 127.36c3.776 3.68 5.504 8.96 4.608 14.08L320 780.464c-2.24 13.12 11.472 23.04 23.216 16.96l161.36-84.96c4.656-2.4 10.24-2.4 14.88 0l161.36 84.96c11.744 6.08 25.456-3.84 23.216-16.96l-30.816-179.68a15.888 15.888 0 0 1 4.608-14.08l130.528-127.36c9.504-9.12 4.256-25.28-8.864-27.2l-180.4-26.24a15.984 15.984 0 0 1-12.048-8.8l-80.672-163.36z'"],346:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM526.352 233.744a15.936 15.936 0 0 0-28.704 0l-80.672 163.36c-2.336 4.8-6.832 8-12.048 8.8l-180.4 26.24c-13.12 1.92-18.368 18.08-8.864 27.2l130.528 127.36c3.776 3.68 5.504 8.96 4.608 14.08L320 780.464c-2.24 13.12 11.472 23.04 23.216 16.96l161.36-84.96c4.656-2.4 10.24-2.4 14.88 0l161.36 84.96c11.744 6.08 25.456-3.84 23.216-16.96l-30.816-179.68a15.888 15.888 0 0 1 4.608-14.08l130.528-127.36c9.504-9.12 4.256-25.28-8.864-27.2l-180.4-26.24a15.984 15.984 0 0 1-12.048-8.8l-80.672-163.36z'"],347:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM526.352 233.744a15.936 15.936 0 0 0-28.704 0l-80.672 163.36c-2.336 4.8-6.832 8-12.048 8.8l-180.4 26.24c-13.12 1.92-18.368 18.08-8.864 27.2l130.528 127.36c3.776 3.68 5.504 8.96 4.608 14.08L320 780.464c-2.24 13.12 11.472 23.04 23.216 16.96l161.36-84.96c4.656-2.4 10.24-2.4 14.88 0l161.36 84.96c11.744 6.08 25.456-3.84 23.216-16.96l-30.816-179.68a15.888 15.888 0 0 1 4.608-14.08l130.528-127.36c9.504-9.12 4.256-25.28-8.864-27.2l-180.4-26.24a15.984 15.984 0 0 1-12.048-8.8l-80.672-163.36z'"],348:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM526.352 233.744a15.936 15.936 0 0 0-28.704 0l-80.672 163.36c-2.336 4.8-6.832 8-12.048 8.8l-180.4 26.24c-13.12 1.92-18.368 18.08-8.864 27.2l130.528 127.36c3.776 3.68 5.504 8.96 4.608 14.08L320 780.464c-2.24 13.12 11.472 23.04 23.216 16.96l161.36-84.96c4.656-2.4 10.24-2.4 14.88 0l161.36 84.96c11.744 6.08 25.456-3.84 23.216-16.96l-30.816-179.68a15.888 15.888 0 0 1 4.608-14.08l130.528-127.36c9.504-9.12 4.256-25.28-8.864-27.2l-180.4-26.24a15.984 15.984 0 0 1-12.048-8.8l-80.672-163.36z'"],349:["d='M511.888 577.92c18.88-4 32.688-7.52 41.408-10.4v13.6c0 16.32-0.88 27.36-2.656 33.12-2.592 8.96-8 16.48-16.24 22.56-11.136 8-22.832 12.16-35.104 12.16-10.992 0-20.032-3.52-27.136-10.4-7.104-7.04-10.656-15.2-10.656-24.8 0-9.6 4.448-17.6 13.328-24 5.808-3.84 18.16-7.84 37.056-11.84z'","d='M1024 512C1024 229.232 794.768 0 512 0 229.232 0 0 229.232 0 512c0 282.768 229.232 512 512 512 282.768 0 512-229.232 512-512z m-623.52-10.88c6.944-24.8 18.88-43.2 35.84-55.2 16.96-12 42.144-17.92 75.568-17.92 30.352 0 52.96 3.68 67.808 10.88 14.848 7.2 25.264 16.32 31.248 27.36 6.128 11.04 9.2 31.36 9.2 60.8l-0.736 79.52c0 22.56 1.056 39.2 3.152 50.08 2.256 10.72 6.384 22.08 12.352 34.4h-67.328c-1.776-4.48-3.952-11.2-6.544-20.16-1.12-4-1.936-6.72-2.416-8-11.616 11.36-24.048 19.84-37.296 25.44-13.232 5.76-27.36 8.48-42.384 8.48-26.48 0-47.392-7.2-62.72-21.44-15.184-14.4-22.768-32.64-22.768-54.56 0-14.56 3.472-27.52 10.416-38.72 6.944-11.52 16.624-20.16 29.056-26.24 12.592-6.08 30.672-11.36 54.256-16 31.808-5.92 53.84-11.52 66.112-16.64v-6.72c0-13.12-3.232-22.4-9.68-27.84-6.464-5.76-18.656-8.48-36.576-8.48-12.112 0-21.552 2.4-28.336 7.2-6.784 4.64-12.272 12.96-16.464 24.96l-61.76-11.2z m501.104 189.92h-68.064v-131.2c0-27.84-1.44-45.76-4.352-53.76-2.912-8.32-7.664-14.72-14.288-19.2-6.464-4.48-14.288-6.72-23.488-6.72-11.792 0-22.368 3.2-31.728 9.6a49.76 49.76 0 0 0-19.376 25.76c-3.392 10.56-5.088 30.24-5.088 59.04v116.48h-68.048V433.76h63.2v37.92c22.448-29.12 50.704-43.68 84.768-43.68 15.024 0 28.736 2.72 41.168 8.32 12.432 5.28 21.808 12.16 28.096 20.48 6.464 8.48 10.896 17.92 13.328 28.64 2.576 10.56 3.872 25.92 3.872 45.76v159.84zM355.168 336v224.8c0 29.28-2.576 52-7.744 67.68a95.696 95.696 0 0 1-37.792 49.92c-18.24 12.48-42.304 18.72-72.16 18.72-35.04 0-62-9.76-80.896-29.28C137.68 648.16 128.16 619.2 128 581.28l67.568-7.68c0.8 20.32 3.792 34.72 8.96 43.04 7.744 12.8 19.536 19.2 35.36 19.2 15.984 0 27.28-4.48 33.904-13.6 6.624-9.12 9.936-28.16 9.936-56.96V336h71.44z'"],350:["d='M563.232 540.32c-0.496-19.68-5.584-34.56-15.264-44.8-9.696-10.24-21.472-15.36-35.36-15.36-14.848 0-27.12 5.28-36.816 16.16-9.68 10.88-14.448 25.44-14.288 44h101.728zM743.92 616c-8.4-12.8-12.592-32.48-12.592-59.2 0-25.76 5.408-44.96 16.224-57.6 10.816-12.8 24.384-19.04 40.688-19.04 16.624 0 30.272 6.4 40.928 19.52 10.656 12.96 15.984 34.08 15.984 63.52 0 27.52-5.328 47.84-15.984 60.8-10.496 12.64-23.248 19.04-38.272 19.04-19.536 0-35.2-8.96-46.976-27.04z'","d='M1024 512C1024 229.232 794.768 0 512 0 229.232 0 0 229.232 0 512c0 282.768 229.232 512 512 512 282.768 0 512-229.232 512-512zM128 691.04V336h243.392v60H199.68v84.16h148.224v60H199.68v150.88H128z m431.344-81.92l67.824 11.52c-8.72 24.8-22.528 43.68-41.424 56.8-18.72 12.96-42.224 19.36-70.48 19.36-44.72 0-77.808-14.56-99.296-43.84-16.944-23.36-25.424-52.96-25.424-88.64 0-42.56 11.136-75.84 33.424-100 22.288-24.16 50.448-36.32 84.528-36.32 38.256 0 68.448 12.64 90.576 38.08 22.112 25.12 32.688 63.84 31.728 116H460.288c0.496 20.16 5.984 35.84 16.48 47.2 10.496 11.2 23.568 16.64 39.232 16.64 10.656 0 19.616-2.88 26.88-8.64 7.264-5.76 12.752-15.2 16.464-28.16zM663.744 336h68.064v127.84c20.992-23.84 45.856-35.84 74.592-35.84 31.328 0 57.232 11.36 77.744 34.24 20.496 22.56 30.752 55.04 30.752 97.6 0 43.84-10.496 77.6-31.488 101.44-20.816 23.68-46.176 35.52-76.032 35.52-14.704 0-29.232-3.52-43.6-10.88-14.208-7.36-26.48-18.24-36.816-32.64v37.76h-63.216V336z'"],351:["d='M647.728 567.52c-8.704 2.88-22.512 6.4-41.408 10.4s-31.248 8-37.056 11.84c-8.88 6.4-13.312 14.4-13.312 24s3.552 17.76 10.656 24.8c7.104 6.88 16.144 10.4 27.12 10.4 12.272 0 23.984-4.16 35.12-12.16 8.224-6.08 13.632-13.6 16.224-22.56 1.776-5.76 2.656-16.8 2.656-33.12v-13.6z'","d='M1024 512C1024 229.232 794.768 0 512 0 229.232 0 0 229.232 0 512c0 282.768 229.232 512 512 512 282.768 0 512-229.232 512-512zM112 336h107.28l64.432 242.24L347.408 336h107.52v355.04h-66.592V411.52l-70.48 279.52h-69.024l-70.24-279.52v279.52H112V336z m444.672 176.32l-61.76-11.2c6.944-24.8 18.896-43.2 35.84-55.2 16.96-12 42.144-17.92 75.568-17.92 30.352 0 52.96 3.68 67.808 10.88 14.864 7.2 25.28 16.32 31.248 27.36 6.128 11.04 9.2 31.36 9.2 60.8l-0.72 79.52c0 22.56 1.04 39.2 3.152 50.08 2.256 10.72 6.368 22.08 12.352 34.4h-67.328c-1.776-4.48-3.968-11.2-6.544-20.16a122.224 122.224 0 0 0-2.432-8c-11.616 11.36-24.048 19.84-37.296 25.44-13.232 5.76-27.36 8.48-42.384 8.48-26.464 0-47.376-7.2-62.72-21.44-15.168-14.4-22.768-32.64-22.768-54.56 0-14.56 3.472-27.52 10.416-38.72 6.944-11.52 16.624-20.16 29.072-26.24 12.592-6.08 30.672-11.36 54.24-16 31.808-5.92 53.856-11.52 66.112-16.64v-6.72c0-13.12-3.216-22.4-9.68-27.84-6.464-5.76-18.656-8.48-36.576-8.48-12.096 0-21.552 2.4-28.336 7.2-6.768 4.64-12.272 12.96-16.464 24.96z m202.496 178.72V433.76h63.2v36.64c10.816-17.28 20.512-28.64 29.072-34.08 8.72-5.6 18.56-8.32 29.536-8.32 15.504 0 30.448 4.32 44.816 12.8l-21.072 59.36c-11.472-7.36-22.128-11.04-31.968-11.04-9.536 0-17.6 2.56-24.224 8-6.624 5.12-11.872 14.56-15.744 28.32-3.712 13.6-5.568 42.4-5.568 86.24v79.36h-68.048z'"],352:["d='M271.344 370.88l48.928 131.68h-96.88l47.952-131.68zM535.584 510.08c0 28.96 5.744 50.24 17.2 64.16 11.472 13.76 25.424 20.64 41.904 20.64 15.824 0 28.976-6.4 39.472-18.88 10.496-12.8 15.744-33.6 15.744-62.56 0-26.88-5.408-46.88-16.224-60-10.816-13.12-24.224-19.68-40.208-19.68-16.624 0-30.432 6.56-41.408 19.36-10.992 12.8-16.48 31.84-16.48 56.96z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-649.728 131.04h77.984L310.096 288h-75.808L96 643.04h76.048l29.296-80.64h141.936l30.992 80.64z m93.984-257.28v355.2h68.064v-129.6c12.752 13.6 24.864 23.36 36.32 28.96 11.632 5.76 24.544 8.48 38.752 8.48 29.872 0 55.296-11.84 76.288-35.52 20.992-24 31.488-57.28 31.488-100.32 0-41.76-10.416-74.4-31.248-97.76-20.816-23.52-46.176-35.2-76.048-35.2-17.104 0-32.688 4-46.736 12.16a94.064 94.064 0 0 0-33.424 31.52v-37.92h-63.456z m282.416 257.28h68.048v-79.36c0-43.84 1.856-72.64 5.584-86.24 3.872-13.76 9.12-23.2 15.728-28.32 6.624-5.44 14.704-8 24.224-8 9.856 0 20.512 3.68 31.968 11.04l21.072-59.36c-14.368-8.48-29.312-12.8-44.8-12.8-10.976 0-20.832 2.72-29.552 8.32-8.56 5.44-18.24 16.8-29.056 34.08v-36.64h-63.216v257.28z'"],353:["d='M630.464 512c-8.448 2.88-21.808 6.24-40.08 10.08-18.288 3.84-30.24 7.68-35.872 11.52-8.592 6.08-12.88 13.76-12.88 23.2 0 9.12 3.44 17.12 10.304 23.84 6.88 6.72 15.632 10.08 26.256 10.08 11.872 0 23.2-3.84 33.984-11.68 7.968-5.92 13.2-13.28 15.696-21.76 1.728-5.76 2.592-16.32 2.592-32.16V512z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM112 288v343.52h64.448v-270.4l67.968 270.4h66.8l68.208-270.4v270.4h64.448V288h-104.064l-61.632 234.24L215.824 288H112z m430.336 170.56c4.064-11.52 9.376-19.68 15.936-24.16 6.56-4.64 15.696-7.04 27.424-7.04 17.344 0 29.136 2.72 35.392 8.16 6.24 5.44 9.376 14.4 9.376 27.04v6.56c-11.888 4.96-33.216 10.4-63.984 16.16-22.816 4.32-40.32 9.6-52.512 15.52-12.032 5.76-21.408 14.08-28.128 25.28-6.704 10.88-10.064 23.36-10.064 37.44 0 21.28 7.344 38.88 22.032 52.8 14.832 13.92 35.072 20.8 60.688 20.8 14.544 0 28.208-2.72 41.024-8.16 12.816-5.44 24.848-13.76 36.096-24.64 0.464 1.28 1.248 3.84 2.336 7.68 2.512 8.64 4.608 15.2 6.336 19.52h65.152c-5.776-11.84-9.76-23.04-11.952-33.28-2.032-10.4-3.04-26.72-3.04-48.48l0.704-76.96c0-28.48-2.976-48.16-8.912-58.72-5.776-10.88-15.856-19.68-30.24-26.56-14.368-7.04-36.24-10.56-65.616-10.56-32.352 0-56.72 5.76-73.136 17.44-16.4 11.52-27.968 29.28-34.688 53.44l59.776 10.72z m237.664-76h-70.064l94.672 249.6c-3.904 13.92-9.52 25.44-16.864 34.24-7.344 9.12-18.672 13.6-33.984 13.6-8.288 0-17.584-0.96-27.888-3.04l5.856 51.52c12.192 2.72 24.608 4 37.264 4 12.496 0 23.664-1.28 33.52-4 10-2.56 18.352-6.4 25.072-11.2 6.88-4.64 12.896-10.88 18.048-18.56 5.312-7.52 10.864-18.72 16.64-33.28l15.696-43.36 87.904-239.52h-68.208l-58.128 176.8-59.536-176.8z'"],354:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM339.168 336h-71.44v229.28c0 28.8-3.312 47.84-9.936 56.96-6.624 9.12-17.92 13.6-33.904 13.6-15.824 0-27.616-6.4-35.36-19.2-5.168-8.32-8.16-22.72-8.96-43.04L112 581.28c0.16 37.92 9.68 66.88 28.576 86.56 18.896 19.52 45.856 29.28 80.896 29.28 29.856 0 53.92-6.24 72.16-18.72a95.696 95.696 0 0 0 37.792-49.92c5.168-15.68 7.744-38.4 7.744-67.68V336z m225.504 355.04h63.2V433.76h-68.048v108.64c0 36.8-1.696 59.84-5.088 69.44-3.392 9.44-9.696 17.28-18.896 23.68-9.2 6.4-19.616 9.44-31.232 9.44-10.176 0-18.576-2.24-25.2-6.88a38.016 38.016 0 0 1-13.792-19.52c-2.432-8.16-3.632-30.4-3.632-66.56v-118.24H393.92v162.88c0 24.16 3.072 43.2 9.2 56.8a66.832 66.832 0 0 0 29.792 32c13.728 7.68 29.232 11.36 46.496 11.36 16.96 0 33.024-3.84 48.208-11.84a98.208 98.208 0 0 0 37.056-32.48v38.56z m279.984 0h68.048V531.2c0-19.84-1.296-35.2-3.872-45.76a72.928 72.928 0 0 0-13.328-28.64c-6.288-8.32-15.648-15.2-28.08-20.48-12.432-5.6-26.16-8.32-41.184-8.32-34.064 0-62.32 14.56-84.752 43.68v-37.92h-63.216v257.28h68.048v-116.48c0-28.8 1.696-48.48 5.088-59.04 3.552-10.72 10.016-19.2 19.376-25.76 9.36-6.4 19.936-9.6 31.728-9.6 9.2 0 17.04 2.24 23.488 6.72 6.624 4.48 11.392 10.88 14.288 19.2 2.912 8 4.368 25.92 4.368 53.76v131.2z'"],355:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM419.168 336h-71.44v229.28c0 28.8-3.312 47.84-9.936 56.96-6.624 9.12-17.92 13.6-33.904 13.6-15.824 0-27.616-6.4-35.36-19.2-5.168-8.32-8.16-22.72-8.96-43.04L192 581.28c0.16 37.92 9.68 66.88 28.576 86.56 18.896 19.52 45.856 29.28 80.896 29.28 29.856 0 53.92-6.24 72.16-18.72a95.696 95.696 0 0 0 37.792-49.92c5.168-15.68 7.744-38.4 7.744-67.68V336z m225.504 355.04h63.2V433.76h-68.048v108.64c0 36.8-1.696 59.84-5.088 69.44-3.392 9.44-9.696 17.28-18.896 23.68-9.2 6.4-19.616 9.44-31.232 9.44-10.176 0-18.576-2.24-25.2-6.88a38.016 38.016 0 0 1-13.792-19.52c-2.432-8.16-3.632-30.4-3.632-66.56v-118.24H473.92v162.88c0 24.16 3.072 43.2 9.2 56.8a66.832 66.832 0 0 0 29.792 32c13.728 7.68 29.232 11.36 46.496 11.36 16.96 0 33.024-3.84 48.208-11.84a98.208 98.208 0 0 0 37.056-32.48v38.56zM758.752 336v355.04h68.064V336h-68.064z'"],356:["d='M233.68 368.16l47.344 127.36h-93.744l46.4-127.36zM768.336 560c-10.16-12.32-15.232-31.68-15.232-58.08 0-25.12 5.072-43.84 15.232-56 10.304-12.32 23.36-18.56 39.136-18.56 16.256 0 29.696 6.24 40.32 18.72 10.624 12.48 15.936 31.68 15.936 57.44 0 24.64-5.552 43.36-16.64 56-11.104 12.48-24.688 18.72-40.784 18.72-15.008 0-27.664-6.08-37.968-18.24z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-690.704 119.52h75.472L271.184 288h-73.36L64 631.52h73.6l28.352-78.08h137.344l30 78.08z m256.656 0h61.184V382.56h-65.872v105.12c0 35.52-1.632 57.92-4.912 67.2-3.28 9.12-9.376 16.64-18.288 23.04-8.912 6.08-18.976 9.12-30.24 9.12-9.84 0-17.968-2.24-24.368-6.88-6.4-4.64-10.864-10.88-13.36-18.72-2.336-8-3.52-29.44-3.52-64.48v-114.4h-65.856v157.6c0 23.36 2.976 41.76 8.912 55.04 5.936 13.28 15.536 23.52 28.832 30.88 13.28 7.36 28.272 11.04 44.992 11.04 16.4 0 31.952-3.84 46.64-11.52a94.336 94.336 0 0 0 35.856-31.36v37.28z m179.552 25.6l-75.232-9.12c-0.16 3.04-0.24 5.76-0.24 7.84 0 22.24 8.832 40.48 26.496 54.88 17.648 14.56 47.568 21.76 89.76 21.76 22.336 0 40.784-2.24 55.312-7.04 14.688-4.64 26.4-11.04 35.152-19.36 8.752-8.32 15.552-19.68 20.4-34.24 4.832-14.56 7.264-36.48 7.264-65.92V382.56h-61.648v35.04c-20-27.04-45.392-40.64-76.176-40.64-29.84 0-54.832 11.04-74.992 33.12C695.6 432 685.6 464 685.6 505.6c0 33.28 7.664 61.12 22.976 83.52 19.52 28.32 46.016 42.4 79.44 42.4 30 0 54.848-13.44 74.544-40.32v36.32c0 14.72-1.024 24.8-3.056 30.24-2.96 7.68-7.344 13.28-13.12 16.64-8.592 5.12-21.488 7.68-38.672 7.68-13.44 0-23.28-2.24-29.536-7.04-4.528-3.2-7.424-9.28-8.672-17.92z'"],357:["d='M578.8 500c-0.448-18.4-5.2-32.32-14.272-41.92-9.056-9.6-20.08-14.4-33.072-14.4-13.904 0-25.376 4.96-34.432 15.2-9.072 10.08-13.52 23.84-13.376 41.12h95.152zM753.152 576.64c-10.736-12.96-16.096-32.96-16.096-60 0-23.68 5.12-41.44 15.408-53.28 10.272-12.16 23.184-18.08 38.72-18.08 14.976 0 27.52 6.08 37.632 18.24 10.112 12.32 15.184 31.04 15.184 56.16 0 27.04-4.912 46.56-14.736 58.56-9.808 11.68-22.128 17.6-36.928 17.6-15.408 0-28.48-6.4-39.2-19.2z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-843.552 14.56l-65.248 6.4c4.384 37.12 17.824 65.44 40.32 84.96 22.512 19.2 54.752 28.96 96.752 28.96 28.848 0 52.96-4 72.272-12 19.328-8.16 34.288-20.64 44.864-37.12 10.56-16.64 15.856-34.56 15.856-53.6 0-20.96-4.464-38.56-13.376-52.8a91.936 91.936 0 0 0-36.704-33.76c-15.552-8.16-39.648-16.32-72.272-24s-53.168-15.04-61.6-22.08c-6.672-5.6-9.984-12.32-9.984-20.16 0-8.64 3.552-15.52 10.64-20.64 11.04-8 26.288-12 45.776-12 18.88 0 32.992 3.68 42.352 11.2 9.52 7.52 15.712 19.68 18.592 36.8l67.056-3.04c-1.056-30.4-12.16-54.88-33.312-73.12-20.992-18.24-52.32-27.36-94.016-27.36-25.52 0-47.344 3.84-65.472 11.52-17.984 7.68-31.792 18.88-41.472 33.76a85.12 85.12 0 0 0-14.272 47.36c0 26.24 10.208 48.48 30.592 66.88 14.496 12.96 39.728 23.84 75.68 32.8 27.936 6.88 45.84 11.84 53.68 14.56 11.488 4 19.488 8.8 24.016 14.4 4.688 5.44 7.04 12.16 7.04 20 0 12.16-5.52 22.88-16.544 32.16-10.88 8.96-27.12 13.6-48.72 13.6-20.384 0-36.624-5.12-48.704-15.36-11.936-10.4-19.872-26.4-23.792-48.32z m394.736 37.76c-3.472 12.16-8.608 20.96-15.408 26.4-6.8 5.44-15.184 8.16-25.152 8.16-14.656 0-26.88-5.28-36.704-15.68-9.808-10.56-14.944-25.28-15.408-44.16h159.52c0.896-48.8-9.008-84.96-29.696-108.48-20.688-23.84-48.944-35.68-84.736-35.68-31.872 0-58.224 11.36-79.072 34.08-20.832 22.4-31.264 53.6-31.264 93.44 0 33.44 7.936 61.12 23.792 83.04 20.096 27.36 51.056 40.96 92.896 40.96 26.432 0 48.4-6.08 65.92-18.08 17.68-12.32 30.592-30.08 38.752-53.28l-63.44-10.72z m158.24-164h-59.36v332.16h63.68v-121.12c11.92 12.8 23.248 21.76 33.984 27.04 10.864 5.28 22.96 8 36.24 8 27.952 0 51.744-11.04 71.36-33.28 19.648-22.4 29.472-53.6 29.472-93.76 0-39.2-9.76-69.76-29.232-91.52-19.488-21.92-43.2-32.96-71.136-32.96-16.016 0-30.592 3.84-43.728 11.36a89.088 89.088 0 0 0-31.264 29.44v-35.36z'"],358:["d='M216.992 603.84c-19.168-21.6-28.752-53.12-28.752-94.56 0-42.08 9.344-73.6 28-94.56 18.672-20.96 43.248-31.36 73.76-31.36 30.496 0 54.912 10.24 73.248 30.88 18.496 20.8 27.744 52 27.744 94.08 0 42.4-9.504 74.4-28.496 95.68-18.832 21.28-43.008 31.84-72.496 31.84-29.504 0-53.84-10.72-73.008-32z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM128.752 417.76C117.584 443.2 112 474.4 112 511.84c0 58.24 16.08 104.16 48.24 137.44 32.176 33.12 75.504 49.76 130 49.76 53.84 0 96.832-16.64 129.008-49.92 32.16-33.6 48.24-79.84 48.24-139.04 0-59.68-16.24-106.24-48.752-139.84-32.32-33.44-75.488-50.24-129.488-50.24-29.84 0-56.176 4.96-79.008 14.56-17.168 7.2-32.992 18.08-47.504 32.96-14.32 14.88-25.664 31.68-33.984 50.24z m607.264 88c-8.336-28.48-22.08-49.6-41.248-63.52-19.008-13.92-44.672-20.96-77.008-20.96-39.488 0-70.832 12.32-94 36.8-23.168 24.32-34.752 58.4-34.752 102.24 0 43.36 11.504 77.28 34.512 101.76 23.168 24.48 54.16 36.8 92.992 36.8 34.176 0 61.424-8.16 81.76-24.32 20.32-16.16 34.08-40.16 41.248-71.68l-69.008-11.84c-3.504 18.56-9.504 31.52-18 39.2-8.496 7.52-19.408 11.36-32.752 11.36-17.824 0-32.08-6.56-42.752-19.52-10.496-12.96-15.744-35.2-15.744-66.72 0-28.32 5.168-48.48 15.504-60.64 10.496-12.16 24.496-18.24 42-18.24 13.168 0 23.824 3.52 32 10.56 8.336 7.04 13.664 17.44 16 31.2l69.248-12.48z m154.768-22.4v-56h-48v-93.76l-70.496 40.96v52.8h-32.256v56h32.256v115.68c0 24.8 0.752 41.28 2.24 49.44 1.84 11.52 5.088 20.8 9.76 27.52 4.832 6.72 12.336 12.16 22.496 16.48 10.16 4.16 21.584 6.4 34.256 6.4 20.656 0 39.168-3.52 55.488-10.56l-6-54.56c-12.32 4.48-21.744 6.72-28.24 6.72-4.672 0-8.672-1.12-12-3.36a16.576 16.576 0 0 1-6.256-8.8c-0.832-3.68-1.248-16.32-1.248-38.08v-106.88h48z'"],359:["d='M503.344 562.4c0 25.6 6.08 45.12 18.24 58.72 12.16 13.44 27.04 20.32 44.8 20.32 17.76 0 32.64-6.88 44.48-20.32 12.16-13.6 18.24-33.28 18.24-59.2 0-25.12-6.08-44.48-18.24-58.08-11.84-13.6-26.72-20.32-44.48-20.32-17.76 0-32.64 6.72-44.8 20.32-12.16 13.6-18.24 33.12-18.24 58.56z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM112 336v355.04h66.592V459.52l143.136 231.52h71.936V336h-66.608v237.12L181.744 336H112z m321.584 222.88c0 29.44 5.6 54.56 16.8 75.2 11.04 20.48 27.36 36.16 48.64 46.72 21.44 10.72 44 16 67.52 16 38.24 0 69.76-12.64 94.72-38.24 25.28-25.6 37.76-57.92 37.76-96.8 0-38.56-12.32-70.56-37.28-95.68-24.8-25.44-56.64-38.08-95.68-38.08-25.12 0-48 5.6-68.48 16.8-20.32 11.04-36.16 27.2-47.2 48.32-11.2 21.28-16.8 43.04-16.8 65.76z m266.24-125.12l103.68 257.28h61.28l102.24-257.28h-70.08l-48.96 131.36c-2.56 7.2-4.96 14.56-7.2 21.76-0.96 3.52-3.36 10.88-7.04 22.08l-14.08-43.84-48.32-131.36h-71.52z'"],360:["d='M199.68 396v235.2h53.6c20 0 34.4-1.12 43.36-3.36 11.52-2.88 21.12-7.84 28.8-14.72 7.68-7.04 13.92-18.4 18.88-34.24 4.8-16 7.2-37.6 7.2-65.12 0-27.52-2.4-48.48-7.2-63.2-4.96-14.72-11.68-26.24-20.32-34.4-8.8-8.16-19.84-13.76-33.28-16.64-9.92-2.4-29.6-3.52-58.88-3.52h-32.16zM619.2 540.32c-0.48-19.68-5.6-34.56-15.2-44.8-9.76-10.24-21.6-15.36-35.36-15.36-14.88 0-27.2 5.28-36.96 16.16-9.6 10.88-14.4 25.44-14.24 44h101.76z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM128 336v355.04h134.88c26.56 0 47.68-2.56 63.52-7.52 21.12-6.72 37.92-16.16 50.4-28.32 16.32-16 29.12-36.96 37.92-62.72 7.36-21.12 10.88-46.4 10.88-75.52 0-33.28-3.84-61.28-11.52-83.84-7.84-22.72-19.04-41.92-33.92-57.6a120.224 120.224 0 0 0-53.6-32.8c-15.52-4.48-37.92-6.72-67.52-6.72H128z m487.36 273.12c-3.84 12.96-9.28 22.4-16.48 28.16-7.36 5.76-16.32 8.64-26.88 8.64-15.68 0-28.8-5.44-39.36-16.64-10.4-11.36-15.84-27.04-16.32-47.2h170.4c0.96-52.16-9.6-90.88-31.68-116-22.08-25.44-52.32-38.08-90.56-38.08-34.08 0-62.24 12.16-84.48 36.32-22.4 24.16-33.44 57.44-33.44 100 0 35.68 8.48 65.28 25.44 88.64 21.44 29.28 54.56 43.84 99.2 43.84 28.32 0 51.84-6.4 70.56-19.36 18.88-13.12 32.64-32 41.28-56.8l-67.68-11.52z m264.48-87.2l67.04-12c-8-27.68-21.44-48.16-40-61.6-18.4-13.44-43.2-20.32-74.56-20.32-38.24 0-68.64 11.84-91.04 35.68-22.4 23.52-33.76 56.48-33.76 99.04 0 41.92 11.2 74.72 33.44 98.56 22.56 23.68 52.48 35.52 90.08 35.52 33.12 0 59.52-7.84 79.2-23.36 19.84-15.68 33.12-38.88 40-69.6l-66.88-11.36c-3.36 17.92-9.12 30.56-17.44 38.08-8.16 7.2-18.72 10.88-31.68 10.88-17.28 0-31.04-6.4-41.44-18.88-10.08-12.64-15.2-34.24-15.2-64.8 0-27.36 4.96-46.88 15.04-58.56 10.08-11.68 23.68-17.6 40.64-17.6 12.8 0 23.04 3.36 31.04 10.08 8 6.88 13.28 16.96 15.52 30.24z'"],361:["d='M1016.123077 516.584369c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123077 278.417723 0 504.123077 225.705354 504.123077 504.123077zM120.485415 571.392c4.159015 35.320123 16.935385 62.243446 38.344862 80.769969 21.393723 18.384738 52.050708 27.569231 91.9552 27.569231 27.427446 0 50.333538-3.812431 68.718277-11.421538 18.368985-7.750892 32.594708-19.534769 42.645661-35.320124 10.050954-15.785354 15.076431-32.736492 15.076431-50.821907 0-19.960123-4.253538-36.706462-12.713354-50.191754-8.333785-13.642831-19.960123-24.339692-34.894769-32.090585-14.777108-7.892677-37.6832-15.501785-68.702523-22.843077-31.019323-7.309785-50.538338-14.336-58.588554-21.110153-6.301538-5.293292-9.468062-11.689354-9.468061-19.156677 0-8.192 3.371323-14.714092 10.113969-19.597785 10.492062-7.609108 24.9856-11.421538 43.512123-11.421538 17.959385 0 31.365908 3.591877 40.282585 10.77563 9.042708 7.041969 14.934646 18.668308 17.644307 34.89477l63.771569-2.804185c-1.008246-29.002831-11.563323-52.192492-31.66523-69.568985-19.960123-17.376492-49.750646-26.056862-89.387323-26.056861-24.260923 0-45.008738 3.654892-62.243447 10.980431-17.092923 7.325538-30.231631 18.0224-39.416123 32.090584A81.116554 81.116554 0 0 0 131.906954 441.107692c0 24.969846 9.688615 46.158769 29.065846 63.535262 13.784615 12.351015 37.761969 22.748554 71.947815 31.224123 26.560985 6.616615 43.575138 11.200985 51.042462 13.784615 10.917415 3.875446 18.526523 8.475569 22.843077 13.784616 4.442585 5.167262 6.663877 11.500308 6.663877 18.951877 0 11.642092-5.246031 21.834831-15.722339 30.593969-10.334523 8.617354-25.773292 12.918154-46.316307 12.918154-19.377231 0-34.816-4.883692-46.300554-14.651077-11.342769-9.767385-18.888862-25.048615-22.622523-45.8752l-62.022893 6.033723z m451.66277 102.730831h56.225477V445.408492h-60.526277v96.492308c0 32.736492-1.512369 53.342523-4.521354 61.818092-3.024738 8.318031-8.617354 15.36-16.809354 21.110154a48.049231 48.049231 0 0 1-27.774031 8.3968c-9.042708 0-16.510031-2.079508-22.401969-6.254277a33.3824 33.3824 0 0 1-12.288-17.218954c-2.142523-7.325538-3.213785-27.065108-3.213785-59.234461v-105.109662H420.312615v144.746339c0 21.535508 2.725415 38.407877 8.192 50.601354 5.450831 12.209231 14.272985 21.693046 26.466462 28.435692 12.224985 6.742646 25.993846 10.129723 41.3696 10.129723 15.076431 0 29.365169-3.528862 42.850461-10.555077a87.937969 87.937969 0 0 0 32.957047-28.861046v34.233108z m257.827446 0h60.526277v-142.146954c0-17.660062-1.150031-31.224123-3.450093-40.707939a64.638031 64.638031 0 0 0-11.846892-25.410953c-5.592615-7.467323-13.9264-13.579815-24.9856-18.30597-11.0592-4.883692-23.252677-7.325538-36.611938-7.325538-30.294646 0-55.422031 12.918154-75.382154 38.754461v-33.5872h-56.209723v228.745847h60.510523v-103.613047c0-25.552738 1.512369-43.071015 4.521354-52.55483a43.953231 43.953231 0 0 1 17.234707-22.827323 48.521846 48.521846 0 0 1 28.215139-8.617354c8.192 0 15.1552 2.016492 20.905354 6.033723 5.876185 4.017231 10.113969 9.688615 12.6976 17.014154 2.583631 7.183754 3.875446 23.126646 3.875446 47.812923v116.736z'"],362:["d='M510.676677 559.765662c0-22.685538 5.387815-40.062031 16.163446-52.129477 10.759877-12.051692 24.040369-18.085415 39.841477-18.085416 15.785354 0 29.002831 6.033723 39.620923 18.085416 10.775631 12.067446 16.163446 29.302154 16.163446 51.688369 0 22.984862-5.387815 40.487385-16.163446 52.554831-10.618092 12.067446-23.835569 18.101169-39.620923 18.101169-15.801108 0-29.0816-6.033723-39.857231-18.101169-10.759877-12.051692-16.147692-29.428185-16.147692-52.113723z'","d='M1022.723938 516.584369c0 278.433477-225.705354 504.123077-504.123076 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123077 278.417723 0 504.123077 225.705354 504.123076 504.123077z m-910.304492 157.538462h59.234462V425.5744l62.448246 248.548431h61.392738l62.6688-248.548431v248.548431h59.234462V358.4h-95.625846L265.121477 573.755077l-57.296739-215.386585H112.419446v315.754339z m336.234339-117.586708c0 26.277415 4.946708 48.600615 14.855877 66.985354 9.909169 18.2272 24.339692 32.090585 43.291569 41.558646a133.513846 133.513846 0 0 0 60.085169 14.225723c33.886523 0 61.959877-11.342769 84.220062-34.028308 22.401969-22.843077 33.602954-51.562338 33.602953-86.173538 0-34.311877-11.0592-62.6688-33.161846-85.070769-22.1184-22.528-50.475323-33.807754-85.070769-33.807754-22.417723 0-42.724431 4.946708-60.967385 14.855877-18.085415 9.924923-32.090585 24.260923-41.999753 43.086769-9.909169 18.810092-14.855877 38.266092-14.855877 58.368z m413.538461 117.602462h60.542031v-142.162708c0-17.660062-1.150031-31.224123-3.465846-40.707939a64.638031 64.638031 0 0 0-11.831139-25.410953c-5.608369-7.467323-13.9264-13.579815-24.9856-18.30597-11.0592-4.883692-23.268431-7.325538-36.611938-7.325538-30.3104 0-55.437785 12.918154-75.382154 38.754461v-33.5872h-56.225477v228.745847h60.526277v-103.613047c0-25.552738 1.512369-43.071015 4.521354-52.55483 3.150769-9.468062 8.900923-17.077169 17.234708-22.827323a48.521846 48.521846 0 0 1 28.199384-8.617354c8.192 0 15.1552 2.016492 20.905354 6.033723 5.891938 4.017231 10.129723 9.688615 12.713354 17.014154 2.583631 7.183754 3.875446 23.126646 3.875446 47.812923v116.736z'"],363:["d='M802.343385 501.980554c8.916677 9.373538 13.595569 23.126646 14.036677 41.275077h-93.688124c-0.157538-17.108677 4.253538-30.641231 13.154462-40.597662 8.932431-9.972185 20.227938-14.9504 33.918031-14.9504 12.792123 0 23.630769 4.757662 32.5632 14.272985z'","d='M1016.123077 516.584369c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123077 278.417723 0 504.123077 225.705354 504.123077 504.123077z m-791.110892 165.415385h66.024369V410.293169h96.823138v-55.311754H127.968492v55.311754h97.043693v271.706585z m327.254646 0h58.226215V445.093415h-62.700308v99.9424c0 33.902277-1.559631 55.248738-4.678892 64.023631-3.119262 8.633108-8.916677 15.911385-17.392246 21.866339a49.7664 49.7664 0 0 1-28.782277 8.696123c-9.373538 0-17.108677-2.158277-23.205415-6.459077a34.548185 34.548185 0 0 1-12.713354-17.849108c-2.221292-7.593354-3.339815-28.041846-3.339816-61.345477v-108.859077h-62.700307v149.897846c0 22.307446 2.835692 39.778462 8.491323 52.4288 5.655631 12.634585 14.808615 22.449231 27.427446 29.443939 12.650338 6.994708 26.939077 10.476308 42.850462 10.476308 15.596308 0 30.404923-3.623385 44.378584-10.93317a91.104492 91.104492 0 0 0 34.138585-29.885046v35.477662z m323.016861-64.905846l-62.464-10.492062c-3.418585 11.909908-8.475569 20.527262-15.170954 25.883569-6.695385 5.356308-14.9504 8.034462-24.765046 8.034462-14.430523 0-26.466462-5.135754-36.139323-15.391508-9.657108-10.413292-14.714092-24.922585-15.170954-43.512123h157.050093c0.897969-48.033477-8.853662-83.652923-29.223385-106.842584-20.369723-23.3472-48.191015-35.0208-83.432369-35.0208-31.381662 0-57.344 11.153723-77.855508 33.461169-20.527262 22.149908-30.783015 52.869908-30.783015 92.128492 0 32.862523 7.813908 60.069415 23.425969 81.636431 19.771077 26.923323 50.254769 40.377108 91.466831 40.377108 26.025354 0 47.655385-5.9392 64.905846-17.849108 17.408-12.035938 30.121354-29.506954 38.155815-52.413046z'"],364:["d='M617.755569 552.818215c-0.4096-16.888123-4.773415-29.696-13.075692-38.42363-8.318031-8.853662-18.432-13.280492-30.326154-13.280493-12.744862 0-23.268431 4.631631-31.570708 13.910646-8.318031 9.279015-12.398277 21.882092-12.256492 37.809231h87.229046zM771.245292 618.039138c-6.506338-10.523569-9.767385-27.569231-9.767384-51.089723 0-21.882092 4.647385-38.281846 13.9264-49.230769 9.4208-11.074954 21.047138-16.604554 34.894769-16.604554 14.257231 0 25.962338 5.608369 35.099569 16.809354 9.137231 11.090708 13.705846 29.302154 13.705846 54.634339 0 22.701292-4.7104 39.809969-14.1312 51.294523-9.405046 11.342769-20.826585 17.029908-34.264615 17.029907-16.888123 0-30.042585-7.609108-39.463385-22.843077z'","d='M1016.123077 516.584369c0-278.417723-225.705354-504.123077-504.123077-504.123077-278.417723 0-504.123077 225.705354-504.123077 504.123077 0 278.433477 225.705354 504.123077 504.123077 504.123077 278.417723 0 504.123077-225.6896 504.123077-504.123077z m-871.077415 165.415385L72.341662 377.525169h62.936615L181.169231 586.673231l55.658338-209.148062h73.097846l53.389785 212.676923 46.725908-212.676923h61.881107l-73.9328 304.490339h-65.220923l-60.652307-227.643077-60.431754 227.643077H145.045662z m469.385846-70.199139l58.147446 9.767385c-7.467323 21.330708-19.314215 37.588677-35.509169 48.805415-16.068923 11.074954-36.202338 16.620308-60.431754 16.620308-38.360615 0-66.749046-12.524308-85.165293-37.588677-14.525046-20.086154-21.803323-45.418338-21.803323-76.012308 0-36.548923 9.562585-65.157908 28.672-85.779692 19.093662-20.779323 43.260062-31.161108 72.467693-31.161108 32.815262 0 58.714585 10.870154 77.682215 32.610462 18.967631 21.598523 28.041846 54.760369 27.206892 99.485538H529.486769c0.4096 17.313477 5.12 30.814523 14.115446 40.487385 9.0112 9.562585 20.227938 14.336 33.650216 14.336 9.137231 0 16.825108-2.489108 23.047877-7.467323 6.238523-4.993969 10.948923-13.012677 14.1312-24.103385z m248.611446 70.199139v-32.389908c-8.995446 12.603077-19.6608 22.008123-31.980308 28.246646-12.177723 6.096738-24.512985 9.137231-36.974277 9.137231-25.332185 0-47.072492-10.176985-65.220923-30.530954-17.990892-20.48-26.986338-49.010215-26.986338-85.574892 0-37.383877 8.790646-65.772308 26.371938-85.149539 17.581292-19.534769 39.809969-29.2864 66.670277-29.2864 24.639015 0 45.969723 10.24 63.960615 30.735754v-109.646769h58.368V681.984h-54.19323z'"],365:["d='M1014.090831 516.584369c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123077-504.123077 0-278.417723 225.705354-504.123077 504.123077-504.123077 278.417723 0 504.123077 225.705354 504.123077 504.123077z m-815.230031 189.046154h66.024369V433.923938h96.807385v-55.311753H101.817108v55.311753h97.043692v271.706585z m258.552123-327.018338h-62.700308V705.614769h62.700308v-118.673723c0-19.928615 1.858954-34.942031 5.576862-45.056 3.859692-10.255754 9.893415-17.927877 18.069661-22.984861 8.176246-5.041231 17.471015-7.5776 27.884308-7.5776 9.074215 0 16.573046 2.000738 22.528 6.017969 6.096738 3.875446 10.334523 9.137231 12.713354 15.848369 2.378831 6.695385 3.576123 22.449231 3.576123 47.293046v125.148554h62.684554V566.665846c0-21.267692-1.118523-36.958523-3.35557-47.072492a72.073846 72.073846 0 0 0-12.035938-27.663754c-5.813169-8.333785-14.493538-15.170954-26.104123-20.527262-11.594831-5.356308-24.623262-8.034462-39.038031-8.034461-28.104862 0-52.271262 11.831138-72.4992 35.477661v-120.233353zM821.027446 670.168615v35.477662h58.226216V468.708431h-62.684554v99.9424c0 33.902277-1.559631 55.248738-4.678893 64.023631-3.119262 8.633108-8.932431 15.911385-17.408 21.866338a49.7664 49.7664 0 0 1-28.766523 8.696123c-9.373538 0-17.108677-2.158277-23.205415-6.459077a34.548185 34.548185 0 0 1-12.713354-17.849108c-2.237046-7.593354-3.355569-28.041846-3.355569-61.345476v-108.859077h-62.684554v149.897846c0 22.307446 2.835692 39.778462 8.475569 52.4288 5.671385 12.634585 14.808615 22.449231 27.4432 29.443938 12.650338 6.994708 26.923323 10.476308 42.834708 10.476308 15.612062 0 30.404923-3.623385 44.394338-10.933169a91.104492 91.104492 0 0 0 34.122831-29.885046z'"],366:["d='M1019.557415 516.584369c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123076-504.123077 0-278.417723 225.705354-504.123077 504.123076-504.123077 278.417723 0 504.123077 225.705354 504.123077 504.123077z m-789.897846 189.046154h72.845785v-153.347938h150.654031v-61.046154h-150.654031V405.819077H477.026462v-61.046154H229.643815v360.8576z m373.397662 0v-80.722708c0-44.473108 1.890462-73.696492 5.671384-87.638646 3.938462-13.942154 9.263262-23.552 15.990154-28.798031 6.726892-5.419323 14.934646-8.128985 24.623262-8.128984 10.003692 0 20.842338 3.780923 32.484431 11.327015l21.42523-60.305723c-14.603815-8.696123-29.790523-13.044185-45.544369-13.044184-11.153723 0-21.173169 2.788431-30.026831 8.365292-8.696123 5.576862-18.542277 17.140185-29.538461 34.705723v-37.179077H533.897846v261.435077h69.159385z m130.221292-360.8576v64.007877h69.159385v-64.007877h-69.159385z m0 99.454031V705.614769h69.159385V444.226954h-69.159385z'"],367:["d='M613.139692 568.241231c-8.034462 2.678154-20.747815 5.876185-38.140061 9.594092-17.408 3.717908-28.782277 7.357046-34.122831 10.933169-8.192 5.797415-12.288 13.154462-12.288 22.071139 0 8.774892 3.2768 16.368246 9.8304 22.764307 6.537846 6.396062 14.871631 9.594092 24.9856 9.594093 11.295508 0 22.086892-3.717908 32.342646-11.153723 7.5776-5.671385 12.571569-12.571569 14.9504-20.747816 1.622646-5.356308 2.441846-15.549046 2.441846-30.562461v-12.4928z'","d='M1016.895015 516.584369c0 278.433477-225.705354 504.123077-504.123077 504.123077-278.417723 0-504.123077-225.6896-504.123076-504.123077 0-278.417723 225.705354-504.123077 504.123076-504.123077 278.417723 0 504.123077 225.705354 504.123077 504.123077z m-855.481107 59.013908c4.316554 36.580431 17.549785 64.464738 39.699692 83.652923 22.165662 19.0464 53.925415 28.561723 95.263508 28.561723 28.404185 0 52.129477-3.938462 71.160123-11.815385 19.030646-8.034462 33.760492-20.243692 44.173784-36.596184 10.397538-16.368246 15.612062-33.902277 15.612062-52.649354 0-20.669046-4.395323-37.998277-13.154462-51.987692-8.633108-14.115446-20.6848-25.206154-36.139323-33.240616-15.328492-8.160492-39.038031-16.053169-71.160123-23.630769-32.137846-7.593354-52.350031-14.871631-60.683815-21.866338-6.537846-5.498092-9.814646-12.130462-9.814646-19.849847 0-8.475569 3.497354-15.249723 10.476307-20.306707 10.870154-7.876923 25.883569-11.815385 45.056-11.815385 18.589538 0 32.500185 3.717908 41.731939 11.153723 9.373538 7.278277 15.470277 19.329969 18.274461 36.139323l66.040123-2.898707c-1.039754-30.042585-11.972923-54.0672-32.783753-72.058093-20.669046-17.990892-51.530831-26.986338-92.585354-26.986338-25.127385 0-46.631385 3.780923-64.464739 11.374277-17.691569 7.5776-31.302892 18.668308-40.818215 33.240615a83.999508 83.999508 0 0 0-14.052431 46.631385c0 25.867815 10.0352 47.797169 30.1056 65.803815 14.288738 12.776369 39.1168 23.567754 74.515692 32.342646 27.506215 6.837169 45.134769 11.594831 52.869908 14.272985 11.295508 4.017231 19.172431 8.774892 23.630769 14.272985 4.615877 5.356308 6.931692 11.894154 6.931693 19.629292 0 12.051692-5.435077 22.606769-16.289477 31.680984-10.712615 8.916677-26.702769 13.390769-47.954708 13.39077-20.086154 0-36.076308-5.056985-47.970461-15.170954-11.752369-10.113969-19.550523-25.962338-23.42597-47.5136l-64.244184 6.238523z m367.852307-58.226215c3.875446-10.996185 8.932431-18.652554 15.170954-22.969108 6.254277-4.458338 14.9504-6.695385 26.104123-6.695385 16.510031 0 27.726769 2.599385 33.681723 7.813908 5.954954 5.041231 8.916677 13.595569 8.916677 25.647261v6.238524c-11.295508 4.773415-31.602215 9.893415-60.888615 15.407261-21.724554 4.159015-38.376369 9.058462-49.9712 14.714092-11.453046 5.513846-20.369723 13.548308-26.781539 24.103385-6.380308 10.397538-9.578338 22.291692-9.578338 35.682462 0 20.227938 6.978954 36.958523 20.952615 50.191753 14.146954 13.233231 33.398154 19.849846 57.785108 19.849847 13.831877 0 26.844554-2.599385 39.038031-7.798154 12.193477-5.198769 23.646523-13.012677 34.343384-23.42597 0.472615 1.181538 1.197292 3.639138 2.237047 7.357047 2.394585 8.192 4.395323 14.351754 6.033723 18.510769h62.007138c-5.498092-11.295508-9.294769-21.850585-11.374277-31.665231-1.937723-9.972185-2.898708-25.363692-2.898707-46.174523l0.677415-73.176615c0-27.206892-2.835692-45.8752-8.475569-55.98917-5.513846-10.255754-15.107938-18.668308-28.782277-25.206153-13.690092-6.695385-34.500923-10.0352-62.464-10.0352-30.783015 0-53.988431 5.498092-69.600493 16.494276-15.612062 11.011938-26.624 27.963077-33.020061 50.86917l56.887138 10.255754z m316.100923-22.307447v-49.9712h-42.834707v-83.652923l-62.905108 36.596185v47.056738h-28.766523v49.9712h28.766523v103.282216c0 22.165662 0.677415 36.895508 2.016492 44.173784 1.6384 10.271508 4.537108 18.432 8.696123 24.544493 4.316554 5.9392 11.011938 10.8544 20.0704 14.714092 9.074215 3.717908 19.266954 5.576862 30.562462 5.576862 18.432 0 34.957785-3.119262 49.530092-9.357785l-5.356307-48.632123c-11.011938 4.017231-19.408738 6.017969-25.206154 6.017969-4.159015 0-7.735138-1.039754-10.712616-3.119261a14.493538 14.493538 0 0 1-5.576861-7.813908c-0.740431-3.261046-1.102769-14.572308-1.102769-33.902277v-95.468308h42.818953z'"],368:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-253.12-111.056a48 48 0 1 0-69.76-65.92l-237.344 251.04-124.896-132.16a48.176 48.176 0 0 0-67.856-1.92 48.176 48.176 0 0 0-1.92 68l148.16 156.64a64 64 0 0 0 93.024 0l260.592-275.68z'"],369:["d='M512 1024c282.768 0 512-229.232 512-512C1024 229.232 794.768 0 512 0 229.232 0 0 229.232 0 512c0 282.768 229.232 512 512 512zM302.064 302.032a48.032 48.032 0 0 1 67.872 0L512 444.128l142.064-142.08a48.032 48.032 0 0 1 67.872 0 47.936 47.936 0 0 1 0 67.84l-142.08 142.08 142.08 142.08a47.936 47.936 0 0 1 0 67.84 48.032 48.032 0 0 1-67.872 0L512 579.84l-142.064 142.064a48.032 48.032 0 0 1-67.872 0 47.936 47.936 0 0 1 0-67.84l142.08-142.08-142.08-142.08a47.936 47.936 0 0 1 0-67.84z'"],370:["d='M376.8 616h148.8c17.68 0 32 14.4 32 32s-14.32 32-32 32h-148.8l-2.4-0.08a32.048 32.048 0 0 1-29.6-31.92c0-17.6 14.32-32 32-32zM376.8 448.8h270.4c17.68 0 32 14.4 32 32s-14.32 32-32 32h-270.4l-2.4-0.08a32.048 32.048 0 0 1-29.6-31.92c0-17.6 14.32-32 32-32z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM299.2 288l0.08-3.2H272a64 64 0 0 0-64 64v388.8a64 64 0 0 0 64 64h480a64 64 0 0 0 64-64V348.8a64 64 0 0 0-64-64h-20.88c0.048 1.056 0.08 2.128 0.08 3.2v39.2l-0.08 3.2a64 64 0 0 1-127.92-3.2V288l0.08-3.2h-176.16c0.048 1.056 0.08 2.128 0.08 3.2v39.2l-0.08 3.2a64 64 0 0 1-127.92-3.2V288z m94.4-32c0-17.6-14.32-32-32-32s-32 14.4-32 32v72.8c0 17.6 14.32 32 32 32s32-14.4 32-32V256z m304 0c0-17.6-14.32-32-32-32s-32 14.4-32 32v72.8c0 17.6 14.32 32 32 32s32-14.4 32-32V256z'"],371:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM560 272c0-26.56-21.488-48-48-48s-48 21.44-48 48v299.84l150.064 150.08a48.032 48.032 0 0 0 67.872 0 47.936 47.936 0 0 0 0-67.84L560 532.16V272z'"],372:["d='M464 655.968c0-26.56 21.488-48 48-48s48 21.44 48 48-21.488 48-48 48-48-21.44-48-48zM480 367.952c0-17.6 14.32-32 32-32s32 14.4 32 32v176c0 17.6-14.32 32-32 32s-32-14.4-32-32v-176z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM830.72 711.968l-291.008-504c-12.32-21.28-43.104-21.28-55.424 0l-290.992 504c-12.304 21.28 3.088 48 27.728 48h581.968c24.64 0 40.016-26.72 27.712-48z'"],373:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-464-64c0-26.56-21.488-48-48-48s-48 21.44-48 48v320c0 26.56 21.488 48 48 48s48-21.44 48-48V448z m16-176a64 64 0 1 0-128 0 64 64 0 0 0 128 0z'"],374:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM514.944 708.96a57.84 57.84 0 0 0-25.344-5.44c-9.216 0-17.92 1.76-26.112 5.44-7.68 3.52-14.592 8.32-20.736 14.56-6.144 6.08-11.008 12.96-14.592 20.64a65.264 65.264 0 0 0-5.376 26.24c0 9.12 1.792 17.6 5.376 25.28 3.584 8.16 8.448 15.36 14.592 21.44 6.144 6.24 13.056 11.04 20.736 14.72a65.44 65.44 0 0 0 26.112 5.28c9.216 0 17.664-1.76 25.344-5.28a69.856 69.856 0 0 0 36.096-36.16 59.2 59.2 0 0 0 5.376-25.28c0-9.28-1.792-17.92-5.376-26.24a71.232 71.232 0 0 0-14.592-20.64 66.752 66.752 0 0 0-21.504-14.56z m115.968-474.72C601.728 206.08 561.536 192 510.336 192c-51.2 0-92.928 16.16-125.184 48.48-32.768 32.64-49.152 70.08-49.152 112 0 29.28 14.848 43.84 44.544 43.84 28.16 0 43.008-15.04 44.544-45.28 1.024-20 8.96-36.96 23.808-50.72 14.848-14.4 34.56-21.44 59.136-21.44s43.776 6.08 57.6 18.4c13.824 12.32 20.736 29.92 20.736 52.96 0 9.76-0.768 18.24-2.304 25.28-1.024 6.72-3.84 13.6-8.448 20.8-4.096 6.72-9.984 14.08-17.664 22.24-7.68 7.68-17.664 17.44-29.952 29.28-53.248 52.16-79.872 104.32-79.872 156.64 0 9.12 0.512 17.12 1.536 23.84 1.024 6.08 3.072 11.2 6.144 15.36 3.584 3.52 8.448 6.08 14.592 7.68 6.144 1.44 14.592 2.24 25.344 2.24 27.648 0 41.472-16.32 41.472-49.12 0-9.76 0.512-18.4 1.536-26.08 1.536-7.68 4.352-15.36 8.448-23.04 4.608-8.32 11.264-17.28 19.968-26.88 8.704-10.24 20.48-22.56 35.328-36.96 24.576-24.48 42.752-47.36 54.528-68.32a137.44 137.44 0 0 0 17.664-68.32c0-52.8-14.592-92.96-43.776-120.64z'"],375:["d='M535.728 333.28a25.536 25.536 0 0 1-15.168-32.48 25.12 25.12 0 0 1 32.096-15.52c27.024 9.44 76.432 44.96 70.032 111.04-1.28 13.12-12.304 23.04-25.2 23.04-0.816 0-1.648 0-2.48-0.16a25.376 25.376 0 0 1-22.768-27.84c4.048-41.76-32.352-56.48-36.512-58.08z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM545.04 840.32a28.96 28.96 0 0 0 26.656-31.2c-1.232-16-15.12-28-31.104-26.88l-72.176 5.6c-15.952 1.28-27.872 15.36-26.656 31.36 1.168 15.2 13.856 26.88 28.848 26.88 0.736 0 1.504 0 2.256-0.16l72.176-5.6z m63.248-92a29.2 29.2 0 0 0-4.192-58.24l-198.928 14.56c-15.952 1.28-27.936 15.2-26.784 31.2 1.104 15.36 13.808 27.04 28.848 27.04h2.128l198.928-14.56z m116.768-351.52c0-121.76-98.704-220.8-218.464-220.8S288 275.04 288 396.8c0 74.24 29.216 134.08 87.488 174.08v71.36l0.16 2.704c0.912 7.136 5.28 13.76 10.576 18.736 5.36 4.96 13.088 7.68 20.336 7.68 0.768 0 1.904 0 2.672-0.16l200.384-16 2.352-0.304c14.016-2.32 25.712-14.416 25.712-28.816v-54.72l4.096-3.056c48.832-37.376 83.28-99.888 83.28-171.504z'"],376:["d='M1024 512c0 282.768-229.232 512-512 512C250.912 1024 35.456 828.56 3.968 576H524.8c28.272 0 51.2-22.88 51.2-51.2V3.968C828.56 35.456 1024 250.912 1024 512z'","d='M480 0.992C222.72 16.848 16.848 222.72 0.992 480H480V0.992z'"],377:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM616.672 225.28c0-53.76-43.552-97.28-97.264-97.28a97.248 97.248 0 0 0-97.264 97.28 97.184 97.184 0 0 0 51.968 86.08c-6.448 1.92-12.8 4.192-18.992 6.88a168.128 168.128 0 0 0-54.512 38.4 175.44 175.44 0 0 0-24.048 32 120.208 120.208 0 0 1 84.8 93.12h100.112a120.176 120.176 0 0 1 98.912-96.272c-6.4-10.368-13.824-20.032-22.176-28.848a168.128 168.128 0 0 0-54.512-38.4 161.632 161.632 0 0 0-18.992-6.848 97.248 97.248 0 0 0 51.968-86.112zM343.408 400a104 104 0 0 0-44.96 197.792c-8.64 2.272-17.168 5.2-25.456 8.768a186.48 186.48 0 0 0-59.696 41.6 193.52 193.52 0 0 0-39.888 62.4 199.68 199.68 0 0 0-13.36 57.44c-0.704 8.8 6.528 16 15.36 16h672c8.832 0 16.064-7.2 15.36-16a199.68 199.68 0 0 0-13.36-57.44 193.52 193.52 0 0 0-39.888-62.4 186.48 186.48 0 0 0-59.696-41.6 178.48 178.48 0 0 0-25.456-8.752 104 104 0 1 0-89.904 0c-8.672 2.256-17.184 5.184-25.472 8.752a186.48 186.48 0 0 0-59.696 41.6 193.344 193.344 0 0 0-37.888 57.536 193.392 193.392 0 0 0-37.888-57.536 186.48 186.48 0 0 0-59.696-41.6 178.48 178.48 0 0 0-25.456-8.752A104 104 0 0 0 343.408 400z'"],378:["d='M448 608c0-39.84 32.16-72 72-72S592 568.16 592 608a71.856 71.856 0 0 1-32 59.92V704a40 40 0 0 1-79.92 2.624L480 704v-36.08A71.856 71.856 0 0 1 448 608zM384.064 356A127.968 127.968 0 0 1 512 232l4 0.064A127.968 127.968 0 0 1 640 360v96H384v-96l0.064-4z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-320.064-156.88C701.344 251.296 616.448 168 512 168l-4.88 0.064C403.296 170.656 320 255.552 320 360v96h-64c-17.68 0-32 14.4-32 32v304c0 17.6 14.32 32 32 32h512c17.6 0 32-14.4 32-32v-304c0-17.6-14.4-32-32-32h-64v-96l-0.064-4.88z'"],379:["d='M448 608c0-39.84 32.16-72 72-72S592 568.16 592 608a71.856 71.856 0 0 1-32 59.92V704a40 40 0 0 1-79.92 2.624L480 704v-36.08A71.856 71.856 0 0 1 448 608z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-320-152c0-106.08-85.92-192-192-192s-192 85.92-192 192v96h-64c-17.6 0-32 14.4-32 32v304c0 17.6 14.4 32 32 32h512c17.6 0 32-14.4 32-32v-304c0-17.6-14.4-32-32-32H384v-96c0-70.72 57.28-128 128-128s128 57.28 128 128v8c0 17.6 14.4 32 32 32s32-14.4 32-32v-8z'"],380:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM832 680V413.264L504 588.32 192 421.792V680a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64z m-0.064-339.104A64 64 0 0 0 768 280H256a64 64 0 0 0-64 64v5.376L504 515.68l327.936-174.784z'"],381:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-786.16 158.032c-38.192-66.08-15.52-150.72 50.64-188.96l145.024-83.68 11.584-6.72 38.864-22.4-0.032-0.032 151.36-87.488 2.128-1.344a28.992 28.992 0 0 0 8.544-38.336 29.2 29.2 0 0 0-39.792-10.72l-201.776 116.48v0.032l-145.024 83.808c-94.032 54.24-126.24 174.4-71.968 268.48l2.592 4.368c55.44 90.704 173.392 121.04 265.968 67.632l44.08-25.504 0.048 0.064 290.064-167.52c69.648-40.16 93.52-129.28 53.28-198.88a145.6 145.6 0 0 0-198.896-53.44l-290.08 167.52 0.032 0.048-37.856 21.872c-41.792 24-56.096 77.44-31.968 119.36a87.312 87.312 0 0 0 119.344 31.84l239.616-138.24 2.112-1.344a29.184 29.184 0 0 0 8.544-38.496 28.992 28.992 0 0 0-39.776-10.56l-239.616 138.24c-13.936 8-31.744 3.36-39.792-10.56l-1.168-2.224a29.184 29.184 0 0 1 11.84-37.6l327.888-189.28a87.248 87.248 0 0 1 119.36 32l1.824 3.312a87.392 87.392 0 0 1-33.808 116.032l-138.72 80.032v-0.032l-151.36 87.36 0.032 0.048-44.16 25.552c-66.16 38.08-150.768 15.52-188.976-50.72z'"],382:["d='M407.696 512c0-56.8 46.608-103.52 104.304-103.52 56.592 0 104.304 46.72 104.304 103.52S569.696 615.52 512 615.52c-57.696 0-104.304-46.72-104.304-103.52z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-267.872 77.92l55.488-12.16c21.088-3.36 43.28-21.28 44.384-44.64v-43.36c0-24.48-23.296-39.04-43.28-43.52l-55.488-14.4c-4.176-11.616-9.36-23.088-14.592-34.688l-0.944-2.112 29.968-50.08c11.104-17.76 16.64-44.48 0-61.12l-29.968-30.08c-7.76-8.96-18.864-12.32-29.952-12.32-12.208 0-23.312 4.48-32.176 10.08l-48.832 31.2c-12.208-6.72-25.52-12.32-38.832-16.8l-12.208-55.68c-4.448-20-22.192-42.24-45.504-42.24h-43.28c-24.416 0-38.832 23.36-43.28 43.36l-13.312 55.68c-14.416 4.48-28.848 11.2-42.16 17.92l-49.936-32.32c-8.88-6.72-21.088-10.08-32.192-10.08-11.088 0-22.192 3.36-29.952 10.08l-29.968 30.08c-16.64 16.64-11.088 43.36 0 61.12l31.072 52.32c-5.552 11.2-11.088 22.4-14.416 34.56l-55.488 14.56c-21.088 5.44-43.28 20-43.28 43.36v43.36c0 24.48 22.192 42.4 42.16 45.76l55.488 12.16c4.24 11.76 9.472 23.36 14.768 35.088l0.768 1.712-31.072 52.32c-11.088 17.76-16.64 44.48 0 61.12l29.968 30.08c7.76 8.96 18.864 12.32 29.952 12.32 11.104 0 23.312-3.36 29.968-12.32l49.936-31.2c13.312 6.72 27.744 13.44 42.16 17.92l13.328 55.68c5.536 21.12 19.968 43.36 43.28 43.36h43.264c24.416 0 42.176-22.24 45.504-42.24l12.208-55.68c13.312-4.48 26.624-10.08 38.832-16.8l48.832 31.2c8.88 6.72 21.088 10.08 32.176 10.08 11.104 0 22.192-3.36 29.968-11.2l29.952-30.08c16.656-16.64 11.104-43.36 0-61.12l-29.952-50.08c6.656-13.44 12.208-26.72 16.64-40.16z'"],383:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-157.84 282.4C808.048 642.56 671.36 536 512 536S215.952 642.56 157.84 794.4C239.792 900 367.952 968 512 968c144.032 0 272.208-68 354.16-173.6zM688 352c0-92.8-78.8-168-176-168S336 259.2 336 352s78.8 168 176 168S688 444.8 688 352z'"],384:["d='M416 720a16 16 0 1 0 0 32h192a16 16 0 1 0 0-32H416z'","d='M672 208a32 32 0 0 1 32 32v544a32 32 0 0 1-32 32H352a32 32 0 0 1-32-32V240a32 32 0 0 1 32-32h320z m-302.176 24.816c-15.696 0-28.432 13.168-28.432 29.392v499.584c0 16.224 12.736 29.392 28.432 29.392h284.352c15.696 0 28.432-13.168 28.432-29.392V262.208c0-16.224-12.72-29.392-28.432-29.392H369.824z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM352 176a64 64 0 0 0-64 64v544a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V240a64 64 0 0 0-64-64H352z'"],385:["d='M375.504 288.224a16 16 0 0 1 16-16h192a16 16 0 1 1 0 32h-192a16 16 0 0 1-16-16zM647.504 288.224a16 16 0 1 1-32 0 16 16 0 0 1 32 0zM551.504 704.56a40 40 0 1 1-80 0 40 40 0 0 1 80 0z'","d='M327.504 208h368a32 32 0 0 1 32 32v544a32 32 0 0 1-32 32h-368a32 32 0 0 1-32-32V240a32 32 0 0 1 32-32z m23.2 32.16c-15.456 0-27.968 12.816-27.968 28.64v486.4c0 15.824 12.512 28.64 27.968 28.64h321.6c15.44 0 27.968-12.816 27.968-28.64V268.8c0-15.824-12.528-28.64-27.968-28.64h-321.6z'","d='M519.504 1024c282.768 0 512-229.232 512-512 0-282.768-229.232-512-512-512-282.768 0-512 229.232-512 512 0 282.768 229.232 512 512 512z m-192-848h368a64 64 0 0 1 64 64v544a64 64 0 0 1-64 64h-368a64 64 0 0 1-64-64V240a64 64 0 0 1 64-64z'"],386:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-721.696-88.16a27.248 27.248 0 0 0-19.024-7.84h-20.192c-12.48 0-24.464 4.96-33.296 13.6a46.64 46.64 0 0 0-13.792 33.12v266.56c0 12.48 4.96 24.32 13.792 33.12 8.832 8.64 20.816 13.6 33.296 13.6h20.192c7.136 0 13.968-2.88 19.024-7.84 5.04-4.96 7.872-11.68 7.872-18.88V442.72c0-7.2-2.832-13.92-7.872-18.88z m274.912-192.16a53.888 53.888 0 0 0-38.096-15.68c-15.456 0-30.48 5.12-42.736 14.4a69.36 69.36 0 0 0-25.04 37.12l-29.552 109.76c-2.992 11.2-9.6 20.96-18.784 28-9.2 6.88-20.464 10.72-32.048 10.72h-13.504c-7.136 0-13.984 2.88-19.024 7.84-5.056 4.96-7.888 11.68-7.888 18.88v306.56c0 3.52 0.704 7.04 2.064 10.24 1.344 3.2 3.328 6.24 5.84 8.64 2.496 2.56 5.472 4.48 8.736 5.76 3.264 1.44 6.768 2.08 10.304 2.08h289.856c17.408 0 34.368-5.6 48.32-15.84a80.8 80.8 0 0 0 29.152-41.44l59.872-200a79.36 79.36 0 0 0-12.768-70.56A81.12 81.12 0 0 0 727.2 416h-107.296c-7.136 0-13.984-2.88-19.04-7.84a26.336 26.336 0 0 1-7.872-18.88v-119.84c0-14.24-5.68-27.84-15.776-37.76z'"],387:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-721.696 88.16c5.04-4.96 7.872-11.68 7.872-18.88V274.72c0-7.2-2.832-13.92-7.872-18.88a27.248 27.248 0 0 0-19.024-7.84h-20.192c-12.48 0-24.464 4.96-33.296 13.6a46.64 46.64 0 0 0-13.792 33.12v266.56c0 12.48 4.96 24.32 13.792 33.12 8.832 8.64 20.816 13.6 33.296 13.6h20.192c7.136 0 13.968-2.88 19.024-7.84z m274.912 192.16c10.096-9.92 15.776-23.52 15.776-37.76v-119.84c0-7.2 2.832-13.92 7.872-18.88 5.056-4.96 11.904-7.84 19.04-7.84h107.296a81.12 81.12 0 0 0 64.72-32.16 79.36 79.36 0 0 0 12.768-70.56l-59.872-200a80.8 80.8 0 0 0-29.152-41.44 81.776 81.776 0 0 0-48.32-15.84H377.488c-3.536 0-7.04 0.64-10.304 2.08-3.264 1.28-6.24 3.2-8.736 5.76-2.512 2.4-4.496 5.44-5.84 8.64-1.36 3.2-2.064 6.72-2.064 10.24v306.56c0 7.2 2.832 13.92 7.888 18.88 5.04 4.96 11.888 7.84 19.024 7.84h13.504c11.584 0 22.848 3.84 32.048 10.72 9.184 7.04 15.792 16.8 18.784 28l29.552 109.76c3.984 14.72 12.784 27.84 25.04 37.12 12.256 9.28 27.28 14.4 42.736 14.4 14.288 0 27.984-5.6 38.096-15.68z'"],388:["d='M440 688a64 64 0 1 1 128 0 64 64 0 0 1-128 0z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM552 208c0-26.56-21.488-48-48-48s-48 21.44-48 48v310.624c-73.872 20.88-128 88.752-128 169.376 0 97.28 78.8 176 176 176s176-78.72 176-176c0-80.624-54.128-148.48-127.984-169.376L552 464H608a40 40 0 0 0 0-80h-56v-32h80a64 64 0 1 0 0-128h-80v-16z'"],389:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM512 789.84s320-154.56 320-358.88c0-91.04-76.128-164.8-170-164.8-63.312 0-118.56 33.6-147.872 83.36-0.944 1.6-3.376 1.6-4.32 0-29.248-49.76-84.496-83.36-147.808-83.36-93.872 0-170 73.76-170 164.8 0 204.96 320 358.88 320 358.88z'"],390:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM660.96 225.76c-43.84-0.8-86.72 12.48-122.4 37.76l143.84 143.84c12 12.16 19.84 27.68 22.24 44.32 1.44 8.32 1.28 16.64-0.48 24.8s-5.28 15.84-10.08 22.72c-5.92 8.16-13.76 15.04-22.56 20-8.96 5.12-18.72 8.16-28.96 9.12-10.24 0.8-20.48-0.32-30.08-3.68-9.76-3.36-18.56-8.64-25.92-15.68l-125.6-122.88c-25.44 24-92.096 88.96-200.08 196.64-3.312 3.04-5.92 6.88-7.68 11.04-1.76 4.32-2.64 8.8-2.56 13.28a35.232 35.232 0 0 0 10.24 25.12c3.04 3.52 6.816 6.4 11.088 8.32 4.288 1.76 8.928 2.72 13.6 2.56a36.224 36.224 0 0 0 24.768-10.88L473.92 471.2c1.6-1.76 3.52-3.2 5.76-4.16 2.08-1.12 4.48-1.6 6.88-1.6 2.4 0 4.64 0.48 6.88 1.6 2.08 0.96 4 2.4 5.6 4.16 2.08 1.28 3.68 3.2 4.8 5.28 1.28 2.08 1.76 4.48 1.76 7.04 0 2.4-0.48 4.8-1.76 6.88-1.12 2.08-2.72 4-4.8 5.28L336.8 656.32c-3.648 3.36-6.56 7.36-8.56 11.84-2 4.48-3.04 9.44-3.088 14.24-0.08 4.64 0.8 9.12 2.624 13.44 1.84 4.16 4.544 8 7.968 11.04 6.976 6.4 16.208 9.92 25.76 9.76 4.608 0.16 9.2-0.64 13.504-2.4 4.32-1.6 8.224-4.16 11.552-7.36l161.92-161.92c1.28-2.08 3.2-3.68 5.28-4.8 2.08-1.28 4.64-1.76 7.04-1.76 2.4 0 4.8 0.48 7.04 1.76 2.08 1.12 3.84 2.72 5.28 4.8 2.24 1.28 4 3.36 5.28 5.6 1.28 2.24 1.92 4.8 1.92 7.36 0 2.72-0.64 5.28-1.92 7.52-1.28 2.24-3.04 4.16-5.28 5.6L411.2 731.36c-3.2 3.2-5.76 7.04-7.52 11.36-1.76 4.32-2.56 8.8-2.4 13.44 0 6.88 1.92 13.6 5.76 19.36s9.28 10.08 15.68 12.8c6.56 2.56 13.6 3.36 20.32 1.92 6.88-1.44 13.12-4.8 17.92-9.6l161.92-160.32c1.28-2.08 3.2-3.68 5.28-4.8 2.24-1.12 4.64-1.76 7.04-1.76 2.4 0 4.8 0.64 7.04 1.76 2.08 1.12 4 2.72 5.28 4.8 2.08 1.28 3.68 3.2 4.8 5.28 1.28 2.08 1.76 4.48 1.76 6.88 0 2.4-0.48 4.8-1.76 7.04-1.12 2.08-2.72 3.84-4.8 5.28L485.6 804.96c-3.2 3.2-5.76 7.2-7.52 11.36-1.6 4.32-2.4 8.8-2.4 13.44 0 4.48 0.8 8.96 2.56 13.28 1.6 4.16 4.16 8 7.36 11.2 3.2 3.2 7.2 5.6 11.36 7.36 4.32 1.6 8.8 2.56 13.44 2.4 4.48 0.16 9.12-0.64 13.44-2.4 4.32-1.6 8.32-4.16 11.52-7.36l267.68-264.96c34.24-32.8 54.08-79.36 59.68-138.72 3.2-27.68 0.64-55.84-7.2-82.56-8-26.88-21.28-51.84-39.04-73.44a224 224 0 0 0-72-48.16c-25.92-12.8-54.56-19.84-83.52-20.64z m-200 109.6l150.24 149.12c6.56 6.24 15.2 9.76 24.32 9.76 4.64 0 9.28-0.8 13.6-2.4 4.32-1.6 8.32-4.16 11.68-7.36 3.36-3.36 5.92-7.2 7.52-11.36 1.76-4.32 2.56-8.96 2.4-13.44 0.16-4.48-0.64-9.12-2.4-13.28-1.6-4.16-4.16-8-7.52-11.2l-150.4-148.96a200 200 0 0 0-67.84-46.56c-25.6-10.72-53.28-16-81.088-15.68-28-0.16-55.76 5.12-81.584 15.84a205.552 205.552 0 0 0-68.672 46.4 218.272 218.272 0 0 0-50.448 159.52c3.888 61.76 20.816 107.2 50.448 136.8L460.96 335.36z'"],391:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM798.4 756.992c2.72-7.04 4.16-14.56 4.16-22.72v-116.48h-145.28c-14.88 0-26.4-3.04-34.24-8.96-7.84-5.92-13.6-12.64-16.96-19.84-4.32-8.48-6.56-18.4-7.04-29.44 0-16.16 5.6-29.92 16.96-40.96 11.36-11.04 25.12-16.64 41.28-16.64h145.28v-87.04c0-16.16-5.6-29.92-16.96-41.28-11.36-11.36-25.12-16.96-41.28-16.96H279.68c-16.16 0-29.92 5.6-41.28 16.96-11.36 11.36-16.96 25.12-16.96 41.28v319.36c0 8.16 1.6 15.68 4.8 22.72 3.2 7.04 7.52 13.28 13.12 18.56 5.6 5.28 12 9.44 19.2 12.48 7.2 3.04 14.88 4.48 23.04 4.48h464.64c8.16 0 15.52-1.44 22.4-4.48 6.88-3.04 12.8-7.2 17.92-12.48 5.12-5.28 9.12-11.52 11.84-18.56z m-373.44-429.76h290.56l-37.12-71.04c-6.88-7.68-14.88-13.92-24.32-18.56-8.16-3.36-18.08-5.44-29.76-6.08-11.68-0.64-25.12 3.04-40 11.2l-1.632 0.864c-9.648 5.056-22.848 11.968-39.328 20.896-14.176 7.68-28.544 15.232-43.04 22.88l-10.08 5.28c-20.48 11.04-42.24 22.56-65.28 34.56z m211.84 211.84c-5.6 5.6-8.32 12.32-8.32 20.48s2.72 15.04 8.32 20.8c5.6 5.76 12.32 8.64 20.48 8.64s14.88-2.88 20.48-8.64c5.6-5.76 8.32-12.64 8.32-20.8s-2.72-14.88-8.32-20.48-12.32-8.32-20.48-8.32-14.88 2.72-20.48 8.32z'"],392:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM384 786.96l-146.96-147.04-2.56 133.28a16 16 0 0 0 16.304 16.32l133.216-2.56z m322.352-316.64l-152.752-152.64-297.44 297.44 152.736 152.64 297.44-297.44z m74.88-112.16l-115.488-115.36s-18.64-18.72-37.28 0l-54.88 54.88 152.736 152.64 54.912-54.88c18.656-18.56 0-37.28 0-37.28z'"],393:["d='M740.56 556.32c5.36-0.96 10.928-0.48 15.984 1.6 5.056 2.08 9.376 5.6 12.416 10.24a27.552 27.552 0 0 1-3.44 34.88 27.68 27.68 0 0 1-34.944 3.52 27.552 27.552 0 0 1-10.192-12.48 27.52 27.52 0 0 1 6-30.08c3.872-4 8.8-6.56 14.176-7.68zM394.128 300.64h235.744c5.344 0 10.464 2.24 14.24 5.92 3.76 3.84 5.888 8.96 5.888 14.24v155.04h-276v-155.04c0-5.28 2.128-10.4 5.888-14.24 3.776-3.68 8.896-5.92 14.24-5.92z m233.392 105.6c-4.048-4.16-9.536-6.4-15.248-6.4H411.728c-5.712 0-11.2 2.24-15.248 6.4-4.032 4-6.304 9.44-6.304 15.2s2.272 11.2 6.304 15.2c4.048 4.16 9.536 6.4 15.248 6.4h200.544c5.712 0 11.2-2.24 15.248-6.4 4.032-4 6.304-9.44 6.304-15.2s-2.272-11.2-6.304-15.2z m0-68.32c-4.048-4-9.536-6.4-15.248-6.4H411.728c-5.712 0-11.2 2.4-15.248 6.4-4.032 4-6.304 9.44-6.304 15.2s2.272 11.2 6.304 15.36c4.048 4 9.536 6.24 15.248 6.24h200.544c5.712 0 11.2-2.24 15.248-6.24 4.032-4.16 6.304-9.6 6.304-15.36s-2.272-11.2-6.304-15.2z'","d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM674.56 276.16a63.328 63.328 0 0 0-44.688-18.56H394.128a63.328 63.328 0 0 0-63.248 63.2v155.04h-71.52c-27.072 0-49.232 23.84-49.232 52.96v184.64c0 29.12 22.16 52.96 49.232 52.96h66.928v-46.72c0-14.24 14.144-25.92 31.424-25.92h308.576c17.248 0 31.424 11.68 31.424 25.92v46.72h66.928c27.072 0 49.232-23.84 49.232-52.96V528.8c0-29.12-22.16-52.96-49.232-52.96h-71.52v-155.04a63.088 63.088 0 0 0-18.56-44.64z m-3.12 463.04v-31.68h-318.88v31.68h318.88z'"],394:['d="M617.865846 672.626215c19.188185 26.860308 42.755938 40.282585 70.734769 40.282585 27.978831 0 51.452062-13.548308 70.419693-40.613415 19.172431-27.080862 28.750769-81.226831 28.750769-162.469416 0-81.683692-9.578338-135.955692-28.766523-162.800246-18.951877-26.844554-42.645662-40.266831-71.081354-40.266831-27.978831 0-50.317785 11.846892-67.001108 35.524923-20.999877 30.247385-31.476185 86.094769-31.476184 167.542154s9.468062 135.719385 28.419938 162.800246z"','d="M519.041969 1012.168862c278.417723 0 504.123077-225.705354 504.123077-504.123077 0-278.417723-225.705354-504.123077-504.123077-504.123077-278.417723 0-504.123077 225.705354-504.123077 504.123077 0 278.417723 225.705354 504.123077 504.123077 504.123077z m-209.526154-257.622647V366.308431c-14.651077 13.989415-33.949538 27.978831-57.863877 41.968246-23.693785 13.989415-45.008738 24.481477-63.960615 31.476185v-58.887877c34.059815-16.021662 63.850338-35.4304 89.340062-58.226216 25.505477-22.780062 43.559385-44.898462 54.161723-66.323692h39.258584v498.199631h-60.920123zM544.768 368.340677c12.177723-35.871508 30.121354-63.519508 53.815138-82.928246 23.914338-19.408738 53.925415-29.113108 90.017477-29.113108 26.624 0 49.986954 5.419323 70.073108 16.257969 20.0704 10.602338 36.6592 26.056862 49.750646 46.36357 13.075692 20.086154 23.3472 44.677908 30.798769 73.791015 7.451569 28.8768 11.169477 67.899077 11.169477 117.098338 0 58.226215-5.986462 105.2672-17.94363 141.154462-11.957169 35.6352-29.9008 63.2832-53.815139 82.912492-23.693785 19.408738-53.704862 29.113108-90.033231 29.113108-47.828677 0-85.385846-17.155938-112.703015-51.452062-32.720738-41.290831-49.073231-108.544-49.073231-201.728 0-58.667323 5.986462-105.818585 17.943631-141.469538z"'],395:'d="M519.041969 1012.168862c278.417723 0 504.123077-225.705354 504.123077-504.123077 0-278.417723-225.705354-504.123077-504.123077-504.123077-278.417723 0-504.123077 225.705354-504.123077 504.123077 0 278.417723 225.705354 504.123077 504.123077 504.123077zM337.526154 763.006031V374.784c-14.666831 13.989415-33.965292 27.978831-57.879631 41.968246-23.693785 13.989415-45.008738 24.481477-63.960615 31.476185v-58.887877c34.059815-16.021662 63.850338-35.4304 89.340061-58.210462 25.505477-22.795815 43.559385-44.898462 54.161723-66.339446h39.258585v498.215385h-60.920123z m334.391138 0V374.784c-14.651077 13.989415-33.949538 27.978831-57.87963 41.968246-23.678031 13.989415-45.008738 24.481477-63.960616 31.476185v-58.887877c34.075569-16.021662 63.850338-35.4304 89.355816-58.210462 25.489723-22.795815 43.543631-44.898462 54.145969-66.339446h39.274338v498.215385H671.901538z"',396:["d='M519.041969 1012.168862c278.417723 0 504.123077-225.705354 504.123077-504.123077 0-278.417723-225.705354-504.123077-504.123077-504.123077-278.433477 0-504.123077 225.705354-504.123077 504.123077 0 278.417723 225.6896 504.123077 504.123077 504.123077zM280.733538 754.199631V365.9776c-14.651077 13.989415-33.949538 27.978831-57.87963 41.968246-23.693785 14.005169-45.008738 24.497231-63.960616 31.491939v-58.903631c34.059815-16.021662 63.850338-35.414646 89.355816-58.210462 25.489723-22.795815 43.543631-44.898462 54.145969-66.339446h39.258585v498.215385H280.733538z m537.47397 0H490.259692a107.756308 107.756308 0 0 1 7.104985-42.314831c8.349538-22.338954 21.661538-44.331323 39.936-65.992862 18.510769-21.661538 45.134769-46.710154 79.872-75.145846 53.941169-44.221046 90.379815-79.194585 109.331692-104.920615 18.951877-25.946585 28.435692-50.412308 28.435693-73.444431 0-24.134892-8.696123-44.4416-26.072616-60.920123-17.140185-16.699077-39.589415-25.048615-67.347692-25.048615-29.333662 0-52.806892 8.8064-70.403939 26.403446-17.597046 17.597046-26.513723 41.968246-26.734277 73.097846l-62.621538-6.427569c4.285046-46.6944 20.432738-82.235077 48.411569-106.606277 27.978831-24.591754 65.536-36.895508 112.703016-36.895508 47.608123 0 85.291323 13.201723 113.0496 39.605169 27.742523 26.387692 41.621662 59.108431 41.621661 98.146462 0 19.849846-4.064492 39.384615-12.177723 58.557046-8.128985 19.172431-21.661538 39.384615-40.613415 60.589292-18.747077 21.204677-49.986954 50.317785-93.751139 87.32357-36.548923 30.688492-60.022154 51.546585-70.419692 62.605784a194.875077 194.875077 0 0 0-25.710277 32.831016h243.349662v58.557046z'"],397:["d='M519.041969 1012.168862c278.417723 0 504.123077-225.705354 504.123077-504.123077 0-278.417723-225.705354-504.123077-504.123077-504.123077-278.433477 0-504.123077 225.705354-504.123077 504.123077 0 278.417723 225.6896 504.123077 504.123077 504.123077zM308.665108 754.199631V365.9776c-14.666831 13.989415-33.965292 27.978831-57.879631 41.968246-23.693785 14.005169-45.008738 24.497231-63.960615 31.491939v-58.903631c34.059815-16.021662 63.850338-35.414646 89.355815-58.210462 25.489723-22.795815 43.543631-44.898462 54.145969-66.339446h39.258585v498.215385h-60.920123z m278.559507-139.106462c6.994708 34.516677 18.8416 59.455015 35.524923 74.799262 16.935385 15.123692 37.462646 22.685538 61.597539 22.685538 28.672 0 52.806892-9.924923 72.436185-29.790523 19.849846-19.849846 29.774769-44.457354 29.774769-73.791015 0-27.978831-9.137231-50.9952-27.411693-69.049108-18.274462-18.274462-41.511385-27.411692-69.710769-27.411692-11.500308 0-25.836308 2.2528-42.992246 6.774154l6.774154-53.484308c4.064492 0.456862 7.341292 0.677415 9.814646 0.677415 25.946585 0 49.309538-6.774154 70.057354-20.306707 20.763569-13.548308 31.145354-34.4064 31.145354-62.605785 0-22.338954-7.561846-40.849723-22.685539-55.516554-15.123692-14.651077-34.626954-21.992369-58.541292-21.992369-23.693785 0-43.449108 7.435815-59.234462 22.338954-15.801108 14.887385-25.946585 37.226338-30.467938 67.016861l-60.920123-10.838646c7.451569-40.833969 24.3712-72.436185 50.774646-94.759384 26.403446-22.575262 59.234462-33.855015 98.493046-33.855016 27.065108 0 52.003446 5.860431 74.799262 17.597046 22.780062 11.500308 40.172308 27.301415 52.113723 47.38757 12.193477 20.086154 18.274462 41.401108 18.274461 63.960615 0 21.440985-5.750154 40.96-17.250461 58.557046-11.500308 17.6128-28.545969 31.602215-51.105477 41.968246 29.333662 6.774154 52.113723 20.873846 68.371692 42.314831 16.226462 21.204677 24.355446 47.828677 24.355446 79.872 0 43.323077-15.785354 80.108308-47.371815 110.339938-31.602215 30.011077-71.522462 45.024492-119.823754 45.024493-43.543631 0-79.761723-12.981169-108.638523-38.927754-28.672-25.946585-45.024492-59.565292-49.088985-100.856123l60.935877-8.128985z'"],398:["d='M706.528492 355.832123l-155.348677 223.720369h155.332923V355.832123z'","d='M519.041969 1012.168862c-278.433477 0-504.123077-225.705354-504.123077-504.123077 0-278.417723 225.6896-504.123077 504.123077-504.123077 278.417723 0 504.123077 225.705354 504.123077 504.123077 0 278.417723-225.705354 504.123077-504.123077 504.123077zM293.919508 754.199631h60.935877V255.984246h-39.274339c-10.602338 21.425231-28.656246 43.543631-54.145969 66.339446-25.505477 22.795815-55.296 42.1888-89.355815 58.210462v58.903631c18.951877-6.994708 40.282585-17.486769 63.960615-31.476185 23.930092-14.005169 43.2128-27.994585 57.879631-41.984v388.222031z m412.59323-118.799754v118.799754h60.920124v-118.799754h67.016861v-55.847385h-67.016861v-321.536h-49.750647l-226.43003 321.536v55.847385h215.260553z'"],399:["d='M519.041969 1012.168862c278.417723 0 504.123077-225.705354 504.123077-504.123077 0-278.417723-225.705354-504.123077-504.123077-504.123077-278.433477 0-504.123077 225.705354-504.123077 504.123077 0 278.417723 225.6896 504.123077 504.123077 504.123077zM294.281846 754.199631V365.9776c-14.666831 13.989415-33.965292 27.978831-57.879631 41.968246-23.693785 14.005169-45.008738 24.497231-63.960615 31.491939v-58.903631c34.059815-16.021662 63.850338-35.414646 89.340062-58.210462 25.505477-22.795815 43.559385-44.898462 54.161723-66.339446h39.258584v498.215385h-60.920123z m281.253416-135.388554c4.741908 31.145354 15.690831 54.602831 32.831015 70.403938 17.376492 15.5648 38.250338 23.3472 62.621538 23.3472 29.333662 0 54.161723-11.043446 74.468431-33.161846 20.306708-22.1184 30.452185-51.452062 30.452185-88.000984 0-34.752985-9.814646-62.164677-29.443939-82.235077-19.408738-20.086154-44.898462-30.137108-76.484923-30.137108-19.645046 0-37.336615 4.521354-53.137723 13.548308-15.801108 8.790646-28.199385 20.306708-37.242092 34.516677l-57.186462-7.45157 48.049231-254.849969h246.736739v58.210462H619.220677l-26.734277 133.356307c29.774769-20.763569 61.0304-31.145354 93.735385-31.145353 43.323077 0 79.887754 15.013415 109.678277 45.024492 29.774769 30.011077 44.677908 68.592246 44.677907 115.743508 0 44.898462-13.091446 83.715938-39.258584 116.420923-31.822769 40.172308-75.256123 60.258462-130.315816 60.258461-45.134769 0-82.014523-12.634585-110.670769-37.903754-28.435692-25.269169-44.677908-58.7776-48.7424-100.525292l63.960615-5.419323z'"],400:["d='M592.139815 653.674338a142.840123 142.840123 0 0 1-13.201723-60.242707c0-32.043323 9.594092-57.879631 28.766523-77.508923 19.188185-19.849846 42.535385-29.774769 70.073108-29.77477 27.742523 0 50.758892 9.924923 69.049108 29.77477 18.274462 19.629292 27.411692 46.599877 27.411692 80.896 0 35.650954-9.247508 63.850338-27.758277 84.598154-18.495015 20.779323-40.613415 31.145354-66.323692 31.145353-17.6128 0-34.422154-4.962462-50.443816-14.887384-16.021662-10.145477-28.545969-24.812308-37.572923-44.000493z'","d='M519.041969 1012.168862c-278.433477 0-504.123077-225.705354-504.123077-504.123077 0-278.417723 225.6896-504.123077 504.123077-504.123077 278.417723 0 504.123077 225.705354 504.123077 504.123077 0 278.417723-225.705354 504.123077-504.123077 504.123077zM294.281846 754.199631h60.920123V255.984246h-39.258584c-10.602338 21.425231-28.672 43.543631-54.161723 66.339446-25.489723 22.795815-55.280246 42.1888-89.340062 58.210462v58.903631c18.951877-6.994708 40.266831-17.486769 63.960615-31.476185 23.914338-14.005169 43.2128-27.994585 57.879631-41.984v388.222031z m472.835939-369.931816l60.573538-4.741907c-4.962462-38.596923-19.960123-68.828554-45.008738-90.710646-24.828062-21.897846-56.745354-32.831015-95.783385-32.831016-52.350031 0-93.987446 18.951877-124.896492 56.871385-35.4304 43.543631-53.137723 113.270154-53.137723 209.163815 0 85.732431 16.021662 147.345723 48.04923 184.792616 32.059077 37.242092 73.460185 55.847385 124.234831 55.847384 29.774769 0 56.398769-7.104985 79.872-21.314954 23.473231-14.225723 41.857969-34.642708 55.169969-61.282461 13.548308-26.8288 20.306708-55.831631 20.306708-86.961231 0-47.387569-14.336-85.984492-42.992246-115.759262-28.419938-30.011077-62.952369-45.024492-103.565785-45.024492a144.730585 144.730585 0 0 0-66.670277 16.257969c-21.220431 10.822892-39.148308 27.411692-53.815138 49.750647 0.441108-49.640369 6.207015-87.890708 17.250461-114.735262 11.0592-26.860308 26.182892-47.277292 45.371077-61.266708 14.651077-10.838646 31.696738-16.242215 51.105477-16.242215 24.134892 0 44.4416 8.680369 60.920123 26.056861 9.924923 10.838646 17.597046 28.199385 23.000616 52.129477z'"],401:["d='M458.472727 2.265212a124.89697 124.89697 0 0 0-124.896969 124.89697V458.472727l-0.062061 3.940849-0.170667 4.15806a120.397576 120.397576 0 0 1-43.132121 84.805819l-1.380848 1.08606-1.349819-0.636121a75.636364 75.636364 0 0 0-43.302787-5.895758L74.705455 572.772848l-5.306182 1.163637-1.815273 0.527515A76.024242 76.024242 0 0 0 12.412121 647.555879v291.483151l0.341334 5.616485 0.248242 1.923879A76.024242 76.024242 0 0 0 88.436364 1013.139394h169.487515l5.616485-0.341333 1.923878-0.248243 3.413334-0.512a75.884606 75.884606 0 0 0 40.882424-21.162666l2.001455-2.125576 133.244121-44.063031 4.964848-1.706666c80.384-29.323636 133.399273-105.006545 133.399273-189.781334V127.162182l-0.093091-4.654546C579.956364 54.613333 525.141333 2.265212 458.472727 2.265212z m0 62.060606a62.836364 62.836364 0 0 1 62.758788 59.702303l0.077576 3.134061v626.036363A139.636364 139.636364 0 0 1 429.568 884.363636l-4.049455 1.411879L269.963636 937.223758l-0.108606 1.644606a13.963636 13.963636 0 0 1-12.101818 12.101818l-1.753212 0.108606H88.436364a13.963636 13.963636 0 0 1-13.855031-12.210424L74.472727 937.115152V647.555879a13.963636 13.963636 0 0 1 10.115879-13.420606l1.660121-0.372364 167.563637-26.515394a13.963636 13.963636 0 0 1 16.058181 12.101818l0.093091 1.691152v11.357091a183.202909 183.202909 0 0 0 125.610667-169.192728l0.062061-4.732121V127.162182a62.836364 62.836364 0 0 1 62.836363-62.836364z'","d='M584.145455 2.265212a124.89697 124.89697 0 0 0-124.89697 124.89697v626.036363l0.06206 4.918303a201.69697 201.69697 0 0 0 138.302061 186.585213l133.228606 44.047515 1.861818 1.954909A75.869091 75.869091 0 0 0 786.618182 1013.139394h167.563636a76.024242 76.024242 0 0 0 76.024243-76.024242V647.555879a76.024242 76.024242 0 0 0-64.155152-75.093334l-167.548121-26.515393-3.134061-0.41891a75.589818 75.589818 0 0 0-37.313939 5.042425l-4.266667 1.892848-1.163636-0.930909A121.126788 121.126788 0 0 1 709.042424 458.472727V127.162182a124.89697 124.89697 0 0 0-124.896969-124.89697z m0 62.060606a62.836364 62.836364 0 0 1 62.836363 62.836364V458.472727c0 79.003152 50.65697 149.116121 125.672727 173.924849v-11.357091a13.963636 13.963636 0 0 1 16.151273-13.79297l167.563637 26.515394a13.963636 13.963636 0 0 1 11.776 13.79297V937.115152a13.963636 13.963636 0 0 1-13.963637 13.963636H786.618182a13.963636 13.963636 0 0 1-13.85503-12.210424l-0.108607-1.644606-155.554909-51.448243a139.636364 139.636364 0 0 1-95.790545-132.57697V127.162182a62.836364 62.836364 0 0 1 62.836364-62.836364z'","d='M521.309091 127.162182a62.836364 62.836364 0 0 1 125.672727 0V458.472727c0 79.003152 50.65697 149.116121 125.672727 173.924849v304.826182l-155.554909-51.448243a139.636364 139.636364 0 0 1-95.790545-132.57697V127.162182z'","d='M584.145455 195.956364c-30.844121 0-55.854545 24.824242-55.854546 55.420121v228.615757a6.950788 6.950788 0 0 1-6.981818 6.935273c-3.863273 0-6.981818-3.10303-6.981818-6.935273V251.376485c0-38.260364 31.26303-69.275152 69.818182-69.275152s69.818182 31.014788 69.818181 69.275152v228.615757a6.950788 6.950788 0 0 1-6.981818 6.935273c-3.863273 0-6.981818-3.10303-6.981818-6.935273V251.376485c0-30.595879-25.010424-55.420121-55.854545-55.420121z'","d='M521.309091 127.162182a62.836364 62.836364 0 0 0-125.672727 0V458.472727c0 79.003152-50.65697 149.116121-125.672728 173.924849v304.826182l155.554909-51.448243a139.636364 139.636364 0 0 0 95.790546-132.57697V127.162182z'","d='M514.327273 126.681212c0-38.260364 31.26303-69.275152 69.818182-69.275151s69.818182 31.014788 69.818181 69.275151v332.706909c0 75.527758 48.702061 142.568727 120.894061 166.446546l-2.203152 6.562909h6.981819v314.43006l-165.050182-54.582303c-59.87297-19.797333-100.258909-75.403636-100.258909-138.022788V126.681212z m251.345454 510.650182c-75.264-27.10497-125.672727-98.133333-125.672727-177.943273V126.681212c0-30.611394-25.010424-55.420121-55.854545-55.420121s-55.854545 24.808727-55.854546 55.420121v627.541333c0 56.661333 36.538182 106.961455 90.701576 124.881455l146.680242 48.500364V637.331394z'","d='M772.654545 937.115152V621.040485a13.963636 13.963636 0 0 1 16.151273-13.79297l167.563637 26.515394a13.963636 13.963636 0 0 1 11.776 13.79297V937.115152a13.963636 13.963636 0 0 1-13.963637 13.963636H786.618182a13.963636 13.963636 0 0 1-13.963637-13.963636z'","d='M528.290909 126.681212c0-38.260364-31.26303-69.275152-69.818182-69.275151s-69.818182 31.014788-69.818182 69.275151v332.706909c0 75.527758-48.702061 142.568727-120.89406 166.446546l2.203151 6.562909h-6.981818v314.43006l165.050182-54.582303c59.87297-19.797333 100.258909-75.403636 100.258909-138.022788V126.681212z m-251.345454 510.650182c75.264-27.10497 125.672727-98.133333 125.672727-177.943273V126.681212c0-30.611394 25.010424-55.420121 55.854545-55.420121s55.854545 24.808727 55.854546 55.420121v627.541333c0 56.661333-36.538182 106.961455-90.701576 124.881455l-146.680242 48.500364V637.331394z'","d='M458.472727 195.956364c30.844121 0 55.854545 24.824242 55.854546 55.420121v228.615757c0 3.832242 3.118545 6.935273 6.981818 6.935273s6.981818-3.10303 6.981818-6.935273V251.376485c0-38.260364-31.26303-69.275152-69.818182-69.275152s-69.818182 31.014788-69.818182 69.275152v228.615757c0 3.832242 3.118545 6.935273 6.981819 6.935273s6.981818-3.10303 6.981818-6.935273V251.376485c0-30.595879 25.010424-55.420121 55.854545-55.420121z'","d='M269.963636 937.115152V621.040485a13.963636 13.963636 0 0 0-16.151272-13.79297l-167.563637 26.515394a13.963636 13.963636 0 0 0-11.776 13.79297V937.115152a13.963636 13.963636 0 0 0 13.963637 13.963636h167.563636a13.963636 13.963636 0 0 0 13.963636-13.963636z'"],402:["d='M379.733333 139.377778L369.777778 170.666667a41.244444 41.244444 0 0 1-2.844445 12.8l-4.266666 11.377777a41.244444 41.244444 0 0 0-2.844445 12.8l-4.266666 9.955556a281.6 281.6 0 0 1-44.088889 88.177778l-2.844445 4.266666-17.066666 17.066667-4.266667 4.266667h-1.422222a83.911111 83.911111 0 0 0-32.711111-7.111111H118.044444A83.911111 83.911111 0 0 0 42.666667 406.755556v492.088888a83.911111 83.911111 0 0 0 82.488889 75.377778h137.955555a83.911111 83.911111 0 0 0 38.4-15.644444h2.844445a900.266667 900.266667 0 0 0 174.933333 17.066666h318.577778a122.311111 122.311111 0 0 0 120.888889-122.311111v-4.266666a122.311111 122.311111 0 0 0-7.111112-38.4h1.422223a123.733333 123.733333 0 0 0 34.133333-85.333334v-4.266666a115.2 115.2 0 0 0-7.111111-38.4H938.666667l2.844444-2.844445a122.311111 122.311111 0 0 0 34.133333-85.333333v-2.844445a128 128 0 0 0-34.133333-82.488888H938.666667v-2.844445a132.266667 132.266667 0 0 0 7.111111-41.244444V455.111111a120.888889 120.888889 0 0 0-120.888889-118.044444H620.088889l12.8-130.844445v-2.844444a132.266667 132.266667 0 0 0-71.111111-147.911111 130.844444 130.844444 0 0 0-182.044445 83.911111z m157.866667-32.711111a78.222222 78.222222 0 0 1 39.822222 89.6l-15.644444 152.177777a35.555556 35.555556 0 0 0 32.711111 45.511112h231.822222a64 64 0 0 1 64 65.422222 65.422222 65.422222 0 0 1-64 65.422222h28.444445a65.422222 65.422222 0 0 1 64 65.422222 64 64 0 0 1-64 65.422222h-28.444445a66.844444 66.844444 0 0 1 0 132.266667h-28.444444a64 64 0 0 1 64 65.422222 65.422222 65.422222 0 0 1-64 65.422223H479.288889a860.444444 860.444444 0 0 1-200.533333-24.177778 25.6 25.6 0 0 1-22.755556 24.177778H125.155556A25.6 25.6 0 0 1 99.555556 896V406.755556a25.6 25.6 0 0 1 24.177777-25.6h129.422223a25.6 25.6 0 0 1 25.6 25.6 251.733333 251.733333 0 0 0 78.222222-66.844445 393.955556 393.955556 0 0 0 61.155555-132.266667l4.266667-14.222222 11.377778-38.4a75.377778 75.377778 0 0 1 103.822222-48.355555z'","d='M425.244444 186.311111l8.533334-31.288889a75.377778 75.377778 0 0 1 103.822222-48.355555 78.222222 78.222222 0 0 1 39.822222 89.6l-15.644444 152.177777a35.555556 35.555556 0 0 0 32.711111 45.511112h231.822222a64 64 0 0 1 64 65.422222 65.422222 65.422222 0 0 1-64 65.422222h28.444445a65.422222 65.422222 0 0 1 64 65.422222 64 64 0 0 1-64 65.422222h-28.444445a66.844444 66.844444 0 0 1 0 132.266667h-28.444444a64 64 0 0 1 64 65.422222 65.422222 65.422222 0 0 1-64 65.422223H479.288889a861.866667 861.866667 0 0 1-217.6-28.444445L99.555556 846.222222V466.488889l44.088888-9.955556c81.066667-19.911111 163.555556-49.777778 213.333334-116.622222 29.866667-39.822222 48.355556-85.333333 68.266666-153.6z'","d='M841.955556 524.8a12.8 12.8 0 0 1-12.8 12.8h-76.8a12.8 12.8 0 0 1 0-25.6h76.8a12.8 12.8 0 0 1 12.8 12.8z'","d='M797.866667 787.911111v12.8a52.622222 52.622222 0 0 1 0 105.244445H479.288889a840.533333 840.533333 0 0 1-214.755556-28.444445L112.355556 836.266667V476.444444l34.133333-7.111111c81.066667-19.911111 167.822222-51.2 220.444444-122.311111 32.711111-41.244444 51.2-88.177778 71.111111-157.866666l8.533334-31.288889a62.577778 62.577778 0 0 1 85.333333-39.822223 65.422222 65.422222 0 0 1 32.711111 75.377778l-15.644444 152.177778a48.355556 48.355556 0 0 0 45.511111 61.155556h231.822222a52.622222 52.622222 0 0 1 0 105.244444v12.8a65.422222 65.422222 0 0 0 64-65.422222 64 64 0 0 0-64-65.422222H594.488889a35.555556 35.555556 0 0 1-32.711111-45.511112l15.644444-152.177777a78.222222 78.222222 0 0 0-39.822222-89.6 75.377778 75.377778 0 0 0-103.822222 48.355555l-8.533334 31.288889c-19.911111 68.266667-38.4 113.777778-68.266666 153.6-49.777778 66.844444-132.266667 96.711111-213.333334 116.622222l-44.088888 9.955556v379.733333l162.133333 44.088889a861.866667 861.866667 0 0 0 217.6 28.444445h318.577778a65.422222 65.422222 0 0 0 64-65.422223 64 64 0 0 0-64-65.422222z m28.444444-132.266667v-12.8h28.444445a52.622222 52.622222 0 0 0 0-105.244444h-28.444445v-12.8h28.444445a65.422222 65.422222 0 0 1 64 65.422222 64 64 0 0 1-64 65.422222z m0 0v12.8a54.044444 54.044444 0 0 1 0 106.666667h-28.444444v12.8h28.444444a66.844444 66.844444 0 0 0 0-132.266667z'","d='M721.066667 657.066667a11.377778 11.377778 0 0 1 11.377777-12.8h89.6a14.222222 14.222222 0 0 1 14.222223 12.8 15.644444 15.644444 0 0 1-14.222223 12.8h-89.6a12.8 12.8 0 0 1-11.377777-12.8z m0 130.844444a11.377778 11.377778 0 0 1 11.377777-12.8h65.422223a12.8 12.8 0 0 1 0 25.6h-65.422223a11.377778 11.377778 0 0 1-11.377777-12.8z'","d='M99.555556 381.155556m25.6 0l128 0q25.6 0 25.6 25.6l0 486.4q0 25.6-25.6 25.6l-128 0q-25.6 0-25.6-25.6l0-486.4q0-25.6 25.6-25.6Z'"],403:["d='M577.948444 201.571556l-63.203555-110.350223c-31.800889-55.509333-107.847111-65.28-152.661333-19.640889L219.591111 216.704l-133.546667 340.039111a428.615111 428.615111 0 0 0-26.510222 104.547556l-15.687111 127.815111a156.586667 156.586667 0 0 0 147.854222 175.473778l184.462223 8.945777c162.190222 7.850667 324.693333-6.058667 483.157333-41.358222 81.820444-18.232889 132.408889-100.48 111.729778-181.703111l-27.306667-107.221333a156.074667 156.074667 0 0 0-140.885333-117.191111l-6.314667-0.369778a368.440889 368.440889 0 0 0-280.462222 109.326222l-3.128889 3.2-6.115556-1.592889a307.896889 307.896889 0 0 0-108.316444-7.253333l-5.489778 0.64 1.664-4.920889a377.813333 377.813333 0 0 0 18.133333-130.702222l-4.807111-126.691556a107.221333 107.221333 0 0 0 54.058667-37.688889l1.763556-2.417778 2.901333 0.526223a95.957333 95.957333 0 0 0 71.950222-17.123556l18.801778-13.696a73.258667 73.258667 0 0 0 20.465778-95.715555z m-112.583111-82.062223l63.217778 110.364445a16.398222 16.398222 0 0 1-4.593778 21.418666l-18.773333 13.681778a39.182222 39.182222 0 0 1-48.824889-2.161778l-2.730667-2.389333a15.644444 15.644444 0 0 0-25.244444 7.253333l-3.683556 12.188445a50.119111 50.119111 0 0 1-54.414222 35.2l-2.702222-0.426667a15.189333 15.189333 0 0 0-17.948444 15.502222l6.286222 166.371556a320.967111 320.967111 0 0 1-56.945778 194.929778l10.865778 7.537778 4.593778 12.373333 30.663111-11.349333a251.093333 251.093333 0 0 1 164.124444-3.555556l21.859556 7.011556 11.022222-12.842667a311.537778 311.537778 0 0 1 256.924444-107.804445 99.185778 99.185778 0 0 1 89.543111 74.467556l27.306667 107.207111a91.733333 91.733333 0 0 1-68.977778 112.142222 1760.625778 1760.625778 0 0 1-468.039111 40.064l-184.448-8.945777a99.697778 99.697778 0 0 1-94.151111-111.715556l15.687111-127.815111a371.740444 371.740444 0 0 1 22.983111-90.680889l129.308445-329.244444 134.4-136.860445a39.651556 39.651556 0 0 1 62.691555 8.064z'","d='M309.873778 698.965333l4.593778 12.387556 30.663111-11.349333a251.093333 251.093333 0 0 1 164.124444-3.555556l21.859556 7.011556 11.022222-12.842667a311.537778 311.537778 0 0 1 256.924444-107.804445 99.185778 99.185778 0 0 1 89.543111 74.467556l27.306667 107.207111a91.733333 91.733333 0 0 1-68.977778 112.142222 1760.625778 1760.625778 0 0 1-468.039111 40.064l-184.448-8.945777a99.697778 99.697778 0 0 1-94.151111-111.715556l15.687111-127.815111a371.740444 371.740444 0 0 1 22.983111-90.680889l129.308445-329.244444 134.4-136.860445a39.651556 39.651556 0 0 1 62.691555 8.064l63.217778 110.364445a16.398222 16.398222 0 0 1-4.593778 21.432888l-18.773333 13.681778a39.182222 39.182222 0 0 1-48.824889-2.161778l-2.730667-2.389333a15.644444 15.644444 0 0 0-25.244444 7.253333l-3.683556 12.188445a50.119111 50.119111 0 0 1-57.116444 34.773333 15.189333 15.189333 0 0 0-17.948444 15.502222l6.286222 166.371556a320.967111 320.967111 0 0 1-56.945778 194.929778l10.851556 7.537778h0.014222z'","d='M263.210667 243.313778l-1.550223 2.389333-129.308444 329.244445a378.851556 378.851556 0 0 0-23.424 92.401777L93.240889 795.164444a106.808889 106.808889 0 0 0 100.864 119.694223l184.462222 8.945777a1767.736889 1767.736889 0 0 0 469.916445-40.234666 98.844444 98.844444 0 0 0 74.311111-120.832l-27.292445-107.207111a106.296889 106.296889 0 0 0-95.957333-79.815111l-6.001778-0.341334a318.648889 318.648889 0 0 0-256.796444 110.606222l-7.950223 9.244445-17.351111-5.546667-6.144-1.905778a258.204444 258.204444 0 0 0-162.631111 5.560889l-24.007111 8.874667-4.067555-10.993778-2.929778 0.355556-2.830222-1.962667 3.84-5.930667a328.078222 328.078222 0 0 0 50.389333-187.434666l-6.286222-166.371556a8.078222 8.078222 0 0 1 9.543111-8.248889 57.230222 57.230222 0 0 0 65.223111-39.694222l3.697778-12.188444a8.533333 8.533333 0 0 1 13.752889-3.953778l2.716444 2.389333a46.293333 46.293333 0 0 0 57.685333 2.56l18.773334-13.696a23.509333 23.509333 0 0 0 6.584889-30.72l-63.217778-110.364444a46.762667 46.762667 0 0 0-73.927111-9.500445l-134.4 136.860445z m195.982222-120.277334l63.232 110.364445a9.287111 9.287111 0 0 1-2.602667 12.145778l-18.801778 13.681777a32.071111 32.071111 0 0 1-39.950222-1.763555l-2.716444-2.389333a22.755556 22.755556 0 0 0-36.736 10.552888l-3.697778 12.188445a43.008 43.008 0 0 1-46.421333 30.236444l-2.588445-0.398222a22.300444 22.300444 0 0 0-26.339555 22.755556l6.286222 166.371555a313.856 313.856 0 0 1-55.68 190.606222l-4.053333 5.845334 14.862222 10.296889 6.286222 16.967111 37.333333-13.824a243.982222 243.982222 0 0 1 159.473778-3.470222l26.368 8.476444 14.08-16.426667a304.426667 304.426667 0 0 1 251.064889-105.344 92.074667 92.074667 0 0 1 83.128889 69.12l27.292444 107.221334a84.622222 84.622222 0 0 1-63.616 103.438222 1753.514667 1753.514667 0 0 1-466.147555 39.907555l-184.462222-8.96a92.586667 92.586667 0 0 1-87.438223-103.751111l15.701334-127.800889 1.237333-9.116444a364.657778 364.657778 0 0 1 21.304889-79.829333l128.753778-327.879111 133.404444-135.836445a32.540444 32.540444 0 0 1 51.456 6.613333z'","d='M463.843556 194.360889a6.627556 6.627556 0 0 1 9.244444 1.422222l15.872 21.546667a6.599111 6.599111 0 1 1-10.638222 7.822222l-15.872-21.546667a6.627556 6.627556 0 0 1 1.393778-9.244444z m-13.653334 5.361778a6.599111 6.599111 0 0 1 5.603556 7.466666l-6.613334 45.980445a6.613333 6.613333 0 0 1-13.084444-1.877334l6.613333-45.980444a6.599111 6.599111 0 0 1 7.480889-5.589333z'","d='M304.881778 689.194667a7.111111 7.111111 0 0 1 10.723555 9.329777c-36.352 41.827556-66.176 66.631111-90.126222 74.439112a7.111111 7.111111 0 1 1-4.408889-13.525334c20.849778-6.798222 49.009778-30.222222 83.811556-70.257778zM775.608889 632.462222a7.111111 7.111111 0 1 1 0 14.222222c-101.105778 0-171.989333 36.081778-213.703111 108.359112a7.111111 7.111111 0 0 1-12.316445-7.111112c44.401778-76.942222 120.092444-115.484444 226.019556-115.484444z'"],404:["d='M253.155556 42.666667h-128A82.488889 82.488889 0 0 0 42.666667 125.155556V611.555556a82.488889 82.488889 0 0 0 82.488889 82.488888h128l3.157333-0.056888a82.119111 82.119111 0 0 0 29.610667-6.712889l1.365333-0.625778 0.142222 0.142222c9.187556 8.007111 17.265778 16.64 24.277333 25.927111 18.176 24.078222 31.715556 51.2 45.667556 92.871111l3.655111 11.221334 3.697778 11.918222 3.754667 12.657778 11.064888 38.357333 1.166223 3.84c25.073778 76.615111 109.824 113.706667 181.319111 78.976l3.555555-1.792c52.807111-27.619556 80.398222-87.665778 68.010667-145.976889l-0.554667-2.417778-13.326222-130.659555H826.311111l4.366222-0.085334c66.062222-3.128889 116.522667-57.230222 116.522667-122.453333l-0.056889-3.669333a123.733333 123.733333 0 0 0-7.196444-38.243556l-0.725334-1.92 0.583111-0.554666a122.624 122.624 0 0 0 35.84-86.940445l-0.056888-3.669333a123.107556 123.107556 0 0 0-34.019556-81.635556l-2.304-2.346666 0.853333-2.261334a123.562667 123.562667 0 0 0 7.082667-41.400889l-0.056889-3.669333a123.121778 123.121778 0 0 0-34.019555-81.649778l-2.304-2.346666 0.853333-2.247112a123.52 123.52 0 0 0 7.082667-41.400888C918.755556 97.834667 865.024 42.666667 797.866667 42.666667H479.004444l-13.084444 0.099555-13.596444 0.312889a890.168889 890.168889 0 0 0-134.528 14.336l-13.937778 2.688-1.664-1.28A82.161778 82.161778 0 0 0 253.155556 42.666667z m0 56.888889a25.6 25.6 0 0 1 25.571555 24.490666 830.876444 830.876444 0 0 1 187.633778-24.391111L479.004444 99.555556H797.866667c35.413333 0 64 29.397333 64 65.664 0 35.214222-26.979556 63.957333-60.984889 65.578666l-3.015111 0.071111h28.444444c35.413333 0 64 29.397333 64 65.664 0 35.228444-26.979556 63.971556-60.984889 65.592889l-3.015111 0.071111h28.444445c35.413333 0 64 29.397333 64 65.649778 0 35.228444-26.979556 63.971556-60.984889 65.592889l-3.015111 0.071111h-28.444445c35.413333 0 64 29.397333 64 65.664 0 35.214222-26.979556 63.957333-60.984889 65.578667l-3.015111 0.071111H594.773333c-22.272 0-38.570667 21.048889-33.976889 42.951111l0.554667 2.275556 15.502222 152.049777c9.813333 35.712-6.968889 73.415111-39.68 89.287111-40.334222 19.598222-87.992889-1.507556-102.058666-44.458666l-0.910223-2.958222-11.264-39.054223-4.295111-14.449777c-17.194667-56.433778-34.474667-96.170667-61.525333-132.010667-21.176889-28.074667-48.142222-49.735111-78.350222-66.844445A25.6 25.6 0 0 1 253.155556 637.155556h-128A25.6 25.6 0 0 1 99.555556 611.555556V125.155556A25.6 25.6 0 0 1 125.155556 99.555556h128z'","d='M425.102222 832.426667l9.102222 31.544889c12.8 44.928 61.724444 67.456 102.968889 47.416888 32.711111-15.872 49.493333-53.575111 39.68-89.287111l-15.502222-152.049777c-6.257778-22.712889 10.382222-45.226667 33.422222-45.226667H826.311111c35.413333 0 64-29.397333 64-65.649778 0-36.266667-28.586667-65.664-64-65.664h28.444445c35.413333 0 64-29.397333 64-65.664 0-36.252444-28.586667-65.649778-64-65.649778h-28.444445c35.413333 0 64-29.397333 64-65.664s-28.586667-65.664-64-65.664h-28.444444c35.413333 0 64-29.397333 64-65.649777C861.866667 128.952889 833.28 99.555556 797.866667 99.555556H479.004444c-73.386667 0-146.631111 9.728-217.457777 28.942222L99.555556 172.373333v379.505778l43.377777 10.282667c81.208889 19.228444 163.982222 49.735111 214.186667 116.295111 30.435556 40.32 48.497778 85.575111 67.982222 153.969778z'","d='M797.866667 230.869333v-12.8c28.017778 0 51.2-23.352889 51.2-52.849777 0-29.511111-23.182222-52.864-51.2-52.864H479.004444c-72.248889 0-144.355556 9.585778-214.186666 28.501333L112.355556 182.172444v359.580445l33.564444 7.950222c81.493333 19.328 168.391111 50.659556 221.44 121.045333 31.857778 42.225778 50.488889 89.301333 70.115556 158.165334l8.96 31.544889c10.808889 37.560889 51.342222 55.850667 85.191111 39.424 26.88-13.112889 41.102222-44.472889 32.853333-74.410667l-0.284444-1.009778-15.502223-152.135111c-7.537778-30.08 14.506667-60.302222 46.08-60.302222H826.311111c28.017778 0 51.2-23.352889 51.2-52.849778 0-29.511111-23.182222-52.864-51.2-52.864v-12.8c35.413333 0 64 29.397333 64 65.664 0 36.252444-28.586667 65.649778-64 65.649778H594.773333c-23.04 0-39.68 22.513778-33.422222 45.226667l15.502222 152.049777c9.813333 35.712-6.968889 73.415111-39.68 89.287111-41.244444 20.039111-90.168889-2.488889-102.968889-47.416888l-9.102222-31.544889c-19.484444-68.394667-37.546667-113.649778-67.982222-153.969778-50.204444-66.56-132.977778-97.066667-214.186667-116.295111L99.555556 551.879111V172.373333l161.991111-43.875555A831.217778 831.217778 0 0 1 479.004444 99.555556H797.866667c35.413333 0 64 29.397333 64 65.664 0 36.252444-28.586667 65.649778-64 65.649777z m28.444444 131.328v12.8h28.444445c28.017778 0 51.2 23.352889 51.2 52.849778 0 29.511111-23.182222 52.864-51.2 52.864h-28.444445v12.8h28.444445c35.413333 0 64-29.397333 64-65.664 0-36.252444-28.586667-65.649778-64-65.649778h-28.444445z m0 0v-12.8c28.017778 0 51.2-23.352889 51.2-52.864 0-29.496889-23.182222-52.864-51.2-52.864h-28.444444v-12.8h28.444444c35.413333 0 64 29.397333 64 65.664s-28.586667 65.664-64 65.664z'","d='M841.813333 493.155556a12.16 12.16 0 0 0-12.231111-12.871112h-76.657778c-7.111111 0-12.942222 5.76-13.368888 12.871112-0.284444 7.111111 5.262222 12.871111 12.231111 12.871111h76.8c6.968889 0 12.942222-5.76 13.226666-12.871111zM720.355556 360.476444c0 7.068444 5.688889 12.8 12.8 12.8h89.6c7.111111 0 12.8-5.731556 12.8-12.8s-5.688889-12.8-12.8-12.8h-89.6c-7.111111 0-12.8 5.731556-12.8 12.8z m-0.142223-129.322666c0 7.068444 5.688889 12.8 12.8 12.8h64.853334c7.111111 0 12.8-5.731556 12.8-12.8s-5.688889-12.8-12.8-12.8h-64.853334c-7.111111 0-12.8 5.731556-12.8 12.8z'","d='M99.555556 99.555556m25.6 0l128 0q25.6 0 25.6 25.6l0 486.4q0 25.6-25.6 25.6l-128 0q-25.6 0-25.6-25.6l0-486.4q0-25.6 25.6-25.6Z'"],405:["d='M512 1024c282.768 0 512-229.232 512-512C1024 229.232 794.768 0 512 0 229.232 0 0 229.232 0 512c0 282.768 229.232 512 512 512zM149.52 355.904L445.088 99.936a16 16 0 0 1 26.464 12.096V288H592c167.888 0 304 136.112 304 304s-136.112 304-304 304H427.872a32 32 0 0 1-32-32v-128a32 32 0 0 1 32-32H592a112 112 0 1 0 0-224h-120.432v143.952a16 16 0 0 1-26.48 12.096L149.52 380.096a16 16 0 0 1 0-24.192z'"],406:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM418.992 318.08c69.392-53.888 176.608-39.728 226.144 42.48l31.248 51.904c9.12 15.12 28.8 20 43.936 10.88l66.88-40.272a32 32 0 0 0 10.896-43.952l-31.264-51.872c-115.04-191.008-392-191.008-507.088 0l-18.56 30.848H123.776a11.712 11.712 0 0 0-8.896 19.392l188.208 216.544a11.808 11.808 0 0 0 17.792 0L509.12 337.472a11.712 11.712 0 0 0-8.896-19.376h-81.216z m301.92 164.064a11.776 11.776 0 0 0-17.808 0l-188.208 216.48a11.792 11.792 0 0 0 8.896 19.52h75.584c-69.168 42.72-166.432 25.488-212.912-51.68l-31.264-51.84a32.016 32.016 0 0 0-43.92-10.88l-66.88 40.32a31.92 31.92 0 0 0-10.88 43.84l31.232 52c115.072 190.88 392.032 190.88 507.088 0l13.088-21.76h115.28c10.08 0 15.52-11.84 8.896-19.52l-188.208-216.48z'"],407:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM526.352 233.744a15.936 15.936 0 0 0-28.704 0l-80.672 163.36c-2.336 4.8-6.832 8-12.048 8.8l-180.4 26.24c-13.12 1.92-18.368 18.08-8.864 27.2l130.528 127.36c3.776 3.68 5.504 8.96 4.608 14.08L320 780.464c-2.24 13.12 11.472 23.04 23.216 16.96l161.36-84.96c4.656-2.4 10.24-2.4 14.88 0l161.36 84.96c11.744 6.08 25.456-3.84 23.216-16.96l-30.816-179.68a15.888 15.888 0 0 1 4.608-14.08l130.528-127.36c9.504-9.12 4.256-25.28-8.864-27.2l-180.4-26.24a15.984 15.984 0 0 1-12.048-8.8l-80.672-163.36z'"],408:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM307.36 248c-7.232-5.28-15.936-8-24.864-8-8.912 0-17.616 2.88-24.848 8-7.232 5.28-12.64 12.64-15.472 21.12a42.464 42.464 0 0 0 14.816 47.36v442.08c0 6.72 2.688 13.12 7.472 17.92 4.784 4.8 11.28 7.52 18.032 7.52 6.768 0 13.248-2.72 18.032-7.52 4.784-4.8 7.472-11.2 7.472-17.92l0.032-442.08a42.336 42.336 0 0 0 14.816-47.36 42.944 42.944 0 0 0-15.488-21.12z m267.872 32.32c-30.08-17.76-62.784-23.36-112.016-23.36-49.232 0-91.04 17.44-121.216 35.52V585.6c30.192-17.92 71.984-35.36 121.216-35.36s81.904 5.6 112 23.36c30.176 18.08 48.448 23.36 97.712 23.36 49.28 0 80.8-12.32 111.072-30.24V284c-30.256 17.92-62.768 22.88-112.064 22.88-49.2 0-66.512-8.8-96.704-26.56z'"],409:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512zM243.68 241.312a48 48 0 1 0-88.352 37.52l115.152 271.2c20.096 47.296 78.928 63.664 120.56 33.52l135.712-98.288 135.52 203.472-64.288-20.336a48 48 0 1 0-28.96 91.52l152.56 48.272a80 80 0 0 0 100.4-52.144l48.272-152.544a48 48 0 0 0-31.296-60.24l-2.72-0.784a48 48 0 0 0-57.52 32.064l-24.848 78.512-156.448-234.864a80 80 0 0 0-113.504-20.432l-132.928 96.256-107.296-252.704z'"],410:["d='M1024 512c0 282.768-229.232 512-512 512C229.232 1024 0 794.768 0 512 0 229.232 229.232 0 512 0c282.768 0 512 229.232 512 512z m-153.76-91.488l-48.256-152.56a80 80 0 0 0-100.4-52.144l-152.544 48.272a48 48 0 1 0 28.96 91.52l64.288-20.352-135.536 203.488-135.712-98.272c-41.632-30.144-100.48-13.792-120.56 33.52L155.328 745.168a48 48 0 1 0 88.368 37.52l107.296-252.704 132.928 96.256a80 80 0 0 0 113.504-20.432l156.448-234.88 24.848 78.528a48 48 0 0 0 91.52-28.96z'"],118:["d='M513.422222 0C230.656 0 1.422222 229.233778 1.422222 512s229.233778 512 512 512 512-229.233778 512-512-229.233778-512-512-512z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111-251.349333 0-455.111111-203.761778-455.111111-455.111111 0-251.349333 203.761778-455.111111 455.111111-455.111111z'","d='M513.422222 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M513.422222 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M428.088889 369.777778c0 62.833778-44.572444 113.777778-99.555556 113.777778s-99.555556-50.944-99.555555-113.777778 44.572444-113.777778 99.555555-113.777778 99.555556 50.944 99.555556 113.777778z'","d='M413.866667 369.777778c0 54.983111-38.200889 99.555556-85.333334 99.555555s-85.333333-44.572444-85.333333-99.555555 38.200889-99.555556 85.333333-99.555556 85.333333 44.572444 85.333334 99.555556z'","d='M812.088889 369.777778c0 62.833778-44.572444 113.777778-99.555556 113.777778s-99.555556-50.944-99.555555-113.777778 44.572444-113.777778 99.555555-113.777778 99.555556 50.944 99.555556 113.777778z'","d='M797.866667 369.777778c0 54.983111-38.200889 99.555556-85.333334 99.555555s-85.333333-44.572444-85.333333-99.555555 38.200889-99.555556 85.333333-99.555556 85.333333 44.572444 85.333334 99.555556z'","d='M385.422222 426.666667a56.888889 56.888889 0 1 1-113.777778 0 56.888889 56.888889 0 0 1 113.777778 0zM769.422222 426.666667a56.888889 56.888889 0 1 1-113.777778 0 56.888889 56.888889 0 0 1 113.777778 0z'","d='M294.229333 598.613333a14.222222 14.222222 0 0 1 18.816 7.082667C348.771556 684.657778 428.245333 739.555556 520.490667 739.555556c92.245333 0 171.704889-54.897778 207.431111-133.859556a14.222222 14.222222 0 1 1 25.912889 11.719111C713.671111 706.190222 624.312889 768 520.490667 768c-103.822222 0-193.194667-61.809778-233.358223-150.584889a14.222222 14.222222 0 0 1 7.111112-18.816z'"],119:["d='M520.533333 0C237.767111 0 8.533333 229.233778 8.533333 512s229.233778 512 512 512 512-229.233778 512-512-229.233778-512-512-512z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111-251.349333 0-455.111111-203.761778-455.111111-455.111111 0-251.349333 203.761778-455.111111 455.111111-455.111111z'","d='M520.533333 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M520.533333 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M435.2 369.777778c0 62.833778-44.572444 113.777778-99.555556 113.777778s-99.555556-50.944-99.555555-113.777778 44.572444-113.777778 99.555555-113.777778 99.555556 50.944 99.555556 113.777778z'","d='M420.977778 369.777778c0 54.983111-38.200889 99.555556-85.333334 99.555555s-85.333333-44.572444-85.333333-99.555555 38.200889-99.555556 85.333333-99.555556 85.333333 44.572444 85.333334 99.555556z'","d='M819.2 369.777778c0 62.833778-44.572444 113.777778-99.555556 113.777778s-99.555556-50.944-99.555555-113.777778 44.572444-113.777778 99.555555-113.777778 99.555556 50.944 99.555556 113.777778z'","d='M804.977778 369.777778c0 54.983111-38.200889 99.555556-85.333334 99.555555s-85.333333-44.572444-85.333333-99.555555 38.200889-99.555556 85.333333-99.555556 85.333333 44.572444 85.333334 99.555556z'","d='M392.533333 426.666667a56.888889 56.888889 0 1 1-113.777777 0 56.888889 56.888889 0 0 1 113.777777 0zM776.533333 426.666667a56.888889 56.888889 0 1 1-113.777777 0 56.888889 56.888889 0 0 1 113.777777 0z'","d='M768.071111 766.734222a14.222222 14.222222 0 0 1-18.816-7.096889C713.528889 680.675556 634.069333 625.777778 541.824 625.777778c-92.259556 0-171.719111 54.897778-207.445333 133.859555a14.222222 14.222222 0 1 1-25.912889-11.719111C348.629333 659.143111 437.987556 597.333333 541.824 597.333333c103.822222 0 193.180444 61.809778 233.344 150.584889a14.222222 14.222222 0 0 1-7.096889 18.816z'"],120:["d='M524.088889 0c-282.766222 0-512 229.233778-512 512s229.233778 512 512 512 512-229.233778 512-512-229.233778-512-512-512z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111-251.349333 0-455.111111-203.761778-455.111111-455.111111 0-251.349333 203.761778-455.111111 455.111111-455.111111z'","d='M524.088889 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M524.088889 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M206.819556 391.111111a14.222222 14.222222 0 0 1 5.205333-19.427555l147.768889-85.333334a14.307556 14.307556 0 0 1 19.484444 5.205334c3.84 6.798222 1.564444 15.502222-5.262222 19.427555l-147.768889 85.333333a14.222222 14.222222 0 0 1-19.427555-5.205333zM834.389333 391.111111c3.84-6.798222 1.564444-15.502222-5.262222-19.427555l-147.768889-85.333334a14.307556 14.307556 0 0 0-19.484444 5.205334c-3.84 6.798222-1.564444 15.502222 5.262222 19.427555l147.768889 85.333333c6.826667 3.925333 15.502222 1.592889 19.484444-5.205333z'","d='M859.136 526.222222c0 44.828444-8.817778 89.216-26.026667 130.616889a339.626667 339.626667 0 0 1-73.955555 110.748445 340.622222 340.622222 0 0 1-110.791111 73.984 341.048889 341.048889 0 0 1-261.12 0 340.536889 340.536889 0 0 1-110.791111-73.984A341.504 341.504 0 0 1 176.455111 526.222222h682.666667z'","d='M749.340444 750.677333c-3.413333 3.157333-6.826667 6.257778-10.24 9.287111-29.155556 25.088-63.573333 44.999111-101.546666 58.581334A356.238222 356.238222 0 0 1 517.802667 839.111111c-41.102222 0-81.777778-6.983111-119.751111-20.565333s-72.448-33.493333-101.489778-58.581334a277.603556 277.603556 0 0 1-11.278222-10.268444c22.371556-17.934222 62.435556-35.299556 104.533333-31.473778 59.164444 5.376 101.973333 35.100444 122.453333 49.322667 6.684444 4.593778 10.951111 7.566222 12.657778 7.566222 1.848889 0 7.537778-3.370667 16.213333-8.362667 25.742222-14.904889 76.231111-44.259556 118.897778-41.415111 44.942222 3.000889 72.248889 13.582222 89.315556 25.344z'","d='M759.296 739.683556c-3.413333 3.598222-6.684444 7.139556-10.24 10.609777a326.954667 326.954667 0 0 1-356.408889 70.897778A327.096889 327.096889 0 0 1 276.238222 739.555556c49.820444 28.444444 137.884444 70.983111 241.564445 70.983111 127.573333 0 212.622222-49.393778 241.493333-70.855111zM817.607111 640H217.955556a286.051556 286.051556 0 0 1-13.041778-85.333333h625.777778c0 28.956444-4.408889 57.699556-13.084445 85.333333z'","d='M446.691556 427.605333c0 9.031111-44.515556-10.908444-99.555556-10.908444-54.983111 0-99.555556 19.939556-99.555556 10.908444 0-9.031111 44.572444-57.827556 99.555556-57.827555 55.04 0 99.555556 48.796444 99.555556 57.827555zM788.024889 427.605333c0 9.031111-44.515556-10.908444-99.555556-10.908444s-99.555556 19.939556-99.555555 10.908444c0-9.031111 44.515556-57.827556 99.555555-57.827555s99.555556 48.796444 99.555556 57.827555z'","d='M219.633778 592.469333c-31.943111 55.324444-77.226667 58.154667-93.610667 48.711111-16.355556-9.457778-36.551111-50.090667-4.608-105.429333 31.943111-55.324444 120.32-94.947556 120.32-94.947555s9.841778 96.327111-22.101333 151.665777z'","d='M248.789333 440.078222l-7.068444 0.725334-2.915556-6.499556 8.988445-4.024889 0.995555 9.799111z m-13.397333 11.676445c-1.422222 0.711111-2.986667 1.521778-4.693333 2.403555-8.632889 4.508444-20.48 11.079111-33.28 19.342222-25.884444 16.682667-54.755556 39.665778-69.831111 65.806223-30.663111 53.077333-9.941333 88.817778 1.991111 95.715555 11.946667 6.883556 53.262222 6.954667 83.911111-46.108444 15.075556-26.140444 20.551111-62.634667 22.058666-93.383111 0.753778-15.232 0.526222-28.771556 0.099556-38.513778-0.071111-1.905778-0.170667-3.669333-0.256-5.262222z m6.328889-10.951111l-2.915556-6.499556-0.028444 0.014222-0.056889 0.028445-0.213333 0.099555-0.782223 0.355556-2.944 1.393778a439.381333 439.381333 0 0 0-45.098666 25.358222c-26.296889 16.952889-57.571556 41.457778-74.424889 70.641778-33.265778 57.6-13.596444 103.125333 7.210667 115.143111 20.807111 12.017778 70.072889 6.286222 103.324444-51.313778 16.853333-29.198222 22.428444-68.536889 23.964444-99.797333a432.469333 432.469333 0 0 0-0.568888-51.712l-0.284445-3.256889-0.085333-0.867556v-0.227555l-0.028445-0.056889v-0.028445l-7.068444 0.725334z'","d='M814.620444 592.312889c31.857778 55.338667 77.226667 58.168889 93.582223 48.711111 16.355556-9.443556 36.551111-50.090667 4.551111-105.415111-31.857778-55.338667-120.32-94.961778-120.32-94.961778s-9.813333 96.327111 22.186666 151.665778z'","d='M785.464889 439.921778l6.968889 0.725333 2.986666-6.485333-8.96-4.024889-0.995555 9.784889z m13.368889 11.676444c1.422222 0.725333 2.986667 1.521778 4.693333 2.417778 8.675556 4.494222 20.48 11.064889 33.28 19.342222 25.884444 16.682667 54.755556 39.665778 69.831111 65.806222 30.577778 53.063111 9.955556 88.817778-1.991111 95.701334-11.946667 6.897778-53.333333 6.954667-83.911111-46.108445-15.075556-26.140444-20.622222-62.634667-22.044444-93.383111a387.953778 387.953778 0 0 1-0.142223-38.499555c0.142222-1.92 0.142222-3.669333 0.284445-5.276445z m-6.4-10.951111l2.986666-6.485333v0.028444l0.284445 0.099556 0.711111 0.369778a285.724444 285.724444 0 0 1 13.653333 6.741333c8.96 4.650667 21.191111 11.448889 34.417778 19.996444 26.311111 16.967111 57.6 41.457778 74.382222 70.656 33.28 57.6 13.653333 103.125333-7.111111 115.128889-20.906667 12.017778-70.115556 6.286222-103.395555-51.313778-16.782222-29.198222-22.328889-68.536889-23.893334-99.783111a415.047111 415.047111 0 0 1-0.142222-39.822222c0.284444-5.034667 0.426667-9.088 0.711111-11.904 0.142222-1.408 0.142222-2.503111 0.284445-3.256889v-1.080889l0.142222-0.071111v-0.028444l6.968889 0.725333z'"],121:["d='M520.533333 0C237.767111 0 8.533333 229.233778 8.533333 512s229.233778 512 512 512 512-229.233778 512-512-229.233778-512-512-512z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111-251.349333 0-455.111111-203.761778-455.111111-455.111111 0-251.349333 203.761778-455.111111 455.111111-455.111111z'","d='M520.533333 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M520.533333 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M463.644444 318.677333c0 77.667556-120.888889 136.433778-120.888888 136.433778s-120.888889-58.538667-120.888889-136.433778c0-34.602667 28.757333-62.677333 64.227555-62.677333 23.907556 0 44.785778 12.771556 55.836445 31.715556 0.355556 0.611556 1.28 0.611556 1.621333 0A64.568889 64.568889 0 0 1 399.416889 256c35.470222 0 64.227556 28.074667 64.227555 62.677333zM819.2 318.677333c0 77.667556-120.888889 136.433778-120.888889 136.433778s-120.888889-58.538667-120.888889-136.433778c0-34.602667 28.757333-62.677333 64.227556-62.677333 23.907556 0 44.785778 12.771556 55.836444 31.715556 0.355556 0.611556 1.28 0.611556 1.621334 0A64.568889 64.568889 0 0 1 754.972444 256c35.470222 0 64.227556 28.074667 64.227556 62.677333z'","d='M861.866667 512a341.276444 341.276444 0 0 1-210.716445 315.349333 341.276444 341.276444 0 0 1-445.966222-184.732444A341.276444 341.276444 0 0 1 179.2 512h682.666667z'","d='M634.211556 802.403556a298.538667 298.538667 0 0 1-227.356445 0A165.973333 165.973333 0 0 1 406.755556 796.444444c0-78.549333 50.944-142.222222 113.777777-142.222222s113.777778 63.672889 113.777778 142.222222c0 1.991111-0.028444 3.982222-0.099555 5.959112z'","d='M218.567111 618.666667A285.696 285.696 0 0 1 207.644444 540.444444h625.777778c0 26.481778-3.683556 52.778667-10.922666 78.222223H218.567111zM761.984 725.461333A326.968889 326.968889 0 0 1 520.533333 831.872 327.139556 327.139556 0 0 1 278.968889 725.333333c49.820444 28.444444 137.898667 70.983111 241.564444 70.983111 127.516444 0 212.679111-49.393778 241.450667-70.855111z'"],122:["d='M513.422222 0C230.656 0 1.422222 229.233778 1.422222 512s229.233778 512 512 512 512-229.233778 512-512-229.233778-512-512-512z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111-251.349333 0-455.111111-203.761778-455.111111-455.111111 0-251.349333 203.761778-455.111111 455.111111-455.111111z'","d='M513.422222 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M513.422222 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M854.755556 511.061333a341.276444 341.276444 0 0 1-210.716445 315.349334 341.276444 341.276444 0 0 1-445.966222-184.732445 341.276444 341.276444 0 0 1-25.984-130.616889h682.666667z'","d='M826.311111 539.505778c0 37.347556-8.092444 74.339556-23.822222 108.856889-15.715556 34.503111-38.769778 65.863111-67.825778 92.273777-29.056 26.410667-63.544889 47.36-101.504 61.667556a340.252444 340.252444 0 0 1-119.736889 21.646222c-41.088 0-81.777778-7.352889-119.736889-21.646222-37.959111-14.307556-72.448-35.256889-101.504-61.667556-29.056-26.410667-52.110222-57.770667-67.825777-92.273777a262.158222 262.158222 0 0 1-23.822223-108.856889h625.777778z'","d='M470.755556 821.290667a341.930667 341.930667 0 0 1-28.444445-4.778667V539.505778h28.444445v281.784889z m142.222222-12.117334c-9.358222 2.844444-18.844444 5.290667-28.444445 7.338667V539.505778h28.444445v269.667555z m142.222222-89.116444a295.054222 295.054222 0 0 1-28.444444 27.52v-208.071111h28.444444v180.551111z m-426.666667-180.551111v229.475555a307.057778 307.057778 0 0 1-28.444444-21.404444v-208.071111h28.444444zM275.598222 306.702222c-10.951111 15.345778-18.176 37.262222-18.176 62.136889a14.222222 14.222222 0 0 1-28.444444 0c0-30.108444 8.704-57.969778 23.480889-78.663111 14.762667-20.664889 36.437333-35.114667 61.866666-35.114667 25.400889 0 47.075556 14.449778 61.838223 35.114667 14.791111 20.693333 23.480889 48.554667 23.480888 78.663111a14.222222 14.222222 0 0 1-28.444444 0c0-24.874667-7.224889-46.791111-18.176-62.136889-10.979556-15.36-24.860444-23.196444-38.712889-23.196444s-27.733333 7.836444-38.712889 23.196444zM673.820444 306.702222c-10.951111 15.345778-18.176 37.262222-18.176 62.136889a14.222222 14.222222 0 0 1-28.444444 0c0-30.108444 8.704-57.969778 23.480889-78.663111 14.762667-20.664889 36.437333-35.114667 61.866667-35.114667 25.400889 0 47.075556 14.449778 61.838222 35.114667 14.791111 20.693333 23.480889 48.554667 23.480889 78.663111a14.222222 14.222222 0 0 1-28.444445 0c0-24.874667-7.224889-46.791111-18.176-62.136889-10.979556-15.36-24.860444-23.196444-38.712889-23.196444s-27.733333 7.836444-38.712889 23.196444zM233.002667 111.075556c-20.693333 19.143111-37.333333 47.146667-47.416889 77.425777a14.222222 14.222222 0 1 1-26.993778-8.988444c11.249778-33.777778 30.165333-66.247111 55.096889-89.315556 25.088-23.196444 57.059556-37.489778 93.198222-32.213333 30.065778 4.394667 49.92 24.049778 61.809778 45.240889 11.776 20.992 16.725333 44.956444 16.725333 62.122667a14.222222 14.222222 0 1 1-28.444444 0c0-12.643556-3.868444-31.758222-13.084445-48.199112-9.102222-16.213333-22.456889-28.288-41.102222-31.018666-25.514667-3.726222-49.237333 5.944889-69.788444 24.945778zM793.841778 111.075556c20.693333 19.143111 37.333333 47.146667 47.416889 77.425777a14.222222 14.222222 0 1 0 26.993777-8.988444c-11.235556-33.777778-30.151111-66.247111-55.096888-89.315556-25.088-23.196444-57.059556-37.489778-93.198223-32.213333-30.065778 4.394667-49.905778 24.049778-61.809777 45.240889-11.776 20.992-16.725333 44.956444-16.725334 62.122667a14.222222 14.222222 0 1 0 28.444445 0c0-12.643556 3.868444-31.758222 13.084444-48.199112 9.102222-16.213333 22.471111-28.288 41.116445-31.018666 25.500444-3.726222 49.223111 5.944889 69.774222 24.945778z'"],123:["d='M520.533333 0C237.767111 0 8.533333 229.233778 8.533333 512s229.233778 512 512 512 512-229.233778 512-512-229.233778-512-512-512z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111-251.349333 0-455.111111-203.761778-455.111111-455.111111 0-251.349333 203.761778-455.111111 455.111111-455.111111z'","d='M520.533333 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M520.533333 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M420.977778 370.858667c0 62.833778-44.572444 113.777778-99.555556 113.777777s-99.555556-50.944-99.555555-113.777777 44.572444-113.777778 99.555555-113.777778 99.555556 50.944 99.555556 113.777778z'","d='M406.755556 370.858667c0 54.983111-38.200889 99.555556-85.333334 99.555555s-85.333333-44.572444-85.333333-99.555555 38.200889-99.555556 85.333333-99.555556 85.333333 44.572444 85.333334 99.555556z'","d='M804.977778 370.858667c0 62.833778-44.572444 113.777778-99.555556 113.777777s-99.555556-50.944-99.555555-113.777777 44.572444-113.777778 99.555555-113.777778 99.555556 50.944 99.555556 113.777778z'","d='M790.755556 370.858667c0 54.983111-38.200889 99.555556-85.333334 99.555555s-85.333333-44.572444-85.333333-99.555555 38.200889-99.555556 85.333333-99.555556 85.333333 44.572444 85.333334 99.555556z'","d='M364.088889 413.525333a56.888889 56.888889 0 1 1-113.777778 0 56.888889 56.888889 0 0 1 113.777778 0zM748.088889 413.525333a56.888889 56.888889 0 1 1-113.777778 0 56.888889 56.888889 0 0 1 113.777778 0z'","d='M709.959111 727.466667a14.193778 14.193778 0 0 1-19.797333 3.484444c-6.328889-4.408889-12.615111-8.874667-18.887111-13.312-65.564444-46.392889-128.270222-90.780444-207.672889-90.780444-20.323556 0-37.973333 6.229333-50.403556 17.607111-12.216889 11.178667-20.664889 28.515556-20.664889 53.504a14.222222 14.222222 0 0 1-28.444444 0c0-31.900444 11.050667-57.230222 29.909333-74.496 18.645333-17.066667 43.633778-25.059556 69.603556-25.059556 88.974222 0 159.217778 49.891556 223.502222 95.544889 6.513778 4.622222 12.956444 9.216 19.356444 13.696 6.442667 4.494222 8.007111 13.368889 3.498667 19.797333zM773.162667 88.888889a14.222222 14.222222 0 0 1 1.251555 20.067555 2208.298667 2208.298667 0 0 1-65.92 71.224889c-25.486222 26.311111-52.437333 52.48-71.296 66.517334-10.965333 8.163556-22.343111 12.145778-33.692444 12.046222-11.249778-0.099556-21.048889-4.181333-29.070222-9.671111-15.573333-10.723556-26.24-28.046222-31.516445-40.277334a14.222222 14.222222 0 1 1 26.112-11.264c4.110222 9.528889 11.989333 21.532444 21.518222 28.074667 4.536889 3.128889 8.931556 4.650667 13.198223 4.693333 4.152889 0.028444 9.614222-1.322667 16.455111-6.428444 16.782222-12.487111 42.282667-37.091556 67.868444-63.488a2203.733333 2203.733333 0 0 0 65.009778-70.243556 14.222222 14.222222 0 0 1 20.081778-1.251555zM286.037333 112.938667a14.222222 14.222222 0 0 0-5.475555 19.356444c28.686222 51.299556 72.462222 112.270222 110.592 140.657778 22.428444 16.696889 48.213333 17.024 69.148444 4.551111 20.337778-12.16 34.716444-35.413333 38.755556-63.715556a14.222222 14.222222 0 0 0-28.16-4.039111c-3.072 21.475556-13.539556 36.366222-25.173334 43.306667-11.050667 6.599111-24.376889 6.912-37.589333-2.915556-33.152-24.689778-74.538667-81.308444-102.741333-131.740444a14.222222 14.222222 0 0 0-19.356445-5.461333z'"],194:["d='M513.422222 0C230.656 0 1.422222 229.233778 1.422222 512s229.233778 512 512 512 512-229.233778 512-512-229.233778-512-512-512z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111-251.349333 0-455.111111-203.761778-455.111111-455.111111 0-251.349333 203.761778-455.111111 455.111111-455.111111z'","d='M513.422222 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M513.422222 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M257.422222 384h156.444445v583.111111h-156.444445z'","d='M399.644444 398.222222h-128v554.666667h128V398.222222z m-142.222222-14.222222v583.111111h156.444445V384h-156.444445z'","d='M612.977778 384h156.444444v583.111111h-156.444444z'","d='M755.2 398.222222h-128v554.666667h128V398.222222z m-142.222222-14.222222v583.111111h156.444444V384h-156.444444z'","d='M221.866667 384a21.333333 21.333333 0 0 1 21.333333-21.333333h184.888889a21.333333 21.333333 0 0 1 0 42.666666h-184.888889a21.333333 21.333333 0 0 1-21.333333-21.333333zM513.422222 625.777778a14.222222 14.222222 0 0 1 14.222222 14.222222v113.777778a14.222222 14.222222 0 0 1-28.444444 0v-113.777778a14.222222 14.222222 0 0 1 14.222222-14.222222zM216.661333 177.777778a14.222222 14.222222 0 0 0 5.205334 19.427555l181.418666 104.746667a14.222222 14.222222 0 0 0 14.222223-24.632889L236.088889 172.572444a14.222222 14.222222 0 0 0-19.427556 5.205334zM805.873778 177.777778a14.222222 14.222222 0 0 1-5.205334 19.427555l-181.418666 104.746667a14.222222 14.222222 0 0 1-14.222222-24.632889l181.418666-104.746667a14.222222 14.222222 0 0 1 19.427556 5.205334zM577.422222 384a21.333333 21.333333 0 0 1 21.333334-21.333333h184.888888a21.333333 21.333333 0 0 1 0 42.666666h-184.888888a21.333333 21.333333 0 0 1-21.333334-21.333333z'"],124:["d='M513.422222 0C230.656 0 1.422222 229.233778 1.422222 512s229.233778 512 512 512 512-229.233778 512-512-229.233778-512-512-512z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111-251.349333 0-455.111111-203.761778-455.111111-455.111111 0-251.349333 203.761778-455.111111 455.111111-455.111111z'","d='M513.422222 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M513.422222 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M221.866667 398.222222A21.333333 21.333333 0 0 1 243.2 376.888889h184.888889a21.333333 21.333333 0 0 1 0 42.666667H243.2A21.333333 21.333333 0 0 1 221.866667 398.222222zM627.2 711.111111a14.222222 14.222222 0 0 1-14.222222 14.222222H413.866667a14.222222 14.222222 0 0 1 0-28.444444h199.111111a14.222222 14.222222 0 0 1 14.222222 14.222222zM216.661333 192A14.222222 14.222222 0 0 0 221.866667 211.427556l181.418666 104.746666a14.222222 14.222222 0 0 0 14.222223-24.632889L236.088889 186.794667A14.222222 14.222222 0 0 0 216.661333 192zM805.873778 192a14.222222 14.222222 0 0 1-5.205334 19.427556l-181.418666 104.746666a14.222222 14.222222 0 0 1-14.222222-24.632889l181.418666-104.746666a14.222222 14.222222 0 0 1 19.427556 5.205333zM577.422222 398.222222a21.333333 21.333333 0 0 1 21.333334-21.333333h184.888888a21.333333 21.333333 0 0 1 0 42.666667H598.755556a21.333333 21.333333 0 0 1-21.333334-21.333334z'","d='M968.533333 199.111111m14.222223 0l0 0q14.222222 0 14.222222 14.222222l0 184.888889q0 14.222222-14.222222 14.222222l0 0q-14.222222 0-14.222223-14.222222l0-184.888889q0-14.222222 14.222223-14.222222Z'","d='M897.422222 156.444444m14.222222 0l0 0q14.222222 0 14.222223 14.222223l0 199.111111q0 14.222222-14.222223 14.222222l0 0q-14.222222 0-14.222222-14.222222l0-199.111111q0-14.222222 14.222222-14.222223Z'","d='M826.311111 99.555556m14.222222 0l0 0q14.222222 0 14.222223 14.222222l0 241.777778q0 14.222222-14.222223 14.222222l0 0q-14.222222 0-14.222222-14.222222l0-241.777778q0-14.222222 14.222222-14.222222Z'"],125:["d='M520.533333 0C237.767111 0 8.533333 229.233778 8.533333 512s229.233778 512 512 512 512-229.233778 512-512-229.233778-512-512-512z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111-251.349333 0-455.111111-203.761778-455.111111-455.111111 0-251.349333 203.761778-455.111111 455.111111-455.111111z'","d='M520.533333 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M520.533333 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M641.422222 725.333333a21.333333 21.333333 0 0 1-21.333333 21.333334h-199.111111a21.333333 21.333333 0 0 1 0-42.666667h199.111111a21.333333 21.333333 0 0 1 21.333333 21.333333z'","d='M435.2 369.777778a113.706667 113.706667 0 0 1-33.322667 80.455111 113.735111 113.735111 0 0 1-123.989333 24.661333A113.735111 113.735111 0 0 1 207.644444 369.777778h227.555556z'","d='M420.977778 369.777778a99.512889 99.512889 0 0 1-61.454222 91.975111 99.512889 99.512889 0 0 1-130.076445-53.873778A99.512889 99.512889 0 0 1 221.866667 369.777778h199.111111z'","d='M435.2 384a113.706667 113.706667 0 0 0-33.322667-80.455111 113.735111 113.735111 0 0 0-123.989333-24.661333A113.735111 113.735111 0 0 0 207.644444 384h227.555556zM833.422222 384a113.706667 113.706667 0 0 0-33.322666-80.455111 113.735111 113.735111 0 0 0-123.989334-24.661333A113.735111 113.735111 0 0 0 605.866667 384h227.555555z'","d='M833.422222 369.777778a113.706667 113.706667 0 0 1-33.322666 80.455111 113.735111 113.735111 0 0 1-123.989334 24.661333A113.735111 113.735111 0 0 1 605.866667 369.777778h227.555555z'","d='M819.2 369.777778a99.512889 99.512889 0 0 1-61.454222 91.975111 99.512889 99.512889 0 0 1-130.076445-53.873778A99.512889 99.512889 0 0 1 620.088889 369.777778h199.111111z'","d='M378.311111 384a56.96 56.96 0 0 1-16.668444 40.220444A56.96 56.96 0 0 1 321.422222 440.888889a56.96 56.96 0 0 1-40.220444-16.668445A56.96 56.96 0 0 1 264.533333 384h113.777778zM776.533333 384a56.96 56.96 0 0 1-16.668444 40.220444A56.96 56.96 0 0 1 719.644444 440.888889a56.96 56.96 0 0 1-40.220444-16.668445A56.96 56.96 0 0 1 662.755556 384h113.777777z'"],126:["d='M520.533333 0C237.767111 0 8.533333 229.233778 8.533333 512s229.233778 512 512 512 512-229.233778 512-512S803.299556 0 520.533333 0z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111C269.184 967.111111 65.422222 763.349333 65.422222 512 65.422222 260.650667 269.184 56.888889 520.533333 56.888889z'","d='M520.533333 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M520.533333 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M335.644444 312.888889c62.833778 0 113.777778 44.572444 113.777778 99.555555s-50.944 99.555556-113.777778 99.555556-113.777778-44.572444-113.777777-99.555556 50.944-99.555556 113.777777-99.555555z'","d='M335.644444 327.111111c54.983111 0 99.555556 38.200889 99.555556 85.333333s-44.572444 85.333333-99.555556 85.333334-99.555556-38.200889-99.555555-85.333334 44.572444-85.333333 99.555555-85.333333z'","d='M719.644444 512c-62.833778 0-113.777778-44.572444-113.777777-99.555556s50.944-99.555556 113.777777-99.555555 113.777778 44.572444 113.777778 99.555555-50.944 99.555556-113.777778 99.555556z'","d='M719.644444 497.777778c-54.983111 0-99.555556-38.200889-99.555555-85.333334s44.572444-85.333333 99.555555-85.333333 99.555556 38.200889 99.555556 85.333333-44.572444 85.333333-99.555556 85.333334z'","d='M406.755556 355.555556c23.566222 0 42.666667 25.472 42.666666 56.888888s-19.100444 56.888889-42.666666 56.888889-42.666667-25.472-42.666667-56.888889 19.100444-56.888889 42.666667-56.888888zM648.533333 469.333333c-23.566222 0-42.666667-25.472-42.666666-56.888889s19.100444-56.888889 42.666666-56.888888 42.666667 25.472 42.666667 56.888888-19.100444 56.888889-42.666667 56.888889z'","d='M364.088889 696.888889a14.222222 14.222222 0 0 1 14.222222-14.222222h327.111111a14.222222 14.222222 0 0 1 0 28.444444H378.311111a14.222222 14.222222 0 0 1-14.222222-14.222222z'"],127:["d='M516.977778 0C234.211556 0 4.977778 229.233778 4.977778 512s229.233778 512 512 512 512-229.233778 512-512S799.744 0 516.977778 0z m0 56.888889c251.349333 0 455.111111 203.761778 455.111111 455.111111 0 251.349333-203.761778 455.111111-455.111111 455.111111C265.628444 967.111111 61.866667 763.349333 61.866667 512 61.866667 260.650667 265.628444 56.888889 516.977778 56.888889z'","d='M516.977778 512m-455.111111 0a455.111111 455.111111 0 1 0 910.222222 0 455.111111 455.111111 0 1 0-910.222222 0Z'","d='M516.977778 512m-440.888889 0a440.888889 440.888889 0 1 0 881.777778 0 440.888889 440.888889 0 1 0-881.777778 0Z'","d='M276.010667 378.652444c2.503111-24.96 25.742222-59.790222 71.637333-65.194666 17.564444-2.062222 33.251556 1.464889 44.515556 9.628444 10.951111 7.921778 19.313778 21.333333 20.650666 42.567111 0.768 12.288-2.147556 25.116444-9.059555 34.488889-6.485333 8.789333-17.365333 15.843556-35.953778 15.843556a39.964444 39.964444 0 0 1-21.916445-7.239111c-6.371556-4.608-10.709333-11.093333-10.709333-20.579556 0-11.178667 4.408889-15.260444 7.879111-17.194667a18.56 18.56 0 0 1 9.912889-2.190222c0.711111 0.056889 1.052444 0.156444 1.052445 0.156445h-0.014223a14.222222 14.222222 0 0 0 8.903111-27.022223c-8.647111-2.844444-22.129778-2.204444-33.649777 4.181334-12.899556 7.153778-22.528 20.992-22.528 42.069333 0 20.096 10.012444 34.616889 22.513777 43.662222 12.032 8.675556 26.709333 12.600889 38.542223 12.600889 27.050667 0 46.677333-10.88 58.865777-27.406222 11.747556-15.957333 15.630222-35.84 14.549334-53.134222-1.792-28.629333-13.681778-50.318222-32.341334-63.829334-18.318222-13.283556-41.585778-17.550222-64.526222-14.848-60.046222 7.068444-92.885333 53.248-96.625778 90.609778-5.319111 53.262222 12.060444 89.287111 43.008 112.497778 15.928889 11.946667 38.613333 18.986667 59.832889 21.873778 21.091556 2.858667 43.776 2.048 59.960889-4.48a14.222222 14.222222 0 1 0-10.638222-26.382222c-9.671111 3.896889-26.695111 5.233778-45.482667 2.673777-18.673778-2.545778-36.024889-8.504889-46.606222-16.440889-22.044444-16.540444-36.224-42.353778-31.772444-86.897777z'","d='M630.115556 702.620444a14.222222 14.222222 0 0 1-14.222223 14.222223h-199.111111a14.222222 14.222222 0 0 1 0-28.444445h199.111111a14.222222 14.222222 0 0 1 14.222223 14.222222zM617.344 378.652444c2.503111-24.96 25.742222-59.790222 71.637333-65.194666 17.564444-2.062222 33.251556 1.464889 44.515556 9.628444 10.951111 7.921778 19.313778 21.333333 20.650667 42.567111 0.768 12.288-2.147556 25.116444-9.059556 34.488889-6.485333 8.789333-17.365333 15.843556-35.953778 15.843556a39.964444 39.964444 0 0 1-21.916444-7.239111c-6.371556-4.608-10.709333-11.093333-10.709334-20.579556 0-11.178667 4.408889-15.260444 7.879112-17.194667a18.56 18.56 0 0 1 9.912888-2.190222c0.711111 0.056889 1.052444 0.156444 1.052445 0.156445h-0.014222a14.222222 14.222222 0 0 0 8.903111-27.022223c-8.647111-2.844444-22.129778-2.204444-33.649778 4.181334-12.899556 7.153778-22.528 20.992-22.528 42.069333 0 20.096 10.012444 34.616889 22.513778 43.662222 12.032 8.675556 26.709333 12.600889 38.542222 12.600889 27.050667 0 46.677333-10.88 58.865778-27.406222 11.747556-15.957333 15.630222-35.84 14.549333-53.134222-1.792-28.629333-13.681778-50.318222-32.341333-63.829334-18.318222-13.283556-41.585778-17.550222-64.526222-14.848-60.046222 7.068444-92.885333 53.248-96.625778 90.609778-5.319111 53.262222 12.060444 89.287111 43.008 112.497778 15.928889 11.946667 38.613333 18.986667 59.832889 21.873778 21.091556 2.858667 43.776 2.048 59.960889-4.48a14.222222 14.222222 0 1 0-10.638223-26.382222c-9.671111 3.896889-26.695111 5.233778-45.482666 2.673777-18.673778-2.545778-36.024889-8.504889-46.606223-16.440889-22.044444-16.540444-36.224-42.353778-31.772444-86.897777z'"]},t.poMindSvgColor={118:["#FFFFFF","#FAC900","#FEDA46","#AE660F","#FFFFFF","#AE660F","#FFFFFF","#AE660F","#AE660F"],119:["#FFFFFF","#FAC900","#FEDA46","#AE660F","#FFFFFF","#AE660F","#FFFFFF","#AE660F","#AE660F"],120:["#FFFFFF","#FAC900","#FEDA46","#AE660F","#AE660F","#FF7991","#FFFFFF","#AE660F","#94D7F9","#73C8F3","#94D7F9","#73C8F3"],121:["#FFFFFF","#FAC900","#FEDA46","#FF6636","#AE660F","#FF7991","#FFFFFF"],122:["#FFFFFF","#FAC900","#FEDA46","#AE660F","#FFFFFF","#AE660F"],123:["#FFFFFF","#EF450F","#FF6636","#681908","#FFFFFF","#681908","#FFFFFF","#681908","#681908"],124:["#FFFFFF","#FAC900","#FEDA46","#AE660F","#AE660F","#AE660F","#AE660F"],125:["#FFFFFF","#FAC900","#FEDA46","#AE660F","#FAC900","#FFFFFF","#FAC900","#FAC900","#FFFFFF","#AE660F"],126:["#FFFFFF","#FAC900","#FEDA46","#AE660F","#FFFFFF","#AE660F","#FFFFFF","#AE660F","#AE660F"],127:["#FFFFFF","#FAC900","#FEDA46","#AE660F","#AE660F"],128:["#FFD113","#FFFFFF","#FFD113","#FFFFFF","#FEDA46","#FFFFFF","#FFD113","#FAC900","#FFD113","#FAC900","#FAC900","#FEDA46","#FFFCF0","#AE660F","#FFFFFF","#AE660F","#FFFFFF","#AE660F"],194:["#FFFFFF","#FAC900","#FEDA46","#94D7F9","#73C8F3","#94D7F9","#73C8F3","#AE660F"],201:["#FFFFFF","#FFFFFF","#FEDA46","#FAC900","#FEDA46","#FAC900","#AE660F","#FAC900","#FAC900","#AE660F"],202:["#FFFFFF","#FEDA46","#FAC900","#FAC900","#FAC900","#AE660F"],203:["#FFFFFF","#FEDA46","#FAC900","#FAC900","#FAC900"],204:["#FFFFFF","#FEDA46","#FAC900","#FAC900","#AE660F"]}},24960:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(61894),n(4790),n(82403),n(12638),n(69268),n(58500),n(86837),n(54938),n(14237);var i=n(15240),o=n(59081),a={getSvgData:function(e){var t=this;return C(k().mark(function n(){var i,a,r,s,l,c,d,u,p,m,f,g,v,b,y,x;return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=editorGlobal.mindMap.opt,a=i.exportPaddingX,r=i.exportPaddingY,i.errorHandler,s=i.resetCss,null,(c=e.partId)&&"object"!=w(c)&&(t.partIdSearch(),c=editorGlobal.mindMap.renderer.getTopicById(c)._topic.getTopicChildren(!0).map(function(e){return e.id})),l=c,d=editorGlobal.mindMap.getSvgData({paddingX:a,paddingY:r,ids:l}),u=d.svg,p=d.svgHTML,m=[].concat(h(t.createTransformImgTaskList(u,"image","href",function(e){return e.attr("href")||e.attr("xlink:href")})),h(t.createTransformImgTaskList(u,"img","src",function(e){return e.attr("src")}))),n.prev=4,n.next=7,Promise.all(m);case 7:n.next=11;break;case 9:n.prev=9,n.t0=n.catch(4);case 11:if(!((g=u.find("foreignObject")).length>0)){n.next=25;break}if(!(g.find(".equation-text").length>0)){n.next=24;break}v=0;case 15:if(!(v<document.styleSheets.length)){n.next=24;break}if(!((b=document.styleSheets[v]).href&&b.href.indexOf("staticResource")>=0)){n.next=21;break}for(y=b.cssRules,x=0;x<y.length;x++)s+=y[x].cssText;return n.abrupt("break",24);case 21:v++,n.next=15;break;case 24:g[0].add((0,o.SVG)("<style>".concat(s,"</style>"))),f=!0;case 25:return n.abrupt("return",((m.length>0||f)&&(p=u.svg()),{node:u,str:p}));case 26:case"end":return n.stop()}},n,null,[[4,9]])}))()},createTransformImgTaskList:function(e,t,n,o){return e.find(t).map(function(){var e=C(k().mark(function e(t){var a,r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=o(t),!/^data:/.test(a)&&"none"!==a){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,i.imgToDataUrl)(a);case 5:r=e.sent,t.attr(n,r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},partIdSearch:function(){var e=this.partId,t=[];!function n(i,o,a,r){i.map(function(i,s){var l,c,d,u,p=!1;(i.id==e||o)&&(t.push(i.id),p=!0),i.children&&i.children.length>0&&(i.summaries&&i.summaries.length&&(l=i.summaries.filter(function(e){return null==e.part||"right"==e.part})),i.boundaries&&i.boundaries.length&&(c=i.boundaries.filter(function(e){return null==e.part||"right"==e.part})),n(i.children,p,l,c)),i.leftChildren&&i.leftChildren.length>0&&(i.summaries&&i.summaries.length&&(d=i.summaries.filter(function(e){return null==e.part||"left"==e.part})),i.boundaries&&i.boundaries.length&&(u=i.boundaries.filter(function(e){return null==e.part||"left"==e.part})),n(i.leftChildren,p,d,u)),i.summaries&&i.summaries.length>0&&n(i.summaries,p),i.boundaries&&i.boundaries.length>0&&n(i.boundaries,p),i.id==e&&a&&a.length&&a.map(function(e){var i,o,a;e.range==s+","+s&&(t.push(e.id),p=!0,e.children&&e.children.length>0&&(e.summaries&&e.summaries.length&&(i=e.summaries.filter(function(e){return null==e.part||"right"==e.part})),e.boundaries&&e.boundaries.length&&(o=e.boundaries.filter(function(e){return null==e.part||"right"==e.part})),n(e.children,p,i,o)),e.leftChildren&&e.leftChildren.length>0&&(e.summaries&&e.summaries.length&&(a=e.summaries.filter(function(e){return null==e.part||"left"==e.part})),n(e.leftChildren,p,a)),e.summaries&&e.summaries.length>0&&n(e.summaries,p),e.boundaries&&e.boundaries.length>0&&n(e.boundaries,p))}),i.id==e&&r&&r.length&&r.map(function(e){e.range==s+","+s&&(t.push(e.id),p=!0)})})}([editorGlobal.mindMap.getData()]),this.partIdArr=t}};t.default=a},52823:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(5682),n(4790),n(82403),n(33809),n(6284),n(69268),n(84889),n(54938);var i={info:{},muiltIconsSvg:{118:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FAC900" p-id="28427"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FEDA46" p-id="28428"></path><path d="M416 352c0 70.688-50.144 128-112 128s-112-57.312-112-128 50.144-128 112-128 112 57.312 112 128z" fill="#AE660F" p-id="28429"></path><path d="M400 352c0 61.856-42.976 112-96 112s-96-50.144-96-112 42.976-112 96-112 96 50.144 96 112z" fill="#FFFFFF" p-id="28430"></path><path d="M848 352c0 70.688-50.144 128-112 128s-112-57.312-112-128 50.144-128 112-128 112 57.312 112 128z" fill="#AE660F" p-id="28431"></path><path d="M832 352c0 61.856-42.976 112-96 112s-96-50.144-96-112 42.976-112 96-112 96 50.144 96 112z" fill="#FFFFFF" p-id="28432"></path><path d="M368 416a64 64 0 1 1-128 0 64 64 0 0 1 128 0zM800 416a64 64 0 1 1-128 0 64 64 0 0 1 128 0z" fill="#AE660F" p-id="28433"></path><path d="M265.408 609.44a16 16 0 0 1 21.168 7.968C326.768 706.24 416.176 768 519.952 768c103.776 0 193.168-61.76 233.36-150.592a16 16 0 1 1 29.152 13.184C737.28 730.464 636.752 800 519.952 800c-116.8 0-217.344-69.536-262.528-169.408a16 16 0 0 1 8-21.168z" fill="#AE660F" p-id="28434"></path>',119:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FAC900" p-id="30858"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FEDA46" p-id="30859"></path><path d="M416 352c0 70.688-50.144 128-112 128s-112-57.312-112-128 50.144-128 112-128 112 57.312 112 128z" fill="#AE660F" p-id="30860"></path><path d="M400 352c0 61.856-42.976 112-96 112s-96-50.144-96-112 42.976-112 96-112 96 50.144 96 112z" fill="#FFFFFF" p-id="30861"></path><path d="M848 352c0 70.688-50.144 128-112 128s-112-57.312-112-128 50.144-128 112-128 112 57.312 112 128z" fill="#AE660F" p-id="30862"></path><path d="M832 352c0 61.856-42.976 112-96 112s-96-50.144-96-112 42.976-112 96-112 96 50.144 96 112z" fill="#FFFFFF" p-id="30863"></path><path d="M368 416a64 64 0 1 1-128 0 64 64 0 0 1 128 0zM800 416a64 64 0 1 1-128 0 64 64 0 0 1 128 0z" fill="#AE660F" p-id="30864"></path><path d="M790.48 798.576a16 16 0 0 1-21.168-7.984C729.12 701.76 639.728 640 535.952 640c-103.792 0-193.184 61.76-233.376 150.592a16 16 0 1 1-29.152-13.184C318.608 677.536 419.136 608 535.952 608c116.8 0 217.328 69.536 262.512 169.408a16 16 0 0 1-7.984 21.168z" fill="#AE660F" p-id="30865"></path>',120:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FAC900" p-id="31591"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FEDA46" p-id="31592"></path><path d="M155.072 376a16 16 0 0 1 5.856-21.856l166.24-96a16.096 16.096 0 0 1 21.92 5.856c4.32 7.648 1.76 17.44-5.92 21.856l-166.24 96a16 16 0 0 1-21.856-5.856zM861.088 376c4.32-7.648 1.76-17.44-5.92-21.856l-166.24-96a16.096 16.096 0 0 0-21.92 5.856c-4.32 7.648-1.76 17.44 5.92 21.856l166.24 96c7.68 4.416 17.44 1.792 21.92-5.856z" fill="#AE660F" p-id="31593"></path><path d="M888.928 528c0 50.432-9.92 100.368-29.28 146.944a382.08 382.08 0 0 1-83.2 124.592 383.2 383.2 0 0 1-124.64 83.232 383.68 383.68 0 0 1-293.76 0 383.104 383.104 0 0 1-124.64-83.232A384.192 384.192 0 0 1 120.912 528h768z" fill="#AE660F" p-id="31594"></path><path d="M765.408 780.512c-3.84 3.552-7.68 7.04-11.52 10.448-32.8 28.224-71.52 50.624-114.24 65.904A400.768 400.768 0 0 1 504.928 880c-46.24 0-92-7.856-134.72-23.136s-81.504-37.68-114.176-65.904a312.304 312.304 0 0 1-12.688-11.552c25.168-20.176 70.24-39.712 117.6-35.408 66.56 6.048 114.72 39.488 137.76 55.488 7.52 5.168 12.32 8.512 14.24 8.512 2.08 0 8.48-3.792 18.24-9.408 28.96-16.768 85.76-49.792 133.76-46.592 50.56 3.376 81.28 15.28 100.48 28.512z" fill="#FF7991" p-id="31595"></path><path d="M776.608 768.144c-3.84 4.048-7.52 8.032-11.52 11.936a367.824 367.824 0 0 1-400.96 79.76A367.984 367.984 0 0 1 233.168 768c56.048 32 155.12 79.856 271.76 79.856 143.52 0 239.2-55.568 271.68-79.712zM842.208 656H167.6a321.808 321.808 0 0 1-14.672-96h704c0 32.576-4.96 64.912-14.72 96z" fill="#FFFFFF" p-id="31596"></path><path d="M424.928 417.056c0 10.16-50.08-12.272-112-12.272-61.856 0-112 22.432-112 12.272 0-10.16 50.144-65.056 112-65.056 61.92 0 112 54.896 112 65.056zM808.928 417.056c0 10.16-50.08-12.272-112-12.272s-112 22.432-112 12.272c0-10.16 50.08-65.056 112-65.056s112 54.896 112 65.056z" fill="#AE660F" p-id="31597"></path><path d="M169.488 602.528c-35.936 62.24-86.88 65.424-105.312 54.8-18.4-10.64-41.12-56.352-5.184-118.608 35.936-62.24 135.36-106.816 135.36-106.816s11.072 108.368-24.864 170.624z" fill="#94D7F9" p-id="31598"></path><path d="M202.288 431.088l-7.952 0.816-3.28-7.312 10.112-4.528 1.12 11.024z m-15.072 13.136c-1.6 0.8-3.36 1.712-5.28 2.704-9.712 5.072-23.04 12.464-37.44 21.76-29.12 18.768-61.6 44.624-78.56 74.032-34.496 59.712-11.184 99.92 2.24 107.68 13.44 7.744 59.92 7.824 94.4-51.872 16.96-29.408 23.12-70.464 24.816-105.056 0.848-17.136 0.592-32.368 0.112-43.328-0.08-2.144-0.192-4.128-0.288-5.92z m7.12-12.32l-3.28-7.312-0.032 0.016-0.064 0.032-0.24 0.112-0.88 0.4-3.312 1.568a494.304 494.304 0 0 0-50.736 28.528c-29.584 19.072-64.768 46.64-83.728 79.472-37.424 64.8-15.296 116.016 8.112 129.536 23.408 13.52 78.832 7.072 116.24-57.728 18.96-32.848 25.232-77.104 26.96-112.272a486.528 486.528 0 0 0-0.64-58.176l-0.32-3.664-0.096-0.976v-0.256l-0.032-0.064v-0.032l-7.952 0.816z" fill="#73C8F3" p-id="31599"></path><path d="M838.848 602.352c35.84 62.256 86.88 65.44 105.28 54.8 18.4-10.624 41.12-56.352 5.12-118.592-35.84-62.256-135.36-106.832-135.36-106.832s-11.04 108.368 24.96 170.624z" fill="#94D7F9" p-id="31600"></path><path d="M806.048 430.912l7.84 0.816 3.36-7.296-10.08-4.528-1.12 11.008z m15.04 13.136c1.6 0.816 3.36 1.712 5.28 2.72 9.76 5.056 23.04 12.448 37.44 21.76 29.12 18.768 61.6 44.624 78.56 74.032 34.4 59.696 11.2 99.92-2.24 107.664-13.44 7.76-60 7.824-94.4-51.872-16.96-29.408-23.2-70.464-24.8-105.056a436.448 436.448 0 0 1-0.16-43.312c0.16-2.16 0.16-4.128 0.32-5.936z m-7.2-12.32l3.36-7.296v0.032l0.32 0.112 0.8 0.416a321.44 321.44 0 0 1 15.36 7.584c10.08 5.232 23.84 12.88 38.72 22.496 29.6 19.088 64.8 46.64 83.68 79.488 37.44 64.8 15.36 116.016-8 129.52-23.52 13.52-78.88 7.072-116.32-57.728-18.88-32.848-25.12-77.104-26.88-112.256a466.928 466.928 0 0 1-0.16-44.8c0.32-5.664 0.48-10.224 0.8-13.392 0.16-1.584 0.16-2.816 0.32-3.664v-1.216l0.16-0.08v-0.032l7.84 0.816z" fill="#73C8F3" p-id="31601"></path>',121:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FAC900" p-id="31591"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FEDA46" p-id="31592"></path><path d="M155.072 376a16 16 0 0 1 5.856-21.856l166.24-96a16.096 16.096 0 0 1 21.92 5.856c4.32 7.648 1.76 17.44-5.92 21.856l-166.24 96a16 16 0 0 1-21.856-5.856zM861.088 376c4.32-7.648 1.76-17.44-5.92-21.856l-166.24-96a16.096 16.096 0 0 0-21.92 5.856c-4.32 7.648-1.76 17.44 5.92 21.856l166.24 96c7.68 4.416 17.44 1.792 21.92-5.856z" fill="#AE660F" p-id="31593"></path><path d="M888.928 528c0 50.432-9.92 100.368-29.28 146.944a382.08 382.08 0 0 1-83.2 124.592 383.2 383.2 0 0 1-124.64 83.232 383.68 383.68 0 0 1-293.76 0 383.104 383.104 0 0 1-124.64-83.232A384.192 384.192 0 0 1 120.912 528h768z" fill="#AE660F" p-id="31594"></path><path d="M765.408 780.512c-3.84 3.552-7.68 7.04-11.52 10.448-32.8 28.224-71.52 50.624-114.24 65.904A400.768 400.768 0 0 1 504.928 880c-46.24 0-92-7.856-134.72-23.136s-81.504-37.68-114.176-65.904a312.304 312.304 0 0 1-12.688-11.552c25.168-20.176 70.24-39.712 117.6-35.408 66.56 6.048 114.72 39.488 137.76 55.488 7.52 5.168 12.32 8.512 14.24 8.512 2.08 0 8.48-3.792 18.24-9.408 28.96-16.768 85.76-49.792 133.76-46.592 50.56 3.376 81.28 15.28 100.48 28.512z" fill="#FF7991" p-id="31595"></path><path d="M776.608 768.144c-3.84 4.048-7.52 8.032-11.52 11.936a367.824 367.824 0 0 1-400.96 79.76A367.984 367.984 0 0 1 233.168 768c56.048 32 155.12 79.856 271.76 79.856 143.52 0 239.2-55.568 271.68-79.712zM842.208 656H167.6a321.808 321.808 0 0 1-14.672-96h704c0 32.576-4.96 64.912-14.72 96z" fill="#FFFFFF" p-id="31596"></path><path d="M424.928 417.056c0 10.16-50.08-12.272-112-12.272-61.856 0-112 22.432-112 12.272 0-10.16 50.144-65.056 112-65.056 61.92 0 112 54.896 112 65.056zM808.928 417.056c0 10.16-50.08-12.272-112-12.272s-112 22.432-112 12.272c0-10.16 50.08-65.056 112-65.056s112 54.896 112 65.056z" fill="#AE660F" p-id="31597"></path><path d="M169.488 602.528c-35.936 62.24-86.88 65.424-105.312 54.8-18.4-10.64-41.12-56.352-5.184-118.608 35.936-62.24 135.36-106.816 135.36-106.816s11.072 108.368-24.864 170.624z" fill="#94D7F9" p-id="31598"></path><path d="M202.288 431.088l-7.952 0.816-3.28-7.312 10.112-4.528 1.12 11.024z m-15.072 13.136c-1.6 0.8-3.36 1.712-5.28 2.704-9.712 5.072-23.04 12.464-37.44 21.76-29.12 18.768-61.6 44.624-78.56 74.032-34.496 59.712-11.184 99.92 2.24 107.68 13.44 7.744 59.92 7.824 94.4-51.872 16.96-29.408 23.12-70.464 24.816-105.056 0.848-17.136 0.592-32.368 0.112-43.328-0.08-2.144-0.192-4.128-0.288-5.92z m7.12-12.32l-3.28-7.312-0.032 0.016-0.064 0.032-0.24 0.112-0.88 0.4-3.312 1.568a494.304 494.304 0 0 0-50.736 28.528c-29.584 19.072-64.768 46.64-83.728 79.472-37.424 64.8-15.296 116.016 8.112 129.536 23.408 13.52 78.832 7.072 116.24-57.728 18.96-32.848 25.232-77.104 26.96-112.272a486.528 486.528 0 0 0-0.64-58.176l-0.32-3.664-0.096-0.976v-0.256l-0.032-0.064v-0.032l-7.952 0.816z" fill="#73C8F3" p-id="31599"></path><path d="M838.848 602.352c35.84 62.256 86.88 65.44 105.28 54.8 18.4-10.624 41.12-56.352 5.12-118.592-35.84-62.256-135.36-106.832-135.36-106.832s-11.04 108.368 24.96 170.624z" fill="#94D7F9" p-id="31600"></path><path d="M806.048 430.912l7.84 0.816 3.36-7.296-10.08-4.528-1.12 11.008z m15.04 13.136c1.6 0.816 3.36 1.712 5.28 2.72 9.76 5.056 23.04 12.448 37.44 21.76 29.12 18.768 61.6 44.624 78.56 74.032 34.4 59.696 11.2 99.92-2.24 107.664-13.44 7.76-60 7.824-94.4-51.872-16.96-29.408-23.2-70.464-24.8-105.056a436.448 436.448 0 0 1-0.16-43.312c0.16-2.16 0.16-4.128 0.32-5.936z m-7.2-12.32l3.36-7.296v0.032l0.32 0.112 0.8 0.416a321.44 321.44 0 0 1 15.36 7.584c10.08 5.232 23.84 12.88 38.72 22.496 29.6 19.088 64.8 46.64 83.68 79.488 37.44 64.8 15.36 116.016-8 129.52-23.52 13.52-78.88 7.072-116.32-57.728-18.88-32.848-25.12-77.104-26.88-112.256a466.928 466.928 0 0 1-0.16-44.8c0.32-5.664 0.48-10.224 0.8-13.392 0.16-1.584 0.16-2.816 0.32-3.664v-1.216l0.16-0.08v-0.032l7.84 0.816z" fill="#73C8F3" p-id="31601"></path>',122:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FAC900" p-id="31300"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FEDA46" p-id="31301"></path><path d="M896 510.944a383.936 383.936 0 0 1-237.056 354.768A383.936 383.936 0 0 1 157.232 657.888 383.936 383.936 0 0 1 128 510.944h768z" fill="#AE660F" p-id="31302"></path><path d="M864 542.944c0 42.016-9.104 83.632-26.8 122.464-17.68 38.816-43.616 74.096-76.304 103.808-32.688 29.712-71.488 53.28-114.192 69.376A382.784 382.784 0 0 1 512 862.944c-46.224 0-92-8.272-134.704-24.352-42.704-16.096-81.504-39.664-114.192-69.376-32.688-29.712-58.624-64.992-76.304-103.808A294.928 294.928 0 0 1 160 542.944h704z" fill="#FFFFFF" p-id="31303"></path><path d="M464 859.952a384.672 384.672 0 0 1-32-5.376V542.944h32v317.008z m160-13.632c-10.528 3.2-21.2 5.952-32 8.256V542.944h32v303.376z m160-100.256a331.936 331.936 0 0 1-32 30.96v-234.08h32v203.12zM304 542.944v258.16a345.44 345.44 0 0 1-32-24.08v-234.08h32zM244.448 281.04c-12.32 17.264-20.448 41.92-20.448 69.904a16 16 0 0 1-32 0c0-33.872 9.792-65.216 26.416-88.496 16.608-23.248 40.992-39.504 69.6-39.504 28.576 0 52.96 16.256 69.568 39.504C374.24 285.728 384 317.072 384 350.944a16 16 0 0 1-32 0c0-27.984-8.128-52.64-20.448-69.904-12.352-17.28-27.968-26.096-43.552-26.096s-31.2 8.816-43.552 26.096zM692.448 281.04c-12.32 17.264-20.448 41.92-20.448 69.904a16 16 0 0 1-32 0c0-33.872 9.792-65.216 26.416-88.496 16.608-23.248 40.992-39.504 69.6-39.504 28.576 0 52.96 16.256 69.568 39.504C822.24 285.728 832 317.072 832 350.944a16 16 0 0 1-32 0c0-27.984-8.128-52.64-20.448-69.904-12.352-17.28-27.968-26.096-43.552-26.096s-31.2 8.816-43.552 26.096zM196.528 60.96C173.248 82.496 154.528 114 143.2 148.064a16 16 0 1 1-30.368-10.112c12.656-38 33.936-74.528 61.984-100.48C203.04 11.376 238.992-4.704 279.648 1.232c33.824 4.944 56.16 27.056 69.536 50.896C362.432 75.744 368 102.704 368 122.016a16 16 0 1 1-32 0c0-14.224-4.352-35.728-14.72-54.224-10.24-18.24-25.264-31.824-46.24-34.896-28.704-4.192-55.392 6.688-78.512 28.064zM827.472 60.96c23.28 21.536 42 53.04 53.344 87.104a16 16 0 1 0 30.368-10.112c-12.64-38-33.92-74.528-61.984-100.48C820.976 11.376 785.008-4.704 744.352 1.232c-33.824 4.944-56.144 27.056-69.536 50.896C661.568 75.744 656 102.704 656 122.016a16 16 0 1 0 32 0c0-14.224 4.352-35.728 14.72-54.224 10.24-18.24 25.28-31.824 46.256-34.896 28.688-4.192 55.376 6.688 78.496 28.064z" fill="#AE660F" p-id="31304"></path>',123:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#EF450F" p-id="31886"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FF6636" p-id="31887"></path><path d="M400 353.216c0 70.688-50.144 128-112 128s-112-57.312-112-128 50.144-128 112-128 112 57.312 112 128z" fill="#681908" p-id="31888"></path><path d="M384 353.216c0 61.856-42.976 112-96 112s-96-50.144-96-112 42.976-112 96-112 96 50.144 96 112z" fill="#FFFFFF" p-id="31889"></path><path d="M832 353.216c0 70.688-50.144 128-112 128s-112-57.312-112-128 50.144-128 112-128 112 57.312 112 128z" fill="#681908" p-id="31890"></path><path d="M816 353.216c0 61.856-42.976 112-96 112s-96-50.144-96-112 42.976-112 96-112 96 50.144 96 112z" fill="#FFFFFF" p-id="31891"></path><path d="M336 401.216a64 64 0 1 1-128 0 64 64 0 0 1 128 0zM768 401.216a64 64 0 1 1-128 0 64 64 0 0 1 128 0z" fill="#681908" p-id="31892"></path><path d="M725.104 754.4a15.968 15.968 0 0 1-22.272 3.92c-7.12-4.96-14.192-9.984-21.248-14.976-73.76-52.192-144.304-102.128-233.632-102.128-22.864 0-42.72 7.008-56.704 19.808C377.504 673.6 368 693.12 368 721.216a16 16 0 0 1-32 0c0-35.888 12.432-64.384 33.648-83.808 20.976-19.2 49.088-28.192 78.304-28.192 100.096 0 179.12 56.128 251.44 107.488 7.328 5.2 14.576 10.368 21.776 15.408 7.248 5.056 9.008 15.04 3.936 22.272zM796.208 36a16 16 0 0 1 1.408 22.576 2484.336 2484.336 0 0 1-74.16 80.128c-28.672 29.6-58.992 59.04-80.208 74.832-12.336 9.184-25.136 13.664-37.904 13.552-12.656-0.112-23.68-4.704-32.704-10.88-17.52-12.064-29.52-31.552-35.456-45.312a16 16 0 1 1 29.376-12.672c4.624 10.72 13.488 24.224 24.208 31.584 5.104 3.52 10.048 5.232 14.848 5.28 4.672 0.032 10.816-1.488 18.512-7.232 18.88-14.048 47.568-41.728 76.352-71.424a2479.2 2479.2 0 0 0 73.136-79.024 16 16 0 0 1 22.592-1.408zM248.192 63.056a16 16 0 0 0-6.16 21.776c32.272 57.712 81.52 126.304 124.416 158.24 25.232 18.784 54.24 19.152 77.792 5.12 22.88-13.68 39.056-39.84 43.6-71.68a16 16 0 0 0-31.68-4.544c-3.456 24.16-15.232 40.912-28.32 48.72-12.432 7.424-27.424 7.776-42.288-3.28-37.296-27.776-83.856-91.472-115.584-148.208a16 16 0 0 0-21.776-6.144z" fill="#681908" p-id="31893"></path>',194:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FAC900" p-id="32033"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FEDA46" p-id="32034"></path><path d="M224 368h176v656H224z" fill="#94D7F9" p-id="32035"></path><path d="M384 384h-144v624h144V384z m-160-16v656h176V368H224z" fill="#73C8F3" p-id="32036"></path><path d="M624 368h176v656H624z" fill="#94D7F9" p-id="32037"></path><path d="M784 384h-144v624h144V384z m-160-16v656h176V368H624z" fill="#73C8F3" p-id="32038"></path><path d="M184 368a24 24 0 0 1 24-24h208a24 24 0 0 1 0 48H208a24 24 0 0 1-24-24zM512 640a16 16 0 0 1 16 16v128a16 16 0 0 1-32 0v-128a16 16 0 0 1 16-16zM178.144 136a16 16 0 0 0 5.856 21.856l204.096 117.84a16 16 0 0 0 16-27.712L200 130.144a16 16 0 0 0-21.856 5.856zM841.008 136a16 16 0 0 1-5.856 21.856l-204.096 117.84a16 16 0 0 1-16-27.712l204.096-117.84a16 16 0 0 1 21.856 5.856zM584 368a24 24 0 0 1 24-24h208a24 24 0 0 1 0 48H608a24 24 0 0 1-24-24z" fill="#AE660F" p-id="32039"></path>',124:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FAC900" p-id="32179"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FEDA46" p-id="32180"></path><path d="M184 384A24 24 0 0 1 208 360h208a24 24 0 0 1 0 48H208A24 24 0 0 1 184 384zM640 736a16 16 0 0 1-16 16H400a16 16 0 0 1 0-32h224a16 16 0 0 1 16 16zM178.144 152A16 16 0 0 0 184 173.856l204.096 117.84a16 16 0 0 0 16-27.712L200 146.144A16 16 0 0 0 178.144 152zM841.008 152a16 16 0 0 1-5.856 21.856l-204.096 117.84a16 16 0 0 1-16-27.712l204.096-117.84a16 16 0 0 1 21.856 5.856zM584 384a24 24 0 0 1 24-24h208a24 24 0 0 1 0 48H608a24 24 0 0 1-24-24z" fill="#AE660F" p-id="32181"></path><path d="M1024 160m16 0l0 0q16 0 16 16l0 208q0 16-16 16l0 0q-16 0-16-16l0-208q0-16 16-16Z" fill="#AE660F" p-id="32182"></path><path d="M944 112m16 0l0 0q16 0 16 16l0 224q0 16-16 16l0 0q-16 0-16-16l0-224q0-16 16-16Z" fill="#AE660F" p-id="32183"></path><path d="M864 48m16 0l0 0q16 0 16 16l0 272q0 16-16 16l0 0q-16 0-16-16l0-272q0-16 16-16Z" fill="#AE660F" p-id="32184"></path>',125:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FAC900" p-id="32324"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FEDA46" p-id="32325"></path><path d="M648 752a24 24 0 0 1-24 24H400a24 24 0 0 1 0-48h224a24 24 0 0 1 24 24z" fill="#AE660F" p-id="32326"></path><path d="M416 352a127.92 127.92 0 0 1-37.488 90.512 127.952 127.952 0 0 1-139.488 27.744A127.952 127.952 0 0 1 160 352h256z" fill="#FAC900" p-id="32327"></path><path d="M400 352a111.952 111.952 0 0 1-69.136 103.472 111.952 111.952 0 0 1-146.336-60.608A111.952 111.952 0 0 1 176 352h224z" fill="#FFFFFF" p-id="32328"></path><path d="M416 368a127.92 127.92 0 0 0-37.488-90.512 127.952 127.952 0 0 0-139.488-27.744A127.952 127.952 0 0 0 160 368h256zM864 368a127.92 127.92 0 0 0-37.488-90.512 127.952 127.952 0 0 0-139.488-27.744A127.952 127.952 0 0 0 608 368h256z" fill="#FAC900" p-id="32329"></path><path d="M864 352a127.92 127.92 0 0 1-37.488 90.512 127.952 127.952 0 0 1-139.488 27.744A127.952 127.952 0 0 1 608 352h256z" fill="#FAC900" p-id="32330"></path><path d="M848 352a111.952 111.952 0 0 1-69.136 103.472 111.952 111.952 0 0 1-146.336-60.608A111.952 111.952 0 0 1 624 352h224z" fill="#FFFFFF" p-id="32331"></path><path d="M352 368a64.08 64.08 0 0 1-18.752 45.248A64.08 64.08 0 0 1 288 432a64.08 64.08 0 0 1-45.248-18.752A64.08 64.08 0 0 1 224 368h128zM800 368a64.08 64.08 0 0 1-18.752 45.248A64.08 64.08 0 0 1 736 432a64.08 64.08 0 0 1-45.248-18.752A64.08 64.08 0 0 1 672 368h128z" fill="#AE660F" p-id="32332"></path>',126:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FAC900" p-id="32472"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FEDA46" p-id="32473"></path><path d="M304 288c70.688 0 128 50.144 128 112s-57.312 112-128 112-128-50.144-128-112 57.312-112 128-112z" fill="#AE660F" p-id="32474"></path><path d="M304 304c61.856 0 112 42.976 112 96s-50.144 96-112 96-112-42.976-112-96 50.144-96 112-96z" fill="#FFFFFF" p-id="32475"></path><path d="M736 512c-70.688 0-128-50.144-128-112s57.312-112 128-112 128 50.144 128 112-57.312 112-128 112z" fill="#AE660F" p-id="32476"></path><path d="M736 496c-61.856 0-112-42.976-112-96s50.144-96 112-96 112 42.976 112 96-50.144 96-112 96z" fill="#FFFFFF" p-id="32477"></path><path d="M384 336c26.512 0 48 28.656 48 64s-21.488 64-48 64-48-28.656-48-64 21.488-64 48-64zM656 464c-26.512 0-48-28.656-48-64s21.488-64 48-64 48 28.656 48 64-21.488 64-48 64z" fill="#AE660F" p-id="32478"></path><path d="M336 720a16 16 0 0 1 16-16h368a16 16 0 0 1 0 32H352a16 16 0 0 1-16-16z" fill="#AE660F" p-id="32479"></path>',127:'<path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#FAC900" p-id="32619"></path><path d="M512 512m-496 0a496 496 0 1 0 992 0 496 496 0 1 0-992 0Z" fill="#FEDA46" p-id="32620"></path><path d="M639.28 726.448a16 16 0 0 1-16 16h-224a16 16 0 0 1 0-32h224a16 16 0 0 1 16 16zM240.912 361.984c2.816-28.08 28.96-67.264 80.592-73.344 19.76-2.32 37.408 1.648 50.08 10.832 12.32 8.912 21.728 24 23.232 47.888 0.864 13.824-2.416 28.256-10.192 38.8-7.296 9.888-19.536 17.824-40.448 17.824a44.96 44.96 0 0 1-24.656-8.144c-7.168-5.184-12.048-12.48-12.048-23.152 0-12.576 4.96-17.168 8.864-19.344a20.88 20.88 0 0 1 11.152-2.464c0.8 0.064 1.184 0.176 1.184 0.176h-0.016a16 16 0 0 0 10.016-30.4c-9.728-3.2-24.896-2.48-37.856 4.704-14.512 8.048-25.344 23.616-25.344 47.328 0 22.608 11.264 38.944 25.328 49.12 13.536 9.76 30.048 14.176 43.36 14.176 30.432 0 52.512-12.24 66.224-30.832 13.216-17.952 17.584-40.32 16.368-59.776-2.016-32.208-15.392-56.608-36.384-71.808-20.608-14.944-46.784-19.744-72.592-16.704-67.552 7.952-104.496 59.904-108.704 101.936-5.984 59.92 13.568 100.448 48.384 126.56 17.92 13.44 43.44 21.36 67.312 24.608 23.728 3.216 49.248 2.304 67.456-5.04a16 16 0 1 0-11.968-29.68c-10.88 4.384-30.032 5.888-51.168 3.008-21.008-2.864-40.528-9.568-52.432-18.496-24.8-18.608-40.752-47.648-35.744-97.76zM624.912 361.984c2.816-28.08 28.96-67.264 80.592-73.344 19.76-2.32 37.408 1.648 50.08 10.832 12.32 8.912 21.728 24 23.232 47.888 0.864 13.824-2.416 28.256-10.192 38.8-7.296 9.888-19.536 17.824-40.448 17.824a44.96 44.96 0 0 1-24.656-8.144c-7.168-5.184-12.048-12.48-12.048-23.152 0-12.576 4.96-17.168 8.864-19.344a20.88 20.88 0 0 1 11.152-2.464c0.8 0.064 1.184 0.176 1.184 0.176h-0.016a16 16 0 0 0 10.016-30.4c-9.728-3.2-24.896-2.48-37.856 4.704-14.512 8.048-25.344 23.616-25.344 47.328 0 22.608 11.264 38.944 25.328 49.12 13.536 9.76 30.048 14.176 43.36 14.176 30.432 0 52.512-12.24 66.224-30.832 13.216-17.952 17.584-40.32 16.368-59.776-2.016-32.208-15.392-56.608-36.384-71.808-20.608-14.944-46.784-19.744-72.592-16.704-67.552 7.952-104.496 59.904-108.704 101.936-5.984 59.92 13.568 100.448 48.384 126.56 17.92 13.44 43.44 21.36 67.312 24.608 23.728 3.216 49.248 2.304 67.456-5.04a16 16 0 1 0-11.968-29.68c-10.88 4.384-30.032 5.888-51.168 3.008-21.008-2.864-40.528-9.568-52.432-18.496-24.8-18.608-40.752-47.648-35.744-97.76z" fill="#AE660F" p-id="32621"></path>',128:'<path d="M153.733443 329.401847C136.104631 229.813404 128.390033 159.39379 130.557772 118.158947c3.267547-61.860235 11.571897-67.008613 23.175671-72.507655 11.587836-5.499042 60.090978-11.699411 101.533033 8.559378 41.442054 20.242849 69.8458 50.336156 83.139136 63.948277 4.957107 5.068682-19.955943 54.065941-83.139136 121.520853-17.740387 18.935831-51.595357 48.853806-101.533033 89.722047z" fill="#FFD113" p-id="32761"></path><path d="M150.290565 38.414871l-1.864892 0.892598c-11.221233 5.594677-17.644751 14.552537-21.533929 35.193868l-1.051991 6.216308-0.908537 6.901696c-0.286907 2.422766-0.557874 4.957107-0.796963 7.618962l-0.717266 8.384046a558.192588 558.192588 0 0 0-0.318785 4.494869l-0.557874 9.611369c-0.398481 7.650841-0.478178 16.242097-0.223149 25.789709l0.366602 9.882336c0.159393 3.395061 0.366603 6.885757 0.589753 10.503967l0.796962 11.157476 0.494117 5.801887 1.147626 12.113831 0.63757 6.280065 1.466411 13.070187 1.689561 13.707756 1.91271 14.345326 2.119921 14.982897 2.34307 15.652345 2.566219 16.258036 2.789369 16.927486 2.99658 17.565055 3.984812 22.522162 21.900532-17.963536 20.880419-17.405663 18.585168-15.843616 8.447803-7.332056 11.571897-10.296756 7.01327-6.375701 6.439458-5.977219 8.607196-8.256532 5.020864-5.036804 4.46299-4.638322 7.284238-7.88993 7.04515-7.826172 6.80606-7.762416 3.299425-3.82542 6.39164-7.603023 6.104733-7.475509 5.801888-7.332056 5.499042-7.140784 5.164317-6.965453 4.829593-6.758243 4.462991-6.535093 4.112327-6.296004c1.960528-3.076276 3.793542-6.056916 5.467163-8.925981l3.140032-5.594677c9.308523-17.214392 12.448555-29.726704 7.603023-34.683812l-7.363934-7.491448-6.471336-6.423518-5.849705-5.626556-5.562799-5.100561a254.868632 254.868632 0 0 0-2.757491-2.422766l-5.674373-4.781775c-0.956355-0.796963-1.960528-1.593925-2.98064-2.390888l-6.455397-5.036804c-13.388971-10.201121-27.415513-19.031466-42.239017-26.283825-36.261797-17.708508-87.586187-18.52141-108.514424-8.591257z m101.453336 23.01628c13.85121 6.758243 26.985153 15.046653 39.561222 24.626143l3.155972 2.422766c8.910042 6.933574 15.572649 12.78328 24.020452 21.039812l6.742304 6.694486 5.483102 5.54686-0.43036 1.466411c-0.318785 1.020112-0.765084 2.183677-1.307018 3.506635-1.91271 4.654261-4.973046 10.583663-9.005677 17.389723l-4.351416 7.092967c-15.062593 23.781363-37.728208 52.567652-66.195712 82.963805l-4.415172 4.606443-5.148379 5.1165-5.754069 5.578738-6.39164 5.977219-10.774934 9.786701-12.161649 10.743055-13.580242 11.71535-14.982897 12.655766-16.943424 14.074359-3.570393-21.167326-2.629976-16.40149-2.438706-15.74798-2.199616-15.110411-1.992407-14.47284-1.785196-13.819331-1.546107-13.181761-1.354837-12.544191-1.115747-11.890682-0.478178-5.706252-0.796962-10.918387-0.605692-10.280817-0.366603-9.627308a312.935325 312.935325 0 0 1 0.191271-24.976807l0.525996-8.894103 0.557873-8.033383 0.621631-7.188602 0.318785-3.315364 0.717266-6.056916 0.796963-5.371528a117.950461 117.950461 0 0 1 0.86072-4.718018l0.956355-4.112327c2.661855-10.21706 6.327883-14.552537 11.587836-17.182513l1.705499-0.828841c15.779859-7.491448 59.102745-7.092967 90.774038 6.80606l3.745724 1.737379z" fill="#FAC900" p-id="32762"></path><path d="M644.232031 106.507354c53.555885-52.567652 97.213495-82.565323 130.988769-89.945197 50.68682-11.07778 96.703439-12.910794 108.960723 4.733958 12.241345 17.628812 33.121765 66.004441 33.121765 174.279776 0 72.172931-1.083869 111.415368-3.219729 117.759191-46.558554-15.524831-93.595285-41.282661-141.094254-77.257552-47.49897-35.974891-90.423374-79.154323-128.757274-129.570176z" fill="#FFD113" p-id="32763"></path><path d="M773.499361 8.720046c-35.608288 7.778355-80.365706 38.509232-134.893886 92.065117l-5.052743 4.941168 4.287659 5.642495c38.76426 50.989666 82.19872 94.679154 130.303381 131.116283 48.168418 36.484947 95.954294 62.641259 143.389507 78.468935l7.587084 2.518402 2.789369-8.288411 0.41442-1.91271 0.382542-2.534341 0.525995-4.941168 0.605692-8.766589 0.478178-11.316868 0.318785-10.201121 0.430359-24.849293 0.159393-19.955943 0.111575-35.130111c0-90.917491-14.233752-149.589876-34.556298-178.87028-12.78328-18.393896-49.873918-20.752905-101.389579-11.205294l-10.503966 2.072103-5.387467 1.147626z m104.083312 17.150634c18.218564 26.220069 31.687232 81.7843 31.687232 169.705211l-0.111575 35.273564-0.382542 33.615881-0.63757 24.817415-0.318785 7.858051-0.334724 5.371528-7.013271-2.598098c-40.421942-15.524831-81.306122-38.939591-122.636601-70.228342l-9.324462-7.204542c-40.135035-31.623475-76.87501-68.602539-110.251803-110.95313l-3.299425-4.25578 5.626556-5.387467c47.658362-45.171839 86.613893-70.977487 116.356536-77.464763l10.057668-2.103981c46.144133-9.021616 80.174435-8.033383 89.658289 2.390888l0.924477 1.163565z" fill="#FAC900" p-id="32764"></path><path d="M507.680463 546.239425m-473.858009 0a473.858009 473.858009 0 1 0 947.716018 0 473.858009 473.858009 0 1 0-947.716018 0Z" fill="#FAC900" p-id="32765"></path><path d="M507.680463 546.239425m-458.062211 0a458.06221 458.06221 0 1 0 916.124421 0 458.06221 458.06221 0 1 0-916.124421 0Z" fill="#FEDA46" p-id="32766"></path><path d="M965.487645 635.610808C924.316559 854.552367 733.236811 1020.113373 503.950678 1020.113373c-199.352219 0-369.679061-125.01155-438.010632-301.411246 1.721439-1.291079 3.283486-2.582159 4.845532-3.873239 70.658702-57.094399 138.990273-112.371723 337.704923-112.371723 85.944444 0 172.972758 21.422354 253.465977 41.234844 118.858999 29.264466 223.675517 55.022296 289.648079 3.140032 4.845532-4.271719 9.356341-8.017444 13.883088-11.221233z" fill="#FFFCF0" p-id="32767"></path><path d="M364.928526 590.773694c36.532765-0.972294 84.589608-15.142289 113.567167 13.388971 22.840947 53.603703-82.071206 78.134211-44.422694 131.849489 28.515321 61.605207 109.02448 63.438221 162.102188 38.254203 29.774522-11.460322 48.359689-43.322886 80.174436-49.156651-22.681555 70.228342-114.045345 95.842719-179.268762 82.995682-55.755502-20.338485-119.241541 26.889517-169.641454-16.003008-16.385551-14.9032-51.515661-44.311119-29.61513-66.24353 30.23676 43.115675 80.333828 82.772533 134.049106 54.257213-17.166574-37.505059-30.412092-80.190374-66.785464-103.095079-25.678134-19.127102-43.801063-78.676146-0.159393-86.24729z m80.971398 29.073195c-4.574565 17.820083 1.562047 23.335064 18.266382 16.417429 4.558626-18.170747-1.577986-23.669789-18.282321-16.417429zM162.3247 409.703796a64.235184 64.235184 0 0 1 64.251123-64.235183h128.518185a64.235184 64.235184 0 1 1 0 128.502246h-128.518185a64.235184 64.235184 0 0 1-64.235184-64.267063z" fill="#AE660F" p-id="32768"></path><path d="M178.391466 409.703796c0-26.61855 25.215896-48.184357 56.21774-48.184357h112.451419c31.001844 0 56.21774 21.581747 56.21774 48.184357 0 26.61855-25.215896 48.200297-56.21774 48.200297h-112.451419c-31.001844 0-56.21774-21.581747-56.21774-48.200297z" fill="#FFFFFF" p-id="32769"></path><path d="M499.663019 409.703796a64.235184 64.235184 0 0 1 64.235184-64.235183h128.518185a64.235184 64.235184 0 1 1 0 128.502246h-128.502246a64.235184 64.235184 0 0 1-64.251123-64.267063z" fill="#AE660F" p-id="32770"></path><path d="M515.713846 409.703796c0-26.61855 25.231835-48.184357 56.233679-48.184357h112.43548c31.001844 0 56.21774 21.581747 56.21774 48.184357 0 26.61855-25.215896 48.200297-56.21774 48.200297h-112.43548c-31.001844 0-56.233679-21.581747-56.233679-48.200297z" fill="#FFFFFF" p-id="32771"></path><path d="M363.127391 361.519439c22.15556 0 40.150975 21.581747 40.150974 48.184357 0 26.61855-17.995415 48.200297-40.166914 48.200297-22.15556 0-40.150975-21.581747-40.150974-48.200297s17.995415-48.184357 40.166914-48.184357zM700.449771 361.519439c22.15556 0 40.166914 21.581747 40.166914 48.184357 0 26.61855-18.011354 48.200297-40.166914 48.200297-22.15556 0-40.166914-21.581747-40.166914-48.200297s18.011354-48.184357 40.166914-48.184357z" fill="#AE660F" p-id="32772"></path>',201:'<path d="M508.8 119.936a64.8 64.8 0 0 1 129.6 0V461.6c0 81.472 52.24 153.776 129.6 179.36v314.352l-160.416-53.056a144 144 0 0 1-98.784-136.72V119.936z" fill="#FEDA46" p-id="33061"></path><path d="M573.6 190.88c-31.808 0-57.6 25.6-57.6 57.152v235.76a7.168 7.168 0 0 1-7.2 7.152c-3.984 0-7.2-3.2-7.2-7.152V248.032c0-39.456 32.24-71.44 72-71.44s72 31.984 72 71.44v235.76a7.168 7.168 0 0 1-7.2 7.152c-3.984 0-7.2-3.2-7.2-7.152V248.032c0-31.552-25.792-57.152-57.6-57.152z" fill="#FAC900" p-id="33062"></path><path d="M508.8 119.936a64.8 64.8 0 0 0-129.6 0V461.6c0 81.472-52.24 153.776-129.6 179.36v314.352l160.416-53.056a144 144 0 0 0 98.784-136.72V119.936z" fill="#FEDA46" p-id="33063"></path><path d="M501.6 119.44C501.6 79.984 533.84 48 573.6 48s72 31.984 72 71.44v343.104c0 77.888 50.224 147.024 124.672 171.648L768 640.96h7.2v324.256l-170.208-56.288c-61.744-20.416-103.392-77.76-103.392-142.336V119.44z m259.2 526.608c-77.616-27.952-129.6-101.2-129.6-183.504V119.44c0-31.568-25.792-57.152-57.6-57.152s-57.6 25.584-57.6 57.152v647.152c0 58.432 37.68 110.304 93.536 128.784l151.264 50.016V646.048z" fill="#FAC900" p-id="33064"></path><path d="M768 955.2V629.248a14.4 14.4 0 0 1 16.656-14.224l172.8 27.344a14.4 14.4 0 0 1 12.144 14.224V955.2a14.4 14.4 0 0 1-14.4 14.4H782.4a14.4 14.4 0 0 1-14.4-14.4z" fill="#AE660F" p-id="33065"></path><path d="M516 119.44C516 79.984 483.76 48 444 48s-72 31.984-72 71.44v343.104c0 77.888-50.224 147.024-124.672 171.648l2.272 6.768h-7.2v324.256l170.208-56.288c61.744-20.416 103.392-77.76 103.392-142.336V119.44z m-259.2 526.608c77.616-27.952 129.6-101.2 129.6-183.504V119.44c0-31.568 25.792-57.152 57.6-57.152s57.6 25.584 57.6 57.152v647.152c0 58.432-37.68 110.304-93.536 128.784l-151.264 50.016V646.048z" fill="#FAC900" p-id="33066"></path><path d="M444 190.88c31.808 0 57.6 25.6 57.6 57.152v235.76c0 3.952 3.216 7.152 7.2 7.152s7.2-3.2 7.2-7.152V248.032c0-39.456-32.24-71.44-72-71.44s-72 31.984-72 71.44v235.76c0 3.952 3.216 7.152 7.2 7.152s7.2-3.2 7.2-7.152V248.032c0-31.552 25.792-57.152 57.6-57.152z" fill="#FAC900" p-id="33067"></path><path d="M249.6 955.2V629.248a14.4 14.4 0 0 0-16.656-14.224l-172.8 27.344a14.4 14.4 0 0 0-12.144 14.224V955.2a14.4 14.4 0 0 0 14.4 14.4h172.8a14.4 14.4 0 0 0 14.4-14.4z" fill="#AE660F" p-id="33068"></path>',202:'<path d="M414.4 145.6l9.6-35.2a84.8 84.8 0 0 1 116.8-54.4 88 88 0 0 1 44.8 100.8l-17.6 171.2a40 40 0 0 0 36.8 51.2h260.8a72 72 0 0 1 72 73.6 73.6 73.6 0 0 1-72 73.6h32a73.6 73.6 0 0 1 72 73.6 72 72 0 0 1-72 73.6h-32a75.2 75.2 0 0 1 0 148.8h-32a72 72 0 0 1 72 73.6 73.6 73.6 0 0 1-72 73.6H475.2a969.6 969.6 0 0 1-244.8-32L48 888V460.8l49.6-11.2c91.2-22.4 184-56 240-131.2 33.6-44.8 54.4-96 76.8-172.8z" fill="#FEDA46" p-id="33208"></path><path d="M883.2 526.4a14.4 14.4 0 0 1-14.4 14.4h-86.4a14.4 14.4 0 0 1 0-28.8h86.4a14.4 14.4 0 0 1 14.4 14.4z" fill="#FAC900" p-id="33209"></path><path d="M833.6 822.4v14.4a59.2 59.2 0 0 1 0 118.4H475.2a945.6 945.6 0 0 1-241.6-32L62.4 876.8V472l38.4-9.6c91.2-20.8 188.8-56 248-136 36.8-46.4 57.6-99.2 80-177.6l9.6-35.2a70.4 70.4 0 0 1 96-44.8 72 72 0 0 1 36.8 84.8l-17.6 171.2a54.4 54.4 0 0 0 51.2 68.8h260.8a59.2 59.2 0 0 1 0 118.4v14.4a73.6 73.6 0 0 0 72-73.6 72 72 0 0 0-72-73.6H604.8a40 40 0 0 1-36.8-51.2l17.6-171.2a88 88 0 0 0-44.8-100.8 84.8 84.8 0 0 0-116.8 54.4l-9.6 35.2c-22.4 76.8-43.2 128-76.8 172.8-56 75.2-148.8 108.8-240 131.2l-49.6 11.2v427.2l182.4 49.6a969.6 969.6 0 0 0 244.8 32h358.4a73.6 73.6 0 0 0 72-73.6 72 72 0 0 0-72-73.6z m32-148.8v-14.4h32a59.2 59.2 0 0 0 0-118.4h-32v-14.4h32a73.6 73.6 0 0 1 72 73.6 72 72 0 0 1-72 73.6z m0 0v14.4a60.8 60.8 0 0 1 0 120h-32v14.4h32a75.2 75.2 0 0 0 0-148.8z" fill="#FAC900" p-id="33210"></path><path d="M747.2 673.6a14.4 14.4 0 0 1 12.8-14.4h100.8a17.6 17.6 0 0 1 16 14.4 16 16 0 0 1-16 14.4h-100.8a12.8 12.8 0 0 1-12.8-14.4z m0 148.8a12.8 12.8 0 0 1 12.8-14.4h73.6a16 16 0 0 1 14.4 14.4 17.6 17.6 0 0 1-14.4 14.4h-73.6a14.4 14.4 0 0 1-12.8-14.4z" fill="#FAC900" p-id="33211"></path><path d="M48 364.8m28.8 0l144 0q28.8 0 28.8 28.8l0 547.2q0 28.8-28.8 28.8l-144 0q-28.8 0-28.8-28.8l0-547.2q0-28.8 28.8-28.8Z" fill="#AE660F" p-id="33212"></path>',203:'<path d="M292.608 730.336l5.168 13.936 34.496-12.768a282.48 282.48 0 0 1 184.64-4.016l24.592 7.904 12.4-14.448a350.48 350.48 0 0 1 289.04-121.28 111.584 111.584 0 0 1 100.736 83.776l30.72 120.608a103.2 103.2 0 0 1-77.6 126.16 1980.704 1980.704 0 0 1-526.544 45.072l-207.504-10.064a112.16 112.16 0 0 1-105.92-125.68l17.648-143.792a418.208 418.208 0 0 1 25.856-102.016l145.472-370.4 151.2-153.968a44.608 44.608 0 0 1 70.528 9.072l71.12 124.16a18.448 18.448 0 0 1-5.168 24.112l-21.12 15.392a44.08 44.08 0 0 1-54.928-2.432l-3.072-2.688a17.6 17.6 0 0 0-28.4 8.16l-4.144 13.712a56.384 56.384 0 0 1-64.256 39.12 17.088 17.088 0 0 0-20.192 17.44l7.072 187.168a361.088 361.088 0 0 1-64.064 219.296l12.208 8.464v0.016l0.016-0.016z" fill="#FEDA46" p-id="33352"></path><path d="M240.112 217.728l-1.744 2.672-145.472 370.4a426.208 426.208 0 0 0-26.352 103.968L48.896 838.56a120.16 120.16 0 0 0 113.472 134.64l207.52 10.08a1988.704 1988.704 0 0 0 528.656-45.264 111.2 111.2 0 0 0 83.6-135.936l-30.72-120.608a119.584 119.584 0 0 0-107.936-89.792l-6.752-0.384a358.48 358.48 0 0 0-288.896 124.432l-8.944 10.4-19.52-6.256-6.912-2.128a290.48 290.48 0 0 0-182.96 6.256l-27.008 9.984-4.592-12.368-3.28 0.4-3.184-2.208 4.32-6.688a369.088 369.088 0 0 0 56.688-210.848l-7.072-187.168a9.088 9.088 0 0 1 10.736-9.28 64.384 64.384 0 0 0 73.376-44.672l4.144-13.696a9.6 9.6 0 0 1 15.472-4.448l3.072 2.672a52.08 52.08 0 0 0 64.896 2.88l21.12-15.392a26.448 26.448 0 0 0 7.408-34.56l-71.12-124.16a52.608 52.608 0 0 0-83.168-10.688l-151.2 153.968z m220.48-135.328l71.136 124.16a10.448 10.448 0 0 1-2.928 13.664l-21.152 15.408a36.08 36.08 0 0 1-44.944-2l-3.056-2.672a25.6 25.6 0 0 0-41.328 11.856l-4.16 13.712a48.384 48.384 0 0 1-52.224 34.016l-2.912-0.448a25.088 25.088 0 0 0-29.632 25.616l7.072 187.168a353.088 353.088 0 0 1-62.656 214.432l-4.544 6.576 16.72 11.584 7.072 19.072 42-15.536a274.48 274.48 0 0 1 179.408-3.904l29.664 9.536 15.84-18.48a342.48 342.48 0 0 1 282.448-118.512 103.584 103.584 0 0 1 93.52 77.76l30.704 120.608a95.2 95.2 0 0 1-71.568 116.384 1972.704 1972.704 0 0 1-524.416 44.896l-207.52-10.08a104.16 104.16 0 0 1-98.368-116.72l17.664-143.776 1.392-10.272a410.24 410.24 0 0 1 23.968-89.792l144.848-368.864 150.08-152.832a36.608 36.608 0 0 1 57.872 7.44z" fill="#FAC900" p-id="33353"></path><path d="M465.824 162.656a7.456 7.456 0 0 1 10.4 1.584l17.856 24.256a7.424 7.424 0 1 1-11.968 8.8l-17.856-24.24a7.456 7.456 0 0 1 1.568-10.4z m-15.36 6.032a7.424 7.424 0 0 1 6.304 8.4l-7.44 51.728a7.44 7.44 0 0 1-14.72-2.112l7.44-51.728a7.424 7.424 0 0 1 8.416-6.288z" fill="#FAC900" p-id="33354"></path><path d="M286.992 719.328a8 8 0 0 1 12.064 10.496c-40.896 47.072-74.448 74.976-101.392 83.744a8 8 0 1 1-4.96-15.2c23.456-7.648 55.136-34 94.288-79.04zM816.56 655.504a8 8 0 1 1 0 16c-113.744 0-193.488 40.592-240.416 121.92a8 8 0 1 1-13.856-8c49.952-86.576 135.104-129.92 254.272-129.92z" fill="#FAC900" p-id="33355"></path>',204:'<path d="M414.24 872.48l10.24 35.488c14.4 50.544 69.44 75.888 115.84 53.344 36.8-17.856 55.68-60.272 44.64-100.448l-17.44-171.056c-7.04-25.552 11.68-50.88 37.6-50.88H865.6c39.84 0 72-33.072 72-73.856 0-40.8-32.16-73.872-72-73.872h32c39.84 0 72-33.072 72-73.872 0-40.784-32.16-73.856-72-73.856h-32c39.84 0 72-33.072 72-73.872s-32.16-73.872-72-73.872h-32c39.84 0 72-33.072 72-73.856C905.6 81.072 873.44 48 833.6 48H474.88c-82.56 0-164.96 10.944-244.64 32.56L48 129.92v426.944l48.8 11.568c91.36 21.632 184.48 55.952 240.96 130.832 34.24 45.36 54.56 96.272 76.48 173.216z" fill="#FEDA46" p-id="33639"></path><path d="M833.6 195.728v-14.4c31.52 0 57.6-26.272 57.6-59.456C891.2 88.672 865.12 62.4 833.6 62.4H474.88c-81.28 0-162.4 10.784-240.96 32.064L62.4 140.944v404.528l37.76 8.944c91.68 21.744 189.44 56.992 249.12 136.176 35.84 47.504 56.8 100.464 78.88 177.936l10.08 35.488c12.16 42.256 57.76 62.832 95.84 44.352 30.24-14.752 46.24-50.032 36.96-83.712l-0.32-1.136-17.44-171.152c-8.48-33.84 16.32-67.84 51.84-67.84H865.6c31.52 0 57.6-26.272 57.6-59.456 0-33.2-26.08-59.472-57.6-59.472v-14.4c39.84 0 72 33.072 72 73.872 0 40.784-32.16 73.856-72 73.856H605.12c-25.92 0-44.64 25.328-37.6 50.88l17.44 171.056c11.04 40.176-7.84 82.592-44.64 100.448-46.4 22.544-101.44-2.8-115.84-53.344l-10.24-35.488c-21.92-76.944-42.24-127.856-76.48-173.216-56.48-74.88-149.6-109.2-240.96-130.832L48 556.864V129.92l182.24-49.36A935.12 935.12 0 0 1 474.88 48H833.6c39.84 0 72 33.072 72 73.872 0 40.784-32.16 73.856-72 73.856z m32 147.744v14.4h32c31.52 0 57.6 26.272 57.6 59.456 0 33.2-26.08 59.472-57.6 59.472h-32v14.4h32c39.84 0 72-33.072 72-73.872 0-40.784-32.16-73.856-72-73.856h-32z m0 0v-14.4c31.52 0 57.6-26.272 57.6-59.472 0-33.184-26.08-59.472-57.6-59.472h-32v-14.4h32c39.84 0 72 33.072 72 73.872s-32.16 73.872-72 73.872z" fill="#FAC900" p-id="33640"></path><path d="M883.04 490.8a13.68 13.68 0 0 0-13.76-14.48h-86.24c-8 0-14.56 6.48-15.04 14.48-0.32 8 5.92 14.48 13.76 14.48h86.4c7.84 0 14.56-6.48 14.88-14.48zM746.4 341.536c0 7.952 6.4 14.4 14.4 14.4h100.8c8 0 14.4-6.448 14.4-14.4s-6.4-14.4-14.4-14.4h-100.8c-8 0-14.4 6.448-14.4 14.4z m-0.16-145.488c0 7.952 6.4 14.4 14.4 14.4h72.96c8 0 14.4-6.448 14.4-14.4s-6.4-14.4-14.4-14.4h-72.96c-8 0-14.4 6.448-14.4 14.4z" fill="#FAC900" p-id="33641"></path><path d="M48 48m28.8 0l144 0q28.8 0 28.8 28.8l0 547.2q0 28.8-28.8 28.8l-144 0q-28.8 0-28.8-28.8l0-547.2q0-28.8 28.8-28.8Z" fill="#AE660F" p-id="33642"></path>'},muiltIcons:{118:"#icon-biaoqing-weixiao-wubaibian",119:"#icon-biaoqing-bugaoxing-wubaibian",120:"#icon-biaoqing-xiaoku-wubaibian",121:"#icon-biaoqing-xihuan-wubaibian",122:"#icon-biaoqing-xiao-wubaibian",123:"#icon-biaoqing-shengqi-wubaibian",194:"#icon-biaoqing-ku-wubaibian",124:"#icon-biaoqing-heixian-wubaibian",125:"#icon-biaoqing-kun-wubaibian",126:"#icon-biaoqing-douyan-wubaibian",127:"#icon-biaoqing-yun-wubaibian",128:"#icon-biaoqing-goutou-wubaibian",201:"#icon-biaoqing-heshi-wubaibian",202:"#icon-biaoqing-zan-wubaibian",203:"#icon-biaoqing-jiayou-wubaibian",204:"#icon-biaoqing-bishi-wubaibian"},init:function(){var e=C(k().mark(function e(t,n,o){var a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof chartTitle&&chartTitle?i.info.title=chartTitle:i.info.title=outlineObj.model.data.title.substring(0,35),this.type=t,"opml"!=t){e.next=4;break}i.opml(outlineObj.model.data),e.next=12;break;case 4:if("image"!=t&&"png"!=t&&"jpg"!=t&&"pdf"!=t){e.next=9;break}return e.next=7,i.image(n,o);case 7:return a=e.sent,e.abrupt("return",{w:$("#outline-con").width(),h:$("#outline-con").height(),img:a});case 9:if("over"!=outlineObj.controller.testTopicCount(outlineObj)){e.next=11;break}return e.abrupt("return");case 11:this.sendExport(JSON.stringify(outlineObj.model.data),t);case 12:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}(),opml:function(e){var t="";(e.id="root")&&(t="<head><title>"+r(e.title).replace(/</g,"&lt;")+"</title></head>");var n=e.children,i=e.leftChildren||[],o="";o=function e(t,n){return t.forEach(function(t,i,o){var a=t.children||[],s=t.image?'image="'+encodeURI(JSON.stringify(t.image).replace(/&/g,"&amp;"))+'"':"";a.length>0?(n+='<outline text="'+r(t.title)+'" '+s+" >",n+=e(t.children,""),n+="</outline>"):n+='<outline text="'+r(t.title)+'" '+s+"/>"}),n}(n.concat(i),o);var a='<?xml version="1.0" encoding="UTF-8"?><opml version="2.0">'+t+"<body>"+o+"</body></opml>";function r(e){return null==e||""==e?"":e=(e=(e=(e=(e=(e=(e=(e=e.toString()).replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/%3C/g,"&lt;")).replace(/%3E/g,"&gt;")).replace(/'/g,"&#39;")).replace(/"/g,"&quot;")).replace(/&nbsp;/g," ")}this.sendExport(a,"opml")},imageFormate:{png:"image/png",jpg:"image/jpeg",pdf:"image/png"},image:function(){var e=C(k().mark(function e(t,n){var i,o,a,r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this,o=this.type,a="outline-con","mobi"==t&&(a="outline"),$("svg.icon-list").each(function(){var e=$(this),t=e.attr("ico");e.replaceWith('<svg  ico="'.concat(t,'" class="icon icon-list" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"  width="200" height="200">').concat(i.muiltIconsSvg[t],"</svg>"))}),$(".node-remark").map(function(){}),$(".node-remark").addClass("active"),r=document.getElementById(a),!("mobi"==t&&r.getBoundingClientRect().height>3376)){e.next=7;break}e.t0=($(".node-remark").css("height","17px"),void alert("生成图片过大，请移至电脑端进行下载")),e.next=10;break;case 7:return e.next=9,bigPipe.render({js:[staticBasePath+"/assets/js/files/html2canvas.min.js"]},C(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=html2canvas(r,{useCORS:!0,scale:Math.min(window.devicePixelRatio,2)}),e.abrupt("return",($(".node-remark").removeClass("active"),$("svg.icon-list").each(function(){var e=$(this),t=e.attr("ico");e.replaceWith('<svg ico="'.concat(t,'" n="face" class="icon icon-list" aria-hidden="true"> <use xlink:href="').concat(i.muiltIcons[t],'"></use></svg>'))}),t.toDataURL(i.imageFormate[o])));case 2:case"end":return e.stop()}},e)})));case 9:e.t0=e.sent;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),sendExport:function(e,t){var n=document.createElement("form"),i=window.location.port?"/v5api_exprot":"http://192.168.10.135:8082";i=window.location.href.indexOf("processon")>=0?"":i;var o=chartObj.orgId?"/api/org/diagram/export/mindmap":i+"/chart_image/diagram_export/mindmap";function a(e,t){var n=document.createElement("input");return n.type="hidden",n.name=e,n.value=t,n}n.setAttribute("action",o),n.setAttribute("method","POST"),n.appendChild(a("title",chartTitle)),n.appendChild(a("type",t)),n.appendChild(a("chartId",editorGlobal.chartId)),"opml"!=t&&"png"!=t&&"jpg"!=t&&"pdf"!=t&&"pos"!=t||n.appendChild(a("outline","outline")),n.appendChild(a("definition",e)),n.appendChild(a("ignore","definition")),document.body.appendChild(n),n.submit(),document.body.removeChild(n)},exportImg:function(e,t){if("png"==t&&(t="image"),this.isIE()||"pdf"==t)this.sendExport(e,t);else{var n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),i=document.createElement("a");i.setAttribute("download",chartTitle),i.setAttribute("href",e),i.setAttribute("target","_blank"),i.dispatchEvent(n)}},isIE:function(){var e=navigator.userAgent;return e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1}};t.default=i},36960:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.getFontBlobUrl=function(){var e=C(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.get(t);case 3:return n=e.sent.fontBlob,e.abrupt("return",URL.createObjectURL(n));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return","");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),t.getFontMenuHtml=function(){for(var e="",t="",n=0;n<d.length;n++){var i=d[n],o='<li class="po-menu-item" ac="'.concat(i.type,'"><div class="po-menu-item-box">'),a=i.display||i.type;/^(http|blob:|data:image\/)/.test(a)||/\.(jpg|jpeg|png|gif|bmp|svg)/.test(a)?o+='<img src="'.concat(a,'">'):o+='<span class="text" style="font-family:'.concat(i.type,'">').concat(a,"</span>"),o+="</div></li>",i.isFree?e+=o:t+=o}return e&&(e='<div class="label" style="width:100%;box-sizing:border-box; padding-right: 12px;" full-title="'.concat(r.default.t("Free_commercial"),'">').concat(r.default.t("Free_commercial"),"</div>")+e,t&&(t='<li class="devider"></li><div class="label">'.concat(r.default.t("Other"),"</div>")+t)),e+t},t.initFontList=function(e){var t;d=null!=e&&null!==(t=e.list)&&void 0!==t&&t.length?e.list:c},t.loadFont=function(e,t){var n=d.find(function(t){return t.type===e&&t.packageUrl}),i=u[e];if(n&&!i){var r=n.packageUrl;u[e]=r,o?l.get(e).then(function(n){if(n.version===(0,a.md5)(r)){var i=n.fontBlob,o=URL.createObjectURL(i);h(e,o,t)}else p(e,r,t)}).catch(function(n){p(e,r,t)}):h(e,r,t)}},t.loadedFonts=void 0,n(96700),n(27531),n(61894),n(4790),n(82403),n(12638),n(38887),n(37212),n(69268),n(86837),n(84889),n(14237),n(24812),n(56980),n(97316),n(92439),n(16610),n(19301);var o,a=n(78322),r=i(n(32483)),s="fonts",l={open:function(){var e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(e){var t=e.open("poFonts",1);t.onerror=function(){},t.onsuccess=function(e){o=e.target.result},t.onupgradeneeded=function(e){(o=e.target.result).objectStoreNames.contains(s)||o.createObjectStore(s,{keyPath:"fontName"})}}},add:function(e,t,n){var i=o.transaction([s],"readwrite").objectStore(s).put({fontName:e,fontBlob:t,version:n});i.onsuccess=function(){},i.onerror=function(){}},get:function(e){return new Promise(function(t,n){var i=o.transaction([s],"readonly").objectStore(s).get(e);i.onsuccess=function(i){var o=i.target.result;o?t(o):n("".concat(e," 字体未找到"))},i.onerror=function(){n("加载 ".concat(e," 字体失败"))}})}};try{l.open()}catch(e){o=null}var c=[{type:"黑体"},{type:"楷体"},{type:"宋体"},{type:"微软雅黑"},{type:"Arial"},{type:"Times New Roman"},{type:"Comic Sans MS"},{type:"Courier New"},{type:"Verdana"},{type:"Garamond"},{type:"Georgia"},{type:"Impact"},{type:"Tahoma"},{type:"Lucida Console"}],d=[],u=t.loadedFonts={};function p(e,t,n){fetch(t).then(function(e){var n=e.headers.get("content-type");if(n&&n.includes("font")||/\.(woff|ttf|otf|ttc|eot)/.test(t))return e.blob();throw new Error("返回不是字体包")}).then(function(i){l.add(e,i,(0,a.md5)(t)),h(e,URL.createObjectURL(i),n)}).catch(function(i){h(e,t,n)})}function h(e,t,n){if(window.FontFace)new FontFace(e,"url(".concat(t,")")).load().then(function(t){document.fonts.add(t),n&&n(e)}).catch(function(e){});else{var i=$(".style_load_fonts[data-name="+e+"]");if(i.length){var o=i.attr("data-url");if(t===o||o.startsWith("blob:"))return;i.remove()}var a=$('<style class="style_load_fonts"></style>');a.attr("data-name",e),a.attr("data-url",t),a.append("@font-face{font-family:'".concat(e,"'; src:url(").concat(t,");}")),$("head").append(a),document.fonts.ready.then(function(){var t=[];document.fonts.forEach(function(e){t.push(e.family)}),t.includes(e)&&n&&n(e)})}t.startsWith("blob:")}},34678:function(e,t,n){n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.CrateFooterBar=void 0;var o=i(n(66603));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(61894),n(33809),n(54938),n(14237),n(16004),t.CrateFooterBar=function(){function e(){T(this,e),this.footerBar={},this.footerBarLeft=[],this.footerBarRight=[],this.navBarFnArr=[],this.footer=$(".po-footer")}return M(e,[{key:"render",value:function(){var e=this;if(!this.footer.length){var t=function(t){var n="";return function(t){t.map(function(t){"[object Object]"===Object.prototype.toString.call(t)&&(e.footerBar=r(r({},e.footerBar),t),t=Object.keys(t)[0]);var i=e.footerBar[t];n+=i.html||i.getHtml(),i.fn&&e.navBarFnArr.push(t)})}(t),n},n='\n\t\t\t\t<div class="po-footer-left ">\n\t\t\t\t\t'.concat(t(this.footerBarLeft),'\n\t\t\t\t</div>\n\t\t\t\t<div class="po-footer-right">\n\t\t\t\t\t').concat(t(this.footerBarRight),"\n\t\t\t\t</div>\n\t\t\t");this.footer=$('<div id="po-designer-foot" class="po-footer mind-set-background tint"> </div>'),$("body").append(this.footer),$("body").hasClass("dark-mode")&&$(".po-footer ").removeClass("tint").addClass("deep"),$(window).trigger("resize.designer"),this.footer.html(n)}this.onRenderComplete(),this.footerResize()}},{key:"onRenderComplete",value:function(){}},{key:"setFooterStyle",value:function(e){e||(e="#fff"),this.footer.css({background:e})}},{key:"tint",value:function(){this.footer.addClass("tint").removeClass("deep")}},{key:"deep",value:function(){this.footer.addClass("deep").removeClass("tint")}},{key:"footerResize",value:function(){var e=this.footer[0],t=this;new ResizeObserver(function(e){var n,i=v(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.target.offsetWidth-50;t.resetFooterElement(o)}}catch(a){i.e(a)}finally{i.f()}}).observe(e)}},{key:"resetFooterElement",value:function(e){}}]),e}()},70790:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreen=void 0,n(69268),n(86837);var o=i(n(32483)),a=n(83316);t.FullScreen=function(){function e(){T(this,e)}return M(e,[{key:"init",value:function(e,t){if(e&&e.length){var n=this;this.$fullScreenBtn=e,this.callback=t,e.off("click.fullScreen").on("click.fullScreen",function(){"full"===$(this).attr("tit")?(n.enterFullScreen(),(0,a.$poCollect)("mind_click",{button:"full-screen",btn_pos:"bottom-tool",power:"全屏"})):n.exitFullScreen(),n.resetBtnVal()})}}},{key:"resetBtnVal",value:function(){this.$fullScreenBtn&&this.$fullScreenBtn.length&&(this.isFullScreen?this.$fullScreenBtn.attr("tit","exit").attr("original-title",o.default.t("js.Exit_Full_screen")).find(".po-diagraming-icons").html("&#xe720;"):this.$fullScreenBtn.attr("tit","full").attr("original-title",o.default.t("js.Full_screen")).find(".po-diagraming-icons").html("&#xe71d;"),$(".po-hover-tip").remove())}},{key:"enterFullScreen",value:function(){var e=this,t=e.callback,n=document.documentElement;n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():$.toast({type:"warning",text:o.default.t("js.Current_browser_does_not_support")}),e.isFullScreen=!0,$(document).off("selectstart"),$(window).off("resize.fullscreen").on("resize.fullscreen",function(){document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?e.isFullScreen=!0:(e.isFullScreen=!1,t&&t("resize")),e.resetBtnVal()}),t&&t("enter")}},{key:"exitFullScreen",value:function(){this.isFullScreen=!1;var e=document;e.exitFullscreen?e.exitFullscreen():e.mozExitFullscreen?e.mozExitFullscreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}}]),e}()},6535:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(87812),n(1053),n(82403),n(33809),n(6284);var o=i(n(32483)),a=i(n(93256));window.$=n(34683);var r=window.location.href;function s(e,t){e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var l,c={zh:"zh-CN",de:"de-DE",en:"en-US",es:"es-ES",fr:"fr-FR",hi:"hi-IN",id:"id-ID",it:"it-IT",ja:"ja-JP",ms:"ms-MY",pl:"pl-PL",pt:"pt-PT",ru:"ru-RU",th:"th-TH",tl:"tl-PH",ko:"ko-KR",tw:"zh-TW",vi:"vi-VN"};function d(e){return Object.keys(a.default).indexOf(e)>-1?e:Object.keys(c).indexOf(e.split("-")[0])>-1?c[e.split("-")[0]]:void 0}l=s("lang",r)&&(Object.keys(a.default).indexOf(s("lang",r))>-1||Object.keys(c).indexOf(s("lang",r).split("-")[0])>-1)?d(s("lang",r)):navigator.language&&(Object.keys(a.default).indexOf(navigator.language)>-1||Object.keys(c).indexOf(navigator.language.split("-")[0])>-1)?d(navigator.language):localStorage.getItem("DEFAULT_LANGUAGE")||"zh-CN",o.default.init({lng:l,fallbackLng:localStorage.getItem("DEFAULT_LANGUAGE")||"zh-CN",resources:a.default},function(e,t){}),t.default=o.default},28181:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.previewImage=void 0,n(61894),n(96909),n(83403),n(28293),n(95313),n(33488),n(70116),n(20005),n(13552),n(42712),n(42211),n(20306),n(32209),n(68801),n(18097),n(62495),n(72216),n(63061),n(69268),n(86837),n(14237),n(81475),n(57895),n(77439),n(24812),n(56980),n(97316),n(92439),n(16610),n(19301);var o=i(n(32483));n(49583),t.previewImage={data:{imgUrl:"",angle:0,imgW:0,imgH:0,scale:100,scaleMin:10,scaleMax:500,scaleInt:5,translateX:0,translateY:0,clientWidth:0,clientHeight:0,hasImageTpIds:[],currentPageImgs:[],currentImgIdx:-1,zoomNoticeTimeIdx:0,imageShow:!1,clientID:"#img-preview ",base64:""},fn:function(e){var t=this;"mind"==e&&editorGlobal.mindMap.on("topic_img_dblclick",this.mindDblclickFn.bind(this)),"outline"==e&&$(document).on("dblclick.imagePreview",".node-image > img",function(e){e.stopPropagation();var n=$(this).parents(".node-element").attr("id");list=outlineObj&&outlineObj.model.nodeList,t.renderPreviewDlg(n,list,function(){},function(e){})})},mindDblclickFn:function(e,t){t.stopPropagation();var n=editorGlobal.mindMap,i=e.id,o=n.renderer.topicsList;this.renderPreviewDlg(i,o,function(){n.opt.readonly||(n.execCommand("CLEAR_ALL_SELECTED_TOPIC"),window.selectImageId="",$(".mind-designer").find(".img-dot").remove(),$(".mind-designer").find(".topic-image img.active").removeClass("active"),$("#insert-img-toolbar").remove(),$("#area_".concat(i)).is(":focus")&&$("#area_".concat(i)).blur())},function(){n.opt.readonly||e.selected()})},renderPreviewDlg:function(e,t,n,i){var a=this.data;$("#img-preview").length||$('<div id="img-preview">\n                <div class="image-container">\n                    <img class="current-image" src="" alt="">\n                </div>\n                <div class="zoom-ratio-notice">100%</div>\n                <div class="bottom-tool">\n                    <div class="tool-item" title="'.concat(o.default.t("js.Zoom_in"),'" tit="zoom-in" title-pos="top"><span class="po-diagraming-icons">&#xe6a9;</span></div>\n                    <div class="tool-item" title="').concat(o.default.t("js.Downsizing"),'" tit="zoom-out" title-pos="top"><span class="po-diagraming-icons">&#xe6aa;</span></div>\n                    <div class="tool-item" tit="zoom-size-actual" title="').concat(o.default.t("js.Actual_size"),'" title-pos="top"><span class="po-diagraming-icons">&#xe9e9;</span></div>\n                    <div class="tool-item" tit="zoom-size-adapt" title="').concat(o.default.t("js.Adapt_to_the_screen"),'" title-pos="top"><span class="po-diagraming-icons">&#xe9e8;</span></div>\n                    <div class="tool-item" title="').concat(o.default.t("js.Download_Pictures"),'" tit="export" title-pos="top"><span class="po-diagraming-icons">&#xe939;</span></div>\n                    <div class="tool-item" title="').concat(o.default.t("js.The_last_one"),'" tit="prev" title-pos="top"><span class="po-diagraming-icons">&#xe6cf;</span></div>\n                    <div class="tool-item preview-img-page"><span class="current-page">1</span>/<span class="all-page">4</span></div>\n                    <div class="tool-item" title="').concat(o.default.t("js.Next_one"),'" tit="next" title-pos="top"><span class="po-diagraming-icons">&#xe6cd;</span></div>\n                </div>\n                <div class="close-btn" title="').concat(o.default.t("js.Close"),'"><span class="po-diagraming-icons">&#xe80d;</span></div>\n            </div>')).appendTo("body"),"wps"==window.source&&$("#img-preview .tool-item[tit=export]").remove(),this.getImages(t);var r=e?a.hasImageTpIds.indexOf(e):-1,s=r>-1?a.currentPageImgs[r]:{};a.currentImgIdx=r,a.imgUrl=s.originalUrl||s.url,a.base64="",a.angle=s.angle||0,n&&(this.previewCallback=function(e){n(e)}),i&&(this.closePreviewCallback=function(e){i(e)}),this.loadImageById(),this.previewInitEvent()},renderPreviewToClient:function(e,t,n,i){var a=this.data;$("#img-preview-client").length?$("#img-preview-client .image-container").html('<img class="current-image" src="" alt="">'):$('<div id="img-preview-client">\n\t\t\t\t<div class="bottom-tool">\n\t\t\t\t\t<div class="tool-item" tit="preview-close" title-pos="top"><span style="margin-right:4px" class=" po-diagraming-icons">&#xe810;</span>'.concat(o.default.t("js.Replacement_picture"),'</div>\n\t\t\t\t\t<div class="po-tool-devider"></div>\n\t\t\t\t\t<div class="tool-item"  tit="zoom-rotate" title-pos="top"><span style="margin-right:4px" class="po-diagraming-icons">&#xea05;</span>').concat(o.default.t("js.Spin"),'</div>\n\t\t\t\t\t<div class="po-tool-devider"></div>\n\t\t\t\t\t<div class="tool-item" title="').concat(o.default.t("js.Zoom_in"),'" tit="zoom-in" title-pos="top"><span class="po-diagraming-icons">&#xe6a9;</span></div>\n\t\t\t\t\t<div class="tool-item" title="').concat(o.default.t("js.Downsizing"),'" tit="zoom-out" title-pos="top"><span class="po-diagraming-icons">&#xe6aa;</span></div>\n\t\t\t\t\t<div class="tool-item" tit="zoom-size-actual" title="').concat(o.default.t("js.Actual_size"),'" title-pos="top"><span class="po-diagraming-icons">&#xe9e9;</span></div>\n\t\t\t\t\t<div class="tool-item" tit="zoom-size-adapt" title="').concat(o.default.t("js.Adapt_to_the_screen"),'" title-pos="top"><span class="po-diagraming-icons">&#xe9e8;</span></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="ocr-image-con">\t\t\n\t\t\t\t\t<div class="image-container">\n\t\t\t\t\t\t<img class="current-image" src="" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n                <div class="zoom-ratio-notice">100%</div>\n            </div>')).appendTo("#"+e),a.imgUrl=t,a.base64="",a.angle=0,i&&(this.closePreviewCallback=function(e){i(e)}),this.loadImageByUrl(t),this.previewInitEvent()},loadImageByUrl:function(e){var t=this,n=t.data,i=$("#img-preview-client"),a=$("#img-preview-client .current-image")[0];n.scale=100,n.translateX=0,n.translateY=0,n.clientID="#img-preview-client ",a.src=e,a.onload=function(){n.imgW=a.width,n.imgH=a.height,t.imgInit(),i.show(),$(a).is(":visible")||$(a).show()},a.onerror=function(){$.toast({type:"error",text:o.default.t("js.Image_failed_to_open")})}},loadImageById:function(){var e=this,t=e.data,n=$("#img-preview"),i=$("#img-preview .current-image")[0];t.imageShow=!0,e.canvasDrawImage(function(a){if(a){t.scale=100,t.translateX=0,t.translateY=0,t.clientID="#img-preview ",i.src=a,i.onload=function(){t.imageShow&&(t.imgW=i.width,t.imgH=i.height,e.imgInit(),n.show(),$(i).is(":visible")||$(i).show())},i.onerror=function(){t.imageShow&&$.toast({type:"error",text:o.default.t("js.Image_failed_to_open")})},$("#img-preview .preview-img-page .current-page").text(t.currentImgIdx+1),n.find(".tool-item[tit=prev], .tool-item[tit=next]").button("enable"),t.currentImgIdx<=0&&n.find(".tool-item[tit=prev]").button("disable"),t.currentImgIdx>=t.hasImageTpIds.length-1&&n.find(".tool-item[tit=next]").button("disable");var r=t.hasImageTpIds[t.currentImgIdx];e.previewCallback&&e.previewCallback(r)}else $.toast({type:"error",text:o.default.t("js.Image_failed_to_open")})},!0)},previewInitEvent:function(){var e=this,t=e.data,n=$(t.clientID),i=n.find(".current-image");function a(n){var o=t.currentPageImgs[n]||{};t.currentImgIdx=n,t.imgUrl=o.originalUrl||o.url,t.angle=o.angle||0,i.attr({style:""}).hide(),e.loadImageById()}n.off("mousedown").on("mousedown",function(e){e.stopPropagation()}),i.off("mousedown").on("mousedown",function(n){n.stopPropagation(),n.preventDefault();var i=t.translateX,o=t.translateY,a=n.pageX,r=n.pageY;$(document).off("mousemove.imgPreview").on("mousemove.imgPreview",function(n){n.stopPropagation();var s=n.pageX,l=n.pageY;t.translateX=Math.round(i+(s-a)),t.translateY=Math.round(o+(l-r)),e.setChange()}),$(document).off("mouseup.imgPreview").on("mouseup.imgPreview",function(e){$(document).off("mousemove.imgPreview"),$(document).off("mouseup.imgPreview")})}),n.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(t){var n=t.originalEvent.wheelDelta||-t.originalEvent.detail,i=Math.max(-1,Math.min(1,n));return t.preventDefault(),i<0?e.zoomFn(-1):e.zoomFn(1),!1}),$(document).off("keydown.imgPreview").on("keydown.imgPreview",function(e){var n=e.keyCode;if(37==n||38==n){if(t.currentImgIdx<=0)return;$(t.clientID+" .bottom-tool .tool-item[tit=prev]").trigger("click")}else if(39==n||40==n){if(t.currentImgIdx>=t.currentPageImgs.length-1)return;$(t.clientID+" .bottom-tool .tool-item[tit=next]").trigger("click")}}),$(t.clientID+" .bottom-tool").off("click").on("click",".tool-item",function(){switch($(this).attr("tit")){case"preview-close":e.closePreviewCallback();break;case"zoom-rotate":e.zoomRotate();break;case"zoom-in":e.zoomFn(1);break;case"zoom-out":e.zoomFn(-1);break;case"zoom-size-actual":e.zoomFn(0);break;case"zoom-size-adapt":e.imgInit();break;case"export":e.canvasDrawImage(function(t){t?e.triggerDownload(t,"po_diagram"):$.toast({type:"error",text:o.default.t("js.Failed_to_export_picture")})});break;case"prev":a(n=(n=t.currentImgIdx)<=0?0:n-1);break;case"next":var n=t.currentImgIdx,i=t.currentPageImgs.length-1;a(n=n>=i?i:n+1)}}),$(".image-container, "+t.clientID+" .close-btn").off("click").on("click",function(o){if("#img-preview-client "!=t.clientID&&(t.imageShow=!1,n.hide(),i.attr("src",""),$(document).off("keydown.imgPreview"),e.closePreviewCallback)){var a=t.currentImgIdx,r=t.hasImageTpIds[a];e.closePreviewCallback(r)}}),$(t.clientID+" .current-image").off("click.view-image").on("click.view-image",function(e){e.stopPropagation()})},zoomFn:function(e,t){var n=this.data,i=n.scale,o=Math.floor((n.scale-100)/n.scaleInt)+e,a=n.scaleInt*o+100;if(0===e)n.scale=100,n.translateX=0,n.translateY=0;else{n.scale=a<n.scaleMin?n.scaleMin:a>n.scaleMax?n.scaleMax:a;var r=Math.round(n.imgW*n.scale/100),s=Math.round(n.imgH*n.scale/100);n.clientWidth=$(n.clientID).width(),n.clientHeight=$(n.clientID).height(),r>n.clientWidth&&(n.translateX=n.translateX-Math.round(n.imgW*(n.scale-i)/200)),s>n.clientHeight&&(n.translateY=n.translateY-Math.round(n.imgH*(n.scale-i)/200))}t||this.zoomNotice(),this.setChange()},zoomRotate:function(){var e=this.data,t=this,n=$(e.clientID+" .current-image")[0];$(".image-container").css("opacity",0),this.zoomFn(0,!0),e.angle-=90,e.angle<0&&(e.angle=270),this.canvasDrawImage(function(i){i?(e.translateX=0,e.translateY=0,n.src=i,n.onload=function(){setTimeout(function(){$(".image-container").css("opacity",1);var i=n.width,o=n.height;e.imgW=o,e.imgH=i,$(e.clientID+" .current-image").width(o),$(e.clientID+" .current-image").height(i),t.imgInit()},100)},n.onerror=function(){$.toast({type:"error",text:o.default.t("js.Picture_rotation_failure")})}):$.toast({type:"error",text:o.default.t("js.Picture_rotation_failure")})},!0)},setChange:function(e){var t=this.data,n=Math.round(t.imgW*t.scale/100),i=Math.round(t.imgH*t.scale/100);t.clientWidth=$(t.clientID).width(),t.clientHeight=$(t.clientID).height(),$(t.clientID+" .image-container.adapt").removeClass("adapt"),e&&($(t.clientID+" .image-container").addClass("adapt"),t.clientWidth-=176,t.clientHeight-=96);var o=n>t.clientWidth?n-t.clientWidth:0,a=i>t.clientHeight?i-t.clientHeight:0;o||a?$(t.clientID+" .current-image").addClass("move"):$(t.clientID+" .current-image").removeClass("move"),t.translateX=t.translateX>0?0:t.translateX<-o?-o:t.translateX,t.translateY=t.translateY>0?0:t.translateY<-a?-a:t.translateY,$(t.clientID+" .current-image").css({width:n,height:i}),$(t.clientID+" .image-container").css({width:n,height:i,left:t.translateX,top:t.translateY});var r=$(t.clientID+" .tool-item[tit=zoom-size-adapt]"),s=$(t.clientID+" .tool-item[tit=zoom-size-actual]");100==t.scale?(s.hide(),r.show().button("enable"),t.imgW<t.clientWidth&&t.imgH<t.clientHeight&&r.button("disable")):(s.show(),r.hide().button("enable"))},imgInit:function(){var e=this.data;e.clientWidth="#img-preview "==e.clientID?$(e.clientID).width()-176:$(e.clientID).width(),e.clientHeight="#img-preview "==e.clientID?$(e.clientID).height()-96:$(e.clientID).height();var t=!1;(e.imgW>e.clientWidth||e.imgH>e.clientHeight)&&(e.scale=Math.round(100*Math.min(e.clientWidth/e.imgW,e.clientHeight/e.imgH)),t=!0),this.setChange(t)},zoomNotice:function(){var e=$(this.data.clientID+" .zoom-ratio-notice"),t=this.data.scale+"%";e.is(":visible")&&clearTimeout(this.data.zoomNoticeTimeIdx),e.html(t).show(),this.data.zoomNoticeTimeIdx=setTimeout(function(){e.hide()},1e3)},getImages:function(e){var t=this.data;for(var n in t.hasImageTpIds=[],t.currentPageImgs=[],e=e||{}){var i=e[n].image;if(i){if("root"==n){t.hasImageTpIds.unshift(n),t.currentPageImgs.unshift(i);continue}t.hasImageTpIds.push(n),t.currentPageImgs.push(i)}}$(t.clientID+" .preview-img-page .all-page").text(t.hasImageTpIds.length)},canvasDrawImage:function(e,t){var n=this,i=this.data,o=i.imgUrl,a=i.angle;if(o){if(t&&!a)return void(e&&e(o));var r=new Image;return r.src=o,r.setAttribute("crossOrigin","Anonymous"),r.onload=function(){try{o=function(e){var t=document.createElement("canvas"),o=e.height,r=e.width;t.width=r,t.height=o,90!==a&&270!==a||(t.width=o,t.height=r);var s=t.getContext("2d");90===a?s.translate(o,0):180===a?s.translate(r,o):270===a&&s.translate(0,r),s.rotate(a*Math.PI/180),s.drawImage(e,0,0,r,o);var l=t.toDataURL("image/png");return i.base64=l,URL.createObjectURL(n.dataURIToBlob(l))}(r),e&&e(o)}catch(t){e&&e(i.imgUrl)}},void(r.onerror=function(){n.replaceErrorUrl(r,o)})}e&&e(o)},replaceErrorUrl:function(e,t){var n=encodeURIComponent(t);injectExtraAsynCall("onServerApi",{apiName:"processCorsImage",params:{urls:n,temporary:!0}},function(t){var n=t.data.urls.join("");e.src=n})},dataURIToBlob:function(e){for(var t=atob(e.split(",")[1]),n=t.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=t.charCodeAt(o);return new Blob([i],{type:"image/png"})},triggerDownload:function(e,t){var n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),i=document.createElement("a");i.setAttribute("download",t),i.setAttribute("href",e),i.setAttribute("target","_blank"),i.dispatchEvent(n)}}},5263:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.searchGuide=t.insert=t.PoGuide=void 0,n(61894),n(5682),n(54183),n(65528),n(4790),n(82403),n(12638),n(33809),n(6284),n(37212),n(47958),n(69268),n(86837),n(84889);var o=n(41295),a=i(n(22425)),r=i(n(32483)),s=n(47306),l=n(83316),c=n(62937);n(15240),window.$=n(34683),n(27251),editorGlobal.katex=n(54205);var d=t.insert={image:{type:"mind",callback:null,init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type=window.fileType?window.fileType:"mind";var n="object"==("undefined"==typeof editorGlobalConfig?"undefined":w(editorGlobalConfig))&&"object"==w(editorGlobalConfig.flowConfig)?editorGlobalConfig.flowConfig:{};"mind"==this.type&&(n="object"==("undefined"==typeof editorGlobal?"undefined":w(editorGlobal))&&"object"==w(editorGlobal.config)?editorGlobal.config:{});var i=window.location.href;i.indexOf("mindmap")>-1?this.type="mind":i.indexOf("diagraming")>-1&&(this.type="flow"),!1!==n.userImages?this.loadUserImages():$("#upload-con .history").remove(),!1===n.searchIcon&&$("#po_image_box .img-tab-list [tit=search]").remove(),!1===n.networkImage&&$("#po_image_box .img-tab-list [tit=online]").remove(),t=$.extend({},{onClose:function(){$.loading("close")}},t),"object"==("undefined"==typeof editorGlobalConfig?"undefined":w(editorGlobalConfig))&&editorGlobalConfig.uploadCoverImage&&$(".upload-tip").text(r.default.t("js.Picture_size_should_not_exceed_20M")),$("#po_image_box").dialog(t),this.initEvent(),this.callback=e||null;var o=sessionStorage.getItem("upImgPos_");o&&sessionStorage.removeItem("upImgPos_"),sessionStorage.setItem("upImgPos",o||"")},initEvent:function(){var e=this;$("#text-search-img").empty().searchInput({maxLength:30,search:function(t){var n=t.toLowerCase();""!=n.trim()?(n=s.Util.restoreXss(n),e.searchImages(n)):this.empty()},empty:function(){$("#search-img-list").html('<div class="search-img-empty"><img src="'+staticBasePath+'/images/search-img.svg" style="width:120px;height:auto;margin:0"><div class="text-tip">'+r.default.t("js.English_word_search_is_recommended")+"</div></div>")}}),$(".img-tab-list").children("a").on("mousedown",function(e){var t=$(this),n=t.attr("tit");t.addClass("active").siblings().removeClass("active"),$(".po-image-detail").children("[tit="+n+"]").show().siblings().hide(),e.stopPropagation()}),$("#upload_po_img").on("dragover",function(){$(".po-upload .po-button.second").addClass("dragover")}),$("#upload_po_img").on("dragleave",function(){$(".po-upload .po-button.second").removeClass("dragover")}),$("#upload_po_img").on("drop",function(){$(".po-upload .po-button.second").removeClass("dragover")}),$("#upload_po_img [name=type]").val(e.type),$(".upload-img-btn").off("click").on("click",function(){$("#po_upload_img_file").trigger("click")}),$("#po_upload_img_file").off("change").on("change",function(){var t=C(k().mark(function t(n){var i,o,a,s,l,d,u;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=$(this),o=this.files[0],a=o.type,""!=$.trim(i.val())){t.next=3;break}return t.abrupt("return");case 3:if(s=r.default.t("js.Upload_image_files_in_JPG"),l=2,"object"==("undefined"==typeof editorGlobalConfig?"undefined":w(editorGlobalConfig))&&editorGlobalConfig.uploadCoverImage&&(s=r.default.t("js.You_can_upload_image_files_in_JPG"),l=20),!(a.indexOf("image")>=0)){t.next=19;break}if(/image\/\w+/.test(a)){t.next=7;break}return t.abrupt("return",($.toast({type:"error",text:s,target:$("#po_image_box")}),i.val(""),!1));case 7:if(t.t0="image/svg+xml"===a,!t.t0){t.next=12;break}return t.next=11,e.hasSvgError(o);case 11:t.t0=t.sent;case 12:if(!t.t0){t.next=14;break}return t.abrupt("return",($.toast({type:"error",text:r.default.t("js.The_picture_is_wrong"),target:$("#po_image_box")}),i.val(""),!1));case 14:$.loading({text:r.default.t("js.Uploading_now"),target:$("#po_image_box")}),d=document.getElementById("upload_po_img"),u=new FormData(d),injectExtraAsynCall("onServerApi",{apiName:"uploadImageForm",params:u},function(){var t=C(k().mark(function t(n){var a,d;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=n.data).url){t.next=5;break}$(".empty-upload").length>0&&$(".empty-upload").remove(),e.appendUserImage({imageId:a.imageId,fileId:a.url}),e.insertUserImage(a.url),i.val(""),t.next=13;break;case 5:if(s=r.default.t("js.Picture_size_should_not_exceed_2M"),"object"==("undefined"==typeof editorGlobalConfig?"undefined":w(editorGlobalConfig))&&editorGlobalConfig.uploadCoverImage&&(s=r.default.t("js.The_image_size_should_not_exceed_20M")),!(o.size>1048576*l)){t.next=7;break}return t.abrupt("return",($.toast({type:"error",text:s,target:$("#po_image_box")}),i.val(""),$.loading("close"),!1));case 7:return t.next=9,new Promise(function(t){if(o.size>2097152){if(["designer","flow"].indexOf(fileType)>-1&&!Designer.events.push("testVip","uploadCoverImg"))return $.loading("close"),i.val(""),void Designer.events.push("vipLimit","uploadCoverImg");if("mind"==fileType){var n=!0;if(editorGlobal.mindMap.emit("testVip","uploadCoverImg",function(e){n=!e}),n)return $.loading("close"),i.val(""),void editorGlobal.mindMap.emit("vip-limit","uploadCoverImg")}return"outline"!=fileType||c.vipState.test("uploadCoverImg")?void t(e.uploadQiNiu(o)):($.loading("close"),i.val(""),void outlineObj.events.trigger("vip-limit","uploadCoverImg"))}t(a)});case 9:if(d=t.sent,$.loading("close"),d.url){t.next=12;break}return t.abrupt("return",($.toast({type:"error",text:r.default.t("js.Upload_failed_on"),target:$("#po_image_box")}),void i.val("")));case 12:$(".empty-upload").length>0&&$(".empty-upload").remove(),e.appendUserImage(d.userImage),null!=d.userImage&&e.insertUserImage(d),i.val("");case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),t.next=20;break;case 19:$.toast({type:"error",text:r.default.t("js.Unsupported_file_format"),target:$("#po_image_box")}),i.val("");case 20:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),$("#btn-insert-img").off("click").on("click",function(){var t=$("#text-insert-img"),n=$(this).parent();if(""==$.trim(t.val())||!/(http[s]?:\/\/.*\.(png|jpg|gif|svg|jpeg)$)/i.test(t.val()))return t.addClass("error"),n.next(".text-tip").html('<span class="po-diagraming-icons">&#xe6c8;</span>'.concat(r.default.t("js.Please_check_that_the_url"))),void t.select();var i=$(this);i.addClass("disabled"),injectExtraAsynCall("onServerApi",{apiName:"processCorsImage",params:{urls:[encodeURIComponent($.trim(t.val()))]}},function(o){var a=o.data;a.urls&&a.urls[0]?(n.next(".text-tip").text(""),e.insertUserImage(a.urls[0]),t.val("")):(t.addClass("error"),n.next(".text-tip").html('<span class="po-diagraming-icons">&#xe6c8;</span>'.concat(r.default.t("js.Please_check_that_the_url"))),t.select()),i.removeClass("disabled")})}),$("#text-insert-img").off().on("blur",function(e){""!=$(this).val()||$(e.target).closest("#btn-insert-img").length||($(this).removeClass("error"),$(this).parents("div[tit=online]").find(".text-tip").html(""))})},uploadQiNiu:function(){var e=C(k().mark(function e(t){var n,i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},(i=editorGlobal.pageInfo)&&(n={userId:null==i?void 0:i.userId,group_id:i.group_id,pageKey:i.pageKey,parent_id:i.parent_id,encrypted_session:i.encrypted_session}),e.next=4,new Promise(function(e){injectExtraAsynCall("onServerApi",{apiName:"getQiniuToken",params:n},function(n){var i=n.credential,o=void 0===i?{}:i,r=n.urlPrefix,s=n.bucket,l=n.region,c=o.credentials,d=(o.expiration,o.expiredTime),u=o.startTime,p=(o.requestId,c.tmpSecretId),h=c.tmpSecretKey,m=c.sessionToken,f={tmpSecretId:p,tmpSecretKey:h,sessionToken:m,bucket:s,region:l},g="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),v=Object.keys(f).find(function(e){return!f[e]});v?reject("参数错误: ".concat(v," 不能为空")):new a.default({SecretId:p,SecretKey:h,SecurityToken:m,StartTime:u,ExpiredTime:d}).uploadFile({Bucket:s,Region:l,Key:"wps/".concat(g),ACL:"public-read",Body:t,onProgress:function(e){}},function(t,n){t?reject(t):e(r+g)})})});case 4:return o=e.sent,n.url=o,n.type=this.type,n.fileSize=t.size?t.size:0,e.next=10,new Promise(function(e){injectExtraAsynCall("onServerApi",{apiName:"uploadUserImage",params:n},function(t){"success"==t.result?e(t.data):$.loading("close")})});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),insertUserImage:function(e){var t=this,n="",i="";"string"==typeof e?n=e:(n=e.userImage.fileId,i=e.originalUrl||"");var o=new Image;o.src=n,o.onload=function(){t.callback&&t.callback(n,o,i),$.loading("close"),$("#po_image_box").dialog("close")}},loadUserImages:function(){var e=this,t=$("#upload-imgs");t.attr("loaded")||(t.empty(),injectExtraAsynCall("onServerApi",{apiName:"getUserImages",params:{type:e.type}},function(n){if(n&&n.length>0)for(var i=0;i<n.length;i++){var o=n[i];e.appendUserImage(o)}else t.parents(".history:first").remove()}),t.attr("loaded","true"))},appendUserImage:function(e){var t=this;$("#po_image_box .history").length||$("#po_image_box #upload-con").append('<div class="history">\n                <div class="title">'.concat(r.default.t("js.History"),'</div>\n                <div id="upload-imgs" class="upload-imgs"></div>\n              </div>'));var n=$("<div class='upload-img' id='"+e.imageId+"' fileId='"+e.fileId+"'></div>").appendTo($("#upload-imgs")),i="https://cdn.processon.com/"+e.fileId;null!=e.fileId&&e.fileId.indexOf("://")>=0&&((i=e.fileId).indexOf("orgu2a928.bkt.clouddn.com")>=0?i=i.replace("orgu2a928.bkt.clouddn.com","cdn2.processon.com"):i.indexOf("7xt9nt.com1.z0.glb.clouddn.com")>=0?i=i.replace("7xt9nt.com1.z0.glb.clouddn.com","cdn.processon.com"):i.indexOf("p7o7ul1nf.bkt.clouddn.com")>=0&&(i=i.replace("p7o7ul1nf.bkt.clouddn.com","cdn1.processon.com"))),$("<div class='image_box'><img src='"+i+"'/></div>").appendTo(n),n.off().on("click",function(){$(this).attr("fileid"),t.insertUserImage(i)}).on("mouseenter",function(){var e=$(this),t=$("<div title='"+r.default.t("js.Delete_picture")+"' class='remove_icons'><span class='po-diagraming-icons'>&#xe80c;</span></div>").appendTo(e),n=e.attr("id");t.on("click",function(t){e.fadeOut(),injectExtraAsynCall("onServerApi",{apiName:"removeUserImages",params:{imageId:n}},function(t){e.remove(),$(".po-hover-tip").remove(),0==$("#upload-imgs").find("img").length&&$("#upload-imgs").parents(".history:first").remove()}),t.stopPropagation()})}).on("mouseleave",function(){$(this).find(".remove_icons").remove()})},loadingSearchImg:!0,loadingSearchMore:!0,searchImages:function(e){var t=this;$("#search-img-list").empty();var n=1;function i(e){t.loadingSearchImg&&(t.loadingSearchImg=!1,$.loading({text:r.default.t("js.Loading")}),function(e,t){e=encodeURIComponent(e),injectExtraAsynCall("onServerApi",{apiName:"getSearchImages",params:{currentPage:n,keywords:e,source:"dialog"}},function(e){t&&t(e.data)})}(e,function(e){$.loading("close"),t.loadingSearchImg=!0,e&&e.pages&&e.pages.elements&&e.pages.elements.length?(e.pages.elements.length<20&&(t.loadingSearchMore=!1),o(e.pages)):$("#search-img-list").html('<div class="search-img-empty"><img src="'+staticBasePath+'/images/search-img.svg" style="width:120px;height:auto;margin:0"><div class="text-tip">'+r.default.t("js.English_word_search_is")+"</div></div>")}))}function o(o){var a=$("#search-img-list");$(".search-img-empty").remove();for(var r="",s=0,l=(o=o.elements).length;s<l;s++){var c=o[s];null!=c&&null!=c.url&&(r+='<img msrc="'+c.url+'" alt="'+c.iconName+'" src="'+c.url+'" />')}a.append(r),a.children("img").off().on("click",function(){var e=$(this).attr("msrc");t.insertUserImage(e)}),$(".search-img-con").off().on("scroll",function(){$(this).scrollTop()+$(this).innerHeight()>=a.innerHeight()-50&&t.loadingSearchImg&&t.loadingSearchMore&&(n++,i(e))})}i(e)},hasSvgError:function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.onload=function(t){var n=t.target.result,i=/<[^>]*\bscript\b[^>]*>/gi.test(n);e(i)},n.onerror=function(t){e(!0)},n.readAsText(t)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},link:{linkTimer:null,show:!0,showInput:!0,render:function(e,t,n){if(null!=e.target){if(this.target=e.target,0==$("#po_link_box").length){var i='<div id="po_link_box" class="po-link-box po-dropdown"><div class="po-link-top"><div class="name">ProcessOn</div><div class="title-toolbar"><div class="po-tool-devider" style="margin:0 0 0 8px"></div><a id="po-open-link" class="po-tool-button other" style="color:#212930">'+r.default.t("js.Open_the_link")+'</a><div id="po-copy-link" class="po-tool-button other" title="'+r.default.t("js.Copy")+'" title-pos="top"><span class="po-diagraming-icons text_content">&#xe7b8;</span></div><div id="po-edit-link" class="po-tool-button other" title="'+r.default.t("js.Edit")+'" title-pos="top"><span class="po-diagraming-icons text_content">&#xe6ae;</span></div><div id="po-remove-link" class="po-tool-button other" title="'+r.default.t("js.Delete")+'" title-pos="top"><span class="po-diagraming-icons text_content">&#xe7b7;</span></div></div></div><div class="link-input-box"><span>'+r.default.t("js.attachments")+'</span><div style="display:flex;flex:1;align-items: center;height:32px"><input id="po-file-address"  class="po-input-other po-link-address disabled"/><a id="po-upload-file" class="po-button second upload-file-btn"><span class="text">'+r.default.t("js.Upload_attachment")+'</span></a></div></div><div class="link-input-box"  style="margin-bottom:12px;"><span>超链接</span><div style="display:flex;flex:1;align-items: center;height:32px"><a id="po-upload-link" class="po-button second upload-file-btn"><span class="text">选择文件</span></a></div></div><div class="link-input-box"><span>'+r.default.t("js.Link")+'</span><input  id="po-url-address" class="po-input-other po-link-address" placeholder="'+r.default.t("js.Enter_link_address")+'"/></div><div class="text-tip"><span class="po-diagraming-icons">&#xe6c8;</span>'+r.default.t("js.Please_enter_a_valid_link")+'</div><div class="link-input-box" style="margin-top:16px;"><span>'+r.default.t("js.Title")+'</span><input  id="po-link-title" class="po-input-other po-link-title" placeholder="'+r.default.t("js.Enter_text_(not_required)")+'"/></div><div class="po-buttons link-btns"><div class="po-button cancel" style="margin-right:16px">'+r.default.t("js.Cancel")+'</div><div class="po-button primary ok">'+r.default.t("js.Sure")+"</div></div></div>";$("body").append(i)}$(".po-link-address").attr("placeholder",r.default.t("js.Enter_link_address"));var o=$(".po-link-top"),a=$(".po-link-title"),l=$("#po-copy-link"),c=$("#po-open-link"),d=$(".link-input-box"),u=$("#po-file-address"),p=$("#po-url-address"),h=$("#po-remove-link"),m=$("#po-edit-link");l.show(),d.hide(),o.hide(),d.eq(3).css("display","flex"),this.showInput=!0;var f=e.link,g=e.type;if(f&&f.type==g){o.css({display:"flex","margin-bottom":"18px"}),p.addClass("edit-address");var v=s.Util.restoreXss(f.title);if(v||f.value?(o.find(".name").show(),o.find(".po-tool-devider").show(),o.find(".name").text(v||f.value)):(o.find(".name").hide(),o.find(".po-tool-devider").hide()),a.val(v),m.addClass("selected"),"file"==g)c.text(r.default.t("js.Open_attachment")),d.eq(0).css("display","flex"),$("#po-upload-file").addClass("refresh").find(".text").text(r.default.t("js.reupload")),u.val(f.value).show();else if("t_link"==g)c.text(r.default.t("js.Go_to_the_theme")),l.hide(),"outline"==fileType&&m.hide();else if("url"==g){var b;null!==(b=window.editorGlobalConfig)&&void 0!==b&&b.showLocalLink&&d.eq(1).css("display","flex"),d.eq(2).css("display","flex"),$(".link-btns").css("display","flex"),c.text(r.default.t("js.Open_the_link")),p.val(f.value)}n&&(d.hide(),$(".link-btns").hide(),o.css("margin-bottom","0"),m.removeClass("selected"),this.showInput=!1)}else if("file"==g)d.eq(0).css("display","flex"),u.hide();else if("url"==g){var y;null!==(y=window.editorGlobalConfig)&&void 0!==y&&y.showLocalLink&&d.eq(1).css("display","flex"),d.eq(2).css("display","flex"),$(".link-btns").css("display","flex"),""==p.val()&&p.focus()}e.readonly&&(m.hide(),h.hide()),this.resetPanel(e),""==p.val()&&p.focus(),this.initEvent(e,g,t)}},initEvent:function(e,t,n){var i=this,o=$(".po-link-top"),a=$("#po-link-title"),l=$(".link-input-box"),c=$("#po-url-address"),d=$("#po-file-address"),u=$(".link-btns .cancel"),p=$(".link-btns .ok");$(document).on("mousedown.link","#po_link_box",function(e){e.stopPropagation()});var h=!1;function m(){i.showInput||(i.show=!1,i.linkTimer=setTimeout(function(){i.show||$("#po_link_box").remove(),clearTimeout(i.linkTimer)},500))}function f(e,t){var n=$.trim(e.val());""!=(n=$("<span/>").text(n).html())&&!s.Util.isUrl(n)&&n.length<200&&s.Util.isUrl("http://"+n)&&e.val("http://"+n),t||g()}function g(e){var i,o="url"==t?c.val():d.val();if(""!=(o=s.Util.filterXss($.trim(o)))&&(s.Util.isUrl(o)||null!==(i=window.editorGlobalConfig)&&void 0!==i&&i.showLocalLink)){var r=s.Util.filterXss($.trim(a.val()));n({value:o,title:r,type:t},t),e&&$("#po_link_box").remove()}else c.is(":visible")&&(c.addClass("error"),c.parent().next(".text-tip").show())}$("#po_link_box").unbind("mouseenter mouseleave").hover(function(){i.show=!0},function(){m()}),i.target.off("mouseleave").on("mouseleave",function(e){m()}),$("#po-open-link").off("click.openlink").on("click.openlink",function(i){"url"!=t||"mind_guide"!=window.editorGlobal.product?"t_link"!=t&&"file"!=t&&"url"!=t||(i.stopPropagation(),i.preventDefault(),injectExtraAsynCall("openFileUrl",{url:e.link.value,type:t,title:e.link.title},function(){n(null,"open")})):window.parent.postMessage(JSON.stringify({eventName:"mind_guide_topic_click_link",url:e.link.value}),"*")}),$("#po-copy-link").off("click.copylink").on("click.copylink",function(){if(!h){var e=$(this);if("file"==t)var n=d.val();else n=c.val();var i=document.createElement("input");i.setAttribute("value",n),document.body.appendChild(i),i.select(),document.execCommand("copy",!1),h=!0,e.attr("original-title",r.default.t("js.Copy_success")).trigger("mouseover"),setTimeout(function(){h=!1,e.attr("original-title",r.default.t("js.Copy")).trigger("mouseover")},1500),document.body.removeChild(i)}}),$("#po-edit-link").off().on("click",function(){if("t_link"!=t){var a,r=$(this);i.showInput=!0,r.hasClass("selected")?(l.hide(),$(".link-btns").hide(),o.css("margin-bottom","0"),r.removeClass("selected")):(o.css("margin-bottom","18px"),r.addClass("selected"),l.eq(3).css("display","flex"),"file"==t?l.eq(0).css("display","flex"):(null!==(a=window.editorGlobalConfig)&&void 0!==a&&a.showLocalLink&&l.eq(1).css("display","flex"),l.eq(2).css("display","flex"),$(".link-btns").css("display","flex"))),"outline"==fileType&&document.getElementById("po-url-address").addEventListener("paste",function(e){e.preventDefault();var t="";e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text"):window.clipboardData&&window.clipboardData.getData&&(t=window.clipboardData.getData("Text"));var n=t.indexOf("https://");n>-1&&(t=t.slice(n)),this.value=t}),i.resetPanel(e)}else n(null,"edit")}),$("#po-remove-link").off().on("click",function(){$("#po_link_box,.po-hover-tip").remove(),n(null,"remove")}),a.off().on("blur",function(){var e=s.Util.filterXss($.trim($(this).val()));""!=e&&e.length<50&&g()}).on("keyup",function(e){e.stopPropagation();var t=$(this);if(13==e.keyCode){var n=s.Util.filterXss($.trim(t.val()));""!=n&&n.length<50&&(g(),$("#po_link_box").remove())}}).on("keydown",function(e){e.stopPropagation()}),$(".po-link-address").off().on("blur",function(){f($(this),!0)}).on("keyup",function(e){var t=$(this);t.parent().next(".text-tip").hide(),t.removeClass("error"),13==e.keyCode&&($("#po_link_box").remove(),f(t))}).on("keydown",function(e){if("9"==e.keyCode){var t=$(this);t.parent().next(".text-tip").hide(),t.removeClass("error"),f(t,!0)}e.stopPropagation()}),$("#po-upload-file").off().on("click",function(){i.uploadFile(n)}),u.off().on("mousedown",function(e){$("#po_link_box").remove()}),p.off().on("mousedown",function(){var e=$("#po-url-address"),t=$.trim(e.val());""!=(t=$("<span/>").text(t).html())&&!s.Util.isUrl(t)&&t.length<200&&(s.Util.isUrl("http://"+t)?e.val("http://"+t):(e.addClass("error"),e.parent().next(".text-tip").show())),g(!0)})},uploadFile:function(e){function t(e,t,n,i){var o=document.createElement(e);return o.setAttribute("name",n),o.setAttribute("type",t),null!=i&&o.setAttribute("value",i),o}$("#upload_form").remove();var n=document.createElement("form"),i=t("input","file","file"),o=t("input","hidden","chartId",editorGlobal.chartId),a=t("input","hidden","topicId");n.setAttribute("id","upload_form"),n.setAttribute("method","post"),n.setAttribute("enctype","multipart/form-data"),n.setAttribute("style","display:none"),n.appendChild(i),n.appendChild(o),n.appendChild(a),document.body.appendChild(n),$(i).off("change").on("change",function(){var t=C(k().mark(function t(o){var a,s,l,c;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.files[0],s=this.files[0].type,""==$.trim($(this).val())){t.next=20;break}try{l=0,l=i.files[0].size,l/=1024,l/=1024}catch(o){l=100}if(!(l>5)){t.next=8;break}$.toast({type:"success",text:r.default.t("js.Upload_file_size")}),t.next=20;break;case 8:if(t.t0="image/svg+xml"===s,!t.t0){t.next=13;break}return t.next=12,d.image.hasSvgError(a);case 12:t.t0=t.sent;case 13:if(!t.t0){t.next=17;break}$.toast({type:"error",text:r.default.t("js.File_error")}),t.next=20;break;case 17:$.loading({text:r.default.t("js.Uploading_now")}),c=new FormData(n),injectExtraAsynCall("onServerApi",{apiName:"uploadAtta",params:c},function(t){var o=t.data;if(""!=o.file_url){var a={value:o.file_url,title:o.file_name,type:"file"};$.toast({type:"success",text:r.default.t("js.Attachment_uploaded_successfully")}),$("#po-file-address").show().val(o.file_url),$("#po-link-title").val(o.file_name),$("#po-upload-file").addClass("refresh").find(".text").text(r.default.t("js.reupload")),$(i).val(""),e(a,"file")}$.loading("close"),$(n).remove()});case 20:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),$(i).trigger("click")},uploadLinkFile:function(e){injectExtraAsynCall("onUploadLinkFile",null,function(t){t&&""!=t&&($.toast({type:"success",text:r.default.t("Link_Selected_Success")}),$("#po-url-address").val(t),$("#po-upload-link").addClass("refresh").find(".text").text(r.default.t("Select_Again")),e({value:t,title:"",type:"url"},"url"))})},resetPanel:function(e){e.target instanceof jQuery&&(e.target=e.target[0]),$.fn.showPanel($.extend({panel:$("#po_link_box"),position:"top"},e))},filterUrl:function(e){var t=e.indexOf("https://"),n="";return t>-1&&(n=e.slice(0,t),e=e.slice(t)),n&&"flow"==fileType&&""==$("#po-link-title").val()&&!$("#po-url-address").hasClass("edit-address")&&$("#po-link-title").val(n),e},close:function(){$("#po_link_box").remove()}},equation:{isLimit:function(){var e=!0;return editorGlobal.mindMap.emit("testVip","Latex",function(t){e=!t}),e&&editorGlobal.mindMap.emit("vip-limit","Latex"),e},equationInit:function(e,t){if(!d.equation.isLimit()){var n;$(".pop-editor").hide();var i,o,a,s=$(".eq-editor");if(0==s.length&&(s=$('<div class="eq-editor"><div><div class="po-input-other notranslate" pla="'+r.default.t("js.Enter_the_formula_syntax_such_as")+'" contenteditable="true"></div><div class="done">'+r.default.t("js.Done")+'</div><div class="eq-tip">*'+r.default.t("js.Equation_error")+'</div></div><div class="eg-title"><span>'+r.default.t("js.Up_down_script")+"</span><span>"+r.default.t("js.The_radical_sign_semicolon")+"</span><span>"+r.default.t("js.Integral_limit_sum_product")+'</span><div title="'.concat(r.default.t("More"),'" class="more"><span  class="po-diagraming-icons">&#xe6c7;</span></div></div><div class="eg-con"></div></div>')).appendTo("body"),s=$(".eq-editor")),$(".eg-con").html(""),$(".eg-title span").removeClass("on"),document.selection)i=document.selection.createRange(),o=document.getSelection().toString().replace(/\n/g,""),a=i.htmlText;else{var l=window.getSelection();i=l.getRangeAt(0),o=l.toString().replace(/\n/g,"");var c=document.createElement("div");c.appendChild(i.cloneContents()),a=c.innerHTML}var u=document.createElement("div");u.innerHTML=a;var p=$(u).find(".equation-text");p.length>0&&!t&&(t=e.find(".equation-text[data-index="+p.eq(0).data("index")+"]"));var h=$(".notranslate");if(t)h.text($(t[0].outerHTML).data("equation"));else{var m=document.createElement("span");m.className="eq-l";var f=document.createElement("span");f.className="eq-r",i.insertNode(m),i.collapse(!1),i.insertNode(f),(n=e.clone(!0)).find(".equation-temp").remove(),i.setStart(m,0),i.setEnd(f,0),e.find(".eq-l,.eq-r").remove(),h.text(o);var g=$('<span class="equation-text" contenteditable="false"><span></span><span>&#65279;</span></span>')[0];g.childNodes[0].appendChild(i.cloneContents());var v=$(i.startContainer).parents(".equation-text");v.length>0&&i.setStartAfter(v.get(0));var b=i.startContainer,y=i.endContainer;i.deleteContents(),i.insertNode(g),l.removeAllRanges(),function e(t){if(b!=t){if("textarea_topic"==t.className){var n=i.extractContents();return void b.append(n)}e(t.parentNode)}}(y),function e(t){if(!t.innerHTML){var n=t.parentNode;t.remove(),e(n)}}(y),t=$(g)}e.find(".equation-text").each(function(e,t){$(t).attr("data-index",e)}),n||(n=e.clone(!0)),t.addClass("cur");var x=0,w=0;try{var k=e[0].getBoundingClientRect();x=k.width,w=k.height}catch(E){if(window.location.href.indexOf("mindmap/")>=0)var _=mind.operation.zoomVal/100;else _=1;x=e.outerWidth()*_,w=e.outerHeight()*_}var C=$(window).width(),T=$(window).height(),S=e.offset(),M=S.top+w+8,D=S.left-160+x/2;M>T-s.outerHeight()-68&&(M=T-s.outerHeight()-68),D>C-320?D=C-320:D<8&&(D=8),s.css({left:D,top:M}).show(),h.focus(),setTimeout(function(){h.selectText()}),d.equation.equationInitEvent(e,n,t)}},equationInitEvent:function(e,t,n){var i=this,o=!1,a=!1,s=!1,c=$(".eq-editor"),u=$(".notranslate"),p=u.text(),h=c.find(".done");function m(i){var o,a;(a=window.getSelection?(o=window.getSelection()).rangeCount>0?o.getRangeAt(0):document.createRange():(o=document.selection).createRange()).deleteContents(),a=a.cloneRange();var r,s=$(n[0].outerHTML).data("index");e.hasClass("invalid")&&(t.find(".equation-temp").remove(),e.html(t.html()),r=i&&37==i.keyCode?e.find(".eq-l").get(0):e.find(".eq-r").get(0)),r||(r=e.find(".equation-text[data-index="+s+"]").get(0)),e.focus(),i&&37==i.keyCode?a.setEndBefore(r):a.setStartAfter(r),a.collapse(!0),o.removeAllRanges(),o.addRange(a),g(i)}function f(){try{var t=u.text(),i=editorGlobal.katex.renderToString(t);$(".eq-tip").hide(),n.attr("data-equation",t),e.removeClass("invalid")}catch(t){i="无效方程式",$(".eq-tip").show(),e.addClass("invalid")}n.children(":first").html(i),e.trigger("keyup")}function g(t){""==$(n[0].outerHTML).data("equation")&&(n.remove(),e.find(".equation-text").each(function(e,t){$(t).attr("data-index",e)})),t||$(".eq-editor").is(":visible")&&(0,l.$poCollect)("latex_function"),c.hide(),n.removeClass("cur"),e.find(".eq-l,.eq-r").remove(),t||(o||e.addClass("invalid"),e.get(0).blur())}$(document).off("mousedown.equation").on("mousedown.equation",function(){o=!0,g()}),$(document).on("mousedown.equation",".equation-help",function(e){e.stopPropagation()}),c.off().on("keydown",function(e){e.stopPropagation()}).on("mousedown",function(e){e.stopPropagation()}).on("click",".eg-title>span, .eg-title .more, .eg-con",function(e){var t=["x^{y^z_w}=(1+{\\rm e}^x)^{-2xy^w}","x=\\frac{-b\\pm\\sqrt{b^2-4ac}}{2a}","x = (-b \\pm \\sqrt{(b^2-4ac)})/(2a)"],n=e.target,i=n.className?n.className:n.parentNode.className;if("more"==i||"more"==n.parentNode.className)0==$(".equation-help").length&&d.equation.loadEquation(),"mind"==fileType?editorGlobal.mindMap.emit("openCorner","equation"):Dock.show("equation");else if("eg-con"==i)u.html(t[$(".eg-title .on").index()]).trigger("input"),u.textMoveToEnd();else{var o=$(this);o.addClass("on").siblings().removeClass("on");var a=t[o.index()],s=editorGlobal.katex.renderToString(a);$(".eg-con").html("<span>"+r.default.t("js.Example")+'</span><div style="margin:0 auto;pointer-events:none">'+s+"</div>")}e.stopPropagation()}),u.off().on("mousedown",function(e){e.stopPropagation()}).on("keydown",function(t){if($(".equation-tip-dlg").is(":visible"))return!1;if(13==t.keyCode)return e.hasClass("invalid")?void t.preventDefault():(o=!0,void g());if(39==t.keyCode||37==t.keyCode){var n=window.getSelection?window.getSelection():document.selection;(n.anchorOffset==u.text().length&&39==t.keyCode||0==n.anchorOffset&&37==t.keyCode)&&(a?setTimeout(function(){m(t),a=!0},10):setTimeout(function(){a||(m(t),a=!0)},300))}a=!1}).on("keyup",function(e){a=!0}).on("input",function(){if(f(),n.outerWidth()>900&&!s){$(".equation-tip-dlg").dialog(),$(".po-hover-tip").hide();var t=900/n.outerWidth();p=u.text(),$("#equation-ok").off("click").on("click",function(){var n=$('<span style="position: fixed;z-index:-9999;top:-9999px;left:-9999px"></span>').appendTo("body");$(".equation-tip-dlg").dialog("close"),function e(t){try{var i=editorGlobal.katex.renderToString(t);if(n.html(i),n.outerWidth()>900)return void e(t=t.substr(0,t.length-1));u.text(t),f()}catch(n){e(t=t.substr(0,t.length-1))}n.remove()}(p.substring(0,parseFloat(p.length*t)));var o=p.substring(u.text().length,u.text().length+500);m(!0),d.equation.equationInit.call(i,e),u.text(o).trigger("input")}),$("#equation-cancel").off("click").on("click",function(){$(".equation-tip-dlg").dialog("close"),s=!0})}}).on("paste",function(e){}),h.off().on("mousedown",function(e){e.stopPropagation(),o=!0,m()}),f()},renderEquation:function(e){$(e).find(".equation-text").each(function(){var e=$(this),t=e.data("equation")?e.data("equation").toString():"";try{var n=editorGlobal.katex.renderToString(t);e.children(":first").html(n)}catch(t){e.children(":first").html(r.default.t("js.Equation_error"))}})},loadEquation:function(){var e=$("body");$(".mind-corner.right").length>0&&(e=$(".mind-corner.right")),$("#po-flow-dock-layout-equation").length>0&&(e=$("#po-flow-dock-layout-equation")),e.append('<div tit="equation" class="equation-help"><div class="title">LaTeX'+r.default.t("js.Common_equations")+'</div><div class="po-tool-select-button-large eq-select"><span class="text-content">'+r.default.t("Subscripts_and_integrals_etc")+'</span></div><div id="eq-container"><div style="padding:0 16px"></div></div></div>');var t={};for(var n in t[r.default.t("Subscripts_and_integrals_etc")]=["a^2","a_2","a^{2+2}","a_{i,j}","{}_1^2\\!X_3^4","\\overset{\\frown} {AB}","\\overline{hij}","\\underline{klm}","\\overbrace{1+2+\\cdots+100}","\\begin{matrix} 5050 \\\\ \\overbrace{ 1+2+\\cdots+100 }\\end{matrix}","\\underbrace{a+b+\\cdots+z}","\\sum_{k=1}^N k^2","\\begin{matrix} \\sum_{k=1}^N k^2 \\end{matrix}","\\prod_{i=1}^N x_i","\\begin{matrix} \\prod_{i=1}^N x_i \\end{matrix}","\\coprod_{i=1}^N x_i","\\begin{matrix} \\coprod_{i=1}^N x_i \\end{matrix}","\\lim_{n \\to \\infty}x_n","\\begin{matrix} \\ lim_{n \\to \\infty}x_n \\end{matrix}","\\int_{-N}^{N} e^x\\, \\mathrm{d}x","\\begin{matrix} \\int_{_N}^{N} e^x\\, \\mathrm{d}x \\end{matrix}","\\iint_{D}^{W} \\, \\mathrm{d}x\\,\\mathrm{d}y","\\iiint_{E}^{V} \\,\\mathrm{d}x\\,\\mathrm{d}y,\\mathrm{d}z","\\oint_{C} x^3\\, \\mathrm{d}x + 4y^2\\, \\mathrm{d}y","\\bigcap_1^{n} p","\\bigcup_1^{k} p"],t[r.default.t("js.Parentheses_and_delimiters")]=["\\left(\\frac{a}{b} \\right)","\\left[\\frac{a}{b} \\right]","\\left\\{\\frac{a}{b} \\right\\}","\\left \\langle \\frac{a}{b} \\right \\rangle","\\left|\\frac{a}{b} \\right|","\\left \\lceil \\frac{c}{d} \\right \\rceil","\\left / \\frac{a}{b} \\right \\backslash","\\left \\Uparrow \\frac{a}{b} \\right \\Downarrow","\\left \\updownarrow \\frac{a}{b} \\right \\Updownarrow","\\left [ 0,1 \\right ) \\left \\langle \\psi \\right |","\\left \\{ \\frac{a}{b} \\right.","\\left . \\frac{a}{b} \\right \\}","\\langle","\\rangle","\\lceil","\\rceil","\\lfloor","\\rfloor","\\lbrace","\\rbrace","\\lvert","\\rvert"],t[r.default.t("js.Sign_of_the_square_root")]=["\\sqrt{3}","\\sqrt[n]{3}"],t[r.default.t("js.function")]=["\\sin\\theta","\\cos\\theta","\\tan\\theta","\\arcsin\\frac{L}{r}","\\arccos\\frac{T}{r}","\\arctan\\frac{L}{T}","\\sinh g","\\cosh h","\\tanh i","\\coth j","\\operatorname{sh}j","\\operatorname{ch}h","\\operatorname{th}i","\\operatorname{argsh}k","\\operatorname{argch}l","\\operatorname{argth}m","\\limsup S","\\liminf I","\\max H","\\min L","\\inf s","\\sup t","\\exp\\!t","\\ln X","\\lg X","\\log X","\\log_\\alpha X","\\ker x","\\deg x","\\gcd(T,U,V,W,X)","\\Pr x","\\det x","\\hom x","\\arg x","\\dim x","\\lim_{t\\to n}T"],t[r.default.t("js.Differential_and_derivative")]=["\\nabla\\psi","\\partial x","\\mathrm{d}x","\\dot x","\\ddot y","X^\\prime","\\backprime","f^{(3)}"],t[r.default.t("js.Relational_operator")]=["\\pm","\\times","\\div","\\mid","\\nmid","\\cdot","\\circ","\\ast","\\bigodot","\\bigotimes","\\bigoplus","\\leq","\\geq","\\leqq","\\geqq","=","\\neq","\\approx","\\equiv","\\not\\equiv","\\sum","\\prod","\\coprod","\\backslash","\\sim","\\backsim","\\simeq","\\cong","\\dot=","\\ggg","\\gg",">","<","\\ll","\\lll","\\propto"],t[r.default.t("js.Sets_and_logical_symbols")]=["\\emptyset","\\varnothing","\\in","\\not\\in","\\subset","\\supset","\\subseteq","\\supseteq","\\sqsubseteq","\\sqsupseteq","\\cap","\\cup","\\bigcup","\\bigcap","\\sqcap","\\sqcup","\\uplus","\\biguplus","\\bigsqcup","\\top","\\bot","\\complement","\\vee","\\wedge","\\bigvee","\\bigwedge","\\forall","\\exists","\\not\\subset","\\not=","\\not<","\\not>","\\because","\\therefore","\\neg","\\bar{q} \\to p","\\setminus","\\smallsetminus"],t[r.default.t("js.Geometric_symbol")]=["\\Diamond","\\Box","\\triangle","\\perp","\\angle\\Alpha\\Beta\\Gamma","60^\\circ"],t[r.default.t("js.Hat_symbol")]=["\\vec{c}","\\overleftarrow{ab}","\\overrightarrow{cd}","\\overleftrightarrow{ab}","\\widehat{efg}","\\overset{\\frown} {AB}","\\hat{xyz}","\\tilde{xy}","\\bar{y}","\\widetilde{xyz}","\\acute{y}","\\breve{y}","\\check{y}","\\grave{y}"],t[r.default.t("js.Arrow_symbol")]=["\\to","\\mapsto","\\underrightarrow{1^\\circ/min}","\\implies","\\impliedby","\\iff","\\uparrow","\\downarrow","\\Uparrow","\\Downarrow","\\leftarrow","\\rightarrow","\\leftrightarrow","\\Leftarrow","\\Rightarrow","\\Leftrightarrow","\\longleftarrow","\\longrightarrow","\\longleftrightarrow","\\Longleftarrow","\\Longrightarrow","\\Longleftrightarrow"],t[r.default.t("js.Special_symbol")]=["\\eth","\\%","\\dagger","\\ddagger","\\star","*","\\ldots","\\smile","\\frown","\\wr"],t[r.default.t("js.Fractions_matrices_and_multideterminants")]=["\\frac{2}{4}=0.5","{2 \\over 3}","{{a+b} \\over {a-b}}","\\tfrac{2}{4} = 0.5","\\cfrac{2}{c + \\cfrac{2}{d + \\cfrac{2}{4}}} = a","\\begin{matrix}x & y \\\\z & v\\end{matrix}","\\begin{vmatrix}x & y \\\\z & v\\end{vmatrix}","\\begin{Vmatrix}x & y \\\\z & v\\end{Vmatrix}","\\begin{bmatrix}0& \\cdots & 0\\\\\\vdots & \\ddots & \\vdots \\\\0& \\cdots & 0\\end{bmatrix}","\\begin{Bmatrix}x & y \\\\z & v\\end{Bmatrix}","\\begin{pmatrix}x & y \\\\z & v\\end{pmatrix}","\\begin{cases}3x + 5y +  z \\\\7x - 2y + 4z \\\\-6x + 3y + 2z\\end{cases}","\\begin{array}{|c|c||c|} a & b & S \\\\\\hline0&0&1\\\\0&1&1\\\\1&0&1\\\\1&1&0\\\\\\end{array}"],t[r.default.t("js.Greek_alphabet")]=["\\alpha","\\beta","\\gamma","\\delta","\\epsilon","\\zeta","\\eta","\\theta","\\iota","\\kappa","\\lambda","\\mu","\\nu","\\xi","o","\\pi","\\rho","\\sigma","\\tau","\\upsilon","\\phi","\\chi","\\psi","\\omega"],0==$("#eq-select-list").length&&$("body").append(' <ul id="eq-select-list" class="po-menu auto-target"></ul>'),t){$("#eq-select-list").append('<li class="po-menu-item" ac="'+n+'"><div class="po-menu-item-box"> <span class="text">'+n+"</span></div></li>");for(var i="<h3>"+n+'</h3><div class="table"><div class="title"><span>'+r.default.t("js.effect")+"</span><span>"+r.default.t("Grammar")+"</span></div>",o=0;o<t[n].length;o++)i+='<div title="'+r.default.t("js.Click_to_copy")+'" title-pos="top"><span>'+editorGlobal.katex.renderToString(t[n][o])+'</span><span class="copy"><span>'+t[n][o]+"</span></span></div>";i+="</div>",$("#eq-container>div").append(i)}$(".eq-select").button({onClick:function(e,t){$("#eq-select-list").dropdown({target:t,isSelect:!0,position:"left",onSelect:function(e){$(".eq-input").val(e.text());var t=document.getElementById("eq-container").getElementsByTagName("h3")[e.index()].offsetTop-100;$("#eq-container").scrollTop(t)}})}}),$(".table>div:not(.title)").off().on("mousedown",function(e){e.stopPropagation()}).on("click",function(e){e.stopPropagation(),$(".table .tip").remove();var t=$(this),n=document.createElement("input");n.setAttribute("value",t.find(".copy").text()),document.body.appendChild(n),n.select();try{if(document.execCommand("copy",!1,null)){t.attr("original-title",r.default.t("js.Copy_success_on")).trigger("mouseover");var i=$(".notranslate");if($(".eq-editor").is(":visible")){var o=i.html()+t.find(".copy").text();i.html(o).trigger("input"),i.textMoveToEnd()}t.attr("original-title",r.default.t("js.Click_to_copy"))}}catch(e){}document.body.removeChild(n)}),$("body").off("click.eq").on("click.eq",function(){$(".eq-select").removeClass("on")})}},pay:{init:function(e){var t="616px",n=navigator.userAgent.toLowerCase();/electron/gi.test(n)&&(window.parent.postMessage({type:"getAppId"},"*"),window.addEventListener("message",function(e){if("send-appid"===e.data.type){var n=e.data.APP_ID;t="6b0d49b3ca3544178660f33adf6a0b60"==n?"540px":"616px"}}));var i=editorGlobal.chartObj.category.startsWith("outline")?"思维笔记编辑器":editorGlobal.chartObj.category.startsWith("mind")?"思维导图编辑器":"流程图编辑器",o=$.extend({width:"840px",height:t,type:"dlgPay",title:"支付",pointsPage:i,pointsSource:"头像_升级",callback:function(e){}},e);editorGlobal.chartObj&&editorGlobal.chartObj.orgId&&$.extend(o,{pageStatus:"index",height:"602px",payTitle:o.title,orgInfo:{orgId:editorGlobal.chartObj.orgId},type:"dlgOrgPay",url:"/org/dlgapi"}),injectExtraAsynCall("onShowVipLimit",o,function(e){d.iframeDlg($.extend(o,e))})}},feedback:{init:function(e){var t=$.extend({width:"600px",height:"471px",type:"dlgFeedback",title:"感谢您的反馈",callback:function(e){}},e);d.iframeDlg(t)}},watermark:{option:{},maxNum:9,init:function(e){var t=this;t.option=e;var n='<div class="po-show-watermark-con"><div class="po-checkbox-group"><span class="po-lable">'+r.default.t("js.Customer_Watermark")+'</span><img class="po-vip-icon" src="'+staticBasePath+'/assets/images/vip-tip.svg" /></div></div><div class="po-watermark-input-container"><input id="po-add-watermark-input" class="po-input-other-small dock-add-watermark-input" type="text" placeholder="'+r.default.t("js.No_more_than_15_words,_enter_save")+'"><span class="po-diagraming-icons po-clear-input">&#xe6c8;</span><div class="error-tip"> *'+r.default.t("js.Watermarks_support_up_to_15_characters")+'</div></div><div class="devider"></div>';!1!==editorGlobal.config.myWatermark&&(n+='<ul class="po-watermark-list-con thick-scrollbar"></ul>'),e.target=e.target||$(".po-watermark-con"),e.target.html(n),!1!==editorGlobal.config.myWatermark&&t.getWatermarks(e.change),t.setVal({showWatermark:e.showWatermark,watermark:e.watermark?e.watermark:r.default.t("js.No_watermark")}),$("#po-add-watermark-input").off().on("keydown",function(e){e.stopPropagation();var t=$(this).val();"13"==e.keyCode&&$.trim(t).length<16&&$(this).blur()}).on("blur",function(n){t.addWatermark(e.change),$(this).next(".po-clear-input").hide()}).on("focus",function(e){$(this).val().length>0&&$(this).next(".po-clear-input").show()}).on("input",function(e){var t=$(this).val(),n=$(this).next(".po-clear-input");t.length>0?n.show():n.hide(),$.trim(t).length>15?($(this).addClass("error"),$(this).nextAll(".error-tip").show()):($(this).removeClass("error"),$(this).nextAll(".error-tip").hide())}),$("#po-add-watermark-input").next(".po-clear-input").off().on("mousedown",function(e){e.stopPropagation(),$("#po-add-watermark-input").val(""),$(this).nextAll(".error-tip").hide(),$(this).removeClass("error"),$("#po-add-watermark-input")[0].focus(),$(this).hide()}),t.initEvent(e.change)},isSend:!1,addWatermark:function(e){var t=this,n=$.trim($("#po-add-watermark-input").val());if(!(""==n||n.length>16))if(!1===editorGlobal.config.myWatermark&&(t.watermarks=[]),t.watermarks.length>t.maxNum+1)$.toast({type:"error",text:r.default.t("js.Custom_watermarks_can_be_added")});else{if("mind"==fileType){var i=!0;if(editorGlobal.mindMap.emit("testVip","insert_watermark",function(e){i=!e}),i)return void editorGlobal.mindMap.emit("vip-limit","insert_watermark")}["designer","flow"].indexOf(fileType)>-1&&!Designer.events.push("testVip","insert_watermark")?Designer.events.push("vipLimit","insert_watermark"):t.watermarks.indexOf(n)>-1?$.toast({type:"error",text:r.default.t("js.The_watermark_already_exists")}):t.isSend||(t.isSend=!0,injectExtraAsynCall("onServerApi",{apiName:"addWaterMark",params:{watermark:n}},function(i){t.isSend=!1,!1!==editorGlobal.config.myWatermark?($("#po-add-watermark-input").val(""),t.appendWatermark(n),t.setVal({showWatermark:!0,watermark:n}),e({showWatermark:!0,watermark:n})):(t.setVal({showWatermark:!0,watermark:n}),e({showWatermark:!0,watermark:n}))}))}},watermarks:[],getWatermarks:function(e,t){var n=this;n.watermarks=[],this.watermarks.push("ProcessOn@"+n.option.userName);var i=$(".po-watermark-list-con"),o='\n            <li class="po-menu-item" id="setNoWater"><div class="icon-con"><span class="po-diagraming-icons selected-icon">&#xe6ba;</span></div><span class="text">'.concat(r.default.t("js.No_watermark"),'</span></li>\n            <li class="po-menu-item"><div class="icon-con"><span class="po-diagraming-icons selected-icon">&#xe6ba;</span></div><span class="text">ProcessOn@').concat(n.option.userName,"</span></li>");i.html(o),injectExtraAsynCall("onServerApi",{apiName:"getWaterMark",params:null},function(e){var t=e.watermarks||[];if(0!=t.length){for(var i=0,o=t.length;i<o;i++)n.appendWatermark(t[i]);n.setVal({showWatermark:n.option.showWatermark,watermark:n.option.watermark})}})},appendWatermark:function(e){this.watermarks.push(e),$(".po-watermark-list-con li").eq(1).after('<li class="po-menu-item"><div class="icon-con"><span class="po-diagraming-icons selected-icon">&#xe6ba;</span></div><span class="text">'+e+'</span><span class="po-diagraming-icons delete">&#xe7b7;</span></li>')},initEvent:function(e){var t=this;$(".po-watermark-list-con").off("click.delete").on("click.delete",".delete",function(e){e.stopPropagation();var n=$(this),i=$(this).siblings(".text").text();injectExtraAsynCall("onServerApi",{apiName:"delWaterMark",params:{watermark:i}},function(e){n.parents(".po-menu-item").hasClass("selected"),n.parents(".po-menu-item").remove();var o=t.watermarks.indexOf(i);o>-1&&t.watermarks.splice(o,1)})}),$(".po-watermark-list-con").off("click.select").on("click.select",".po-menu-item",function(n){if("setNoWater"===$(this).attr("id"))return t.setVal({showWatermark:!1,watermark:r.default.t("js.No_watermark")}),void t.option.change({showWatermark:!1});if(c.vipState.test("insert_watermark")){$(this).addClass("selected").siblings(".selected").removeClass("selected");var i=$(this).find(".text").text();e({watermark:i,showWatermark:!0})}else c.vipState.limit({title:r.default.t("js.Upgrade_member_to_add"),pointsSource:"添加水印"})})},setVal:function(e){if(!e.showWatermark)return $("#set-watermark .po-tool-select-button  .text-content").text(r.default.t("js.No_watermark")),void $($(".po-watermark-list-con li").get(0)).addClass("selected").siblings(".selected").removeClass("selected");e.watermark&&($("#set-watermark .po-tool-select-button  .text-content").text(e.watermark),$(".po-watermark-list-con li").each(function(t,n){$(n).find(".text").text()!=e.watermark||$(n).addClass("selected").siblings(".selected").removeClass("selected")}))}},iframeDlgPre:function(e){var t=window.location.origin,n=(e=$.extend({url:t+"/dlgapi",width:"770px",height:"537px",type:"dlgPay",title:"支付"},e),$("#po-dialog-iframe-"+e.type+" iframe"));0==n.length&&(n=$('<div id="po-dialog-iframe-'+e.type+'" class="po-dialog po-dialog-iframe"><div class="po-dialog-header" style="position: absolute;width: calc(100% - 42px);height: 20px"></div><iframe></iframe></div>').appendTo("body").find("iframe")).width(e.width).height(e.height).attr("src",e.url)},iframeDlgPms:{},prevMsg:"",iframeDlg:function(e){var t=this,n=null;e.fdata&&(n=JSON.parse(e.fdata).orgId);var i=window.location.origin,a="?";(e=$.extend({url:i+(n?"/org":"")+"/dlgapi",width:"770px",height:"537px",type:"dlgPay",title:"支付"},e)).type&&(a=a+"type="+e.type,"dlgPay"==e.type&&(a+="&pointspage="+e.pointsPage,a+="&pointssource="+e.pointsSource)),e.title&&(a=a+"&title="+e.title),e.fdata&&(a=a+"&fdata="+encodeURIComponent(e.fdata)),e.pattern&&(a+="&pattern="+e.pattern),e.pageStatus&&(a=a+"&pageStatus="+e.pageStatus),e.payTitle&&(a=a+"&payTitle="+e.payTitle),e.orgInfo&&(a=a+"&orgInfo="+JSON.stringify(e.orgInfo)),$("#po-dialog-iframe-"+e.type).remove();var s=$("#po-dialog-iframe-"+e.type+" iframe");if(0==s.length){var l=$('<div id="po-dialog-iframe-'+e.type+'" class="po-dialog po-dialog-iframe"><div class="po-iframe-loading-wrap"><img src="'+staticBasePath+'/assets/images/iframe_loading.gif"></div><div class="po-dialog-header" style="position: absolute;width: calc(100% - 42px);height: 20px"></div><iframe></iframe></div>').appendTo("body");(s=l.find("iframe")).width(e.width).height(e.height).attr("src",e.url+a)}if(this.iframeDlgPms[e.type]||(this.iframeDlgPms[e.type]={}),this.iframeDlgPms[e.type].messengerIframe||(this.iframeDlgPms[e.type].messengerIframe=new Messenger("edit","v5",[{target:s[0].contentWindow,targetName:"filelist"},{target:window,targetName:"edit"}],function(n){var i=JSON.parse(n||"{}");if(t.prevMsg!==n||"resize"===i.instructs){if(t.prevMsg=n,"dlgShare"==i.type||"share"==i.type){if("close"==i.instructs){var a=i.width,l=i.height;$("#po-dialog-iframe-"+e.type).css({width:a,height:l}),s.width(a).height(l)}else"orgClose"==i.instructs&&window.location.reload();injectExtraAsynCall("openMention")&&("addCollaMember"==i.instructs?i.userIds.split(",").forEach(function(e){o.mention.mentionStatus(e,!0)}):"delCollaMember"==i.instructs&&i.userIds.split(",").forEach(function(e){o.mention.mentionStatus(e,!1)}))}else if("dlgPubpo"==i.type)"close"==i.instructs&&$("#po-dialog-iframe-pubpo").dialog("close");else if("dlgPay"==i.type)"close"==i.instructs?window.location.reload():i.instructs;else if("dlgFeedback"==i.type)"close"==i.instructs&&$("#po-dialog-iframe-dlgFeedback").dialog("close");else if("copyAndMove"==i.optType){if(t.prevMsg=null,"close"==i.instructs)return void $("#po-dialog-iframe-copy").dialog("close");"move"==i.type&&(chartObj.folderId=i.targetFolderId||"root",chartObj.teamId=i.teamId||"");var c="move"==i.type?r.default.t("js.Move_successful"):r.default.t("js.Copy_success");$.toast({text:c}),$("#po-dialog-iframe-copy").dialog("close")}if("resize"==i.instructs){a=i.width,l=i.height;var d=i.type;"dlgShare"===d&&(d="share"),$("#po-dialog-iframe-"+d).css({marginTop:-l/2+"px",width:a,height:l,marginLeft:-a/2+"px"}),$("#po-dialog-iframe-"+d).children("iframe").width(a).height(l)}}})),!e.isHide){$.mask(),$("#po-dialog-iframe-"+e.type).width(e.width).height(parseInt(e.height)).dialog({onClose:function(){$.mask("close")}});var c=this;s.off("load").on("load",function(){$(".po-iframe-loading-wrap").fadeOut("500");var t=setTimeout(function(){$(".po-iframe-loading-wrap").remove(),clearTimeout(t)},500);if(void 0!==c.iframeDlgPms[e.type].messengerIframe){var n={type:e.type,instructs:"init"};c.iframeDlgPms[e.type].messengerIframe.targets.filelist.send(JSON.stringify(n))}}),"pubpo"===e.type&&$("#po-dialog-iframe-"+e.type).css({})}}},u=t.PoGuide={config:{margin:{top:0,left:0,right:0,bottom:0},isClose:!0},tools:[{name:"theme",target:$("#shape_panel"),pos:"right",margin:{top:105,left:20},title:r.default.t("js.Graphics"),text:r.default.t("js.Drag_graphics_to_canvas")},{name:"theme",target:$(".panel-more-box"),pos:"right",margin:{top:-50},title:r.default.t("js.More_Graphics"),text:r.default.t("js.Select_the_graphics_you_need")},{name:"theme",target:$("#po-flow-dist-align"),pos:"bottom",title:r.default.t("js.Align,_distribute"),text:r.default.t("js.Distribution,_alignment_is_here")},{name:"theme",target:$("#po-tool-dock-button"),pos:"bottom",margin:{left:-40},title:r.default.t("js.Style"),text:r.default.t("js.Page_style,_theme_style_here")}],step:0,init:function(e){var t=this;t.tools=e||t.tools,this.config.isClose=!1,t.step=0,t.show(t.step)},show:function(e){if(e===this.step){var t=this,n=t.tools[e];if(void 0===n||t.config.isClose)t.close();else{if(0==(i=$(".po-guide")).length)var i=$("<div class='po-guide'></div>").appendTo("body");var o="<div class='po-guide-arrow'></div><div class='po-guide-title'><span>"+n.title+"</span>（"+(e+1)+"/"+t.tools.length+"）</div><ul class='po-guide-text'><li>"+n.text+"</li></ul><div class='po-guide-step'><div class='step'>"+(e==t.tools.length-1?"":r.default.t("js.Skip"))+"</div><div class='next-btn po-button-small'>"+(e==t.tools.length-1?r.default.t("js.Done"):r.default.t("js.Next_step"))+"</div></div>";i.html(o);var a=i.children(".po-guide-arrow"),s=0,l=0,c=i.outerWidth(),d=i.outerHeight(),u=n.target.offset(),p=n.target.outerHeight(),h=n.target.outerWidth();n.margin=n.margin||{};var m=n.margin.top||t.config.margin.top,f=n.margin.left||t.config.margin.left,g=n.margin.right||t.config.margin.right,v=n.margin.bottom||t.config.margin.bottom;"right"==n.pos?(s=u.top+m,l=u.left+h+f+10,a.addClass("po-guide-arrow-right")):"top"==n.pos?(s=u.top-d-v-10,l=u.left-(c-h)/2+f,a.addClass("po-guide-arrow-top"),a.css({left:u.left-l+h/2})):"bottom"==n.pos?(s=u.top+p+m+10,l=u.left-(c-h)/2+f,a.addClass("po-guide-arrow-bottom"),a.css({left:u.left-l+h/2})):(s=u.top+m,l=u.left-c-g-10,a.addClass("po-guide-arrow-left"),a.css({top:p/2-m})),i.css({top:s,left:l}),i.find(".po-button-small").off("click.guide").on("click.guide",function(e){t.step++,t.show(t.step),n.target.off("mousedown.guide"),"siblings"==n.target.attr("tit")&&(n.target.prev().off("mousedown.guide"),n.target.next().off("mousedown.guide"))}),i.find(".step").off("click.guidestep").on("click.guidestep",function(e){t.close()}),$(window).off("resize.guide").on("resize.guide",function(){t.show(t.step)}),"siblings"==n.target.attr("tit")?(n.target.prev().off("mousedown.guide").on("mousedown.guide",function(e){$(".po-guide .next-btn").trigger("click"),n.target.off("mousedown.guide"),n.target.prev().off("mousedown.guide"),n.target.next().off("mousedown.guide")}),n.target.next().off("mousedown.guide").on("mousedown.guide",function(e){$(".po-guide .next-btn").trigger("click"),n.target.off("mousedown.guide"),n.target.prev().off("mousedown.guide"),n.target.next().off("mousedown.guide")}),n.target.off("mousedown.guide").on("mousedown.guide",function(e){$(".po-guide .next-btn").trigger("click"),n.target.off("mousedown.guide"),n.target.prev().off("mousedown.guide"),n.target.next().off("mousedown.guide")})):n.target.off("mousedown.guide").on("mousedown.guide",function(e){"themes"==n.target.attr("tit")?setTimeout(function(){$(".po-guide .next-btn").trigger("click")},400):$(".po-guide .next-btn").trigger("click"),n.target.off("mousedown.guide")})}}},close:function(){$(".po-guide").remove(),this.config.isClose=!0}};window.PoGuide=u;var p=t.searchGuide={config:{margin:{top:0,left:0,right:0,bottom:0},isClose:!1},tool:{},init:function(e){var t=this;if(t.tool=e,this.config.isClose=!1,e.expand&&$(".mind-header").hasClass("fold"))return $(".mind-header, .mind-corner").removeClass("fold"),$(".mind-toolbar [tit=expand]").attr("title",r.default.t("js.Fold")).find(".po-diagraming-icons").html("&#xe9b2;"),void setTimeout(function(){t.show(e)},300);t.show(e)},show:function(e){var t=this;if(void 0===e||t.config.isClose)t.close();else{var n=e.trigger_btn;if(n&&($(n).trigger("mouseenter"),$(n).trigger("click")),0==(i=$(".po-guide")).length)var i=$("<div class='po-guide'></div>").appendTo("body");var o="<div class='po-guide-quot'><div class='wave_wrapper'><span class='wave_scale'></span><span class='wave_scale delay'> </span></div></div><div class='po-guide-title'>"+e.title+"</div><div class='po-guide-text'>"+e.text+"</div><div class='po-guide-step' style='justify-content:right'><div class='next-btn po-button-small' >"+r.default.t("js.I_know")+"</div></div>";i.html(o);var a=i.children(".po-guide-quot"),s=e.target;if(s.is(":visible")||(s=$(".mind-toolbar [tit=more]").is(":visible")?$(".mind-toolbar [tit=more]"):$(".mind-toolbar [tit=insert]")).is(":visible")){var l=0,c=0,d=i.outerWidth(),u=i.outerHeight(),p=s.offset(),h=s.outerHeight(),m=s.outerWidth();e.margin=e.margin||{};var f=e.margin.top||t.config.margin.top,g=e.margin.left||t.config.margin.left,v=e.margin.right||t.config.margin.right,b=e.margin.bottom||t.config.margin.bottom;"right"==e.pos?(l=p.top+f,c=p.left+m+g+38,a.addClass("po-guide-quot-right"),a.css({top:h/2-f})):"top"==e.pos?(l=p.top-u-b-38,c=p.left-(d-m)/2+g,a.addClass("po-guide-quot-top"),a.css({left:p.left-c+m/2})):"bottom"==e.pos?(l=p.top+h+f+38,c=p.left-(d-m)/2+g,a.addClass("po-guide-quot-bottom"),a.css({left:p.left-c+m/2})):(l=p.top+f,c=p.left-d-v-38,a.addClass("po-guide-quot-left"),a.css({top:h/2-f})),i.css({top:l,left:c}),i.find(".po-button-small").off("click.guide").on("click.guide",function(e){t.close()}),$(window).off("resize.guide").on("resize.guide",function(){t.show(e)})}else t.close()}},close:function(){$(".po-guide").remove(),this.config.isClose=!0},tutorial:function(e,t,n){var i=$("#power-tutorial-con");i.length<1&&(i=$('<div id="power-tutorial-con" class="tutorial-detail"><div class="po-dialog-header"></div><div class="tutorial-image"></div><div class="tutorial-text"><div class="textarea"></div></div><div style="text-align:center;margin:24px 0;"><div class="po-button primary">'+r.default.t("js.I_know")+"</div></div></div>")).appendTo("body");var o=i.find(".po-dialog-header"),a=i.find(".tutorial-image"),s=i.find(".tutorial-text");if(o.text(e),s.find(".textarea").html(t),null!=n){a.css({padding:"20px 24px"}),i.css({"z-index":11,width:"45%"});var l='<img style="width:100%" src="'+n+'"/>';a.html(l),a.find("img").css({border:"1px solid #e3e3e3"}).on("load",function(){c(i)})}else a.empty(),a.css({border:"none",padding:0}),c(i);function c(e){e.dialog()}$(".power-search-result").hide(),i.find(".po-button").off().on("click",function(){i.dialog("close")})}};editorGlobal.insert=d,window.searchGuide=p},97891:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.insertUI=void 0;var o=i(n(32483));t.insertUI={init:function(){var e;this.renderDom(),null===(e=editorGlobal.mindMap)||void 0===e||e.on("readonly_change",function(e){e.hasOwnProperty("image")&&(e.icon?$("#po_image_box .dlg-content").removeClass("mind-disable"):$("#po_image_box .dlg-content").addClass("mind-disable"))})},renderDom:function(){var e,t=null!==(e=editorGlobal.mindMap)&&void 0!==e&&e.opt.readonlyList.image?"":"mind-disable",n='\n        <div>\n            \x3c!--插入图片--\x3e\n            <div id="po_image_box" class="po-dialog po-image-box">\n            <div class="po-dialog-title">'.concat(o.default.t("Add_Pictures"),'</div>\n            <div class="po-dialog-header po-group-button img-tab-list">\n                <a tit="upload" class="active">').concat(o.default.t("Local_Pictures"),'</a>\n                <a tit="online">').concat(o.default.t("Internet_Pictures"),'</a>\n                <a tit="search">').concat(o.default.t("Online_Pictures"),'</a>\n            </div>\n            <div class="dlg-content po-dialog-content ').concat(t,'">\n                <div class="po-image-detail">\n                <div tit="upload" style="display:block;">\n                    <div id="upload-con" class="po-upload">\n                        <form id="upload_po_img" action="" method="post" enctype="multipart/form-data">\n                            <div class="text-tip"></div>\n                            <span class="po-button second">\n                                <span class="upload-drag-tip">\n                                    <span class="po-diagraming-icons" style="font-size:16px;"></span>\n                                    <span>').concat(o.default.t("Click_Upload_or_drag_image"),'</span>\n                                </span>\n                                <span class="upload-tips">\n                                    <span class="upload-size-tip">').concat(o.default.t("Supports_PNG_and_JPG_formats"),'</span>\n                                    <span class="upload-tip">').concat(o.default.t("Picture_size_should_not_exceed_2M"),'</span>\n                                </span>\n                                <input type="file" name="image" id="po_upload_img_file">\n                                <input type="hidden" name="isSaveAs" value="true">\n                                <input type="hidden" name="type" value="mind">\n                            </span>\n                            <span class="upload-img-btn po-button" >').concat(o.default.t("Upload_Files"),'</span>\n                        </form>\n                        <div class="history">\n                            <div class="title">').concat(o.default.t("History_Upload"),'</div>\n                            <div id="upload-imgs" class="upload-imgs"></div>\n                        </div>\n                    </div>\n                </div>\n                <div tit="online">\n                    <div style="display: flex">\n                    <input id="text-insert-img" class="po-input-other" type="text" placeholder="').concat(o.default.t("Paste_the_image_link_address"),'">\n                    <div id="btn-insert-img" class="po-button primary">').concat(o.default.t("Insert_picture"),'</div>\n                    </div>\n                    <span class="text-tip error"></span>\n            \x3c!--        <div class="image-tip" style="margin-top:81px;left:0"><img src="').concat(staticBasePath,'/images/search-img.svg"/><div class=\'text-tip\'>输入搜索关键词，建议使用英文单词搜索</div></div>--\x3e\n                </div>\n                <div tit="search">\n                    <div>\n                    <div id="text-search-img" class="text-search-img po-search-input"></div>\n                    <div class="search-img-con">\n                        <div id="search-img-list" class="search-img-list">\n                        <div class="search-img-empty">\n                            <img src="').concat(staticBasePath,'/images/search-img.svg" style="width:120px;height:auto;margin:0">\n                            <div class="text-tip">').concat(o.default.t("English_word_search_is_recommended"),'</div>\n                        </div>\n                        </div>  \n                    </div>\n                    </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n            \x3c!--公式过长提示--\x3e\n            <div class="equation-tip-dlg po-dialog" style="height:185px;display: none">\n            <div class="po-dialog-header">').concat(o.default.t("Hint"),'</div>\n            <div class="mind-context-menu-content" style="padding:0px 24px;">\n                <div style="font-size:14px;">').concat(o.default.t("Recommended_to_split_and_edit"),'</div>\n            </div>\n            <div class="po-buttons" style="margin:24px;text-align:right">\n                <span id="equation-cancel" style="margin-right:16px" class="po-button gray">').concat(o.default.t("No_splitting"),'</span>\n                <span id="equation-ok" class="po-button primary">').concat(o.default.t("Split_Edit"),'</span>\n            </div>\n            </div>\n            \x3c!--弹窗--\x3e\n            <div id="po-dialog-iframe" class="po-dialog po-dialog-iframe" style="display: none">\n            <iframe></iframe>\n            </div>\n            \x3c!--历史版本--\x3e\n\n\n            \x3c!--头像列表--\x3e\n            \x3c!-- 头像列表 --\x3e\n            <ul id="po-user-photo-menu" class="po-menu normal po-user-photo-menu" style="display: none">\n            <li class="po-menu-item" tit="user">\n                <div class="po-menu-item-box">\n                <div id="user-logo" class="po-menu-icon user-logo">\n                    <img alt="" src="">\n                </div>\n                <span class="text noover"></span>\n                </div>\n            </li>\n            <li class="devider devi-clip"></li>\n            <li class="po-menu-item" tit="topay">\n                \x3c!-- /upgrade?pos=5_1 target="_blank" --\x3e\n                <div href="javascript:void(0)" class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons"></span>\n                <span class="text">').concat(o.default.t("Upgrade"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" tit="file">\n                <div class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons"></span>\n                <span class="text">').concat(o.default.t("My_files"),'</span>\n                </div>\n            </li>\n            \x3c!--<li class="po-menu-item"  tit="image">\n                <a href="/setting?f=mind" target="_blank" class="po-menu-item-box">\n                    <span class="po-menu-icon po-diagraming-icons">&#xe969;</span>\n                    <span class="text">邀请好友</span>\n                </a>\n            </li>--\x3e\n            <li class="devider devi-clip"></li>\n            <li class="po-menu-item" tit="logout">\n                <div href="/login/out" class="po-menu-item-box">\n                <span class="po-menu-icon po-diagraming-icons"></span>\n                <span class="text">').concat(o.default.t("Exit"),"</span>\n                </div>\n            </li>\n            </ul>\n        </div>\n        ");$("body").append($(n))}}},34683:function(e,t,n){var i;e=n.nmd(e),n(96700),n(61894),n(65534),n(69642),n(96909),n(54183),n(65528),n(4790),n(87812),n(1053),n(82403),n(12638),n(33809),n(13253),n(6284),n(47958),n(69268),n(58500),n(86837),n(54938),n(31095),function(n,o){var a,r,s=w(o),l=n.location,c=n.document,d=c.documentElement,u=n.jQuery,p=n.$,h={},m=[],f="1.10.2",g=m.concat,v=m.push,b=m.slice,y=m.indexOf,x=h.toString,k=h.hasOwnProperty,_=f.trim,C=function e(t,n){return new e.fn.init(t,n,r)},T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,S=/\S+/g,M=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,A=/^[\],:{}\s]*$/,F=/(?:^|:|,)(?:\s*\[)+/g,I=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,O=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,L=/^-ms-/,P=/-([\da-z])/gi,B=function(e,t){return t.toUpperCase()},$=function(e){(c.addEventListener||"load"===e.type||"complete"===c.readyState)&&(N(),C.ready())},N=function(){c.addEventListener?(c.removeEventListener("DOMContentLoaded",$,!1),n.removeEventListener("load",$,!1)):(c.detachEvent("onreadystatechange",$),n.detachEvent("onload",$))};function z(e){var t=e.length,n=C.type(e);return!C.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e))}C.fn=C.prototype={jquery:f,constructor:C,init:function(e,t,n){var i,a;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:D.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:c,!0)),E.test(i[1])&&C.isPlainObject(t))for(i in t)C.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((a=c.getElementById(i[2]))&&a.parentNode){if(a.id!==i[2])return n.find(e);this.length=1,this[0]=a}return this.context=c,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):C.isFunction(e)?n.ready(e):(e.selector!==o&&(this.selector=e.selector,this.context=e.context),C.makeArray(e,this))},selector:"",length:0,toArray:function(){return b.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return C.each(this,e,t)},ready:function(e){return C.ready.promise().done(e),this},slice:function(){return this.pushStack(b.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(C.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:v,sort:[].sort,splice:[].splice},C.fn.init.prototype=C.fn,C.extend=C.fn.extend=function(){var e,t,n,i,a,r,s=arguments[0]||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof s&&(d=s,s=arguments[1]||{},l=2),"object"==w(s)||C.isFunction(s)||(s={}),c===l&&(s=this,--l);l<c;l++)if(null!=(a=arguments[l]))for(i in a)e=s[i],s!==(n=a[i])&&(d&&n&&(C.isPlainObject(n)||(t=C.isArray(n)))?(t?(t=!1,r=e&&C.isArray(e)?e:[]):r=e&&C.isPlainObject(e)?e:{},s[i]=C.extend(d,r,n)):n!==o&&(s[i]=n));return s},C.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(e){return n.$===C&&(n.$=p),e&&n.jQuery===C&&(n.jQuery=u),C},isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){if(!(!0===e?--C.readyWait:C.isReady)){if(!c.body)return setTimeout(C.ready);C.isReady=!0,!0!==e&&--C.readyWait>0||(a.resolveWith(c,[C]),C.fn.trigger&&C(c).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray||function(e){return"array"===C.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==w(e)||"function"==typeof e?h[x.call(e)]||"object":w(e)},isPlainObject:function(e){var t;if(!e||"object"!==C.type(e)||e.nodeType||C.isWindow(e))return!1;try{if(e.constructor&&!k.call(e,"constructor")&&!k.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(C.support.ownLast)for(t in e)return k.call(e,t);for(t in e);return t===o||k.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||c;var i=E.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=C.buildFragment([e],t,o),o&&C(o).remove(),C.merge([],i.childNodes))},parseJSON:function(e){return n.JSON&&n.JSON.parse?n.JSON.parse(e):null===e?e:"string"==typeof e&&(e=C.trim(e))&&A.test(e.replace(I,"@").replace(O,"]").replace(F,""))?new Function("return "+e)():void C.error("Invalid JSON: "+e)},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{n.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=o}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&C.trim(e)&&(n.execScript||function(e){n.eval.call(n,e)})(e)},camelCase:function(e){return e.replace(L,"ms-").replace(P,B)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,o=e.length,a=z(e);if(n){if(a)for(;i<o&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(a)for(;i<o&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:_&&!_.call("\ufeff ")?function(e){return null==e?"":_.call(e)}:function(e){return null==e?"":(e+"").replace(M,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(z(Object(e))?C.merge(n,"string"==typeof e?[e]:e):v.call(n,e)),n},inArray:function(e,t,n){var i;if(t){if(y)return y.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=t.length,i=e.length,a=0;if("number"==typeof n)for(;a<n;a++)e[i++]=t[a];else for(;t[a]!==o;)e[i++]=t[a++];return e.length=i,e},grep:function(e,t,n){var i=[],o=0,a=e.length;for(n=!!n;o<a;o++)n!==!!t(e[o],o)&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,a=e.length,r=[];if(z(e))for(;o<a;o++)null!=(i=t(e[o],o,n))&&(r[r.length]=i);else for(o in e)null!=(i=t(e[o],o,n))&&(r[r.length]=i);return g.apply([],r)},guid:1,proxy:function(e,t){var n,i,a;return"string"==typeof t&&(a=e[t],t=e,e=a),C.isFunction(e)?(n=b.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(b.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i):o},access:function(e,t,n,i,a,r,s){var l=0,c=e.length,d=null==n;if("object"===C.type(n))for(l in a=!0,n)C.access(e,t,l,n[l],!0,r,s);else if(i!==o&&(a=!0,C.isFunction(i)||(s=!0),d&&(s?(t.call(e,i),t=null):(d=t,t=function(e,t,n){return d.call(C(e),n)})),t))for(;l<c;l++)t(e[l],n,s?i:i.call(e[l],l,t(e[l],n)));return a?e:d?t.call(e):c?t(e[0],n):r},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var o,a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];for(a in o=n.apply(e,i||[]),t)e.style[a]=r[a];return o}}),C.ready.promise=function(e){if(!a)if(a=C.Deferred(),"complete"===c.readyState)setTimeout(C.ready);else if(c.addEventListener)c.addEventListener("DOMContentLoaded",$,!1),n.addEventListener("load",$,!1);else{c.attachEvent("onreadystatechange",$),n.attachEvent("onload",$);var t=!1;try{t=null==n.frameElement&&c.documentElement}catch(e){}t&&t.doScroll&&function e(){if(!C.isReady){try{t.doScroll("left")}catch(t){return setTimeout(e,50)}N(),C.ready()}}()}return a.promise(e)},C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()}),r=C(c),function(e,t){var n,i,o,a,r,s,l,c,d,u,p,h,m,f,g,v,b,y="sizzle"+-new Date,x=e.document,k=0,_=0,T=se(),S=se(),M=se(),D=!1,E=function(e,t){return e===t?(D=!0,0):0},A=w(t),F=1<<31,I={}.hasOwnProperty,O=[],L=O.pop,P=O.push,B=O.push,$=O.slice,N=O.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",G=R.replace("w","w#"),H="\\["+j+"*("+R+")"+j+"*(?:([*^$|!~]?=)"+j+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+G+")|)|)"+j+"*\\]",W=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+H.replace(3,8)+")*)|.*)\\)|)",U=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),q=new RegExp("^"+j+"*,"+j+"*"),V=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),Y=new RegExp(j+"*[+~]"),X=new RegExp("="+j+"*([^\\]'\"]*)"+j+"*\\]","g"),J=new RegExp(W),K=new RegExp("^"+G+"$"),Z={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R.replace("w","w*")+")"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Q=/^[^{]+\{\s*\[native \w/,ee=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,te=/^(?:input|select|textarea|button)$/i,ne=/^h\d$/i,ie=/'|\\/g,oe=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),ae=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{B.apply(O=$.call(x.childNodes),x.childNodes),O[x.childNodes.length].nodeType}catch(e){B={apply:O.length?function(e,t){P.apply(e,$.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,n,o){var r,s,c,d,h,g,v,w,k,_;if((t?t.ownerDocument||t:x)!==p&&u(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(d=(t=t||p).nodeType)&&9!==d)return[];if(m&&!o){if(r=ee.exec(e))if(c=r[1]){if(9===d){if(!(s=t.getElementById(c))||!s.parentNode)return n;if(s.id===c)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(c))&&b(t,s)&&s.id===c)return n.push(s),n}else{if(r[2])return B.apply(n,t.getElementsByTagName(e)),n;if((c=r[3])&&i.getElementsByClassName&&t.getElementsByClassName)return B.apply(n,t.getElementsByClassName(c)),n}if(i.qsa&&(!f||!f.test(e))){if(w=v=y,k=t,_=9===d&&e,1===d&&"object"!==t.nodeName.toLowerCase()){for(g=ge(e),(v=t.getAttribute("id"))?w=v.replace(ie,"\\$&"):t.setAttribute("id",w),w="[id='"+w+"'] ",h=g.length;h--;)g[h]=w+ve(g[h]);k=Y.test(e)&&t.parentNode||t,_=g.join(",")}if(_)try{return B.apply(n,k.querySelectorAll(_)),n}catch(e){}finally{v||t.removeAttribute("id")}}}return function(e,t,n,o){var r,s,c,d,u,p=ge(e);if(!o&&1===p.length){if((s=p[0]=p[0].slice(0)).length>2&&"ID"===(c=s[0]).type&&i.getById&&9===t.nodeType&&m&&a.relative[s[1].type]){if(!(t=(a.find.ID(c.matches[0].replace(oe,ae),t)||[])[0]))return n;e=e.slice(s.shift().value.length)}for(r=Z.needsContext.test(e)?0:s.length;r--&&(c=s[r],!a.relative[d=c.type]);)if((u=a.find[d])&&(o=u(c.matches[0].replace(oe,ae),Y.test(s[0].type)&&t.parentNode||t))){if(s.splice(r,1),!(e=o.length&&ve(s)))return B.apply(n,o),n;break}}return l(e,p)(o,t,!m,n,Y.test(e)),n}(e.replace(U,"$1"),t,n,o)}function se(){var e=[];return function t(n,i){return e.push(n+=" ")>a.cacheLength&&delete t[e.shift()],t[n]=i}}function le(e){return e[y]=!0,e}function ce(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),i=e.length;i--;)a.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||F)-(~e.sourceIndex||F);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return le(function(t){return t=+t,le(function(n,i){for(var o,a=e([],n.length,t),r=a.length;r--;)n[o=a[r]]&&(n[o]=!(i[o]=n[o]))})})}for(n in s=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},i=re.support={},u=re.setDocument=function(e){var t=e?e.ownerDocument||e:x,n=t.defaultView;return t!==p&&9===t.nodeType&&t.documentElement?(p=t,h=t.documentElement,m=!s(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){u()}),i.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=ce(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=ce(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),i.getById=ce(function(e){return h.appendChild(e).id=y,!t.getElementsByName||!t.getElementsByName(y).length}),i.getById?(a.find.ID=function(e,t){if(w(t.getElementById)!==A&&m){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},a.filter.ID=function(e){var t=e.replace(oe,ae);return function(e){return e.getAttribute("id")===t}}):(delete a.find.ID,a.filter.ID=function(e){var t=e.replace(oe,ae);return function(e){var n=w(e.getAttributeNode)!==A&&e.getAttributeNode("id");return n&&n.value===t}}),a.find.TAG=i.getElementsByTagName?function(e,t){if(w(t.getElementsByTagName)!==A)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],o=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[o++];)1===n.nodeType&&i.push(n);return i}return a},a.find.CLASS=i.getElementsByClassName&&function(e,t){if(w(t.getElementsByClassName)!==A&&m)return t.getElementsByClassName(e)},g=[],f=[],(i.qsa=Q.test(t.querySelectorAll))&&(ce(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||f.push("\\["+j+"*(?:value|"+z+")"),e.querySelectorAll(":checked").length||f.push(":checked")}),ce(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&f.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||f.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),f.push(",.*:")})),(i.matchesSelector=Q.test(v=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ce(function(e){i.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),g.push("!=",W)}),f=f.length&&new RegExp(f.join("|")),g=g.length&&new RegExp(g.join("|")),b=Q.test(h.contains)||h.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=h.compareDocumentPosition?function(e,n){if(e===n)return D=!0,0;var o=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return o?1&o||!i.sortDetached&&n.compareDocumentPosition(e)===o?e===t||b(x,e)?-1:n===t||b(x,n)?1:d?N.call(d,e)-N.call(d,n):0:4&o?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,o=0,a=e.parentNode,r=n.parentNode,s=[e],l=[n];if(e===n)return D=!0,0;if(!a||!r)return e===t?-1:n===t?1:a?-1:r?1:d?N.call(d,e)-N.call(d,n):0;if(a===r)return ue(e,n);for(i=e;i=i.parentNode;)s.unshift(i);for(i=n;i=i.parentNode;)l.unshift(i);for(;s[o]===l[o];)o++;return o?ue(s[o],l[o]):s[o]===x?-1:l[o]===x?1:0},t):p},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&u(e),t=t.replace(X,"='$1']"),i.matchesSelector&&m&&(!g||!g.test(t))&&(!f||!f.test(t)))try{var n=v.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return re(t,p,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==p&&u(e),b(e,t)},re.attr=function(e,n){(e.ownerDocument||e)!==p&&u(e);var o=a.attrHandle[n.toLowerCase()],r=o&&I.call(a.attrHandle,n.toLowerCase())?o(e,n,!m):t;return r===t?i.attributes||!m?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null:r},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],o=0,a=0;if(D=!i.detectDuplicates,d=!i.sortStable&&e.slice(0),e.sort(E),D){for(;t=e[a++];)t===e[a]&&(o=n.push(a));for(;o--;)e.splice(n[o],1)}return e},r=re.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=r(t);return n},(a=re.selectors={cacheLength:50,createPseudo:le,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(oe,ae),e[3]=(e[4]||e[5]||"").replace(oe,ae),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&J.test(i)&&(n=ge(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(oe,ae).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||w(e.getAttribute)!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var o=re.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var a="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,p,h,m,f=a!==r?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(a){for(;f;){for(u=t;u=u[f];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;m=f="only"===e&&!m&&"nextSibling"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&b){for(h=(c=(d=g[y]||(g[y]={}))[e]||[])[0]===k&&c[1],p=c[0]===k&&c[2],u=h&&g.childNodes[h];u=++h&&u&&u[f]||(p=h=0)||m.pop();)if(1===u.nodeType&&++p&&u===t){d[e]=[k,h,p];break}}else if(b&&(c=(t[y]||(t[y]={}))[e])&&c[0]===k)p=c[1];else for(;(u=++h&&u&&u[f]||(p=h=0)||m.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++p||(b&&((u[y]||(u[y]={}))[e]=[k,p]),u!==t)););return(p-=o)===i||p%i==0&&p/i>=0}}},PSEUDO:function(e,t){var n,i=a.pseudos[e]||a.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return i[y]?i(t):i.length>1?(n=[e,e,"",t],a.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,n){for(var o,a=i(e,t),r=a.length;r--;)e[o=N.call(e,a[r])]=!(n[o]=a[r])}):function(e){return i(e,0,n)}):i}},pseudos:{not:le(function(e){var t=[],n=[],i=l(e.replace(U,"$1"));return i[y]?le(function(e,t,n,o){for(var a,r=i(e,null,o,[]),s=e.length;s--;)(a=r[s])&&(e[s]=!(t[s]=a))}):function(e,o,a){return t[0]=e,i(t,null,a,n),!n.pop()}}),has:le(function(e){return function(t){return re(e,t).length>0}}),contains:le(function(e){return function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:le(function(e){return K.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(oe,ae).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!a.pseudos.empty(e)},header:function(e){return ne.test(e.nodeName)},input:function(e){return te.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:me(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=a.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})a.pseudos[n]=pe(n);for(n in{submit:!0,reset:!0})a.pseudos[n]=he(n);function fe(){}function ge(e,t){var n,i,o,r,s,l,c,d=S[e+" "];if(d)return t?0:d.slice(0);for(s=e,l=[],c=a.preFilter;s;){for(r in n&&!(i=q.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),n=!1,(i=V.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(U," ")}),s=s.slice(n.length)),a.filter)!(i=Z[r].exec(s))||c[r]&&!(i=c[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?re.error(e):S(e,l).slice(0)}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function be(e,t,n){var i=t.dir,a=n&&"parentNode"===i,r=_++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,o)}:function(t,n,s){var l,c,d,u=k+" "+r;if(s){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if((c=(d=t[y]||(t[y]={}))[i])&&c[0]===u){if(!0===(l=c[1])||l===o)return!0===l}else if((c=d[i]=[u])[1]=e(t,n,s)||o,!0===c[1])return!0}}function ye(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function xe(e,t,n,i,o){for(var a,r=[],s=0,l=e.length,c=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,i,o)||(r.push(a),c&&t.push(s)));return r}function we(e,t,n,i,o,a){return i&&!i[y]&&(i=we(i)),o&&!o[y]&&(o=we(o,a)),le(function(a,r,s,l){var c,d,u,p=[],h=[],m=r.length,f=a||function(e,t,n){for(var i=0,o=t.length;i<o;i++)re(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!a&&t?f:xe(f,p,e,s,l),v=n?o||(a?e:m||i)?[]:r:g;if(n&&n(g,v,s,l),i)for(c=xe(v,h),i(c,[],s,l),d=c.length;d--;)(u=c[d])&&(v[h[d]]=!(g[h[d]]=u));if(a){if(o||e){if(o){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(g[d]=u);o(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=o?N.call(a,u):p[d])>-1&&(a[c]=!(r[c]=u))}}else v=xe(v===r?v.splice(m,v.length):v),o?o(null,r,v,l):B.apply(r,v)})}function ke(e){for(var t,n,i,o=e.length,r=a.relative[e[0].type],s=r||a.relative[" "],l=r?1:0,d=be(function(e){return e===t},s,!0),u=be(function(e){return N.call(t,e)>-1},s,!0),p=[function(e,n,i){return!r&&(i||n!==c)||((t=n).nodeType?d(e,n,i):u(e,n,i))}];l<o;l++)if(n=a.relative[e[l].type])p=[be(ye(p),n)];else{if((n=a.filter[e[l].type].apply(null,e[l].matches))[y]){for(i=++l;i<o&&!a.relative[e[i].type];i++);return we(l>1&&ye(p),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(U,"$1"),n,l<i&&ke(e.slice(l,i)),i<o&&ke(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return ye(p)}fe.prototype=a.filters=a.pseudos,a.setFilters=new fe,l=re.compile=function(e,t){var n,i=[],r=[],s=M[e+" "];if(!s){for(t||(t=ge(e)),n=t.length;n--;)(s=ke(t[n]))[y]?i.push(s):r.push(s);s=M(e,function(e,t){var n=0,i=t.length>0,r=e.length>0,s=function(s,l,d,u,h){var m,f,g,v=[],b=0,y="0",x=s&&[],w=null!=h,_=c,C=s||r&&a.find.TAG("*",h&&l.parentNode||l),T=k+=null==_?1:Math.random()||.1;for(w&&(c=l!==p&&l,o=n);null!=(m=C[y]);y++){if(r&&m){for(f=0;g=e[f++];)if(g(m,l,d)){u.push(m);break}w&&(k=T,o=++n)}i&&((m=!g&&m)&&b--,s&&x.push(m))}if(b+=y,i&&y!==b){for(f=0;g=t[f++];)g(x,v,l,d);if(s){if(b>0)for(;y--;)x[y]||v[y]||(v[y]=L.call(u));v=xe(v)}B.apply(u,v),w&&!s&&v.length>0&&b+t.length>1&&re.uniqueSort(u)}return w&&(k=T,c=_),x};return i?le(s):s}(r,i))}return s},i.sortStable=y.split("").sort(E).join("")===y,i.detectDuplicates=D,u(),i.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||de(z,function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&i.specified?i.value:!0===e[t]?t.toLowerCase():null}),C.find=re,C.expr=re.selectors,C.expr[":"]=C.expr.pseudos,C.unique=re.uniqueSort,C.text=re.getText,C.isXMLDoc=re.isXML,C.contains=re.contains}(n);var j={};C.Callbacks=function(e){e="string"==typeof e?j[e]||function(e){var t=j[e]={};return C.each(e.match(S)||[],function(e,n){t[n]=!0}),t}(e):C.extend({},e);var t,n,i,a,r,s,l=[],c=!e.once&&[],d=function o(d){for(n=e.memory&&d,i=!0,r=s||0,s=0,a=l.length,t=!0;l&&r<a;r++)if(!1===l[r].apply(d[0],d[1])&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&o(c.shift()):n?l=[]:u.disable())},u={add:function(){if(l){var i=l.length;!function t(n){C.each(n,function(n,i){var o=C.type(i);"function"===o?e.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==o&&t(i)})}(arguments),t?a=l.length:n&&(s=i,d(n))}return this},remove:function(){return l&&C.each(arguments,function(e,n){for(var i;(i=C.inArray(n,l,i))>-1;)l.splice(i,1),t&&(i<=a&&a--,i<=r&&r--)}),this},has:function(e){return e?C.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=n=o,this},disabled:function(){return!l},lock:function(){return c=o,n||u.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=[e,(n=n||[]).slice?n.slice():n],t?c.push(n):d(n)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},C.extend({Deferred:function(e){var t=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return C.Deferred(function(n){C.each(t,function(t,a){var r=a[0],s=C.isFunction(e[t])&&e[t];o[a[1]](function(){var e=s&&s.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?C.extend(e,i):i}},o={};return i.pipe=i.then,C.each(t,function(e,a){var r=a[2],s=a[3];i[a[1]]=r.add,s&&r.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[a[0]]=function(){return o[a[0]+"With"](this===o?i:this,arguments),this},o[a[0]+"With"]=r.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,a=b.call(arguments),r=a.length,s=1!==r||e&&C.isFunction(e.promise)?r:0,l=1===s?e:C.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?b.call(arguments):o,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(r>1)for(t=new Array(r),n=new Array(r),i=new Array(r);o<r;o++)a[o]&&C.isFunction(a[o].promise)?a[o].promise().done(c(o,i,a)).fail(l.reject).progress(c(o,n,t)):--s;return s||l.resolveWith(i,a),l.promise()}}),C.support=function(e){var t,i,o,a,r,l,d,u,p,h=c.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=h.getElementsByTagName("*")||[],!(i=h.getElementsByTagName("a")[0])||!i.style||!t.length)return e;l=(a=c.createElement("select")).appendChild(c.createElement("option")),o=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==h.className,e.leadingWhitespace=3===h.firstChild.nodeType,e.tbody=!h.getElementsByTagName("tbody").length,e.htmlSerialize=!!h.getElementsByTagName("link").length,e.style=/top/.test(i.getAttribute("style")),e.hrefNormalized="/a"===i.getAttribute("href"),e.opacity=/^0.5/.test(i.style.opacity),e.cssFloat=!!i.style.cssFloat,e.checkOn=!!o.value,e.optSelected=l.selected,e.enctype=!!c.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==c.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,a.disabled=!0,e.optDisabled=!l.disabled;try{delete h.test}catch(t){e.deleteExpando=!1}for(p in(o=c.createElement("input")).setAttribute("value",""),e.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),(r=c.createDocumentFragment()).appendChild(o),e.appendChecked=o.checked,e.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,h.attachEvent&&(h.attachEvent("onclick",function(){e.noCloneEvent=!1}),h.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})h.setAttribute(d="on"+p,"t"),e[p+"Bubbles"]=d in n||!1===h.attributes[d].expando;for(p in h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===h.style.backgroundClip,C(e))break;return e.ownLast="0"!==p,C(function(){var t,i,o,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=c.getElementsByTagName("body")[0];r&&((t=c.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(t).appendChild(h),h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(o=h.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",e.reliableHiddenOffsets=u&&0===o[0].offsetHeight,h.innerHTML="",h.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",C.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===h.offsetWidth}),n.getComputedStyle&&(e.pixelPosition="1%"!==(n.getComputedStyle(h,null)||{}).top,e.boxSizingReliable="4px"===(n.getComputedStyle(h,null)||{width:"4px"}).width,(i=h.appendChild(c.createElement("div"))).style.cssText=h.style.cssText=a,i.style.marginRight=i.style.width="0",h.style.width="1px",e.reliableMarginRight=!parseFloat((n.getComputedStyle(i,null)||{}).marginRight)),w(h.style.zoom)!==s&&(h.innerHTML="",h.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===h.offsetWidth,h.style.display="block",h.innerHTML="<div></div>",h.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==h.offsetWidth,e.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(t),t=h=o=i=null)}),t=a=r=l=i=o=null,e}({});var R=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,G=/([A-Z])/g;function H(e,t,n,i){if(C.acceptData(e)){var a,r,s=C.expando,l=e.nodeType,c=l?C.cache:e,d=l?e[s]:e[s]&&s;if(d&&c[d]&&(i||c[d].data)||n!==o||"string"!=typeof t)return d||(d=l?e[s]=m.pop()||C.guid++:s),c[d]||(c[d]=l?{}:{toJSON:C.noop}),"object"!=w(t)&&"function"!=typeof t||(i?c[d]=C.extend(c[d],t):c[d].data=C.extend(c[d].data,t)),r=c[d],i||(r.data||(r.data={}),r=r.data),n!==o&&(r[C.camelCase(t)]=n),"string"==typeof t?null==(a=r[t])&&(a=r[C.camelCase(t)]):a=r,a}}function W(e,t,n){if(C.acceptData(e)){var i,o,a=e.nodeType,r=a?C.cache:e,s=a?e[C.expando]:C.expando;if(r[s]){if(t&&(i=n?r[s]:r[s].data)){o=(t=C.isArray(t)?t.concat(C.map(t,C.camelCase)):t in i||(t=C.camelCase(t))in i?[t]:t.split(" ")).length;for(;o--;)delete i[t[o]];if(n?!q(i):!C.isEmptyObject(i))return}(n||(delete r[s].data,q(r[s])))&&(a?C.cleanData([e],!0):C.support.deleteExpando||r!=r.window?delete r[s]:r[s]=null)}}}function U(e,t,n){if(n===o&&1===e.nodeType){var i="data-"+t.replace(G,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:R.test(n)?C.parseJSON(n):n)}catch(e){}C.data(e,t,n)}else n=o}return n}function q(e){var t;for(t in e)if(("data"!==t||!C.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}C.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?C.cache[e[C.expando]]:e[C.expando])&&!q(e)},data:function(e,t,n){return H(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return H(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&C.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),C.fn.extend({data:function(e,t){var n,i,a=null,r=0,s=this[0];if(e===o){if(this.length&&(a=C.data(s),1===s.nodeType&&!C._data(s,"parsedAttrs"))){for(n=s.attributes;r<n.length;r++)0===(i=n[r].name).indexOf("data-")&&U(s,i=C.camelCase(i.slice(5)),a[i]);C._data(s,"parsedAttrs",!0)}return a}return"object"==w(e)?this.each(function(){C.data(this,e)}):arguments.length>1?this.each(function(){C.data(this,e,t)}):s?U(s,e,C.data(s,e)):null},removeData:function(e){return this.each(function(){C.removeData(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=C._data(e,t),n&&(!i||C.isArray(n)?i=C._data(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,o=n.shift(),a=C._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,function(){C.dequeue(e,t)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return C._data(e,n)||C._data(e,n,{empty:C.Callbacks("once memory").add(function(){C._removeData(e,t+"queue"),C._removeData(e,n)})})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):t===o?this:this.each(function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},delay:function(e,t){return e=C.fx&&C.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=C.Deferred(),r=this,s=this.length,l=function(){--i||a.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=o),e=e||"fx";s--;)(n=C._data(r[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(l));return l(),a.promise(t)}});var V,Y,X=/[\t\r\n\f]/g,J=/\r/g,K=/^(?:input|select|textarea|button|object)$/i,Z=/^(?:a|area)$/i,Q=/^(?:checked|selected)$/i,ee=C.support.getSetAttribute,te=C.support.input;C.fn.extend({attr:function(e,t){return C.access(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})},prop:function(e,t){return C.access(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return e=C.propFix[e]||e,this.each(function(){try{this[e]=o,delete this[e]}catch(e){}})},addClass:function(e){var t,n,i,o,a,r=0,s=this.length,l="string"==typeof e&&e;if(C.isFunction(e))return this.each(function(t){C(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(S)||[];r<s;r++)if(i=1===(n=this[r]).nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");n.className=C.trim(i)}return this},removeClass:function(e){var t,n,i,o,a,r=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(C.isFunction(e))return this.each(function(t){C(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(S)||[];r<s;r++)if(i=1===(n=this[r]).nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");n.className=e?C.trim(i):""}return this},toggleClass:function(e,t){var n=w(e);return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):C.isFunction(e)?this.each(function(n){C(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,o=C(this),a=e.match(S)||[];t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else n!==s&&"boolean"!==n||(this.className&&C._data(this,"__className__",this.className),this.className=this.className||!1===e?"":C._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,i,a=this[0];return arguments.length?(i=C.isFunction(e),this.each(function(t){var a;1===this.nodeType&&(null==(a=i?e.call(this,t,C(this).val()):e)?a="":"number"==typeof a?a+="":C.isArray(a)&&(a=C.map(a,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,a,"value")!==o||(this.value=a))})):a?(n=C.valHooks[a.type]||C.valHooks[a.nodeName.toLowerCase()])&&"get"in n&&(t=n.get(a,"value"))!==o?t:"string"==typeof(t=a.value)?t.replace(J,""):null==t?"":t:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,a="select-one"===e.type||o<0,r=a?null:[],s=a?o+1:i.length,l=o<0?s:a?o:0;l<s;l++)if(((n=i[l]).selected||l===o)&&(C.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!C.nodeName(n.parentNode,"optgroup"))){if(t=C(n).val(),a)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,a=C.makeArray(t),r=o.length;r--;)((i=o[r]).selected=C.inArray(C(i).val(),a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}},attr:function(e,t,n){var i,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return w(e.getAttribute)===s?C.prop(e,t,n):(1===r&&C.isXMLDoc(e)||(t=t.toLowerCase(),i=C.attrHooks[t]||(C.expr.match.bool.test(t)?Y:V)),n===o?i&&"get"in i&&null!==(a=i.get(e,t))?a:null==(a=C.find.attr(e,t))?o:a:null!==n?i&&"set"in i&&(a=i.set(e,n,t))!==o?a:(e.setAttribute(t,n+""),n):void C.removeAttr(e,t))},removeAttr:function(e,t){var n,i,o=0,a=t&&t.match(S);if(a&&1===e.nodeType)for(;n=a[o++];)i=C.propFix[n]||n,C.expr.match.bool.test(n)?te&&ee||!Q.test(n)?e[i]=!1:e[C.camelCase("default-"+n)]=e[i]=!1:C.attr(e,n,""),e.removeAttribute(ee?n:i)},attrHooks:{type:{set:function(e,t){if(!C.support.radioValue&&"radio"===t&&C.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,a,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return(1!==r||!C.isXMLDoc(e))&&(t=C.propFix[t]||t,a=C.propHooks[t]),n!==o?a&&"set"in a&&(i=a.set(e,n,t))!==o?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):K.test(e.nodeName)||Z.test(e.nodeName)&&e.href?0:-1}}}}),Y={set:function(e,t,n){return!1===t?C.removeAttr(e,n):te&&ee||!Q.test(n)?e.setAttribute(!ee&&C.propFix[n]||n,n):e[C.camelCase("default-"+n)]=e[n]=!0,n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var n=C.expr.attrHandle[t]||C.find.attr;C.expr.attrHandle[t]=te&&ee||!Q.test(t)?function(e,t,i){var a=C.expr.attrHandle[t],r=i?o:(C.expr.attrHandle[t]=o)!=n(e,t,i)?t.toLowerCase():null;return C.expr.attrHandle[t]=a,r}:function(e,t,n){return n?o:e[C.camelCase("default-"+t)]?t.toLowerCase():null}}),te&&ee||(C.attrHooks.value={set:function(e,t,n){if(!C.nodeName(e,"input"))return V&&V.set(e,t,n);e.defaultValue=t}}),ee||(V={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:o}},C.expr.attrHandle.id=C.expr.attrHandle.name=C.expr.attrHandle.coords=function(e,t,n){var i;return n?o:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},C.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:o},set:V.set},C.attrHooks.contenteditable={set:function(e,t,n){V.set(e,""!==t&&t,n)}},C.each(["width","height"],function(e,t){C.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),C.support.hrefNormalized||C.each(["href","src"],function(e,t){C.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),C.support.style||(C.attrHooks.style={get:function(e){return e.style.cssText||o},set:function(e,t){return e.style.cssText=t+""}}),C.support.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.support.enctype||(C.propFix.enctype="encoding"),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t))return e.checked=C.inArray(C(e).val(),t)>=0}},C.support.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ne=/^(?:input|select|textarea)$/i,ie=/^key/,oe=/^(?:mouse|contextmenu)|click/,ae=/^(?:focusinfocus|focusoutblur)$/,re=/^([^.]*)(?:\.(.+)|)$/;function se(){return!0}function le(){return!1}function ce(){try{return c.activeElement}catch(e){}}C.event={global:{},add:function(e,t,n,i,a){var r,l,c,d,u,p,h,m,f,g,v,b=C._data(e);if(b){for(n.handler&&(n=(d=n).handler,a=d.selector),n.guid||(n.guid=C.guid++),(l=b.events)||(l=b.events={}),(p=b.handle)||((p=b.handle=function(e){return w(C)===s||e&&C.event.triggered===e.type?o:C.event.dispatch.apply(p.elem,arguments)}).elem=e),c=(t=(t||"").match(S)||[""]).length;c--;)f=v=(r=re.exec(t[c])||[])[1],g=(r[2]||"").split(".").sort(),f&&(u=C.event.special[f]||{},f=(a?u.delegateType:u.bindType)||f,u=C.event.special[f]||{},h=C.extend({type:f,origType:v,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&C.expr.match.needsContext.test(a),namespace:g.join(".")},d),(m=l[f])||((m=l[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,g,p)||(e.addEventListener?e.addEventListener(f,p,!1):e.attachEvent&&e.attachEvent("on"+f,p))),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),a?m.splice(m.delegateCount++,0,h):m.push(h),C.event.global[f]=!0);e=null}},remove:function(e,t,n,i,o){var a,r,s,l,c,d,u,p,h,m,f,g=C.hasData(e)&&C._data(e);if(g&&(d=g.events)){for(c=(t=(t||"").match(S)||[""]).length;c--;)if(h=f=(s=re.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),h){for(u=C.event.special[h]||{},p=d[h=(i?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=p.length;a--;)r=p[a],!o&&f!==r.origType||n&&n.guid!==r.guid||s&&!s.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(p.splice(a,1),r.selector&&p.delegateCount--,u.remove&&u.remove.call(e,r));l&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,m,g.handle)||C.removeEvent(e,h,g.handle),delete d[h])}else for(h in d)C.event.remove(e,h+t[c],n,i,!0);C.isEmptyObject(d)&&(delete g.handle,C._removeData(e,"events"))}},trigger:function(e,t,i,a){var r,s,l,d,u,p,h,m=[i||c],f=k.call(e,"type")?e.type:e,g=k.call(e,"namespace")?e.namespace.split("."):[];if(l=p=i=i||c,3!==i.nodeType&&8!==i.nodeType&&!ae.test(f+C.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),s=f.indexOf(":")<0&&"on"+f,(e=e[C.expando]?e:new C.Event(f,"object"==w(e)&&e)).isTrigger=a?2:3,e.namespace=g.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=o,e.target||(e.target=i),t=null==t?[e]:C.makeArray(t,[e]),u=C.event.special[f]||{},a||!u.trigger||!1!==u.trigger.apply(i,t))){if(!a&&!u.noBubble&&!C.isWindow(i)){for(d=u.delegateType||f,ae.test(d+f)||(l=l.parentNode);l;l=l.parentNode)m.push(l),p=l;p===(i.ownerDocument||c)&&m.push(p.defaultView||p.parentWindow||n)}for(h=0;(l=m[h++])&&!e.isPropagationStopped();)e.type=h>1?d:u.bindType||f,(r=(C._data(l,"events")||{})[e.type]&&C._data(l,"handle"))&&r.apply(l,t),(r=s&&l[s])&&C.acceptData(l)&&r.apply&&!1===r.apply(l,t)&&e.preventDefault();if(e.type=f,!a&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(m.pop(),t))&&C.acceptData(i)&&s&&i[f]&&!C.isWindow(i)){(p=i[s])&&(i[s]=null),C.event.triggered=f;try{i[f]()}catch(e){}C.event.triggered=o,p&&(i[s]=p)}return e.result}},dispatch:function(e){e=C.event.fix(e);var t,n,i,a,r,s,l=b.call(arguments),c=(C._data(this,"events")||{})[e.type]||[],d=C.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,e)){for(s=C.event.handlers.call(this,e,c),t=0;(a=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,r=0;(i=a.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,(n=((C.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,l))!==o&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,a,r,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(a=[],r=0;r<l;r++)a[n=(i=t[r]).selector+" "]===o&&(a[n]=i.needsContext?C(n,this).index(c)>=0:C.find(n,this,null,[c]).length),a[n]&&a.push(i);a.length&&s.push({elem:c,handlers:a})}return l<t.length&&s.push({elem:this,handlers:t.slice(l)}),s},fix:function(e){if(e[C.expando])return e;var t,n,i,o=e.type,a=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=oe.test(o)?this.mouseHooks:ie.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new C.Event(a),t=i.length;t--;)e[n=i[t]]=a[n];return e.target||(e.target=a.srcElement||c),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,a,r=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(a=(i=e.target.ownerDocument||c).documentElement,n=i.body,e.pageX=t.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||r===o||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ce()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ce()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(C.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==o&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var o=C.extend(new C.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?C.event.trigger(o,null,t):C.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},C.removeEvent=c.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(w(e[i])===s&&(e[i]=null),e.detachEvent(i,n))},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?se:le):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={isDefaultPrevented:le,isPropagationStopped:le,isImmediatePropagationStopped:le,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=se,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=se,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=se,this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,o=e.handleObj;return i&&(i===this||C.contains(this,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),C.support.submitBubbles||(C.event.special.submit={setup:function(){if(C.nodeName(this,"form"))return!1;C.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=C.nodeName(t,"input")||C.nodeName(t,"button")?t.form:o;n&&!C._data(n,"submitBubbles")&&(C.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),C._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&C.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(C.nodeName(this,"form"))return!1;C.event.remove(this,"._submit")}}),C.support.changeBubbles||(C.event.special.change={setup:function(){if(ne.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(C.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),C.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),C.event.simulate("change",this,e,!0)})),!1;C.event.add(this,"beforeactivate._change",function(e){var t=e.target;ne.test(t.nodeName)&&!C._data(t,"changeBubbles")&&(C.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||C.event.simulate("change",this.parentNode,e,!0)}),C._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return C.event.remove(this,"._change"),!ne.test(this.nodeName)}}),C.support.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){C.event.simulate(t,e.target,C.event.fix(e),!0)};C.event.special[t]={setup:function(){0==n++&&c.addEventListener(e,i,!0)},teardown:function(){0==--n&&c.removeEventListener(e,i,!0)}}}),C.fn.extend({on:function(e,t,n,i,a){var r,s;if("object"==w(e)){for(r in"string"!=typeof t&&(n=n||t,t=o),e)this.on(r,t,n,e[r],a);return this}if(null==n&&null==i?(i=t,n=t=o):null==i&&("string"==typeof t?(i=n,n=o):(i=n,n=t,t=o)),!1===i)i=le;else if(!i)return this;return 1===a&&(s=i,(i=function(e){return C().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),this.each(function(){C.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==w(e)){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=o),!1===n&&(n=le),this.each(function(){C.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}});var de=/^.[^:#\[\.,]*$/,ue=/^(?:parents|prev(?:Until|All))/,pe=C.expr.match.needsContext,he={children:!0,contents:!0,next:!0,prev:!0};function me(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function fe(e,t,n){if(C.isFunction(t))return C.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return C.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(de.test(t))return C.filter(t,e,n);t=C.filter(t,e)}return C.grep(e,function(e){return C.inArray(e,t)>=0!==n})}function ge(e){var t=ve.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}C.fn.extend({find:function(e){var t,n=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<o;t++)if(C.contains(i[t],this))return!0}));for(t=0;t<o;t++)C.find(e,i[t],n);return(n=this.pushStack(o>1?C.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=C(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(C.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(fe(this,e||[],!0))},filter:function(e){return this.pushStack(fe(this,e||[],!1))},is:function(e){return!!fe(this,"string"==typeof e&&pe.test(e)?C(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,o=this.length,a=[],r=pe.test(e)||"string"!=typeof e?C(e,t||this.context):0;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){n=a.push(n);break}return this.pushStack(a.length>1?C.unique(a):a)},index:function(e){return e?"string"==typeof e?C.inArray(this[0],C(e)):C.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?C(e,t):C.makeArray(e&&e.nodeType?[e]:e),i=C.merge(this.get(),n);return this.pushStack(C.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C.dir(e,"parentNode")},parentsUntil:function(e,t,n){return C.dir(e,"parentNode",n)},next:function(e){return me(e,"nextSibling")},prev:function(e){return me(e,"previousSibling")},nextAll:function(e){return C.dir(e,"nextSibling")},prevAll:function(e){return C.dir(e,"previousSibling")},nextUntil:function(e,t,n){return C.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return C.dir(e,"previousSibling",n)},siblings:function(e){return C.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return C.sibling(e.firstChild)},contents:function(e){return C.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:C.merge([],e.childNodes)}},function(e,t){C.fn[e]=function(n,i){var o=C.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=C.filter(i,o)),this.length>1&&(he[e]||(o=C.unique(o)),ue.test(e)&&(o=o.reverse())),this.pushStack(o)}}),C.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){for(var i=[],a=e[t];a&&9!==a.nodeType&&(n===o||1!==a.nodeType||!C(a).is(n));)1===a.nodeType&&i.push(a),a=a[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var ve="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",be=/ jQuery\d+="(?:null|\d+)"/g,ye=new RegExp("<(?:"+ve+")[\\s/>]","i"),xe=/^\s+/,we=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ke=/<([\w:]+)/,_e=/<tbody/i,Ce=/<|&#?\w+;/,Te=/<(?:script|style|link)/i,Se=/^(?:checkbox|radio)$/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^$|\/(?:java|ecma)script/i,Ee=/^true\/(.*)/,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Fe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:C.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ie=ge(c).appendChild(c.createElement("div"));function Oe(e,t){return C.nodeName(e,"table")&&C.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Le(e){return e.type=(null!==C.find.attr(e,"type"))+"/"+e.type,e}function Pe(e){var t=Ee.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Be(e,t){for(var n,i=0;null!=(n=e[i]);i++)C._data(n,"globalEval",!t||C._data(t[i],"globalEval"))}function $e(e,t){if(1===t.nodeType&&C.hasData(e)){var n,i,o,a=C._data(e),r=C._data(t,a),s=a.events;if(s)for(n in delete r.handle,r.events={},s)for(i=0,o=s[n].length;i<o;i++)C.event.add(t,n,s[n][i]);r.data&&(r.data=C.extend({},r.data))}}function Ne(e,t){var n,i,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!C.support.noCloneEvent&&t[C.expando]){for(i in(o=C._data(t)).events)C.removeEvent(t,i,o.handle);t.removeAttribute(C.expando)}"script"===n&&t.text!==e.text?(Le(t).text=e.text,Pe(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),C.support.html5Clone&&e.innerHTML&&!C.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Se.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function ze(e,t){var n,i,a=0,r=w(e.getElementsByTagName)!==s?e.getElementsByTagName(t||"*"):w(e.querySelectorAll)!==s?e.querySelectorAll(t||"*"):o;if(!r)for(r=[],n=e.childNodes||e;null!=(i=n[a]);a++)!t||C.nodeName(i,t)?r.push(i):C.merge(r,ze(i,t));return t===o||t&&C.nodeName(e,t)?C.merge([e],r):r}function je(e){Se.test(e.type)&&(e.defaultChecked=e.checked)}Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td,C.fn.extend({text:function(e){return C.access(this,function(e){return e===o?C.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?C.filter(e,this):this,o=0;null!=(n=i[o]);o++)t||1!==n.nodeType||C.cleanData(ze(n)),n.parentNode&&(t&&C.contains(n.ownerDocument,n)&&Be(ze(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&C.cleanData(ze(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&C.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return C.access(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===o)return 1===t.nodeType?t.innerHTML.replace(be,""):o;if("string"==typeof e&&!Te.test(e)&&(C.support.htmlSerialize||!ye.test(e))&&(C.support.leadingWhitespace||!xe.test(e))&&!Fe[(ke.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(we,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(ze(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=C.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],o=e[t++];o&&(i&&i.parentNode!==o&&(i=this.nextSibling),C(this).remove(),o.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=g.apply([],e);var i,o,a,r,s,l,c=0,d=this.length,u=this,p=d-1,h=e[0],m=C.isFunction(h);if(m||!(d<=1||"string"!=typeof h||C.support.checkClone)&&Me.test(h))return this.each(function(i){var o=u.eq(i);m&&(e[0]=h.call(this,i,o.html())),o.domManip(e,t,n)});if(d&&(i=(l=C.buildFragment(e,this[0].ownerDocument,!1,!n&&this)).firstChild,1===l.childNodes.length&&(l=i),i)){for(a=(r=C.map(ze(l,"script"),Le)).length;c<d;c++)o=l,c!==p&&(o=C.clone(o,!0,!0),a&&C.merge(r,ze(o,"script"))),t.call(this[c],o,c);if(a)for(s=r[r.length-1].ownerDocument,C.map(r,Pe),c=0;c<a;c++)o=r[c],De.test(o.type||"")&&!C._data(o,"globalEval")&&C.contains(s,o)&&(o.src?C._evalUrl(o.src):C.globalEval((o.text||o.textContent||o.innerHTML||"").replace(Ae,"")));l=i=null}return this}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){C.fn[e]=function(e){for(var n,i=0,o=[],a=C(e),r=a.length-1;i<=r;i++)n=i===r?this:this.clone(!0),C(a[i])[t](n),v.apply(o,n.get());return this.pushStack(o)}}),C.extend({clone:function(e,t,n){var i,o,a,r,s,l=C.contains(e.ownerDocument,e);if(C.support.html5Clone||C.isXMLDoc(e)||!ye.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Ie.innerHTML=e.outerHTML,Ie.removeChild(a=Ie.firstChild)),!(C.support.noCloneEvent&&C.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(i=ze(a),s=ze(e),r=0;null!=(o=s[r]);++r)i[r]&&Ne(o,i[r]);if(t)if(n)for(s=s||ze(e),i=i||ze(a),r=0;null!=(o=s[r]);r++)$e(o,i[r]);else $e(e,a);return(i=ze(a,"script")).length>0&&Be(i,!l&&ze(e,"script")),i=s=o=null,a},buildFragment:function(e,t,n,i){for(var o,a,r,s,l,c,d,u=e.length,p=ge(t),h=[],m=0;m<u;m++)if((a=e[m])||0===a)if("object"===C.type(a))C.merge(h,a.nodeType?[a]:a);else if(Ce.test(a)){for(s=s||p.appendChild(t.createElement("div")),l=(ke.exec(a)||["",""])[1].toLowerCase(),d=Fe[l]||Fe._default,s.innerHTML=d[1]+a.replace(we,"<$1></$2>")+d[2],o=d[0];o--;)s=s.lastChild;if(!C.support.leadingWhitespace&&xe.test(a)&&h.push(t.createTextNode(xe.exec(a)[0])),!C.support.tbody)for(o=(a="table"!==l||_e.test(a)?"<table>"!==d[1]||_e.test(a)?0:s:s.firstChild)&&a.childNodes.length;o--;)C.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(C.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(t.createTextNode(a));for(s&&p.removeChild(s),C.support.appendChecked||C.grep(ze(h,"input"),je),m=0;a=h[m++];)if((!i||-1===C.inArray(a,i))&&(r=C.contains(a.ownerDocument,a),s=ze(p.appendChild(a),"script"),r&&Be(s),n))for(o=0;a=s[o++];)De.test(a.type||"")&&n.push(a);return s=null,p},cleanData:function(e,t){for(var n,i,o,a,r=0,l=C.expando,c=C.cache,d=C.support.deleteExpando,u=C.event.special;null!=(n=e[r]);r++)if((t||C.acceptData(n))&&(a=(o=n[l])&&c[o])){if(a.events)for(i in a.events)u[i]?C.event.remove(n,i):C.removeEvent(n,i,a.handle);c[o]&&(delete c[o],d?delete n[l]:w(n.removeAttribute)!==s?n.removeAttribute(l):n[l]=null,m.push(o))}},_evalUrl:function(e){return C.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),C.fn.extend({wrapAll:function(e){if(C.isFunction(e))return this.each(function(t){C(this).wrapAll(e.call(this,t))});if(this[0]){var t=C(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return C.isFunction(e)?this.each(function(t){C(this).wrapInner(e.call(this,t))}):this.each(function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=C.isFunction(e);return this.each(function(n){C(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}});var Re,Ge,He,We=/alpha\([^)]*\)/i,Ue=/opacity\s*=\s*([^)]*)/,qe=/^(top|right|bottom|left)$/,Ve=/^(none|table(?!-c[ea]).+)/,Ye=/^margin/,Xe=new RegExp("^("+T+")(.*)$","i"),Je=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Ke=new RegExp("^([+-])=("+T+")","i"),Ze={BODY:"block"},Qe={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:0,fontWeight:400},tt=["Top","Right","Bottom","Left"],nt=["Webkit","O","Moz","ms"];function it(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=nt.length;o--;)if((t=nt[o]+n)in e)return t;return i}function ot(e,t){return e=t||e,"none"===C.css(e,"display")||!C.contains(e.ownerDocument,e)}function at(e,t){for(var n,i,o,a=[],r=0,s=e.length;r<s;r++)(i=e[r]).style&&(a[r]=C._data(i,"olddisplay"),n=i.style.display,t?(a[r]||"none"!==n||(i.style.display=""),""===i.style.display&&ot(i)&&(a[r]=C._data(i,"olddisplay",ct(i.nodeName)))):a[r]||(o=ot(i),(n&&"none"!==n||!o)&&C._data(i,"olddisplay",o?n:C.css(i,"display"))));for(r=0;r<s;r++)(i=e[r]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[r]||"":"none"));return e}function rt(e,t,n){var i=Xe.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function st(e,t,n,i,o){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,r=0;a<4;a+=2)"margin"===n&&(r+=C.css(e,n+tt[a],!0,o)),i?("content"===n&&(r-=C.css(e,"padding"+tt[a],!0,o)),"margin"!==n&&(r-=C.css(e,"border"+tt[a]+"Width",!0,o))):(r+=C.css(e,"padding"+tt[a],!0,o),"padding"!==n&&(r+=C.css(e,"border"+tt[a]+"Width",!0,o)));return r}function lt(e,t,n){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,a=Ge(e),r=C.support.boxSizing&&"border-box"===C.css(e,"boxSizing",!1,a);if(o<=0||null==o){if(((o=He(e,t,a))<0||null==o)&&(o=e.style[t]),Je.test(o))return o;i=r&&(C.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+st(e,t,n||(r?"border":"content"),i,a)+"px"}function ct(e){var t=c,n=Ze[e];return n||("none"!==(n=dt(e,t))&&n||((t=((Re=(Re||C("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||Re[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),n=dt(e,t),Re.detach()),Ze[e]=n),n}function dt(e,t){var n=C(t.createElement(e)).appendTo(t.body),i=C.css(n[0],"display");return n.remove(),i}C.fn.extend({css:function(e,t){return C.access(this,function(e,t,n){var i,a,r={},s=0;if(C.isArray(t)){for(a=Ge(e),i=t.length;s<i;s++)r[t[s]]=C.css(e,t[s],!1,a);return r}return n!==o?C.style(e,t,n):C.css(e,t)},e,t,arguments.length>1)},show:function(){return at(this,!0)},hide:function(){return at(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ot(this)?C(this).show():C(this).hide()})}}),C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=He(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:C.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,s,l=C.camelCase(t),c=e.style;if(t=C.cssProps[l]||(C.cssProps[l]=it(c,l)),s=C.cssHooks[t]||C.cssHooks[l],n===o)return s&&"get"in s&&(a=s.get(e,!1,i))!==o?a:c[t];if("string"===(r=w(n))&&(a=Ke.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(C.css(e,t)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||C.cssNumber[l]||(n+="px"),C.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&(n=s.set(e,n,i))===o)))try{c[t]=n}catch(e){}}},css:function(e,t,n,i){var a,r,s,l=C.camelCase(t);return t=C.cssProps[l]||(C.cssProps[l]=it(e.style,l)),(s=C.cssHooks[t]||C.cssHooks[l])&&"get"in s&&(r=s.get(e,!0,n)),r===o&&(r=He(e,t,i)),"normal"===r&&t in et&&(r=et[t]),""===n||n?(a=parseFloat(r),!0===n||C.isNumeric(a)?a||0:r):r}}),n.getComputedStyle?(Ge=function(e){return n.getComputedStyle(e,null)},He=function(e,t,n){var i,a,r,s=n||Ge(e),l=s?s.getPropertyValue(t)||s[t]:o,c=e.style;return s&&(""!==l||C.contains(e.ownerDocument,e)||(l=C.style(e,t)),Je.test(l)&&Ye.test(t)&&(i=c.width,a=c.minWidth,r=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=i,c.minWidth=a,c.maxWidth=r)),l}):c.documentElement.currentStyle&&(Ge=function(e){return e.currentStyle},He=function(e,t,n){var i,a,r,s=n||Ge(e),l=s?s[t]:o,c=e.style;return null==l&&c&&c[t]&&(l=c[t]),Je.test(l)&&!qe.test(t)&&(i=c.left,(r=(a=e.runtimeStyle)&&a.left)&&(a.left=e.currentStyle.left),c.left="fontSize"===t?"1em":l,l=c.pixelLeft+"px",c.left=i,r&&(a.left=r)),""===l?"auto":l}),C.each(["height","width"],function(e,t){C.cssHooks[t]={get:function(e,n,i){if(n)return 0===e.offsetWidth&&Ve.test(C.css(e,"display"))?C.swap(e,Qe,function(){return lt(e,t,i)}):lt(e,t,i)},set:function(e,n,i){var o=i&&Ge(e);return rt(0,n,i?st(e,t,i,C.support.boxSizing&&"border-box"===C.css(e,"boxSizing",!1,o),o):0)}}}),C.support.opacity||(C.cssHooks.opacity={get:function(e,t){return Ue.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=C.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===C.trim(a.replace(We,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=We.test(a)?a.replace(We,o):a+" "+o)}}),C(function(){C.support.reliableMarginRight||(C.cssHooks.marginRight={get:function(e,t){if(t)return C.swap(e,{display:"inline-block"},He,[e,"marginRight"])}}),!C.support.pixelPosition&&C.fn.position&&C.each(["top","left"],function(e,t){C.cssHooks[t]={get:function(e,n){if(n)return n=He(e,t),Je.test(n)?C(e).position()[t]+"px":n}}})}),C.expr&&C.expr.filters&&(C.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!C.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||C.css(e,"display"))},C.expr.filters.visible=function(e){return!C.expr.filters.hidden(e)}),C.each({margin:"",padding:"",border:"Width"},function(e,t){C.cssHooks[e+t]={expand:function(n){for(var i=0,o={},a="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+tt[i]+t]=a[i]||a[i-2]||a[0];return o}},Ye.test(e)||(C.cssHooks[e+t].set=rt)});var ut=/%20/g,pt=/\[\]$/,ht=/\r?\n/g,mt=/^(?:submit|button|image|reset|file)$/i,ft=/^(?:input|select|textarea|keygen)/i;function gt(e,t,n,i){var o;if(C.isArray(t))C.each(t,function(t,o){n||pt.test(e)?i(e,o):gt(e+"["+("object"==w(o)?t:"")+"]",o,n,i)});else if(n||"object"!==C.type(t))i(e,t);else for(o in t)gt(e+"["+o+"]",t[o],n,i)}C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&ft.test(this.nodeName)&&!mt.test(e)&&(this.checked||!Se.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:C.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(ht,"\r\n")}}):{name:t.name,value:n.replace(ht,"\r\n")}}).get()}}),C.param=function(e,t){var n,i=[],a=function(e,t){t=C.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===o&&(t=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){a(this.name,this.value)});else for(n in e)gt(n,e[n],t,a);return i.join("&").replace(ut,"+")},C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var vt,bt,yt=C.now(),xt=/\?/,wt=/#.*$/,kt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ct=/^(?:GET|HEAD)$/,Tt=/^\/\//,St=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Mt=C.fn.load,Dt={},Et={},At="*/".concat("*");try{bt=l.href}catch(e){(bt=c.createElement("a")).href="",bt=bt.href}function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,a=t.toLowerCase().match(S)||[];if(C.isFunction(n))for(;i=a[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function It(e,t,n,i){var o={},a=e===Et;function r(s){var l;return o[s]=!0,C.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}return r(t.dataTypes[0])||!o["*"]&&r("*")}function Ot(e,t){var n,i,a=C.ajaxSettings.flatOptions||{};for(i in t)t[i]!==o&&((a[i]?e:n||(n={}))[i]=t[i]);return n&&C.extend(!0,e,n),e}vt=St.exec(bt.toLowerCase())||[],C.fn.load=function(e,t,n){if("string"!=typeof e&&Mt)return Mt.apply(this,arguments);var i,a,r,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),C.isFunction(t)?(n=t,t=o):t&&"object"==w(t)&&(r="POST"),s.length>0&&C.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){a=arguments,s.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,a||[e.responseText,t,e])}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(vt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ot(Ot(e,C.ajaxSettings),t):Ot(C.ajaxSettings,e)},ajaxPrefilter:Ft(Dt),ajaxTransport:Ft(Et),ajax:function(e,t){"object"==w(e)&&(t=e,e=o),t=t||{};var n,i,a,r,s,l,c,d,u=C.ajaxSetup({},t),p=u.context||u,h=u.context&&(p.nodeType||p.jquery)?C(p):C.event,m=C.Deferred(),f=C.Callbacks("once memory"),g=u.statusCode||{},v={},b={},y=0,x="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!d)for(d={};t=_t.exec(r);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)g[t]=[g[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||x;return c&&c.abort(t),_(0,t),this}};if(m.promise(k).complete=f.add,k.success=k.done,k.error=k.fail,u.url=((e||u.url||bt)+"").replace(wt,"").replace(Tt,vt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=C.trim(u.dataType||"*").toLowerCase().match(S)||[""],null==u.crossDomain&&(n=St.exec(u.url.toLowerCase()),u.crossDomain=!(!n||n[1]===vt[1]&&n[2]===vt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(vt[3]||("http:"===vt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=C.param(u.data,u.traditional)),It(Dt,u,t,k),2===y)return k;for(i in(l=u.global)&&0==C.active++&&C.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Ct.test(u.type),a=u.url,u.hasContent||(u.data&&(a=u.url+=(xt.test(a)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=kt.test(a)?a.replace(kt,"$1_="+yt++):a+(xt.test(a)?"&":"?")+"_="+yt++)),u.ifModified&&(C.lastModified[a]&&k.setRequestHeader("If-Modified-Since",C.lastModified[a]),C.etag[a]&&k.setRequestHeader("If-None-Match",C.etag[a])),(u.data&&u.hasContent&&!1!==u.contentType||t.contentType)&&k.setRequestHeader("Content-Type",u.contentType),k.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+At+"; q=0.01":""):u.accepts["*"]),u.headers)k.setRequestHeader(i,u.headers[i]);if(u.beforeSend&&(!1===u.beforeSend.call(p,k,u)||2===y))return k.abort();for(i in x="abort",{success:1,error:1,complete:1})k[i](u[i]);if(c=It(Et,u,t,k)){k.readyState=1,l&&h.trigger("ajaxSend",[k,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){k.abort("timeout")},u.timeout));try{y=1,c.send(v,_)}catch(e){if(!(y<2))throw e;_(-1,e)}}else _(-1,"No Transport");function _(e,t,n,i){var d,v,b,x,w,_=t;2!==y&&(y=2,s&&clearTimeout(s),c=o,r=i||"",k.readyState=e>0?4:0,d=e>=200&&e<300||304===e,n&&(x=function(e,t,n){for(var i,a,r,s,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),a===o&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(s in l)if(l[s]&&l[s].test(a)){c.unshift(s);break}if(c[0]in n)r=c[0];else{for(s in n){if(!c[0]||e.converters[s+" "+c[0]]){r=s;break}i||(i=s)}r=r||i}if(r)return r!==c[0]&&c.unshift(r),n[r]}(u,k,n)),x=function(e,t,n,i){var o,a,r,s,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(a=d.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=d.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(r=c[l+" "+a]||c["* "+a]))for(o in c)if((s=o.split(" "))[1]===a&&(r=c[l+" "+s[0]]||c["* "+s[0]])){!0===r?r=c[o]:!0!==c[o]&&(a=s[0],d.unshift(s[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(u,x,k,d),d?(u.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(C.lastModified[a]=w),(w=k.getResponseHeader("etag"))&&(C.etag[a]=w)),204===e||"HEAD"===u.type?_="nocontent":304===e?_="notmodified":(_=x.state,v=x.data,d=!(b=x.error))):(b=_,!e&&_||(_="error",e<0&&(e=0))),k.status=e,k.statusText=(t||_)+"",d?m.resolveWith(p,[v,_,k]):m.rejectWith(p,[k,_,b]),k.statusCode(g),g=o,l&&h.trigger(d?"ajaxSuccess":"ajaxError",[k,u,d?v:b]),f.fireWith(p,[k,_]),l&&(h.trigger("ajaxComplete",[k,u]),--C.active||C.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,o,t,"script")}}),C.each(["get","post"],function(e,t){C[t]=function(e,n,i,a){return C.isFunction(n)&&(a=a||i,i=n,n=o),C.ajax({url:e,type:t,dataType:a,data:n,success:i})}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){e.cache===o&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),C.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=c.head||C("head")[0]||c.documentElement;return{send:function(i,o){(t=c.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(o,!0)}}}});var Lt=[],Pt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||C.expando+"_"+yt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,i){var a,r,s,l=!1!==e.jsonp&&(Pt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pt.test(e.data)&&"data");if(l||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(Pt,"$1"+a):!1!==e.jsonp&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return s||C.error(a+" was not called"),s[0]},e.dataTypes[0]="json",r=n[a],n[a]=function(){s=arguments},i.always(function(){n[a]=r,e[a]&&(e.jsonpCallback=t.jsonpCallback,Lt.push(a)),s&&C.isFunction(r)&&r(s[0]),s=r=o}),"script"});var Bt,$t,Nt=0,zt=n.ActiveXObject&&function(){var e;for(e in Bt)Bt[e](o,!0)};function jt(){try{return new n.XMLHttpRequest}catch(e){}}C.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&jt()||function(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:jt,$t=C.ajaxSettings.xhr(),C.support.cors=!!$t&&"withCredentials"in $t,($t=C.support.ajax=!!$t)&&C.ajaxTransport(function(e){var t;if(!e.crossDomain||C.support.cors)return{send:function(i,a){var r,s,l=e.xhr();if(e.username?l.open(e.type,e.url,e.async,e.username,e.password):l.open(e.type,e.url,e.async),e.xhrFields)for(s in e.xhrFields)l[s]=e.xhrFields[s];e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(e){}l.send(e.hasContent&&e.data||null),t=function(n,i){var s,c,d,u;try{if(t&&(i||4===l.readyState))if(t=o,r&&(l.onreadystatechange=C.noop,zt&&delete Bt[r]),i)4!==l.readyState&&l.abort();else{u={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{d=l.statusText}catch(e){d=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}}catch(e){i||a(-1,e)}u&&a(s,d,u,c)},e.async?4===l.readyState?setTimeout(t):(r=++Nt,zt&&(Bt||(Bt={},C(n).unload(zt)),Bt[r]=t),l.onreadystatechange=t):t()},abort:function(){t&&t(o,!0)}}});var Rt,Gt,Ht=/^(?:toggle|show|hide)$/,Wt=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),Ut=/queueHooks$/,qt=[function(e,t,n){var i,o,a,r,s,l,c=this,d={},u=e.style,p=e.nodeType&&ot(e),h=C._data(e,"fxshow");for(i in n.queue||(null==(s=C._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,C.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===C.css(e,"display")&&"none"===C.css(e,"float")&&(C.support.inlineBlockNeedsLayout&&"inline"!==ct(e.nodeName)?u.zoom=1:u.display="inline-block")),n.overflow&&(u.overflow="hidden",C.support.shrinkWrapBlocks||c.always(function(){u.overflow=n.overflow[0],u.overflowX=n.overflow[1],u.overflowY=n.overflow[2]})),t)if(o=t[i],Ht.exec(o)){if(delete t[i],a=a||"toggle"===o,o===(p?"hide":"show"))continue;d[i]=h&&h[i]||C.style(e,i)}if(!C.isEmptyObject(d))for(i in h?"hidden"in h&&(p=h.hidden):h=C._data(e,"fxshow",{}),a&&(h.hidden=!p),p?C(e).show():c.done(function(){C(e).hide()}),c.done(function(){var t;for(t in C._removeData(e,"fxshow"),d)C.style(e,t,d[t])}),d)r=Xt(p?h[i]:0,i,c),i in h||(h[i]=r.start,p&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}],Vt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),o=Wt.exec(t),a=o&&o[3]||(C.cssNumber[e]?"":"px"),r=(C.cssNumber[e]||"px"!==a&&+i)&&Wt.exec(C.css(n.elem,e)),s=1,l=20;if(r&&r[3]!==a){a=a||r[3],o=o||[],r=+i||1;do{r/=s=s||".5",C.style(n.elem,e,r+a)}while(s!==(s=n.cur()/i)&&1!==s&&--l)}return o&&(r=n.start=+r||+i||0,n.unit=a,n.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),n}]};function Yt(){return setTimeout(function(){Rt=o}),Rt=C.now()}function Xt(e,t,n){for(var i,o=(Vt[t]||[]).concat(Vt["*"]),a=0,r=o.length;a<r;a++)if(i=o[a].call(n,t,e))return i}function Jt(e,t,n){var i,o,a=0,r=qt.length,s=C.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Rt||Yt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),a=0,r=c.tweens.length;a<r;a++)c.tweens[a].run(i);return s.notifyWith(e,[c,i,n]),i<1&&r?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Rt||Yt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=C.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(function(e,t){var n,i,o,a,r;for(n in e)if(o=t[i=C.camelCase(n)],a=e[n],C.isArray(a)&&(o=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),(r=C.cssHooks[i])&&"expand"in r)for(n in a=r.expand(a),delete e[i],a)n in e||(e[n]=a[n],t[n]=o);else t[i]=o}(d,c.opts.specialEasing);a<r;a++)if(i=qt[a].call(c,e,d,c.opts))return i;return C.map(d,Xt,c),C.isFunction(c.opts.start)&&c.opts.start.call(e,c),C.fx.timer(C.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function Kt(e,t,n,i,o){return new Kt.prototype.init(e,t,n,i,o)}function Zt(e,t){var n,i={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=tt[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Qt(e){return C.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}C.Animation=C.extend(Jt,{tweener:function(e,t){C.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;i<o;i++)n=e[i],Vt[n]=Vt[n]||[],Vt[n].unshift(t)},prefilter:function(e,t){t?qt.unshift(e):qt.push(e)}}),C.Tween=Kt,Kt.prototype={constructor:Kt,init:function(e,t,n,i,o,a){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(C.cssNumber[n]?"":"px")},cur:function(){var e=Kt.propHooks[this.prop];return e&&e.get?e.get(this):Kt.propHooks._default.get(this)},run:function(e){var t,n=Kt.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Kt.propHooks._default.set(this),this}},Kt.prototype.init.prototype=Kt.prototype,Kt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[C.cssProps[e.prop]]||C.cssHooks[e.prop])?C.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Kt.propHooks.scrollTop=Kt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.each(["toggle","show","hide"],function(e,t){var n=C.fn[t];C.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Zt(t,!0),e,i,o)}}),C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ot).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=C.isEmptyObject(e),a=C.speed(t,n,i),r=function(){var t=Jt(this,C.extend({},e),a);(o||C._data(this,"finish"))&&t.stop(!0)};return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=o),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=C.timers,r=C._data(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&Ut.test(o)&&i(r[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(n),t=!1,a.splice(o,1));!t&&n||C.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=C._data(this),i=n[e+"queue"],o=n[e+"queueHooks"],a=C.timers,r=i?i.length:0;for(n.finish=!0,C.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),C.each({slideDown:Zt("show"),slideUp:Zt("hide"),slideToggle:Zt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){C.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),C.speed=function(e,t,n){var i=e&&"object"==w(e)?C.extend({},e):{complete:n||!n&&t||C.isFunction(e)&&e,duration:e,easing:n&&t||t&&!C.isFunction(t)&&t};return i.duration=C.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in C.fx.speeds?C.fx.speeds[i.duration]:C.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){C.isFunction(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},C.timers=[],C.fx=Kt.prototype.init,C.fx.tick=function(){var e,t=C.timers,n=0;for(Rt=C.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||C.fx.stop(),Rt=o},C.fx.timer=function(e){e()&&C.timers.push(e)&&C.fx.start()},C.fx.interval=13,C.fx.start=function(){Gt||(Gt=setInterval(C.fx.tick,C.fx.interval))},C.fx.stop=function(){clearInterval(Gt),Gt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fx.step={},C.expr&&C.expr.filters&&(C.expr.filters.animated=function(e){return C.grep(C.timers,function(t){return e===t.elem}).length}),C.fn.offset=function(e){if(arguments.length)return e===o?this:this.each(function(t){C.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},a=this[0],r=a&&a.ownerDocument;return r?(t=r.documentElement,C.contains(t,a)?(w(a.getBoundingClientRect)!==s&&(i=a.getBoundingClientRect()),n=Qt(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},C.offset={setOffset:function(e,t,n){var i=C.css(e,"position");"static"===i&&(e.style.position="relative");var o,a,r=C(e),s=r.offset(),l=C.css(e,"top"),c=C.css(e,"left"),d={},u={};("absolute"===i||"fixed"===i)&&C.inArray("auto",[l,c])>-1?(o=(u=r.position()).top,a=u.left):(o=parseFloat(l)||0,a=parseFloat(c)||0),C.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+a),"using"in t?t.using.call(e,d):r.css(d)}},C.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===C.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C.nodeName(e[0],"html")||(n=e.offset()),n.top+=C.css(e[0],"borderTopWidth",!0),n.left+=C.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-C.css(i,"marginTop",!0),left:t.left-n.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||d;e&&!C.nodeName(e,"html")&&"static"===C.css(e,"position");)e=e.offsetParent;return e||d})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);C.fn[e]=function(i){return C.access(this,function(e,i,a){var r=Qt(e);if(a===o)return r?t in r?r[t]:r.document.documentElement[i]:e[i];r?r.scrollTo(n?C(r).scrollLeft():a,n?a:C(r).scrollTop()):e[i]=a},e,i,arguments.length,null)}}),C.each({Height:"height",Width:"width"},function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){C.fn[i]=function(i,a){var r=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===a?"margin":"border");return C.access(this,function(t,n,i){var a;return C.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):i===o?C.css(t,n,s):C.style(t,n,i,s)},t,r?i:o,r,null)}})}),C.fn.size=function(){return this.length},C.fn.andSelf=C.fn.addBack,e&&"object"==w(e.exports)?e.exports=C:(n.jQuery=n.$=C,(i=function(){return C}.apply(t,[]))===o||(e.exports=i))}(window)},54205:function(e,t,n){n(45987),n(96700),n(61894),n(65534),n(96909),n(5682),n(54183),n(65528),n(87812),n(1053),n(82403),n(12638),n(33809),n(13253),n(6284),n(69268),n(58500),n(84889),n(54938),n(78471),"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==w(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){n.r(t),n(0);var i=function(){function e(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}return e.range=function(t,n){return n?t&&t.loc&&n.loc&&t.loc.lexer===n.loc.lexer?new e(t.loc.lexer,t.loc.start,n.loc.end):null:t&&t.loc},e}(),o=function(){function e(e,t){this.text=void 0,this.loc=void 0,this.text=e,this.loc=t}return e.prototype.range=function(t,n){return new e(n,i.range(this,t))},e}(),a=function e(t,n){this.position=void 0;var i,o="KaTeX parse error: "+t,a=n&&n.loc;if(a&&a.start<=a.end){var r=a.lexer.input;i=a.start;var s=a.end;i===r.length?o+=" at end of input: ":o+=" at position "+(i+1)+": ";var l=r.slice(i,s).replace(/[^]/g,"$&̲");o+=(i>15?"…"+r.slice(i-15,i):r.slice(0,i))+l+(s+15<r.length?r.slice(s,s+15)+"…":r.slice(s))}var c=new Error(o);return c.name="ParseError",c.__proto__=e.prototype,c.position=i,c};a.prototype.__proto__=Error.prototype;var r=a,s=/([A-Z])/g,l={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},c=/[&><"']/g,d=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},u={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(c,function(e){return l[e]})},hyphenate:function(e){return e.replace(s,"-$1").toLowerCase()},getBaseElem:d,isCharacterBox:function(e){var t=d(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type}},p=function(){function e(e){this.displayMode=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.allowedProtocols=void 0,e=e||{},this.displayMode=u.deflt(e.displayMode,!1),this.leqno=u.deflt(e.leqno,!1),this.fleqn=u.deflt(e.fleqn,!1),this.throwOnError=u.deflt(e.throwOnError,!0),this.errorColor=u.deflt(e.errorColor,"#cc0000"),this.macros=e.macros||{},this.colorIsTextColor=u.deflt(e.colorIsTextColor,!1),this.strict=u.deflt(e.strict,"warn"),this.maxSize=Math.max(0,u.deflt(e.maxSize,1/0)),this.maxExpand=Math.max(0,u.deflt(e.maxExpand,1e3)),this.allowedProtocols=u.deflt(e.allowedProtocols,["http","https","mailto","_relative"])}var t=e.prototype;return t.reportNonstrict=function(e,t,n){var i=this.strict;if("function"==typeof i&&(i=i(e,t,n)),i&&"ignore"!==i&&(!0===i||"error"===i))throw new r("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n)},t.useStrictBehavior=function(e,t,n){var i=this.strict;if("function"==typeof i)try{i=i(e,t,n)}catch(e){i="error"}return!(!i||"ignore"===i||!0!==i&&"error"!==i)},e}(),h=function(){function e(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}var t=e.prototype;return t.sup=function(){return m[f[this.id]]},t.sub=function(){return m[g[this.id]]},t.fracNum=function(){return m[v[this.id]]},t.fracDen=function(){return m[b[this.id]]},t.cramp=function(){return m[y[this.id]]},t.text=function(){return m[x[this.id]]},t.isTight=function(){return this.size>=2},e}(),m=[new h(0,0,!1),new h(1,0,!0),new h(2,1,!1),new h(3,1,!0),new h(4,2,!1),new h(5,2,!0),new h(6,3,!1),new h(7,3,!0)],f=[4,5,4,5,6,7,6,7],g=[5,5,5,5,7,7,7,7],v=[2,3,4,5,6,7,6,7],b=[3,3,5,5,7,7,7,7],y=[1,1,3,3,5,5,7,7],x=[0,1,2,3,2,3,2,3],w={DISPLAY:m[0],TEXT:m[2],SCRIPT:m[4],SCRIPTSCRIPT:m[6]},k=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],_=[];function C(e){for(var t=0;t<_.length;t+=2)if(e>=_[t]&&e<=_[t+1])return!0;return!1}k.forEach(function(e){return e.blocks.forEach(function(e){return _.push.apply(_,e)})});var T={path:{sqrtMain:"M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,\n-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,\n-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,\n35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,\n-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467\ns-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422\ns-65,47,-65,47z M834 80H400000v40H845z",sqrtSize1:"M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,\n158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067\nc4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,\n175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71\nc-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,\n-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26\ns76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z",sqrtSize2:"M1001,80H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,\n572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,\n-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39\nc-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60\ns208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,\n-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5c4,-6.7,10,-10,18,-10z\nM1001 80H400000v40H1013z",sqrtSize3:"M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,\n-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,\n25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,\n-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079\nc169.3,-717.3,254.7,-1077.7,256,-1081c4,-6.7,10,-10,18,-10H400000v40H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M1001 80H400000v40H1014z",sqrtSize4:"M473,2793c339.3,-1799.3,509.3,-2700,510,-2702\nc3.3,-7.3,9.3,-11,18,-11H400000v40H1017.7s-90.5,478,-276.2,1466c-185.7,988,\n-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,\n-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200c0,-1.3,-5.3,8.7,-16,30c-10.7,\n21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26s76,-153,76,-153s77,-151,\n77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,606z\nM1001 80H400000v40H1017z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"}},S=function(){function e(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var t=e.prototype;return t.hasClass=function(e){return u.contains(this.classes,e)},t.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},t.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},t.toText=function(){return this.children.map(function(e){return e.toText()}).join("")},e}(),M=function(e){return e.filter(function(e){return e}).join(" ")},D=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},E=function(e){var t=document.createElement(e);for(var n in t.className=M(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)t.appendChild(this.children[o].toNode());return t},A=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+u.escape(M(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=u.hyphenate(i)+":"+this.style[i]+";");for(var o in n&&(t+=' style="'+u.escape(n)+'"'),this.attributes)this.attributes.hasOwnProperty(o)&&(t+=" "+o+'="'+u.escape(this.attributes[o])+'"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+"</"+e+">"},F=function(){function e(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,D.call(this,e,n,i),this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return u.contains(this.classes,e)},t.toNode=function(){return E.call(this,"span")},t.toMarkup=function(){return A.call(this,"span")},e}(),I=function(){function e(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,D.call(this,t,i),this.children=n||[],this.setAttribute("href",e)}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return u.contains(this.classes,e)},t.toNode=function(){return E.call(this,"a")},t.toMarkup=function(){return A.call(this,"a")},e}(),O={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"},L=function(){function e(e,t,n,i,o,a,r,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=i||0,this.skew=o||0,this.width=a||0,this.classes=r||[],this.style=s||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<k.length;t++)for(var n=k[t],i=0;i<n.blocks.length;i++){var o=n.blocks[i];if(e>=o[0]&&e<=o[1])return n.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=O[this.text])}var t=e.prototype;return t.hasClass=function(e){return u.contains(this.classes,e)},t.toNode=function(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&((t=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((t=t||document.createElement("span")).className=M(this.classes)),this.style)this.style.hasOwnProperty(n)&&((t=t||document.createElement("span")).style[n]=this.style[n]);return t?(t.appendChild(e),t):e},t.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=u.escape(M(this.classes)),t+='"');var n="";for(var i in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(i)&&(n+=u.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,t+=' style="'+u.escape(n)+'"');var o=u.escape(this.text);return e?(t+=">",t+=o,t+="</span>"):o},e}(),P=function(){function e(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},t.toMarkup=function(){var e="<svg";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+"</svg>"},e}(),B=function(){function e(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",T.path[this.pathName]),e},t.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+T.path[this.pathName]+"'/>"},e}(),$=function(){function e(e){this.attributes=void 0,this.attributes=e||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e},t.toMarkup=function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+"/>"},e}(),N={"AMS-Regular":{65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473]},"Fraktur-Regular":{33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],163:[0,.69444,0,0,.86853],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],163:[0,.69444,0,0,.76909],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],305:[0,.43056,0,.02778,.32246],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],567:[.19444,.43056,0,.08334,.38403],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333]},"Math-Italic":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"Math-Regular":{65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059]},"SansSerif-Bold":{33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212]},"Size1-Regular":{40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},z={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]},j={"Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function R(e,t,n){if(!N[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0);e[0]in j&&(i=j[e[0]].charCodeAt(0));var o=N[t][i];if(o||"text"!==n||C(i)&&(o=N[t][77]),o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var G={},H={bin:1,close:1,inner:1,open:1,punct:1,rel:1},W={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},U={math:{},text:{}},q=U;function V(e,t,n,i,o,a){U[e][o]={font:t,group:n,replace:i},a&&i&&(U[e][i]=U[e][o])}var Y="main",X="ams",J="bin",K="mathord",Z="op-token",Q="rel",ee="spacing";V("math",Y,Q,"≡","\\equiv",!0),V("math",Y,Q,"≺","\\prec",!0),V("math",Y,Q,"≻","\\succ",!0),V("math",Y,Q,"∼","\\sim",!0),V("math",Y,Q,"⊥","\\perp"),V("math",Y,Q,"⪯","\\preceq",!0),V("math",Y,Q,"⪰","\\succeq",!0),V("math",Y,Q,"≃","\\simeq",!0),V("math",Y,Q,"∣","\\mid",!0),V("math",Y,Q,"≪","\\ll",!0),V("math",Y,Q,"≫","\\gg",!0),V("math",Y,Q,"≍","\\asymp",!0),V("math",Y,Q,"∥","\\parallel"),V("math",Y,Q,"⋈","\\bowtie",!0),V("math",Y,Q,"⌣","\\smile",!0),V("math",Y,Q,"⊑","\\sqsubseteq",!0),V("math",Y,Q,"⊒","\\sqsupseteq",!0),V("math",Y,Q,"≐","\\doteq",!0),V("math",Y,Q,"⌢","\\frown",!0),V("math",Y,Q,"∋","\\ni",!0),V("math",Y,Q,"∝","\\propto",!0),V("math",Y,Q,"⊢","\\vdash",!0),V("math",Y,Q,"⊣","\\dashv",!0),V("math",Y,Q,"∋","\\owns"),V("math",Y,"punct",".","\\ldotp"),V("math",Y,"punct","⋅","\\cdotp"),V("math",Y,"textord","#","\\#"),V("text",Y,"textord","#","\\#"),V("math",Y,"textord","&","\\&"),V("text",Y,"textord","&","\\&"),V("math",Y,"textord","ℵ","\\aleph",!0),V("math",Y,"textord","∀","\\forall",!0),V("math",Y,"textord","ℏ","\\hbar",!0),V("math",Y,"textord","∃","\\exists",!0),V("math",Y,"textord","∇","\\nabla",!0),V("math",Y,"textord","♭","\\flat",!0),V("math",Y,"textord","ℓ","\\ell",!0),V("math",Y,"textord","♮","\\natural",!0),V("math",Y,"textord","♣","\\clubsuit",!0),V("math",Y,"textord","℘","\\wp",!0),V("math",Y,"textord","♯","\\sharp",!0),V("math",Y,"textord","♢","\\diamondsuit",!0),V("math",Y,"textord","ℜ","\\Re",!0),V("math",Y,"textord","♡","\\heartsuit",!0),V("math",Y,"textord","ℑ","\\Im",!0),V("math",Y,"textord","♠","\\spadesuit",!0),V("text",Y,"textord","§","\\S",!0),V("text",Y,"textord","¶","\\P",!0),V("math",Y,"textord","†","\\dag"),V("text",Y,"textord","†","\\dag"),V("text",Y,"textord","†","\\textdagger"),V("math",Y,"textord","‡","\\ddag"),V("text",Y,"textord","‡","\\ddag"),V("text",Y,"textord","‡","\\textdaggerdbl"),V("math",Y,"close","⎱","\\rmoustache",!0),V("math",Y,"open","⎰","\\lmoustache",!0),V("math",Y,"close","⟯","\\rgroup",!0),V("math",Y,"open","⟮","\\lgroup",!0),V("math",Y,J,"∓","\\mp",!0),V("math",Y,J,"⊖","\\ominus",!0),V("math",Y,J,"⊎","\\uplus",!0),V("math",Y,J,"⊓","\\sqcap",!0),V("math",Y,J,"∗","\\ast"),V("math",Y,J,"⊔","\\sqcup",!0),V("math",Y,J,"◯","\\bigcirc"),V("math",Y,J,"∙","\\bullet"),V("math",Y,J,"‡","\\ddagger"),V("math",Y,J,"≀","\\wr",!0),V("math",Y,J,"⨿","\\amalg"),V("math",Y,J,"&","\\And"),V("math",Y,Q,"⟵","\\longleftarrow",!0),V("math",Y,Q,"⇐","\\Leftarrow",!0),V("math",Y,Q,"⟸","\\Longleftarrow",!0),V("math",Y,Q,"⟶","\\longrightarrow",!0),V("math",Y,Q,"⇒","\\Rightarrow",!0),V("math",Y,Q,"⟹","\\Longrightarrow",!0),V("math",Y,Q,"↔","\\leftrightarrow",!0),V("math",Y,Q,"⟷","\\longleftrightarrow",!0),V("math",Y,Q,"⇔","\\Leftrightarrow",!0),V("math",Y,Q,"⟺","\\Longleftrightarrow",!0),V("math",Y,Q,"↦","\\mapsto",!0),V("math",Y,Q,"⟼","\\longmapsto",!0),V("math",Y,Q,"↗","\\nearrow",!0),V("math",Y,Q,"↩","\\hookleftarrow",!0),V("math",Y,Q,"↪","\\hookrightarrow",!0),V("math",Y,Q,"↘","\\searrow",!0),V("math",Y,Q,"↼","\\leftharpoonup",!0),V("math",Y,Q,"⇀","\\rightharpoonup",!0),V("math",Y,Q,"↙","\\swarrow",!0),V("math",Y,Q,"↽","\\leftharpoondown",!0),V("math",Y,Q,"⇁","\\rightharpoondown",!0),V("math",Y,Q,"↖","\\nwarrow",!0),V("math",Y,Q,"⇌","\\rightleftharpoons",!0),V("math",X,Q,"≮","\\nless",!0),V("math",X,Q,"","\\nleqslant"),V("math",X,Q,"","\\nleqq"),V("math",X,Q,"⪇","\\lneq",!0),V("math",X,Q,"≨","\\lneqq",!0),V("math",X,Q,"","\\lvertneqq"),V("math",X,Q,"⋦","\\lnsim",!0),V("math",X,Q,"⪉","\\lnapprox",!0),V("math",X,Q,"⊀","\\nprec",!0),V("math",X,Q,"⋠","\\npreceq",!0),V("math",X,Q,"⋨","\\precnsim",!0),V("math",X,Q,"⪹","\\precnapprox",!0),V("math",X,Q,"≁","\\nsim",!0),V("math",X,Q,"","\\nshortmid"),V("math",X,Q,"∤","\\nmid",!0),V("math",X,Q,"⊬","\\nvdash",!0),V("math",X,Q,"⊭","\\nvDash",!0),V("math",X,Q,"⋪","\\ntriangleleft"),V("math",X,Q,"⋬","\\ntrianglelefteq",!0),V("math",X,Q,"⊊","\\subsetneq",!0),V("math",X,Q,"","\\varsubsetneq"),V("math",X,Q,"⫋","\\subsetneqq",!0),V("math",X,Q,"","\\varsubsetneqq"),V("math",X,Q,"≯","\\ngtr",!0),V("math",X,Q,"","\\ngeqslant"),V("math",X,Q,"","\\ngeqq"),V("math",X,Q,"⪈","\\gneq",!0),V("math",X,Q,"≩","\\gneqq",!0),V("math",X,Q,"","\\gvertneqq"),V("math",X,Q,"⋧","\\gnsim",!0),V("math",X,Q,"⪊","\\gnapprox",!0),V("math",X,Q,"⊁","\\nsucc",!0),V("math",X,Q,"⋡","\\nsucceq",!0),V("math",X,Q,"⋩","\\succnsim",!0),V("math",X,Q,"⪺","\\succnapprox",!0),V("math",X,Q,"≆","\\ncong",!0),V("math",X,Q,"","\\nshortparallel"),V("math",X,Q,"∦","\\nparallel",!0),V("math",X,Q,"⊯","\\nVDash",!0),V("math",X,Q,"⋫","\\ntriangleright"),V("math",X,Q,"⋭","\\ntrianglerighteq",!0),V("math",X,Q,"","\\nsupseteqq"),V("math",X,Q,"⊋","\\supsetneq",!0),V("math",X,Q,"","\\varsupsetneq"),V("math",X,Q,"⫌","\\supsetneqq",!0),V("math",X,Q,"","\\varsupsetneqq"),V("math",X,Q,"⊮","\\nVdash",!0),V("math",X,Q,"⪵","\\precneqq",!0),V("math",X,Q,"⪶","\\succneqq",!0),V("math",X,Q,"","\\nsubseteqq"),V("math",X,J,"⊴","\\unlhd"),V("math",X,J,"⊵","\\unrhd"),V("math",X,Q,"↚","\\nleftarrow",!0),V("math",X,Q,"↛","\\nrightarrow",!0),V("math",X,Q,"⇍","\\nLeftarrow",!0),V("math",X,Q,"⇏","\\nRightarrow",!0),V("math",X,Q,"↮","\\nleftrightarrow",!0),V("math",X,Q,"⇎","\\nLeftrightarrow",!0),V("math",X,Q,"△","\\vartriangle"),V("math",X,"textord","ℏ","\\hslash"),V("math",X,"textord","▽","\\triangledown"),V("math",X,"textord","◊","\\lozenge"),V("math",X,"textord","Ⓢ","\\circledS"),V("math",X,"textord","®","\\circledR"),V("text",X,"textord","®","\\circledR"),V("math",X,"textord","∡","\\measuredangle",!0),V("math",X,"textord","∄","\\nexists"),V("math",X,"textord","℧","\\mho"),V("math",X,"textord","Ⅎ","\\Finv",!0),V("math",X,"textord","⅁","\\Game",!0),V("math",X,"textord","k","\\Bbbk"),V("math",X,"textord","‵","\\backprime"),V("math",X,"textord","▲","\\blacktriangle"),V("math",X,"textord","▼","\\blacktriangledown"),V("math",X,"textord","■","\\blacksquare"),V("math",X,"textord","⧫","\\blacklozenge"),V("math",X,"textord","★","\\bigstar"),V("math",X,"textord","∢","\\sphericalangle",!0),V("math",X,"textord","∁","\\complement",!0),V("math",X,"textord","ð","\\eth",!0),V("math",X,"textord","╱","\\diagup"),V("math",X,"textord","╲","\\diagdown"),V("math",X,"textord","□","\\square"),V("math",X,"textord","□","\\Box"),V("math",X,"textord","◊","\\Diamond"),V("math",X,"textord","¥","\\yen",!0),V("text",X,"textord","¥","\\yen",!0),V("math",X,"textord","✓","\\checkmark",!0),V("text",X,"textord","✓","\\checkmark"),V("math",X,"textord","ℶ","\\beth",!0),V("math",X,"textord","ℸ","\\daleth",!0),V("math",X,"textord","ℷ","\\gimel",!0),V("math",X,"textord","ϝ","\\digamma"),V("math",X,"textord","ϰ","\\varkappa"),V("math",X,"open","┌","\\ulcorner",!0),V("math",X,"close","┐","\\urcorner",!0),V("math",X,"open","└","\\llcorner",!0),V("math",X,"close","┘","\\lrcorner",!0),V("math",X,Q,"≦","\\leqq",!0),V("math",X,Q,"⩽","\\leqslant",!0),V("math",X,Q,"⪕","\\eqslantless",!0),V("math",X,Q,"≲","\\lesssim",!0),V("math",X,Q,"⪅","\\lessapprox",!0),V("math",X,Q,"≊","\\approxeq",!0),V("math",X,J,"⋖","\\lessdot"),V("math",X,Q,"⋘","\\lll",!0),V("math",X,Q,"≶","\\lessgtr",!0),V("math",X,Q,"⋚","\\lesseqgtr",!0),V("math",X,Q,"⪋","\\lesseqqgtr",!0),V("math",X,Q,"≑","\\doteqdot"),V("math",X,Q,"≓","\\risingdotseq",!0),V("math",X,Q,"≒","\\fallingdotseq",!0),V("math",X,Q,"∽","\\backsim",!0),V("math",X,Q,"⋍","\\backsimeq",!0),V("math",X,Q,"⫅","\\subseteqq",!0),V("math",X,Q,"⋐","\\Subset",!0),V("math",X,Q,"⊏","\\sqsubset",!0),V("math",X,Q,"≼","\\preccurlyeq",!0),V("math",X,Q,"⋞","\\curlyeqprec",!0),V("math",X,Q,"≾","\\precsim",!0),V("math",X,Q,"⪷","\\precapprox",!0),V("math",X,Q,"⊲","\\vartriangleleft"),V("math",X,Q,"⊴","\\trianglelefteq"),V("math",X,Q,"⊨","\\vDash",!0),V("math",X,Q,"⊪","\\Vvdash",!0),V("math",X,Q,"⌣","\\smallsmile"),V("math",X,Q,"⌢","\\smallfrown"),V("math",X,Q,"≏","\\bumpeq",!0),V("math",X,Q,"≎","\\Bumpeq",!0),V("math",X,Q,"≧","\\geqq",!0),V("math",X,Q,"⩾","\\geqslant",!0),V("math",X,Q,"⪖","\\eqslantgtr",!0),V("math",X,Q,"≳","\\gtrsim",!0),V("math",X,Q,"⪆","\\gtrapprox",!0),V("math",X,J,"⋗","\\gtrdot"),V("math",X,Q,"⋙","\\ggg",!0),V("math",X,Q,"≷","\\gtrless",!0),V("math",X,Q,"⋛","\\gtreqless",!0),V("math",X,Q,"⪌","\\gtreqqless",!0),V("math",X,Q,"≖","\\eqcirc",!0),V("math",X,Q,"≗","\\circeq",!0),V("math",X,Q,"≜","\\triangleq",!0),V("math",X,Q,"∼","\\thicksim"),V("math",X,Q,"≈","\\thickapprox"),V("math",X,Q,"⫆","\\supseteqq",!0),V("math",X,Q,"⋑","\\Supset",!0),V("math",X,Q,"⊐","\\sqsupset",!0),V("math",X,Q,"≽","\\succcurlyeq",!0),V("math",X,Q,"⋟","\\curlyeqsucc",!0),V("math",X,Q,"≿","\\succsim",!0),V("math",X,Q,"⪸","\\succapprox",!0),V("math",X,Q,"⊳","\\vartriangleright"),V("math",X,Q,"⊵","\\trianglerighteq"),V("math",X,Q,"⊩","\\Vdash",!0),V("math",X,Q,"∣","\\shortmid"),V("math",X,Q,"∥","\\shortparallel"),V("math",X,Q,"≬","\\between",!0),V("math",X,Q,"⋔","\\pitchfork",!0),V("math",X,Q,"∝","\\varpropto"),V("math",X,Q,"◀","\\blacktriangleleft"),V("math",X,Q,"∴","\\therefore",!0),V("math",X,Q,"∍","\\backepsilon"),V("math",X,Q,"▶","\\blacktriangleright"),V("math",X,Q,"∵","\\because",!0),V("math",X,Q,"⋘","\\llless"),V("math",X,Q,"⋙","\\gggtr"),V("math",X,J,"⊲","\\lhd"),V("math",X,J,"⊳","\\rhd"),V("math",X,Q,"≂","\\eqsim",!0),V("math",Y,Q,"⋈","\\Join"),V("math",X,Q,"≑","\\Doteq",!0),V("math",X,J,"∔","\\dotplus",!0),V("math",X,J,"∖","\\smallsetminus"),V("math",X,J,"⋒","\\Cap",!0),V("math",X,J,"⋓","\\Cup",!0),V("math",X,J,"⩞","\\doublebarwedge",!0),V("math",X,J,"⊟","\\boxminus",!0),V("math",X,J,"⊞","\\boxplus",!0),V("math",X,J,"⋇","\\divideontimes",!0),V("math",X,J,"⋉","\\ltimes",!0),V("math",X,J,"⋊","\\rtimes",!0),V("math",X,J,"⋋","\\leftthreetimes",!0),V("math",X,J,"⋌","\\rightthreetimes",!0),V("math",X,J,"⋏","\\curlywedge",!0),V("math",X,J,"⋎","\\curlyvee",!0),V("math",X,J,"⊝","\\circleddash",!0),V("math",X,J,"⊛","\\circledast",!0),V("math",X,J,"⋅","\\centerdot"),V("math",X,J,"⊺","\\intercal",!0),V("math",X,J,"⋒","\\doublecap"),V("math",X,J,"⋓","\\doublecup"),V("math",X,J,"⊠","\\boxtimes",!0),V("math",X,Q,"⇢","\\dashrightarrow",!0),V("math",X,Q,"⇠","\\dashleftarrow",!0),V("math",X,Q,"⇇","\\leftleftarrows",!0),V("math",X,Q,"⇆","\\leftrightarrows",!0),V("math",X,Q,"⇚","\\Lleftarrow",!0),V("math",X,Q,"↞","\\twoheadleftarrow",!0),V("math",X,Q,"↢","\\leftarrowtail",!0),V("math",X,Q,"↫","\\looparrowleft",!0),V("math",X,Q,"⇋","\\leftrightharpoons",!0),V("math",X,Q,"↶","\\curvearrowleft",!0),V("math",X,Q,"↺","\\circlearrowleft",!0),V("math",X,Q,"↰","\\Lsh",!0),V("math",X,Q,"⇈","\\upuparrows",!0),V("math",X,Q,"↿","\\upharpoonleft",!0),V("math",X,Q,"⇃","\\downharpoonleft",!0),V("math",X,Q,"⊸","\\multimap",!0),V("math",X,Q,"↭","\\leftrightsquigarrow",!0),V("math",X,Q,"⇉","\\rightrightarrows",!0),V("math",X,Q,"⇄","\\rightleftarrows",!0),V("math",X,Q,"↠","\\twoheadrightarrow",!0),V("math",X,Q,"↣","\\rightarrowtail",!0),V("math",X,Q,"↬","\\looparrowright",!0),V("math",X,Q,"↷","\\curvearrowright",!0),V("math",X,Q,"↻","\\circlearrowright",!0),V("math",X,Q,"↱","\\Rsh",!0),V("math",X,Q,"⇊","\\downdownarrows",!0),V("math",X,Q,"↾","\\upharpoonright",!0),V("math",X,Q,"⇂","\\downharpoonright",!0),V("math",X,Q,"⇝","\\rightsquigarrow",!0),V("math",X,Q,"⇝","\\leadsto"),V("math",X,Q,"⇛","\\Rrightarrow",!0),V("math",X,Q,"↾","\\restriction"),V("math",Y,"textord","‘","`"),V("math",Y,"textord","$","\\$"),V("text",Y,"textord","$","\\$"),V("text",Y,"textord","$","\\textdollar"),V("math",Y,"textord","%","\\%"),V("text",Y,"textord","%","\\%"),V("math",Y,"textord","_","\\_"),V("text",Y,"textord","_","\\_"),V("text",Y,"textord","_","\\textunderscore"),V("math",Y,"textord","∠","\\angle",!0),V("math",Y,"textord","∞","\\infty",!0),V("math",Y,"textord","′","\\prime"),V("math",Y,"textord","△","\\triangle"),V("math",Y,"textord","Γ","\\Gamma",!0),V("math",Y,"textord","Δ","\\Delta",!0),V("math",Y,"textord","Θ","\\Theta",!0),V("math",Y,"textord","Λ","\\Lambda",!0),V("math",Y,"textord","Ξ","\\Xi",!0),V("math",Y,"textord","Π","\\Pi",!0),V("math",Y,"textord","Σ","\\Sigma",!0),V("math",Y,"textord","Υ","\\Upsilon",!0),V("math",Y,"textord","Φ","\\Phi",!0),V("math",Y,"textord","Ψ","\\Psi",!0),V("math",Y,"textord","Ω","\\Omega",!0),V("math",Y,"textord","A","Α"),V("math",Y,"textord","B","Β"),V("math",Y,"textord","E","Ε"),V("math",Y,"textord","Z","Ζ"),V("math",Y,"textord","H","Η"),V("math",Y,"textord","I","Ι"),V("math",Y,"textord","K","Κ"),V("math",Y,"textord","M","Μ"),V("math",Y,"textord","N","Ν"),V("math",Y,"textord","O","Ο"),V("math",Y,"textord","P","Ρ"),V("math",Y,"textord","T","Τ"),V("math",Y,"textord","X","Χ"),V("math",Y,"textord","¬","\\neg",!0),V("math",Y,"textord","¬","\\lnot"),V("math",Y,"textord","⊤","\\top"),V("math",Y,"textord","⊥","\\bot"),V("math",Y,"textord","∅","\\emptyset"),V("math",X,"textord","∅","\\varnothing"),V("math",Y,K,"α","\\alpha",!0),V("math",Y,K,"β","\\beta",!0),V("math",Y,K,"γ","\\gamma",!0),V("math",Y,K,"δ","\\delta",!0),V("math",Y,K,"ϵ","\\epsilon",!0),V("math",Y,K,"ζ","\\zeta",!0),V("math",Y,K,"η","\\eta",!0),V("math",Y,K,"θ","\\theta",!0),V("math",Y,K,"ι","\\iota",!0),V("math",Y,K,"κ","\\kappa",!0),V("math",Y,K,"λ","\\lambda",!0),V("math",Y,K,"μ","\\mu",!0),V("math",Y,K,"ν","\\nu",!0),V("math",Y,K,"ξ","\\xi",!0),V("math",Y,K,"ο","\\omicron",!0),V("math",Y,K,"π","\\pi",!0),V("math",Y,K,"ρ","\\rho",!0),V("math",Y,K,"σ","\\sigma",!0),V("math",Y,K,"τ","\\tau",!0),V("math",Y,K,"υ","\\upsilon",!0),V("math",Y,K,"ϕ","\\phi",!0),V("math",Y,K,"χ","\\chi",!0),V("math",Y,K,"ψ","\\psi",!0),V("math",Y,K,"ω","\\omega",!0),V("math",Y,K,"ε","\\varepsilon",!0),V("math",Y,K,"ϑ","\\vartheta",!0),V("math",Y,K,"ϖ","\\varpi",!0),V("math",Y,K,"ϱ","\\varrho",!0),V("math",Y,K,"ς","\\varsigma",!0),V("math",Y,K,"φ","\\varphi",!0),V("math",Y,J,"∗","*"),V("math",Y,J,"+","+"),V("math",Y,J,"−","-"),V("math",Y,J,"⋅","\\cdot",!0),V("math",Y,J,"∘","\\circ"),V("math",Y,J,"÷","\\div",!0),V("math",Y,J,"±","\\pm",!0),V("math",Y,J,"×","\\times",!0),V("math",Y,J,"∩","\\cap",!0),V("math",Y,J,"∪","\\cup",!0),V("math",Y,J,"∖","\\setminus"),V("math",Y,J,"∧","\\land"),V("math",Y,J,"∨","\\lor"),V("math",Y,J,"∧","\\wedge",!0),V("math",Y,J,"∨","\\vee",!0),V("math",Y,"textord","√","\\surd"),V("math",Y,"open","(","("),V("math",Y,"open","[","["),V("math",Y,"open","⟨","\\langle",!0),V("math",Y,"open","∣","\\lvert"),V("math",Y,"open","∥","\\lVert"),V("math",Y,"close",")",")"),V("math",Y,"close","]","]"),V("math",Y,"close","?","?"),V("math",Y,"close","!","!"),V("math",Y,"close","⟩","\\rangle",!0),V("math",Y,"close","∣","\\rvert"),V("math",Y,"close","∥","\\rVert"),V("math",Y,Q,"=","="),V("math",Y,Q,"<","<"),V("math",Y,Q,">",">"),V("math",Y,Q,":",":"),V("math",Y,Q,"≈","\\approx",!0),V("math",Y,Q,"≅","\\cong",!0),V("math",Y,Q,"≥","\\ge"),V("math",Y,Q,"≥","\\geq",!0),V("math",Y,Q,"←","\\gets"),V("math",Y,Q,">","\\gt"),V("math",Y,Q,"∈","\\in",!0),V("math",Y,Q,"","\\@not"),V("math",Y,Q,"⊂","\\subset",!0),V("math",Y,Q,"⊃","\\supset",!0),V("math",Y,Q,"⊆","\\subseteq",!0),V("math",Y,Q,"⊇","\\supseteq",!0),V("math",X,Q,"⊈","\\nsubseteq",!0),V("math",X,Q,"⊉","\\nsupseteq",!0),V("math",Y,Q,"⊨","\\models"),V("math",Y,Q,"←","\\leftarrow",!0),V("math",Y,Q,"≤","\\le"),V("math",Y,Q,"≤","\\leq",!0),V("math",Y,Q,"<","\\lt"),V("math",Y,Q,"→","\\rightarrow",!0),V("math",Y,Q,"→","\\to"),V("math",X,Q,"≱","\\ngeq",!0),V("math",X,Q,"≰","\\nleq",!0),V("math",Y,ee," ","\\ "),V("math",Y,ee," ","~"),V("math",Y,ee," ","\\space"),V("math",Y,ee," ","\\nobreakspace"),V("text",Y,ee," ","\\ "),V("text",Y,ee," ","~"),V("text",Y,ee," ","\\space"),V("text",Y,ee," ","\\nobreakspace"),V("math",Y,ee,null,"\\nobreak"),V("math",Y,ee,null,"\\allowbreak"),V("math",Y,"punct",",",","),V("math",Y,"punct",";",";"),V("math",X,J,"⊼","\\barwedge",!0),V("math",X,J,"⊻","\\veebar",!0),V("math",Y,J,"⊙","\\odot",!0),V("math",Y,J,"⊕","\\oplus",!0),V("math",Y,J,"⊗","\\otimes",!0),V("math",Y,"textord","∂","\\partial",!0),V("math",Y,J,"⊘","\\oslash",!0),V("math",X,J,"⊚","\\circledcirc",!0),V("math",X,J,"⊡","\\boxdot",!0),V("math",Y,J,"△","\\bigtriangleup"),V("math",Y,J,"▽","\\bigtriangledown"),V("math",Y,J,"†","\\dagger"),V("math",Y,J,"⋄","\\diamond"),V("math",Y,J,"⋆","\\star"),V("math",Y,J,"◃","\\triangleleft"),V("math",Y,J,"▹","\\triangleright"),V("math",Y,"open","{","\\{"),V("text",Y,"textord","{","\\{"),V("text",Y,"textord","{","\\textbraceleft"),V("math",Y,"close","}","\\}"),V("text",Y,"textord","}","\\}"),V("text",Y,"textord","}","\\textbraceright"),V("math",Y,"open","{","\\lbrace"),V("math",Y,"close","}","\\rbrace"),V("math",Y,"open","[","\\lbrack"),V("text",Y,"textord","[","\\lbrack"),V("math",Y,"close","]","\\rbrack"),V("text",Y,"textord","]","\\rbrack"),V("math",Y,"open","(","\\lparen"),V("math",Y,"close",")","\\rparen"),V("text",Y,"textord","<","\\textless"),V("text",Y,"textord",">","\\textgreater"),V("math",Y,"open","⌊","\\lfloor",!0),V("math",Y,"close","⌋","\\rfloor",!0),V("math",Y,"open","⌈","\\lceil",!0),V("math",Y,"close","⌉","\\rceil",!0),V("math",Y,"textord","\\","\\backslash"),V("math",Y,"textord","∣","|"),V("math",Y,"textord","∣","\\vert"),V("text",Y,"textord","|","\\textbar"),V("math",Y,"textord","∥","\\|"),V("math",Y,"textord","∥","\\Vert"),V("text",Y,"textord","∥","\\textbardbl"),V("text",Y,"textord","~","\\textasciitilde"),V("text",Y,"textord","\\","\\textbackslash"),V("text",Y,"textord","^","\\textasciicircum"),V("math",Y,Q,"↑","\\uparrow",!0),V("math",Y,Q,"⇑","\\Uparrow",!0),V("math",Y,Q,"↓","\\downarrow",!0),V("math",Y,Q,"⇓","\\Downarrow",!0),V("math",Y,Q,"↕","\\updownarrow",!0),V("math",Y,Q,"⇕","\\Updownarrow",!0),V("math",Y,Z,"∐","\\coprod"),V("math",Y,Z,"⋁","\\bigvee"),V("math",Y,Z,"⋀","\\bigwedge"),V("math",Y,Z,"⨄","\\biguplus"),V("math",Y,Z,"⋂","\\bigcap"),V("math",Y,Z,"⋃","\\bigcup"),V("math",Y,Z,"∫","\\int"),V("math",Y,Z,"∫","\\intop"),V("math",Y,Z,"∬","\\iint"),V("math",Y,Z,"∭","\\iiint"),V("math",Y,Z,"∏","\\prod"),V("math",Y,Z,"∑","\\sum"),V("math",Y,Z,"⨂","\\bigotimes"),V("math",Y,Z,"⨁","\\bigoplus"),V("math",Y,Z,"⨀","\\bigodot"),V("math",Y,Z,"∮","\\oint"),V("math",Y,Z,"∯","\\oiint"),V("math",Y,Z,"∰","\\oiiint"),V("math",Y,Z,"⨆","\\bigsqcup"),V("math",Y,Z,"∫","\\smallint"),V("text",Y,"inner","…","\\textellipsis"),V("math",Y,"inner","…","\\mathellipsis"),V("text",Y,"inner","…","\\ldots",!0),V("math",Y,"inner","…","\\ldots",!0),V("math",Y,"inner","⋯","\\@cdots",!0),V("math",Y,"inner","⋱","\\ddots",!0),V("math",Y,"textord","⋮","\\varvdots"),V("math",Y,"accent-token","ˊ","\\acute"),V("math",Y,"accent-token","ˋ","\\grave"),V("math",Y,"accent-token","¨","\\ddot"),V("math",Y,"accent-token","~","\\tilde"),V("math",Y,"accent-token","ˉ","\\bar"),V("math",Y,"accent-token","˘","\\breve"),V("math",Y,"accent-token","ˇ","\\check"),V("math",Y,"accent-token","^","\\hat"),V("math",Y,"accent-token","⃗","\\vec"),V("math",Y,"accent-token","˙","\\dot"),V("math",Y,"accent-token","˚","\\mathring"),V("math",Y,K,"ı","\\imath",!0),V("math",Y,K,"ȷ","\\jmath",!0),V("text",Y,"textord","ı","\\i",!0),V("text",Y,"textord","ȷ","\\j",!0),V("text",Y,"textord","ß","\\ss",!0),V("text",Y,"textord","æ","\\ae",!0),V("text",Y,"textord","æ","\\ae",!0),V("text",Y,"textord","œ","\\oe",!0),V("text",Y,"textord","ø","\\o",!0),V("text",Y,"textord","Æ","\\AE",!0),V("text",Y,"textord","Œ","\\OE",!0),V("text",Y,"textord","Ø","\\O",!0),V("text",Y,"accent-token","ˊ","\\'"),V("text",Y,"accent-token","ˋ","\\`"),V("text",Y,"accent-token","ˆ","\\^"),V("text",Y,"accent-token","˜","\\~"),V("text",Y,"accent-token","ˉ","\\="),V("text",Y,"accent-token","˘","\\u"),V("text",Y,"accent-token","˙","\\."),V("text",Y,"accent-token","˚","\\r"),V("text",Y,"accent-token","ˇ","\\v"),V("text",Y,"accent-token","¨",'\\"'),V("text",Y,"accent-token","˝","\\H"),V("text",Y,"accent-token","◯","\\textcircled");var te={"--":!0,"---":!0,"``":!0,"''":!0};V("text",Y,"textord","–","--"),V("text",Y,"textord","–","\\textendash"),V("text",Y,"textord","—","---"),V("text",Y,"textord","—","\\textemdash"),V("text",Y,"textord","‘","`"),V("text",Y,"textord","‘","\\textquoteleft"),V("text",Y,"textord","’","'"),V("text",Y,"textord","’","\\textquoteright"),V("text",Y,"textord","“","``"),V("text",Y,"textord","“","\\textquotedblleft"),V("text",Y,"textord","”","''"),V("text",Y,"textord","”","\\textquotedblright"),V("math",Y,"textord","°","\\degree",!0),V("text",Y,"textord","°","\\degree"),V("text",Y,"textord","°","\\textdegree",!0),V("math",Y,K,"£","\\pounds"),V("math",Y,K,"£","\\mathsterling",!0),V("text",Y,K,"£","\\pounds"),V("text",Y,K,"£","\\textsterling",!0),V("math",X,"textord","✠","\\maltese"),V("text",X,"textord","✠","\\maltese"),V("text",Y,ee," ","\\ "),V("text",Y,ee," "," "),V("text",Y,ee," ","~");for(var ne=0;ne<14;ne++){var ie='0123456789/@."'.charAt(ne);V("math",Y,"textord",ie,ie)}for(var oe=0;oe<30;oe++){var ae='0123456789!@*()-=+[]<>|";:?/.,'.charAt(oe);V("text",Y,"textord",ae,ae)}for(var re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",se=0;se<re.length;se++){var le=re.charAt(se);V("math",Y,K,le,le),V("text",Y,"textord",le,le)}V("math",X,"textord","C","ℂ"),V("text",X,"textord","C","ℂ"),V("math",X,"textord","H","ℍ"),V("text",X,"textord","H","ℍ"),V("math",X,"textord","N","ℕ"),V("text",X,"textord","N","ℕ"),V("math",X,"textord","P","ℙ"),V("text",X,"textord","P","ℙ"),V("math",X,"textord","Q","ℚ"),V("text",X,"textord","Q","ℚ"),V("math",X,"textord","R","ℝ"),V("text",X,"textord","R","ℝ"),V("math",X,"textord","Z","ℤ"),V("text",X,"textord","Z","ℤ"),V("math",Y,K,"h","ℎ"),V("text",Y,K,"h","ℎ");for(var ce="",de=0;de<re.length;de++){var ue=re.charAt(de);V("math",Y,K,ue,ce=String.fromCharCode(55349,56320+de)),V("text",Y,"textord",ue,ce),V("math",Y,K,ue,ce=String.fromCharCode(55349,56372+de)),V("text",Y,"textord",ue,ce),V("math",Y,K,ue,ce=String.fromCharCode(55349,56424+de)),V("text",Y,"textord",ue,ce),V("math",Y,K,ue,ce=String.fromCharCode(55349,56580+de)),V("text",Y,"textord",ue,ce),V("math",Y,K,ue,ce=String.fromCharCode(55349,56736+de)),V("text",Y,"textord",ue,ce),V("math",Y,K,ue,ce=String.fromCharCode(55349,56788+de)),V("text",Y,"textord",ue,ce),V("math",Y,K,ue,ce=String.fromCharCode(55349,56840+de)),V("text",Y,"textord",ue,ce),V("math",Y,K,ue,ce=String.fromCharCode(55349,56944+de)),V("text",Y,"textord",ue,ce),de<26&&(V("math",Y,K,ue,ce=String.fromCharCode(55349,56632+de)),V("text",Y,"textord",ue,ce),V("math",Y,K,ue,ce=String.fromCharCode(55349,56476+de)),V("text",Y,"textord",ue,ce))}V("math",Y,K,"k",ce=String.fromCharCode(55349,56668)),V("text",Y,"textord","k",ce);for(var pe=0;pe<10;pe++){var he=pe.toString();V("math",Y,K,he,ce=String.fromCharCode(55349,57294+pe)),V("text",Y,"textord",he,ce),V("math",Y,K,he,ce=String.fromCharCode(55349,57314+pe)),V("text",Y,"textord",he,ce),V("math",Y,K,he,ce=String.fromCharCode(55349,57324+pe)),V("text",Y,"textord",he,ce),V("math",Y,K,he,ce=String.fromCharCode(55349,57334+pe)),V("text",Y,"textord",he,ce)}for(var me=0;me<5;me++){var fe="ÇÐÞçþ".charAt(me);V("math",Y,K,fe,fe),V("text",Y,"textord",fe,fe)}V("text",Y,"textord","ð","ð"),V("text",Y,"textord","–","–"),V("text",Y,"textord","—","—"),V("text",Y,"textord","‘","‘"),V("text",Y,"textord","’","’"),V("text",Y,"textord","“","“"),V("text",Y,"textord","”","”");var ge=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathdefault","textit","Math-Italic"],["mathdefault","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ve=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],be=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ye=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],xe=function(e,t){return t.size<2?e:be[e-1][t.size-1]},we=function(){function e(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=ye[this.size-1],this.maxSize=t.maxSize,this._fontMetrics=void 0}var t=e.prototype;return t.extend=function(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return new e(n)},t.havingStyle=function(e){return this.style===e?this:this.extend({style:e,size:xe(this.textSize,e)})},t.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},t.havingSize=function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:ye[e-1]})},t.havingBaseStyle=function(t){t=t||this.style.text();var n=xe(e.BASESIZE,t);return this.size===n&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})},t.havingBaseSizing=function(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})},t.withColor=function(e){return this.extend({color:e})},t.withPhantom=function(){return this.extend({phantom:!0})},t.withFont=function(e){return this.extend({font:e})},t.withTextFontFamily=function(e){return this.extend({fontFamily:e,font:""})},t.withTextFontWeight=function(e){return this.extend({fontWeight:e,font:""})},t.withTextFontShape=function(e){return this.extend({fontShape:e,font:""})},t.sizingClasses=function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]},t.baseSizingClasses=function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]},t.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!G[t=e>=5?0:e>=3?1:2]){var n=G[t]={cssEmPerMu:z.quad[t]/18};for(var i in z)z.hasOwnProperty(i)&&(n[i]=z[i][t])}return G[t]}(this.size)),this._fontMetrics},t.getColor=function(){return this.phantom?"transparent":null!=this.color&&e.colorMap.hasOwnProperty(this.color)?e.colorMap[this.color]:this.color},e}();we.BASESIZE=6,we.colorMap={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"};var ke=we,_e={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Ce={ex:!0,em:!0,mu:!0},Te=function(e,t){var n;if(e.unit in _e)n=_e[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var i;if(i=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=i.fontMetrics().xHeight;else{if("em"!==e.unit)throw new r("Invalid unit: '"+e.unit+"'");n=i.fontMetrics().quad}i!==t&&(n*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},Se=["\\imath","ı","\\jmath","ȷ","\\pounds","\\mathsterling","\\textsterling","£"],Me=function(e,t,n){return q[n][e]&&q[n][e].replace&&(e=q[n][e].replace),{value:e,metrics:R(e,t,n)}},De=function(e,t,n,i,o){var a,r=Me(e,t,n),s=r.metrics;if(e=r.value,s){var l=s.italic;("text"===n||i&&"mathit"===i.font)&&(l=0),a=new L(e,s.height,s.depth,l,s.skew,s.width,o)}else a=new L(e,0,0,0,0,0,o);if(i){a.maxFontSize=i.sizeMultiplier,i.style.isTight()&&a.classes.push("mtight");var c=i.getColor();c&&(a.style.color=c)}return a},Ee=function(e,t){if(M(e.classes)!==M(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},Ae=function(e){for(var t=0,n=0,i=0,o=0;o<e.children.length;o++){var a=e.children[o];a.height>t&&(t=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=i},Fe=function(e,t,n,i){var o=new F(e,t,n,i);return Ae(o),o},Ie=function(e,t,n,i){return new F(e,t,n,i)},Oe=function(e){var t=new S(e);return Ae(t),t},Le=function(e,t,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}return i+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},Pe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Be={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},$e={fontMap:Pe,makeSymbol:De,mathsym:function(e,t,n,i){return void 0===i&&(i=[]),n&&n.font&&"boldsymbol"===n.font&&Me(e,"Main-Bold",t).metrics?De(e,"Main-Bold",t,n,i.concat(["mathbf"])):"\\"===e||"main"===q[t][e].font?De(e,"Main-Regular",t,n,i):De(e,"AMS-Regular",t,n,i.concat(["amsrm"]))},makeSpan:Fe,makeSvgSpan:Ie,makeLineSpan:function(e,t,n){var i=Fe([e],[],t);return i.height=n||t.fontMetrics().defaultRuleThickness,i.style.borderBottomWidth=i.height+"em",i.maxFontSize=1,i},makeAnchor:function(e,t,n,i){var o=new I(e,t,n,i);return Ae(o),o},makeFragment:Oe,wrapFragment:function(e,t){return e instanceof S?Fe([],[e],t):e},makeVList:function(e,t){for(var n=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],i=-t[0].shift-t[0].elem.depth,o=i,a=1;a<t.length;a++){var r=-t[a].shift-o-t[a].elem.depth,s=r-(t[a-1].elem.height+t[a-1].elem.depth);o+=r,n.push({type:"kern",size:s}),n.push(t[a])}return{children:n,depth:i}}var l;if("top"===e.positionType){for(var c=e.positionData,d=0;d<e.children.length;d++){var u=e.children[d];c-="kern"===u.type?u.size:u.elem.height+u.elem.depth}l=c}else if("bottom"===e.positionType)l=-e.positionData;else{var p=e.children[0];if("elem"!==p.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-p.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-p.elem.depth}}return{children:e.children,depth:l}}(e),i=n.children,o=n.depth,a=0,r=0;r<i.length;r++){var s=i[r];if("elem"===s.type){var l=s.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var c=Fe(["pstrut"],[]);c.style.height=a+"em";for(var d=[],u=o,p=o,h=o,m=0;m<i.length;m++){var f=i[m];if("kern"===f.type)h+=f.size;else{var g=f.elem,v=f.wrapperClasses||[],b=f.wrapperStyle||{},y=Fe(v,[c,g],void 0,b);y.style.top=-a-h-g.depth+"em",f.marginLeft&&(y.style.marginLeft=f.marginLeft),f.marginRight&&(y.style.marginRight=f.marginRight),d.push(y),h+=g.height+g.depth}u=Math.min(u,h),p=Math.max(p,h)}var x,w=Fe(["vlist"],d);if(w.style.height=p+"em",u<0){var k=Fe([],[]),_=Fe(["vlist"],[k]);_.style.height=-u+"em";var C=Fe(["vlist-s"],[new L("​")]);x=[Fe(["vlist-r"],[w,C]),Fe(["vlist-r"],[_])]}else x=[Fe(["vlist-r"],[w])];var T=Fe(["vlist-t"],x);return 2===x.length&&T.classes.push("vlist-t2"),T.height=p,T.depth=-u,T},makeOrd:function(e,t,n){var i,o=e.mode,a=e.text,s=["mord"],l="math"===o||"text"===o&&t.font,c=l?t.font:t.fontFamily;if(55349===a.charCodeAt(0)){var d=function(e,t){var n=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,i="math"===t?0:1;if(119808<=n&&n<120484){var o=Math.floor((n-119808)/26);return[ge[o][2],ge[o][i]]}if(120782<=n&&n<=120831){var a=Math.floor((n-120782)/10);return[ve[a][2],ve[a][i]]}if(120485===n||120486===n)return[ge[0][2],ge[0][i]];if(120486<n&&n<120782)return["",""];throw new r("Unsupported character: "+e)}(a,o),p=d[0],h=d[1];return De(a,p,o,t,s.concat(h))}if(c){var m,f;if("boldsymbol"===c||"mathnormal"===c){var g="boldsymbol"===c?Me(a,"Math-BoldItalic",o).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}:(i=a,u.contains(Se,i)?{fontName:"Main-Italic",fontClass:"mathit"}:/[0-9]/.test(i.charAt(0))?{fontName:"Caligraphic-Regular",fontClass:"mathcal"}:{fontName:"Math-Italic",fontClass:"mathdefault"});m=g.fontName,f=[g.fontClass]}else u.contains(Se,a)?(m="Main-Italic",f=["mathit"]):l?(m=Pe[c].fontName,f=[c]):(m=Le(c,t.fontWeight,t.fontShape),f=[c,t.fontWeight,t.fontShape]);if(Me(a,m,o).metrics)return De(a,m,o,t,s.concat(f));if(te.hasOwnProperty(a)&&"Typewriter"===m.substr(0,10)){for(var v=[],b=0;b<a.length;b++)v.push(De(a[b],m,o,t,s.concat(f)));return Oe(v)}}if("mathord"===n){var y=function(e){return/[0-9]/.test(e.charAt(0))||u.contains(Se,e)?{fontName:"Main-Italic",fontClass:"mathit"}:{fontName:"Math-Italic",fontClass:"mathdefault"}}(a);return De(a,y.fontName,o,t,s.concat([y.fontClass]))}if("textord"===n){var x=q[o][a]&&q[o][a].font;if("ams"===x){var w=Le("amsrm",t.fontWeight,t.fontShape);return De(a,w,o,t,s.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==x&&x){var k=Le(x,t.fontWeight,t.fontShape);return De(a,k,o,t,s.concat(k,t.fontWeight,t.fontShape))}var _=Le("textrm",t.fontWeight,t.fontShape);return De(a,_,o,t,s.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:function(e,t){var n=Fe(["mspace"],[],t),i=Te(e,t);return n.style.marginRight=i+"em",n},staticSvg:function(e,t){var n=Be[e],i=n[0],o=n[1],a=n[2],r=new B(i),s=new P([r],{width:o+"em",height:a+"em",style:"width:"+o+"em",viewBox:"0 0 "+1e3*o+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=Ie(["overlay"],[s],t);return l.height=a,l.style.height=a+"em",l.style.width=o+"em",l},svgData:Be,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];n instanceof L&&i instanceof L&&Ee(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,e.splice(t+1,1),t--)}return e}};function Ne(e,t){var n=ze(e,t);if(!n)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return n}function ze(e,t){return e&&e.type===t?e:null}function je(e,t){var n=function(e,t){return e&&"atom"===e.type&&e.family===t?e:null}(e,t);if(!n)throw new Error('Expected node of type "atom" and family "'+t+'", but got '+(e?"atom"===e.type?"atom of family "+e.family:"node of type "+e.type:String(e)));return n}function Re(e){return e&&("atom"===e.type||W.hasOwnProperty(e.type))?e:null}var Ge={number:3,unit:"mu"},He={number:4,unit:"mu"},We={number:5,unit:"mu"},Ue={mord:{mop:Ge,mbin:He,mrel:We,minner:Ge},mop:{mord:Ge,mop:Ge,mrel:We,minner:Ge},mbin:{mord:He,mop:He,mopen:He,minner:He},mrel:{mord:We,mop:We,mopen:We,minner:We},mopen:{},mclose:{mop:Ge,mbin:He,mrel:We,minner:Ge},mpunct:{mord:Ge,mop:Ge,mrel:We,mopen:Ge,mclose:Ge,mpunct:Ge,minner:Ge},minner:{mord:Ge,mop:Ge,mbin:He,mrel:We,mopen:Ge,mpunct:Ge,minner:Ge}},qe={mord:{mop:Ge},mop:{mord:Ge,mop:Ge},mbin:{},mrel:{},mopen:{},mclose:{mop:Ge},mpunct:{},minner:{mop:Ge}},Ve={},Ye={},Xe={};function Je(e){for(var t=e.type,n=(e.nodeType,e.names),i=e.props,o=e.handler,a=e.htmlBuilder,r=e.mathmlBuilder,s={type:t,numArgs:i.numArgs,argTypes:i.argTypes,greediness:void 0===i.greediness?1:i.greediness,allowedInText:!!i.allowedInText,allowedInMath:void 0===i.allowedInMath||i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,consumeMode:i.consumeMode,handler:o},l=0;l<n.length;++l)Ve[n[l]]=s;t&&(a&&(Ye[t]=a),r&&(Xe[t]=r))}function Ke(e){Je({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}var Ze=function(e){var t=ze(e,"ordgroup");return t?t.body:[e]},Qe=$e.makeSpan,et=["leftmost","mbin","mopen","mrel","mop","mpunct"],tt=["rightmost","mrel","mclose","mpunct"],nt={display:w.DISPLAY,text:w.TEXT,script:w.SCRIPT,scriptscript:w.SCRIPTSCRIPT},it={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ot=function(e,t,n,i){void 0===i&&(i=[null,null]);for(var o=[],a=0;a<e.length;a++){var r=ct(e[a],t);if(r instanceof S){var s=r.children;o.push.apply(o,s)}else o.push(r)}if(!n)return o;var l=t;if(1===e.length){var c=ze(e[0],"sizing")||ze(e[0],"styling");c&&("sizing"===c.type?l=t.havingSize(c.size):"styling"===c.type&&(l=t.havingStyle(nt[c.style])))}var d=Qe([i[0]||"leftmost"],[],t),p=Qe([i[1]||"rightmost"],[],t);return at(o,function(e,t){var n=t.classes[0],i=e.classes[0];"mbin"===n&&u.contains(tt,i)?t.classes[0]="mord":"mbin"===i&&u.contains(et,n)&&(e.classes[0]="mord")},{node:d},p),at(o,function(e,t){var n=st(t),i=st(e),o=n&&i?e.hasClass("mtight")?qe[n][i]:Ue[n][i]:null;if(o)return $e.makeGlue(o,l)},{node:d},p),o},at=function e(t,n,i,o){o&&t.push(o);for(var a=0;a<t.length;a++){var r=t[a],s=rt(r);if(s)e(s.children,n,i);else if("mspace"!==r.classes[0]){var l=n(r,i.node);l&&(i.insertAfter?i.insertAfter(l):(t.unshift(l),a++)),i.node=r,i.insertAfter=function(e){return function(n){t.splice(e+1,0,n),a++}}(a)}}o&&t.pop()},rt=function(e){return e instanceof S||e instanceof I?e:null},st=function(e,t){return e?(t&&(e=function e(t,n){var i=rt(t);if(i){var o=i.children;if(o.length){if("right"===n)return e(o[o.length-1],"right");if("left"===n)return e(o[0],"left")}}return t}(e,t)),it[e.classes[0]]||null):null},lt=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Qe(t.concat(n))},ct=function(e,t,n){if(!e)return Qe();if(Ye[e.type]){var i=Ye[e.type](e,t);if(n&&t.size!==n.size){i=Qe(t.sizingClasses(n),[i],t);var o=t.sizeMultiplier/n.sizeMultiplier;i.height*=o,i.depth*=o}return i}throw new r("Got group of unknown type: '"+e.type+"'")};function dt(e,t){var n=Qe(["base"],e,t),i=Qe(["strut"]);return i.style.height=n.height+n.depth+"em",i.style.verticalAlign=-n.depth+"em",n.children.unshift(i),n}function ut(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);for(var i,o=ot(e,t,!0),a=[],r=[],s=0;s<o.length;s++)if(r.push(o[s]),o[s].hasClass("mbin")||o[s].hasClass("mrel")||o[s].hasClass("allowbreak")){for(var l=!1;s<o.length-1&&o[s+1].hasClass("mspace")&&!o[s+1].hasClass("newline");)s++,r.push(o[s]),o[s].hasClass("nobreak")&&(l=!0);l||(a.push(dt(r,t)),r=[])}else o[s].hasClass("newline")&&(r.pop(),r.length>0&&(a.push(dt(r,t)),r=[]),a.push(o[s]));r.length>0&&a.push(dt(r,t)),n&&((i=dt(ot(n,t,!0))).classes=["tag"],a.push(i));var c=Qe(["katex-html"],a);if(c.setAttribute("aria-hidden","true"),i){var d=i.children[0];d.style.height=c.height+c.depth+"em",d.style.verticalAlign=-c.depth+"em"}return c}function pt(e){return new S(e)}var ht=function(){function e(e,t){this.type=void 0,this.attributes=void 0,this.children=void 0,this.type=e,this.attributes={},this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.getAttribute=function(e){return this.attributes[e]},t.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},t.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=u.escape(this.attributes[t]),e+='"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+"</"+this.type+">"},t.toText=function(){return this.children.map(function(e){return e.toText()}).join("")},e}(),mt=function(){function e(e){this.text=void 0,this.text=e}var t=e.prototype;return t.toNode=function(){return document.createTextNode(this.text)},t.toMarkup=function(){return u.escape(this.toText())},t.toText=function(){return this.text},e}(),ft={MathNode:ht,TextNode:mt,SpaceNode:function(){function e(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}var t=e.prototype;return t.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",this.width+"em"),e},t.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},t.toText=function(){return this.character?this.character:" "},e}(),newDocumentFragment:pt},gt=function(e,t,n){return!q[t][e]||!q[t][e].replace||55349===e.charCodeAt(0)||te.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.substr(4,2)||n.font&&"tt"===n.font.substr(4,2))||(e=q[t][e].replace),new ft.TextNode(e)},vt=function(e){return 1===e.length?e[0]:new ft.MathNode("mrow",e)},bt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n||"mathnormal"===n)return null;var i=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"bold-italic";var o=e.text;return u.contains(["\\imath","\\jmath"],o)?null:(q[i][o]&&q[i][o].replace&&(o=q[i][o].replace),R(o,$e.fontMap[n].fontName,i)?$e.fontMap[n].variant:null)},yt=function(e,t){for(var n,i=[],o=0;o<e.length;o++){var a=wt(e[o],t);if(a instanceof ht&&n instanceof ht){if("mtext"===a.type&&"mtext"===n.type&&a.getAttribute("mathvariant")===n.getAttribute("mathvariant")){var r;(r=n.children).push.apply(r,a.children);continue}if("mn"===a.type&&"mn"===n.type){var s;(s=n.children).push.apply(s,a.children);continue}if("mi"===a.type&&1===a.children.length&&"mn"===n.type){var l=a.children[0];if(l instanceof mt&&"."===l.text){var c;(c=n.children).push.apply(c,a.children);continue}}}i.push(a),n=a}return i},xt=function(e,t){return vt(yt(e,t))},wt=function(e,t){if(!e)return new ft.MathNode("mrow");if(Xe[e.type])return Xe[e.type](e,t);throw new r("Got group of unknown type: '"+e.type+"'")},kt=function(e){return new ke({style:e.displayMode?w.DISPLAY:w.TEXT,maxSize:e.maxSize})},_t=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=$e.makeSpan(n,[e])}return e},Ct={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⎵",overbrace:"⏞",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋"},Tt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},St=function(e){var t=new ft.MathNode("mo",[new ft.TextNode(Ct[e.substr(1)])]);return t.setAttribute("stretchy","true"),t},Mt=function(e,t){var n=function(){var n=4e5,i=e.label.substr(1);if(u.contains(["widehat","widecheck","widetilde","utilde"],i)){var o,a,r,s=function(e){return"ordgroup"===e.type?e.body.length:1}(e.base);if(s>5)"widehat"===i||"widecheck"===i?(o=420,n=2364,r=.42,a=i+"4"):(o=312,n=2340,r=.34,a="tilde4");else{var l=[1,1,2,2,3,3][s];"widehat"===i||"widecheck"===i?(n=[0,1062,2364,2364,2364][l],o=[0,239,300,360,420][l],r=[0,.24,.3,.3,.36,.42][l],a=i+l):(n=[0,600,1033,2339,2340][l],o=[0,260,286,306,312][l],r=[0,.26,.286,.3,.306,.34][l],a="tilde"+l)}var c=new B(a),d=new P([c],{width:"100%",height:r+"em",viewBox:"0 0 "+n+" "+o,preserveAspectRatio:"none"});return{span:$e.makeSvgSpan([],[d],t),minWidth:0,height:r}}var p,h,m=[],f=Tt[i],g=f[0],v=f[1],b=f[2],y=b/1e3,x=g.length;if(1===x)p=["hide-tail"],h=[f[3]];else if(2===x)p=["halfarrow-left","halfarrow-right"],h=["xMinYMin","xMaxYMin"];else{if(3!==x)throw new Error("Correct katexImagesData or update code here to support\n                    "+x+" children.");p=["brace-left","brace-center","brace-right"],h=["xMinYMin","xMidYMin","xMaxYMin"]}for(var w=0;w<x;w++){var k=new B(g[w]),_=new P([k],{width:"400em",height:y+"em",viewBox:"0 0 "+n+" "+b,preserveAspectRatio:h[w]+" slice"}),C=$e.makeSvgSpan([p[w]],[_],t);if(1===x)return{span:C,minWidth:v,height:y};C.style.height=y+"em",m.push(C)}return{span:$e.makeSpan(["stretchy"],m,t),minWidth:v,height:y}}(),i=n.span,o=n.minWidth,a=n.height;return i.height=a,i.style.height=a+"em",o>0&&(i.style.minWidth=o+"em"),i},Dt=function(e,t){var n,i,o,a=ze(e,"supsub");a?(n=(i=Ne(a.base,"accent")).base,a.base=n,o=function(e){if(e instanceof F)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(ct(a,t)),a.base=i):n=(i=Ne(e,"accent")).base;var r=ct(n,t.havingCrampedStyle()),s=0;if(i.isShifty&&u.isCharacterBox(n)){var l=u.getBaseElem(n);s=function(e){if(e instanceof L)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}(ct(l,t.havingCrampedStyle())).skew}var c,d=Math.min(r.height,t.fontMetrics().xHeight);if(i.isStretchy)c=Mt(i,t),c=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"elem",elem:c,wrapperClasses:["svg-align"],wrapperStyle:s>0?{width:"calc(100% - "+2*s+"em)",marginLeft:2*s+"em"}:void 0}]},t);else{var p,h;"\\vec"===i.label?(p=$e.staticSvg("vec",t),h=$e.svgData.vec[1]):((p=$e.makeSymbol(i.label,"Main-Regular",i.mode,t)).italic=0,h=p.width),c=$e.makeSpan(["accent-body"],[p]);var m="\\textcircled"===i.label;m&&(c.classes.push("accent-full"),d=r.height);var f=s;m||(f-=h/2),c.style.left=f+"em","\\textcircled"===i.label&&(c.style.top=".2em"),c=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:-d},{type:"elem",elem:c}]},t)}var g=$e.makeSpan(["mord","accent"],[c],t);return o?(o.children[0]=g,o.height=Math.max(g.height,o.height),o.classes[0]="mord",o):g},Et=function(e,t){var n=e.isStretchy?St(e.label):new ft.MathNode("mo",[gt(e.label,e.mode)]),i=new ft.MathNode("mover",[wt(e.base,t),n]);return i.setAttribute("accent","true"),i},At=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(e){return"\\"+e}).join("|"));Je({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){var n=t[0],i=!At.test(e.funcName),o=!i||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:o,base:n}},htmlBuilder:Dt,mathmlBuilder:Et}),Je({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var n=t[0];return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Dt,mathmlBuilder:Et}),Je({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName,o=t[0];return{type:"accentUnder",mode:n.mode,label:i,base:o}},htmlBuilder:function(e,t){var n=ct(e.base,t),i=Mt(e,t),o="\\utilde"===e.label?.12:0,a=$e.makeVList({positionType:"bottom",positionData:i.height+o,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},t);return $e.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:function(e,t){var n=St(e.label),i=new ft.MathNode("munder",[wt(e.base,t),n]);return i.setAttribute("accentunder","true"),i}}),Je({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){var i=e.parser,o=e.funcName;return{type:"xArrow",mode:i.mode,label:o,body:t[0],below:n[0]}},htmlBuilder:function(e,t){var n,i=t.style,o=t.havingStyle(i.sup()),a=$e.wrapFragment(ct(e.body,o,t),t);a.classes.push("x-arrow-pad"),e.below&&(o=t.havingStyle(i.sub()),(n=$e.wrapFragment(ct(e.below,o,t),t)).classes.push("x-arrow-pad"));var r,s=Mt(e,t),l=-t.fontMetrics().axisHeight+.5*s.height,c=-t.fontMetrics().axisHeight-.5*s.height-.111;if((a.depth>.25||"\\xleftequilibrium"===e.label)&&(c-=a.depth),n){var d=-t.fontMetrics().axisHeight+n.height+.5*s.height+.111;r=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:c},{type:"elem",elem:s,shift:l},{type:"elem",elem:n,shift:d}]},t)}else r=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:c},{type:"elem",elem:s,shift:l}]},t);return r.children[0].children[0].children[1].classes.push("svg-align"),$e.makeSpan(["mrel","x-arrow"],[r],t)},mathmlBuilder:function(e,t){var n,i,o=St(e.label);if(e.body){var a=wt(e.body,t);e.below?(i=wt(e.below,t),n=new ft.MathNode("munderover",[o,i,a])):n=new ft.MathNode("mover",[o,a])}else e.below?(i=wt(e.below,t),n=new ft.MathNode("munder",[o,i])):n=new ft.MathNode("mover",[o]);return n}}),Je({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){for(var n=e.parser,i=Ne(t[0],"ordgroup").body,o="",a=0;a<i.length;a++)o+=Ne(i[a],"textord").text;var s=parseInt(o);if(isNaN(s))throw new r("\\@char has non-numeric argument "+o);return{type:"textord",mode:n.mode,text:String.fromCharCode(s)}}});var Ft=function(e,t){var n=ot(e.body,t.withColor(e.color),!1);return $e.makeFragment(n)},It=function(e,t){var n=yt(e.body,t),i=new ft.MathNode("mstyle",n);return i.setAttribute("mathcolor",e.color),i};Je({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},handler:function(e,t){var n=e.parser,i=Ne(t[0],"color-token").color,o=t[1];return{type:"color",mode:n.mode,color:i,body:Ze(o)}},htmlBuilder:Ft,mathmlBuilder:It}),Je({type:"color",names:["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],props:{numArgs:1,allowedInText:!0,greediness:3},handler:function(e,t){var n=e.parser,i=e.funcName,o=t[0];return{type:"color",mode:n.mode,color:"katex-"+i.slice(1),body:Ze(o)}},htmlBuilder:Ft,mathmlBuilder:It}),Je({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},handler:function(e,t){var n=e.parser,i=e.breakOnTokenText,o=Ne(t[0],"color-token").color,a=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:o,body:a}},htmlBuilder:Ft,mathmlBuilder:It}),Je({type:"cr",names:["\\cr","\\newline"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t,n){var i=e.parser,o=e.funcName,a=n[0],r="\\cr"===o,s=!1;return r||(s=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode")),{type:"cr",mode:i.mode,newLine:s,newRow:r,size:a&&Ne(a,"size").value}},htmlBuilder:function(e,t){if(e.newRow)throw new r("\\cr valid only within a tabular/array environment");var n=$e.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=Te(e.size,t)+"em")),n},mathmlBuilder:function(e,t){var n=new ft.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",Te(e.size,t)+"em")),n}});var Ot=function(e,t,n){var i=R(q.math[e]&&q.math[e].replace||e,t,n);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},Lt=function(e,t,n,i){var o=n.havingBaseStyle(t),a=$e.makeSpan(i.concat(o.sizingClasses(n)),[e],n),r=o.sizeMultiplier/n.sizeMultiplier;return a.height*=r,a.depth*=r,a.maxFontSize=o.sizeMultiplier,a},Pt=function(e,t,n){var i=t.havingBaseStyle(n),o=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=o+"em",e.height-=o,e.depth+=o},Bt=function(e,t,n,i,o,a){var r=function(e,t,n,i){return $e.makeSymbol(e,"Size"+t+"-Regular",n,i)}(e,t,o,i),s=Lt($e.makeSpan(["delimsizing","size"+t],[r],i),w.TEXT,i,a);return n&&Pt(s,i,w.TEXT),s},$t=function(e,t,n){var i;return i="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:$e.makeSpan(["delimsizinginner",i],[$e.makeSpan([],[$e.makeSymbol(e,t,n)])])}},Nt=function(e,t,n,i,o,a){var r,s,l,c;r=l=c=e,s=null;var d="Size1-Regular";"\\uparrow"===e?l=c="⏐":"\\Uparrow"===e?l=c="‖":"\\downarrow"===e?r=l="⏐":"\\Downarrow"===e?r=l="‖":"\\updownarrow"===e?(r="\\uparrow",l="⏐",c="\\downarrow"):"\\Updownarrow"===e?(r="\\Uparrow",l="‖",c="\\Downarrow"):"["===e||"\\lbrack"===e?(r="⎡",l="⎢",c="⎣",d="Size4-Regular"):"]"===e||"\\rbrack"===e?(r="⎤",l="⎥",c="⎦",d="Size4-Regular"):"\\lfloor"===e||"⌊"===e?(l=r="⎢",c="⎣",d="Size4-Regular"):"\\lceil"===e||"⌈"===e?(r="⎡",l=c="⎢",d="Size4-Regular"):"\\rfloor"===e||"⌋"===e?(l=r="⎥",c="⎦",d="Size4-Regular"):"\\rceil"===e||"⌉"===e?(r="⎤",l=c="⎥",d="Size4-Regular"):"("===e||"\\lparen"===e?(r="⎛",l="⎜",c="⎝",d="Size4-Regular"):")"===e||"\\rparen"===e?(r="⎞",l="⎟",c="⎠",d="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(r="⎧",s="⎨",c="⎩",l="⎪",d="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(r="⎫",s="⎬",c="⎭",l="⎪",d="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(r="⎧",c="⎩",l="⎪",d="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(r="⎫",c="⎭",l="⎪",d="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(r="⎧",c="⎭",l="⎪",d="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(r="⎫",c="⎩",l="⎪",d="Size4-Regular");var u=Ot(r,d,o),p=u.height+u.depth,h=Ot(l,d,o),m=h.height+h.depth,f=Ot(c,d,o),g=f.height+f.depth,v=0,b=1;if(null!==s){var y=Ot(s,d,o);v=y.height+y.depth,b=2}var x=p+g+v,k=Math.ceil((t-x)/(b*m)),_=x+k*b*m,C=i.fontMetrics().axisHeight;n&&(C*=i.sizeMultiplier);var T=_/2-C,S=[];if(S.push($t(c,d,o)),null===s)for(var M=0;M<k;M++)S.push($t(l,d,o));else{for(var D=0;D<k;D++)S.push($t(l,d,o));S.push($t(s,d,o));for(var E=0;E<k;E++)S.push($t(l,d,o))}S.push($t(r,d,o));var A=i.havingBaseStyle(w.TEXT),F=$e.makeVList({positionType:"bottom",positionData:T,children:S},A);return Lt($e.makeSpan(["delimsizing","mult"],[F],A),w.TEXT,i,a)},zt=function(e,t,n,i){var o;"sqrtTall"===e&&(o="M702 80H400000v40H742v"+(n-54-80)+"l-4 4-4 4c-.667.7\n-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h-12l-28-84c-16.667-52-96.667\n-294.333-240-727l-212 -643 -85 170c-4-3.333-8.333-7.667-13 -13l-13-13l77-155\n 77-156c66 199.333 139 419.667 219 661 l218 661zM702 80H400000v40H742z");var a=new B(e,o),r=new P([a],{width:"400em",height:t+"em",viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return $e.makeSvgSpan(["hide-tail"],[r],i)},jt=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Rt=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Gt=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ht=[0,1.2,1.8,2.4,3],Wt=[{type:"small",style:w.SCRIPTSCRIPT},{type:"small",style:w.SCRIPT},{type:"small",style:w.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Ut=[{type:"small",style:w.SCRIPTSCRIPT},{type:"small",style:w.SCRIPT},{type:"small",style:w.TEXT},{type:"stack"}],qt=[{type:"small",style:w.SCRIPTSCRIPT},{type:"small",style:w.SCRIPT},{type:"small",style:w.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Vt=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Yt=function(e,t,n,i){for(var o=Math.min(2,3-i.style.size);o<n.length&&"stack"!==n[o].type;o++){var a=Ot(e,Vt(n[o]),"math"),r=a.height+a.depth;if("small"===n[o].type&&(r*=i.havingBaseStyle(n[o].style).sizeMultiplier),r>t)return n[o]}return n[n.length-1]},Xt=function(e,t,n,i,o,a){var r;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),r=u.contains(Gt,e)?Wt:u.contains(jt,e)?qt:Ut;var s=Yt(e,t,r,i);return"small"===s.type?function(e,t,n,i,o,a){var r=$e.makeSymbol(e,"Main-Regular",o,i),s=Lt(r,t,i,a);return n&&Pt(s,i,t),s}(e,s.style,n,i,o,a):"large"===s.type?Bt(e,s.size,n,i,o,a):Nt(e,t,n,i,o,a)},Jt=function(e,t,n,i,o){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),u.contains(jt,e)||u.contains(Gt,e))return Bt(e,t,!1,n,i,o);if(u.contains(Rt,e))return Nt(e,Ht[t],!1,n,i,o);throw new r("Illegal delimiter: '"+e+"'")},Kt=Xt,Zt=function(e,t,n,i,o,a){var r=i.fontMetrics().axisHeight*i.sizeMultiplier,s=5/i.fontMetrics().ptPerEm,l=Math.max(t-r,n+r),c=Math.max(l/500*901,2*l-s);return Xt(e,c,!0,i,o,a)},Qt={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},en=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function tn(e,t){var n=Re(e);if(n&&u.contains(en,n.text))return n;throw new r("Invalid delimiter: '"+(n?n.text:JSON.stringify(e))+"' after '"+t.funcName+"'",e)}function nn(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Je({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(e,t){var n=tn(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Qt[e.funcName].size,mclass:Qt[e.funcName].mclass,delim:n.text}},htmlBuilder:function(e,t){return"."===e.delim?$e.makeSpan([e.mclass]):Jt(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.delim&&t.push(gt(e.delim,e.mode));var n=new ft.MathNode("mo",t);return"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n}}),Je({type:"leftright-right",names:["\\right"],props:{numArgs:1},handler:function(e,t){return{type:"leftright-right",mode:e.parser.mode,delim:tn(t[0],e).text}}}),Je({type:"leftright",names:["\\left"],props:{numArgs:1},handler:function(e,t){var n=tn(t[0],e),i=e.parser;++i.leftrightDepth;var o=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=Ne(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:o,left:n.text,right:a.delim}},htmlBuilder:function(e,t){nn(e);for(var n,i,o=ot(e.body,t,!0,["mopen","mclose"]),a=0,r=0,s=!1,l=0;l<o.length;l++)o[l].isMiddle?s=!0:(a=Math.max(o[l].height,a),r=Math.max(o[l].depth,r));if(a*=t.sizeMultiplier,r*=t.sizeMultiplier,n="."===e.left?lt(t,["mopen"]):Zt(e.left,a,r,t,e.mode,["mopen"]),o.unshift(n),s)for(var c=1;c<o.length;c++){var d=o[c].isMiddle;d&&(o[c]=Zt(d.delim,a,r,d.options,e.mode,[]))}return i="."===e.right?lt(t,["mclose"]):Zt(e.right,a,r,t,e.mode,["mclose"]),o.push(i),$e.makeSpan(["minner"],o,t)},mathmlBuilder:function(e,t){nn(e);var n=yt(e.body,t);if("."!==e.left){var i=new ft.MathNode("mo",[gt(e.left,e.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if("."!==e.right){var o=new ft.MathNode("mo",[gt(e.right,e.mode)]);o.setAttribute("fence","true"),n.push(o)}return vt(n)}}),Je({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(e,t){var n=tn(t[0],e);if(!e.parser.leftrightDepth)throw new r("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:function(e,t){var n;if("."===e.delim)n=lt(t,[]);else{n=Jt(e.delim,1,t,e.mode,[]);var i={delim:e.delim,options:t};n.isMiddle=i}return n},mathmlBuilder:function(e,t){var n=new ft.MathNode("mo",[gt(e.delim,e.mode)]);return n.setAttribute("fence","true"),n}});var on=function(e,t){var n,i,o=$e.wrapFragment(ct(e.body,t),t),a=e.label.substr(1),r=t.sizeMultiplier,s=0,l=u.isCharacterBox(e.body);if("sout"===a)(n=$e.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/r,s=-.5*t.fontMetrics().xHeight;else{/cancel/.test(a)?l||o.classes.push("cancel-pad"):o.classes.push("boxpad");var c;n=function(e,t,n,i){var o,a=e.height+e.depth+2*n;if(/fbox|color/.test(t)){if(o=$e.makeSpan(["stretchy",t],[],i),"fbox"===t){var r=i.color&&i.getColor();r&&(o.style.borderColor=r)}}else{var s=[];/^[bx]cancel$/.test(t)&&s.push(new $({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&s.push(new $({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new P(s,{width:"100%",height:a+"em"});o=$e.makeSvgSpan([],[l],i)}return o.height=a,o.style.height=a+"em",o}(o,a,c=/box/.test(a)?"colorbox"===a?.3:.34:l?.2:0,t),s=o.depth+c,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}return i=e.backgroundColor?$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:s},{type:"elem",elem:o,shift:0}]},t):$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:n,shift:s,wrapperClasses:/cancel/.test(a)?["svg-align"]:[]}]},t),/cancel/.test(a)&&(i.height=o.height,i.depth=o.depth),/cancel/.test(a)&&!l?$e.makeSpan(["mord","cancel-lap"],[i],t):$e.makeSpan(["mord"],[i],t)},an=function(e,t){var n=new ft.MathNode("menclose",[wt(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":case"\\fcolorbox":n.setAttribute("notation","box");break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};Je({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},handler:function(e,t,n){var i=e.parser,o=e.funcName,a=Ne(t[0],"color-token").color,r=t[1];return{type:"enclose",mode:i.mode,label:o,backgroundColor:a,body:r}},htmlBuilder:on,mathmlBuilder:an}),Je({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},handler:function(e,t,n){var i=e.parser,o=e.funcName,a=Ne(t[0],"color-token").color,r=Ne(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:i.mode,label:o,backgroundColor:r,borderColor:a,body:s}},htmlBuilder:on,mathmlBuilder:an}),Je({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),Je({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout"],props:{numArgs:1},handler:function(e,t,n){var i=e.parser,o=e.funcName,a=t[0];return{type:"enclose",mode:i.mode,label:o,body:a}},htmlBuilder:on,mathmlBuilder:an});var rn={};function sn(e){for(var t=e.type,n=e.names,i=e.props,o=e.handler,a=e.htmlBuilder,r=e.mathmlBuilder,s={type:t,numArgs:i.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:o},l=0;l<n.length;++l)rn[n[l]]=s;a&&(Ye[t]=a),r&&(Xe[t]=r)}function ln(e){var t=[];e.consumeSpaces();for(var n=e.nextToken.text;"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.nextToken.text;return t}function cn(e,t,n){var i=t.hskipBeforeAndAfter,o=t.addJot,a=t.cols,s=t.arraystretch;if(e.gullet.beginGroup(),e.gullet.macros.set("\\\\","\\cr"),!s){var l=e.gullet.expandMacroAsText("\\arraystretch");if(null==l)s=1;else if(!(s=parseFloat(l))||s<0)throw new r("Invalid \\arraystretch: "+l)}var c=[],d=[c],u=[],p=[];for(p.push(ln(e));;){var h=e.parseExpression(!1,"\\cr");h={type:"ordgroup",mode:e.mode,body:h},n&&(h={type:"styling",mode:e.mode,style:n,body:[h]}),c.push(h);var m=e.nextToken.text;if("&"===m)e.consume();else{if("\\end"===m){1===c.length&&"styling"===h.type&&0===h.body[0].body.length&&d.pop(),p.length<d.length+1&&p.push([]);break}if("\\cr"!==m)throw new r("Expected & or \\\\ or \\cr or \\end",e.nextToken);var f=Ne(e.parseFunction(),"cr");u.push(f.size),p.push(ln(e)),c=[],d.push(c)}}return e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:s,body:d,cols:a,rowGaps:u,hskipBeforeAndAfter:i,hLinesBeforeRow:p}}function dn(e){return"d"===e.substr(0,1)?"display":"text"}var un=function(e,t){var n,i,o=e.body.length,a=e.hLinesBeforeRow,s=0,l=new Array(o),c=[],d=1/t.fontMetrics().ptPerEm,p=5*d,h=12*d,m=3*d,f=e.arraystretch*h,g=.7*f,v=.3*f,b=0;function y(e){for(var t=0;t<e.length;++t)t>0&&(b+=.25),c.push({pos:b,isDashed:e[t]})}for(y(a[0]),n=0;n<e.body.length;++n){var x=e.body[n],w=g,k=v;s<x.length&&(s=x.length);var _=new Array(x.length);for(i=0;i<x.length;++i){var C=ct(x[i],t);k<C.depth&&(k=C.depth),w<C.height&&(w=C.height),_[i]=C}var T=e.rowGaps[n],S=0;T&&(S=Te(T,t))>0&&(k<(S+=v)&&(k=S),S=0),e.addJot&&(k+=m),_.height=w,_.depth=k,b+=w,_.pos=b,b+=k+S,l[n]=_,y(a[n+1])}var M,D,E=b/2+t.fontMetrics().axisHeight,A=e.cols||[],F=[];for(i=0,D=0;i<s||D<A.length;++i,++D){for(var I=A[D]||{},O=!0;"separator"===I.type;){if(O||((M=$e.makeSpan(["arraycolsep"],[])).style.width=t.fontMetrics().doubleRuleSep+"em",F.push(M)),"|"===I.separator){var L=$e.makeSpan(["vertical-separator"],[],t);L.style.height=b+"em",L.style.verticalAlign=-(b-E)+"em",F.push(L)}else{if(":"!==I.separator)throw new r("Invalid separator type: "+I.separator);var P=$e.makeSpan(["vertical-separator","vs-dashed"],[],t);P.style.height=b+"em",P.style.verticalAlign=-(b-E)+"em",F.push(P)}I=A[++D]||{},O=!1}if(!(i>=s)){var B=void 0;(i>0||e.hskipBeforeAndAfter)&&0!==(B=u.deflt(I.pregap,p))&&((M=$e.makeSpan(["arraycolsep"],[])).style.width=B+"em",F.push(M));var $=[];for(n=0;n<o;++n){var N=l[n],z=N[i];if(z){var j=N.pos-E;z.depth=N.depth,z.height=N.height,$.push({type:"elem",elem:z,shift:j})}}$=$e.makeVList({positionType:"individualShift",children:$},t),$=$e.makeSpan(["col-align-"+(I.align||"c")],[$]),F.push($),(i<s-1||e.hskipBeforeAndAfter)&&0!==(B=u.deflt(I.postgap,p))&&((M=$e.makeSpan(["arraycolsep"],[])).style.width=B+"em",F.push(M))}}if(l=$e.makeSpan(["mtable"],F),c.length>0){for(var R=$e.makeLineSpan("hline",t,.05),G=$e.makeLineSpan("hdashline",t,.05),H=[{type:"elem",elem:l,shift:0}];c.length>0;){var W=c.pop(),U=W.pos-E;W.isDashed?H.push({type:"elem",elem:G,shift:U}):H.push({type:"elem",elem:R,shift:U})}l=$e.makeVList({positionType:"individualShift",children:H},t)}return $e.makeSpan(["mord"],[l],t)},pn=function(e,t){return new ft.MathNode("mtable",e.body.map(function(e){return new ft.MathNode("mtr",e.map(function(e){return new ft.MathNode("mtd",[wt(e,t)])}))}))},hn=function(e,t){var n,i=[],o=cn(e.parser,{cols:i,addJot:!0},"display"),a=0,s={type:"ordgroup",mode:e.mode,body:[]},l=ze(t[0],"ordgroup");if(l){for(var c="",d=0;d<l.body.length;d++)c+=Ne(l.body[d],"textord").text;n=Number(c),a=2*n}var u=!a;o.body.forEach(function(e){for(var t=1;t<e.length;t+=2){var i=Ne(e[t],"styling");Ne(i.body[0],"ordgroup").body.unshift(s)}if(u)a<e.length&&(a=e.length);else{var o=e.length/2;if(n<o)throw new r("Too many math in a row: expected "+n+", but got "+o,e[0])}});for(var p=0;p<a;++p){var h="r",m=0;p%2==1?h="l":p>0&&u&&(m=1),i[p]={type:"align",align:h,pregap:m,postgap:0}}return o};sn({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var n={cols:(Re(t[0])?[t[0]]:Ne(t[0],"ordgroup").body).map(function(e){var t=function(e){var t=Re(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new r("Unknown column alignment: "+t,e)}),hskipBeforeAndAfter:!0};return cn(e.parser,n,dn(e.envName))},htmlBuilder:un,mathmlBuilder:pn}),sn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName],n=cn(e.parser,{hskipBeforeAndAfter:!1},dn(e.envName));return t?{type:"leftright",mode:e.mode,body:[n],left:t[0],right:t[1]}:n},htmlBuilder:un,mathmlBuilder:pn}),sn({type:"array",names:["cases","dcases"],props:{numArgs:0},handler:function(e){var t=cn(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},dn(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:"\\{",right:"."}},htmlBuilder:un,mathmlBuilder:pn}),sn({type:"array",names:["aligned"],props:{numArgs:0},handler:hn,htmlBuilder:un,mathmlBuilder:pn}),sn({type:"array",names:["gathered"],props:{numArgs:0},handler:function(e){return cn(e.parser,{cols:[{type:"align",align:"c"}],addJot:!0},"display")},htmlBuilder:un,mathmlBuilder:pn}),sn({type:"array",names:["alignedat"],props:{numArgs:1},handler:hn,htmlBuilder:un,mathmlBuilder:pn}),Je({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new r(e.funcName+" valid only within array environment")}});var mn=rn;Je({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var n=e.parser,i=e.funcName,o=t[0];if("ordgroup"!==o.type)throw new r("Invalid environment name",o);for(var a="",s=0;s<o.body.length;++s)a+=Ne(o.body[s],"textord").text;if("\\begin"===i){if(!mn.hasOwnProperty(a))throw new r("No such environment: "+a,o);var l=mn[a],c=n.parseArguments("\\begin{"+a+"}",l),d=c.args,u=c.optArgs,p={mode:n.mode,envName:a,parser:n},h=l.handler(p,d,u);n.expect("\\end",!1);var m=n.nextToken,f=Ne(n.parseFunction(),"environment");if(f.name!==a)throw new r("Mismatch: \\begin{"+a+"} matched by \\end{"+f.name+"}",m);return h}return{type:"environment",mode:n.mode,name:a,nameGroup:o}}});var fn=$e.makeSpan;function gn(e,t){var n=ot(e.body,t,!0);return fn([e.mclass],n,t)}function vn(e,t){var n=yt(e.body,t);return ft.newDocumentFragment(n)}Je({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName,o=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.substr(5),body:Ze(o)}},htmlBuilder:gn,mathmlBuilder:vn});var bn=function(e){var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};Je({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:bn(t[0]),body:[t[1]]}}}),Je({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var n,i=e.parser,o=e.funcName,a=t[1],r=t[0];n="\\stackrel"!==o?bn(a):"mrel";var s={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,symbol:!1,suppressBaseShift:"\\stackrel"!==o,body:Ze(a)},l={type:"supsub",mode:r.mode,base:s,sup:"\\underset"===o?null:r,sub:"\\underset"===o?r:null};return{type:"mclass",mode:i.mode,mclass:n,body:[l]}},htmlBuilder:gn,mathmlBuilder:vn});var yn=function(e,t){var n=e.font,i=t.withFont(n);return ct(e.body,i)},xn=function(e,t){var n=e.font,i=t.withFont(n);return wt(e.body,i)},wn={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Je({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,greediness:2},handler:function(e,t){var n=e.parser,i=e.funcName,o=t[0],a=i;return a in wn&&(a=wn[a]),{type:"font",mode:n.mode,font:a.slice(1),body:o}},htmlBuilder:yn,mathmlBuilder:xn}),Je({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1,greediness:2},handler:function(e,t){var n=e.parser,i=t[0];return{type:"mclass",mode:n.mode,mclass:bn(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}]}}}),Je({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,o=e.breakOnTokenText,a=n.mode,r=n.parseExpression(!0,o);return{type:"font",mode:a,font:"math"+i.slice(1),body:{type:"ordgroup",mode:n.mode,body:r}}},htmlBuilder:yn,mathmlBuilder:xn});var kn=function(e,t){var n=t.style;"display"===e.size?n=w.DISPLAY:"text"===e.size&&n.size===w.DISPLAY.size?n=w.TEXT:"script"===e.size?n=w.SCRIPT:"scriptscript"===e.size&&(n=w.SCRIPTSCRIPT);var i,o=n.fracNum(),a=n.fracDen();i=t.havingStyle(o);var r=ct(e.numer,i,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;r.height=r.height<s?s:r.height,r.depth=r.depth<l?l:r.depth}i=t.havingStyle(a);var c,d,u,p,h,m,f,g,v,b,y=ct(e.denom,i,t);if(e.hasBarLine?(e.barSize?(d=Te(e.barSize,t),c=$e.makeLineSpan("frac-line",t,d)):c=$e.makeLineSpan("frac-line",t),d=c.height,u=c.height):(c=null,d=0,u=t.fontMetrics().defaultRuleThickness),n.size===w.DISPLAY.size?(p=t.fontMetrics().num1,h=d>0?3*u:7*u,m=t.fontMetrics().denom1):(d>0?(p=t.fontMetrics().num2,h=u):(p=t.fontMetrics().num3,h=3*u),m=t.fontMetrics().denom2),c){var x=t.fontMetrics().axisHeight;p-r.depth-(x+.5*d)<h&&(p+=h-(p-r.depth-(x+.5*d))),x-.5*d-(y.height-m)<h&&(m+=h-(x-.5*d-(y.height-m)));var k=-(x-.5*d);f=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:m},{type:"elem",elem:c,shift:k},{type:"elem",elem:r,shift:-p}]},t)}else{var _=p-r.depth-(y.height-m);_<h&&(p+=.5*(h-_),m+=.5*(h-_)),f=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:m},{type:"elem",elem:r,shift:-p}]},t)}return i=t.havingStyle(n),f.height*=i.sizeMultiplier/t.sizeMultiplier,f.depth*=i.sizeMultiplier/t.sizeMultiplier,g=n.size===w.DISPLAY.size?t.fontMetrics().delim1:t.fontMetrics().delim2,v=null==e.leftDelim?lt(t,["mopen"]):Kt(e.leftDelim,g,!0,t.havingStyle(n),e.mode,["mopen"]),b=e.continued?$e.makeSpan([]):null==e.rightDelim?lt(t,["mclose"]):Kt(e.rightDelim,g,!0,t.havingStyle(n),e.mode,["mclose"]),$e.makeSpan(["mord"].concat(i.sizingClasses(t)),[v,$e.makeSpan(["mfrac"],[f]),b],t)},_n=function(e,t){var n=new ft.MathNode("mfrac",[wt(e.numer,t),wt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var i=Te(e.barSize,t);n.setAttribute("linethickness",i+"em")}}else n.setAttribute("linethickness","0px");if(null!=e.leftDelim||null!=e.rightDelim){var o=[];if(null!=e.leftDelim){var a=new ft.MathNode("mo",[new ft.TextNode(e.leftDelim)]);a.setAttribute("fence","true"),o.push(a)}if(o.push(n),null!=e.rightDelim){var r=new ft.MathNode("mo",[new ft.TextNode(e.rightDelim)]);r.setAttribute("fence","true"),o.push(r)}return vt(o)}return n};Je({type:"genfrac",names:["\\cfrac","\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,greediness:2},handler:function(e,t){var n,i=e.parser,o=e.funcName,a=t[0],r=t[1],s=null,l=null,c="auto";switch(o){case"\\cfrac":case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,s="(",l=")";break;case"\\\\bracefrac":n=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(o){case"\\cfrac":case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:i.mode,continued:"\\cfrac"===o,numer:a,denom:r,hasBarLine:n,leftDelim:s,rightDelim:l,size:c,barSize:null}},htmlBuilder:kn,mathmlBuilder:_n}),Je({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t,n=e.parser,i=e.funcName,o=e.token;switch(i){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:o}}});var Cn=["display","text","script","scriptscript"],Tn=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};Je({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,greediness:6,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){var n=e.parser,i=t[4],o=t[5],a=ze(t[0],"atom");a&&(a=je(t[0],"open"));var r=a?Tn(a.text):null,s=ze(t[1],"atom");s&&(s=je(t[1],"close"));var l,c=s?Tn(s.text):null,d=Ne(t[2],"size"),u=null;l=!!d.isBlank||(u=d.value).number>0;var p="auto",h=ze(t[3],"ordgroup");if(h){if(h.body.length>0){var m=Ne(h.body[0],"textord");p=Cn[Number(m.text)]}}else h=Ne(t[3],"textord"),p=Cn[Number(h.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:l,barSize:u,leftDelim:r,rightDelim:c,size:p}},htmlBuilder:kn,mathmlBuilder:_n}),Je({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var n=e.parser,i=(e.funcName,e.token);return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ne(t[0],"size").value,token:i}}}),Je({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){var n=e.parser,i=(e.funcName,t[0]),o=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(Ne(t[1],"infix").size),a=t[2],r=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:r,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:kn,mathmlBuilder:_n});var Sn=function(e,t){var n,i,o=t.style,a=ze(e,"supsub");a?(n=a.sup?ct(a.sup,t.havingStyle(o.sup()),t):ct(a.sub,t.havingStyle(o.sub()),t),i=Ne(a.base,"horizBrace")):i=Ne(e,"horizBrace");var r,s=ct(i.base,t.havingBaseStyle(w.DISPLAY)),l=Mt(i,t);if(i.isOver?(r=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:l}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(r=$e.makeVList({positionType:"bottom",positionData:s.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var c=$e.makeSpan(["mord",i.isOver?"mover":"munder"],[r],t);r=i.isOver?$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:n}]},t):$e.makeVList({positionType:"bottom",positionData:c.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:c}]},t)}return $e.makeSpan(["mord",i.isOver?"mover":"munder"],[r],t)};Je({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=e.funcName;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:Sn,mathmlBuilder:function(e,t){var n=St(e.label);return new ft.MathNode(e.isOver?"mover":"munder",[wt(e.base,t),n])}}),Je({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[1],o=Ne(t[0],"url").url;return{type:"href",mode:n.mode,href:o,body:Ze(i)}},htmlBuilder:function(e,t){var n=ot(e.body,t,!1);return $e.makeAnchor(e.href,[],n,t)},mathmlBuilder:function(e,t){var n=xt(e.body,t);return n instanceof ht||(n=new ht("mrow",[n])),n.setAttribute("href",e.href),n}}),Je({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){for(var n=e.parser,i=Ne(t[0],"url").url,o=[],a=0;a<i.length;a++){var r=i[a];"~"===r&&(r="\\textasciitilde"),o.push({type:"textord",mode:"text",text:r})}var s={type:"text",mode:n.mode,font:"\\texttt",body:o};return{type:"href",mode:n.mode,href:i,body:Ze(s)}}}),Je({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:Ze(t[0]),mathml:Ze(t[1])}},htmlBuilder:function(e,t){var n=ot(e.html,t,!1);return $e.makeFragment(n)},mathmlBuilder:function(e,t){return xt(e.mathml,t)}}),Je({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,o=Ne(t[0],"size");if(n.settings.strict){var a="m"===i[1],r="mu"===o.value.unit;a?(r||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, not "+o.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):r&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder:function(e,t){return $e.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){var n=Te(e.dimension,t);return new ft.SpaceNode(n)}}),Je({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,o=t[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:o}},htmlBuilder:function(e,t){var n;"clap"===e.alignment?(n=$e.makeSpan([],[ct(e.body,t)]),n=$e.makeSpan(["inner"],[n],t)):n=$e.makeSpan(["inner"],[ct(e.body,t)]);var i=$e.makeSpan(["fix"],[]),o=$e.makeSpan([e.alignment],[n,i],t),a=$e.makeSpan(["strut"]);return a.style.height=o.height+o.depth+"em",a.style.verticalAlign=-o.depth+"em",o.children.unshift(a),o=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o}]},t),$e.makeSpan(["mord"],[o],t)},mathmlBuilder:function(e,t){var n=new ft.MathNode("mpadded",[wt(e.body,t)]);if("rlap"!==e.alignment){var i="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}}),Je({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1,consumeMode:"math"},handler:function(e,t){var n=e.funcName,i=e.parser,o=i.mode;i.switchMode("math");var a="\\("===n?"\\)":"$",r=i.parseExpression(!1,a);return i.expect(a,!1),i.switchMode(o),i.consume(),{type:"styling",mode:i.mode,style:"text",body:r}}}),Je({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new r("Mismatched "+e.funcName)}});var Mn=function(e,t){switch(t.style.size){case w.DISPLAY.size:return e.display;case w.TEXT.size:return e.text;case w.SCRIPT.size:return e.script;case w.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Je({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:Ze(t[0]),text:Ze(t[1]),script:Ze(t[2]),scriptscript:Ze(t[3])}},htmlBuilder:function(e,t){var n=Mn(e,t),i=ot(n,t,!1);return $e.makeFragment(i)},mathmlBuilder:function(e,t){var n=Mn(e,t);return xt(n,t)}});var Dn=function(e,t){var n,i,o,a=!1,r=ze(e,"supsub");r?(n=r.sup,i=r.sub,o=Ne(r.base,"op"),a=!0):o=Ne(e,"op");var s,l=t.style,c=!1;if(l.size===w.DISPLAY.size&&o.symbol&&!u.contains(["\\smallint"],o.name)&&(c=!0),o.symbol){var d=c?"Size2-Regular":"Size1-Regular",p="";if("\\oiint"!==o.name&&"\\oiiint"!==o.name||(p=o.name.substr(1),o.name="oiint"===p?"\\iint":"\\iiint"),s=$e.makeSymbol(o.name,d,"math",t,["mop","op-symbol",c?"large-op":"small-op"]),p.length>0){var h=s.italic,m=$e.staticSvg(p+"Size"+(c?"2":"1"),t);s=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:m,shift:c?.08:0}]},t),o.name="\\"+p,s.classes.unshift("mop"),s.italic=h}}else if(o.body){var f=ot(o.body,t,!0);1===f.length&&f[0]instanceof L?(s=f[0]).classes[0]="mop":s=$e.makeSpan(["mop"],$e.tryCombineChars(f),t)}else{for(var g=[],v=1;v<o.name.length;v++)g.push($e.mathsym(o.name[v],o.mode));s=$e.makeSpan(["mop"],g,t)}var b=0,y=0;if((s instanceof L||"\\oiint"===o.name||"\\oiiint"===o.name)&&!o.suppressBaseShift&&(b=(s.height-s.depth)/2-t.fontMetrics().axisHeight,y=s.italic),a){var x,k,_;if(s=$e.makeSpan([],[s]),n){var C=ct(n,t.havingStyle(l.sup()),t);k={elem:C,kern:Math.max(t.fontMetrics().bigOpSpacing1,t.fontMetrics().bigOpSpacing3-C.depth)}}if(i){var T=ct(i,t.havingStyle(l.sub()),t);x={elem:T,kern:Math.max(t.fontMetrics().bigOpSpacing2,t.fontMetrics().bigOpSpacing4-T.height)}}if(k&&x){var S=t.fontMetrics().bigOpSpacing5+x.elem.height+x.elem.depth+x.kern+s.depth+b;_=$e.makeVList({positionType:"bottom",positionData:S,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:x.elem,marginLeft:-y+"em"},{type:"kern",size:x.kern},{type:"elem",elem:s},{type:"kern",size:k.kern},{type:"elem",elem:k.elem,marginLeft:y+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}else if(x){var M=s.height-b;_=$e.makeVList({positionType:"top",positionData:M,children:[{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:x.elem,marginLeft:-y+"em"},{type:"kern",size:x.kern},{type:"elem",elem:s}]},t)}else{if(!k)return s;var D=s.depth+b;_=$e.makeVList({positionType:"bottom",positionData:D,children:[{type:"elem",elem:s},{type:"kern",size:k.kern},{type:"elem",elem:k.elem,marginLeft:y+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}]},t)}return $e.makeSpan(["mop","op-limits"],[_],t)}return b&&(s.style.position="relative",s.style.top=b+"em"),s},En=function(e,t){var n;if(e.symbol)n=new ht("mo",[gt(e.name,e.mode)]);else{if(!e.body)return pt([n=new ht("mi",[new mt(e.name.slice(1))]),new ht("mo",[gt("⁡","text")])]);n=new ht("mo",yt(e.body,t))}return n},An={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Je({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(e,t){var n=e.parser,i=e.funcName;return 1===i.length&&(i=An[i]),{type:"op",mode:n.mode,limits:!0,symbol:!0,name:i}},htmlBuilder:Dn,mathmlBuilder:En}),Je({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"op",mode:n.mode,limits:!1,symbol:!1,body:Ze(i)}},htmlBuilder:Dn,mathmlBuilder:En});var Fn={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};function In(e,t,n){for(var i=ot(e,t,!1),o=t.sizeMultiplier/n.sizeMultiplier,a=0;a<i.length;a++){var r=i[a].classes.indexOf("sizing");r<0?Array.prototype.push.apply(i[a].classes,t.sizingClasses(n)):i[a].classes[r+1]==="reset-size"+t.size&&(i[a].classes[r+1]="reset-size"+n.size),i[a].height*=o,i[a].depth*=o}return $e.makeFragment(i)}Je({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return{type:"op",mode:t.mode,limits:!1,symbol:!1,name:n}},htmlBuilder:Dn,mathmlBuilder:En}),Je({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return{type:"op",mode:t.mode,limits:!0,symbol:!1,name:n}},htmlBuilder:Dn,mathmlBuilder:En}),Je({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(e){var t=e.parser,n=e.funcName;return 1===n.length&&(n=Fn[n]),{type:"op",mode:t.mode,limits:!1,symbol:!0,name:n}},htmlBuilder:Dn,mathmlBuilder:En}),Je({type:"operatorname",names:["\\operatorname"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"operatorname",mode:n.mode,body:Ze(i)}},htmlBuilder:function(e,t){if(e.body.length>0){for(var n=e.body.map(function(e){var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e}),i=ot(n,t.withFont("mathrm"),!0),o=0;o<i.length;o++){var a=i[o];a instanceof L&&(a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}return $e.makeSpan(["mop"],i,t)}return $e.makeSpan(["mop"],[],t)},mathmlBuilder:function(e,t){for(var n=yt(e.body,t.withFont("mathrm")),i=!0,o=0;o<n.length;o++){var a=n[o];if(a instanceof ft.SpaceNode);else if(a instanceof ft.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var r=a.children[0];1===a.children.length&&r instanceof ft.TextNode?r.text=r.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break;default:i=!1}else i=!1}if(i){var s=n.map(function(e){return e.toText()}).join("");n=[new ft.TextNode(s)]}var l=new ft.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new ft.MathNode("mo",[gt("⁡","text")]);return ft.newDocumentFragment([l,c])}}),Ke({type:"ordgroup",htmlBuilder:function(e,t){return e.semisimple?$e.makeFragment(ot(e.body,t,!1)):$e.makeSpan(["mord"],ot(e.body,t,!0),t)},mathmlBuilder:function(e,t){return xt(e.body,t)}}),Je({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){var n=e.parser,i=t[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=ct(e.body,t.havingCrampedStyle()),i=$e.makeLineSpan("overline-line",t),o=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i.height},{type:"elem",elem:i},{type:"kern",size:i.height}]},t);return $e.makeSpan(["mord","overline"],[o],t)},mathmlBuilder:function(e,t){var n=new ft.MathNode("mo",[new ft.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new ft.MathNode("mover",[wt(e.body,t),n]);return i.setAttribute("accent","true"),i}}),Je({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"phantom",mode:n.mode,body:Ze(i)}},htmlBuilder:function(e,t){var n=ot(e.body,t.withPhantom(),!1);return $e.makeFragment(n)},mathmlBuilder:function(e,t){var n=yt(e.body,t);return new ft.MathNode("mphantom",n)}}),Je({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=$e.makeSpan([],[ct(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),$e.makeSpan(["mord"],[n],t)},mathmlBuilder:function(e,t){var n=yt(Ze(e.body),t),i=new ft.MathNode("mphantom",n);return i.setAttribute("height","0px"),i}}),Je({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser,i=t[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:function(e,t){var n=$e.makeSpan(["inner"],[ct(e.body,t.withPhantom())]),i=$e.makeSpan(["fix"],[]);return $e.makeSpan(["mord","rlap"],[n,i],t)},mathmlBuilder:function(e,t){var n=yt(Ze(e.body),t),i=new ft.MathNode("mphantom",n);return i.setAttribute("width","0px"),i}});var On=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Ln=function(e,t){var n=t.havingSize(e.size);return In(e.body,n,t)};Je({type:"sizing",names:On,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.breakOnTokenText,i=e.funcName,o=e.parser,a=o.parseExpression(!1,n);return{type:"sizing",mode:o.mode,size:On.indexOf(i)+1,body:a}},htmlBuilder:Ln,mathmlBuilder:function(e,t){var n=t.havingSize(e.size),i=yt(e.body,n),o=new ft.MathNode("mstyle",i);return o.setAttribute("mathsize",n.sizeMultiplier+"em"),o}}),Je({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","text"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=Ne(t[0],"size").value,o=t[1];return{type:"raisebox",mode:n.mode,dy:i,body:o}},htmlBuilder:function(e,t){var n={type:"text",mode:e.mode,body:Ze(e.body),font:"mathrm"},i={type:"sizing",mode:e.mode,body:[n],size:6},o=Ln(i,t),a=Te(e.dy,t);return $e.makeVList({positionType:"shift",positionData:-a,children:[{type:"elem",elem:o}]},t)},mathmlBuilder:function(e,t){var n=new ft.MathNode("mpadded",[wt(e.body,t)]),i=e.dy.number+e.dy.unit;return n.setAttribute("voffset",i),n}}),Je({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,n){var i=e.parser,o=n[0],a=Ne(t[0],"size"),r=Ne(t[1],"size");return{type:"rule",mode:i.mode,shift:o&&Ne(o,"size").value,width:a.value,height:r.value}},htmlBuilder:function(e,t){var n=$e.makeSpan(["mord","rule"],[],t),i=0;e.shift&&(i=Te(e.shift,t));var o=Te(e.width,t),a=Te(e.height,t);return n.style.borderRightWidth=o+"em",n.style.borderTopWidth=a+"em",n.style.bottom=i+"em",n.width=o,n.height=a+i,n.depth=-i,n.maxFontSize=1.125*a*t.sizeMultiplier,n},mathmlBuilder:function(e,t){return new ft.MathNode("mrow")}}),Je({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,n){var i=e.parser,o=!1,a=!1,r=n[0]&&Ne(n[0],"ordgroup");if(r)for(var s="",l=0;l<r.body.length;++l)if("t"===(s=r.body[l].text))o=!0;else{if("b"!==s){o=!1,a=!1;break}a=!0}else o=!0,a=!0;var c=t[0];return{type:"smash",mode:i.mode,body:c,smashHeight:o,smashDepth:a}},htmlBuilder:function(e,t){var n=$e.makeSpan([],[ct(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;var a=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return $e.makeSpan(["mord"],[a],t)},mathmlBuilder:function(e,t){var n=new ft.MathNode("mpadded",[wt(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),Je({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){var i=e.parser,o=n[0],a=t[0];return{type:"sqrt",mode:i.mode,body:a,index:o}},htmlBuilder:function(e,t){var n=ct(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=$e.wrapFragment(n,t);var i=t.fontMetrics().defaultRuleThickness,o=i;t.style.id<w.TEXT.id&&(o=t.fontMetrics().xHeight);var a=i+o/4,r=function(e,t){var n,i,o=t.havingBaseSizing(),a=Yt("\\surd",e*o.sizeMultiplier,qt,o),r=o.sizeMultiplier,s=0,l=0,c=0;return"small"===a.type?(e<1?r=1:e<1.4&&(r=.7),l=1/r,(n=zt("sqrtMain",s=1.08/r,c=1080,t)).style.minWidth="0.853em",i=.833/r):"large"===a.type?(c=1080*Ht[a.size],l=Ht[a.size]/r,s=(Ht[a.size]+.08)/r,(n=zt("sqrtSize"+a.size,s,c,t)).style.minWidth="1.02em",i=1/r):(s=e+.08,l=e,c=Math.floor(1e3*e)+80,(n=zt("sqrtTall",s,c,t)).style.minWidth="0.742em",i=1.056),n.height=l,n.style.height=s+"em",{span:n,advanceWidth:i,ruleWidth:t.fontMetrics().sqrtRuleThickness*r}}(n.height+n.depth+a+i,t),s=r.span,l=r.ruleWidth,c=r.advanceWidth,d=s.height-l;d>n.height+n.depth+a&&(a=(a+d-n.height-n.depth)/2);var u=s.height-n.height-a-l;n.style.paddingLeft=c+"em";var p=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+u)},{type:"elem",elem:s},{type:"kern",size:l}]},t);if(e.index){var h=t.havingStyle(w.SCRIPTSCRIPT),m=ct(e.index,h,t),f=.6*(p.height-p.depth),g=$e.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:m}]},t),v=$e.makeSpan(["root"],[g]);return $e.makeSpan(["mord","sqrt"],[v,p],t)}return $e.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder:function(e,t){var n=e.body,i=e.index;return i?new ft.MathNode("mroot",[wt(n,t),wt(i,t)]):new ft.MathNode("msqrt",[wt(n,t)])}});var Pn={display:w.DISPLAY,text:w.TEXT,script:w.SCRIPT,scriptscript:w.SCRIPTSCRIPT};Je({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.breakOnTokenText,i=e.funcName,o=e.parser,a=o.parseExpression(!0,n),r=i.slice(1,i.length-5);return{type:"styling",mode:o.mode,style:r,body:a}},htmlBuilder:function(e,t){var n=Pn[e.style],i=t.havingStyle(n).withFont("");return In(e.body,i,t)},mathmlBuilder:function(e,t){var n={display:w.DISPLAY,text:w.TEXT,script:w.SCRIPT,scriptscript:w.SCRIPTSCRIPT}[e.style],i=t.havingStyle(n),o=yt(e.body,i),a=new ft.MathNode("mstyle",o),r={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return a.setAttribute("scriptlevel",r[0]),a.setAttribute("displaystyle",r[1]),a}}),Ke({type:"supsub",htmlBuilder:function(e,t){var n=function(e,t){var n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===w.DISPLAY.size||n.alwaysHandleSupSub)?Dn:null:"accent"===n.type?u.isCharacterBox(n.base)?Dt:null:"horizBrace"===n.type&&!e.sub===n.isOver?Sn:null:null}(e,t);if(n)return n(e,t);var i,o,a,r=e.base,s=e.sup,l=e.sub,c=ct(r,t),d=t.fontMetrics(),p=0,h=0,m=r&&u.isCharacterBox(r);if(s){var f=t.havingStyle(t.style.sup());i=ct(s,f,t),m||(p=c.height-f.fontMetrics().supDrop*f.sizeMultiplier/t.sizeMultiplier)}if(l){var g=t.havingStyle(t.style.sub());o=ct(l,g,t),m||(h=c.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}a=t.style===w.DISPLAY?d.sup1:t.style.cramped?d.sup3:d.sup2;var v,b=t.sizeMultiplier,y=.5/d.ptPerEm/b+"em",x=null;if(o){var k=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(c instanceof L||k)&&(x=-c.italic+"em")}if(i&&o){p=Math.max(p,a,i.depth+.25*d.xHeight),h=Math.max(h,d.sub2);var _=4*d.defaultRuleThickness;if(p-i.depth-(o.height-h)<_){h=_-(p-i.depth)+o.height;var C=.8*d.xHeight-(p-i.depth);C>0&&(p+=C,h-=C)}var T=[{type:"elem",elem:o,shift:h,marginRight:y,marginLeft:x},{type:"elem",elem:i,shift:-p,marginRight:y}];v=$e.makeVList({positionType:"individualShift",children:T},t)}else if(o){h=Math.max(h,d.sub1,o.height-.8*d.xHeight);var S=[{type:"elem",elem:o,marginLeft:x,marginRight:y}];v=$e.makeVList({positionType:"shift",positionData:h,children:S},t)}else{if(!i)throw new Error("supsub must have either sup or sub.");p=Math.max(p,a,i.depth+.25*d.xHeight),v=$e.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:i,marginRight:y}]},t)}var M=st(c,"right")||"mord";return $e.makeSpan([M],[c,$e.makeSpan(["msupsub"],[v])],t)},mathmlBuilder:function(e,t){var n,i=!1,o=ze(e.base,"horizBrace");o&&!!e.sup===o.isOver&&(i=!0,n=o.isOver);var a,r=[wt(e.base,t)];if(e.sub&&r.push(wt(e.sub,t)),e.sup&&r.push(wt(e.sup,t)),i)a=n?"mover":"munder";else if(e.sub)if(e.sup){var s=e.base;a=s&&"op"===s.type&&s.limits&&t.style===w.DISPLAY?"munderover":"msubsup"}else{var l=e.base;a=l&&"op"===l.type&&l.limits&&t.style===w.DISPLAY?"munder":"msub"}else{var c=e.base;a=c&&"op"===c.type&&c.limits&&t.style===w.DISPLAY?"mover":"msup"}return new ft.MathNode(a,r)}}),Ke({type:"atom",htmlBuilder:function(e,t){return $e.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var n=new ft.MathNode("mo",[gt(e.text,e.mode)]);if("bin"===e.family){var i=bt(e,t);"bold-italic"===i&&n.setAttribute("mathvariant",i)}else"punct"===e.family&&n.setAttribute("separator","true");return n}});var Bn={mi:"italic",mn:"normal",mtext:"normal"};Ke({type:"mathord",htmlBuilder:function(e,t){return $e.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var n=new ft.MathNode("mi",[gt(e.text,e.mode,t)]),i=bt(e,t)||"italic";return i!==Bn[n.type]&&n.setAttribute("mathvariant",i),n}}),Ke({type:"textord",htmlBuilder:function(e,t){return $e.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var n,i=gt(e.text,e.mode,t),o=bt(e,t)||"normal";return n="text"===e.mode?new ft.MathNode("mtext",[i]):/[0-9]/.test(e.text)?new ft.MathNode("mn",[i]):"\\prime"===e.text?new ft.MathNode("mo",[i]):new ft.MathNode("mi",[i]),o!==Bn[n.type]&&n.setAttribute("mathvariant",o),n}});var $n={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Nn={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ke({type:"spacing",htmlBuilder:function(e,t){if(Nn.hasOwnProperty(e.text)){var n=Nn[e.text].className||"";if("text"===e.mode){var i=$e.makeOrd(e,t,"textord");return i.classes.push(n),i}return $e.makeSpan(["mspace",n],[$e.mathsym(e.text,e.mode,t)],t)}if($n.hasOwnProperty(e.text))return $e.makeSpan(["mspace",$n[e.text]],[],t);throw new r('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if(!Nn.hasOwnProperty(e.text)){if($n.hasOwnProperty(e.text))return new ft.MathNode("mspace");throw new r('Unknown type of space "'+e.text+'"')}return new ft.MathNode("mtext",[new ft.TextNode(" ")])}}),Ke({type:"tag",mathmlBuilder:function(e,t){var n=new ft.MathNode("mtable",[new ft.MathNode("mlabeledtr",[new ft.MathNode("mtd",[xt(e.tag,t)]),new ft.MathNode("mtd",[xt(e.body,t)])])]);return n.setAttribute("side","right"),n}});var zn={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},jn={"\\textbf":"textbf"},Rn={"\\textit":"textit"},Gn=function(e,t){var n=e.font;return n?zn[n]?t.withTextFontFamily(zn[n]):jn[n]?t.withTextFontWeight(jn[n]):t.withTextFontShape(Rn[n]):t};Je({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],props:{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0,consumeMode:"text"},handler:function(e,t){var n=e.parser,i=e.funcName,o=t[0];return{type:"text",mode:n.mode,body:Ze(o),font:i}},htmlBuilder:function(e,t){var n=Gn(e,t),i=ot(e.body,n,!0);return $e.makeSpan(["mord","text"],$e.tryCombineChars(i),n)},mathmlBuilder:function(e,t){var n=Gn(e,t);return xt(e.body,n)}}),Je({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var n=ct(e.body,t),i=$e.makeLineSpan("underline-line",t),o=$e.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i.height},{type:"elem",elem:i},{type:"kern",size:3*i.height},{type:"elem",elem:n}]},t);return $e.makeSpan(["mord","underline"],[o],t)},mathmlBuilder:function(e,t){var n=new ft.MathNode("mo",[new ft.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new ft.MathNode("munder",[wt(e.body,t),n]);return i.setAttribute("accentunder","true"),i}}),Je({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,n){throw new r("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var n=Hn(e),i=[],o=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var r=n[a];"~"===r&&(r="\\textasciitilde"),i.push($e.makeSymbol(r,"Typewriter-Regular",e.mode,o,["mord","texttt"]))}return $e.makeSpan(["mord","text"].concat(o.sizingClasses(t)),$e.tryCombineChars(i),o)},mathmlBuilder:function(e,t){var n=new ft.TextNode(Hn(e)),i=new ft.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var Hn=function(e){return e.body.replace(/ /g,e.star?"␣":" ")},Wn=Ve,Un=new RegExp("^(\\\\[a-zA-Z@]+)[ \r\n\t]*$"),qn=new RegExp("[̀-ͯ]+$"),Vn="([ \r\n\t]+)|([!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\[a-zA-Z@]+[ \r\n\t]*|\\\\[^\ud800-\udfff])",Yn=function(){function e(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Vn,"g"),this.catcodes={"%":14}}var t=e.prototype;return t.setCatcode=function(e,t){this.catcodes[e]=t},t.lex=function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new o("EOF",new i(this,t,t));var n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new r("Unexpected character: '"+e[t]+"'",new o(e[t],new i(this,t,t+1)));var a=n[2]||" ";if(14===this.catcodes[a]){var s=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===s?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}var l=a.match(Un);return l&&(a=l[1]),new o(a,new i(this,t,this.tokenRegex.lastIndex))},e}(),Xn=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}var t=e.prototype;return t.beginGroup=function(){this.undefStack.push({})},t.endGroup=function(){if(0===this.undefStack.length)throw new r("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete this.current[t]:this.current[t]=e[t])},t.has=function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)},t.get=function(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]},t.set=function(e,t,n){if(void 0===n&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}this.current[e]=t},e}(),Jn={},Kn=Jn;function Zn(e,t){Jn[e]=t}Zn("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),Zn("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),Zn("\\@ifnextchar",function(e){var t=e.consumeArgs(3),n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),Zn("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Zn("\\TextOrMath",function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var Qn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Zn("\\char",function(e){var t,n=e.popToken(),i="";if("'"===n.text)t=8,n=e.popToken();else if('"'===n.text)t=16,n=e.popToken();else if("`"===n.text)if("\\"===(n=e.popToken()).text[0])i=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new r("\\char` missing argument");i=n.text.charCodeAt(0)}else t=10;if(t){if(null==(i=Qn[n.text])||i>=t)throw new r("Invalid base-"+t+" digit "+n.text);for(var o;null!=(o=Qn[e.future().text])&&o<t;)i*=t,i+=o,e.popToken()}return"\\@char{"+i+"}"});var ei=function(e,t){var n=e.consumeArgs(1)[0];if(1!==n.length)throw new r("\\gdef's first argument must be a macro name");var i=n[0].text,o=0;for(n=e.consumeArgs(1)[0];1===n.length&&"#"===n[0].text;){if(1!==(n=e.consumeArgs(1)[0]).length)throw new r('Invalid argument number length "'+n.length+'"');if(!/^[1-9]$/.test(n[0].text))throw new r('Invalid argument number "'+n[0].text+'"');if(o++,parseInt(n[0].text)!==o)throw new r('Argument number "'+n[0].text+'" out of order');n=e.consumeArgs(1)[0]}return e.macros.set(i,{tokens:n,numArgs:o},t),""};Zn("\\gdef",function(e){return ei(e,!0)}),Zn("\\def",function(e){return ei(e,!1)}),Zn("\\global",function(e){var t=e.consumeArgs(1)[0];if(1!==t.length)throw new r("Invalid command after \\global");var n=t[0].text;if("\\def"===n)return ei(e,!0);throw new r("Invalid command '"+n+"' after \\global")});var ti=function(e,t,n){var i=e.consumeArgs(1)[0];if(1!==i.length)throw new r("\\newcommand's first argument must be a macro name");var o=i[0].text,a=e.isDefined(o);if(a&&!t)throw new r("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!a&&!n)throw new r("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var s=0;if(1===(i=e.consumeArgs(1)[0]).length&&"["===i[0].text){for(var l="",c=e.expandNextToken();"]"!==c.text&&"EOF"!==c.text;)l+=c.text,c=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new r("Invalid number of arguments: "+l);s=parseInt(l),i=e.consumeArgs(1)[0]}return e.macros.set(o,{tokens:i,numArgs:s}),""};Zn("\\newcommand",function(e){return ti(e,!1,!0)}),Zn("\\renewcommand",function(e){return ti(e,!0,!1)}),Zn("\\providecommand",function(e){return ti(e,!0,!0)}),Zn("\\bgroup","{"),Zn("\\egroup","}"),Zn("\\lq","`"),Zn("\\rq","'"),Zn("\\aa","\\r a"),Zn("\\AA","\\r A"),Zn("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),Zn("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Zn("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),Zn("ℬ","\\mathscr{B}"),Zn("ℰ","\\mathscr{E}"),Zn("ℱ","\\mathscr{F}"),Zn("ℋ","\\mathscr{H}"),Zn("ℐ","\\mathscr{I}"),Zn("ℒ","\\mathscr{L}"),Zn("ℳ","\\mathscr{M}"),Zn("ℛ","\\mathscr{R}"),Zn("ℭ","\\mathfrak{C}"),Zn("ℌ","\\mathfrak{H}"),Zn("ℨ","\\mathfrak{Z}"),Zn("·","\\cdotp"),Zn("\\llap","\\mathllap{\\textrm{#1}}"),Zn("\\rlap","\\mathrlap{\\textrm{#1}}"),Zn("\\clap","\\mathclap{\\textrm{#1}}"),Zn("\\not","\\mathrel{\\mathrlap\\@not}"),Zn("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),Zn("\\ne","\\neq"),Zn("≠","\\neq"),Zn("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),Zn("∉","\\notin"),Zn("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),Zn("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),Zn("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),Zn("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),Zn("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),Zn("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),Zn("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),Zn("⟂","\\perp"),Zn("‼","\\mathclose{!\\mkern-0.8mu!}"),Zn("∌","\\notni"),Zn("⌜","\\ulcorner"),Zn("⌝","\\urcorner"),Zn("⌞","\\llcorner"),Zn("⌟","\\lrcorner"),Zn("©","\\copyright"),Zn("®","\\textregistered"),Zn("️","\\textregistered"),Zn("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),Zn("⋮","\\vdots"),Zn("\\varGamma","\\mathit{\\Gamma}"),Zn("\\varDelta","\\mathit{\\Delta}"),Zn("\\varTheta","\\mathit{\\Theta}"),Zn("\\varLambda","\\mathit{\\Lambda}"),Zn("\\varXi","\\mathit{\\Xi}"),Zn("\\varPi","\\mathit{\\Pi}"),Zn("\\varSigma","\\mathit{\\Sigma}"),Zn("\\varUpsilon","\\mathit{\\Upsilon}"),Zn("\\varPhi","\\mathit{\\Phi}"),Zn("\\varPsi","\\mathit{\\Psi}"),Zn("\\varOmega","\\mathit{\\Omega}"),Zn("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),Zn("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Zn("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Zn("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Zn("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var ni={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Zn("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in ni?t=ni[n]:("\\not"===n.substr(0,4)||n in q.math&&u.contains(["bin","rel"],q.math[n].group))&&(t="\\dotsb"),t});var ii={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Zn("\\dotso",function(e){return e.future().text in ii?"\\ldots\\,":"\\ldots"}),Zn("\\dotsc",function(e){var t=e.future().text;return t in ii&&","!==t?"\\ldots\\,":"\\ldots"}),Zn("\\cdots",function(e){return e.future().text in ii?"\\@cdots\\,":"\\@cdots"}),Zn("\\dotsb","\\cdots"),Zn("\\dotsm","\\cdots"),Zn("\\dotsi","\\!\\cdots"),Zn("\\dotsx","\\ldots\\,"),Zn("\\DOTSI","\\relax"),Zn("\\DOTSB","\\relax"),Zn("\\DOTSX","\\relax"),Zn("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Zn("\\,","\\tmspace+{3mu}{.1667em}"),Zn("\\thinspace","\\,"),Zn("\\>","\\mskip{4mu}"),Zn("\\:","\\tmspace+{4mu}{.2222em}"),Zn("\\medspace","\\:"),Zn("\\;","\\tmspace+{5mu}{.2777em}"),Zn("\\thickspace","\\;"),Zn("\\!","\\tmspace-{3mu}{.1667em}"),Zn("\\negthinspace","\\!"),Zn("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Zn("\\negthickspace","\\tmspace-{5mu}{.277em}"),Zn("\\enspace","\\kern.5em "),Zn("\\enskip","\\hskip.5em\\relax"),Zn("\\quad","\\hskip1em\\relax"),Zn("\\qquad","\\hskip2em\\relax"),Zn("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Zn("\\tag@paren","\\tag@literal{({#1})}"),Zn("\\tag@literal",function(e){if(e.macros.get("\\df@tag"))throw new r("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Zn("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Zn("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Zn("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Zn("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Zn("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\mathrlap{\\mkern0.4mu\\raisebox{0.4mu}{$#1$}}{\\mkern0.8mu#1}}}{\\mathbf{#1}}"),Zn("\\\\","\\newline"),Zn("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var oi=N["Main-Regular"]["T".charCodeAt(0)][1]-.7*N["Main-Regular"]["A".charCodeAt(0)][1]+"em";Zn("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+oi+"}{\\scriptsize A}\\kern-.15em\\TeX}{LaTeX}}"),Zn("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+oi+"}{\\scriptsize A}\\kern-.15em\\TeX}{KaTeX}}"),Zn("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Zn("\\@hspace","\\hskip #1\\relax"),Zn("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Zn("\\ordinarycolon",":"),Zn("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Zn("\\dblcolon","\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}"),Zn("\\coloneqq","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}"),Zn("\\Coloneqq","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}"),Zn("\\coloneq","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}"),Zn("\\Coloneq","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}"),Zn("\\eqqcolon","\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Zn("\\Eqqcolon","\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Zn("\\eqcolon","\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Zn("\\Eqcolon","\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Zn("\\colonapprox","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}"),Zn("\\Colonapprox","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}"),Zn("\\colonsim","\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}"),Zn("\\Colonsim","\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}"),Zn("≔","\\coloneqq"),Zn("≕","\\eqqcolon"),Zn("⩴","\\Coloneqq"),Zn("\\ratio","\\vcentcolon"),Zn("\\coloncolon","\\dblcolon"),Zn("\\colonequals","\\coloneqq"),Zn("\\coloncolonequals","\\Coloneqq"),Zn("\\equalscolon","\\eqqcolon"),Zn("\\equalscoloncolon","\\Eqqcolon"),Zn("\\colonminus","\\coloneq"),Zn("\\coloncolonminus","\\Coloneq"),Zn("\\minuscolon","\\eqcolon"),Zn("\\minuscoloncolon","\\Eqcolon"),Zn("\\coloncolonapprox","\\Colonapprox"),Zn("\\coloncolonsim","\\Colonsim"),Zn("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Zn("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Zn("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Zn("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Zn("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),Zn("\\limsup","\\DOTSB\\mathop{\\operatorname{lim\\,sup}}\\limits"),Zn("\\liminf","\\DOTSB\\mathop{\\operatorname{lim\\,inf}}\\limits"),Zn("⟦","\\mathopen{[\\mkern-3.2mu[}"),Zn("⟧","\\mathclose{]\\mkern-3.2mu]}"),Zn("\\darr","\\downarrow"),Zn("\\dArr","\\Downarrow"),Zn("\\Darr","\\Downarrow"),Zn("\\lang","\\langle"),Zn("\\rang","\\rangle"),Zn("\\uarr","\\uparrow"),Zn("\\uArr","\\Uparrow"),Zn("\\Uarr","\\Uparrow"),Zn("\\N","\\mathbb{N}"),Zn("\\R","\\mathbb{R}"),Zn("\\Z","\\mathbb{Z}"),Zn("\\alef","\\aleph"),Zn("\\alefsym","\\aleph"),Zn("\\Alpha","\\mathrm{A}"),Zn("\\Beta","\\mathrm{B}"),Zn("\\bull","\\bullet"),Zn("\\Chi","\\mathrm{X}"),Zn("\\clubs","\\clubsuit"),Zn("\\cnums","\\mathbb{C}"),Zn("\\Complex","\\mathbb{C}"),Zn("\\Dagger","\\ddagger"),Zn("\\diamonds","\\diamondsuit"),Zn("\\empty","\\emptyset"),Zn("\\Epsilon","\\mathrm{E}"),Zn("\\Eta","\\mathrm{H}"),Zn("\\exist","\\exists"),Zn("\\harr","\\leftrightarrow"),Zn("\\hArr","\\Leftrightarrow"),Zn("\\Harr","\\Leftrightarrow"),Zn("\\hearts","\\heartsuit"),Zn("\\image","\\Im"),Zn("\\infin","\\infty"),Zn("\\Iota","\\mathrm{I}"),Zn("\\isin","\\in"),Zn("\\Kappa","\\mathrm{K}"),Zn("\\larr","\\leftarrow"),Zn("\\lArr","\\Leftarrow"),Zn("\\Larr","\\Leftarrow"),Zn("\\lrarr","\\leftrightarrow"),Zn("\\lrArr","\\Leftrightarrow"),Zn("\\Lrarr","\\Leftrightarrow"),Zn("\\Mu","\\mathrm{M}"),Zn("\\natnums","\\mathbb{N}"),Zn("\\Nu","\\mathrm{N}"),Zn("\\Omicron","\\mathrm{O}"),Zn("\\plusmn","\\pm"),Zn("\\rarr","\\rightarrow"),Zn("\\rArr","\\Rightarrow"),Zn("\\Rarr","\\Rightarrow"),Zn("\\real","\\Re"),Zn("\\reals","\\mathbb{R}"),Zn("\\Reals","\\mathbb{R}"),Zn("\\Rho","\\mathrm{R}"),Zn("\\sdot","\\cdot"),Zn("\\sect","\\S"),Zn("\\spades","\\spadesuit"),Zn("\\sub","\\subset"),Zn("\\sube","\\subseteq"),Zn("\\supe","\\supseteq"),Zn("\\Tau","\\mathrm{T}"),Zn("\\thetasym","\\vartheta"),Zn("\\weierp","\\wp"),Zn("\\Zeta","\\mathrm{Z}"),Zn("\\argmin","\\DOTSB\\mathop{\\operatorname{arg\\,min}}\\limits"),Zn("\\argmax","\\DOTSB\\mathop{\\operatorname{arg\\,max}}\\limits");var ai={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},ri=function(){function e(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Xn(Kn,t.macros),this.mode=n,this.stack=[]}var t=e.prototype;return t.feed=function(e){this.lexer=new Yn(e,this.settings)},t.switchMode=function(e){this.mode=e},t.beginGroup=function(){this.macros.beginGroup()},t.endGroup=function(){this.macros.endGroup()},t.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},t.popToken=function(){return this.future(),this.stack.pop()},t.pushToken=function(e){this.stack.push(e)},t.pushTokens=function(e){var t;(t=this.stack).push.apply(t,e)},t.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},t.consumeArgs=function(e){for(var t=[],n=0;n<e;++n){this.consumeSpaces();var i=this.popToken();if("{"===i.text){for(var o=[],a=1;0!==a;){var s=this.popToken();if(o.push(s),"{"===s.text)++a;else if("}"===s.text)--a;else if("EOF"===s.text)throw new r("End of input in macro argument",i)}o.pop(),o.reverse(),t[n]=o}else{if("EOF"===i.text)throw new r("End of input expecting macro argument");t[n]=[i]}}return t},t.expandOnce=function(){var e=this.popToken(),t=e.text,n=this._getExpansion(t);if(null==n)return this.pushToken(e),e;if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new r("Too many expansions: infinite loop or need to increase maxExpand setting");var i=n.tokens;if(n.numArgs)for(var o=this.consumeArgs(n.numArgs),a=(i=i.slice()).length-1;a>=0;--a){var s=i[a];if("#"===s.text){if(0===a)throw new r("Incomplete placeholder at end of macro body",s);if("#"===(s=i[--a]).text)i.splice(a+1,1);else{if(!/^[1-9]$/.test(s.text))throw new r("Not a valid argument number",s);var l;(l=i).splice.apply(l,[a,2].concat(o[+s.text-1]))}}}return this.pushTokens(i),i},t.expandAfterFuture=function(){return this.expandOnce(),this.future()},t.expandNextToken=function(){for(;;){var e=this.expandOnce();if(e instanceof o){if("\\relax"!==e.text)return this.stack.pop();this.stack.pop()}}throw new Error},t.expandMacro=function(e){if(this.macros.get(e)){var t=[],n=this.stack.length;for(this.pushToken(new o(e));this.stack.length>n;)this.expandOnce()instanceof o&&t.push(this.stack.pop());return t}},t.expandMacroAsText=function(e){var t=this.expandMacro(e);return t?t.map(function(e){return e.text}).join(""):t},t._getExpansion=function(e){var t=this.macros.get(e);if(null==t)return t;var n="function"==typeof t?t(this):t;if("string"==typeof n){var i=0;if(-1!==n.indexOf("#"))for(var o=n.replace(/##/g,"");-1!==o.indexOf("#"+(i+1));)++i;for(var a=new Yn(n,this.settings),r=[],s=a.lex();"EOF"!==s.text;)r.push(s),s=a.lex();return r.reverse(),{tokens:r,numArgs:i}}return n},t.isDefined=function(e){return this.macros.has(e)||Wn.hasOwnProperty(e)||q.math.hasOwnProperty(e)||q.text.hasOwnProperty(e)||ai.hasOwnProperty(e)},e}(),si={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"}},li={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","č":"č","ĉ":"ĉ","ċ":"ċ","ď":"ď","ḋ":"ḋ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ĺ":"ĺ","ľ":"ľ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ď":"Ď","Ḋ":"Ḋ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ĺ":"Ĺ","Ľ":"Ľ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ť":"Ť","Ṫ":"Ṫ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"},ci=function(){function e(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new ri(e,t,this.mode),this.settings=t,this.leftrightDepth=0}var t=e.prototype;return t.expect=function(e,t){if(void 0===t&&(t=!0),this.nextToken.text!==e)throw new r("Expected '"+e+"', got '"+this.nextToken.text+"'",this.nextToken);t&&this.consume()},t.consume=function(){this.nextToken=this.gullet.expandNextToken()},t.switchMode=function(e){this.mode=e,this.gullet.switchMode(e)},t.parse=function(){this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor"),this.consume();var e=this.parseExpression(!1);return this.expect("EOF",!1),this.gullet.endGroup(),e},t.parseExpression=function(t,n){for(var i=[];;){"math"===this.mode&&this.consumeSpaces();var o=this.nextToken;if(-1!==e.endOfExpression.indexOf(o.text))break;if(n&&o.text===n)break;if(t&&Wn[o.text]&&Wn[o.text].infix)break;var a=this.parseAtom(n);if(!a)break;i.push(a)}return"text"===this.mode&&this.formLigatures(i),this.handleInfixNodes(i)},t.handleInfixNodes=function(e){for(var t,n=-1,i=0;i<e.length;i++){var o=ze(e[i],"infix");if(o){if(-1!==n)throw new r("only one infix operator per group",o.token);n=i,t=o.replaceWith}}if(-1!==n&&t){var a,s,l=e.slice(0,n),c=e.slice(n+1);return a=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},s=1===c.length&&"ordgroup"===c[0].type?c[0]:{type:"ordgroup",mode:this.mode,body:c},["\\\\abovefrac"===t?this.callFunction(t,[a,e[n],s],[]):this.callFunction(t,[a,s],[])]}return e},t.handleSupSubscript=function(t){var n=this.nextToken,i=n.text;this.consume(),this.consumeSpaces();var o=this.parseGroup(t,!1,e.SUPSUB_GREEDINESS);if(!o)throw new r("Expected group after '"+i+"'",n);return o},t.handleUnsupportedCmd=function(){for(var e=this.nextToken.text,t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:t},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return this.consume(),o},t.parseAtom=function(e){var t,n,i=this.parseGroup("atom",!1,null,e);if("text"===this.mode)return i;for(;;){this.consumeSpaces();var o=this.nextToken;if("\\limits"===o.text||"\\nolimits"===o.text){var a=ze(i,"op");if(!a)throw new r("Limit controls must follow a math operator",o);var s="\\limits"===o.text;a.limits=s,a.alwaysHandleSupSub=!0,this.consume()}else if("^"===o.text){if(t)throw new r("Double superscript",o);t=this.handleSupSubscript("superscript")}else if("_"===o.text){if(n)throw new r("Double subscript",o);n=this.handleSupSubscript("subscript")}else{if("'"!==o.text)break;if(t)throw new r("Double superscript",o);var l={type:"textord",mode:this.mode,text:"\\prime"},c=[l];for(this.consume();"'"===this.nextToken.text;)c.push(l),this.consume();"^"===this.nextToken.text&&c.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:c}}}return t||n?{type:"supsub",mode:this.mode,base:i,sup:t,sub:n}:i},t.parseFunction=function(e,t,n){var i=this.nextToken,o=i.text,a=Wn[o];if(!a)return null;if(null!=n&&a.greediness<=n)throw new r("Got function '"+o+"' with no arguments"+(t?" as "+t:""),i);if("text"===this.mode&&!a.allowedInText)throw new r("Can't use function '"+o+"' in text mode",i);if("math"===this.mode&&!1===a.allowedInMath)throw new r("Can't use function '"+o+"' in math mode",i);if(a.argTypes&&"url"===a.argTypes[0]&&this.gullet.lexer.setCatcode("%",13),a.consumeMode){var s=this.mode;this.switchMode(a.consumeMode),this.consume(),this.switchMode(s)}else this.consume();var l=this.parseArguments(o,a),c=l.args,d=l.optArgs;return this.callFunction(o,c,d,i,e)},t.callFunction=function(e,t,n,i,o){var a={funcName:e,parser:this,token:i,breakOnTokenText:o},s=Wn[e];if(s&&s.handler)return s.handler(a,t,n);throw new r("No function handler for "+e)},t.parseArguments=function(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var i=t.greediness,o=[],a=[],s=0;s<n;s++){var l=t.argTypes&&t.argTypes[s],c=s<t.numOptionalArgs;s>0&&!c&&this.consumeSpaces(),0!==s||c||"math"!==this.mode||this.consumeSpaces();var d=this.nextToken,u=this.parseGroupOfType("argument to '"+e+"'",l,c,i);if(!u){if(c){a.push(null);continue}throw new r("Expected group after '"+e+"'",d)}(c?a:o).push(u)}return{args:o,optArgs:a}},t.parseGroupOfType=function(e,t,n,i){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseGroup(e,n,i,void 0,t);case"raw":if(n&&"{"===this.nextToken.text)return null;var o=this.parseStringGroup("raw",n,!0);if(o)return{type:"raw",mode:"text",string:o.text};throw new r("Expected raw group",this.nextToken);case"original":case null:case void 0:return this.parseGroup(e,n,i);default:throw new r("Unknown group type as "+e,this.nextToken)}},t.consumeSpaces=function(){for(;" "===this.nextToken.text;)this.consume()},t.parseStringGroup=function(e,t,n){var i=t?"[":"{",o=t?"]":"}",a=this.nextToken;if(a.text!==i){if(t)return null;if(n&&"EOF"!==a.text&&/[^{}[\]]/.test(a.text))return this.gullet.lexer.setCatcode("%",14),this.consume(),a}var s=this.mode;this.mode="text",this.expect(i);for(var l="",c=this.nextToken,d=0,u=c;n&&d>0||this.nextToken.text!==o;){switch(this.nextToken.text){case"EOF":throw new r("Unexpected end of input in "+e,c.range(u,l));case i:d++;break;case o:d--}l+=(u=this.nextToken).text,this.consume()}return this.mode=s,this.gullet.lexer.setCatcode("%",14),this.expect(o),c.range(u,l)},t.parseRegexGroup=function(e,t){var n=this.mode;this.mode="text";for(var i=this.nextToken,o=i,a="";"EOF"!==this.nextToken.text&&e.test(a+this.nextToken.text);)a+=(o=this.nextToken).text,this.consume();if(""===a)throw new r("Invalid "+t+": '"+i.text+"'",i);return this.mode=n,i.range(o,a)},t.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(!t)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new r("Invalid color: '"+t.text+"'",t);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}},t.parseSizeGroup=function(e){var t,n=!1;if(!(t=e||"{"===this.nextToken.text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new r("Invalid size: '"+t.text+"'",t);var o,a={number:+(i[1]+i[2]),unit:i[3]};if("string"!=typeof(o=a)&&(o=o.unit),!(o in _e||o in Ce||"ex"===o))throw new r("Invalid unit: '"+a.unit+"'",t);return{type:"size",mode:this.mode,value:a,isBlank:n}},t.parseUrlGroup=function(e){var t=this.parseStringGroup("url",e,!0);if(!t)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1"),i=/^\s*([^\\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(n);i=null!=i?i[1]:"_relative";var o=this.settings.allowedProtocols;if(!u.contains(o,"*")&&!u.contains(o,i))throw new r("Forbidden protocol '"+i+"'",t);return{type:"url",mode:this.mode,url:n}},t.parseGroup=function(t,n,o,a,s){var l,c,d=this.mode,u=this.nextToken,p=u.text;if(s&&this.switchMode(s),n?"["===p:"{"===p||"\\begingroup"===p){l=e.endOfGroup[p],this.gullet.beginGroup(),this.consume();var h=this.parseExpression(!1,l),m=this.nextToken;this.gullet.endGroup(),c={type:"ordgroup",mode:this.mode,loc:i.range(u,m),body:h,semisimple:"\\begingroup"===p||void 0}}else if(n)c=null;else if(null==(c=this.parseFunction(a,t,o)||this.parseSymbol())&&"\\"===p[0]&&!ai.hasOwnProperty(p)){if(this.settings.throwOnError)throw new r("Undefined control sequence: "+p,u);c=this.handleUnsupportedCmd()}return s&&this.switchMode(d),l&&this.expect(l),c},t.formLigatures=function(e){for(var t=e.length-1,n=0;n<t;++n){var o=e[n],a=o.text;"-"===a&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:i.range(o,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:i.range(o,e[n+1]),text:"--"}),t-=1)),"'"!==a&&"`"!==a||e[n+1].text!==a||(e.splice(n,2,{type:"textord",mode:"text",loc:i.range(o,e[n+1]),text:a+a}),t-=1)}},t.parseSymbol=function(){var e=this.nextToken,t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),o="*"===n.charAt(0);if(o&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new r("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:o}}li.hasOwnProperty(t[0])&&!q[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=li[t[0]]+t.substr(1));var a,s=qn.exec(t);if(s&&("i"===(t=t.substring(0,s.index))?t="ı":"j"===t&&(t="ȷ")),q[this.mode][t]){this.settings.strict&&"math"===this.mode&&"ÇÐÞçþ".indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l,c=q[this.mode][t].group,d=i.range(e);if(H.hasOwnProperty(c)){var u=c;l={type:"atom",mode:this.mode,family:u,loc:d,text:t}}else l={type:c,mode:this.mode,loc:d,text:t};a=l}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(C(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),a={type:"textord",mode:this.mode,loc:i.range(e),text:t}}if(this.consume(),s)for(var p=0;p<s[0].length;p++){var h=s[0][p];if(!si[h])throw new r("Unknown accent ' "+h+"'",e);var m=si[h][this.mode];if(!m)throw new r("Accent "+h+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:i.range(e),label:m,isStretchy:!1,isShifty:!0,base:a}}return a},e}();ci.endOfExpression=["}","\\endgroup","\\end","\\right","&"],ci.endOfGroup={"[":"]","{":"}","\\begingroup":"\\endgroup"},ci.SUPSUB_GREEDINESS=1;var di=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new ci(e,t);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new r("\\tag works only in display equations");n.gullet.feed("\\df@tag"),i=[{type:"tag",mode:"text",body:i,tag:n.parse()}]}return i},ui=function(e,t,n){t.textContent="";var i=hi(e,n).toNode();t.appendChild(i)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&(ui=function(){throw new r("KaTeX doesn't work in quirks mode.")});var pi=function(e,t,n){if(n.throwOnError||!(e instanceof r))throw e;var i=$e.makeSpan(["katex-error"],[new L(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},hi=function(e,t){var n=new p(t);try{return function(e,t,n){var i=kt(n),o=function(e,t,n){var i,o=yt(e,n);i=1===o.length&&o[0]instanceof ht&&u.contains(["mrow","mtable"],o[0].type)?o[0]:new ft.MathNode("mrow",o);var a=new ft.MathNode("annotation",[new ft.TextNode(t)]);a.setAttribute("encoding","application/x-tex");var r=new ft.MathNode("semantics",[i,a]),s=new ft.MathNode("math",[r]);return $e.makeSpan(["katex-mathml"],[s])}(e,t,i),a=ut(e,i),r=$e.makeSpan(["katex"],[o,a]);return _t(r,n)}(di(e,n),e,n)}catch(t){return pi(t,e,n)}},mi={version:"0.10.1",render:ui,renderToString:function(e,t){return hi(e,t).toMarkup()},ParseError:r,__parse:function(e,t){var n=new p(t);return di(e,n)},__renderToDomTree:hi,__renderToHTMLTree:function(e,t){var n=new p(t);try{return function(e,t,n){var i=ut(e,kt(n)),o=$e.makeSpan(["katex"],[i]);return _t(o,n)}(di(e,n),0,n)}catch(t){return pi(t,e,n)}},__setFontMetrics:function(e,t){N[e]=t},__defineSymbol:V,__defineMacro:Zn,__domTree:{Span:F,Anchor:I,SymbolNode:L,SvgNode:P,PathNode:B,LineNode:$}};t.default=mi}]).default},41295:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.outlineMention=t.mention=void 0,n(61894),n(65528),n(82403),n(33809),n(6284),n(37212),n(69268),n(86837),n(84889),n(28036),n(44465);var o=i(n(32483)),a=n(72011),r=t.mention={targetId:null,showMentionBox:!1,collaUsers:[],curMention:null,type:0,chartType:{},fileType:fileType,defaultBox:!0,bindEvent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};injectExtraAsynCall("openMention")&&(this.mindMap=t.mindMap,this.mindMap.on("loadsuccess",function(){e.init($(t.el),editorGlobal.mindMap.opt.readonly)}))},mentionBox:function(e){!1!==this.defaultBox?l.renderMentionBox(e):(null==e&&(e=this.showBox()),injectExtraAsynCall("mentionBox",e))},renderMentions:function(e,t,n,i){var o=this,a=parseInt(n&&n.style&&n.style["font-size"])||"16";e.find(".mention").each(function(e,t){if(!t)return!0;var n=$(t),s=n.attr("data-id"),l=n.attr("data-name"),c="@"+l;if(1==n.data("type")){var d=n.data("charttype")||"mind",u=r.chartType&&r.chartType[d]||staticBasePath+"/images/"+d+".png";l.length>=30&&(l=l.substr(0,30)+"..."),c='<img src="'+u+'" style="width:'+a+"px;height:"+a+'px">'+l,i&&(c=l),"outline"==o.fileType&&n.addClass("noBg")}n.html(c).attr("contenteditable",!1);var p="undefined"!=typeof userObj&&userObj.userId||"undefined"!=typeof userId&&userId;(o.collaUsers.indexOf(s)>-1||s==p)&&0==n.data("type")&&n.addClass("online")})},saveMentionHtml:function(e,t,n){!n&&this.showMentionBox&&this.close();var i=[];if(e&&0==(i=e.find(".mention")).length)return t;$("body").append('<div id="html_temp" style="display:none"></div>');var o=$("#html_temp");return o.html(t),0==(i=o.find(".mention")).length||(i.each(function(e){o.find(".mention:eq("+e+")").removeAttr("contenteditable").attr("class","mention").html("")}),t=o.html(),o.remove()),t},init:function(e,t){var n,i=this;if(i.readonly=t,i.con=e,injectExtraAsynCall("getChartTypeIcon",{},function(e){if(e){for(var t in e)r.chartType[t]=e[t];var n=i.con.find(".mention[data-type=1]");0!=n.length&&n.each(function(){var e=$(this);e.find("img").attr("src",r.chartType[e.data("charttype")])})}}),i.initEvent(),!t){i.defaultBox=null===(n=injectExtraAsynCall("mentionConfig"))||void 0===n?void 0:n.defaultBox,injectExtraAsynCall("onServerApi",{apiName:"getListUsers",params:{}},function(e){e instanceof Array&&e.forEach(function(e){i.mentionStatus(e.userId,!0)})});var o=localStorage.getItem("mention_targetId");o&&(o.startsWith("comment_")?editorGlobal.config.showComment&&a.comment.Controller.posMentionTarget(o):i.posMentionTarget(o,e),localStorage.removeItem("mention_targetId")),i.fileType=fileType}},initEvent:function(){var e=this;e.con.off("click.mention").on("click.mention",".mention",function(t){if(1!=$(this).data("type"))e.getReadonly()||(e.mindMap.emit("mentionClickCb"),e.closeTool());else{var n=$(this).data("url");injectExtraAsynCall("openFileUrl",{url:n})}}),e.readonly||(e.con.off("mouseenter.mention").on("mouseenter.mention",".mention",function(){var t=$(this);t.closest(".textarea_topic").length>0||e.getReadonly()||(e.curMention=t,clearTimeout(this.toolTimer),clearTimeout(this.toolTimer_),e.toolShow=!0,e.toolTimer_=setTimeout(function(){e.renderMentionTool()},500))}).off("mouseleave.mention").on("mouseleave.mention",".mention",function(){e.toolShow&&(e.toolShow=!1,clearTimeout(e.toolTimer_),e.toolTimer=setTimeout(function(){e.toolShow||e.closeTool(),clearTimeout(e.toolTimer)},500))}),$(document).off("mousedown.mentionbox").on("mousedown.mentionbox",function(t){e.close()}),$(document).off("mousedown.mentionDia").on("mousedown.mentionDia","#po-dlg-mask, .po-dialog",function(e){e.stopPropagation()}))},mentionStatus:function(e,t){if(e){var n=$(".mention[data-id="+e+"]"),i=this.collaUsers;t?(n.addClass("online"),-1==i.indexOf(e)&&i.push(e)):(n.removeClass("online"),i.splice(i.indexOf(e),1))}},getMentionPos:function(){if(this.pos){var e=window.getSelection(),t=null==e?void 0:e.getRangeAt(0);this.focusNode=e.focusNode,this.focusOffset=t.startOffset-1,this.endOffset=t.startOffset,e.collapseToEnd(),delete this.pos}},showBox:function(e,t){var n=$("#topic-"+this.targetId)||$("#summary-"+this.targetId),i=n.length>0?n.find(".po-richtext-node-wrap"):void 0;t=t||i||$("#"+this.targetId);var o=window.getSelection(),a=(null==o?void 0:o.getRangeAt(0)).getClientRects()[0],r=this.zoom,s=parseInt(t.css("padding-left"))*r||0,l=parseInt(t.css("padding-top"))*r||0;a||(a={x:parseInt(t.offset().left)+s,y:parseInt(t.offset().top)+l});var c=parseInt(t.css("font-size"))*r||0,d=parseInt(t.css("line-height")||t.css("line-height"))*r||0,u=null==e?void 0:e.outerWidth(),p=null==e?void 0:e.outerHeight(),h=$(window).width(),m=$(window).height(),f=a.y+d,g=a.x+c-2;if(!e)return{left:g,top:f};f+p+22>m?f=(f=f-p-d)<0?8:f:f<0&&(f=8),g+u>h?g=h-u:g<0&&(g=8),e.show().css({left:g,top:f,opacity:1})},searchMention:function(){if(!this.spaceCode&&this.showMentionBox){var e=window.getSelection(),t=e.getRangeAt(0);t.setStart(e.focusNode,r.focusOffset+1),t.setEnd(e.focusNode,e.focusOffset),e.removeAllRanges(),e.addRange(t),r.endOffset=e.focusOffset;var n=e.toString().replace(/\n/g,"");e.collapseToEnd(),this.searchVal=n,this.mentionBox({searchVal:n})}},keydownEvents:function(e,t,n){var i,o,a=this,s=e.keyCode;if(a.spaceCode=!1,a.showMentionBox)return(90==s&&(e.ctrlKey||e.metaKey)||8==s)&&window.getSelection().focusOffset-1==r.focusOffset&&r.close(),32===s?(this.close(),a.spaceCode=!0,e.preventDefault(),!0):38===s||40===s||13===s||37===s||39===s?(a.spaceCode=!0,!1!==this.defaultBox?l.keydownEvents(s):injectExtraAsynCall("keydownEvents",s),e.preventDefault(),!0):void 0;(e.shiftKey&&(50==s||229==s&&("Digit2"==e.code||"Digit2"==(null===(i=e.originalEvent)||void 0===i?void 0:i.code)||"@"==e.key))||"@"==(null===(o=e.originalEvent)||void 0===o?void 0:o.data))&&(a.spaceCode=!0,a.pos=!0,a.targetId=t,a.zoom=n||1,a.showMentionBox=!0,a.mentionBox())},closeTool:function(){this.mentionTool&&this.mentionTool.remove()},renderMentionTool:function(){var e=this.curMention;this.mentionTool=$("#mention_tool"),r.closeTool();var t="",n=e.data("type");0==n&&r.filterId!=e.attr("data-id")&&(t='<div class="po-tool-button other" tit="filter" title="'.concat(o.default.t("js.Focus_on_theme"),'"><span class="po-diagraming-icons">&#xea52;</span></div>')),1==n&&(t='<div  class="po-tool-button other"  tit="open">'.concat(o.default.t("js.Open")).concat(o.default.t("js.Document"),'</div><div class="po-tool-devider" style="margin:0 4px"></div><div class="po-tool-button other" tit="copy" title="').concat(o.default.t("js.Copy_Link"),'"><span class="po-diagraming-icons">&#xe8ba;</span></div>'));var i='<div id="mention_tool">'.concat(t,'<div class="po-tool-button other" tit="delete" title="').concat(o.default.t("js.Delete"),'"><span class="po-diagraming-icons">&#xe7b7;</span></div>\n            </div>');$(i).appendTo($("body"));var a=this.mentionTool=$("#mention_tool");this.renderMentionToolInit(a),this.defaultBox||injectExtraAsynCall("mentionButton",a);var s=this.mindMap?this.mindMap.view.scale:1,l=e.offset().top-44,c=e.offset().left-(a.outerWidth()-e.outerWidth()*s)/2;e.height()>2*parseInt(e.css("font-size"))&&(l=e.offset().top+e.outerHeight()*s,c=e.offset().left),a.css({top:l,left:c})},renderMentionToolInit:function(e){var t=this,n=this.curMention,i=null;e.unbind("mouseenter mouseleave").hover(function(){t.toolShow=!0,clearTimeout(i),clearTimeout(t.toolTimer),clearTimeout(t.toolTimer_)},function(){i=setTimeout(function(){t.toolShow||t.closeTool(),clearTimeout(i)},100),t.toolShow=!1}),e.off("mousedown").on("mousedown","div",function(e){switch($(this).attr("tit")){case"filter":t.focusFilter(n);break;case"open":var i=n.data("url");injectExtraAsynCall("openFileUrl",{url:i});break;case"copy":var o=n.data("url"),a=document.createElement("input");a.setAttribute("value",o),document.body.appendChild(a),a.select(),document.execCommand("copy",!1),document.body.removeChild(a);break;case"delete":t.deleteMention(n)}r.closeTool(),$(".po-hover-tip").remove(),e.stopPropagation()})},saveSelection:function(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return r.range=e.getRangeAt(0),e.getRangeAt(0)}return null},restoreSelection:function(e){if(e&&window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}},selectSubmit:function(e,t){r.close();var n=e.length;if(0!=n){this.restoreSelection(r.range);var i=this,o=[],a=window.getSelection(),s=a.getRangeAt(0);s.setStart(a.focusNode,r.focusOffset),s.setEnd(a.focusNode,s.endOffset);var c,d=s.cloneRange();a.removeAllRanges(),"outline"==r.fileType&&s.deleteContents();for(var u=0;u<n;u++){var p=e[u].text,h=e[u].uid,m=e[u].type,f="";i.collaUsers.indexOf(h)>-1&&(f="online");var g="@"+p,v="",b=$("#"+r.targetId);if(1==m){var y=e[u].chartType||"mind";v=' data-url="'.concat(e[u].url,'" data-charttype="').concat(y,'"');var x=r.chartType&&r.chartType[y]||staticBasePath+"/images/"+y+".png",w=p;p.length>=30&&(w=p.substr(0,30)+"...");var k=b.css("font-size")||"16px";g='<img src="'.concat(x,'" style="width:').concat(k,";height:").concat(k,'">').concat(w)}if("mind"==r.fileType||"flow"==r.fileType)a.addRange(d),a.getRangeAt(0),document.execCommand("insertHTML",!1,'<span class="mention '+f+'" data-id="'+h+'"'+v+' data-name="'+r.htmlEncode(p)+'" data-type="'+m+'">'+g+"</span><span>&nbsp;</span>"),$(s.startContainer).closest("[contentEditable]").find(".mention").attr("contentEditable",!1);else{var _=document.createElement("span"),C=document.createElement("span");_.className="mention noBg",_.innerHTML=g,_.dataset.id=h,_.dataset.name=p,_.dataset.type=m,1==m&&(_.dataset.url=e[u].url,_.dataset.charttype=e[u].chartType||"mind"),_.contentEditable=!1,C.innerHTML="&nbsp;";var T=void 0,S=void 0,M=document.createDocumentFragment();for(M.appendChild(_);T=C.firstChild;)S=M.appendChild(T);s.insertNode(M),a.extend(S,1)}a.collapseToEnd(),1!=m&&o.push(h)}i.targetId.startsWith("comment_")||i.sendNotice({targetId:i.targetId,id:o,remind:l.remind,pageId:null===(c=editorGlobal.poPagination)||void 0===c?void 0:c.pageId}),t||i.submitCb(),editorGlobal.mindMap.emit("addMention")}},submitCb:function(e){if("mind"==this.fileType){var t=$(".area_box > div"),n=editorGlobal.mindMap.renderer.getCacheTopic(r.targetId),i=t.html();editorGlobal.mindMap.execCommand("UPDATE_TOPIC_TEXT",n,i)}},sendNotice:function(e){var t,n=this;0!=(null===(t=e.id)||void 0===t?void 0:t.length)&&injectExtraAsynCall("mentionNotice",e,function(t){e.id.forEach(function(e){n.mentionStatus(e,t),$(".textarea_topic .mention[data-id="+e+"]").addClass("online")})})},htmlEncode:function(e){return 0==e.length?"":e=(e=(e=(e=(e=(e=e.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\'/g,"&#39;")).replace(/\"/g,"&quot;")).replace(/\u2029/g,"\n").replace(/\u2028/g,"\n")).replace(/\x0a/g,"\n").replace(/\x0d/g,"")},deleteMention:function(e){"outline"==this.fileType?s.deleteMention(e):this.mindMap.emit("deleteMention",e)},close:function(){this.showMentionBox&&(this.showMentionBox=!1,this.searchVal=null,this.mentionBox("close"))},exitFilter:function(){delete this.filterId,delete this.filterName,"outline"==this.fileType&&s.exitFilter(),$("#mention_tool, .po-hover-tip").remove()},focusFilter:function(e){var t=e.attr("data-id");this.filterId!=t&&(this.filterId=t,this.filterName=e.attr("data-name"),$("#mention_tool, .po-hover-tip").remove(),"outline"==this.fileType?s.focusFilter(e):this.mindMap.emit("focusFilter",this.filterId,this.filterName))},posMentionTarget:function(e,t){this.mindMap.emit("posMentionTarget",e,t)},getReadonly:function(){return"outline"==this.fileType?s.getReadonly():"flow"==this.fileType?Designer.readonly:editorGlobal.mindMap.opt.readonly}},s=t.outlineMention={deleteMention:function(e){var t=e.closest(".node-title").get(0);e.remove();var n=new Event("input");t.dispatchEvent(n)},getReadonly:function(){return outlineObj.opts.readonly},focusFilter:function(e){var t=e.clone();t.find("span.equation-text").remove();var n=t.html();$("#outline_search_input").focus().val(n),outlineObj.controller.searchNode.filtrateNodes(n),$(".search-replace-box").show(),$(".input-clear").show(),$(".onaNext").show(),$(".highlightTextarea mark").eq(0).addClass("active-mark"),outlineObj.controller.searchNode.currentNodeId=$($(".highlightTextarea mark")[outlineObj.controller.searchNode.currentOne]).parents(".node-element").eq(0).attr("id"),$(".outline-resTotal").text($(".highlightTextarea mark").length),$(".outline-current").text("1")},exitFilter:function(){$(".search-replace-box .close").trigger("mousedown.del")}},l={type:0,remind:localStorage.getItem("remind")||!0,renderMentionBox:function(e){if(this.searchVal=null==e?void 0:e.searchVal,null==this.searchVal)if("close"!=e){if(!this.mentionBox){var t,n="";!1!==(null===(t=injectExtraAsynCall("mentionConfig"))||void 0===t?void 0:t.mentionDoc)&&(n='<div class="mention-tab">\n                  <span class="active">'.concat(o.default.t("js.All"),"</span>\n                  <span>").concat(o.default.t("js.Contacts"),"</span>\n                  <span>").concat(o.default.t("js.Document"),"</span>\n              </div>"));var i='<div id="mention_box" class="mention-box">'.concat(n,'\n               <ul class="mention-list">\n               </ul>\n               <div class="mention-loading"> <div class="loader"></div> </div>\n               <div class="mention-empty" style="display: none">\n                   <img src="').concat(staticBasePath,'/images/search-empty.png">\n                   ').concat(o.default.t("js.No_relevant_content_found"),'\n               </div>\n               <div class="mention-bottom">\n                   <div class="mention-tip">\n                       <input type="checkbox" checked>\n                       ').concat(o.default.t("js.Remind_each_other"),'\n                       <span class="po-diagraming-icons" title="').concat(o.default.t("js.Will_be_granted_edit_permission"),'">&#xe6c7;</span>\n                   </div>\n                   <div class="address-sel-btn">').concat(o.default.t("js.Select_from_address_Book"),'</div>\n                   <div class="space-sel-btn">').concat(o.default.t("js.Select_file_from_my_space"),"</div>\n               </div>\n           </div>");$("body").append(i),this.mentionBox=$("#mention_box"),this.mentionList=this.mentionBox.find(".mention-list"),"false"==this.remind&&(this.remind=!1),$(".mention-tip input").prop("checked",this.remind),this.boxEvents()}$(".mention-tab span:eq(0)").addClass("active").siblings().removeClass("active"),r.showBox(this.mentionBox),$(".mention-tip").show(),$(".space-sel-btn,.address-sel-btn").hide(),this.type=0,this.renderMentionList()}else this.closeMentionBox();else this.renderMentionList()},boxEvents:function(){var e=this;e.mentionBox.find(".mention-tab span").off().on("click",function(){var t=$(this),n=t.index();t.hasClass("active")||(t.addClass("active").siblings().removeClass("active"),e.type=n,$(".mention-tip").show(),$(".space-sel-btn, .address-sel-btn").hide(),1==n?$(".address-sel-btn").show():2==n&&($(".mention-tip").hide(),$(".space-sel-btn").show()),e.renderMentionList())}),e.mentionList.off("mousedown").on("mousedown","li",function(e){e.stopPropagation(),e.preventDefault();var t=$(this),n=t.attr("type"),i=[{text:t.find(".name").html(),uid:t.attr("id"),type:n}];1==n&&(i[0].chartType=t.attr("chartType"),i[0].url=t.attr("url")),r.selectSubmit(i,!0)}),e.mentionList.off("scroll").scroll(function(){if(1!=e.totalPage){var t=$(this),n=t.find("li");t.scrollTop()>=54*n.length-250&&e.loaded&&(e.page++,e.renderMentionList(!0))}}),$(".mention-tip input").change(function(){$(this).is(":checked")?e.remind=!0:e.remind=!1,localStorage.setItem("remind",e.remind)}),e.mentionBox.off("mousedown").on("mousedown",function(e){e.preventDefault(),e.stopPropagation()})},renderMentionList:function(e){var t=this;e||(t.page=1,t.mentionList.html("").scrollTop(0),$(".mention-loading").show(),$(".mention-empty").hide()),t.loaded=!1,injectExtraAsynCall("onServerApi",{apiName:"getListData",params:{target:t.mentionBox,type:t.type,page:t.page,searchVal:t.searchVal}},function(n){if($(".mention-loading").hide(),t.totalPage=n.totalPage,null!=(n=n&&n.data)){if(t.loaded=!0,0==n.length||!Array.isArray(n))return e||($(".mention-empty").show(),t.mentionList.hide().html("")),void t.mentionList.off("scroll");$(".mention-empty").hide(),t.mentionList.show();for(var i="",a="",r=0;r<n.length;r++){var s="";(a=n[r]).isOutUser&&(s='<span class="lab">'.concat(o.default.t("js.Outside"),"</span>"));var l=a.type||0,c=a.uid,d="";1==l&&(d='url="'.concat(a.url,'" chartType="').concat(a.chartType,'"')),i+='<li id="'.concat(c,'" type="').concat(l,'" ').concat(d,'>\n                <img src="').concat(a.icon,'">\n                <div>\n                    <span class="name">').concat(a.name,"</span>").concat(s,'\n                    <span class="call">').concat(a.phone||a.email||a.time,"</span>\n                </div>\n                </li>")}e?t.mentionList.append(i):t.mentionList.html(i).find("li:eq(0)").addClass("on")}})},keydownEvents:function(e){if(38===e||40===e){var t=this.mentionList.find("li.on").removeClass("on").index(),n=this.mentionList.find("li").length;40===e?t++:t--,t>=n?t=n-1:t<0&&(t=0);var i=this.mentionList.find("li:eq("+t+")");i.get(0)&&(i.addClass("on"),i.get(0).scrollIntoView({block:"end"}))}else if(13===e){var o=this.mentionList.find("li.on");o.length>0&&o.trigger("mousedown")}else if(37===e||39===e){var a=$(".mention-tab").find(".active").index();39===e?a++:a--,a>=3?a=2:a<0&&(a=0),$(".mention-tab").find("span:eq("+a+")").trigger("click")}},closeMentionBox:function(){this.mentionBox&&this.mentionBox.hide()}}},7031:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.ocrTranslate=void 0,n(82403),n(12638),n(47958),n(69268),n(84889),n(3513);var o=n(56683),a=n(28181),r=i(n(32483)),s=n(47306),l=n(83316),c=t.ocrTranslate={ocrObj:{image:"",ocrRes:"",fileType:"",cancel:!1,insertId:""},renderOCRPanel:function(e){var t='\n\t\t<div class="mind-ocr-dlg po-dialog" style="height: 582px;  width: 726px;  position: fixed; top: 50%; left: 50%; margin-top: -252px; margin-left: -385px; transform: translate(0px, 0px);">\n\t\t\t<div class="layout-aigc-title title flow">\n\t\t\t'.concat(r.default.t("js.Picture_to_text"),' <div class="po-tool-devider"></div> <img src="').concat(staticBasePath,'/images/ai-logo.svg?v=1" style="width: 22px;  margin-right: 5px;">\n\t\t\t').concat(r.default.t("js.AI_Assistant"),'\n\t\t\t\t<div id="ocr-close" class=\' po-diagraming-icons\'>&#xe6b9;</div>\n\t\t\t</div>\t\n\t\t\t<div class="mind-dlg-content" style="display: block;">\n\t\t\t\t<div id="ocr-upload-con" class="po-upload">\n\t\t\t\t\t<form id="upload_ocr_img" action="" method="post" enctype="multipart/form-data">\n\t\t\t\t\t\t<span class="ocr-img-con">\n\t\t\t\t\t\t<div class="upload-contents">\n\t\t\t\t\t\t\t<div class="drop-img"><img src="').concat(staticBasePath,'/assets/images/import_file.png" alt=""></div>\n\t\t\t\t\t\t\t<div class="drop-text"><span>').concat(r.default.t("js.Just_drag_in_the_image_and_upload_it"),'</span></div>\n\t\t\t\t\t\t\t<div class="drop-tips"><span>').concat(r.default.t("js.The_size_of_the_picture_should_not_exceed_2M"),'</span></div>\n\t\t\t\t\t\t\t<div class="btn-wrap">\n\t\t\t\t\t\t\t\t<div id="import_btn" class="po-button primary">').concat(r.default.t("js.Add_File"),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t<input type="file" name="image" id="ocr_upload_img_file">\n\t\t\t\t\t\t<input type="hidden" name="isSaveAs" value="true">\n\t\t\t\t\t\t<input type="hidden" name="type" value="mind">\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div id="ocr-con">\n\t\t\t\t\t<div id="ocr-left" class="ocr-left">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ocr-right">\n\t\t\t\t\t\t<div class="title">').concat(r.default.t("js.Extract_results"),' <span class="ocr-restore"><span style="margin-right:4px" class="po-diagraming-icons">&#xe766;</span>').concat(r.default.t("js.Restore_on"),'</span></div>\n\t\t\t\t\t\t<div class="ocr-res-con">\n\t\t\t\t\t\t\t<div id="ocr-text-begin" class="ocr-res">\n\t\t\t\t\t\t\t\t<div class="po-button primary ocr-begin">').concat(r.default.t("js.Start_extraction"),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id="ocr-text-loading" class="ocr-res">\n\t\t\t\t\t\t\t\t<div><img  src="').concat(staticBasePath,'/images/ai-loading.png" alt=""> ').concat(r.default.t("js.Text_extraction"),' <span class="po-cancel">').concat(r.default.t("js.Cancel"),'</span></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<textarea id="ocr-text-success"  class="ocr-res"></textarea>\n\t\n\t\t\t\t\t\t\t<div id="ocr-text-error" class="ocr-res">\n\t\t\t\t\t\t\t\t<div class="drop-img"><img src="').concat(staticBasePath,'/assets/images/file_notfind.svg" alt=""></div>\n\t\t\t\t\t\t\t\t<div>').concat(r.default.t("js.No_text_content_detected_in_the_current_image"),'</div>\n\t\t\t\t\t\t\t\t<div class="po-button primary ocr-begin">').concat(r.default.t("js.reextract"),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="po-buttons customise-buttons">\n\t\t\t\t\t\t\t<div id="btn-ocr-insert" class="po-button" style="margin-right:12px;">').concat(r.default.t("js.quick_Insert"),'</div>\n\t\t\t\t\t\t\t<div id="btn-ocr-copy" class="po-button primary">').concat(r.default.t("js.Copy"),"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>");$(t).appendTo("body"),this.OCRbindEvent(e)},OCRbindEvent:function(e){var t=this;$("#ocr_upload_img_file").off("change").on("change",function(e){var n=$(this),i=this.files[0],o=i.type;if(t.ocrObj.fileType=o.substr(6),""!=$.trim(n.val()))if(o.indexOf("image")>=0){if(!/image\/\w+/.test(o))return $.toast({type:"error",text:r.default.t("js.You_can_upload_image_files"),target:$(".mind-ocr-dlg")}),n.val(""),!1;if(i.size>2097152)return $.toast({type:"error",text:r.default.t("js._The_picture_size_should_not_exceed_2M"),target:$(".mind-ocr-dlg")}),n.val(""),!1;$.loading({text:r.default.t("js.Uploading_now")});var s=new FileReader;s.readAsDataURL(i),s.onload=function(){$.loading("close");var e=s.result;c.ocrObj.ocrRes="",$(".ocr-res").hide(),$("#ocr-text-begin").show(),$(".mind-ocr-dlg .customise-buttons").button("disable"),$(".mind-ocr-dlg .ocr-restore").button("disable"),$("#ocr-con").show(),$("#ocr-upload-con").hide(),t.ocrObj.image=e,a.previewImage.renderPreviewToClient("ocr-left",e,function(){},t.OCRInitialize)}}else $.toast({type:"error",text:r.default.t("js.Unsupported_file_format"),target:$(".mind-ocr-dlg")}),n.val("")}),$(".ocr-begin").off().on("click",function(e){injectExtraAsynCall("onServerApi",{apiName:"getAIUseInfo"},function(e){if("error"!=e.result){t.ocrObj.cancel=!1,$("#ocr-text-begin").hide(),$("#ocr-text-loading").show();var n=(new Date).getTime();a.previewImage.data.base64&&(t.ocrObj.image=a.previewImage.data.base64);var i={timestamp:n,fileType:t.ocrObj.fileType,imgBase64:t.ocrObj.image};injectExtraAsynCall("onServerApi",{apiName:"onOcr",params:i},function(e){if("error"==e.result)return $("#ocr-text-loading").hide(),$("#ocr-text-begin").show(),void $.toast({type:"error",text:e.data.msg,target:$(".mind-ocr-dlg")});var n=e.data;t.ocrObj.cancel||($("#ocr-text-loading").hide(),t.OCRRes(n))})}else $.toast({type:"error",text:e.data.msg,target:$(".mind-ocr-dlg")})})}),$("#ocr-text-loading .po-cancel").off().on("click",function(e){t.ocrObj.cancel=!0,$("#ocr-text-begin").show(),$("#ocr-text-loading").hide()}),$(".mind-ocr-dlg #ocr-text-success").off().on("input",function(e){""===$(this).val().trim()?$(".mind-ocr-dlg .customise-buttons").button("disable"):$(".mind-ocr-dlg .customise-buttons").button("enable"),$(".mind-ocr-dlg .ocr-restore").button("enable")}),$(".mind-ocr-dlg .ocr-restore").off().on("click",function(e){s.Util.confirm({content:r.default.t("js.All_edited_content_will_be_cleared_after_restoration"),onConfirm:function(){$("#ocr-text-success").val(t.ocrObj.ocrRes),$(".mind-ocr-dlg .ocr-restore").button("disable")}})}),$("#btn-ocr-insert").off().on("click",function(n){(0,l.$poCollect)("ai_draw_function",{fnType:"阅读助手",triggerPos:"图片工具栏-提取文字弹框-插入",AIPower:"阅读总结-图片"});var i=$("#ocr-text-success").val();if("mind"==e){var a=editorGlobal.mindMap.renderer.getSelectedTopic(),s=a?a.id:"root",c=(0,o.createId)();t.ocrObj.insertId&&(s=t.ocrObj.insertId);var d={id:c,parent:s,children:[],title:i},u=editorGlobal.mindMap.renderer.getTopicById(d.parent),p=u.children&&u.children.length||0,h=x({},d.id,p);editorGlobal.mindMap.execCommand("ADD_TOPIC_MULTI",[d],null,h,!0)}else if("flow"==e){if(Schema.shapes.text||(Schema.shapes.text={id:"",name:"text",title:r.default.t("js.Text"),category:"basic",group:"",groupName:null,locked:!1,link:"",children:[],parent:"",resizeDir:["tl","tr","br","bl","l","t","r","b"],attribute:{container:!1,visible:!0,rotatable:!0,linkable:!0,collapsable:!1,collapsed:!1,fixedLink:!1,markerOffset:5},dataAttributes:[{name:r.default.t("js.Serial_number"),type:"number",value:"",category:"default"},{name:r.default.t("js.name"),type:"string",value:"",category:"default"},{name:r.default.t("js.owner"),type:"string",value:"",category:"default"},{name:r.default.t("js.join"),type:"link",value:"",category:"default"},{name:r.default.t("js.memo"),type:"string",value:"",category:"default"}],props:{x:0,y:0,w:100,h:40,zindex:0,angle:0},shapeStyle:{alpha:1},lineStyle:{},fillStyle:{},theme:{},path:[{lineStyle:{lineWidth:0},fillStyle:{type:"none"},actions:[{action:"move",x:"0",y:"0"},{action:"line",x:"w",y:"0"},{action:"line",x:"w",y:"h"},{action:"line",x:"0",y:"h"},{action:"close"}]}],fontStyle:{},textBlock:[{position:{x:0,y:0,w:"w",h:"h"},text:r.default.t("js.Text")}],anchors:[{x:"w/2",y:"0"},{x:"w/2",y:"h"},{x:"0",y:"h/2"},{x:"w",y:"h/2"}]}),0===Object.keys(Model.define.elements).length)var m={x:10,y:10,w:10,h:10};else m=Utils.getControlBox(Object.keys(Model.define.elements));var f=Utils.newId(),g=AIDraw.controller.xxflowNormal.createShape("text",m.x,m.y+m.h+100,i,f);g.textBlock.forEach(function(e){e.text=i}),Utils.autoTextHeight(g,i,300,void 0,!1),Schema.initShapeFunctions(g),Designer.painter.renderShape(g),Model.add(g,!0);var v=Utils.getControlBox([f]);Designer.op.changeCanvas(v),Utils.selectShape([f]);var b=$(".po-flow-layout").width(),y=$("#designer_viewport").offset().top,w=$("#designer_canvas"),k=$("#designer_layout"),_={x:w.offset().left,y:w.offset().top},C={x:k.scrollLeft(),y:k.scrollTop()},T=C.x+_.x-b-150+g.props.x.toScale(),S=C.y+_.y-y-250+g.props.y.toScale();k.scrollLeft(T),k.scrollTop(S)}else{var M=outlineObj.model,D=outlineObj.util,E=outlineObj.controller,A=outlineObj.model.focusInfo.state?outlineObj.model.focusInfo.state.id:"root";t.ocrObj.insertId&&(A=t.ocrObj.insertId);var F={id:f=D.newId(),parent:A,children:[],title:i},I={},O={},L=M.getNodeById(A);I[F.id]=L.children.length,O[F.id]="right",E.addMultNodes(D.copyArray([F]),I,O,!0),outlineObj.util.selectNodeByIds([f]),document.getElementById(f).scrollIntoView({behavior:"smooth",block:"start"})}$.toast({text:r.default.t("js.Text_content_has_been_inserted_into_canvas")}),$(".mind-ocr-dlg").dialog("close")}),$("#btn-ocr-copy").off().on("click",function(e){(0,l.$poCollect)("ai_draw_function",{fnType:"阅读助手",triggerPos:"图片工具栏-提取文字弹框-复制",AIPower:"阅读总结-图片"});var t=document.createElement("textarea"),n=document.getElementById("ocr-text-success");t.value=n.value,document.body.appendChild(t),t.select();try{document.execCommand("copy"),$.toast({type:"success",text:r.default.t("js.Copy_success"),target:$(".mind-ocr-dlg")})}catch(e){$.toast({type:"error",text:r.default.t("js.Copy_error"),target:$(".mind-ocr-dlg")})}document.body.removeChild(t),$(".mind-ocr-dlg .ocr-restore").button("disable")})},OCRRes:function(e){var t="",n="";if(e&&e.length){$("#ocr-text-success").show(),$(".mind-ocr-dlg .customise-buttons").button("enable"),n=e[0].text,t=e[0].box[0][1];for(var i=1;i<e.length;i++)Math.abs(t-e[i].box[0][1])<=5?n+=" "+e[i].text:(t=e[i].box[0][1],n+="\n"+e[i].text);this.ocrObj.ocrRes=n,$("#ocr-text-success").val(this.ocrObj.ocrRes)}else $("#ocr-text-error").show()},OCRInitialize:function(e){c.ocrObj.image="",c.ocrObj.fileType="",c.ocrObj.cancel=!1,document.getElementById("ocr_upload_img_file").value="",$(".mind-ocr-dlg #ocr-close").off().on("click",function(){c.ocrObj.ocrRes?s.Util.confirm({content:r.default.t("js.Do_you_want_to_discard_recognition_results"),onConfirm:function(){$(".mind-ocr-dlg ").dialog("close")}}):$(".mind-ocr-dlg ").dialog("close")}),e?(c.ocrObj.ocrRes="",$(".mind-ocr-dlg .customise-buttons").button("disable"),$(".mind-ocr-dlg .ocr-restore").button("disable"),$(".ocr-res").hide(),$("#ocr-text-begin").show(),$("#ocr-con").hide(),$("#ocr-upload-con").show()):$("#ocr_upload_img_file").click()}}},21837:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.poMobiPagination=void 0,n(27531),n(61894),n(69642),n(5682),n(4790),n(82403),n(12638),n(38887),n(47958),n(69268),n(58500),n(86837),n(54938),n(2276);var o=i(n(32483)),a=n(59584),r=n(15240),s=n(31396),l=n(83316),c=t.poMobiPagination={data:{},list:[],pageId:"",initType:"",maxPageNum:"",loading:!1,options:"",container:"",fileType:"",iSshow:!0,build:function(){this.data={};for(var e=0;e<this.list.length;e++){var t=this.list[e];t.sort=e,this.data[t.definitionId]=t}},init:function(e,t){return this.fileType=fileType,this.list=e||[],this.build(),this.maxPageNum=30,this.pageId=t.pageId,this.options=t,editorGlobal.showPage?this.iSshow=!0:this.iSshow=!1,this},renderInit:function(e){if(this.iSshow){0==$("#page-model-con").length&&$("<div id='page-model-con' class='page-model-con'><div class='icons-con'><div class='po-diagraming-icons mind-icons'>&#xe8a9;</div></div></div>").appendTo("body"),this.build();var t=this.list;e&&this.renderListCon(),this.renderListDom(t),this.initEvent(),$(".po-page-list").bottomPopup("close")}else $("#page-model-con").hide()},renderListCon:function(){$(".page_mobi_box").length>=1&&$(".page_mobi_box").remove();var e='<div class=" page_mobi_box po-page-list po-bottom-popup" style="bottom: -1000px;"><div class="po-page-title"> '+o.default.t("js.Canvas")+'  <span class="po-page-add"> <span class="po-diagraming-icons">&#xe80e; </span></span></div><ul id="page_menu_list" ></ul><div class="po-button" id="cancel-page-list">'+o.default.t("js.Cancel")+"</div> <div>";$("#page_menu_list").remove(),$("body").append(e);var t='<div id="po-pages-del-dialog" class="po-dialog po-pages-del-dialog"><div class="po-dialog-header">'+o.default.t("js.Delete_Canvas")+'</div><div class="des">'+o.default.t("js.Not_be_restored_after_deletion")+'</div><div class="po-dialog-buttons"><div type="ok" class="po-button error">'+o.default.t("js.Sure")+'</div><div type="cancel" class="po-button">'+o.default.t("js.Cancel")+"</div></div></div>";$("#po-pages-del-dialog").remove(),$("body").append(t);var n='<div id="po-pages-rename-dlg" class="po-dialog po-pages-del-dialog"><div class="dlg-tt po-dialog-header">'+o.default.t("js.Rename_the_Canvas")+'</div><div class="input-cell"><input type="text" class="input-txt txt-input" placeholder="'+o.default.t("js.Please_enter_file_name")+'"/></div><div class="po-dialog-buttons"><div class="po-button" type="cancel">'+o.default.t("js.Cancel")+'</div><div class="po-button second" type="ok">'+o.default.t("js.Sure")+"</div></div></div>";$("#po-pages-rename-dlg").remove(),$("body").append(n)},renderListDom:function(e){for(var t=$("#page_menu_list"),n="",i=0;i<e.length;i++){var a=e[i];n+='<div class="page_tab_item '+(a.definitionId==this.pageId?"select":"")+'" data-id="'+a.definitionId+'" title-pos="top"> <p>'+a.title+'</p> <div class="po-page-menu" ><span class=" po-menu-item" data-id="'+a.definitionId+'"  data-type="rename">'+o.default.t("js.Rename")+'</span><span class=" po-menu-item" data-id="'+a.definitionId+'" data-type="del">'+o.default.t("js.Delete")+"</span></div> </div> "}t.html(n)},initEvent:function(){editorGlobal.mindMap.on("show_page-model-con",function(){$("#page-model-con").show()}),editorGlobal.mindMap.on("hide_page-model-con",function(){$("#page-model-con").hide()});var e=this,t=$(".page_mobi_box"),n=$("#page_menu_list");n.find(".page_tab_item").off("click.change").on("click.change",function(t){var n=this;if(t.stopPropagation(),!$(this).hasClass("select")){var i=$(this).data("id");c.checkYunVersion.call(this,function(){e.selectPage(i),$(".po-page-list").bottomPopup("close"),$(n).addClass("select").siblings().removeClass("select")},i)}}),n.find(".po-menu-item").off("click").on("click",function(t){t.stopPropagation(),$(".po-page-list").bottomPopup("close");var n=$(this).data("id"),i=$(this).data("type");if("del"==i){if(1==e.list.length)return void $.toast({text:o.default.t("js.The_current_canvas_is_the_last"),type:"warning"});$("#po-pages-del-dialog").dialog(),$("#po-pages-del-dialog .po-button").off("click").on("click",function(t){switch($(this).attr("type")){case"ok":e.delPage(e.data[n]),$("#po-pages-del-dialog").dialog("close");break;case"cancel":$("#po-pages-del-dialog").dialog("close")}})}else"rename"==i&&e.rename(n)}),$(".po-page-list").off("click.cancel").on("click.cancel","#cancel-page-list",function(e){e.stopPropagation(),$(".po-page-list").bottomPopup("close")}),$("#page-model-con").off("click").on("click",function(){for(var e=$(".page_tab_item"),t=0;t<e.length;t++)e[t].style.left="0px",e[t].style.paddingLeft="40px";$(".po-page-list").bottomPopup(),$("#page_menu_list .select")[0].scrollIntoView(),(0,l.$poCollect)("mind_click",{button:"multi_page_showlist",btn_pos:"right-top-area",power:"多画布"})}),"wps"==window.source&&"mind"==this.fileType&&$("#mind-ppt").css("top","108px"),e.options.isView?$(".po-page-add").hide():(e.initSwipeEvent(),t.find(".po-page-add").off("click.change").on("click.change",function(){c.checkYunVersion.call(this,function(){e.addPage()},""),(0,l.$poCollect)("mind_click",{button:"multi_page_new",btn_pos:"bottom-multi-page-panel",power:"多画布"})})),window.editorGlobalConfig.noCanvasAdd&&$(".po-page-add").remove()},addZhuGe:function(e){this.options,"mind"==this.fileType||this.fileType,editorGlobal.poPagination&&editorGlobal.poPagination.list.length},chartCategory:function(e){var t="";switch(e){case"mind_free":case"mind":t=o.default.t("Mind_Map");break;case"flow":case"designer":t=o.default.t("Flow_Chart");break;case"outline":t=o.default.t("Mind_Notes");break;case"ui":t=o.default.t("Prototype_drawing");break;case"uml":t="UML";break;case"mind_org":t=o.default.t("Organization_Chart");break;case"bpmn":t="BPMN"}return t},getPageById:function(e){for(var t=0;t<this.list.length;t++){var n=this.list[t];if(n.definitionId===e){n.sort=t;break}}return this.data[e]},initSwipeEvent:function(){var e,t,n=this;$(document).on("touchstart",".page_tab_item",function(t){e=t.originalEvent.touches[0].pageX}),$(document).on("touchend",".page_tab_item",function(i){t=i.originalEvent.changedTouches[0].pageX,e-t>30?(n.restSlide(),i.currentTarget.style.left="-150px",i.currentTarget.style.paddingLeft="190px"):(n.restSlide(),i.currentTarget.style.left="0px",i.currentTarget.style.paddingLeft="40px"),e=0,t=0})},restSlide:function(){for(var e=$(".page_tab_item"),t=0;t<e.length;t++)e[t].style.left="0px",e[t].style.paddingLeft="40px"},pageNameTest:function(e){return""==e?($.toast({text:o.default.t("js.Canvas_name_cannot_be_empty"),type:"warning"}),!1):e.length>40?($.toast({text:o.default.t("js.Canvas_name_must_not_exceed"),type:"warning"}),!1):!/[`~!@#\$%\^\&\*\+<>\?:"\{\}\\\/;'\[\]]/im.test(e)||($.toast({text:o.default.t("js.File_name_does_not_allow"),type:"warning"}),!1)},rename:function(e){$("#po-pages-rename-dlg").dialog();var t=this,n=$(".page_mobi_box").find(".page_tab_item[data-id="+e+"]").find("p").html(),i=$("#po-pages-rename-dlg input");i.val(n),$("#po-pages-rename-dlg .po-button").off("click").on("click",function(a){switch($(this).attr("type")){case"ok":var r=$.trim(i.val());t.pageNameTest(r)&&r!=n?window.publicCLB.renamePage({pageData:t.data[e],title:r},function(e){e?t.list=e:$.toast({text:o.default.t("js.The_name_must_not_be_repeated"),type:"warning"}),t.renderInit()}):$(this).siblings("span").html(n),$("#po-pages-rename-dlg").dialog("close");break;case"cancel":$("#po-pages-rename-dlg").dialog("close")}})},resetCanvasInfo:function(){"mind"==this.fileType?(editorGlobal.mindMap.execCommand("CLEAR_ALL_SELECTED_TOPIC"),editorGlobal.mindMap.emit("clearStack"),editorGlobal.mindMap.view.reset(),$(".op-con-search").css({top:"-45px"})):"outline"==this.fileType&&(outlineObj.util.unSelectAllNode(),outlineObj.server.redoList.data=[],outlineObj.server.undoList.data=[],outlineObj.events.trigger("undo",[],[]),outlineObj.events.trigger("redo",[],[]),$("#outline-con").html(""))},runderCanvas:function(){var e=C(k().mark(function e(t,n){var i,l,c;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pageId=t,"wps"==window.source){i=localStorage.getItem("page_local_wps");try{i=JSON.parse(i)||[]}catch(o){i=[]}(i=i.filter(function(e){return e.fileId!=editorGlobal.pageInfo.file_id})).push({fileId:editorGlobal.pageInfo.file_id,pageId:t}),i.length>=30&&i.pop(),localStorage.setItem("page_local_wps",JSON.stringify(i))}else localStorage.setItem("page_local_"+editorGlobal.chartId,t);return"object"!=w(n)&&(n=JSON.parse(n)),e.next=4,(0,s.testEditorVersion)(n.editorVersion,this.fileType);case 4:"boolean"==typeof(l=e.sent)&&!1===l||("mind"==this.fileType?(c=function(){if(editorGlobal.mindMap.emit("initWaterMark"),editorGlobal.isView){if(null==mind)return;var e={target:"outline-con",line:{show:!0},readonly:!0,indent:"wider",pageId:t},n=editorGlobal.mindMap.getData();Outline.init(e,n),mobiViewObj.getHandle()}},null!=n&&n.theme&&!(0,r.isJSONString)(n.theme)&&n.theme.indexOf("customise_")>=0?a.Server.getThemeById(n.theme,function(e){editorGlobal.mindMap.setFullData(n),c()}):(editorGlobal.mindMap.setFullData(n),c())):"outline"==this.fileType?window.outlineObj=new window.Outline({target:"outline-con",line:{show:!0},readOnly:this.options.isView,indent:"wider",pageId:t},n):(Designer.renderPage(JSON.stringify(n)),editorGlobal.isView&&FlowView.initEvent({def:n})));case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),checkYunVersion:function(e,t){"wps"==window.source&&editorGlobal.isView,e(t)},getCanvasName:function(){var e="";if(this.list&&this.list.length>0){var t=1,n=this.list.map(function(e){return e.title});do{t++,e=o.default.t("js.Canvas")+t}while(n.includes(e))}return e},selectPage:function(e){var t=this;t.loading||(t.loading=!0,injectExtraAsynCall("onServerApi",{apiName:"getDefById",params:{definitionId:e}},function(n){t.loading=!1,t.resetCanvasInfo(),t.runderCanvas(e,JSON.parse(n.def)),t.renderInit()}))},addPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(this.pageOverLimit())$(".po-page-add").addClass("disable");else{var n=this;if(!n.loading)if(n.loading=!0,e.canvasName=this.getCanvasName(),t)n.loading=!1,n.renderInit();else{if(!window.publicCLB)return $.toast({text:o.default.t("Wait_Collaborate_Init"),type:"warning"}),void(n.loading=!1);window.publicCLB.addPage(e,function(e,t,i){if(n.loading=!1,e){n.list=e,n.resetCanvasInfo();var o=JSON.parse(i);n.runderCanvas(t,o),n.renderInit()}})}}},delPage:function(e,t){$(".po-page-add").removeClass("disable");var n=e.definitionId,i=this.getPageById(n),a=this;function r(){if(a.list.splice(i.sort,1),n==a.pageId){if(t&&$.toast({text:o.default.t("js.Jump_to_a_new_canvas_for_you"),type:"warning"}),a.list.length==i.sort)var e=a.list[i.sort-1].definitionId;else e=a.list[i.sort].definitionId;injectExtraAsynCall("onServerApi",{apiName:"getDefById",params:{definitionId:e}},function(t){a.resetCanvasInfo();var n=JSON.parse(t.def);a.runderCanvas(e,n),a.pageId=e,a.renderInit()})}else a.renderInit()}a.loading||(a.loading=!0,t?(a.loading=!1,r()):window.publicCLB.deletePage(e,function(e){a.loading=!1,r()}))},pageOverLimit:function(){var e,t=this.list.length;if(t>=30)return $.toast({text:o.default.t("js.The_maximum_number_of_pages"),type:"warning"}),$(".po-page-add").addClass("disable"),!0;if(window.editorGlobalConfig.canvasLimitNum&&t>=window.editorGlobalConfig.canvasLimitNum)return $.toast({text:o.default.t("js.Member_Early_access_phase"),type:"warning"}),$(".po-page-add").addClass("disable"),!0;if("mind"==this.fileType&&(editorGlobal.mindMap.emit("testVip","canvasNum",function(t){e=t}),t>=e))return editorGlobal.mindMap.emit("vip-limit","canvasNum"),!0;return!1}}},42596:function(e,t,n){n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.poPagination=void 0;var o=i(n(66603));n(27531),n(61894),n(69642),n(5682),n(54183),n(4790),n(82403),n(12638),n(38887),n(13253),n(47958),n(69268),n(58500),n(86837),n(54938);var a=n(97708);n(2276);var r=n(41295),s=i(n(32483)),l=n(59584),c=n(1332),d=n(56683),u=n(83316),p=n(31396);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=t.poPagination={data:{},list:[],pageId:"",initType:"",maxPageNum:"",loading:!1,sortLoading:!1,options:"",container:"",fileType:"",iSshow:!0,build:function(){this.data={};for(var e=0;e<this.list.length;e++){var t=this.list[e];t.sort=e,this.data[t.definitionId]=t}},init:function(e,t){return this.fileType=fileType,this.list=e||[],this.build(),this.maxPageNum=30,this.pageId=t.pageId,t.config=this.permissionControl(t.config),this.options=t,editorGlobal.showPage?this.iSshow=!0:this.iSshow=!1,this},permissionControl:function(e){var t={add:!0,move:!0,rename:!0,delete:!0,rightClick:!0};return e&&e.fnLimit&&e.fnLimit.pagination?m(m({},t),e.fnLimit.pagination):t},renderInit:function(e,t){if("mind"==this.fileType){if(!this.iSshow)return void $(".page-model-con").hide()}else if("outline"==this.fileType){if(!this.iSshow)return}else{if(!this.iSshow)return void $(".page-type-two").hide();$(".po-view-controlls-bottom").css("display","flex"),$(".page-type-one").hide()}this.build();var n=this.list;t&&!$(".page_tab_menu").length&&(this.container=t,this.renderListCon(n)),this.renderListDom(n),this.initEvent(),this.pageSlither(e||"resize")},initEvent:function(){var e=this,t=this.options,n=this.container,i=n.find(".page_tab"),o=n.find(".page_tab_menu"),a=$("#page_tab_list"),r=$("#page_tab_menu_list");function s(e){var t=window.getComputedStyle(e[0]).getPropertyValue("transform").match(/matrix\(([^)]+)\)/);if(t){var n=t[1].split(", ");return{x:parseFloat(n[4]),y:parseFloat(n[5])}}return{x:0,y:0}}t.isView&&t.isEmbed&&(o=$("#embed-page-button")),o.off("click").on("click",function(){(0,u.$poCollect)("mind_click",{button:"multi_page_showlist",btn_pos:"bottom-tool",power:"多画布"}),r.dropdown({target:$(this),zindex:2,position:"left",onSelect:function(t){var n=t.data("id");f.checkYunVersion.call(this,function(){e.select(n),i.children(".select").removeClass("select"),i.children("[data-id='"+n+"']").addClass("select")},n)}}),r.children("[data-id='"+e.pageId+"']").menuitem("select")}),i.find(".page_tab_item").off("click.change").on("click.change",function(){var t=this;if(!$(this).hasClass("select")){var n=$(this).data("id");f.checkYunVersion.call(this,function(){$(t).addClass("select").siblings().removeClass("select"),e.select(n)},n)}}).off("dblclick").on("dblclick",function(){if(!t.isView&&t.config.rename){var n=$(this).data("id"),i=$(this).children("span").html();$(this).children("span").css("color","transparent"),e.rename(n,i)}}).off("contextmenu").on("contextmenu",function(n){if(!t.isView&&(n.preventDefault(),n.stopPropagation(),!n.ctrlKey&&!n.metaKey)){for(var o=$(this).data("id"),r=null,s=0;s<e.list.length;s++){var l=e.list[s];if(l.definitionId==o){r=l;break}}a.dropdown({target:$(this),zindex:2,position:"top",onSelect:function(t){switch(t.data("type")){case"del":$("#po-pages-del-dialog").attr("del_id",o).dialog();break;case"copy":e.copyPage({canvasId:e.data[o].canvasId}),e.addZhuGe("复制");break;case"rename":i.find(".page_tab_item[data-id="+o+"]").children("span").css("color","transparent"),e.rename(o,r.title)}}}),1==e.list.length?a.children("[data-type=del]").addClass("disabled"):a.children().removeClass("disabled"),t.config.add||a.children("[data-type=copy]").addClass("disabled"),window.editorGlobalConfig.noCanvasAdd&&a.children("[data-type=copy]").remove(),t.config.rename||a.children("[data-type=rename]").addClass("disabled"),t.config.delete||a.children("[data-type=del]").addClass("disabled")}}),n.find(".page_tab_opt").off("click").on("click","span",function(){switch($(this).data("type")){case"page_add":(0,u.$poCollect)("mind_click",{button:"multi_page_new",btn_pos:"bottom-tool",power:"多画布"}),f.checkYunVersion.call(this,function(){e.addPage()},"");break;case"page_slither_left":e.pageSlither("left");break;case"page_slither_right":e.pageSlither("right")}}),$("#po-pages-del-dialog .po-button").off("click").on("click",function(t){switch($(this).attr("type")){case"ok":var n=$("#po-pages-del-dialog").attr("del_id");e.delPage(e.data[n]),$("#po-pages-del-dialog").dialog("close");break;case"cancel":$("#po-pages-del-dialog").dialog("close")}});var l,c,d,p,h=null,m=$("<div>").addClass("placeholder"),g=null,v=$("#page_scrollable-list"),b=0,y=0,x=null,w=!1;function k(e){v.children(".page_tab_item").slice(e).css("left",b),v.children(".page_tab_item").slice(0,e).css("left",0)}function _(e){g||(g=setInterval(function(){var t=e/5,n=s(v).x;e>0?$(".page_tab_box").width()-s(v).x>=$("#page_scrollable-list").width()+y?C():(n-=t,i.css("transform","translate("+n+"px)")):s(v).x>=0?C():(n-=t,i.css("transform","translate("+n+"px)"))},10))}function C(){g&&(clearInterval(g),g=null)}v.length&&(v.off("wheel").on("wheel",function(e){var t=s(v).x,n=$("#page_scrollable-list").width(),o=$(".page_tab_box").width();t-=e.originalEvent.deltaY,t=Math.min(0,Math.max(-n+o,t)),i.css("transform","translate("+t+"px)")}),i.find(".page_tab_item").off("mousedown.page").on("mousedown.page",function(n){t.config.move&&1===n.which&&(e.options.isView||e.sortLoading||(h=$(this),b=h.width()+8,w=!1,x=$('<span style="color:'+h.css("color")+';">'+h.text().substr(0,6)+"</span>"),d=l=n.clientX||n.originalEvent.clientX,p=c=n.clientY||n.originalEvent.clientY,$(document).off("mousemove.pagedrag").on("mousemove.pagedrag",function(e){e.preventDefault(),e.stopPropagation();var t=e.clientX||e.originalEvent.clientX,n=e.clientY||e.originalEvent.clientY;if(!(Math.abs(t-l)<10&&Math.abs(n-c)<10)){if(c=l=-9999,!w)return w=!0,k(Number($(h).data("index"))+1),x.css({position:"absolute",zIndex:1e3,left:t-b/3,top:n-12}),h.hide(),x.appendTo("body"),v.css("padding-right",b+"px"),h.after(m),void v.children(".page_tab_item").addClass("transition");if(t<$(".page_tab_box").offset().left+20?_(-20):t>$(".page_tab_box").offset().left+$(".page_tab_box").width()-20?_(20):C(),n>=window.innerHeight-$("#po-designer-foot").innerHeight()+5&&t<$("#page_box").offset().left+$("#page_box").width()-5){y=b;var o=document.elementFromPoint(t,n+7);o||(o=document.elementFromPoint(t,n-15));var a=o?o.parentNode:o;if(v.css("padding-right",b+"px"),x.css({left:t-b/3,top:n-12}),h&&a&&a!==h[0]&&a!==m[0]&&$(a).hasClass("page_tab_item")){var r=a.getBoundingClientRect();t<r.left+r.width/2?(k(Number($(a).data("index"))),$(a).before(m)):(k(Number($(a).data("index"))+1),$(a).after(m))}else $(a).hasClass("page_tab_opt")&&(v.children(".page_tab_item").css("left",0),v.append(m))}else x.css({left:t-b/3,top:n-12}),-s(v).x>$("#page_scrollable-list").width()+y-$(".page_tab_box").width()&&$(".page_tab_box").width()-$(".page_tab").width()<=-5&&i.css("transform","translate("+-($("#page_scrollable-list").width()+y-$(".page_tab_box").width())+"px)"),y=0,v.css("padding-right",0),v.children(".page_tab_item").css("left",0)}}),$(document).off("mouseup.pagedrag").on("mouseup.pagedrag",function(t){if($(document).off("mousemove.pagedrag"),w){v.children(".page_tab_item").removeClass("transition"),v.css("padding-right",0);var n=t.clientY||t.originalEvent.clientY,i=t.clientX||t.originalEvent.clientX;if(n>=window.innerHeight-$("#po-designer-foot").innerHeight()+5&&i<$("#page_box").offset().left+$("#page_box").width()-5&&h){x.remove();var o=m.prev(),a=0;o.length&&((a=Number(o.data("index")))<Number(h.data("index"))&&a++),h.css("display","inline-block"),m.before(h),m.remove(),v.children(".page_tab_item").css("left",0),Number(h.data("index"))!=a&&e.sortPage(Number(h.data("index")),a),h=null,C()}else m.css("width",b),v.children(".page_tab_item").css("left",0),x.animate({left:d-20,top:p-10},200,function(){x.remove(),m.css("width",0),m.remove(),C(),$(document).off("mouseup.pagedrag"),h&&(h.css("display","inline-block"),h=null)})}})))}))},addZhuGe:function(e){(0,u.$poCollect)("mult_pages_function",{fnName:e})},chartCategory:function(e){var t="";switch(e){case"mind_free":case"mind":t=s.default.t("Mind_Map");break;case"flow":case"designer":t=s.default.t("Flow_Chart");break;case"outline":t=s.default.t("Mind_Notes");break;case"ui":t=s.default.t("Prototype_drawing");break;case"uml":t="UML";break;case"mind_org":t=s.default.t("Organization_Chart");break;case"bpmn":t="BPMN"}return t},getPageById:function(e){for(var t={},n=0;n<this.list.length;n++){var i=this.list[n];if(i.canvasId===e){i.sort=n,t=i;break}}return t},getCanvasName:function(){var e="";if(this.list&&this.list.length>0){var t=1,n=this.list.map(function(e){return e.title});do{t++,e=s.default.t("js.Canvas")+t}while(n.includes(e))}return e},getCanvasCopyName:function(e){var t="";if(this.list&&this.list.length>0){for(var n=-1,i=this.list.map(function(e){return e.title}),o=0;o<i.length;o++)i[o].indexOf(e)>-1&&n++;t=e+s.default.t("js.fu_ben")+(n>0?n:"")}else t=e+s.default.t("js.fu_ben");return t},getPageSort:function(e){for(var t=1,n=0;n<this.list.length;n++)if(this.list[n].definitionId===e){t=n;break}return t},pageSlither:function(e){if(this.container){var t=this.container.find(".page_tab_box"),n=this.container.find(".page_tab");if(0!=n.length){var i=$("[data-type=page_slither_left]"),o=$("[data-type=page_slither_right]"),a=t.width(),r=n.width(),s=n.offset().left-t.offset().left,l=a-r;if(i.addClass("disabled"),o.addClass("disabled"),a-r>=-5)return 0!=s&&n.css("transform","translate(0px)"),i.css("visibility","hidden"),void o.css("visibility","hidden");if(i.css("visibility","initial"),o.css("visibility","initial"),"left"==e)s+=a;else if("right"==e)s-=a;else if("select"==e){var c=n.find(".select"),d=c.width()/2,u=n.offset().left-c.offset().left+72,p=u+a-c.outerWidth()-144;s=Math.max(u-d,Math.min(p+d,s))}(s=Math.max(l,Math.min(s,0)))<0&&i.removeClass("disabled"),s>l&&o.removeClass("disabled"),n.css("transform","translate("+s+"px)")}}},renderListDom:function(e){for(var t=this.container.find(".page_tab"),n=$("#page_tab_menu_list"),i="",o="",a=0;a<e.length;a++){var r=e[a],s=r.definitionId==this.pageId?"select":"",l=$('<div class="page_tab_item '+s+'"  data-index="'+a+'"  data-id="'+r.definitionId+'"  contenteditable="false" title-pos="top"><span>'+r.title+"</span></div>");r.title.length>6&&l.attr("original-title",r.title),i+=l.prop("outerHTML"),o+='<li class="po-menu-item" data-id="'+r.definitionId+'"><div class="po-menu-item-box"><span class="text">'+r.title+"</span></div></li>"}t.html(i),n.html(o)},renderListCon:function(e){var t,n=this.container,i=this.options;if($("#page_tab_menu_list").remove(),$("body").append('<ul id="page_tab_menu_list" class="po-menu"></ul>'),i.isView&&i.isEmbed){var o='<div id="embed-page-button" title-pos="top"><span class="po-diagraming-icons" style="font-size: 16px;" >&#xe8a9;</span></div>';return $("#embed-page-button").remove(),location.pathname.indexOf("templates")>-1?void(f.list.length>1&&$("body").append(o)):void $("body").append(o)}var a='<div class="page_tab_menu po-diagraming-icons  po-tool-button" style="font-size: 16px; margin-right:5px;" original-title="'+s.default.t("Multiple_pages")+'" title-pos="top">'.concat("v1"===editorGlobal.config.uiType?"&#xe60f;":"&#xe8a9;","</div>")+'            <span class="page_line"></span>            <div class="page_tab_box max_width"><div id="page_scrollable-list" class="page_tab"></div></div><span class="page_line"></span>            <div class="page_tab_opt">                <span data-type="page_add" class="po-diagraming-icons po-tool-button page-add" original-title="'+s.default.t("New_Canvas")+'" title-pos="top">&#xe9e6;</span>                <span data-type="page_slither_left" class="po-diagraming-icons po-tool-button" original-title="'+s.default.t("Turn_left")+'" title-pos="top">&#xe7e01;</span>                <span data-type="page_slither_right" class="po-diagraming-icons po-tool-button" original-title="'+s.default.t("Turn_the_page_right")+'" title-pos="top">&#xe8b3;</span>            </div>';n.html(a),(i.isView||e.length>=this.maxPageNum||!i.config.add)&&n.find("[data-type=page_add]").addClass("disable"),null!==(t=editorGlobal.mindMap.opt)&&void 0!==t&&t.readonly&&n.find("[data-type=page_add]").hide(),window.editorGlobalConfig.noCanvasAdd&&n.find("[data-type=page_add]").remove();var r='<ul id="page_tab_list" class="po-menu">        <li class="po-menu-item" data-type="rename"><div class="po-menu-item-box"><span class="text">'+s.default.t("Rename")+'</span></div></li>        <li class="po-menu-item" data-type="copy"><div class="po-menu-item-box"><span class="text">'+s.default.t("Replication")+'</span></div></li>        <li class="po-menu-item" data-type="del"><div class="po-menu-item-box"><span class="text">'+s.default.t("Delete")+"</span></div></li>    </ul>";$("#page_tab_list").remove(),$("body").append(r);var l='<div id="po-pages-del-dialog" class="po-dialog po-pages-del-dialog"><div class="po-dialog-header">'+s.default.t("js.Delete_Canvas")+'</div><div class="des">'+s.default.t("js.Not_be_restored_after_deletion")+'</div><div class="po-dialog-buttons"><div type="ok" class="po-button error">'+s.default.t("Delete")+'</div><div type="cancel" class="po-button">'+s.default.t("Cancel")+"</div></div></div>";$("#po-pages-del-dialog").remove(),$("body").append(l)},rename:function(e,t){var n=this,i=this.container.find(".page_tab").find(".page_tab_item[data-id="+e+"]"),o=i.find("input");o.length||(o=$("<input>").appendTo(i)),i.attr("disableTitle","true"),o.val($("<span/>").html(t).text()).select(),o.off("mousedown").on("mousedown",function(e){e.stopPropagation()}).off("dblclick").on("dblclick",function(e){e.preventDefault(),e.stopPropagation()}).off("keyup").on("keyup",function(e){var t=$.trim($(this).val());13==e.keyCode&&n.pageNameTest(t)&&$(this).blur()}).off("blur").on("blur",function(o){var a=$.trim($(this).val());n.pageNameTest(a)&&a!=t?(n.renamePage({pageData:n.data[e],title:a,oldName:t}),$(this).siblings("span").html(a),$(this).siblings("span").css("color","")):($(this).siblings("span").html(t),$(this).siblings("span").css("color","")),n.addZhuGe("重命名"),$(this).remove(),i.removeAttr("disableTitle")}).off("paste").on("paste",function(e){e.stopPropagation()})},pageNameTest:function(e){return""==e?($.toast({text:s.default.t("js.Canvas_name_cannot_be_empty"),type:"warning"}),!1):e.length>128?($.toast({text:s.default.t("js.Cannot_exceed_128_characters"),type:"warning"}),!1):!/[`~!@#\$%\^\&\*\+<>\?:"\{\}\\\/;'\[\]]/im.test(e)||($.toast({text:s.default.t("js.File_name_does_not_allow"),type:"warning"}),!1)},resetCanvasInfo:function(){var e;!editorGlobal.isView&&null!==(e=editorGlobal)&&void 0!==e&&null!==(e=e.sendMessage)&&void 0!==e&&e.tempMess&&editorGlobal.sendMessage.tempMess.length>0&&(window.savePartnerUnsaved&&clearTimeout(savePartnerUnsaved),editorGlobal.sendMessage.send()),injectExtraAsynCall("openMention")&&r.mention.filterId&&editorGlobal.mindMap.emit("exitFilter",!0),"mind"==this.fileType?c.mindPagination.resetCanvasInfo():"outline"==this.fileType?(outlineObj.util.unSelectAllNode(),outlineObj.render.hideMenu(),outlineObj.server.redoList.data=[],outlineObj.server.undoList.data=[],outlineObj.events.trigger("undo",[],[]),outlineObj.events.trigger("redo",[],[]),editorGlobal.isView||outlineObj.controller.searchNode.clearSearch(),$(".outline-left").removeClass("active"),$(".outline-title").show(),$(".outline-nav").remove(),$("#outline-con").html(""),$(".mind-corner").removeClass("active")):($("#shape_text_edit").hide(),!editorGlobal.isView&&Dock&&(Utils.unselect(),Utils.popEditor.close(),Designer.contextMenu.hide(),Dock.hide()))},runderCanvas:function(){var e=C(k().mark(function e(t,n,i){var o,r,c,u;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this,this.pageId=t,"wps"==window.source){r=localStorage.getItem("page_local_wps");try{r=JSON.parse(r)||[]}catch(s){r=[]}(r=r.filter(function(e){return e.fileId!=editorGlobal.pageInfo.file_id})).push({fileId:editorGlobal.pageInfo.file_id,pageId:t}),r.length>=30&&r.pop(),localStorage.setItem("page_local_wps",JSON.stringify(r))}else localStorage.setItem("page_local_"+editorGlobal.chartId,t);return"object"!=w(n)&&(n=JSON.parse(n)),e.next=5,(0,p.testEditorVersion)(n.editorVersion,this.fileType);case 5:if("boolean"==typeof(c=e.sent)&&!1===c){e.next=19;break}if("mind"!=this.fileType){e.next=18;break}if(u=function(){if(sessionStorage.getItem("page_"+t)){var e=sessionStorage.getItem("page_"+t);try{e=JSON.parse(e),editorGlobal.mindMap.view.setTransformData(e)}catch(t){}}o.options.isEmbed||editorGlobal.isView&&("wps"==window.source?($("#page_tab_menu_list").hide(),$(".page_tab_menu").removeClass("selected"),editorGlobal.poPagination.renderInit("select",$("#page_box")),editorGlobal.mindMap.view.reset()):(editorGlobal.mindFooterBar=new a.MindFooterBar({mindMap:editorGlobal.mindMap}),editorGlobal.mindFooterBar.init(editorGlobal.config.mindToolbarConfig))),editorGlobal.mindMap.emit("initWaterMark"),o.runderSuccess(),i&&i()},!(null!=n&&n.theme&&!(0,d.isJSONString)(n.theme)&&n.theme.indexOf("customise_")>=0)){e.next=13;break}l.Server.getThemeById(n.theme,function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.theme=t,e.next=3,editorGlobal.mindMap.setFullData(n);case 3:u();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=16;break;case 13:return e.next=15,editorGlobal.mindMap.setFullData(n);case 15:u();case 16:e.next=19;break;case 18:"outline"==this.fileType?(window.outlineObj=new window.Outline({target:"outline-con",line:{show:!0},readOnly:o.options.isView,indent:"wider",pageId:t},n),o.renderInit("select"),o.runderSuccess(),i&&i(),"wps"==window.source&&($("#page_tab_menu_list").hide(),$(".page_tab_menu").removeClass("selected"),outlineObj.controller.focusNode=function(){},outlineObj.controller.menuClick.equation=function(){})):(Designer.renderPage(JSON.stringify(n)),editorGlobal.diagramsFooerBar&&editorGlobal.diagramsFooerBar.updateNavigator(),$("#page_tab_menu_list").hide(),$(".page_tab_menu").removeClass("selected"),editorGlobal.isView&&($(".po-foot-shape-total").html(Model.orderList.length),FlowView.initEvent({def:n,isTemp:o.options.isTemp,isEmbed:o.options.isEmbed})),o.runderSuccess(),i&&i());case 19:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}(),runderSuccess:function(){editorGlobal.isView||editorGlobal.sendMessage.initVersion()},checkYunVersion:function(e,t){"wps"==window.source&&editorGlobal.isView,e(t)},select:function(e){var t=this;t.loading||(t.loading=!0,injectExtraAsynCall("onServerApi",{apiName:"getDefById",params:{definitionId:e}},function(n){t.loading=!1,t.resetCanvasInfo(),t.runderCanvas(e,JSON.parse(n.def))}))},addPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!this.pageOverLimit()){var n=this;e.canvasName=this.getCanvasName(),t?n.renderInit("select"):window.publicCLB.addPage(e,function(e,t,i){if(e){n.list=e,n.resetCanvasInfo();var o=JSON.parse(i);n.runderCanvas(t,o),n.renderInit("select"),n.addZhuGe("新增画布")}})}},sendMessage:function(e,t,n){var i=this;this.loading||(this.loading=!0,injectExtraAsynCall("onServerApi",{apiName:{onAddCanvas:"addCanvas",onCopyCanvas:"copyCanvas",onDeleteCanvas:"deleteCanvas",onCanvasRename:"canvasRename",onCanvasSort:"canvasSort"}[e],params:t},function(e){i.loading=!1,e&&($("#po-global-loading-wrap").fadeOut(),n&&(e?n(e.chartDefIds,e.defId,e.def):n()))}))},addPageCallback:function(e,t,n){if(e){this.list=e,this.resetCanvasInfo();var i=JSON.parse(n);this.runderCanvas(t,i),this.renderInit("select"),this.addZhuGe("新增画布")}},copyPage:function(e,t){if(!this.pageOverLimit()){var n=this;n.loading||(n.loading=!0,e.canvasName=this.getCanvasCopyName(this.getPageById(e.canvasId).title),t||window.publicCLB.copyPage(e,function(e,t,i){if(n.loading=!1,e){n.list=e,n.resetCanvasInfo();var o=JSON.parse(i);n.runderCanvas(t,o),n.renderInit("select")}}),this.renderInit("select"))}},delPage:function(e,t){var n=e.definitionId,i=this.getPageSort(n),o=this;function a(){if($(".page_tab_opt").find("[data-type=page_add]").removeClass("disable"),o.list.splice(i,1),n==o.pageId){if(t&&$.toast({text:s.default.t("js.Jump_to_a_new_canvas_for_you"),type:"warning"}),o.list.length==i)var e=o.list[i-1].definitionId;else e=o.list[i].definitionId;injectExtraAsynCall("onServerApi",{apiName:"getDefById",params:{definitionId:e}},function(t){o.resetCanvasInfo();var n=JSON.parse(t.def);o.runderCanvas(e,n),o.renderInit("select")})}else o.renderInit("select")}o.addZhuGe("删除画布"),t?a():window.publicCLB.deletePage(e,function(e){a()})},renamePage:function(e,t){var n=this;t?n.renderInit():window.publicCLB.renamePage(e,function(e){e&&(n.list=e,n.build()),n.renderInit()})},sortPage:function(e,t,n){this.addZhuGe("移动排序");var i=this;i.options.isView||(i.sortLoading=!0,n||window.publicCLB.sortPage(e,t,function(e){if(!e)return i.sortLoading=!1,void i.renderInit();i.list=e,i.sortLoading=!1,i.renderInit()}))},pageOverLimit:function(){var e,t=this.list.length;if(t>=30)return $.toast({text:s.default.t("js.The_maximum_number_of_pages"),type:"warning"}),$(".page_tab_opt").find("[data-type=page_add]").addClass("disable"),!0;if(window.editorGlobalConfig.canvasLimitNum&&t>=window.editorGlobalConfig.canvasLimitNum)return $.toast({text:s.default.t("js.Member_Early_access_phase"),type:"warning"}),$(".page_tab_opt").find("[data-type=page_add]").addClass("disable"),!0;if("mind"==this.fileType){if(editorGlobal.mindMap.emit("testVip","canvasNum",function(t){e=t}),t>=e)return editorGlobal.mindMap.emit("vip-limit","canvasNum"),!0}else if("outline"==this.fileType){if(t>=editorGlobal.vipState.test("canvasNum"))return"wps"==window.source?vipLimitDlg.initLimitDlg("canvasNum","canvasNum"):insert.pay.init({title:s.default.t("js.Upgrade_member_to_unlock"),pointsSource:"画布新建"}),!0}else if(t>=Designer.events.push("testVip","canvasNum"))return Designer.events.push("vipLimit","canvasNum"),!0}}},35169:function(e,t,n){var i;n(96700),n(61894),n(5682),n(65528),n(87812),n(1053),n(82403),n(12638),n(33809),n(13253),n(6284),n(96038),n(30940),n(47958),n(69268),n(58500),n(84889),n(54938),function(){function o(e){var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Specify a prefix to generated header ids",type:"string"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i].defaultValue);return n}function a(e,t){var n=t?"Error in "+t+" extension->":"Error in unnamed extension",i={valid:!0,error:""};s.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var a=n+" sub-extension "+o+": ",r=e[o];if("object"!=w(r))return i.valid=!1,i.error=a+"must be an object, but "+w(r)+" given",i;if(!s.helper.isString(r.type))return i.valid=!1,i.error=a+'property "type" must be a string, but '+w(r.type)+" given",i;var l=r.type=r.type.toLowerCase();if("language"===l&&(l=r.type="lang"),"html"===l&&(l=r.type="output"),"lang"!==l&&"output"!==l&&"listener"!==l)return i.valid=!1,i.error=a+"type "+l+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',i;if("listener"===l){if(s.helper.isUndefined(r.listeners))return i.valid=!1,i.error=a+'. Extensions of type "listener" must have a property called "listeners"',i}else if(s.helper.isUndefined(r.filter)&&s.helper.isUndefined(r.regex))return i.valid=!1,i.error=a+l+' extensions must define either a "regex" property or a "filter" method',i;if(r.listeners){if("object"!=w(r.listeners))return i.valid=!1,i.error=a+'"listeners" property must be an object but '+w(r.listeners)+" given",i;for(var c in r.listeners)if(r.listeners.hasOwnProperty(c)&&"function"!=typeof r.listeners[c])return i.valid=!1,i.error=a+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+w(r.listeners[c])+" given",i}if(r.filter){if("function"!=typeof r.filter)return i.valid=!1,i.error=a+'"filter" must be a function, but '+w(r.filter)+" given",i}else if(r.regex){if(s.helper.isString(r.regex)&&(r.regex=new RegExp(r.regex,"g")),!(r.regex instanceof RegExp))return i.valid=!1,i.error=a+'"regex" property must either be a string or a RegExp object, but '+w(r.regex)+" given",i;if(s.helper.isUndefined(r.replace))return i.valid=!1,i.error=a+'"regex" extensions must implement a replace string or function',i}}return i}function r(e,t){return"¨E"+t.charCodeAt(0)+"E"}var s={},l={},c={},d=o(!0),u="vanilla",p={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:o(!0),allOn:function(){var e=o(!0),t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}()};s.helper={},s.extensions={},s.setOption=function(e,t){return d[e]=t,this},s.getOption=function(e){return d[e]},s.getOptions=function(){return d},s.resetOptions=function(){d=o(!0)},s.setFlavor=function(e){if(!p.hasOwnProperty(e))throw Error(e+" flavor was not found");s.resetOptions();var t=p[e];for(var n in u=e,t)t.hasOwnProperty(n)&&(d[n]=t[n])},s.getFlavor=function(){return u},s.getFlavorOptions=function(e){if(p.hasOwnProperty(e))return p[e]},s.getDefaultOptions=function(e){return o(e)},s.subParser=function(e,t){if(s.helper.isString(e)){if(void 0===t){if(l.hasOwnProperty(e))return l[e];throw Error("SubParser named "+e+" not registered!")}l[e]=t}},s.extension=function(e,t){if(!s.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=s.helper.stdExtName(e),s.helper.isUndefined(t)){if(!c.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return c[e]}"function"==typeof t&&(t=t()),s.helper.isArray(t)||(t=[t]);var n=a(t,e);if(!n.valid)throw Error(n.error);c[e]=t},s.getAllExtensions=function(){return c},s.removeExtension=function(e){delete c[e]},s.resetExtensions=function(){c={}},s.validateExtension=function(e){return!!a(e,null).valid||!1},s.hasOwnProperty("helper")||(s.helper={}),s.helper.isString=function(e){return"string"==typeof e||e instanceof String},s.helper.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},s.helper.isArray=function(e){return e.constructor===Array},s.helper.isUndefined=function(e){return void 0===e},s.helper.forEach=function(e,t){if(s.helper.isUndefined(e))throw new Error("obj param is required");if(s.helper.isUndefined(t))throw new Error("callback param is required");if(!s.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(s.helper.isArray(e))for(var n=0;n<e.length;n++)t(e[n],n,e);else{if("object"!=w(e))throw new Error("obj does not seem to be an array or an iterable object");for(var i in e)e.hasOwnProperty(i)&&t(e[i],i,e)}},s.helper.stdExtName=function(e){return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},s.helper.escapeCharactersCallback=r,s.helper.escapeCharacters=function(e,t,n){var i="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var o=new RegExp(i,"g");return e.replace(o,r)};var h=function(e,t,n,i){var o,a,r,s,l,c=i||"",d=c.indexOf("g")>-1,u=new RegExp(t+"|"+n,"g"+c.replace(/g/g,"")),p=new RegExp(t,c.replace(/g/g,"")),h=[];do{for(o=0;r=u.exec(e);)if(p.test(r[0]))o++||(s=(a=u.lastIndex)-r[0].length);else if(o&&!--o){l=r.index+r[0].length;var m={left:{start:s,end:a},match:{start:a,end:r.index},right:{start:r.index,end:l},wholeMatch:{start:s,end:l}};if(h.push(m),!d)return h}}while(o&&(u.lastIndex=a));return h};s.helper.matchRecursiveRegExp=function(e,t,n,i){for(var o=h(e,t,n,i),a=[],r=0;r<o.length;++r)a.push([e.slice(o[r].wholeMatch.start,o[r].wholeMatch.end),e.slice(o[r].match.start,o[r].match.end),e.slice(o[r].left.start,o[r].left.end),e.slice(o[r].right.start,o[r].right.end)]);return a},s.helper.replaceRecursiveRegExp=function(e,t,n,i,o){if(!s.helper.isFunction(t)){var a=t;t=function(){return a}}var r=h(e,n,i,o),l=e,c=r.length;if(c>0){var d=[];0!==r[0].wholeMatch.start&&d.push(e.slice(0,r[0].wholeMatch.start));for(var u=0;u<c;++u)d.push(t(e.slice(r[u].wholeMatch.start,r[u].wholeMatch.end),e.slice(r[u].match.start,r[u].match.end),e.slice(r[u].left.start,r[u].left.end),e.slice(r[u].right.start,r[u].right.end))),u<c-1&&d.push(e.slice(r[u].wholeMatch.end,r[u+1].wholeMatch.start));r[c-1].wholeMatch.end<e.length&&d.push(e.slice(r[c-1].wholeMatch.end)),l=d.join("")}return l},s.helper.encodeEmailAddress=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e.replace(/./g,function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e})},"undefined"==typeof console&&(console={warn:function(e){alert(e)},log:function(e){alert(e)},error:function(e){throw e}}),s.helper.regexes={asteriskAndDash:/([*_])/g},s.Converter=function(e){function t(e,t){if(t=t||null,s.helper.isString(e)){if(t=e=s.helper.stdExtName(e),s.extensions[e])return void function(e,t){"function"==typeof e&&(e=e(new s.Converter)),s.helper.isArray(e)||(e=[e]);var n=a(e,t);if(!n.valid)throw Error(n.error);for(var i=0;i<e.length;++i)switch(e[i].type){case"lang":o.push(e[i]);break;case"output":r.push(e[i]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(s.extensions[e],e);if(s.helper.isUndefined(c[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=c[e]}"function"==typeof e&&(e=e()),s.helper.isArray(e)||(e=[e]);var i=a(e,t);if(!i.valid)throw Error(i.error);for(var l=0;l<e.length;++l){switch(e[l].type){case"lang":o.push(e[l]);break;case"output":r.push(e[l])}if(e[l].hasOwnProperty("listeners"))for(var d in e[l].listeners)e[l].listeners.hasOwnProperty(d)&&n(d,e[l].listeners[d])}}function n(e,t){if(!s.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+w(e)+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+w(t)+" given");l.hasOwnProperty(e)||(l[e]=[]),l[e].push(t)}var i={},o=[],r=[],l={},h=u;(function(){for(var n in e=e||{},d)d.hasOwnProperty(n)&&(i[n]=d[n]);if("object"!=w(e))throw Error("Converter expects the passed parameter to be an object, but "+w(e)+" was passed instead.");for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);i.extensions&&s.helper.forEach(i.extensions,t)})(),this._dispatch=function(e,t,n,i){if(l.hasOwnProperty(e))for(var o=0;o<l[e].length;++o){var a=l[e][o](e,t,this,n,i);a&&void 0!==a&&(t=a)}return t},this.listen=function(e,t){return n(e,t),this},this.makeHtml=function(e){if(!e)return e;var t={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:o,outputModifiers:r,converter:this,ghCodeBlocks:[]};return e=(e=(e=(e=(e=e.replace(/¨/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g," "),i.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}(e)),e="\n\n"+e+"\n\n",e=(e=s.subParser("detab")(e,i,t)).replace(/^[ \t]+$/gm,""),s.helper.forEach(o,function(n){e=s.subParser("runExtension")(n,e,i,t)}),e=s.subParser("hashPreCodeTags")(e,i,t),e=s.subParser("githubCodeBlocks")(e,i,t),e=s.subParser("hashHTMLBlocks")(e,i,t),e=s.subParser("hashCodeTags")(e,i,t),e=s.subParser("stripLinkDefinitions")(e,i,t),e=s.subParser("blockGamut")(e,i,t),e=s.subParser("unhashHTMLSpans")(e,i,t),e=(e=(e=s.subParser("unescapeSpecialChars")(e,i,t)).replace(/¨D/g,"$$")).replace(/¨T/g,"¨"),s.helper.forEach(r,function(n){e=s.subParser("runExtension")(n,e,i,t)}),e},this.setOption=function(e,t){i[e]=t},this.getOption=function(e){return i[e]},this.getOptions=function(){return i},this.addExtension=function(e,n){t(e,n=n||null)},this.useExtension=function(e){t(e)},this.setFlavor=function(e){if(!p.hasOwnProperty(e))throw Error(e+" flavor was not found");var t=p[e];for(var n in h=e,t)t.hasOwnProperty(n)&&(i[n]=t[n])},this.getFlavor=function(){return h},this.removeExtension=function(e){s.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var n=e[t],i=0;i<o.length;++i)o[i]===n&&o[i].splice(i,1);for(;0<r.length;++i)r[0]===n&&r[0].splice(i,1)}},this.getAllExtensions=function(){return{language:o,output:r}}},s.subParser("anchors",function(e,t,n){var i=function(e){function t(t,n,i,o,a,r,s,l){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,i,o,a,r,l,c,d){s.helper.isUndefined(d)&&(d=""),e=i;var u=o,p=a.toLowerCase(),h=r,m=d;if(!h)if(p||(p=u.toLowerCase().replace(/ ?\n/g," ")),h="#"+p,s.helper.isUndefined(n.gUrls[p])){if(!(e.search(/\(\s*\)$/m)>-1))return e;h=""}else h=n.gUrls[p],s.helper.isUndefined(n.gTitles[p])||(m=n.gTitles[p]);var f='<a href="'+(h=h.replace(s.helper.regexes.asteriskAndDash,s.helper.escapeCharactersCallback))+'"';return""!==m&&null!==m&&(f+=' title="'+(m=(m=m.replace(/"/g,"&quot;")).replace(s.helper.regexes.asteriskAndDash,s.helper.escapeCharactersCallback))+'"'),t.openLinksInNewWindow&&(f+=' target="_blank"'),f+">"+u+"</a>"});return e=(e=(e=(e=n.converter._dispatch("anchors.before",e,t,n)).replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,i)).replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,i)).replace(/(\[([^\[\]]+)])()()()()()/g,i),t.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d\-]+))(?=[.!?;,[\]()]|\s|$)/gim,function(e,n,i,o,a){if("\\"===i)return n+o;if(!s.helper.isString(t.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");return n+'<a href="'+t.ghMentionsLink.replace(/\{u}/g,a)+'">'+o+"</a>"})),n.converter._dispatch("anchors.after",e,t,n)});var m=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)()(?=\s|$)(?!["<>])/gi,f=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]]?)(?=\s|$)(?!["<>])/gi,g=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,v=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-\/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,b=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,y=function(e){return function(t,n,i,o,a){var r=n,s="",l="";return/^www\./i.test(n)&&(n=n.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&a&&(s=a),e.openLinksInNewWindow&&(l=' target="_blank"'),'<a href="'+n+'"'+l+">"+r+"</a>"+s}},x=function(e,t){return function(n,i,o){var a="mailto:";return i=i||"",o=s.subParser("unescapeSpecialChars")(o,e,t),e.encodeEmails?(a=s.helper.encodeEmailAddress(a+o),o=s.helper.encodeEmailAddress(o)):a+=o,i+'<a href="'+a+'">'+o+"</a>"}};s.subParser("autoLinks",function(e,t,n){return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(g,y(t))).replace(b,x(t,n)),n.converter._dispatch("autoLinks.after",e,t,n)}),s.subParser("simplifiedAutoLinks",function(e,t,n){return t.simplifiedAutoLink?(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(f,y(t)):e.replace(m,y(t))).replace(v,x(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e}),s.subParser("blockGamut",function(e,t,n){return e=n.converter._dispatch("blockGamut.before",e,t,n),e=s.subParser("blockQuotes")(e,t,n),e=s.subParser("headers")(e,t,n),e=s.subParser("horizontalRule")(e,t,n),e=s.subParser("lists")(e,t,n),e=s.subParser("codeBlocks")(e,t,n),e=s.subParser("tables")(e,t,n),e=s.subParser("hashHTMLBlocks")(e,t,n),e=s.subParser("paragraphs")(e,t,n),n.converter._dispatch("blockGamut.after",e,t,n)}),s.subParser("blockQuotes",function(e,t,n){return e=(e=n.converter._dispatch("blockQuotes.before",e,t,n)).replace(/((^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,i){var o=i;return o=(o=(o=o.replace(/^[ \t]*>[ \t]?/gm,"¨0")).replace(/¨0/g,"")).replace(/^[ \t]+$/gm,""),o=s.subParser("githubCodeBlocks")(o,t,n),o=(o=(o=s.subParser("blockGamut")(o,t,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){return t.replace(/^  /gm,"¨0").replace(/¨0/g,"")}),s.subParser("hashBlock")("<blockquote>\n"+o+"\n</blockquote>",t,n)}),n.converter._dispatch("blockQuotes.after",e,t,n)}),s.subParser("codeBlocks",function(e,t,n){return e=n.converter._dispatch("codeBlocks.before",e,t,n),e=(e=(e+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g,function(e,i,o){var a=i,r=o,l="\n";return a=s.subParser("outdent")(a,t,n),a=s.subParser("encodeCode")(a,t,n),a=(a=(a=s.subParser("detab")(a,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(l=""),a="<pre><code>"+a+l+"</code></pre>",s.subParser("hashBlock")(a,t,n)+r})).replace(/¨0/,""),n.converter._dispatch("codeBlocks.after",e,t,n)}),s.subParser("codeSpans",function(e,t,n){return void 0===(e=n.converter._dispatch("codeSpans.before",e,t,n))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,i,o,a){var r=a;return r=(r=r.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),i+"<code>"+(r=s.subParser("encodeCode")(r,t,n))+"</code>"}),n.converter._dispatch("codeSpans.after",e,t,n)}),s.subParser("detab",function(e,t,n){return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/¨B(.+?)¨A/g,function(e,t){for(var n=t,i=4-n.length%4,o=0;o<i;o++)n+=" ";return n})).replace(/¨A/g,"    ")).replace(/¨B/g,""),n.converter._dispatch("detab.after",e,t,n)}),s.subParser("encodeAmpsAndAngles",function(e,t,n){return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)}),s.subParser("encodeBackslashEscapes",function(e,t,n){return e=(e=(e=n.converter._dispatch("encodeBackslashEscapes.before",e,t,n)).replace(/\\(\\)/g,s.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,s.helper.escapeCharactersCallback),n.converter._dispatch("encodeBackslashEscapes.after",e,t,n)}),s.subParser("encodeCode",function(e,t,n){return e=(e=n.converter._dispatch("encodeCode.before",e,t,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,s.helper.escapeCharactersCallback),n.converter._dispatch("encodeCode.after",e,t,n)}),s.subParser("escapeSpecialCharsWithinTagAttributes",function(e,t,n){return e=(e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,n)).replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,s.helper.escapeCharactersCallback)}),n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,n)}),s.subParser("githubCodeBlocks",function(e,t,n){return t.ghCodeBlocks?(e=n.converter._dispatch("githubCodeBlocks.before",e,t,n),e=(e=(e+="¨0").replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,i,o){var a=t.omitExtraWLInCodeBlocks?"":"\n";return o=s.subParser("encodeCode")(o,t,n),o="<pre><code"+(i?' class="'+i+" language-"+i+'"':"")+">"+(o=(o=(o=s.subParser("detab")(o,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+a+"</code></pre>",o=s.subParser("hashBlock")(o,t,n),"\n\n¨G"+(n.ghCodeBlocks.push({text:e,codeblock:o})-1)+"G\n\n"})).replace(/¨0/,""),n.converter._dispatch("githubCodeBlocks.after",e,t,n)):e}),s.subParser("hashBlock",function(e,t,n){return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",n.converter._dispatch("hashBlock.after",e,t,n)}),s.subParser("hashCodeTags",function(e,t,n){return e=n.converter._dispatch("hashCodeTags.before",e,t,n),e=s.helper.replaceRecursiveRegExp(e,function(e,i,o,a){var r=o+s.subParser("encodeCode")(i,t,n)+a;return"¨C"+(n.gHtmlSpans.push(r)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),n.converter._dispatch("hashCodeTags.after",e,t,n)}),s.subParser("hashElement",function(e,t,n){return function(e,t){var i=t;return i=(i=(i=i.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),"\n\n¨K"+(n.gHtmlBlocks.push(i)-1)+"K\n\n"}}),s.subParser("hashHTMLBlocks",function(e,t,n){e=n.converter._dispatch("hashHTMLBlocks.before",e,t,n);for(var i=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(e){function t(t,n,i,o){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,i,o){var a=e;return-1!==i.search(/\bmarkdown\b/)&&(a=i+n.converter.makeHtml(t)+o),"\n\n¨K"+(n.gHtmlBlocks.push(a)-1)+"K\n\n"}),a=0;a<i.length;++a)e=s.helper.replaceRecursiveRegExp(e,o,"^ {0,3}<"+i[a]+"\\b[^>]*>","</"+i[a]+">","gim");return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(e,t,n)),e=(e=s.helper.replaceRecursiveRegExp(e,function(e){return"\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,s.subParser("hashElement")(e,t,n)),n.converter._dispatch("hashHTMLBlocks.after",e,t,n)}),s.subParser("hashHTMLSpans",function(e,t,n){function i(e){return"¨C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,function(e){return i(e)})).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(e){return i(e)})).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(e){return i(e)})).replace(/<[^>]+?>/gi,function(e){return i(e)}),n.converter._dispatch("hashHTMLSpans.after",e,t,n)}),s.subParser("unhashHTMLSpans",function(e,t,n){e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var i=0;i<n.gHtmlSpans.length;++i){for(var o=n.gHtmlSpans[i],a=0;/¨C(\d+)C/.test(o);){var r=RegExp.$1;if(o=o.replace("¨C"+r+"C",n.gHtmlSpans[r]),10===a)break;++a}e=e.replace("¨C"+i+"C",o)}return n.converter._dispatch("unhashHTMLSpans.after",e,t,n)}),s.subParser("hashPreCodeTags",function(e,t,n){return e=n.converter._dispatch("hashPreCodeTags.before",e,t,n),e=s.helper.replaceRecursiveRegExp(e,function(e,i,o,a){var r=o+s.subParser("encodeCode")(i,t,n)+a;return"\n\n¨G"+(n.ghCodeBlocks.push({text:e,codeblock:r})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),n.converter._dispatch("hashPreCodeTags.after",e,t,n)}),s.subParser("headers",function(e,t,n){function i(e){var i;return i=s.helper.isString(t.prefixHeaderId)?t.prefixHeaderId+e:!0===t.prefixHeaderId?"section "+e:e,i=a?i.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():i.replace(/[^\w]/g,"").toLowerCase(),n.hashLinkCounts[i]?i=i+"-"+n.hashLinkCounts[i]++:n.hashLinkCounts[i]=1,i}e=n.converter._dispatch("headers.before",e,t,n);var o=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),a=t.ghCompatibleHeaderId,r=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,l=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(r,function(e,a){var r=s.subParser("spanGamut")(a,t,n),l=t.noHeaderId?"":' id="'+i(a)+'"',c="<h"+o+l+">"+r+"</h"+o+">";return s.subParser("hashBlock")(c,t,n)})).replace(l,function(e,a){var r=s.subParser("spanGamut")(a,t,n),l=t.noHeaderId?"":' id="'+i(a)+'"',c=o+1,d="<h"+c+l+">"+r+"</h"+c+">";return s.subParser("hashBlock")(d,t,n)});var c=t.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;return e=e.replace(c,function(e,a,r){var l=s.subParser("spanGamut")(r,t,n),c=t.noHeaderId?"":' id="'+i(r)+'"',d=o-1+a.length,u="<h"+d+c+">"+l+"</h"+d+">";return s.subParser("hashBlock")(u,t,n)}),n.converter._dispatch("headers.after",e,t,n)}),s.subParser("horizontalRule",function(e,t,n){e=n.converter._dispatch("horizontalRule.before",e,t,n);var i=s.subParser("hashBlock")("<hr />",t,n);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,i)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,i)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,i),n.converter._dispatch("horizontalRule.after",e,t,n)}),s.subParser("images",function(e,t,n){function i(e,t,i,o,a,r,l,c){var d=n.gUrls,u=n.gTitles,p=n.gDimensions;if(i=i.toLowerCase(),c||(c=""),""===o||null===o){if(""!==i&&null!==i||(i=t.toLowerCase().replace(/ ?\n/g," ")),o="#"+i,s.helper.isUndefined(d[i]))return e;o=d[i],s.helper.isUndefined(u[i])||(c=u[i]),s.helper.isUndefined(p[i])||(a=p[i].width,r=p[i].height)}t=t.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskAndDash,s.helper.escapeCharactersCallback);var h='<img src="'+(o=o.replace(s.helper.regexes.asteriskAndDash,s.helper.escapeCharactersCallback))+'" alt="'+t+'"';return c&&(h+=' title="'+(c=c.replace(/"/g,"&quot;").replace(s.helper.regexes.asteriskAndDash,s.helper.escapeCharactersCallback))+'"'),a&&r&&(h+=' width="'+(a="*"===a?"auto":a)+'"',h+=' height="'+(r="*"===r?"auto":r)+'"'),h+" />"}return e=(e=(e=(e=n.converter._dispatch("images.before",e,t,n)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[(.*?)]()()()()()/g,i)).replace(/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,i)).replace(/!\[([^\[\]]+)]()()()()()/g,i),n.converter._dispatch("images.after",e,t,n)}),s.subParser("italicsAndBold",function(e,t,n){function i(e,i,o){return t.simplifiedAutoLink&&(e=s.subParser("simplifiedAutoLinks")(e,t,n)),i+e+o}return e=n.converter._dispatch("italicsAndBold.before",e,t,n),t.literalMidWordUnderscores?e=(e=(e=e.replace(/\b___(\S[\s\S]*)___\b/g,function(e,t){return i(t,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*)__\b/g,function(e,t){return i(t,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(e,t){return i(t,"<em>","</em>")}):e=(e=(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?i(t,"<strong><em>","</em></strong>"):e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?i(t,"<strong>","</strong>"):e})).replace(/_([^\s_][\s\S]*?)_/g,function(e,t){return/\S$/.test(t)?i(t,"<em>","</em>"):e}),t.literalMidWordAsterisks?e=(e=(e=e.trim().replace(/(?:^| +)\*{3}(\S[\s\S]*?)\*{3}(?: +|$)/g,function(e,t){return i(t," <strong><em>","</em></strong> ")})).trim().replace(/(?:^| +)\*{2}(\S[\s\S]*?)\*{2}(?: +|$)/g,function(e,t){return i(t," <strong>","</strong> ")})).trim().replace(/(?:^| +)\*{1}(\S[\s\S]*?)\*{1}(?: +|$)/g,function(e,t){return i(t," <em>","</em>"+(" "===e.slice(-1)?" ":""))}):e=(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(e,t){return/\S$/.test(t)?i(t,"<strong><em>","</em></strong>"):e})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(e,t){return/\S$/.test(t)?i(t,"<strong>","</strong>"):e})).replace(/\*([^\s*][\s\S]*?)\*/g,function(e,t){return/\S$/.test(t)?i(t,"<em>","</em>"):e}),n.converter._dispatch("italicsAndBold.after",e,t,n)}),s.subParser("lists",function(e,t,n){function i(e,i){n.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,a=/\n[ \t]*\n(?!¨0)/.test(e+="¨0");return t.disableForced4SpacesIndentedSublists&&(o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(o,function(e,i,o,r,l,c,d){d=d&&""!==d.trim();var u=s.subParser("outdent")(l,t,n),p="";return c&&t.tasklists&&(p=' class="task-list-item" style="list-style-type: none;"',u=u.replace(/^[ \t]*\[(x|X| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em 0.6em; vertical-align: middle;"';return d&&(e+=" checked"),e+">"})),u=u.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(e){return"¨A"+e}),i||u.search(/\n{2,}/)>-1?(u=s.subParser("githubCodeBlocks")(u,t,n),u=s.subParser("blockGamut")(u,t,n)):(u=(u=s.subParser("lists")(u,t,n)).replace(/\n$/,""),u=(u=(u=s.subParser("hashHTMLBlocks")(u,t,n)).replace(/\n\n+/g,"\n\n")).replace(/\n\n/g,"¨B"),u=(u=a?s.subParser("paragraphs")(u,t,n):s.subParser("spanGamut")(u,t,n)).replace(/¨B/g,"\n\n")),"<li"+p+">"+(u=u.replace("¨A",""))+"</li>\n"})).replace(/¨0/g,""),n.gListLevel--,i&&(e=e.replace(/\s+$/,"")),e}function o(e,n,o){var a=t.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,r=t.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,s="ul"===n?a:r,l="";return-1!==e.search(s)?function e(t){var c=t.search(s);-1!==c?(l+="\n<"+n+">\n"+i(t.slice(0,c),!!o)+"</"+n+">\n",s="ul"==(n="ul"===n?"ol":"ul")?a:r,e(t.slice(c))):l+="\n<"+n+">\n"+i(t,!!o)+"</"+n+">\n"}(e):l="\n<"+n+">\n"+i(e,!!o)+"</"+n+">\n",l}return e=n.converter._dispatch("lists.before",e,t,n),e+="¨0",e=(e=n.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n){return o(t,n.search(/[*+-]/g)>-1?"ul":"ol",!0)}):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n,i){return o(n,i.search(/[*+-]/g)>-1?"ul":"ol",!1)})).replace(/¨0/,""),n.converter._dispatch("lists.after",e,t,n)}),s.subParser("outdent",function(e,t,n){return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/¨0/g,""),n.converter._dispatch("outdent.after",e,t,n)}),s.subParser("paragraphs",function(e,t,n){for(var i=(e=(e=(e=n.converter._dispatch("paragraphs.before",e,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),o=[],a=i.length,r=0;r<a;r++){var l=i[r];l.search(/¨(K|G)(\d+)\1/g)>=0?o.push(l):l.search(/\S/)>=0&&(l=(l=s.subParser("spanGamut")(l,t,n)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",o.push(l))}for(a=o.length,r=0;r<a;r++){for(var c="",d=o[r],u=!1;/¨(K|G)(\d+)\1/.test(d);){var p=RegExp.$1,h=RegExp.$2;c=(c="K"===p?n.gHtmlBlocks[h]:u?s.subParser("encodeCode")(n.ghCodeBlocks[h].text,t,n):n.ghCodeBlocks[h].codeblock).replace(/\$/g,"$$$$"),d=d.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(d)&&(u=!0)}o[r]=d}return e=(e=(e=o.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,t,n)}),s.subParser("runExtension",function(e,t,n,i){if(e.filter)t=e.filter(t,i.converter,n);else if(e.regex){var o=e.regex;o instanceof RegExp||(o=new RegExp(o,"g")),t=t.replace(o,e.replace)}return t}),s.subParser("spanGamut",function(e,t,n){return e=n.converter._dispatch("spanGamut.before",e,t,n),e=s.subParser("codeSpans")(e,t,n),e=s.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=s.subParser("encodeBackslashEscapes")(e,t,n),e=s.subParser("images")(e,t,n),e=s.subParser("anchors")(e,t,n),e=s.subParser("autoLinks")(e,t,n),e=s.subParser("italicsAndBold")(e,t,n),e=s.subParser("strikethrough")(e,t,n),e=s.subParser("simplifiedAutoLinks")(e,t,n),e=s.subParser("hashHTMLSpans")(e,t,n),e=s.subParser("encodeAmpsAndAngles")(e,t,n),e=t.simpleLineBreaks?e.replace(/\n/g,"<br />\n"):e.replace(/  +\n/g,"<br />\n"),n.converter._dispatch("spanGamut.after",e,t,n)}),s.subParser("strikethrough",function(e,t,n){function i(e){return t.simplifiedAutoLink&&(e=s.subParser("simplifiedAutoLinks")(e,t,n)),"<del>"+e+"</del>"}return t.strikethrough&&(e=(e=n.converter._dispatch("strikethrough.before",e,t,n)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(e,t){return i(t)}),e=n.converter._dispatch("strikethrough.after",e,t,n)),e}),s.subParser("stripLinkDefinitions",function(e,t,n){return(e=(e+="¨0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,function(e,i,o,a,r,l,c){return i=i.toLowerCase(),n.gUrls[i]=s.subParser("encodeAmpsAndAngles")(o,t,n),l?l+c:(c&&(n.gTitles[i]=c.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&a&&r&&(n.gDimensions[i]={width:a,height:r}),"")})).replace(/¨0/,"")}),s.subParser("tables",function(e,t,n){function i(e){return/^:[ \t]*--*$/.test(e)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(e)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(e)?' style="text-align:center;"':""}function o(e,i){var o="";return e=e.trim(),t.tableHeaderId&&(o=' id="'+e.replace(/ /g,"_").toLowerCase()+'"'),"<th"+o+i+">"+(e=s.subParser("spanGamut")(e,t,n))+"</th>\n"}function a(e,i){return"<td"+i+">"+s.subParser("spanGamut")(e,t,n)+"</td>\n"}return t.tables?(e=(e=(e=n.converter._dispatch("tables.before",e,t,n)).replace(/\\(\|)/g,s.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){2,}[\s\S]+?(?:\n\n|¨0)/gm,function(e){var t,n=e.split("\n");for(t=0;t<n.length;++t)/^ {0,3}\|/.test(n[t])&&(n[t]=n[t].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(n[t])&&(n[t]=n[t].replace(/\|[ \t]*$/,""));var r=n[0].split("|").map(function(e){return e.trim()}),l=n[1].split("|").map(function(e){return e.trim()}),c=[],d=[],u=[],p=[];for(n.shift(),n.shift(),t=0;t<n.length;++t)""!==n[t].trim()&&c.push(n[t].split("|").map(function(e){return e.trim()}));if(r.length<l.length)return e;for(t=0;t<l.length;++t)u.push(i(l[t]));for(t=0;t<r.length;++t)s.helper.isUndefined(u[t])&&(u[t]=""),d.push(o(r[t],u[t]));for(t=0;t<c.length;++t){for(var h=[],m=0;m<d.length;++m)s.helper.isUndefined(c[t][m]),h.push(a(c[t][m],u[m]));p.push(h)}return function(e,t){for(var n="<table>\n<thead>\n<tr>\n",i=e.length,o=0;o<i;++o)n+=e[o];for(n+="</tr>\n</thead>\n<tbody>\n",o=0;o<t.length;++o){n+="<tr>\n";for(var a=0;a<i;++a)n+=t[o][a];n+="</tr>\n"}return n+"</tbody>\n</table>\n"}(d,p)}),n.converter._dispatch("tables.after",e,t,n)):e}),s.subParser("unescapeSpecialChars",function(e,t,n){return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/¨E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)}),n.converter._dispatch("unescapeSpecialChars.after",e,t,n)}),e.exports?e.exports=s:void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}.call(void 0)},71052:function(e,t,n){var i=n(9712);n(61894),n(5682),n(4790),n(82403),n(6284),n(69268),n(86837),n(14237);var o=n(41295),a=i(n(49853)),r=n(63898),s=n(70400),l=(n(46346),n(42832)),c=n(59584),u=n(62937),p=n(78322),h=n(21425),m=n(21642),f=n(83838),g=n(24364),v=n(17737),b=n(77320),y=i(n(7101)),x=n(47306),w=n(5263),_=n(31396);window.PoEditorApi=function(){this.fileType=window.fileType,this.device=device},PoEditorApi.prototype.exportFile=function(){var e=C(k().mark(function e(t,n,i,o){var r,s,l,c,d;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("flow"!=this.fileType&&"designer"!=this.fileType){e.next=8;break}return 0==$("#svg_exporter").length&&$('<div id="svg_exporter" style="display:none;position:fixed;z-index:-10;"></div>').appendTo("body"),r="",Model.define.page.showWatermark&&(r=Model.define.page.watermark),e.next=6,a.default.init({type:t,ids:n,watermark:{download:r},wrapper:"#svg_exporter",eqBase64:o});case 6:s=(c=e.sent).img,"svg"==t&&(s=c.content),i(s),$("#svg_exporter").empty();case 8:if("mind"!=this.fileType){e.next=18;break}return 0==$("#svg_exporter").length&&$('<div id="svg_exporter" style="display:none;position:fixed;z-index:-10;"></div>').appendTo("body"),r="",(l=editorGlobal.mindMap.getData()).showWatermark&&(r=l.watermark),e.next=15,a.default.init({type:t,fileType:"mind",ids:n,watermark:{download:r},wrapper:"#svg_exporter",eqBase64:o});case 15:c=e.sent,s="",s="svg"==t?c.content:c.img,$("#svg_exporter").empty(),i(s);case 18:"outline"==this.fileType&&("undefined"==typeof outlineExport?(d={js:[staticBasePath+"/assets/js/files/outline_export.js",staticBasePath+"/assets/js/files/html2canvas.min.js"]},bigPipe.render(d,function(){outlineExport.init(t,null,function(e){i(e)})})):outlineExport.init(t,null,function(e){i(e)}));case 19:case"end":return e.stop()}},e,this)}));return function(t,n,i,o){return e.apply(this,arguments)}}(),PoEditorApi.prototype.getEditorVersion=function(){return _.VERSION.mind},PoEditorApi.prototype.rename=function(e){if("flow"==this.fileType||"designer"==this.fileType){var t={action:"changeTitle",title:e};return editorGlobal.sendMessage.send(t),void(window.chartObj.title=e)}"mind"==this.fileType&&l.headerUI.saveTitle(e),"outline"==this.fileType&&outlineObj.controller.changeTitle(e)},PoEditorApi.prototype.openHistory=function(){if("flow"!=this.fileType&&"designer"!=this.fileType)return"mind"==this.fileType?($("#header-file-menu").dropdown("close"),void r.mindCorner.showCorner("history","left",function(){0==$(".history-con-list").children().length&&s.historyUI.loadHistorys()})):void this.fileType;History.init()},PoEditorApi.prototype.openSearch=function(){if("flow"!=this.fileType&&"designer"!=this.fileType)return"mind"==this.fileType?this.device.indexOf("mobi")>-1?($("section.op-con-detail").css("bottom",-240).hide(),g.nodeSearch.init(f.toolbar.containerEl),void $(".op-con-search").css({top:"0"})):($("#header-file-menu").dropdown("close"),void editorGlobal.mindMap.emit("load-outline")):void("outline"==this.fileType&&($(".search-replace-box").show(),$("#outline_search_input").focus()));UI.showSearchReplace()},PoEditorApi.prototype.openPrint=function(){"flow"!=this.fileType&&"designer"!=this.fileType?(this.fileType,this.fileType):UI.print.init()},PoEditorApi.prototype.saveOnline=function(){"flow"!=this.fileType&&"designer"!=this.fileType?"mind"!=this.fileType?this.fileType:l.headerUI.saveFile():UI.save()},PoEditorApi.prototype.setZoomScale=function(e,t){"flow"!=this.fileType&&"designer"!=this.fileType?"mind"!=this.fileType?this.fileType:editorGlobal.mindMap.emit("scale",e):Designer.setZoomScale(e,"center")},PoEditorApi.prototype.updateCanvas=function(e,t){editorGlobal.poPagination.init(e,{pageId:t.pageId,isView:t.isView}),editorGlobal.poPagination.renderInit()},PoEditorApi.prototype.updateDef=function(e){e||("string"==typeof e&&(e=JSON.stringify(e)),editorGlobal.mindMap.setFullData(e))},PoEditorApi.prototype.setNavigatorStatus=function(e,t){"flow"!=this.fileType&&"designer"!=this.fileType?"mind"!=this.fileType?this.fileType:e?editorGlobal.mindMap.emit("mind_navigator_show"):editorGlobal.mindMap.emit("mind_navigator_hide"):window.editorGlobal.diagramsFooerBar&&window.editorGlobal.diagramsFooerBar.open(e)},PoEditorApi.prototype.openTeamShapes=function(e,t){if("flow"==this.fileType||"designer"==this.fileType)return $("#panel-tab .item[ac=team-shapes]").show(),void window.TeamShape.init(e,t)},PoEditorApi.prototype.modifyTitle=function(e){"flow"!==this.fileType&&"designer"!==this.fileType||($("#header-rename").html(e),UI.rename(e)),"mind"===this.fileType&&($("#header-title").text(e),l.headerUI.saveTitle(e)),"outline"===fileType&&outlineObj.controller.saveTitle(e)},PoEditorApi.prototype.fullScreen=function(e){"flow"!==this.fileType&&"designer"!==this.fileType||window.editorGlobal.diagramsFooerBar&&(e?editorGlobal.diagramsFooerBar.enterFullScreen():editorGlobal.diagramsFooerBar.exitFullScreen()),"mind"===this.fileType&&(e?editorGlobal.mindMap.emit("enterFullScreen"):editorGlobal.mindMap.emit("exitFullScreen")),this.fileType},PoEditorApi.prototype.posMentionTarget=function(e){o.mention.posMentionTarget(e.id)},PoEditorApi.prototype.getSelectData=function(e){"outline"===this.fileType&&$("#"+o.mention.targetId+" [contenteditable]").focus(),o.mention.selectSubmit(e)},PoEditorApi.prototype.resetNodePos=function(e){var t;null===(t=mind.operation)||void 0===t||t.resetNodePos.call(mind,e)},PoEditorApi.prototype.getDirtyStatus=function(){},PoEditorApi.prototype.clickSaveAll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"click",t=arguments.length>1?arguments[1]:void 0;editorGlobal.sendMessage.saveOnline(e,t)},PoEditorApi.prototype.getDef=function(){return"flow"===this.fileType||"designer"===fileType?Model.define:"mind"===this.fileType?editorGlobal.mindMap.getData():"outline"===this.fileType?outlineObj.model.data:void 0},PoEditorApi.prototype.getSelectedIds=function(){return"flow"===this.fileType||"designer"===fileType?Utils.getSelectedIds():"mind"===this.fileType?editorGlobal.mindMap.renderer.getSelectedIds():void 0},PoEditorApi.prototype.getBackground=function(){return"flow"===this.fileType||"designer"===fileType?Model.define.page.backgroundColor:"mind"===this.fileType?editorGlobal.mindMap.renderer.getBackgroundColor()||"transparent":void 0},PoEditorApi.prototype.selectElementById=function(e){if("flow"!==this.fileType&&"designer"!==fileType){if("mind"===this.fileType){var t=e[0];return editorGlobal.mindMap.renderer.getTopicById(t)._topic.selected(),void("string"==typeof device&&device.indexOf("mobi")>-1&&($(".op-con").find(".mind-disable").removeClass("mind-disable"),$(".op-con").css("bottom",0)))}this.fileType}else Utils.selectShape(e)},PoEditorApi.prototype.undo=function(){if("mind"===this.fileType)return editorGlobal.mindMap.emit("undo"),$("section.op-con-detail").css("bottom",-240).hide(),void $(document).scrollTop(0);"outline"!==this.fileType||outlineObj.server.undo()},PoEditorApi.prototype.redo=function(){"mind"!==this.fileType?"outline"!==this.fileType||outlineObj.server.redo():editorGlobal.mindMap.emit("redo")},PoEditorApi.prototype.openTheme=function(){if("mind"===this.fileType){editorGlobal.mindMap.emit("hideLinkBox");var e=$(".op-con-detail"),t=e.find("div[tit=themes]");return"block"==e.css("display")&&"block"==t.css("display")?void e.css({bottom:"-240px",display:"none"}):(editorGlobal.mindMap.emit("selectTheme"),f.toolbar.swtichDetail("themes"),void f.toolbar.initStructure())}},PoEditorApi.prototype.getRightBar=function(){return"flow"===this.fileType||"designer"===fileType?$("#po-header .po-flow-header-right"):"mind"==this.fileType?$(".mind-header-right"):"outline"==this.fileType?$(".outline-head .head-right-nav"):void 0},PoEditorApi.prototype.getLeftBar=function(){return"flow"===this.fileType||"designer"===fileType?$("#po-header .po-flow-header-left"):"mind"==this.fileType?$(".mind-header-left"):"outline"==this.fileType?$(".outline-head .head-left-nav"):void 0},PoEditorApi.prototype.getFootBar=function(){return"flow"===this.fileType||"designer"===fileType?$("#po-designer-foot"):"mind"==this.fileType?$("#po-mind-foot"):void 0},PoEditorApi.prototype.mpAigo=function(){AIDraw.aigo()},PoEditorApi.prototype.AIGCRun=function(e,t){editorGlobal.userObj=e.userObj,e.prompt&&("mind"===this.fileType?(0,m.tripartiteAIRun)({ac:e.ac,text:e.prompt,callback:t}):"flow"!==this.fileType&&"designer"!==fileType||Designer.events.push("insert-ai",{ac:e.ac,text:e.prompt,autoSave:!0,callback:t})),"flow"!==this.fileType&&"designer"!==fileType||(window.userObj=e.userObj,e.prompt&&Designer.events.push("insert-ai",{ac:e.ac,text:e.prompt,autoSave:!0,callback:t})),"outline"===this.fileType&&(window.userObj=e.userObj,e.prompt&&AIDraw.api.completion(e.prompt,"root",e.ac,t))},PoEditorApi.prototype.AIDescrToDef=function(e){var t=e.descrToDef,n=e.userInput;if("mind"===this.fileType)return m.aiUtils.Text2Def(t,n)},PoEditorApi.prototype.insertTemplate=function(e){if("flow"===this.fileType||"designer"===this.fileType){var t=JSON.parse(e.def).elements,n=[],i=[];MessageSource.beginBatch();var o=Utils.copy(Model.define);for(var a in o.elements=t,Designer.open(o),t){var r=t[a];i.push(r),n.push(r.id)}Model.addMulti(i,!0,e.id);var s=Utils.getControlBox(n);Designer.op.changeCanvas(s),MessageSource.commit()}else if("mind"===this.fileType){var l,d=JSON.parse(e.def),u=e.id;null!=d&&"number"!=typeof d.version&&(d.version=null===(l=editorGlobal.sendMessage)||void 0===l?void 0:l.version),null!=d&&d.theme&&d.theme.indexOf("customise_")>=0?c.Server.getThemeById(d.theme,function(e){d.theme=e,editorGlobal.mindMap.emit("insertTemp",d,u)},!0):editorGlobal.mindMap.emit("insertTemp",d,u)}},PoEditorApi.prototype.hideInsertTemplate=function(){$("#designer_insert_temp_wrap").remove(),$("#open-insert-temp").removeClass("selected"),sessionStorage.removeItem("temp_topic_len")},PoEditorApi.prototype.getDefCount=function(){return"flow"===this.fileType||"designer"===this.fileType?Model.orderList.length:"mind"===this.fileType?editorGlobal.mindMap.renderer.getTopicLength():void 0},PoEditorApi.prototype.insert=function(e){return w.insert[e]},PoEditorApi.prototype.exportView={fileType:"flow",init:function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 0==$("#customWatermarkWrap").length&&$("<div id='customWatermarkWrap' style='position:fixed;z-index:-1;top:100px;left:100px;'></div>").appendTo("body"),this.config=t,this.fileType=t.fileType||"flow",this.wrapper="#customWatermarkWrap",e.next=6,a.default.init({type:"svg",fileType:t.fileType,ids:t.ids,watermark:{download:t.watermark.download,custom:t.watermark.custom},wrapper:this.wrapper});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),svgToImage:function(){var e=C(k().mark(function e(t,n,i){var o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.indexOf("jpg")>-1&&"transparent"==("mind"==this.fileType?$(t.content).find("#svgbackgroundid rect").attr("fill"):$(t.content).find("#svgbackgroundid").attr("fill"))&&(o=$("<div>"+t.content+"</div>"),"mind"==this.fileType?o.find("#svgbackgroundid rect").attr("fill","#ffffff"):o.find("#svgbackgroundid").attr("fill","#ffffff"),t.content=o.html()),t.content=t.content.replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href"),e.next=4,a.default.drawCanvas(t,n,i);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}(),setWatermark:function(e){var t=e.custom,n=e.download;return a.default.setCustomWatermark(t.img,t.text,this.fileType),a.default.setWatermark(n,this.fileType)},setCustomWatermark:function(e){return a.default.setCustomWatermark(e.img,e.text,this.fileType)},setDownloadWatermark:function(e){return a.default.setWatermark(e,this.fileType)},clearSvg:function(){$(this.wrapper).empty()}},PoEditorApi.prototype.getViewBox=function(){if("flow"===this.fileType||"designer"===this.fileType)return FlowView.box;this.fileType},PoEditorApi.prototype.exportFileDrawCanvas=function(){var e;return(e=a.default).drawCanvas.apply(e,arguments)},PoEditorApi.prototype.exportFileInit=function(){var e;return(e=a.default).init.apply(e,arguments)},PoEditorApi.prototype.exportSetPageColor=function(){var e;return(e=a.default).setPageColor.apply(e,arguments)},PoEditorApi.prototype.exportSetWatermark=function(){var e;return(e=a.default).setWatermark.apply(e,arguments)},PoEditorApi.prototype.exportDrawBrand=function(){var e;return(e=a.default).drawBrand.apply(e,arguments)},PoEditorApi.prototype.openCorner=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tit,n=e.pos,i=void 0===n?"right":n,o=e.cb;r.mindCorner.showCorner(t,i,function(){o&&o()})},PoEditorApi.prototype.handlerHeaderBtn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isShow,n=e.btnName,i=e.selector;v.headerUI.handlerHeaderBtn({isShow:t,btnName:n,selector:i})},PoEditorApi.prototype.resizeMax=function(){var e=editorGlobal.mindMap.view.scale;e>2.8||(e+=.2,editorGlobal.mindMap.view.setScale(e))},PoEditorApi.prototype.resizeMin=function(){var e=editorGlobal.mindMap.view.scale;e<.4||(e-=.2,editorGlobal.mindMap.view.setScale(e))},PoEditorApi.prototype.resizeVal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e<.4&&(e=.4),e>2.8&&(e=2.8),editorGlobal.mindMap.view.setScale(e)},PoEditorApi.prototype.fitTheCanvas=function(){editorGlobal.mindMap.renderer.moveTopicToCenter(),editorGlobal.mindMap.view.fit()},PoEditorApi.prototype.moveTopicToCenter=function(){editorGlobal.mindMap.renderer.moveTopicToCenter()},PoEditorApi.prototype.moveTopicOffset=function(e,t){editorGlobal.mindMap.renderer.moveTopicOffset(e,t)},PoEditorApi.prototype.setPrivileges=function(){var e;(e=u.vipState).set.apply(e,arguments)},PoEditorApi.prototype.ClipboardItem=function(){return d(h.ClipboardItem,Array.prototype.slice.call(arguments))},PoEditorApi.prototype.write=function(){return h.write.apply(void 0,arguments)},PoEditorApi.prototype.imageToBlob=C(k().mark(function e(){var t=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.imageToBlob.apply(void 0,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),PoEditorApi.prototype.collapaedOrExpand=function(e,t,n,i,o){editorGlobal.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL",e,t,n,i,o)},PoEditorApi.prototype.setTopicImg=function(e,t,n,i){editorGlobal.mindMap.emit("set_topic_img",null,{url:e,originalUrl:t},n,i)},PoEditorApi.prototype.guideHandler={getDepth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:editorGlobal.mindMap.renderer.mindTree;return x.Util.getDepth(e)},renderGuide:function(e){y.default.renderGuide(e)},mobiMoveToViewable:function(e,t){y.default.controller.mobiMoveToViewable(e,t)},getCentreDomId:function(){return y.default.controller.getCentreDomId()}},PoEditorApi.prototype.renderMindNavigator=function(e,t,n){return new b.MindNavigator(e,t,n)},PoEditorApi.prototype.setKeyBoardHeight=function(e){editorGlobal.mindMap.emit("setKeyBoardHeight",e.height)},PoEditorApi.prototype.getcollaUserCount=function(){return"undefined"==typeof publicCLB?1:publicCLB.collaUserCount||1}},47306:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0,n(5682),n(65528),n(87812),n(1053),n(82403),n(12638),n(33809),n(13253),n(6284),n(96038),n(69268),n(86837),n(84889),n(14237);var o=n(92380),a=i(n(6535)),r=t.Util={injectExtraAsynCall:function(e,t,n){if(window.editorGlobalConfig&&"function"==typeof window.editorGlobalConfig[e])window.editorGlobalConfig[e](t,function(){n.apply(void 0,arguments)});else{if(window.editorGlobalConfig&&void 0!==window.editorGlobalConfig[e])return window.editorGlobalConfig[e];n&&n(t)}},getUrlParams:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},saveTokenToLocal:function(e){var t=JSON.stringify(e);localStorage.setItem("user",t)},getTokenFromLocal:function(){return JSON.parse(localStorage.getItem("user"))},getCookies:function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return-1==n&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""},setCookies:function(e,t,n){var i=new Date;i.setDate(i.getDate()+n),document.cookie=e+"="+escape(t)+(null==n?"":";path=/;expires="+i.toGMTString())},ajax:function(e){var t=this.getUrlParams("token")||this.getCookies("token");if(e.noToken||t){if(!e.onSend||0!=e.onSend()){var n=""==location.port?"":"/v5api";e.isExport&&(n=""==location.port?"":"/v5api_export"),e.isTemp&&(n=""==location.port?"http://v3.processon.com":"/v5api_temp");var i={type:"POST",headers:{token:t},contentType:"application/x-www-form-urlencoded",processData:!0};return(e=$.extend(i,e)).headers.token||delete e.headers.token,$.ajax({url:n+e.url,type:e.type,traditional:!0,headers:e.headers,data:e.data,contentType:e.contentType,processData:e.processData,success:function(t){if(e.isErr)return e.success&&e.success(t);var n=o.errorFn[t.error];if("function"==typeof n)return n(e);var i=o.codeFn[t.code];if("function"==typeof i)return i(e,t);"success"==t.result||1==e.isTemp?e.success&&e.success(t):e.error&&e.error(t)},error:function(t){e.error&&e.error(t)}})}}else{var a=this;this.injectExtraAsynCall("onnotoken",{code:null},function(){a.loginWindow()})}},filterXss:function(e){return null==e||""==e?"":e=(e=(e=(e=(e=(e=(e=e.toString()).replace(/</g,"&lt;")).replace(/%3C/g,"&lt;")).replace(/>/g,"&gt;")).replace(/%3E/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},restoreXss:function(e){return null==e||""==e?"":e=(e=(e=(e=(e=(e=e.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&#39;/g,"'")).replace(/&quot;/g,'"')).replace(/&amp;lt;/g,"<")).replace(/&amp;gt;/g,">")},getHexColor:function(e){var t={};if("transparent"!=e){var n=function(e){return("0"+parseInt(e).toString(16)).slice(-2)},i=e.replace(/[^\d,\.]/g,"");return t.rgb=i,e=n((e=e.replace(/[^\d,\.]/g,"").split(","))[0])+n(e[1])+n(e[2]),t.hex=e,t}return null},isJSONString:function(e){try{return"object"==w(e)||"object"==w(JSON.parse(e))}catch(e){return!1}},getRgbFromHex:function(e){if(e.indexOf("rgb")>=0)return e;var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},blendHexColors:function(e,t){var n=this.hexToRGBA(e),i=this.hexToRGBA(t),o=n[0],a=n[1],r=n[2],s=n[3],l=i[0],c=i[1],d=i[2],u=i[3],p=s+u*(1-s),h=Math.round((o*s+l*u*(1-s))/p),m=Math.round((a*s+c*u*(1-s))/p),f=Math.round((r*s+d*u*(1-s))/p);return this.rgbaToHex(h,m,f,p)},hexToRGBA:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?parseInt(t[4],16)/255:1]:null},rgbaToHex:function(e,t,n,i){return"#"+("000000"+(e<<16|t<<8|n).toString(16)).slice(-6)+("00"+Math.round(255*i).toString(16)).slice(-2)},isMac:function(){return/macintosh|mac os x/i.test(navigator.userAgent)},splitDate:function(e){if(""!=e){var t="",n=e.split(" ");if(n[0].indexOf("-")>=0){var i=n[0].split("-");t=(new Date).getFullYear()==i[0]?i[1]+"-"+i[2]:i}return n[1].indexOf(":")>=0&&(t+=" "+(i=n[1].split(":"))[0]+":"+i[1]),t}},showUploading:function(){var e=$("<div class='mind-upload-tip'><span class='mind-icons rotate1'>&#xe65b;</span> <span>"+a.default.t("js.Uploading_now")+"......</span></div>");e.appendTo("body"),e.css({top:60}).show()},getDepth:function(e){var t=0,n=0,i=0;return function e(o,a){n=Math.max(n,a),i=Math.max(i,a),t=Math.max(n,i),o.children&&o.children.length>0&&o.children.forEach(function(t){e(t,a+1)}),o.leftChildren&&o.leftChildren.length>0&&o.leftChildren.forEach(function(t){e(t,a+1)})}(e,1),t},hideUploading:function(){$(".mind-upload-tip").remove()},inputTimer:null,doInput:function(e){clearTimeout(this.inputTimer),this.inputTimer=setTimeout(function(){e()},500)},isUrl:function(e){return!!new RegExp("^(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~!;*\\+#]*[\\w\\-\\@?^=%&/~\\+#])?(#.+)?$","i").test(e)},comData:{loadJs:[]},loadJs:function(e,t){var n=0,i=e.length,o=this.comData;function a(){n>=i&&"function"==typeof t&&t()}!function(e){e.forEach(function(e){o.loadJs[e]?(n++,a()):function(e,t){e=e+="?v="+(new Date).getTime();var n=document.createElement("script"),i=t||function(){};n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,i())}:n.onload=function(){i()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}(e,function(){o.loadJs[e]=!0,n++,a()})})}(e)},getImgsizeByUrl:function(e,t){var n=new Image;n.src=e,n.onload=function(){t(n)}},localChange:function(e){var t=$.extend({tmp:Math.random()},e);localStorage.setItem("po_local_change_edit",JSON.stringify(t))},getCharLength:function(e){if("string"==typeof e){for(var t=0,n=0;n<e.length;n++)e.charCodeAt(n)<0||e.charCodeAt(n)>255?t+=2:t+=1;return t}return 0},confirm:function(e){var t=$("#global_confirm_window"),n=" ",i=e.okval||a.default.t("js.Sure"),o=e.title||a.default.t("js.Please_confirm"),r=e.cancelval||a.default.t("js.Cancel_on");e.tokenClass&&(n=e.tokenClass),t.length?(t.find(".dialog-title").html(o),t.find(".dlg-content").html(e.content),t.find(".close").html(r),t.find(".okbtn").html(i)):t=$("<div id='global_confirm_window' tabindex='-1' class='dialog-box confirm-box "+n+"' > <h2 class='dialog-title'>"+o+"</h2><div class='dlg-content'>"+e.content+"</div><div class='dlg-buttons'><span class='pro-btn basic cancelbtn close' style='margin-right:16px'>"+r+"</span><span class='pro-btn default okbtn'>"+i+"</span></div></div>").appendTo("body"),""==e.cancelval?t.find(".close").hide():t.find(".close").show(),e.width&&t.css("width",e.width),e.height&&t.css("height",e.height),e.hiddenOK?t.find(".okbtn").css("visibility","hidden"):t.find(".okbtn").css("visibility","visible"),e.hiddenCancel?t.find(".cancelbtn").css("display","none"):t.find(".cancelbtn").css("visibility","inline-block"),t.dialog(),setTimeout(function(){t.focus()},300),t.off("keyup.confirm").on("keyup.confirm",function(e){13==e.keyCode&&t.find(".okbtn").trigger("click")}),t.find(".okbtn").off().on("click",function(n){t.dialog("close"),e.onConfirm&&e.onConfirm(n),t.off("keyup.confirm")}),t.find(".cancelbtn").off("click.cancel").on("click.cancel",function(n){e.onCancel&&e.onCancel(n),t.dialog("close"),t.off("keyup.confirm")})},loginWindow:function(e,t,n){var i=navigator.userAgent;if(i.indexOf("MSIE ")>-1||i.indexOf("Trident/")>-1||i.indexOf("Edg/")>-1)"/"==window.location.pathname?window.location.href="/login":window.location.href="/login?redirect="+encodeURIComponent(window.location.href);else if(void 0===e&&(e="open"),"open"==e){$("#loginWindow").length&&$("#loginWindow").remove();var o=$("<div id='loginWindow' style='width:448px;height:560px;padding:0;border-radius: 8px;overflow: hidden;box-sizing: border-box' class='loginWindow' ><img src='"+staticBasePath+"/assets/images/login/loading.gif' style='width:40%;margin:230px auto;display: block'/></div>").appendTo("body");o.append("<iframe id='loginWindow-content' class='loginWindow-content' src='/login_window' style='display:none;width:100%;height:100%;border:0'></iframe>"),$("#loginWindow-content").off().on("load",function(){var e=$(this);$("#loginWindow img").remove(),e.show(),"function"==typeof t&&(window.loginCallback=t),o.dialog({closable:!0,onClose:function(){"function"==typeof t&&n&&t(n),(e.contents().find("#login-form-registerok").is(":visible")||e.contents().find("#login-form-registerteam").is(":visible"))&&location.reload()}}),o.css("zIndex","99999"),$("#po-dlg-mask").css("zIndex","99998")}),o.find(".po-dialog-close").click(function(){o.dialog("close")})}else"close"==e&&$("#loginWindow").dialog("close")},throttle:function(e,t){var n,i,o;return t=t||200,function(){var a=this,r=arguments;n?(i=e,o=r):(e.apply(a,r),i=null,o=null,n=!0,setTimeout(function(){i&&(i.apply(a,o),i=null,o=null),n=!1},t))}},ctrlToCommand:function(e){return this.isMac()&&(e=e.replace(/Ctrl/,"<span class='po-diagraming-icons hotkey' style='font-size: 12px'>&#xe795;</span>").replace(/Alt/,"<span class='po-diagraming-icons hotkey' style='font-size: 12px'>&#xe9e0;</span>")),e}};window.toolUtil=window.Util=r},12611:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.dataURLToBlob=o,t.imageToBlob=function(e){return new Promise(function(t,n){if(i.reImgBase64.test(e))return t(o(e));var a=new XMLHttpRequest;a.open("get",e,!0),a.responseType="blob",a.onload=function(){this.status>=200&&this.status<300||304==this.status?t(this.response):t(null)},a.onerror=function(e){this.onload=null,this.onerror=null,t(null)},a.send()})},t.imgToBlob=function(){var e=C(k().mark(function e(t){var n,o,a,r,s=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"image/png",o=document.createElement("canvas"),a=o.getContext("2d"),e.next=5,(0,i.loadImg)(t,!0);case 5:return r=e.sent,e.abrupt("return",(o.width=r.width,o.height=r.height,a.drawImage(r,0,0,r.width,r.height),new Promise(function(e,t){o.toBlob(function(t){e(t)},n)})));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.readBlob=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/plain";return new Promise(function(n,i){var o=new FileReader;t.startsWith("text/")?o.readAsText(e,"utf-8"):o.readAsDataURL(e),o.onload=function(){this.onload=null,this.onerror=null,n(o.result)},o.onerror=function(e){this.onload=null,this.onerror=null,n(null)}})},t.strToBlob=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/plain";return new Blob([e],{type:t})},n(83403),n(28293),n(95313),n(33488),n(70116),n(4790),n(82403),n(12638),n(37212),n(20005),n(13552),n(42712),n(42211),n(20306),n(32209),n(68801),n(18097),n(62495),n(72216),n(63061),n(81475),n(57895),n(77439);var i=n(10437);function o(e,t){var n=i.reImgBase64.exec(e),o="image/png";n&&(e=e.substring(n[0].length),o=n[1]),t&&(o=t);for(var a=window.atob(e),r=a.length,s=new Uint8Array(r);r--;)s[r]=a.charCodeAt(r);return new Blob([s],{type:o})}},28325:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.rgb2hex=function(e){return e.startsWith("#")||!e.startsWith("rgb")?e:"#"+e.replace(/rgba?\(|\)/g,"").split(",").slice(0,3).map(function(e){return(+e).toString(16).padStart(2,"0")}).join("")},n(82403),n(33809),n(6284),n(37212),n(54938)},14310:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentSelect=function(){var e="",t="";if(window.getSelection){var n=window.getSelection();e=n.toString();var i=n.getRangeAt(0),o=document.createElement("div");o.appendChild(i.cloneContents()),t=o.innerHTML}else if(document.selection){var a=document.selection.createRange();e=a.text,t=a.htmlText}return{html:t,text:e}},t.isEditTextElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;for(var n=e.target;n&&1==n.nodeType&&!(["textarea","input"].includes(n.tagName.toLowerCase())||t&&["","true"].includes(n.getAttribute("contenteditable")));)n=n.parentNode;return n&&1==n.nodeType?["textarea","input"].includes(n.tagName.toLowerCase())?1:t&&["","true"].includes(n.getAttribute("contenteditable"))?2:0:0},t.pasteString=function(e,t){if(e){var n;if(!t)e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\n/g,"<br>")).replace(/\u2029/g,"<br>").replace(/\u2028/g,"<br>")).replace(/\x0a/g,"<br>").replace(/\x0d/g,"")).replace(/[\u200B-\u200D\uFEFF]/g,"")).replace(/[\u0000-\u0008\u000a-\u001f]/g,""),document.activeElement&&"value"in document.activeElement?"textarea"!==(null===(n=document.activeElement)||void 0===n?void 0:n.tagName.toLowerCase())&&(e=e.replace(/\t/g," ")):e=(e=e.replace(/\t/g," ")).trim().replace(/(\s+)/g,function(e,t){var n=t.length;if(1===n)return e;for(var i="",o=0;o<n;o++)i+=o%2==0?"&nbsp;":" ";return i});var o,a=window.getSelection();if(a.rangeCount>0&&(o=a.getRangeAt(0)),document.activeElement&&"po-url-address"==document.activeElement.id)try{e=i.insert.link.filterUrl(e)}catch(e){}if(document.queryCommandSupported("insertHTML"))try{if(navigator.userAgent.toLowerCase().indexOf("firefox")>=0)throw new Error("火狐浏览器不支持！");document.execCommand("insertHTML",!1,e)}catch(t){var r=document.activeElement;if(r&&("true"===r.contentEditable||"INPUT"===r.tagName||"TEXTAREA"===r.tagName)){var s=document.activeElement,l=s.selectionStart,c=s.selectionEnd,d=s.contentEditable,u=["inherit","false"].includes(d)?"value":"innerHTML",p=document.activeElement[u];void 0!==l&&void 0!==c&&void 0!==p?document.activeElement[u]=p.substring(0,l)+e+p.substring(c):document.execCommand("insertHTML",!1,e)}}else o&&o.pasteHTML&&o.pasteHTML(e);if(t&&e.includes('class="equation-text"')){var h=(document.activeElement||document.body).querySelectorAll(".equation-text");Array.prototype.forEach.call(h,function(e){e.children.length<2&&(e.innerHTML="<span></span><span>&#65279;</span>")}),i.insert.equation.renderEquation(document.activeElement)}}},t.reInlineTag=void 0,n(96700),n(27531),n(82403),n(33809),n(38887),n(6284),n(47958);var i=n(5263);t.reInlineTag=/^<(b|i|span|u[\s>]|strike|font)/},94449:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.webSocketUrl=t.isTest=t.isLocal=t.eventBusUrl=void 0,n(27531),n(82403),n(12638);var i=t.isTest=window.location.port||/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/.test(window.location.hostname),o=t.isLocal=["localhost","127.0.0.1"].includes(window.location.hostname),a="https:"==window.location.protocol?"wss:":"ws:";t.webSocketUrl=a+(i||o?"//192.168.10.135/websocket ":"//wpscb.processon.com/websocket"),t.eventBusUrl=i?"http://120.92.106.157:9091":"https://pocb.processon.com"},10437:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.loadImg=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(n,i){var o=new Image;o.src=e,t&&(o.crossOrigin="anonymous"),o.onload=function(){this.onload=null,this.onerror=null,n(o)},o.onerror=function(e){this.onload=null,this.onerror=null,n(null)}})},t.reImgBase64=void 0,n(4790),t.reImgBase64=/^data\:(image\/.+);base64,/},78322:function(e,t,n){n(69268),n(84889),Object.defineProperty(t,"__esModule",{value:!0});var i=n(12611);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var o=n(10437);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var a=n(94449);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var r=n(14310);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))});var s=n(73534);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var l=n(28325);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))})},73534:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.sha1=t.secretKey=t.md5=void 0,n(33809);var o=i(n(11749)),a=function(e){return o.default.MD5(e).toString()};t.md5=a;var r=t.secretKey="processon-edit";window.md51=a,t.sha1=function(e){return o.default.HmacSHA1(e,r).toString()}},62937:function(e,t,n){n(61894),n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.vipState=void 0;var o=i(n(66603));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.vipState={preTime:0,IntervalTime:12e4,privileges:{flowShapeNum:1/0,mindShapeNum:1/0,themesCustomise:1/0,backgroundImage:!0,Latex:!0,watermark:!0,docerPicture:!0,docerIcon:!0,flowTemplate:!0,mindTemplate:!0,mindTheme:!0,canvasNum:20,uploadCoverImg:!0,skeleton:!0,compact:!0,topicShape:!0},userData:{},wpsVipInfo:[],init:function(){var e=this;injectExtraAsynCall("onTestPrivilege",null,function(t,n){e.set(t,n)})},set:function(e,t){"object"==w(e)&&(this.privileges=r(r({},this.privileges),e)),"object"==w(t)&&(this.userData=t,this.wpsVipInfo=t.wpsVipInfo||[]),this.preTime=(new Date).getTime()},test:function(e){if(void 0===this.privileges[e])return!1;var t=(new Date).getTime();return t-this.preTime<this.IntervalTime||(this.preTime=t,this.init()),this.privileges[e]},limit:function(e){e.type,e.pos;injectExtraAsynCall("onShowVipLimit",e,function(e){})}}},23985:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculate=g,t.parseArithmetic=f,t.parseArithmeticTernaryExpression=function e(t,n){if("number"==typeof t)return t;var i=t.match(p);if(i){var o=r(i,4),a=o[1],s=o[2],l=o[3],c=a.match(m);if(c){var d=r(c,4),u=d[1],h=d[2],g=d[3];u=f(u,n),g=f(g,n);var v=!1;switch(h){case"===":v=u===g;break;case"==":v=u==g;break;case"!==":v=u!==g;break;case"!=":v=u!=g;break;case"<=":v=u<=g;break;case">=":v=u>=g;break;case"<":v=u<g;break;case">":v=u>g;break;default:v=!1}return v?f(s,n):e(l,n)}return f(a,n)?f(s,n):e(l,n)}return f(t,n)},n(61894),n(5682),n(87812),n(1053),n(82403),n(33809),n(13253),n(6284),n(69268),n(84889),n(54938),n(14237);var i=Math.E,o=Math.LN2,a=Math.LN10,s=Math.LOG10E,l=Math.PI,c=Math.SQRT1_2,d=Math.SQRT2,u=function(){var e=Object.create(null);return Object.getOwnPropertyNames(Math).forEach(function(t){e["Math."+t]=Math[t]}),e}(),p=/^([^?]+)\?([^:]+):(.+)$/,m=/^(.+)\s*(===|!==|==|!=|<=|>=|<|>)\s*(.+)$/;function f(e,t){if("number"==typeof e)return e;if(t)for(var n=function(){var t=r(p[u],2),n=t[0],i=t[1];if(Array.isArray(i))i.forEach(function(t,i){var o=new RegExp("".concat(n,"\\[").concat(i,"\\]"),"g");e=e.replace(o,t)});else if("string"==typeof i||"number"==typeof i){var o=new RegExp("\\b".concat(n,"\\b"),"g");e=e.replace(o,i)}},u=0,p=Object.entries(t);u<p.length;u++)n();var h=g(e=e.replace(/Math.E/g,i).replace(/Math.LN2/g,o).replace(/Math.LN10/g,a).replace(/Math.LOG10E/g,s).replace(/Math.PI/g,l).replace(/Math.SQRT1_2/g,c).replace(/Math.SQRT2/g,d),!0);return"number"!=typeof h||isNaN(h),h}function g(e,t){t&&(e=function(e){return e.replace(/\s/g,"")}(e)),e=function(e){for(var t;t=/(Math\.\w+)\(/.exec(e);){var n=t.index+t[0].length-1,i=b(e,n),o=y(e,n,i).map(function(e){return g(e)});e=x(e,t.index,i,u[t[1]].apply(u,h(o)))}return e}(e);var n=[],i=[],o=0,a=0,r=1,s=0,l=0;e+="#";for(var c=0;c<e.length;c++)if(" "!=e[c])if("("!=e[c])if(0==k(e[c])||k(e[c-1])>0&&1==k(e[c]))"e"==e[c]?(l="-"==e[c+1]?-1:1,"-"==e[c+1]&&c++,s=o,o=0,a=0):"."==e[c]?a=10:1==k(e[c])?r="-"==e[c]?-1:1:a?(o+=e[c]/a,a*=10):o=10*o+(e[c]-0);else{for(n.push((l?s*Math.pow(10,o*l):o)*r),o=0,a=0,r=1,l=0,s=0;i.length&&k(i[i.length-1])>=k(e[c]);){var d=n.pop(),p=n.pop(),m=i.pop();n.push(w(p,m,d))}i.push(e[c])}else e=v(e,c--);return n.pop()}function v(e,t){var n=b(e,t),i=e.substring(t+1,n);return x(e,t,n,g(i))}function b(e,t){for(var n=1,i=t+1;i<e.length;i++)if("("==e[i]?n++:")"==e[i]&&n--,0==n)return i;return-1}function y(e,t,n){for(var i=[],o=function(e,t,n){for(var i=[],o=1,a=t+1;a<n;a++)"("==e[a]?o++:")"==e[a]&&o--,","==e[a]&&1==o&&i.push(a);return i}(e,t,n),a=t+1,r=0;r<o.length;r++)i.push(e.substring(a,o[r])),a=o[r]+1;return i.push(e.substring(a,n)),i}function x(e,t,n,i){return e.substring(0,t)+i+e.substring(n+1)}function w(e,t,n){switch(t){case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return e/n;case"%":return e%n}}function k(e){switch(e){case"#":return-1;case"+":case"-":return 1;case"*":case"/":case"%":return 2;default:return 0}}},45861:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.poFilterXSS=t.defFilterXSS=void 0;var o=i(n(72342)),a={whiteList:{a:["class","target","href","title"],b:[],br:[],div:["style"],em:[],font:["color","face"],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src"],li:[],ol:[],p:[],span:["class","style","contenteditable","data-index","data-equation","data-id","data-name","data-type","data-url","data-charttype"],strike:[],strong:[],u:[],ul:[],sub:[],sup:[],section:[],pp:[],cp:[]}},r=t.poFilterXSS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return(0,o.default)(e,t)},s=t.defFilterXSS=function(e,t){if("object"==w(e)&&null!=e)if("number"==typeof e.length)for(var n=0;n<e.length;n++)"string"==typeof e[n]?e[n]=r(e[n]):e[n]=s(e[n]);else for(var i in e)if("string"==typeof e[i]){if("code"==t&&"text"==i)continue;e[i]=r(e[i])}else e[i]=s(e[i],i);return e}},96871:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.javaScriptXssFix=void 0;var i=n(98375);t.javaScriptXssFix={init:function(){void 0===window.editorGlobal&&(window.editorGlobal={}),void 0===editorGlobal.jsXss&&(editorGlobal.jsXss={}),editorGlobal.jsXss.loaded||(editorGlobal.jsXss.loaded=!0,function(){var e=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML");Object.defineProperty(Element.prototype,"innerHTML",{get:function(){return e.get.call(this)},set:function(t){editorGlobal.jsXss.open&&t&&"string"==typeof t&&(t=(0,i.domFilterXSS)(t)),e.set.call(this,t)}});var t=Object.getOwnPropertyDescriptor(Element.prototype,"outerHTML");Object.defineProperty(Element.prototype,"outerHTML",{get:function(){return t.get.call(this)},set:function(e){editorGlobal.jsXss.open&&e&&"string"==typeof e&&(e=(0,i.domFilterXSS)(e)),t.set.call(this,e)}});var n=Element.prototype.insertAdjacentHTML;Element.prototype.insertAdjacentHTML=function(e,t){editorGlobal.jsXss.open&&t&&"string"==typeof t&&(t=(0,i.domFilterXSS)(t)),n.call(this,e,t)}}()),void 0===editorGlobal.jsXss.open&&(editorGlobal.jsXss.open=!0)},close:function(){void 0===window.editorGlobal&&(window.editorGlobal={}),void 0===editorGlobal.jsXss&&(editorGlobal.jsXss={}),editorGlobal.jsXss.open=!1},open:function(){void 0===window.editorGlobal&&(window.editorGlobal={}),void 0===editorGlobal.jsXss&&(editorGlobal.jsXss={}),editorGlobal.jsXss.open=!0}}},39237:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.svgFilters=t.svgDisallowed=t.svg=t.mathMlDisallowed=t.mathMl=t.html=void 0,t.html=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],t.svg=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"],t.svgFilters=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"],t.svgDisallowed=["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"],t.mathMl=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"],t.mathMlDisallowed=["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]},98375:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.domFilterXSS=void 0,n(45987),n(27531),n(24932),n(38887),n(37212),n(69268),n(19268),n(14237);var o=i(n(72342)),a=n(39237),s=[].concat(h(a.html),h(a.svg),h(a.mathMl),h(a.svgFilters),["iframe:src","use","animate","semantics","annotation","link","foreignObject"]).reduce(function(e,t){if(t.includes(":")){var n=r(t.split(":"),2),i=n[0],o=n[1];e[i]=o.split(",")}else e[t]=[];return e},{}),l=["srcdoc"],c={whiteList:s,onTag:function(e,t,n){if(!n.isWhite&&!n.isClosing)return""},onIgnoreTagAttr:function(e,t,n,i){if(!l.includes(t)&&!t.startsWith("on"))return t+'="'+o.default.escapeAttrValue(n)+'"'},stripIgnoreTagBody:!0},d=new o.default.FilterXSS(c),u=new(function(){function e(){T(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.cache=new Map,this.limit=t,this.sameValue=Symbol("===")}return M(e,[{key:"get",value:function(e){if(!this.cache.has(e))return null;var t=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,t),t===this.sameValue?e:t}},{key:"set",value:function(e,t){if(this.cache.size>=this.limit){var n=this.cache.keys().next().value;this.cache.delete(n)}e===t&&(t=this.sameValue),this.cache.set(e,t)}}]),e}())(200);t.domFilterXSS=function(e){if(!e||"string"!=typeof e)return e;var t=u.get(e);if(null!==t)return t;var n=d.process(e);return u.set(e,n),n}},68700:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.mindImageUI=void 0,n(33152),n(4790);var o=i(n(32483));t.mindImageUI={init:function(){this.mindMap=editorGlobal.mindMap,this.initEvent()},initEvent:function(){var e=this;editorGlobal.mindMap.on("viewImage",this.viewImage.bind(this)),editorGlobal.mindMap.on("topic_img_click",this.showResizeDot.bind(this)),editorGlobal.mindMap.on("selected_change",function(t){$("#img-dot[topic_id=".concat(t.id,"]")).length&&e.showResizeDot(t)}),this.mindMap.on("view_data_change_real_time",this.viewDataChange.bind(this)),this.mindMap.on("topic_selected",this.hide.bind(this)),this.mindMap.on("topic_image_unselected",this.hide.bind(this)),this.mindMap.on("remove_topic_img",this.hide.bind(this))},currentScale:1,viewImage:function(e){var t=this;if(e&&"string"==typeof e){var n=$("#view_img_box");n.length>0&&n.remove(),n=$("<div id='view_img_box' class='view_img_box'><div class='view-top'><a class='view-back' href='javascript:;'><span class='po-diagraming-icons'>&#xe6cf;</span>".concat(o.default.t("js.Return"),"</a></div>")+"<div class='view-con'><div class='view-image'><img src='"+e+"'/></div></div></div>").appendTo($("body")),$('<div id="test-img1" style="position:absolute;bottom:50px;left:100px;background:#000;color:#fff"></div>').appendTo(n),$(".view-image img").css("width","100%"),$(".view-image img").on("load",function(){n.css({transform:"scale(1)",webkitTransform:"scale(1)",opacity:1})});var i=$(".view-image"),a=i.outerWidth(),r=i.outerHeight();i.css({width:"100%",height:"auto"});var s,l,c,d=0,u=0,p=1,h=0,m={x:.5*a,y:.5*r};t.currentScale=p;var f,g,v,b=0,y=0,x=0;$("#view_img_box").off().on("click",".view-back",function(){n.css({transform:"scale(.2)",webkitTransform:"scale(.2)",opacity:0}),setTimeout(function(){n.remove()},500)}),editorGlobal.mindMap.execCommand("CLEAR_ALL_SELECTED_TOPIC"),$("#view_img_box").off("touchstart").on("touchstart",function(e){e.stopPropagation()}),$("#view_img_box").off("touchmove").on("touchmove",function(e){e.stopPropagation(),e.preventDefault()});var w=0,k=0;void 0!==_&&i[0].removeEventListener("touchstart",_),void 0!==C&&i[0].removeEventListener("touchmove",C),void 0!==T&&i[0].removeEventListener("touchend",T);var _=function(e){var n=e.touches;if(n.length<2){var o=n[0];f=(new Date).valueOf(),c=0,s=o.pageX,l=o.pageY;var a=i.offset();w=a.left,k=a.top-41;var r=(s.toFixed(2)-a.left)/t.currentScale,d=(l.toFixed(2)-a.top)/t.currentScale;m=$.extend(!0,m,{x:r,y:d})}if(2==n.length){c=1;var u=n[0],p=n[1],g=u.pageX.toFixed(2)-0,v=u.pageY.toFixed(2)-0,b=p.pageX.toFixed(2)-0,y=p.pageY.toFixed(2)-0;h=Math.sqrt(Math.pow(b-g,2)+Math.pow(y-v,2)).toFixed(2);var x={x:((b+g)/2-a.left)/t.currentScale,y:((y+v)/2-a.top)/t.currentScale};m=$.extend(!0,m,x)}i[0].addEventListener("touchmove",C,!1)},C=function(e){var n=e.touches;if(0==c){var o=n[0];d=o.pageX-s,u=o.pageY-l;var a=$("#view_img_box").outerWidth(),r=$("#view_img_box").outerHeight(),f=i.outerHeight()*t.currentScale,g=a-i.outerWidth()*t.currentScale,v=r-41-f;d>0&&d+w>=0&&(d-=d+w),d<0&&d+w<g&&(d+=g-(d+w)),1==t.currentScale&&(d=0);var _=u+k;if(u>0&&_>0)return u=1==t.currentScale?0:u-_,y=1==t.currentScale?0:y,i.css({left:b+d,top:y+u}),void(x=0);if(u<0)if(v>0)u=0;else{var C=r-41-(f+k+u);if(C>0)return u+=C,i.css({left:b+d,top:y+u}),void(x=0)}(Math.abs(d)>5||Math.abs(u)>5)&&(i.css({left:b+d,top:y+u}),x=0),(Math.abs(d)>1||Math.abs(u)>1)&&(x=0)}else if(1==c){var T=n[0],S=n[1],M=T.pageX.toFixed(2),D=T.pageY.toFixed(2),E=S.pageX.toFixed(2),A=S.pageY.toFixed(2),F=(Math.sqrt(Math.pow(E-M,2)+Math.pow(A-D,2)).toFixed(2)-h)/100;if(Math.abs(F)>.002){if(2==t.currentScale&&p+F>t.currentScale)return;t.currentScale=p+F,t.currentScale>=2&&(t.currentScale=2),t.currentScale<=1&&(t.currentScale=1);var I=$(".view-image"),O=$("#view_img_box").outerWidth(),L=i.outerWidth()*t.currentScale,P=i.outerHeight()*t.currentScale;P<r-41&&(m.y=0);var B="scale("+t.currentScale+")";i.css({webkitTransform:B,transform:B,transformOrigin:m.x+"px "+m.y+"px",webkitTransformOrigin:m.x+"px "+m.y+"px"});var N=I.offset(),z=N.left,j=N.top;z>0&&t.currentScale<2?b-=z:L+z<O&&t.currentScale<2&&(b+=O-(L+z)),j>41?y-=j-41:P+j<r&&P>r+41&&(y+=r-(P+j)),I.css({left:b,top:y})}x=0}},T=function(){g=(new Date).valueOf(),b+=d,y+=u,d=0,u=0,0==c?g-f<400&&function(){if(void 0!==v&&window.clearTimeout(v),++x>1){if($(".view-image").addClass("dbclick"),2==t.currentScale){t.currentScale=1;var e="scale("+t.currentScale+")";$(".view-image").css({webkitTransform:e,transform:e,top:0,left:0}),b=0,y=0}else{t.currentScale=2;var n="scale("+t.currentScale+")",o=i.outerHeight()*t.currentScale,a=$("#view_img_box").outerHeight();o<a-41?m.y=0:o-m.y+41<a&&(m.y-=a-(o-m.y+41)),i.css({webkitTransform:n,transform:n,transformOrigin:m.x+"px "+m.y+"px",webkitTransformOrigin:m.x+"px "+m.y+"px"})}x=0,p=t.currentScale}v=setTimeout(function(){x=0,$(".view-image").removeClass("dbclick")},400)}():1==c&&(h=0,p=t.currentScale),c=0,i[0].removeEventListener("touchmove",C,!1)};i[0].addEventListener("touchstart",_,!1),i[0].addEventListener("touchmove",C,!1),i[0].addEventListener("touchend",T,!1)}},showResizeDot:function(e,t){var n=this;return C(k().mark(function i(){var a,r,s,l,c,d,u,p,h,m,f,g;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!n.mindMap.opt.readonly){i.next=2;break}return i.abrupt("return");case 2:return a=$("#topic-image-"+e.id),i.next=5,editorGlobal.mindMap.execCommand("CLEAR_ALL_SELECTED_TOPIC");case 5:l=a.offset().top,c=a.offset().left,d=a.width(),u=a.height(),p=editorGlobal.mindMap.view.scale,$("#img-dot").remove(),$("#topic-image-wrap").remove(),$("#topic-image-resize-wrap").remove(),h=$("<div id='topic-image-resize-wrap' style='pointer-events:none;border: 1px dashed rgb(184, 184, 184);display: none;box-sizing: border-box;'/>"),$("body").append(h),h.css({position:"absolute",top:l-4*p,left:c-4*p,width:(d+8)*p+"px",height:(u+8)*p+"px"}),(m=$("<div id='topic-image-wrap' style='pointer-events:none;border: 1px solid #50c28b; box-sizing: border-box;'/>")).css({position:"absolute",top:l-4*p,left:c-4*p,width:(d+8)*p+"px",height:(u+8)*p+"px"}),$("body").append(m),f=$("<span title='".concat(o.default.t("js.Resize_picture_on"),"' id='img-dot' topic_id=\"").concat(e.id,"\" class='po-diagraming-icons'>&#xe8d6;</span>")),$("body").append(f),f.css({position:"absolute",top:l+(u+4)*p-8,left:c+(d+4)*p-8}).show(),g=0,$("#img-dot").off("touchstart.img-dot").on("touchstart.img-dot",function(t){t.stopPropagation();var n=t.originalEvent.touches;if(n.length<2){p=editorGlobal.mindMap.view.scale;var i=n[0],o=i.pageX,v=i.pageY;g=1,l=a.offset().top,c=a.offset().left}editorGlobal.mindMap.emit("closeControlBar"),$(document).off("touchmove.img-dot").on("touchmove.img-dot",function(e){var t=e.originalEvent.touches;if(1==g){var n=t[0],i=n.pageX,b=n.pageY,y=i-o,x=b-v;(Math.abs(y)>5||Math.abs(x)>5)&&(s=(r=d+y/p)*u/d,r>20&&(a.width(r),a.height(s),f.css({top:l+(s+4)*p-8,left:c+(r+4)*p-8}).show(),m.css({top:l-4*p,left:c-4*p,width:(r+8)*p+"px",height:(s+8)*p+"px"}),h.css({top:l-4*p,left:c-4*p}).show())),e.preventDefault(),e.stopPropagation()}}),$(document).off("touchend.img-dot").on("touchend.img-dot",function(){1==g&&(d=a.width(),u=a.height(),editorGlobal.mindMap.emit("set_topic_img",e,{w:d,h:u}),$(document).off("touchmove.img-dot"),$(document).off("touchend.img-dot"),g=0,f.hide(),m.hide(),h.hide())})}),t&&t.stopPropagation();case 15:case"end":return i.stop()}},i)}))()},viewDataChange:function(){var e=$(".topic-image.active");if(e.length){var t=$(e);t||(t=$(".topic-image.active"));var n=editorGlobal.mindMap.view.scale,i=$("#img-dot"),o=t.offset().top,a=t.offset().left,r=t.width(),s=t.height();i.css({position:"absolute",top:o+(s-4)*n,left:a+(r-4)*n}).show(),$("#topic-image-wrap").css({position:"absolute",top:o-4*n,left:a-4*n,width:(r+8)*n+"px",height:(s+8)*n+"px"})}else this.hide()},hide:function(){$("#img-dot").remove(),$("#topic-image-wrap").remove(),$("#topic-image-resize-wrap").remove()}}},7436:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.mindTipUI=void 0;var o=i(n(32483));n(17074),t.mindTipUI={init:function(){this.mindMap=editorGlobal.mindMap,this.initEvent()},initEvent:function(){this.mindMap.on("showPopTip",this.showPopTip.bind(this)),this.mindMap.on("closePopTip",this.closePopTip.bind(this))},showPopTip:function(e,t,n){var i=this,a=$("#mind-pop-tip");t||(t=""),0==a.length&&(a=$("<div id='mind-pop-tip' class='mind-pop-tip "+t+"'><span class='tip-text'></span><span class='cancel'>"+o.default.t("js.Cancel")+"</span></div>").appendTo("body")),a.children(".tip-text").html(e),a.off("click").on("click",".cancel",function(e){null==n||n(e),i.closePopTip(),e.stopPropagation()})},closePopTip:function(){$("#mind-pop-tip").remove()}}},59322:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.toolContainerUI=void 0;var i=n(83838),o=n(55887),a=n(21925);t.toolContainerUI={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$("body");this.containerEl=e,this.render(),this.renderHideInput(),this.el=$("#mind-mobile-toolContainer"),i.toolbar.init(this.el),o.themeUI.init(),a.outlineUI.init(this.el)},render:function(){this.containerEl.append('<div id="mind-mobile-toolContainer" class="mind-util-container"></div>')},renderHideInput:function(){this.containerEl.append('<input type="text" id="hide_edit_input" style="position: fixed; top: -1000px; left: 0;"></input>')}}},21925:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.outlineUI=void 0;var o=i(n(32483));t.outlineUI={init:function(e){this.mindMap=editorGlobal.mindMap,this.containerEl=e,this.render(),this.initEvent()},initEvent:function(){editorGlobal.mindMap.on("showOutlineMenu",this.showOutlineMenu),editorGlobal.mindMap.on("hideOutlineMenu",this.hideOutlineMenu)},render:function(){var e='<div id="link-to-outline" class="link-to-outline">\n            <div class="po-diagraming-icons"></div>\n            <div class="text text-overflow" full-title="'.concat(o.default.t("Outline"),'">').concat(o.default.t("Outline"),"</div>\n            </div>");this.containerEl.append(e)},timer:null,showOutlineMenu:function(){this.timer=setTimeout(function(){$("#link-to-outline").show()},500)},hideOutlineMenu:function(){clearTimeout(this.timer),$("#link-to-outline").hide()}}},55887:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.themeUI=void 0,n(61894),n(4790),n(82403),n(6284),n(69268),n(86837);var i=n(64458),o=n(52525),a=n(15240);t.themeUI={init:function(){this.loadThemes(),this.initEvent()},initEvent:function(){editorGlobal.mindMap.on("showThemeOperate",i.themeCustomise.showThemeOperate),editorGlobal.mindMap.on("selectTheme",this.selectTheme.bind(this))},loadThemes:function(){var e=this,t=o.configure_theme.mobi.themes_ids,n=$("#topic-theme-con"),i=["<div>"];$.each(t,function(e,t){var n=o.themesDepot[t],a="<span theme='"+t+"'><img src='"+staticBasePath+"/themes/mobi/"+n.thumbUrl.split("/").pop().replace("png","svg")+"'/></span>";i.push(a)}),i.push("</div>"),n.html(i.join(""));var r=editorGlobal.mindMap.mindData.theme;r&&!(0,a.isJSONString)(r)&&$("span[theme="+r+"]").length&&$("span[theme="+r+"]").addClass("select"),this.selectTheme(r),n.find("span[theme]").off("click").on("click",function(){var t=C(k().mark(function t(n){var i;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=editorGlobal.mindMap.mindData.theme,(i=$(this).attr("theme"))!=r&&(editorGlobal.mindMap.emit("closeControlBar"),editorGlobal.mindMap.setThemeConfig(i),editorGlobal.mindMap.emit("move_topic_to_center"),e.selectTheme(i),n.stopPropagation());case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())},selectTheme:function(e){var t,n=e||editorGlobal.mindMap.mindData.theme;$("span[theme]").removeClass("select"),(0,a.isJSONString)(n)||null===(t=$("span[theme="+n+"]"))||void 0===t||t.addClass("select")}}},83838:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.toolbar=void 0,n(27531),n(65528),n(69268),n(86837);var o=n(5263),a=n(27728),r=n(24364),s=n(15240),l=i(n(32483)),c=n(27251),d=n(83316);t.toolbar={init:function(e){this.mindMap=editorGlobal.mindMap,this.containerEl=e,this.render(),a.linkUI.init(e),this.initScript(),this.initDetailScript(),this.initEvent(),this.keyboardHeight=0},initEvent:function(){var e=this;this.mindMap.on("topic_selected",this.topicSelectedChange.bind(this)),this.mindMap.on("op-con-hide",this.hideBottom.bind(this)),this.mindMap.on("op-con-show",this.showBottom.bind(this)),this.mindMap.on("op-con-reset",this.resetBottom.bind(this)),this.mindMap.on("undoStackChanged",function(e){(0,c.injectExtraAsynCall)("onUndoStatus",0===e,function(){0===e?$(".mind_undo").addClass("disabled"):$(".mind_undo").removeClass("disabled")})}),this.mindMap.on("redoStackChanged",function(e){(0,c.injectExtraAsynCall)("onRedoStatus",0===e,function(){0===e?$(".mind_redo").addClass("disabled"):$(".mind_redo").removeClass("disabled")})}),this.mindMap.on("topic_note_click",function(t){if(e.mindMap.opt.readonlyList.note){e.mindMap.note.renderMobiPreviewBox(t.topicData,!1);var n=t.getData("note"),i=(0,s.restoreXss)(n);$("#mind-topic-remack").val(i)}}),this.mindMap.on("hide_page_header",function(){$(".op-con-top").hide()}),this.mindMap.on("show_page_header",function(){$(".op-con-top").show()}),this.mindMap.on("visualViewportResize",function(t){e.onVisualViewportResize(t)}),this.mindMap.on("clickComment",function(){e.swtichDetail("comment")})},onVisualViewportResize:function(e){if(1!==editorGlobal.mindMap.renderer.getSelectedIds().length)return this.hideBottom(),void(this.keyboardHeight=0);var t=$(".op-con").css("bottom");if(e>0)$(".op-con").is(":visible")&&"-100%"!==$(".op-con").css("bottom")&&$(".op-con").css("bottom",e),this.keyboardHeight=e;else{if($(".op-con").is(":visible")&&"-100%"!==$(".op-con").css("bottom")){var n=Math.floor(parseInt(t)-this.keyboardHeight);$(".op-con").css("bottom",n)}this.keyboardHeight=e}},hideBottom:function(){$(".op-con").css("bottom","-100%"),$(".op-con-item").hide(),$(".op-con-detail").css("bottom","-100%")},resetBottom:function(){$(".op-con").css("bottom",this.keyboardHeight),$(".op-con-item").hide(),$(".op-con-detail").css("bottom","-100%")},showBottom:function(){"brash"!==editorGlobal.mindMap.mode&&($(".op-con").css("bottom",this.keyboardHeight),editorGlobal.mindMap.emit("hideLinkBox"))},render:function(){this.renderTopToolBar(),this.renderBottomToolBar(),this.renderDetailPanel()},topicSelectedChange:function(e,t){1===t.length?"block"!=$(".mind-addLink-box").css("display")&&($(".op-con").find(".mind-disable").removeClass("mind-disable"),this.showBottom(),this.topicSettingEcho(),$("#op-insert").removeClass("op-insert-notclick")):(this.hideBottom(),$(".op-con-detail.mind-remark-panel").remove())},renderTopToolBar:function(){var e=' \n            <div class="op-con-top">\n                <div>\n                    <a tit="undo"><span style="font-size:21px;" class="mind_undo po-diagraming-icons disabled"></span></a>\n                    <a tit="redo"><span style="font-size:21px;" class="mind_redo po-diagraming-icons disabled"></span></a>\n                    <span id="save-tip" style="font-size:13px;color:#888;vertical-align: 2px;">'.concat(l.default.t("Saved"),'</span>\n                </div>\n                <div style="display:flex;">\n                    <a tit="search" style="margin-right:10px;"><span style="font-size:19px;" class="po-diagraming-icons"></span></a>\n                    <a tit="themes" style="margin-right:10px;"><span style="font-size:19px;" class="po-diagraming-icons"></span></a>\n                </div>\n            </div>\n        ');this.containerEl.append(e)},renderBottomToolBar:function(){var e=' \n                  <div class="op-con">\n                    <div class="op-top-tool">\n                        <div class="add-child">\n                            <a tit="child" style="font-size:23px;" class="po-diagraming-icons  mind-disable"></a>\n                        </div>\n                        <div op="true" class="div-center">\n                            <a tit="style" style="margin-right:43px" class="po-diagraming-icons mind-disable"></a>\n                            \x3c!--\t\t\t<a tit="image" style="font-size:23px;margin-right:10px;" class="mind-icons mind-disable">&#xe772;</a>--\x3e\n                            \x3c!--\t\t\t<a tit="remark" style="font-size:23px;margin-right:10px;" class="mind-icons mind-disable">&#xe779;</a>--\x3e\n                            \x3c!--\t\t\t<a tit="icon" style="font-size:23px;margin-right:10px;" class="mind-icons mind-disable">&#xe76f;</a>--\x3e\n                            <a tit="relate" style="margin-right:43px" class="po-diagraming-icons mind-disable"></a>\n                            <a tit="add" class="po-diagraming-icons mind-disable"></a>\n                            \x3c!-- <a tit="delete"  style="font-size:25px;" class="mind-icons mind-disable">&#xe75b;</a> --\x3e\n                        </div>\n                        <div class="add-sub">\n                            <a tit="sub" style="font-size:23px;" class="po-diagraming-icons  mind-disable"></a>\n                        </div>\n                    </div>\n                    \x3c!--点击工具栏加号弹出框 start--\x3e\n                    <div class="op-con-item">\n                        <div class="op-item" tit="icon">\n                            <a class="po-diagraming-icons"></a>\n                            <span>'.concat(l.default.t("Icon"),'</span>\n                        </div>\n                        <div class="op-item" tit="image">\n                            <a class="po-diagraming-icons"></a>\n                            <span>').concat(l.default.t("Picture"),'</span>\n                        </div>\n                        <div class="op-item" tit="link">\n                            <a class="po-diagraming-icons"></a>\n                            <span>').concat(l.default.t("Hyperlink"),'</span>\n                        </div>\n                        <div class="op-item" tit="profile">\n                            <a class="po-diagraming-icons"></a>\n                            <span>').concat(l.default.t("Summary"),'</span>\n                        </div>\n                        <div class="op-item" tit="remark">\n                            <a class="po-diagraming-icons"></a>\n                            <span>').concat(l.default.t("Remarks"),"</span>\n                        </div>\n                    </div>\n                    \x3c!--点击工具栏加号弹出框 end--\x3e\n                </div>\n            ");this.containerEl.append(e)},renderDetailPanel:function(){var e='   <section class="op-con-detail">\n            <div tit="style">\n                <h3><label><i class="po-diagraming-icons"></i></label><span style="pointer-events: none;">'.concat(l.default.t("Text_version"),'</span><label style="pointer-events: none;"></label></h3>\n                <div id="topic-style-con" class="topic-style-con">\n                    <div>\n                        <div class="tp-format op-icons">\n                            <span ico="b" class="po-diagraming-icons"></span>\n                            <span ico="u" class="po-diagraming-icons"></span>\n                            <span ico="i" class="po-diagraming-icons"></span>\n                            <span ico="s" class="po-diagraming-icons"></span>\n                        </div>\n                        <div class="set-font">\n                            <h6>').concat(l.default.t("Font_it_size"),'</h6><div class="font-btn">\n                            <div><span btn="sub" class="po-diagraming-icons"></span></div>\n                            <div><label class="setfont-input" style="pointer-events: none;">12px</label></div>\n                            \x3c!-- <input class="setfont-input" type="text" value="12" readonly> --\x3e\n                            <div><span btn="add" class="po-diagraming-icons"></span></div>\n                        </div>\n                        </div>\n                    </div>\n                    <div>\n                        <div class="tp-colors">\n                            <h6>').concat(l.default.t("Font_color"),'</h6>\n                            <div class="style-color op-icons">\n                                <span co="" style="background-color: #000000"></span>\n                                <span co="" style="background-color: #BF0000"></span>\n                                <span co="" style="background-color: #FFC000;"></span>\n                                <span co="" style="background-color: #92D04F;"></span>\n                                <span co="" style="background-color: #02A5E3;"></span>\n                                <span co="tint" he="" style="background-color: #FFFFFF; border: 1px solid #d2d2d2;"></span>\n                                <span mo="col" class="po-diagraming-icons"></span>\n                            </div>\n                            <h6 style="margin-top: 10px;">').concat(l.default.t("Background_color"),'</h6>\n                            <div class="style-bg op-icons">\n                                <span co="tint" style="background-color: #ffffff;border: 1px solid #d2d2d2;"></span>\n                                <span co="" style="background-color: #BF0000"></span>\n                                <span co="" style="background-color: #FFC000;"></span>\n                                <span co="" style="background-color: #92D04F;"></span>\n                                <span co="" style="background-color: #02A5E3;"></span>\n                                <span co="" style="background-color: #000000"></span>\n                                <span mo="bg" class="po-diagraming-icons"></span>\n                            </div>\n                        </div>\n                    </div>\n                    <div>\n                        <div class="txt-aligned op-icons">\n                            <span ag="left" class="po-diagraming-icons"></span>\n                            <span ag="center" class="po-diagraming-icons"></span>\n                            <span ag="right" class="po-diagraming-icons"></span>\n                            <span ag="both" class="po-diagraming-icons"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div tit="colla">\n                <h3><label><i class="po-diagraming-icons"></i></label><span style="pointer-events: none;">').concat(l.default.t("Collaborating_Member"),'</span><label style="pointer-events: none;"></label></h3>\n                <div id="topic-colla-con" class="topic-colla-con"></div>\n            </div>\n            <div tit="color">\n                <h3><label><i class="po-diagraming-icons"></i></label><span style="pointer-events: none;">').concat(l.default.t("Font_color"),'</span><label style="pointer-events: none;"></label></h3>\n                <div id="topic-style-pigment" class="topic-style-pigment">\n                    <div class="text-color style-colors">\n                        <span co="tint" style="background-color: #FFFFFF; border: 1px solid #D2D2D2;"></span>\n                        <span co="tint" style="background-color: #F0F0F0;"></span>\n                        <span co="tint" style="background-color: #D8D8D8;"></span>\n                        <span co="tint" style="background-color: #B8B8B8;"></span>\n                        <span co="tint" style="background-color: #8A8A8A;"></span>\n                        <span co="" style="background-color: #000000;"></span>\n                    </div>\n                    <div class="bg-color style-colors">\n                        <span co="" style="background: rgb(250,250,250);"><i class="po-diagraming-icons" style="font-size: 42px;color:#d2d2d2;transform: translate(-5px, -8px);display: inherit;"></i></span>\n                        <span co="tint" style="background-color: #FFFFFF; border: 1px solid #D2D2D2;"></span>\n                        <span co="tint" style="background-color: #D8D8D8;"></span>\n                        <span co="tint" style="background-color: #B8B8B8;"></span>\n                        <span co="tint" style="background-color: #8A8A8A;"></span>\n                        <span co="" style="background-color: #000000;"></span>\n                    </div>\n                    <div>\n                        <span co="" style="background-color: #EC407A;"></span>\n                        <span co="" style="background-color: #FF8A65;"></span>\n                        <span co="" style="background-color: #D4E157;"></span>\n                        <span co="" style="background-color: #80DEEA;"></span>\n                        <span co="" style="background-color: #2196F3;"></span>\n                        <span co="" style="background-color: #AB47BC;"></span>\n                    </div>\n                    <div>\n                        <span co="" style="background-color: #FE807F;"></span>\n                        <span co="" style="background-color: #FFA451;"></span>\n                        <span co="" style="background-color: #92D04F;"></span>\n                        <span co="" style="background-color: #00BCD4;"></span>\n                        <span co="" style="background-color: #02A5E3;"></span>\n                        <span co="" style="background-color: #AC4DFF;"></span>\n                    </div>\n                    <div>\n                        <span co="" style="background-color: #E90204;"></span>\n                        <span co="" style="background-color: #FF7C06;"></span>\n                        <span co="tint" style="background-color: #FFEB3B;"></span>\n                        <span co="" style="background-color: #43A047;"></span>\n                        <span co="" style="background-color: #0270E6;"></span>\n                        <span co="" style="background-color: #8003E7;"></span>\n                    </div>\n                    <div>\n                        <span co="" style="background-color: #BF0000;"></span>\n                        <span co="" style="background-color: #F4511E;"></span>\n                        <span co="tint" style="background-color: #FFC000;"></span>\n                        <span co="" style="background-color: #24A609;"></span>\n                        <span co="" style="background-color: #043D80;"></span>\n                        <span co="" style="background-color: #470082;"></span>\n                    </div>\n                    <div>\n                        <span co="tint" style="background-color: #F8BBD0;"></span>\n                        <span co="tint" style="background-color: #D1C4E9;"></span>\n                        <span co="tint" style="background-color: #80DEEA;"></span>\n                        <span co="tint" style="background-color: #E6EE9C;"></span>\n                        <span co="tint" style="background-color: #FFF59D;"></span>\n                        <span co="tint" style="background-color: #D7CCC8;"></span>\n                    </div>\n                    <div>\n                        <span co="tint" style="background-color: #F48FB1;"></span>\n                        <span co="tint" style="background-color: #B39DDB;"></span>\n                        <span co="tint" style="background-color: #81D4FA;"></span>\n                        <span co="tint" style="background-color: #DCEDC8;"></span>\n                        <span co="tint" style="background-color: #FFE082;"></span>\n                        <span co="tint" style="background-color: #E0E0E0;"></span>\n                    </div>\n                    <div>\n                        <span co="tint" style="background-color: #EF9A9A;"></span>\n                        <span co="tint" style="background-color: #E1BEE7;"></span>\n                        <span co="tint" style="background-color: #90CAF9;"></span>\n                        <span co="tint" style="background-color: #C8E6C9;"></span>\n                        <span co="tint" style="background-color: #FFCC80;"></span>\n                        <span co="tint" style="background-color: #B0BEC5;"></span>\n                    </div>\n                    <div>\n                        <span co="tint" style="background-color: #FFCDD2;"></span>\n                        <span co="tint" style="background-color: #CE93D8;"></span>\n                        <span co="tint" style="background-color: #9FA8DA;"></span>\n                        <span co="tint" style="background-color: #B2DFDB;"></span>\n                        <span co="tint" style="background-color: #FFAB91;"></span>\n                        <span co="tint" style="background-color: #9E9E9E;"></span>\n                    </div>\n                </div>\n            </div>\n            <div tit="themes">\n                <h3><label><i class="po-diagraming-icons"></i></label>\n                    <div>\n                        <span opt-tit="themes" class="select">').concat(l.default.t("Theme"),'</span>\n                        <span opt-tit="structure">').concat(l.default.t("Structure"),'</span>\n                    </div>\n\n                    <label style="pointer-events: none;"></label></h3>\n                <div id="topic-theme-con" style="padding: 10px 0;">\n                    <div>\n                    </div>\n                </div>\n                <div id="topic-structure-con">\n                    <div>\n                        <div tp="mind_free">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_free.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Left_and_right_distribution"),'</span>\n                        </div>\n                        \x3c!-- <div tp="mind_free_layout">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_free_layout.svg" alt=""></span>\n                            <span style="margin-top: 10px;" po-i18n=\'Free_distribution\'>自由分布</span>\n                        </div> --\x3e\n                        <div tp="mind_right">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_right.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Distribution_on_the_right"),'</span>\n                        </div>\n                        <div tp="mind_left">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_left.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Left_side_distribution"),"</span>\n                        </div>\n                       ").concat(editorGlobal.config.uiType?'<div tp="mind_tree">\n                            <span><img src="'.concat(staticBasePath,'/wps/images/mobi/mind_tree.svg" alt=""></span>\n                            <span style="margin-top: 10px;" po-i18n=\'Tree_structure_diagram\'>树状结构图</span>\n                        </div>\n                        <div tp="mind_org">\n                            <span><img src="').concat(staticBasePath,'/wps/images/mobi/mind_org.svg" alt=""></span>\n                            <span style="margin-top: 10px;" po-i18n=\'Organization_Chart\'>组织结构图</span>\n                        </div>'):'<div tp="mind_org_multistage">\n                            <span><img src="'.concat(staticBasePath,'/images/mobi/new_mind_org.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Organization_Chart"),"</span>\n                        </div>"),'\n                        <div tp="mind_ishikawa_left">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_ishikawa_left.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Fishbone_diagram_on_the_left_side"),'</span>\n                        </div>\n                        <div tp="mind_ishikawa_right">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_ishikawa_right.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Right_side_fishbone"),'</span>\n                        </div>\n                        <div tp="mind_timeline_h">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_timeline.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Horizontal_Timeline"),'</span>\n                        </div>\n                        <div tp="mind_tree_free">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_tree_free.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Tree_Diagram"),'</span>\n                        </div>\n                        \x3c!--<div tp="mind_tree_right">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_tree_right.svg" alt=""></span>\n                            <span style="margin-top: 10px;" po-i18n=\'Right_side_tree\'>右侧树形图</span>\n                        </div>--\x3e\n                        <div tp="mind_tree_left">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_tree_left.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Left_tree"),'</span>\n                        </div>\n                        <div tp="mind_tree_right_mobi">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_tree_right_mobi.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Right_side_tree_mobi"),'</span>\n                        </div>\n                        <div tp="mind_brace_right">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_brace_right.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Right_side_bracket_picture"),'</span>\n                        </div>\n                        <div tp="mind_brace_left">\n                            <span><img src="').concat(staticBasePath,'/images/mobi/mind_brace_left.svg" alt=""></span>\n                            <span style="margin-top: 10px;">').concat(l.default.t("Left_bracket_picture"),'</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div tit="remark">\n                <h3><label><span class="re-cancel">').concat(l.default.t("Cancel"),'</span></label><span style="pointer-events: none;">').concat(l.default.t("Edit_Notes"),'</span><label><span class="re-finish">').concat(l.default.t("Done"),'</span></label></h3>\n                <div id="topic-remack-con">\n                    <textarea placeholder="').concat(l.default.t("Click_Edit_Remarks"),'" id="mind-topic-remack" class="mind-topic-remark"></textarea>\n                </div>\n            </div>\n            <div tit="icon">\n                <h3><label><i class="po-diagraming-icons"></i></label><span style="pointer-events: none;">').concat(l.default.t("Icon"),'</span><label style="pointer-events: none;"></label></h3>\n                <div class="mind-dock-right-icons mind-detail-icons">\n                    <span class="title">').concat(l.default.t("Priority"),'</span>\n                    <span class="title">').concat(l.default.t("Progress"),'</span>\n                    <span class="title">').concat(l.default.t("Expression"),'</span>\n                    <span class="title">').concat(l.default.t("Arrow"),'</span>\n                    <span class="title">').concat(l.default.t("Flag"),'</span>\n                    <span class="title">').concat(l.default.t("Star"),'</span>\n                    <span class="title">').concat(l.default.t("Time"),'</span>\n                    <div>\n                        <span class="title s-title">').concat(l.default.t("Month"),'</span>\n                        <span class="title s-title">').concat(l.default.t("Week"),'</span>\n                    </div>\n                    <span class="title"><span>').concat(l.default.t("Symbol"),"</span>（<span>").concat(l.default.t("Other"),'</span>）</span>\n                </div>\n            </div>\n            <div tit="share">\n                <h3><span>').concat(l.default.t("Share"),'</span><span class="po-diagraming-icons"></span> </h3>\n                <div class="input-group" style="padding-right:0px;">\n                    <div class="add-colla-group">\n                        <input type="text" id="view_link_input" class="txt-input" placeholder="').concat(l.default.t("You_have_not_created"),'">\n                        <div class="mind-button create view-link-btn">').concat(l.default.t("Create_a_Link"),"</div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        ");this.containerEl.append(e)},initScript:function(){$(".op-con a[tit]").off("mousedown").on("mousedown",function(e){var t=$(this).attr("tit");"sub"!==t&&"child"!==t||(e.preventDefault(),e.stopPropagation())});var e=this;$(".op-con a[tit],.op-con-top a[tit], .op-insert-list li[tit], .op-con-item .op-item[tit]").off("click").on("click",function(t){$("#mind-render-page").remove(),t.stopPropagation();var n=$(this).attr("tit");"add"!=n&&$(".op-con-item").hide(),editorGlobal.mindMap.emit("closeControlBar"),$("#point-select .cancel").trigger("click"),$(".op-insert-list").css({bottom:"-100%",zIndex:-1});var i=editorGlobal.mindMap.renderer.selectedTopicList[0];switch(n){case"sub":i.getData("summary")?editorGlobal.mindMap.execCommand("INSERT_CHILD_TOPIC"):editorGlobal.mindMap.execCommand("INSERT_TOPIC");break;case"child":editorGlobal.mindMap.execCommand("INSERT_CHILD_TOPIC");break;case"delete":editorGlobal.mindMap.execCommand("REMOVE_TOPIC");break;case"undo":editorGlobal.mindMap.emit("undo"),$("section.op-con-detail").css("bottom",-240).hide(),$(document).scrollTop(0);break;case"redo":editorGlobal.mindMap.emit("redo");break;case"more":case"save":case"boundary":break;case"structure":if("none"!=$("#mind-structures").css("display"))return void $("#mind-structures").hide();$("#mind-structures").show();break;case"image":if("wps"===window.source){var a,s=$(".topic-image.active").attr("id"),u=s&&s.substring(12),p=(null===(a=editorGlobal.mindMap.renderer.getSelectedTopic())||void 0===a?void 0:a.id)||u;if(""==p)return;(0,c.injectExtraAsynCall)("uploadImg",p)}else{var h=$(".topic-image.active").attr("id"),m=h&&h.substring(12),f=(null==i?void 0:i.id)||m;if(!f)return;o.insert.image.init(function(e,t,n){editorGlobal.mindMap.emit("set_topic_img",null,{url:e,originalUrl:n},t,f)},{mask:!1}),$("#po_image_box").dialog("close"),$("#po_upload_img_file").trigger("click")}break;case"icon":e.swtichDetail("icon");break;case"relate":if(setTimeout(function(){$(".op-con").css("bottom","-51px")},200),!i)return void $.toast({type:"secondary",text:l.default.t("js.Please_select_a_topic_first")});editorGlobal.mindMap.emit("renderConn",t,!1);break;case"add":$(".op-con-item").is(":visible")?$(".op-con-item").hide(100):$(".op-con-item").show(100);break;case"link":$(".mind-addLink-box").show(100),$(".op-con").css("bottom","-100%"),editorGlobal.mindMap.emit("showLinkBox");break;case"profile":if(!i)return void $.toast({type:"warning",text:l.default.t("js.Please_choose_a_topic_first")});editorGlobal.mindMap.execCommand("INSERT_SUMMARY");break;case"style":e.swtichDetail("style");break;case"search":$("section.op-con-detail").css("bottom",-240).hide(),r.nodeSearch.init(e.containerEl),$(".op-con-search").css({top:"0"});break;case"themes":editorGlobal.mindMap.emit("hideLinkBox");var g=$(".op-con-detail"),v=g.find("div[tit=themes]");if("block"==g.css("display")&&"block"==v.css("display"))return void g.css({bottom:"-240px",display:"none"});editorGlobal.mindMap.emit("selectTheme"),e.swtichDetail("themes"),e.initStructure();break;case"remark":e.swtichDetail("remark")}if(n){var b;["undo","redo","search","themes"].includes(n)?b="mobi-top-menu":["child","style","relate","add","sub"].includes(n)?b="mobi-bottom-menu":["icon","image","link","profile","remark","del"].includes(n)?b="mobi-insert-panel":["del","copy","brush","cut","paste","focus","hide","show","clear"].includes(n)&&(b="mobi-context-panel"),b&&(0,d.$poCollect)("mind_click",{tit:n,pos:b})}}),$(document).off("click.icon").on("click.icon",".mind-detail-icons .icon-n",function(){var e=$(this),t=e.css("color");editorGlobal.mindMap.emit("setIcon",e,null,t)})},swtichDetail:function(e){var t=$(".op-con-detail"),n=t.children("div[tit="+e+"]"),i=$(document).outerWidth();"share"==e?t.css("height","70%"):"style"==e||"themes"==e||"colla"==e?t.css("height",i>640?"470px":"280px"):"icon"==e?(editorGlobal.mindMap.emit("renderIconsList",$(".mind-dock-right-icons")),t.css("height","240px")):t.css("height",i>640?"500px":"240px"),"comment"==e&&t.css("height","290px"),$(".op-con-detail.mind-remark-panel").remove(),t.children().hide(),t.css("display","block"),n.show(),t.css("bottom",0),$(".op-con-list").css("bottom","-100%"),$(".textarea_topic[contenteditable=true]").trigger("blur"),$(".textarea_topic").remove()},initDetailScript:function(){var e=this;$("#topic-style-con .tp-format").off().on("click","span[ico]",function(e){e.stopPropagation();var t=$(this),n=t.attr("ico"),i=t.hasClass("selected"),o="";"b"==n?o=i?{"font-weight":"normal"}:{"font-weight":"bold"}:"u"==n?($(".tp-format.op-icons").find("span[ico=s]").removeClass("selected"),o=i?{"text-decoration":"none"}:{"text-decoration":"underline"}):"i"==n?o=i?{"font-style":"normal"}:{"font-style":"italic"}:"s"==n&&($(".tp-format.op-icons").find("span[ico=u]").removeClass("selected"),o=i?{"text-decoration":"none"}:{"text-decoration":"line-through"}),i?t.removeClass("selected"):t.addClass("selected");var a=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",a,o)}),$("#topic-style-con .style-bg").on("click","span[co]",function(e){e.stopPropagation();var t=$(this),n=t.css("background-color");t.addClass("selected"),t.siblings("span[co]").removeClass("selected");var i=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",i,{background:n}),e.stopPropagation()}),$("#topic-style-con .style-color").on("click","span[co]",function(e){e.stopPropagation();var t=$(this),n=t.css("background-color");t.addClass("selected"),t.siblings("span[co]").removeClass("selected");var i=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",i,{color:n})}),$("#topic-style-con").off().on("click","span[mo]",function(t){t.stopPropagation();var n=$(this),i=n.attr("mo"),o=$(".op-con-detail"),a=o.find(".style-colors");o.find("div[tit=color]").show(),o.find("div[tit=color]").siblings("div[tit]").hide(),o.find("h3 label").addClass("sty-back"),a.hide(),function(e){"col"==e?(o.find("div[tit=color] h3 > span").text(l.default.t("js.Font_color")),o.find(".text-color").show(),$("#topic-style-pigment").attr("demo","fontcolor")):"bg"==e&&(o.find("div[tit=color] h3 > span").text(l.default.t("js.Background_color")),o.find(".bg-color").show(),$("#topic-style-pigment").attr("demo","bgcolor")),$("#topic-style-pigment").off("click.color").on("click.color","span[co]",function(){var t=$(this),n=t.css("background-color");if($("#topic-style-pigment").find("span[co]").removeClass("selected"),t.addClass("selected"),"col"==e){var i=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",i,{color:n})}else if("bg"==e){var o=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",o,{background:n})}})}(i),n.removeClass("effect"),e.topicSettingEcho()}),$("#topic-style-con .set-font").off().on("click","span[btn]",function(e){e.stopPropagation();var t=$(this),n=t.attr("btn"),i=$("#topic-style-con .set-font").find(".setfont-input"),o=parseInt(i.text());"add"==n?(++o>=50&&(o=50,t.parent().addClass("disable")),$("span[btn=sub]").parent().removeClass("disable")):"sub"==n&&(--o<=12&&(o=12,t.parent().addClass("disable")),$("span[btn=add]").parent().removeClass("disable")),i.text(o+"px");var a=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",a,{"font-size":o})}),$("#topic-style-con .txt-aligned").off().on("click","span[ag]",function(e){e.stopPropagation();var t=$(this),n=t.attr("ag"),i="";"both"==n?i={"text-align":"justify"}:"left"==n?i={"text-align":"left"}:"center"==n?i={"text-align":"center"}:"right"==n&&(i={"text-align":"right"}),t.addClass("selected"),t.siblings("span[ag]").removeClass("selected");var o=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",o,i)}),$(document).off("touchstart.colla").on("touchstart.colla","#colla-users-con",function(e){e.stopPropagation(),e.preventDefault();var t=$(".op-con-detail"),n=t.children("div[tit=colla]"),i=$(document).outerWidth();t.css("height",i>640?"470px":"280px"),$(".op-con-detail.mind-remark-panel").remove(),t.children().hide(),t.css("display","block"),n.show(),t.css("bottom",0),$(".op-con-list").css("bottom","-100%"),$(".textarea_topic[contenteditable=true]").trigger("blur"),$(".textarea_topic").remove(),$(".op-con-detail").off("touchstart").on("touchstart",function(e){e.stopPropagation()})}),$(document).off("click.h3",".op-con-detail h3, .op-top-tit").on("click.h3",".op-con-detail h3, .op-top-tit",function(t){if("label"==t.target.tagName.toLowerCase()){var n=$(t.target),i=n.parent().parent();if(n.hasClass("sty-back"))return $(".op-con-detail").find("[tit]").hide(),$(".op-con-detail").find("div[tit=style]").show(),$(".sty-back").removeClass("sty-back"),void e.topicSettingEcho();if(n.find(".note-edit").length>0)return i.remove(),void e.swtichDetail("remark");if(n.find(".re-finish").length>0){var o=$("#mind-topic-remack").val(),a=editorGlobal.mindMap.renderer.getSelectedTopic();editorGlobal.mindMap.note.setNote(o,a)}else if(n.find(".insert-list-i").length>0)return void $(".op-insert-list").css({bottom:"-100%",zIndex:11});i.hasClass("mind-remark-panel")?i.css("bottom",-240).remove():(i.parent().css("bottom",-240).hide(),$.mask("close"))}else if("span"==t.target.tagName.toLowerCase()){var r=$(t.target);if(r.attr("opt-tit")){var s=r.attr("opt-tit"),l=$("#topic-theme-con"),c=$("#topic-structure-con");r.addClass("select").siblings().removeClass("select"),"themes"==s?(l.show(),c.hide()):"structure"==s&&(c.show(),l.hide())}}})},topicSettingEcho:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList;if(!t||1==t.length){var n=t[0];$("#topic-style-con").find("span[ico]").removeClass("selected"),"bold"==n.getStyle("font-weight")&&$("#topic-style-con").find("span[ico=b]").addClass("selected"),"italic"==n.getStyle("font-style")?$("#topic-style-con").find("span[ico=i]").addClass("selected"):$("#topic-style-con").find("span[ico=i]").removeClass("selected"),"underline"==n.getStyle("text-decoration")||n.getStyle("underline")?$("#topic-style-con").find("span[ico=u]").addClass("selected"):$("#topic-style-con").find("span[ico=u]").removeClass("selected"),"line-through"==n.getStyle("text-decoration")||n.getStyle("middleline")?$("#topic-style-con").find("span[ico=s]").addClass("selected"):$("#topic-style-con").find("span[ico=s]").removeClass("selected");var i=n.getStyle("font-size"),o=i;o>=50?(o=50,$("span[btn=add]").parent().addClass("disable")):$("span[btn=add]").parent().removeClass("disable"),o<=12?(o=12,$("span[btn=sub]").parent().addClass("disable")):$("span[btn=sub]").parent().removeClass("disable"),$("#topic-style-con").find(".font-btn .setfont-input").text(i+"px"),$(".sty-back").length&&(e="fontcolor"==$("#topic-style-pigment").attr("demo")?"fontColor":"topicBg");var a=$(".op-con-detail .style-color").find("span[co]"),r=$(".op-con-detail .style-bg").find("span[co]");$(".op-con-detail").find("span[co]").removeClass("selected");var l=n.style.getStyle("background");"autoColor"===l&&(l=n.style.getAutoColor()),l&&"transparent"!==l&&$("#mind-fill-show").checkbox("check"),l&&"transparent"!==l||(l=n.style.getBackgroundColor(!0));var c=l,d=n.style.getTextColor();if(null==e){for(var u=0;u<a.length;u++){var p=$(a[u]);d&&p.css("backgroundColor")==d&&p.addClass("selected")}for(var h=0;h<r.length;h++){var m=$(r[h]);c&&m.css("backgroundColor")==c&&m.addClass("selected")}}else for(var f=$("#topic-style-pigment").find("span[co]"),g=0;g<f.length;g++){var v=$(f[g]);"fontColor"==e?d&&v.css("backgroundColor")==d&&v.addClass("selected"):c&&v.css("backgroundColor")==c&&v.addClass("selected")}$("#topic-style-con").find("span[ag]").removeClass("selected");var b=n.getStyle("text-align")||"left";"justify"==b&&(b="both"),$("#topic-style-con").find("span[ag="+b+"]").addClass("selected");var y=n.getData(),x=y.note,w=y.tags,k=y.link,_=y.task;if(x){var C=(0,s.restoreXss)(x);$("#mind-topic-remack").val(C),$("#mind-topic-remack").off("input.creat"),$(".re-finish").parent().removeClass("disable")}else{$("#mind-topic-remack").val("");var T=$(".re-finish").parent();T.addClass("disable"),$("#mind-topic-remack").off("input.creat").on("input.creat",function(){$(this).val().length>0?T.removeClass("disable"):T.addClass("disable")})}if(w){for(var S=$("#mind-topic-tags"),M="",D=0,E=w.length;D<E;D++){var A=w[D];M+="<span style='color:"+A.color+";background:"+A.background+"'>"+A.text+" <label class='mind-icons'>&#xe622;</label></span>"}S.html(M)}else $("#mind-topic-tags").html("");if(k?($("#mind-topic-link").val(k.value),$("#mind-topic-linktitle").val(k.title)):($("#mind-topic-link").val(""),$("#mind-topic-linktitle").val("")),_){var F=$("#mind-icons-priority-list"),I=$("#mind-icons-completion-list"),O=F.find("li[priority="+_.priority+"]").clone(),L=I.find("li[completion="+_.completion+"]").clone();O.find("span").remove(),L.find("span").remove();var P=O.text(),B=L.text();""!=P?$("#mind-task-priority").children("span").text(P):$("#mind-task-priority").children("span").text(""),""!=B?$("#mind-task-completion").children("span").text(B):$("#mind-task-completion").children("span").text(""),L.remove(),O.remove(),$("#mind-task-start").children("span").text(_.start||""),$("#mind-task-end").children("span").text(_.end||""),$("#mind-task-assigned").val(_.assigned)}else $("#mind-task-priority").children("span").text(""),$("#mind-task-completion").children("span").text(""),$("#mind-task-start").children("span").text(""),$("#mind-task-end").children("span").text(""),$("#mind-task-assigned").val("")}},initStructure:function(){var e,t=editorGlobal.mindMap.renderer.mindTree,n=t.structure;function i(e){var t=$("#topic-structure-con"),n=t.find("div[tp="+e+"]");t.find("span").removeClass("select"),n.find("span:first").addClass("select")}"mind_right"==n&&(null===(e=t.leftChildren)||void 0===e?void 0:e.length)>0&&(n="mind_left"),i(n),$("#topic-structure-con").off("click.div[tp]").on("click","div[tp]",function(){var e=$(this).attr("tp");editorGlobal.mindMap.emit("closeControlBar"),editorGlobal.mindMap.execCommand("CHANGE_STRUCTURE",e),i(e)})}}},27728:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.linkUI=void 0,n(47958),n(69268),n(86837);var o=i(n(32483)),a=n(15240);t.linkUI={init:function(e){this.containerEl=e,this.render(),this.initEvent(),this.initScript()},initEvent:function(){editorGlobal.mindMap.on("showLinkBox",this.showLink.bind(this)),editorGlobal.mindMap.on("hideLinkBox",this.hideLink.bind(this))},render:function(){var e='\n                \x3c!-- 添加超链接 start --\x3e\n                <div class="mind-addLink-box">\n                    <div class="mind-link-title">\n                        <div class="mind-title-cancel">'.concat(o.default.t("Cancel"),"</div>\n                        <div>").concat(o.default.t("Add_Hyperlink"),'</div>\n                        <div class="mind-title-complete">').concat(o.default.t("Done"),'</div>\n                    </div>\n                    <div class="mind-inputLink">\n                        <input type="text" id="mind-topic-link" placeholder="').concat(o.default.t("Link"),'">\n                    </div>\n                    <div class="mind-inputText">\n                        <input type="text" style="" id="mind-topic-text" placeholder="').concat(o.default.t("Show_text"),'">\n                    </div>\n                </div>\n                \x3c!-- 添加超链接 end --\x3e\n            ');this.containerEl.append(e)},initScript:function(){$("#mind-topic-text").off("keydown").on("keydown",function(e){e.stopPropagation()}),$("#mind-topic-link").off("keydown").on("keydown",function(e){e.stopPropagation()})},showLink:function(e){editorGlobal.mindMap.emit("op-con-hide");var t=this,n=e||editorGlobal.mindMap.renderer.selectedTopicList[0];if(n&&!editorGlobal.mindMap.opt.readonly){var i=$(".mind-addLink-box"),r=i.find("#mind-topic-link"),s=i.find("input:first"),l=n.getData("link");l&&(s.val(l.value||""),i.find("input:last").val(l.title||""));var c=i.find(".mind-title-complete"),d=i.find(".mind-title-cancel");r.off("blur").on("blur",function(){var e=$.trim($(this).val());""!=(e=(0,a.filterXss)(e))&&!(0,a.isUrl)(e)&&e.length<200&&(0,a.isUrl)("http://"+e)&&$(this).val("http://"+e)}),s.on("keyup",function(e){13==e.keyCode&&(s.trigger("blur"),setTimeout(function(){c.trigger("click")},100))}),c.off().on("click",function(){var e=$("#mind-topic-link"),i=$.trim(e.val());if(""!=i&&(0,a.isUrl)(i)&&i.length<200){var r={value:i,title:$.trim($("#mind-topic-text").val().substring(0,30)),type:"url",id:n.id};editorGlobal.mindMap.emit("setLink",r,n,r.type),t.hideLink()}else e.val("").focus(),e.attr("placeholder",o.default.t("js.Please_enter_a_valid_URL"))}),d.off().on("click",function(){t.hideLink()})}},hideLink:function(){$(".mind-addLink-box").hide(100),$(".op-con-item").hide(100),setTimeout(function(){$(".mind-addLink-box").find("input[type=text]").val("")},500)}}},24364:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.nodeSearch=void 0,n(61894),n(69268),n(84889);var o=i(n(32483));t.nodeSearch={show:!1,searchWord:"",selectData:[],currentPage:0,totalPage:0,init:function(e){this.containerEl=e,$(".op-con-search").remove(),this.render();var t=this,n=$(".op-con-search .search-box input"),i=$(".op-con-search .search-box .search-icon"),o=$(".op-con-search .search-box .del-icon"),a=$(".op-con-search .search-page"),r=$(".op-con-search .search-page .pre-search-btn"),s=$(".op-con-search .search-page .next-search-btn"),l=$(".op-con-search .cancel");this.searchWord="",n.val(""),a.css({display:"none"}),o.hide(),l.off("click").on("click",function(){$(".op-con-search").css({top:"-45px"})}),i.off("click").on("click",function(){t.searchWord=n.val(),""!=t.searchWord&&t.searchFn()}),o.off("click").on("click",function(){n.val(""),o.hide(),a.css({display:"none"})}),r.not(".disabled").off("click").on("click",function(){t.currentPage-=1,t.pageTypeFn()}),s.not(".disabled").off("click").on("click",function(){t.currentPage+=1,t.pageTypeFn()}),n.off("keydown").on("keydown",function(e){e.stopPropagation(),t.searchWord=$(this).val(),""==t.searchWord?o.hide():o.show()}),n.focus(function(){t.show=!0,editorGlobal.mindMap.execCommand("CLEAR_ALL_SELECTED_TOPIC")}),n.focus(),n.off("keyup").on("keyup",function(e){"Enter"===e.key&&(t.searchWord=n.val(),t.searchFn(),n.blur())}),$(".search-box").off().bind("submit",function(e){e.preventDefault(),t.searchWord=n.val(),t.searchFn(),n.blur(),t.show=!1})},pageTypeFn:function(){var e=$(".op-con-search .search-page .current-page"),t=$(".op-con-search .search-page .total-page"),n=$(".op-con-search .search-page .pre-search-btn"),i=$(".op-con-search .search-page .next-search-btn");if(this.totalPage||(this.currentPage=0),e.text(this.currentPage),t.text(this.totalPage),0===this.totalPage||this.currentPage===this.totalPage?i.addClass("disabled"):i.removeClass("disabled"),this.currentPage<2?n.addClass("disabled"):n.removeClass("disabled"),this.currentPage){var o=this.selectData[this.currentPage-1].id,a=editorGlobal.mindMap.renderer.getCacheTopic(o);a?a.selected():(editorGlobal.mindMap.execCommand("SHOW_HIDE_TOPIC",o),editorGlobal.mindMap.once("rendered",function(){editorGlobal.mindMap.renderer.getCacheTopic(o).selected()}))}},searchFn:function(){""!=this.searchWord?(this.selectData=[],this.searchDataFn([editorGlobal.mindMap.renderer.mindTree]),this.totalPage=this.selectData.length,this.currentPage=1,this.pageTypeFn(),$(".op-con-search .search-page").css({display:"flex"})):$(".op-con-search .search-page").css({display:"none"})},searchDataFn:function(e){var t=this;e.forEach(function(e){e.title.indexOf(t.searchWord)>-1&&t.selectData.push({id:e.id,title:e.title}),e.summaries&&e.summaries.length&&t.searchDataFn(e.summaries),e.children&&e.children.length&&t.searchDataFn(e.children),e.freeChildren&&e.freeChildren.length&&t.searchDataFn(e.freeChildren)})},render:function(){var e='\n            <div class="op-con-search">\n                <form class="search-box" action="" autocomplete="off">\n                        <span class="po-diagraming-icons search-icon"></span>\n                        <input type="search" value="" maxlength="20" placeholder="'.concat(o.default.t("Search"),'" autocomplete="off" autocorrect="off">\n                        <span class="po-diagraming-icons del-icon"></span>\n                    </form>\n                    <div class="search-page">\n                        <span class="po-diagraming-icons pre-search-btn"></span>\n                        <div><span class="current-page">0</span>/<span class="total-page">0</span></div>\n                        <span class="po-diagraming-icons next-search-btn"></span>\n                    </div>\n                    <div class="cancel">').concat(o.default.t("Cancel"),"</div>\n                </div>");this.containerEl.append(e)}}},97644:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.popControlBar=void 0,n(69268),n(86837);var o=i(n(32483)),a=n(83838),r=n(83316);t.popControlBar={init:function(){this.initEvent(),this.initScript()},initEvent:function(){var e=this;editorGlobal.mindMap.on("showControlBar",this.showControlBar.bind(this)),editorGlobal.mindMap.on("init_full_data",this.closeControlBar.bind(this)),editorGlobal.mindMap.on("closeControlBar",this.closeControlBar.bind(this)),editorGlobal.mindMap.on("mousedown",this.closeControlBar.bind(this)),editorGlobal.mindMap.on("topic_selected",this.topicSelectedChange.bind(this)),editorGlobal.mindMap.on("topic_click",this.topicClick.bind(this)),editorGlobal.mindMap.on("view_data_change_real_time",function(){e.closeControlBar()}),editorGlobal.mindMap.on("connection-line-click",function(t){e.showControlBar({pos:t,selectObj:"connection-line"})}),editorGlobal.mindMap.on("topic_link_click",function(t,n){t.preventDefault(),t.stopPropagation(),e.showControlBar({topicId:n,selectObj:"link"})}),editorGlobal.mindMap.on("topic_img_click",function(t,n){n.stopPropagation(),e.showControlBar({topicId:t.id,selectObj:"image"})}),editorGlobal.mindMap.on("focus_topic",function(e){e===editorGlobal.mindMap.renderer.mindTree.id?$(".mind-focus-disable1").removeClass("mind-focus-disable1"):$(".op-con-top").find("a[tit=search], a[tit=themes]").addClass("mind-focus-disable1")}),editorGlobal.mindMap.on("clickComment",function(){e.preventShow=!0}),editorGlobal.mindMap.on("topic_note_click",function(){e.preventShow=!0})},topicSelectedChange:function(e,t){if(this.preventShow)return this.preventShow=!1,void this.closeControlBar();0===t.length&&this.closeControlBar()},topicClick:function(e){var t=this;setTimeout(function(){t.showControlBar({topicId:e.id,selectObj:"view_topic"})},20)},closeControlBar:function(){var e;null===(e=$(".panel_point_menu"))||void 0===e||e.remove()},showControlBar:function(e,t){if("string"!=typeof e||"close"!=e){var n={view_topic:"<div class='panel_point_menu_content'><span op='del'>"+o.default.t("js.Delete")+"</span><span op='copy'>"+o.default.t("js.Copy")+"</span><span op='brush'>"+o.default.t("js.Copy_style")+"</span><span op='cut'>"+o.default.t("js.Cut")+"</span><span op='paste'>"+o.default.t("js.Paste")+"</span><span op='focus'>"+o.default.t("js.Focus")+"</span><span op='unfocus'>"+o.default.t("js.Out_of_focus")+"</span><span op='show'>"+o.default.t("js.Unfold")+"</span><span op='hide'>"+o.default.t("js.Fold")+"</span><span op='clear'>"+o.default.t("js.Clear_style")+"</span></div>",image:"<div class='panel_point_menu_content'><span op='delimg'>"+o.default.t("js.Delete")+"</span><span op='view'>"+o.default.t("js.Preview")+"</span><span op='change'>"+o.default.t("js.Change_Picture")+"</span></div>","connection-line":"<div class='panel_point_menu_content'><span op='point-edit'>"+o.default.t("js.Edit")+"</span><span op='point-del'>"+o.default.t("js.Delete")+"</div>",link:"<div class='panel_point_menu_content'><span op='link-open'>"+o.default.t("js.Open")+"</span><span op='link-view'>"+o.default.t("js.View")+"</span><span op='link-edit'>"+o.default.t("js.Edit")+"</span><span op='link-del'>"+o.default.t("js.Delete")+"</div>",view_text:"<div class='panel_point_menu_content'><span op='link-view-info'></span></div>"},i=$.extend({},{topicId:"root",selectObj:"view_topic"},e),a=$(".panel_point_menu"),r=editorGlobal.mindMap.renderer.mindTree,s=editorGlobal.mindMap.renderer.currentRoot,l=editorGlobal.mindMap.renderer.getCacheTopic(i.topicId);if(a.length>0&&a.remove(),(a=$("<div id=point_"+i.topicId+" class='panel_point_menu "+i.selectObj+"'></div>").appendTo($("body"))).append("<label class='po-diagraming-icons left'>&#xe8f7;</label>"+n[i.selectObj]+"<label class='po-diagraming-icons right'>&#xe8f6;</label>"),a.find("span[op]").addClass("panel_item"),"view_topic"==i.selectObj&&(l.getData("children").length>0?l.getData("collapsed")?a.find("span[op=hide]").remove():a.find("span[op=show]").remove():(a.find("span[op=hide]").remove(),a.find("span[op=show]").remove())),0!==a.find("span[op]").length){i.topicId!==(null==s?void 0:s.id)&&i.topicId!==r.id||"view_topic"!=i.selectObj?a.find("span[op=unfocus]").remove():(a.find("span[op]").addClass("item-notclick"),a.find("span[op=paste], span[op=brush], span[op=clear]").removeClass("item-notclick"),i.topicId!=r.id?(a.find("span[op=focus]").remove(),a.find("span[op=unfocus]").removeClass("item-notclick")):a.find("span[op=focus], span[op=unfocus]").remove()),l.getData("collapsed")&&a.find("span[op=paste], span[op=focus]").addClass("item-notclick"),"mind_ishikawa_left"!=(l.structure||l.layout)&&"mind_ishikawa_right"!=(l.structure||l.layout)||a.find("span[op=focus]").addClass("item-notclick"),l.summary&&a.find("span[op=cut], span[op=focus]").addClass("item-notclick");var c=l.getRectInSvg();setTimeout(function(){var e=a.outerHeight(),t=a.outerWidth(),n=i.pos;if(n)a.css({top:n.y-e-10,left:n.x-t/2});else{var o=$(".node-add-btn[data-id=".concat(i.topicId,'][data-pos="top"]')),r=$(document).outerWidth(),s=c.top,l=c.height,d=s-e-10,u=c.left;d<44&&(d=s+l+10),o.length>0&&(d=s+l+10),u>r-t-25?u=r-t-25:u<25&&(u=25),a.css({top:d,left:u})}var p=$(".panel_point_menu_content").outerWidth();p>t&&($(".panel_point_menu_content").addClass("popScroll"),a.children("label.right").show(),$(".panel_point_menu_content")[0].addEventListener("scroll",function(){var e=$(this).scrollLeft();0==e?(a.children("label").hide(),a.children("label.right").show()):e+t>=p?(a.children("label").hide(),a.children("label.left").show()):a.children("label").show()}),a.children("label").off("click.scroll").on("click.scroll",function(e){e.stopPropagation();var n=$(".panel_point_menu_content").scrollLeft();$(this).hasClass("right")?n+=t:$(this).hasClass("left")&&(n-=t),$(".panel_point_menu_content").animate({scrollLeft:n},500)}))},100),t&&t(),$(".panel_point_menu").off("touchstart").on("touchstart",function(e){e.stopPropagation()})}else a.remove()}else $(".panel_point_menu").remove()},initScript:function(){var e=this;$(document).off("click.menu").on("click.menu","span[op]",function(t){var n;t.stopPropagation(),null===(n=t.originalEvent)||void 0===n||n.stopImmediatePropagation();var i=$(this).attr("op"),s=editorGlobal.mindMap.renderer.selectedTopicList,l=editorGlobal.mindMap.renderer.mindTree;switch(i){case"del":editorGlobal.mindMap.execCommand("REMOVE_TOPIC",s);break;case"copy":s.length>0&&editorGlobal.mindMap.execCommand("COPY_NODE",{e:t});break;case"brush":editorGlobal.mindMap.emit("initBrash"),a.toolbar.hideBottom(),editorGlobal.mindMap.emit("showPopTip",o.default.t("js.Select_theme_to_paste_format"),"",function(){editorGlobal.mindMap.emit("closeBrash")});break;case"cut":s.length>0&&editorGlobal.mindMap.execCommand("CUT_NODE",{e:t});break;case"paste":s.length>0&&editorGlobal.mindMap.execCommand("PASTE_NODE",{e:t});break;case"focus":s.length>0&&(editorGlobal.mindMap.execCommand("FOCUS",s[0].id),$("section.op-con-detail").css("bottom",-240).hide(),$(".op-con-search .cancel").trigger("click"),$(".op-con-top").find("a[tit=search], a[tit=themes]").addClass("mind-focus-disable1"));break;case"unfocus":s.length>0&&(editorGlobal.mindMap.execCommand("FOCUS",l.id),$(".mind-topic-focus").remove(),$(".mind-focus-disable1").removeClass("mind-focus-disable1"));break;case"show":s.length>0&&editorGlobal.mindMap.execCommand("SHOW_TOPICS",s[0].id);break;case"hide":s.length>0&&editorGlobal.mindMap.execCommand("HIDE_TOPICS",s[0].id);break;case"clear":s.length>0&&editorGlobal.mindMap.execCommand("CLEAR_STYLE",s);break;case"delimg":var c=$(".panel_point_menu").attr("id").substring(6),d=editorGlobal.mindMap.renderer.getCacheTopic(c);editorGlobal.mindMap.emit("remove_topic_img",d);break;case"view":var u=$(".panel_point_menu").attr("id").substring(6),p=editorGlobal.mindMap.renderer.getCacheTopic(u).getData("image").url;editorGlobal.mindMap.emit("viewImage",p),$(".mind-designer").find(".img-dot").remove(),$(".mind-designer").find(".topic-image img.active").removeClass("active");break;case"change":$(".op-con-item").find("[tit=image]").trigger("click"),editorGlobal.mindMap.emit("topic_image_unselected");break;case"point-edit":editorGlobal.mindMap.emit("editConnectionText");break;case"point-del":var h=editorGlobal.mindMap.connectionLine.getFocusLine();h&&editorGlobal.mindMap.execCommand("DELETE_CONNECTION_LINE",[h]),s.length>0&&editorGlobal.mindMap.execCommand("REMOVE_TOPIC",s);break;case"link-open":var m=$(".panel_point_menu").attr("id").substring(6),f=editorGlobal.mindMap.renderer.getCacheTopic(m).getData("link").value;editorGlobal.mindMap.emit("topic_link_open",t,{url:f,type:"url"});break;case"link-view":var g=$(".panel_point_menu").attr("id").substring(6),v=editorGlobal.mindMap.renderer.getCacheTopic(g).getData("link").value;return void $(".panel_point_menu_content").append("<span op='link-open' class='link-view-box'>"+v+"</span>");case"link-edit":$(".mind-addLink-box").show(100),$(".op-con").css("bottom","-100%");var b=$(".panel_point_menu").attr("id").substring(6),y=editorGlobal.mindMap.renderer.getCacheTopic(b);editorGlobal.mindMap.emit("showLinkBox",y);break;case"link-del":var x=$(".panel_point_menu").attr("id").substring(6),w=editorGlobal.mindMap.renderer.getCacheTopic(x);editorGlobal.mindMap.emit("removeLink","url",w)}(0,r.$poCollect)("mind_click",{tit:i,pos:"mobi-context-panel"}),setTimeout(function(){e.closeControlBar()},50)})}}},84701:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.smartAiHelpCon=t.helpCon=void 0,n(61894),n(5682),n(65528),n(82403),n(33809),n(6284),n(69268),n(86837);var o=i(n(32483)),a=n(5263);t.helpCon={init:function(){var e,t="<div id='extra-box' style='margin-top:12px'><ul class='op-menu-list'><li tit= 'shortcut'><span class='po-diagraming-icons'>&#xe7f6;</span>"+o.default.t("js.Shortcut_Key_Description")+"</li><li tit= 'equation'><span class='po-diagraming-icons'>&#xe7f9;</span>LaTeX"+o.default.t("js.Common_equations")+"</li>";!1!==(null===(e=editorGlobalConfig)||void 0===e?void 0:e.helperConfig)&&(t+="<li tit= 'guide' style='display:none;'><span class='po-diagraming-icons'>&#xe7f8;</span>"+o.default.t("js.New_User_Guide")+"</li><li tit= 'mind_book'><span class='po-diagraming-icons'>&#xe7f7;</span>"+o.default.t("js.Detailed_User_Manual")+"</li><li tit= 'feedback'><span class='po-diagraming-icons'>&#xe92c;</span>"+o.default.t("js.Feedback")+"</li>"),t+="</div>";var n={undo:{target:$(".mind-toolbar [tit=undo]"),pos:"bottom",margin:{top:0},title:o.default.t("js.Undo"),text:o.default.t("js.To_resume_the_previous_step")},redo:{target:$(".mind-toolbar [tit=redo]"),pos:"bottom",margin:{top:0},title:o.default.t("js.Restore"),text:o.default.t("js.To_resume_the_undone_action")},brash:{target:$(".mind-toolbar [tit=brash]"),pos:"bottom",margin:{top:0,left:12},title:o.default.t("js.Format_brush"),text:o.default.t("js.Click_another_theme_to_apply")},icon_conn:{target:$(".mind-toolbar [tit=conn]"),pos:"bottom",margin:{top:0,left:0},title:o.default.t("js.Connection_line"),text:o.default.t("js.Click_on_another_topic")},summary:{target:$(".mind-toolbar [tit=summary]"),pos:"bottom",margin:{top:0,left:0},title:o.default.t("js.Summary"),text:o.default.t("js.Select_one_or_more_topics")},boundary:{target:$(".mind-toolbar [tit=boundary]"),pos:"bottom",margin:{top:0,left:0},title:o.default.t("js.Outer_frame"),text:o.default.t("js.Select_a_theme_and_click")},structure:{target:$(".mind-toolbar [tit=stru]"),pos:"bottom",margin:{top:0,left:0},title:o.default.t("js.Structure"),text:o.default.t("js.To_set_the_central_theme_structure")},download:{target:$("#po-header [tit=export]"),expand:"top",pos:"bottom",margin:{top:0,left:-48},title:o.default.t("js.Download"),text:o.default.t("js.Select_the_download_format")},colla:{target:$("#po-header [tit=colla]"),expand:"top",pos:"bottom",margin:{top:0,left:0},title:o.default.t("js.Collaboration"),text:o.default.t("js.Add_collaborators_to_enable")},btn_share:{target:$("#po-header [tit=colla]"),expand:"top",pos:"bottom",margin:{top:0,left:0},title:o.default.t("js.Collaboration"),text:o.default.t("js.Add_collaborators_to_enable")},present:{target:$("#po-header [tit=present]"),pos:"bottom",margin:{top:0,left:0},title:o.default.t("js.Demo"),text:o.default.t("js.Ctrl_and_drag_to_select")},outline:{target:$("#link-to-outline"),pos:"top",margin:{left:96},title:o.default.t("js.Outline_Editor"),text:o.default.t("js.Switch_to_Mind_notes")},history_edition:{target:$("#header-history"),expand:"top",pos:"bottom",margin:{top:0,left:20},title:o.default.t("js.Historical_record"),text:o.default.t("js.View_the_automatically_saved_version")},newFile:{trigger_btn:"#header-file",expand:"top",target:$("#header-file-menu [ac=new]"),pos:"right",margin:{top:0,left:0},title:o.default.t("js.New"),text:o.default.t("js.Select_the_type_of_file")},btn_clone:{trigger_btn:"#header-file",expand:"top",target:$("#header-file-menu [ac=clone]"),pos:"right",margin:{left:0},title:o.default.t("js.Clone"),text:o.default.t("js.Clone_the_current_file")},style:{target:$(".mind-toolbar-right [tit=style]"),pos:"left",margin:{top:-42},title:o.default.t("js.Style"),text:o.default.t("js.Set_the_page_style")},themes:{target:$(".mind-toolbar-right [tit=themes]"),pos:"left",margin:{top:-42,left:0},title:o.default.t("js.Style_on"),text:o.default.t("js.Select_a_system_theme")},icon:{target:$(".mind-toolbar-right [tit=icon]"),pos:"left",margin:{top:-42},title:o.default.t("js.Icon"),text:o.default.t("js.Select_one_or_more_themes")},remark:{target:$(".mind-toolbar-right [tit=note]"),pos:"left",margin:{top:-42},title:o.default.t("js.Remarks"),text:o.default.t("js.Select_a_topic_and_click_Remarks")},task:{target:$(".mind-toolbar-right [tit=task]"),pos:"left",margin:{top:-42},title:o.default.t("js.Mission"),text:o.default.t("js.Add_tasks_by_selecting_a_topic")},tag:{target:$(".mind-toolbar-right [tit=tag]"),pos:"left",margin:{top:-42},title:o.default.t("js.Label"),text:o.default.t("js.Add_a_system_label")},link:{target:$(".mind-toolbar-right [tit=url]"),pos:"left",margin:{top:-42},title:o.default.t("js.Link"),text:o.default.t("js.Enter_the_link_address_on")},image:{target:$(".mind-toolbar-right [tit=image]"),pos:"left",margin:{top:-42},title:o.default.t("js.Picture"),text:o.default.t("js.Select_a_theme_and_click_Pictures")}};""==n&&$("#brain-power").remove();var i=$(window).height()>620?620:$(window).height();if($(window).resize(function(){i=$(window).height()>620?620:$(window).height(),$("#right-help-con").css({height:i-60})}),$("#right-help-con").length<1){var s=$(".mind-corner.right").outerWidth()+10;parseInt($(".mind-corner.right").css("right"))<0&&(s=10),r.init({bottom:40,right:s,height:i-60,designerType:1,channel:0,subUnit:[t],ai_tag_list:n,extra:!1,comm_question:!0}),$("#extra-box").off("mousedown.power").on("mousedown.power","li[tit]",function(){var e=$(this).attr("tit");if(r.close(),e)switch(e){case"shortcut":editorGlobal.mindMap.emit("openCorner",e);break;case"equation":editorGlobal.mindMap.emit("openCorner",e,null,function(){"equation"==e&&(0==$(".equation-help").length&&a.insert.equation.loadEquation(),editorGlobal.mindMap.emit("openCorner",e))});break;case"guide":var t=[{name:"theme",target:$(".mind-toolbar > [tit=child]").is(":visible")?$(".mind-toolbar [tit=child]"):$(".mind-toolbar [tit=more]"),pos:"bottom",margin:{top:16,left:40},title:o.default.t("js.New_Subtopic"),text:o.default.t("js.Subthemes_are_added_here")},{name:"theme",target:$(".mind-toolbar-right [tit=style]"),pos:"left",margin:{top:0},title:o.default.t("js.Style"),text:o.default.t("js.Structure_and_style")},{name:"theme",target:$(".mind-toolbar-right [tit=add]"),pos:"left",margin:{top:0},title:o.default.t("js.More_Features"),text:"".concat(o.default.t("js.Insert_more_features_here"),",").concat(o.default.t("js.Drag_and_drop_to_add_entry"),"。")},{name:"theme",target:$(".po-footer [tit=isBoxChoose]"),pos:"top",margin:{bottom:0},title:o.default.t("js.Left_button_function"),text:"".concat(o.default.t("js.Click_the_icon_to_switch"),"。")},{name:"theme",target:$("#link-to-outline"),pos:"top",margin:{left:102},title:o.default.t("js.Mind_Notes"),text:"".concat(o.default.t("js.Click_on_the_entry_to_enter"),"。")}];a.PoGuide.init(t);break;case"mind_book":window.open("/support");break;case"feedback":a.insert.feedback.init()}})}else r.spread(),$("#right-help-con").css({height:i-60});$(".mind-container").off("mousedown.clsoeAi").on("mousedown.clsoeAi",function(){r.close()})}};var r=t.smartAiHelpCon={params:{newclass:"",hotCon:"",subUnit:!1,designerType:1,channel:1,resultNum:5,extra:!0,questions:5},init:function(e){var t=this,n=$("#right-help-con"),i=t.params=$.extend({},this.params,e);if(n.length<1){var s,l;if(n=$("<div id='right-help-con' class='right-help-con "+(i.ai_class||"")+"'></div>").appendTo("body").hide(),i.newclass&&n.addClass(i.newclass),!1!==(null===(s=editorGlobalConfig)||void 0===s?void 0:s.helperConfig)){var c=$("<div class='ai-search-input'><span class='ai-search-btn po-diagraming-icons'>&#xe6c9;</span><input id='powerIpt' autocomplete='off' class='power-input' type='text' placeholder='"+o.default.t("js.Search_for_the_features_you_want")+"' /><div class='search-hot tag-box'><div class='hot-temp'></div></div><div class='power-search-del' style='display:none'><i class='po-diagraming-icons'>&#xe6b9;</i></div></div>");n.append(c);var d=$("<div class='tag-box power-hot-tag colle-box' style='display:none'><h6>".concat(o.default.t("js.Hot_search"),"</h6>")+"<div class='hot-temp'></div></div>");n.append(d);var u=$("<div class='power-search-result' style='display: none'></div>");n.append(u)}if(i.subUnit){var p=i.subUnit,h="";if("string"==typeof p)h=p;else{if(!(p instanceof Array))return;$.each(p,function(e,t){h+=t})}n.append(h)}i.comm_question&&!1!==(null===(l=editorGlobalConfig)||void 0===l?void 0:l.helperConfig)&&t.renderQuestion(i);var m=null,f=null;i.bottom&&(f=i.bottom),i.top&&(m=i.top),n.css({bottom:f,top:m,left:i.left,right:i.right,width:i.width||n.outerWidth(),height:i.height||n.outerHeight()}),t.spread()}var g=$(".ai-search-input"),v=g.find(".power-search-del"),b=0,y=$("#powerIpt");y.off().on({keydown:function(e){e.stopPropagation()},keyup:function(e){e.stopPropagation()},input:function(e){b=e.timeStamp,setTimeout(function(){b==e.timeStamp&&y.siblings(".ai-search-btn").trigger("click")},400)},focus:function(e){e.preventDefault();var n=y.val();if(""==n)t.hotLabelHideorShow("hide","show");else{if(t.hotLabelHideorShow("hide","hide"),"block"==$(".power-search-result").css("display"))return;t.powerSearch(n)}i.extra||$("#extra-box").hide(),v.show()},blur:function(e){""==y.val()?(setTimeout(function(){t.hotLabelHideorShow("show","hide")},10),i.extra||$("#extra-box").show(),v.hide()):t.hotLabelHideorShow("hide","hide"),e.stopPropagation()}}),g.off("click.search").on("click.search",".ai-search-btn",function(e){var n=y.val();""!=n?(t.powerSearch(n),t.hotLabelHideorShow("hide","hide"),v.show()):($(".power-search-result").hide(),t.hotLabelHideorShow("hide","show"),v.hide()),e.stopPropagation()}),g.off("click.del").on("click.del",".power-search-del",function(){y.val(""),$(".power-search-result").hide(),t.hotLabelHideorShow("show","hide"),$("#extra-box").css("display","block"),v.hide()}),$(".search-hot").off("click.hot").on("click.hot",".hot-item",function(e){e.stopPropagation();var t=$(this).text();t!=y.val()&&(y.val(t),y.focus())}),$(".power-hot-tag, .power-search-result").off("mousedown").on("mousedown",".hot-item",function(e){e.stopPropagation();var t=$(this).text(),n=y.val();y.focus(),t!=n&&(y.val(t),y.siblings(".ai-search-btn").trigger("click"))}),n.off("mousedown.power").on("mousedown.power",".comm-item ",function(){var e=$(this),t=e.text(),n=e.attr("desc"),i=e.attr("url");$(".po-menu").dropdown("close"),t&&n&&i&&a.searchGuide.tutorial(t,n,i),r.close()}),n.off("click.ai-pin").on("click.ai-pin",".res-temp",function(e){var n=$(this),o=n.attr("tit"),r=n.attr("desc")||"",s=n.attr("photoUrl")||"",l=i.ai_tag_list;if(r||s){var c=n.text();return a.searchGuide.tutorial(c,r,s),void t.close()}null!=l[o]&&(setTimeout(function(){var e=function(e){var t=$.extend({},e),n=t.target,i=null;if(!n.is(":visible")){if(n.parent().hasClass("mind-toolbar")&&(n.parent().is(":visible")||$(".mind-corner.left").showCorner("close"),n=n.parent().children("[tit=more]")),(n.parent().hasClass("mind-header-right")||n.parent().hasClass("po-footer-right"))&&(n.parent().is(":visible")||$(".mind-corner.right").showCorner("close")),n.parents(".mind-toolbar-right").length){var o=n.attr("tit");$(".po-mind-more-menu").is(":visible")||(i=$(".mind-toolbar-right [tit=add]")),n=$("#po-mind-more-list [tit="+o+"]")}n.parent().hasClass("po-footer-left")&&(n.parent().is(":visible")||$(".mind-corner.left").showCorner("close"))}return t.target=n,i&&(t.trigger_btn=i),t}(l[o]);a.searchGuide.init(e),t.close()},200),e.stopPropagation())}),$("#right-help-con").off("mousedown.helpcon").on("mousedown.helpcon",function(e){e.stopPropagation()}),t.getHotCon(i)},renderQuestion:function(e){var t="https://ai.processon.com/doc/random/"+e.channel+"/"+e.designerType+"/"+e.questions;$.ajax({url:t,type:"get",contentType:"application/json",success:function(e){if("success"==e.result){e=e.data;for(var t="<div class='comm-question'><div class='comm-question'><div class='comm-set'></div><div class='comm-tit'>"+o.default.t("js.Frequently_Asked_Questions")+"</div>",n=0;n<e.length;n++){var i=e[n];i.photoUrl.indexOf("http://")>=0&&(i.photoUrl=i.photoUrl.replace("http://","https://")),t+="<div class='comm-item' desc = '"+i.desc+"' url = '"+i.photoUrl+"'>"+i.title+"</div>"}t+="</div>",$("#extra-box").length?$("#extra-box").append(t):$("#right-help-con").append(t)}},error:function(){}})},receiveHot:!1,getHotCon:function(e){var t=this;if(!t.receiveHot){var n="https://ai.processon.com/searchTag/"+e.channel+"/"+e.designerType;$.ajax({url:n,type:"Post",success:function(n){if("success"==n.result){if("success"==n.result){if(null==n.data)return;e.hotCon=n.data.tag;var i=e.hotCon.split(","),o="",a="";$.each(i,function(e,t){a+="<span class='hot-item'>"+t+"</span>"})}$(".ai-search-input").find(".hot-temp").html(o),$(".power-hot-tag").find(".hot-temp").html(a),t.receiveHot=!0}},error:function(){}})}},resultLoading:!1,powerSearch:function(e){var t=this;if(!t.resultLoading){t.resultLoading=!0;var n=$(".power-search-result"),i=JSON.stringify({keyword:e,designerType:t.params.designerType,channel:t.params.channel});$.ajax({url:"https://ai.processon.com/search",type:"POST",contentType:"application/json",data:i,success:function(i){if("success"==i.result){var a=function(){n.hide(),d.push("<div class='tag-box empty-rec colle-box'><h6 style='margin-top:-3px'>"+o.default.t("js.Try_searching_like_this")+"</h6><div class='hot-temp'>");var e=t.params.hotCon.split(",");$.each(e,function(e,t){e<4&&d.push("<span class='hot-item'>"+t+"</span>")}),d.push("</div></div>")},r=function(e,t){var n=t.length,i=e.indexOf(t);return i>-1?e.substring(0,i)+'<span style="color:#DE0F18">'+t+"</span>"+e.substring(i+n):e},s=i.data,l=s.toolbarList,c=s.docList,d=[];if(!s.elementsCount||s.elementsCount<1){if($(".tag-box.empty-rec").length>0)return t.resultLoading=!1,void n.show();a()}else{if(n.hide(),l.length)for(var u=0;u<l.length;u++){var p=l[u],h=r(p.func.split(",")[0],e);"preview"==p.tit&&(p.tit="present"),u<t.params.resultNum&&"download"!=p.tit&&"colla"!=p.tit&&"history_edition"!=p.tit&&"btn_share"!=p.tit&&"btn_clone"!=p.tit&&"newFile"!=p.tit&&d.push("<div id='"+p.id+"' class='res-temp' tit='"+p.tit+"'>"+h+"</div>")}if(c.length)for(var m=0;m<c.length;m++){var f=c[m],g=r(f.title.split(",")[0],e);m<t.params.resultNum&&d.push("<div desc='"+f.desc+"' photoUrl='"+f.photoUrl+"' id='"+f.id+"' class='res-temp'>"+g+"</div>")}}if(""==d.toString()){if($(".tag-box.empty-rec").length>0)return t.resultLoading=!1,void n.show();a()}d=d.splice(0,t.params.resultNum).join(""),n.html(d).show(100),t.resultLoading=!1}else{if($(".tag-box.empty-rec").length>0)return void(t.resultLoading=!1);var v="<div class='tag-box empty-rec colle-box'><h6 style='margin-top:-3px'>"+o.default.t("js.Try_searching_like_this")+"</h6><div class='hot-temp'>",b=t.params.hotCon.split(",");$.each(b,function(e,t){e<4&&(v+="<span class='hot-item'>"+t+"</span>")}),v+="</div></div>",$(".power-search-result").html(v),t.resultLoading=!1}},error:function(){t.resultLoading=!1}})}},drawingTime:null,close:function(){var e=$("#right-help-con");e.addClass("remove"),$(".ai-search-input").find(".power-search-del").trigger("click"),$("#brain-power").removeClass("selected"),setTimeout(function(){e.css("display","none")},300)},spread:function(){$("#right-help-con").removeClass("remove").css("display","block"),$("#extra-box").css("display","block")},hotLabelHideorShow:function(e,t){var n=$(".tag-box.power-hot-tag"),i=$(".ai-search-input").find(".search-hot");"show"==e?i.css({display:"block"}):i.css({display:"none"}),"show"==t?n.css({display:"block"}):n.css({display:"none"})}}},23634:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.typeList=t.saveData=t.renderDom=t.aiAudio=void 0,n(27531),n(4790),n(38887),n(47958),n(69268),n(86837),n(54938),n(18344);var o=n(43874),a=i(n(32483)),r=t.typeList=[{type:"contentCore",val:a.default.t("Audio_Description"),matchList:[a.default.t("Audio_Description")]},{type:"textExtraction",val:a.default.t("Audio_Text_Extraction"),matchList:[a.default.t("Audio_Text_Extraction")]},{type:"viewpoint",val:a.default.t("Audio_Summary"),matchList:[a.default.t("Audio_Summary")]}],s=t.saveData=new Proxy({isValid:!1},{set:function(e,t,n){return e[t]=n,"onChange"!==t&&e.onChange&&e.onChange(t,n),!0}}),l=t.renderDom={init:function(e){e.children("[data-type=audio]").length||(this.renderList(),$('<div data-type="audio">\n            <div class="ai-audio-content"></div>\n            <div class="ai-audio-footer">\n                <input class="ai-audio-input" type="text" placeholder="'.concat(a.default.t("Enter_Require_Extract_Content"),'" />\n                <div class="ai-audio-select-type po-diagraming-icons">&#xe72c;</div>\n            </div>\n        </div>')).appendTo(e))},renderList:function(){if(0===$("#ai-audio-type-list").length){var e=r.map(function(e){return'<li class="po-menu-item" ac="'.concat(e.type,'">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(e.val,"</span>\n                </div>\n            </li>")}).join("");e='<ul id="ai-audio-type-list" class="po-menu-small po-ai-creat-select-menu">'.concat(e,"</ul>"),$(".mind-util-container").append(e)}return $("#ai-audio-type-list")}};t.aiAudio={init:function(e){s.isValid=!1,l.init(e.renderDom),o.aiFileUpload.init({type:"audio",renderDom:$(".ai-audio-content"),callback:this.fileUploadCallback}),this.event()},getData:function(){var e=C(k().mark(function e(t,n){var i,s,l,c;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i={prompt:{},model:"audio"},s=n||o.aiFileUpload.getData()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.fileSend(s.file);case 5:if(i.prompt.key=e.sent,i.prompt.key){e.next=8;break}return e.abrupt("return",void $.toast({type:"error",text:a.default.t("File_upload_fail")}));case 8:return l=t||$(".ai-audio-input").val(),c=r.find(function(e){return e.val===l||e.matchList&&e.matchList.includes(l)}),e.abrupt("return",(c?(i.type=c.type,"textExtraction"===c.type&&(i.firstRender=!0)):i.prompt.text=l,i));case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),event:function(){$(".ai-audio-select-type").button({onClick:function(e,t){$("#ai-audio-type-list").dropdown({target:t,zindex:3,position:"right,top",onSelect:function(e){var t=e.attr("ac"),n=r.find(function(e){return e.type===t}).val;$(".ai-audio-input").val(n)}})}}),$(".ai-audio-input").off("mouseup focus input").on("mouseup",function(e){e.stopPropagation()}).on("focus",function(){$(this).val().trim()||$(".ai-audio-select-type").trigger("click")}).on("input",function(){$(this).val().trim()&&$("#ai-audio-type-list").dropdown("close")})},fileUploadCallback:function(e){s.isValid=!!e,e&&$(".ai-audio-input").focus()},fileSend:function(){var e=C(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,e.abrupt("return",(n.set("file",t),new Promise(function(e){injectExtraAsynCall("onServerApi",{apiName:"uploadMediaFile",params:n},function(t){e(t.data||"")})})));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},70694:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.saveData=t.aiDocument=void 0,n(27531),n(4790),n(38887),n(47958),n(69268),n(86837),n(54938),n(87004);var o=n(43874),a=n(38531),r=n(23634),s=i(n(32483)),l=[{type:"upload",val:s.default.t("Upload_Files"),list:[{type:"contentCore",val:s.default.t("Extract_Document_Core"),matchList:[s.default.t("Extract_Document_Core"),s.default.t("Extract_Content")]},{type:"carding",val:s.default.t("Organize_Document_Framework"),matchList:[s.default.t("Organize_Document_Framework"),s.default.t("Framework_Organization")]},{type:"viewpoint",val:s.default.t("Extract_Document_Key_Points"),matchList:[s.default.t("Extract_Document_Key_Points"),s.default.t("Extract_Key_Points")]},{type:"analysis",val:s.default.t("Summarize_Document_Content"),matchList:[s.default.t("Summarize_Document_Content"),s.default.t("Content_Summary")]}]},{type:"myFile",val:s.default.t("js.My_Files"),list:[{type:"insertDef",val:s.default.t("Embed_File_To_Topic")},{type:"analysis",val:s.default.t("Summarize_File_Content")},{type:"theme",val:s.default.t("Reuse_File_Style")}]}],c=t.saveData=new Proxy({type:"upload",isValid:!1,fileData:null},{set:function(e,t,n){return e[t]=n,"onChange"!==t&&e.onChange&&e.onChange(t,n),!0}});t.aiDocument={init:function(e){c.isValid=!1,function(e){if(!e.children("[data-type=document]").length){var t=l.map(function(e){if($("#ai-document-".concat(e.type,"-list")).length)return"";var t=e.list.map(function(e){return'<li class="po-menu-item" ac="'.concat(e.type,'">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(e.val,"</span>\n                </div>\n            </li>")}).join("");return'<ul id="ai-document-'.concat(e.type,'-list" class="po-menu-small po-ai-creat-select-menu">').concat(t,"</ul>")}).join("");$(".mind-util-container").append(t),$('<div data-type="document">\n            <div class="ai-document-content"></div>\n            <div class="ai-document-footer">\n                <input class="ai-document-input" type="text" placeholder='.concat(s.default.t("Extract_Document_Key_Points"),'>\n                <div class="ai-document-select-type po-diagraming-icons">&#xe72c;</div>\n            </div>\n        </div>')).appendTo(e)}}(e.renderDom),o.aiFileUpload.init({type:["document","audio"],renderDom:$(".ai-document-content"),callback:this.fileUploadCallback}),this.event()},getData:function(){var e=C(k().mark(function e(t,n){var i,d,u,p,h,m,f;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.fileData||"audio"!==c.fileData.fileCategory){e.next=4;break}return e.next=3,r.aiAudio.getData($(".ai-document-input").val());case 3:return e.abrupt("return",e.sent);case 4:if(i={prompt:{},model:"document",collectData:{}},""==(d=t||$(".ai-document-input").val())&&(d=s.default.t("Extract_Document_Key_Points")),(u=l.find(function(e){return e.type===c.type}).list.find(function(e){return e.val===d||e.matchList&&e.matchList.includes(d)}))?i.type=u.type:i.prompt.text=d,"upload"!==c.type&&!n){e.next=20;break}if(p=n||o.aiFileUpload.getData()){e.next=12;break}return e.abrupt("return");case 12:return i.collectData["文档格式"]=p.fileType,e.next=15,this.fileSend(p.file);case 15:if(i.prompt.key=e.sent,i.prompt.key){e.next=18;break}return e.abrupt("return",void $.toast({type:"error",text:s.default.t("Upload_file_fail")}));case 18:e.next=46;break;case 20:if("myFile"!==c.type){e.next=46;break}if(!i.type||"analysis"===i.type){e.next=40;break}if("insertDef"!==i.type){e.next=31;break}return e.next=25,a.myFileList.getData("def");case 25:if(h=e.sent){e.next=28;break}return e.abrupt("return");case 28:i.prompt.def=h,e.next=38;break;case 31:if("theme"!==i.type){e.next=38;break}return e.next=34,a.myFileList.getData("theme");case 34:if(m=e.sent){e.next=37;break}return e.abrupt("return");case 37:i.prompt.theme=m;case 38:e.next=46;break;case 40:return e.next=42,a.myFileList.getData("text");case 42:if(f=e.sent){e.next=45;break}return e.abrupt("return");case 45:i.model="longText",i.prompt.content=f;case 46:return e.abrupt("return",i);case 47:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),event:function(){$("#ai-document-select").button({onClick:function(e,t){$("#ai-document-select-list").dropdown({target:t,zindex:3,onSelect:function(e){var n=e.attr("ac");t.button("setText",e.text()),t.attr("tp",n),c.type=n,$(".ai-document-content .".concat(n)).show().siblings().hide()}})}}),$(".ai-document-select-type").button({onClick:function(e,t){c.fileData&&"audio"===c.fileData.fileCategory?r.renderDom.renderList().dropdown({target:t,zindex:3,position:"right,top",onSelect:function(e){var t=e.attr("ac"),n=r.typeList.find(function(e){return e.type===t}).val;$(".ai-document-input").val(n)}}):$("#ai-document-".concat(c.type,"-list")).dropdown({target:t,zindex:3,position:"right,top",onSelect:function(e){var t=e.attr("ac"),n=l.find(function(e){return e.type===c.type}).list.find(function(e){return e.type===t}).val;$(".ai-document-input").val(n)}})}}),$(".ai-document-input").off("mouseup focus input").on("mouseup",function(e){e.stopPropagation()}).on("focus",function(){$(this).val().trim()||$(".ai-document-select-type").trigger("click")}).on("input",function(){$(this).val().trim()&&$("#ai-document-".concat(c.type,"-list")).dropdown("close")})},fileUploadCallback:function(e){c.isValid=!!e,e?(c.fileData=e,$(".ai-document-input").focus()):c.fileData=null},fileSend:function(){var e=C(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,e.abrupt("return",(n.set("file",t),new Promise(function(e){injectExtraAsynCall("onServerApi",{apiName:"uploadDocumentFile",params:n},function(t){e(t.data||"")})})));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},23190:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.aiFloatToolbar=void 0,n(4790),n(47958),n(69268),n(86837),n(54938),n(69084);var o=n(49306),a=n(70278),r=n(21642),s=i(n(32483)),l={step:!1,powerful:!1,translateAll:!1,loading:!1},c=(t.aiFloatToolbar={init:function(){var e=c.renderToolbar();d(e),d($("#ai-menu-toolbar")),editorGlobal.mindMap.on("topic_selected",c.showToolbar),editorGlobal.mindMap.on("view_data_change_real_time",c.showToolbar),editorGlobal.mindMap.on("selected_change",c.showToolbar)}},{showToolbar:function(){var e=editorGlobal.mindMap.renderer.selectedTopicList[0],t=$("#ai-toolbar"),n=$(".ai-run-loading-tip").is(":visible"),i=editorGlobal.mindMap.opt.readonly;if(!e||l.loading||n||i)t.hide();else{var o=e.getRectInSvg();t.css({transform:"translate(".concat(o.left,"px, ").concat(o.top,"px)")}).show();var a=t.children(".po-menu"),r=a.outerHeight()+15+30,c=a.outerWidth()+10,d=window.innerWidth,u=0,p=0;window.innerHeight-50-o.bottom+e.height<r&&(p=3-r),d-o.left<c&&(u=d-o.left-c);var h=c+200;d-o.left<h?a.addClass("extend-to-left"):a.removeClass("extend-to-left"),a.css("transform","translate(".concat(u,"px, ").concat(p,"px)")),"true"==window.localStorage.getItem("po-ai-toolbar-hide")?($(".ai-toolbar-switch").attr("original-title",s.default.t("js.Unfold")).html("&#xe924;").css({left:"-15px",top:"9px"}).addClass("show"),$("#ai-toolbar .ai-icon").hide()):($(" #ai-toolbar .ai-toolbar-switch").attr("original-title",s.default.t("js.Put_away")).html("&#xe923;").css({left:"22px",top:"-8px"}).removeClass("show"),$("#ai-toolbar .ai-icon").show()),a.hide()}},renderToolbar:function(){var e=o.aiTranslate.aiTranslateList.map(function(e){return'<div data-type="'.concat(e.type,'" data-model="translate" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(e.name,"</span></div></div>")}).join(""),t='\n                <li class="po-menu-item extend" data-type="continueWrite" data-model="0358k">\n                    <div class="po-menu-item-box ai-rainbow-color"><img src="'.concat(staticBasePath,'/assets/images/aigc3.0/ai-icon-generate.svg" style=" position: absolute;left: 8px;" alt=""><span class="text">').concat(s.default.t("Smart_Generation"),'</span></div>\n                </li>\n                <li class="po-menu-item" data-type="optimizeStyle" data-model="27f1b"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe8c1;</span><span class="text">').concat(s.default.t("Mind_Map_Beautification"),'</span></div></li>\n                <li class="po-menu-item extend">\n                    <div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe8c2;</span><span class="text">').concat(s.default.t("Translation"),'</span><span class="po-diagraming-icons extend-icon">&#xe6b7;</span></div>\n                    <ul class="po-menu extend-menu" style="transform: translateY(-73px);">\n                        <li class="po-menu-item">\n                            <div class="po-radio-group" style="padding-left: 8px;">\n                                <label class="po-radio size-mini is-checked" name="ai-translate-all" po-data="false">\n                                    <span class="po-radio__input">\n                                        <span class="po-radio__inner"></span></span>\n                                    ').concat(s.default.t("Current_Topic"),'</label>\n                                <label class="po-radio size-mini" name="ai-translate-all" style="margin-left: 8px;" po-data="true" >\n                                    <span class="po-radio__input">\n                                        <span class="po-radio__inner"></span></span>\n                                    ').concat(s.default.t("Full_Canvas"),'\n                                </label>\n                            </div>\n                        </li>\n                        <li class="devider"></li>\n                        <li class="po-menu-item ai-translate-list">\n                            ').concat(e,'\n                        </li>                        \n                    </ul>\n                </li>\n                <li class="devider"></li>\n                <li class="po-menu-item extend">\n                    <div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe8c3;</span><span class="text">').concat(s.default.t("Polish"),'</span><span class="po-diagraming-icons extend-icon">&#xe6b7;</span></div>\n                    <ul class="po-menu extend-menu">\n                        <li data-type="formal" data-model="10e21" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(s.default.t("Professionalize"),'</span></div></li>\n                        <li data-type="speech" data-model="10e21" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(s.default.t("Colloquial"),'</span></div></li>\n                        <li data-type="lively" data-model="10e21" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(s.default.t("Humorous"),'</span></div></li>\n                        <li data-type="archaism" data-model="10e21" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(s.default.t("Classical_Language"),'</span></div></li>\n                    </ul>\n                </li>\n                <li class="po-menu-item" data-type="expandText" data-model="04b26"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe91d;</span><span class="text">').concat(s.default.t("Expand"),'</span></div></li>\n                <li class="po-menu-item" data-type="abbreviations" data-model="04b26"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe91e;</span><span class="text">').concat(s.default.t("Abbreviate"),'</span></div></li>\n                <li class="po-menu-item" data-type="textCorrected" data-model="04b26"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe8bc;</span><span class="text">').concat(s.default.t("Grammar_Fix"),"</span></div></li>"),n='<li id="ai-menu-toolbar" op="insert-ai" class="po-menu-item extend ai-toolbar"><div class="po-menu-item-box">\n\t\t\t\t<span style="font-size:24px;color:#e5b224;" class="po-diagraming-icons po-menu-icon">\n\t\t\t\t\t<img src="'.concat(staticBasePath,'/assets/images/aigc3.0/ai-logo.svg" style="width: 20px;">\n\t\t\t\t</span>\n\t\t\t\t<span class="text">AI').concat(s.default.t("Creation"),'</span>\n\t\t\t\t<span class="extend-icon po-diagraming-icons">&#xe6b7;</span></div>\n\t\t\t\t<ul class="po-menu menu-icon extend-menu">\n\t\t\t\t\t').concat(t,'\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t\t<li class="devider devi-clip"></li>');"object"==w(editorGlobalConfig.showAIGC)&&0==editorGlobalConfig.showAIGC.aiClickMenu||$(".mind-util-container").find(".mind-context-menu-content").find("[op=insert-child]").before(n),editorGlobal.mindMap.opt.readonlyList.ai||$(".po-aigc-content").addClass("mind-disable");var i=$('<div id="ai-toolbar" class="ai-toolbar">\n            <span class="ai-toolbar-switch po-diagraming-icons" original-title="'.concat(s.default.t("js.Unfold"),'" title-pos="top" >&#xe923;</span>\n            <img class="ai-icon" src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-logo-mind.svg" alt="">\n           \t\t<ul class="po-menu" op="ai-list">\n\t\t\t\t\t').concat(t,"\n\t\t\t\t</ul>\n        </div>"));return"object"==w(editorGlobalConfig.showAIGC)&&0==editorGlobalConfig.showAIGC.aiFloatToolbar||i.appendTo("body"),i}}),d=function(e){$(".po-radio[name=ai-creat-step]").radio({change:function(e,t){l.step="true"===t}}),$(".po-radio[name=ai-creat-powerful]").radio({change:function(e,t){l.powerful="true"===t}}),$(".po-radio[name=ai-translate-all]").off("click.po-radio").on("click.po-radio",function(){var e=$(this).attr("po-data");l.translateAll="true"===e,$(".po-radio[name=ai-translate-all]").removeClass("is-checked"),$(".po-radio[po-data="+e+"]").addClass("is-checked")}),$("#ai-toolbar").off().on("click",function(){$("#ai-toolbar .po-menu[op=ai-list]").show()}),$(".ai-toolbar .ai-toolbar-switch").off().on("click",function(e){e.stopPropagation(),"true"==window.localStorage.getItem("po-ai-toolbar-hide")?(window.localStorage.setItem("po-ai-toolbar-hide","false"),$(" #ai-toolbar .ai-toolbar-switch").attr("original-title",s.default.t("js.Put_away")).html("&#xe923;").css({left:"22px",top:"-8px"}).removeClass("show"),$("#ai-toolbar .ai-icon").show()):($(".ai-toolbar-switch").attr("original-title",s.default.t("js.Unfold")).html("&#xe924;").css({left:"5px",top:"9px"}).addClass("show"),$("#ai-toolbar .ai-icon").hide(),window.localStorage.setItem("po-ai-toolbar-hide","true"))}),e.find(".po-menu-item-box").off().on("click",C(k().mark(function t(){var n,i,o,c;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=$(this).parent().data("type")){t.next=3;break}return t.abrupt("return");case 3:if(i=editorGlobal.mindMap.renderer.getSelectedTopic().topicData.title.trim()){t.next=6;break}return t.abrupt("return",void $.toast({text:s.default.t("Empty_Topic_Alert"),type:"secondary",name:"aigc-blank-topic"}));case 6:if(o=$(this).parent().data("model"),"continueWrite"==(c={type:n,model:o,prompt:i,collectInfo:{triggerPos:"",collectData:{AIPower:"内容处理-帮改"}}}).type&&(c.collectInfo.collectData.fnType="一句话生成"),"translate"==c.type&&(c.collectInfo.collectData.contentArea="all"==c.topicIds?"全画布":"单主题"),"ai-menu-toolbar"==e.attr("id")?(c.collectInfo.triggerPos="右键菜单-",$(".mind-context-menu").hide()):(c.collectInfo.triggerPos="悬浮工具栏-下拉菜单-",e.hide()),"translate"!==o){t.next=11;break}l.translateAll&&(c.topicIds="all"),t.next=19;break;case 11:t.t0=n,t.next="continueWrite"===t.t0?14:"optimizeStyle"===t.t0?16:19;break;case 14:return c.powerful=l.powerful,l.step&&(c.model="levelGenerate",c.level=0),t.abrupt("break",19);case 16:return t.next=18,a.aiTheme.init();case 18:return t.abrupt("return",void t.sent);case 19:l.loading=!0,(0,r.AIRun)(c,function(){l.loading=!1});case 20:case"end":return t.stop()}},t,this)})))}},16766:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.saveData=t.aiImage=void 0,n(96700),n(27531),n(4790),n(38887),n(47958),n(69268),n(86837),n(84889),n(54938),n(14237),n(15620);var o=n(43874),a=n(83316),s=i(n(32483)),l=[{type:"contentCore",val:s.default.t("Describe_Image"),matchList:[s.default.t("Describe_Image_content"),s.default.t("Describe_Image")]},{type:"ocr",val:s.default.t("Extract_Image_Text"),matchList:[s.default.t("Extract_Image_Text"),s.default.t("Direct_Text_Extraction")]}],c=t.saveData=new Proxy({isValid:!1},{set:function(e,t,n){return e[t]=n,"onChange"!==t&&e.onChange&&e.onChange(t,n),!0}});t.aiImage={init:function(e){c.isValid=!1,function(e){if(!e.children("[data-type=image]").length){if(0===$("#ai-image-type-list").length){var t=l.map(function(e){return'<li class="po-menu-item" ac="'.concat(e.type,'">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(e.val,"</span>\n                </div>\n            </li>")}).join("");t='<ul id="ai-image-type-list" class="po-menu-small po-ai-creat-select-menu">'.concat(t,"</ul>"),$(".mind-util-container").append(t)}$('<div data-type="image">\n            <div class="ai-image-content"></div>\n            <div class="ai-image-footer">\n                <input class="ai-image-input" type="text" placeholder='.concat(s.default.t("Describe_Image_content"),' />\n                <div class="ai-image-select-type po-diagraming-icons">&#xe72c;</div>\n            </div>\n        </div>')).appendTo(e)}}(e.renderDom),o.aiFileUpload.init({type:"image",renderDom:$(".ai-image-content"),callback:this.fileUploadCallback}),this.event()},getData:function(){var e=C(k().mark(function e(t,n){var i,a,r,c;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i={prompt:{},model:"image",collectData:{}},a=n||o.aiFileUpload.getData()){e.next=3;break}return e.abrupt("return");case 3:return""==(r=t||$(".ai-image-input").val())&&(r=s.default.t("Describe_Image")),(c=l.find(function(e){return e.val===r||e.matchList&&e.matchList.includes(r)}))?i.type=c.type:i.prompt.text=r,i.collectData[s.default.t("Document_Format")]=a.fileType,e.next=10,this.fileSend(a,i.type);case 10:if(i.prompt.key=e.sent,!i.prompt.key){e.next=13;break}return e.abrupt("return",i);case 13:$.toast({type:"error",text:s.default.t("Upload_file_fail")});case 14:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),event:function(){$(".ai-image-select-type").button({onClick:function(e,t){$("#ai-image-type-list").dropdown({target:t,zindex:3,position:"right,top",onSelect:function(e){var t=e.attr("ac"),n=l.find(function(e){return e.type===t}).val;$(".ai-image-input").val(n)}})}}),$(".ai-image-input").off("mouseup focus input").on("mouseup",function(e){e.stopPropagation()}).on("focus",function(){$(this).val().trim()||$(".ai-image-select-type").trigger("click")}).on("input",function(){$(this).val().trim()&&$("#ai-image-type-list").dropdown("close")})},fileUploadCallback:function(e){c.isValid=!!e,e&&$(".ai-image-input").focus()},fileSend:function(){var e=C(k().mark(function e(t,n){var i,o,r,s=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("ocr"!==n){e.next=6;break}return e.next=3,this.fileToBase64(t.file);case 3:return i=e.sent,o={timestamp:Date.now(),fileType:t.fileType.slice(1),imgBase64:i},e.abrupt("return",new Promise(function(e){(0,a.$poCollect)("AI_draw_function",{fnType:"阅读助手",triggerPos:"AI创作面板-图片",needDimensionOrContent:"提取图片中的文字内容",AIPower:"阅读总结-图片"}),injectExtraAsynCall("onServerApi",{apiName:"onOcr",params:o},function(t){var n=s.ocrDataToText(t.data||"");e(n)})}));case 6:return r=new FormData,e.abrupt("return",(r.set("file",t.file),new Promise(function(e){injectExtraAsynCall("onServerApi",{apiName:"uploadMediaFile",params:r},function(t){e(t.data||"")})})));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),fileToBase64:function(e){return new Promise(function(t,n){var i=new FileReader;i.onloadend=function(){t(i.result)},i.onerror=function(){n(new Error("Failed to convert file to base64"))},i.readAsDataURL(e)})},ocrDataToText:function(e){if(!e||!e.length)return"";var t=e[0],n=t.text,i=r(t.box,1),o=r(i[0],2)[1];return e.slice(1).forEach(function(e){var t=e.text,i=r(e.box,1),a=r(i[0],2)[1];Math.abs(o-a)<=5?n+=" "+t:(o=a,n+="\n"+t)}),n}}},58886:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.saveData=t.aiLongText=void 0,n(27531),n(65528),n(38887),n(47958),n(69268),n(86837),n(54938),n(96620);var o=i(n(32483)),a=[{type:"contentCore",val:o.default.t("Extract_txt_Core"),matchList:[o.default.t("Extract_txt_Core"),o.default.t("Extract_Content")]},{type:"carding",val:o.default.t("Organize_Text_Framework"),matchList:[o.default.t("Organize_Text_Framework"),o.default.t("Framework_Organization")]},{type:"viewpoint",val:o.default.t("Extract_txt_Key_Points"),matchList:[o.default.t("Extract_txt_Key_Points"),o.default.t("Extract_Key_Points")]},{type:"analysis",val:o.default.t("Summarize_txt_Content"),matchList:[o.default.t("Summarize_txt_Content"),o.default.t("Content_Summary")]}],r=t.saveData=new Proxy({isValid:!1},{set:function(e,t,n){return e[t]=n,"onChange"!==t&&e.onChange&&e.onChange(t,n),!0}});t.aiLongText={init:function(e){r.isValid=!1,function(e){var t=e.children("[data-type=longtext]");if(!t.length){if(0===$("#ai-longtext-type-list").length){var n=a.map(function(e){return'<li class="po-menu-item" ac="'.concat(e.type,'">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(e.val,"</span>\n                </div>\n            </li>")}).join("");n='<ul id="ai-longtext-type-list" class="po-menu-small po-ai-creat-select-menu">'.concat(n,"</ul>"),$(".mind-util-container").append(n)}(t=$('<div data-type="longtext">\n            <div class="ai-longtext-content">\n                <textarea class="ai-longtext-content-input input" placeholder="'.concat(o.default.t("Copy_Txt_Here"),'"></textarea>\n            </div>\n\t\t\t<div class="ai-file-tips">').concat(o.default.t("Input_Prompt"),'</div>\n            <div class="ai-longtext-footer">\n                <input class="ai-longtext-input" type="text" placeholder=').concat(o.default.t("Organize_Text_Framework"),'>\n                <div class="ai-longtext-select-type po-diagraming-icons">&#xe72c;</div>\n            </div>\n        </div>'))).appendTo(e),setTimeout(function(){t.find("textarea").first().focus()},100)}}(e.renderDom),this.event()},getData:function(e,t){var n={prompt:{},model:"longText"},i=t||$(".ai-longtext-content textarea").val();if(""!==i.trim()){n.prompt.content=i;var r=e||$(".ai-longtext-input").val();""==r&&(r=o.default.t("Organize_Text_Framework"));var s=a.find(function(e){return e.val===r||e.matchList&&e.matchList.includes(r)});return s?n.type=s.type:n.prompt.text=r,n}$.toast({text:o.default.t("Input_Content_Prompt"),type:"secondary"})},event:function(){$(".ai-longtext-select-type").button({onClick:function(e,t){$("#ai-longtext-type-list").dropdown({target:t,zindex:3,position:"right,top",onSelect:function(e){var t=e.attr("ac"),n=a.find(function(e){return e.type===t}).val;$(".ai-longtext-input").val(n)}})}});var e=$(".ai-longtext-content"),t=$(".ai-longtext-content-input"),n=298,i=194;t.is(":visible")&&(n=t.width(),i=parseInt(e.css("minHeight"))-(e.outerHeight()-e.height()));var o=$('<span class="input hide" style="display:none;max-width: '.concat(n,'px;"></span>')).appendTo(".ai-longtext-content");t.off("input").on("input",function(){var e=o.text($(this).val()).outerHeight();i>e&&(e=i),$(this).css("height",e),r.isValid=!!t.val().trim()}),t.trigger("input"),$(".ai-longtext-input").off("mouseup focus input").on("mouseup",function(e){e.stopPropagation()}).on("focus",function(){$(this).val().trim()||$(".ai-longtext-select-type").trigger("click")}).on("input",function(){$(this).val().trim()&&$("#ai-longtext-type-list").dropdown("close")})}}},21642:function(e,t,n){n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.tripartiteAIRun=t.topController=t.renderDom=t.aiUtils=t.aiServer=t.aiRender=t.AIRun=void 0;var o=i(n(66603));n(27531),n(61894),n(5682),n(38297),n(87812),n(1053),n(82403),n(12638),n(33809),n(4829),n(38887),n(13253),n(6284),n(37212),n(47958),n(69268),n(58500),n(86837),n(54938),n(14237);var a=i(n(32483)),r=n(59081),s=n(15240),l=n(31279),c=n(32582),d=n(83316);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=t.topController={loading:!1,data:{},callback:null,callbackData:null,leaveTopicIds:[],leaveRenderIndex:0,hasSelectTopic:null,readonlyState:!1,moveTopicState:!0,generatingState:!1,collectJSON:""},f={continueWrite:"主题内容创作",optimizeStyle:"脑图美化",formal:"润色-专业化",speech:"润色-口语",lively:"润色-幽默",archaism:"润色-古语",expandText:"扩写",abbreviations:"缩写",textCorrected:"语法修复",translate:"翻译"},g=t.AIRun=function(e,t){if(!m.loading){var n,i=!0;if(e.topicIds?("string"==typeof e.topicIds&&("all"===e.topicIds?e.topicIds=Object.keys(editorGlobal.mindMap.renderer.topicsList):e.topicIds=[e.topicIds]),editorGlobal.mindMap.renderer.getCacheTopic(e.topicIds[0])||(e.topicIds=["root"])):(e.topicIds=editorGlobal.mindMap.renderer.getSelectedIds(),0===e.topicIds.length&&(i=!1,e.topicIds=["root"])),"string"==typeof e.prompt){if(""===e.prompt.trim())return $.toast({text:a.default.t("Empty_Content_Alert"),type:"secondary"}),void(t&&t({type:"error",text:a.default.t("Empty_Content_Alert")}));if(e.prompt.length>2e3&&!["optimizeStyle"].includes(e.type))return $.toast({type:"error",text:a.default.t("js.Currently_not_able_to_process_content_exceeding_2000_characters")}),void(t&&t({type:"error",text:a.default.t("js.Currently_not_able_to_process_content_exceeding_2000_characters")}))}"boolean"!=typeof e.isSave&&(e.isSave=!0),m.data=e,m.loading=!0,m.moveTopicState=!0,m.generatingState=!1,m.hasSelectTopic=null===m.hasSelectTopic?i:m.hasSelectTopic,m.callback=t||null,m.readonlyState=editorGlobal.mindMap.opt.readonly,editorGlobal.mindMap.renderer.clearSelectedTopicList(),editorGlobal.mindMap.updateConfig({enableLinkToTopic:!1,enableLinkToPage:!1}),"insertFull"!==e.type?"insertDef"!==e.type?"theme"!==e.type?"ocr"!==e.type?(w.collectData(e),"translate"!==e.model&&"textCorrected"!==e.type||("textCorrected"===e.type&&(e.model="aiTextCorrected"),e.prompt=w.getTextList(e.topicIds)),v.send(e)):y.renderOcr(e):y.renderTheme(e):y.renderDef(e):y.renderFull(null===(n=e.prompt)||void 0===n?void 0:n.content)}},v=(t.tripartiteAIRun=function(e){var t={topicIds:["root"],type:null==e?void 0:e.ac,prompt:null==e?void 0:e.text,isSave:null==e?void 0:e.autoSave,loadingType:"mini"},n=null==e?void 0:e.callback;c.typeList.map(function(e){e.type===t.type&&(t.model=e.model)}),t.model&&g(t,n)},t.aiServer={config:{get socketUrl(){var e,t=location.hostname;return injectExtraAsynCall("onBeforeAIWebsocket",{},function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=n.url?n.url:["localhost","127.0.0.1"].includes(t)||t.includes("192.168.")?"ws://192.168.10.145:8027/ws":["v5hd.processon.com"].includes(t)?"wss://aigchd.processon.com/ws":"wss://poai.processon.com/ws"}),Object.defineProperty(this,"socketUrl",{value:e,writable:!1,configurable:!1,enumerable:!0}),e},code:{CUSTOM_CLOSE_CODE:4001,ESC_CLOSE_CODE:4002,ERROR_CLOSE_CODE:4004},noCheckTypes:["textCorrected","abbreviations","expandText","formal","speech","lively","archaism"],noCheckModel:["translate"],errorList:{error:a.default.t("js.AI_drawing_service_is_unavailable"),overed:a.default.t("js.Today_request_quota_is_full"),userOauthError:a.default.t("js.User_Information_Error"),userInfoError:a.default.t("js.User_Information_Error"),checkUserError:"用户验证错误",promptIsNull:"参数错误",contentIsNull:"获取文档内容失败",redisContentIsNull:"获取redis内容失败",responseError:"模型响应错误",modelError:"model参数错误",unsupportedLanguage:"不支持的语言",interfaceAccessExceedsTheLimit:"接口访问超限",uid:a.default.t("js.Current_user_does_not_have_access_rights"),sens:a.default.t("js.Keywords_contain_sensitive_characters")},get errorRegex(){var e=Object.keys(this.errorList);return new RegExp("\\{msg:("+e.join("|")+")")}},send:function(e){var t=this;injectExtraAsynCall("onServerApi",{apiName:"getAIUseInfo",params:e},function(n){var i=n.data;"error"!==n.result?((e=$.extend(e,{uid:editorGlobal.userObj.userId,useInfo:i})).isCopilot||(b.showLoadingTip(),b.showLoadingRender(e.topicIds[0])),t.socketOpen(e)):x({type:"error",text:null==i?void 0:i.msg,code:null==i?void 0:i.code})})},socketOpen:function(e){var n=this;try{this.socket=new WebSocket(this.config.socketUrl),this.socket.onopen=function(){var t={prompt:e.prompt,type:e.type,uid:e.uid,model:e.model,useInfo:e.useInfo,powerful:e.powerful||!1,level:e.level||0,isContinuation:e.isContinuation||!1};n.socketSend(t),e.isCopilot||(b.showLoadingTip(),b.showLoadingRender(e.topicIds[0]))},this.socket.onmessage=this.socketOnMessage.bind(this),this.socket.onclose=this.socketOnClose.bind(this),this.socket.onerror=this.socketOnError.bind(this)}catch(t){$.toast({type:"error",text:a.default.t("Connect_Create_fail")}),x({type:"error",text:e.useInfo.msg,code:e.useInfo.code})}},socketSend:function(e){this.socket.send(JSON.stringify(e))},socketClose:function(e,t){this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING?this.socket.close(e,t):x({type:e===this.config.code.CUSTOM_CLOSE_CODE?"success":"error",text:t,code:e})},socketOnMessage:function(e){e=e.data,this.messageTest(e)&&(m.data.isCopilot||("translate"===m.data.model||["textCorrected"].includes(m.data.type)?e.includes("[DONE]")&&m.data.isSave?y.renderTrans():y.renderTrans(e,!1):["abbreviations","expandText","formal","speech","lively","archaism"].includes(m.data.type)?y.renderReplaceText(e):y.render(e)),m.data.onMessage&&m.data.onMessage(e))},socketOnClose:function(e){var t=e.code,n=e.reason;x({type:t===this.config.code.CUSTOM_CLOSE_CODE?"success":"error",text:n,code:t}),w.collectData({},t)},socketOnError:function(){$.toast({type:"error",text:a.default.t("js.AI_drawing_service_is_unavailable")}),x({type:"error",text:a.default.t("js.AI_drawing_service_is_unavailable"),code:this.config.ERROR_CLOSE_CODE}),this.socketClose(this.config.ERROR_CLOSE_CODE,a.default.t("js.AI_drawing_service_is_unavailable"))},messageTest:function(e){var t=this.config;if(""===e.trim())return!1;var n=e.match(t.errorRegex);if(n){var i=t.errorList,o=n[1];return $.toast({type:"error",text:i[o]}),this.socketClose(t.code.ERROR_CLOSE_CODE,i[o]),!1}return!("image"===m.data.model&&!1===this.imageTest(e)||-1!==e.indexOf("{msg:end")&&(m.data.isCopilot?(this.socketClose(t.code.CUSTOM_CLOSE_CODE,a.default.t("js.AI_creation_completed")),1):t.noCheckModel.includes(m.data.model)||t.noCheckTypes.includes(m.data.type)||-1!==y.controller.list.join().indexOf("@")?(y.node.saveNodeText(),"levelGenerate"===m.data.model&&m.leaveTopicIds[m.leaveRenderIndex]?(this.leaveSend(),1):(w.selectCreatTopics(),this.socketClose(t.code.CUSTOM_CLOSE_CODE,a.default.t("js.AI_creation_completed")),1)):($.toast({type:"error",text:a.default.t("js.change_the_topic_and_try_again")}),this.socketClose(t.code.ERROR_CLOSE_CODE,a.default.t("js.AI_returned_data_format_exception")),1)))},imageTest:function(e){var t=this,n=m.data,i=function(){setTimeout(function(){t.socketSend({prompt:{taskId:n.taskId},uid:n.uid,model:n.model,useInfo:n.useInfo})},1e3)};try{var o=JSON.parse(e);if(o.task_id)return n.taskId=o.task_id,i(),!1}catch(e){}if(-1!==e.indexOf("{ret_code: 1}"))return i(),!1},leaveSend:function(e,t){var n=m.data;e&&(m.leaveTopicIds=t||[].concat(h(y.controller.historyCreateTopicIds),h(y.controller.createTopicIds)),m.leaveRenderIndex=0,1!==n.level||m.hasSelectTopic||(m.leaveTopicIds.shift(),m.hasSelectTopic=!0)),y.clearController(e);var i=m.leaveTopicIds[m.leaveRenderIndex],o=editorGlobal.mindMap.renderer.getTopicById(i),r=o?$("<span/>").html(o.title).text().trim():"";if(m.leaveRenderIndex++,o&&r)if(n.topicIds=[i],n.prompt=r,b.showLoadingRender(i),this.socket.readyState!==WebSocket.OPEN)this.socketOpen(m.data);else{var s={prompt:n.prompt,type:n.type,uid:n.uid,model:n.model,useInfo:n.useInfo,powerful:n.powerful||!1,level:n.level||0};v.socketSend(s)}else m.leaveTopicIds[m.leaveRenderIndex]?this.leaveSend():(w.selectCreatTopics(),$.toast({type:"success",text:a.default.t("js.AI_creation_completed")}),this.socketClose(this.config.code.CUSTOM_CLOSE_CODE,a.default.t("js.AI_creation_completed")))}}),b=t.renderDom={loadingTopicId:null,showLoadingRender:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";this.hideLoadingRender(),editorGlobal.mindMap.emit("hide_node_add_btn");var n=editorGlobal.mindMap.renderer.getCacheTopic(t);if(n&&n.group){this.loadingTopicId=t;var i=editorGlobal.mindMap.opt.hoverRectPadding,o=n.style.getBackgroundColor()||"transparent";"transparent"===o&&(o=editorGlobal.mindMap.renderer.getBackgroundColor());var a=n.getBorderWidth()/2,s=(new r.ForeignObject).size(n.width+2*(i+a)+4,n.height+2*(i+a)+4).x(-(i+a+2)).y(-(i+a+2));s.add($('<div class="loading-border-container"><span class="border-before"></span><span class="border-after" style="background:'.concat(o,'"></span></div>'))[0]),s.insertBefore(n.group.children()[0]),$(".loading-border-container").parent().css({borderRadius:"5px"});var l=n.width,c=n.height,d=Math.sqrt(Math.pow(l,2)+Math.pow(c,2))+10;$(".border-before").css({width:d+"px",height:d+"px",top:"50%",left:"50%","margin-top":"-".concat(d/2,"px"),"margin-left":"-".concat(d/2,"px")}),n.isDisabledSelected=!0,n.hoverNode&&n.hoverNode.opacity(0)}else setTimeout(function(){e.showLoadingRender(t)},300)},hideLoadingRender:function(){var e=this.loadingTopicId;if(e){var t=editorGlobal.mindMap.renderer.getCacheTopic(e);t&&t.group&&($(t.group.node).find(".loading-border-container").parent().remove(),t.isDisabledSelected=!1),this.loadingTopicId=null}},showLoadingTip:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"loading",t=m.data;if("mini"!==t.loadingType){var n=$(".ai-run-loading-tip");n.length||(n=$('<div class="ai-run-loading-tip">\n                <div class="ai-loading-header">\n                    <div class="left">\n                        <div class="loading-title"><span class="loading-title-icon"><img src="'.concat(staticBasePath,'/assets/images/aigc3.0/ai-logo.svg" alt=""></span><span class="title">').concat(a.default.t("js.Creating_In_Progress"),'...</span></div>\n                    </div>\n                    <div class="right">\n\t\t\t\t\t<span class="gradient-bg"><span class="po-tool-button gradient-text" data-type="continue"><span class="po-diagraming-icons">&#xe919;</span>').concat(a.default.t("Continue"),'</span></span>\n\t\t\t\t\t<span class="po-tool-button" data-type="delete"><span class="po-diagraming-icons">&#xe7b7;</span>').concat(a.default.t("Discard"),'</span>\n\t\t\t\t\t<span class="po-tool-button" data-type="reload"><span class="po-diagraming-icons">&#xe98f;</span>').concat(a.default.t("Regenerate"),'</span>\n\t\t\t\t\t<span class="po-tool-button primary" data-type="success"><span class="po-diagraming-icons">&#xe974;</span>').concat(a.default.t("Use"),'</span>\n\t\t\t\t\t<span class="po-tool-button" data-type="stop"><span class="po-diagraming-icons">&#xe90e;</span>').concat(a.default.t("Stop"),'</span>\n\t\t\t\t\t<span class="po-tool-button" data-type="close"><span class="po-diagraming-icons">&#xe6b9;</span>').concat(a.default.t("Close"),'</span>\n                    </div>\n                </div>\n\t\t\t\t<div class="loading-tips">').concat(a.default.t("Layer_Content_Adjustment"),'。</div>\n                <ul class="progress-box">\n                    <li><span></span></li>\n                    <li><span></span></li>\n                    <li><span></span></li>\n                </ul>\n\t\t\t\t<div class="loading-content">\n\t\t\t\t</div>\n            </div>')).appendTo("body")),editorGlobal.mindMap.on("ai_loading_shake",w.loadingShake),editorGlobal.mindMap.on("mousewheel",w.setTopicState),n.attr("data-step",e),editorGlobal.mindMap.updateConfig({enableLinkToTopic:!1,enableLinkToPage:!1}),editorGlobal.mindMap.opt.readonly||editorGlobal.mindMap.setReadonly(!0,{pageBox:!1,outline:!1,template:!1}),"loading"==e&&($(".ai-run-loading-tip .progress-box").show(),$(".ai-run-loading-tip .loading-content").hide()),n.is(":hidden")&&(n.find(".progress-box span").css("width",0),n.show());var i,o=n.find(".loading-title .title");if("levelGenerate"===t.model)n.addClass("step"),o.text(a.default.t("Stepwise_Generation")),$(".loading-title-icon").html("<img src='".concat(staticBasePath,"/assets/images/aigc3.0/ai-logo.svg' alt=''></img>")),"loading"===e?i="".concat(a.default.t("Content_Generating"),"..."):"success"===e?i="".concat(a.default.t("You_Mindmap_Generated"),"。"):"continue"===e&&(i="".concat(a.default.t("View_And_Adjust_This_Layer"),"。")),n.find(".loading-tips").text(i);else n.removeClass("step"),"loading"===e?(o.text("".concat(a.default.t("js.Creating_In_Progress"),"...")),$(".loading-title-icon").html("<img src='".concat(staticBasePath,"/assets/images/aigc3.0/ai-logo.svg' alt=''></img>"))):"success"===e?["formal","speech","lively","archaism"].includes(m.data.type)?(o.text(a.default.t("Polish")),$(".loading-title-icon").html('<span class="po-diagraming-icons po-menu-icon">&#xe8c3;</span>')):"abbreviations"==m.data.type?(o.text(a.default.t("Abbreviate")),$(".loading-title-icon").html('<span class="po-diagraming-icons po-menu-icon">&#xe91e;</span>')):"expandText"==m.data.type?(o.text(a.default.t("Expand")),$(".loading-title-icon").html('<span class="po-diagraming-icons po-menu-icon">&#xe91d;</span>')):o.text(a.default.t("Generated")):"stop"===e&&o.text(a.default.t("js.You_have_manually_terminated_AI_creation"));"success"===e||"stop"===e?this.loadingTipProgressChange(100):"continue"===e?(this.loadingTipProgressChange("stop"),editorGlobal.mindMap.setReadonly(!1)):this.loadingTipProgressChange(90),n.find(".ai-loading-header .right span").off("click").on("click",function(){var e=$(this).data("type"),n={};switch(e){case"success":(0,d.$poCollect)("mind_click",{tit:e,pos:"ai-dialog",AIPower:m.collectJSON["AI功能"]}),["abbreviations","expandText","formal","speech","lively","archaism"].includes(t.type)&&y.node.saveNodeText(m.data.topicIds[0],y.controller.loadingTextData),x(null,!0);break;case"close":v.socketClose(v.config.code.ESC_CLOSE_CODE,a.default.t("js.You_have_manually_terminated_AI_creation"));break;case"stop":n={tit:e,pos:"ai-dialog",AIPower:m.collectJSON["AI功能"]},0!=m.leaveRenderIndex&&(n[a.default.t("Stepwise_Generation")]=m.leaveRenderIndex+"步"),(0,d.$poCollect)("mind_click",n),v.socketClose(v.config.code.ESC_CLOSE_CODE,a.default.t("js.You_have_manually_terminated_AI_creation"));break;case"continue":n={tit:e,pos:"ai-dialog",AIPower:n["AI功能"]},0!=m.leaveRenderIndex&&(n[a.default.t("Stepwise_Generation")]=m.leaveRenderIndex+"步"),(0,d.$poCollect)("mind_click",n),0!==t.level&&m.leaveTopicIds[m.leaveRenderIndex]?v.leaveSend():(t.level+=1,v.leaveSend(!0)),b.showLoadingTip();break;case"delete":(0,d.$poCollect)("mind_click",{tit:e,pos:"ai-dialog",AIPower:m.collectJSON["AI功能"]}),w.removeTopics(),x(null,!0);break;case"reload":if((0,d.$poCollect)("mind_click",{tit:e,pos:"ai-dialog",AIPower:m.collectJSON["AI功能"]}),w.removeTopics(),b.loadingTipProgressChange(0),"levelGenerate"===t.model&&0!==m.data.level)v.leaveSend(!0,m.leaveTopicIds),b.showLoadingTip();else{var i=m.data,o=m.callback;y.clearController(!0),m.loading=!1,m.data={},m.leaveTopicIds=[],m.leaveRenderIndex=0,m.callbackData=null,m.callback=null,editorGlobal.mindMap.opt.readonly=m.readonlyState,g(i,o)}}})}else w.showMiniTip(e)},hideLoadingTip:function(){$(".ai-run-loading-tip").hide(),editorGlobal.mindMap.setReadonly(m.readonlyState),editorGlobal.mindMap.updateConfig({enableLinkToTopic:!0,enableLinkToPage:!0}),editorGlobal.mindMap.off("ai_loading_shake",w.loadingShake),editorGlobal.mindMap.off("mousewheel",w.setTopicState)},loadingTipProgressChange:function(e){var t=m.data,n=$(".ai-run-loading-tip .progress-box span"),i="levelGenerate"===t.model?t.level:0,o=n.eq(i);if(o.stop(),"stop"!==e){e=e||0;var a=o.parent().width(),r=100*o.width()/a,s=m.leaveTopicIds.length||2,l="levelGenerate"===t.model?2e3*s:2e4,c=Math.round((e-r)/100*l);100===e&&c>100&&(c=100),o.animate({width:Math.floor(e*a/100)},c,"linear")}},closeToast:function(){$.toast({text:'<img src="'.concat(staticBasePath,'/assets/images/aigc3.0/ai-logo.svg" style="width: 20px;height: 20px;margin-top: 9px; margin-right: 6px;">').concat(a.default.t("js.You_have_manually_terminated_AI_creation")),type:"secondary",name:"aigc"})}},y=t.aiRender={controller:{list:[],startRender:!1,prevLevel:0,levels:{},createTopicIds:[],currentTopic:{},historyCreateTopicIds:[],translateData:{},loadingTextData:"",loadingShowTextData:"",loadingTextDataTimer:""},clearController:function(e){var t=this.controller;t.historyCreateTopicIds=e?[]:[].concat(h(t.historyCreateTopicIds),h(t.createTopicIds)),t.list=[],t.startRender=!1,t.prevLevel=0,t.levels={},t.createTopicIds=[],t.currentTopic={},t.translateData={}},node:{createNode:function(e,t,n){var i=y.controller,o=i.levels,a=m.data.topicIds[0];if(null!=a){var r={},l=(0,s.newId)();return r.id=l,r.title=t||"",r.parent=o[e]||a,n&&(r.parent=i.currentTopic.id),r.children=[],m.generatingState=!0,editorGlobal.mindMap.execCommand("ADD_TOPIC_MULTI",[r]),i.createTopicIds.push(l),o[e]=r.parent,i.currentTopic=r,r}},setNodeText:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.controller.currentTopic.id,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=y.controller;e.endsWith("[DONE]")&&(e=e.substring(0,e.length-6));var o=editorGlobal.mindMap.renderer.getTopicById(t)||i.currentTopic;o.title=n?e:o.title+e,o._topic&&(o._topic.isRerender=!0,m.generatingState=!0,editorGlobal.mindMap.execCommand("UPDATE_TOPIC_NODE",o,o,"title",!0),m.moveTopicState&&n&&editorGlobal.mindMap.renderer.moveTopicToClientView(o._topic))},saveNodeText:function(e,t){var n=this,i=y.controller.currentTopic.id,o=editorGlobal.mindMap.renderer.getTopicById(e||i);if(o&&o._topic){var a=t||o.title;o._topic.isRerender=!0,m.generatingState=!0,o.title="",editorGlobal.mindMap.execCommand("UPDATE_TOPIC_TEXT",o._topic,a),m.moveTopicState&&editorGlobal.mindMap.renderer.moveTopicToClientView(o._topic)}else setTimeout(function(){n.saveNodeText(i)},100)}},updateSelectTopicText:function(e){if(m.hasSelectTopic){if(w.isDefaultTopicTitle()){var t=editorGlobal.mindMap.renderer.getCacheTopic(m.data.topicIds[0]);t.isRerender=!0,editorGlobal.mindMap.execCommand("UPDATE_TOPIC_TEXT",t,e)}}else{var n=y.node.createNode(0,e);m.data.topicIds=[n.id],m.hasSelectTopic=!0,y.clearController(!0)}},render:function(e){var t=this.node,n=this.controller,i=n.list;if(!(""===e.trim()||e.startsWith("[ID:")&&e.endsWith("]"))||i.length){i.push(e);var o=i.length-2,a=i[o],r=i[o-1],s=i[o+1];void 0!==a&&function(e,i,o){if(/\n$/.test(e)&&(e=e.replace(/\n+$/,"")),e.includes("@")&&(n.startRender=!0),n.startRender){var a=0;if(e.includes("@")){if(/^@+$/.test(e)&&o&&o.includes("@"))return;a=e.lastIndexOf("@")+1,i&&/^@+$/.test(i)&&(a+=i.lastIndexOf("@")+1)}if(a>0){e=e.replace(/@/g,"").replace(/§/g,"@");var r=n.prevLevel;if(n.currentTopic.updateText&&t.saveNodeText(),0===r){if(m.hasSelectTopic&&1===a){if(w.isDefaultTopicTitle())return n.currentTopic.updateText=!0,n.currentTopic.id=m.data.topicIds[0],void t.setNodeText(e,m.data.topicIds[0],!0);if(!m.data.firstRender)return void(n.startRender=!1)}t.createNode(a,e)}else r>0&&r===a?t.createNode(a,e):a>r?t.createNode(a,e,!0):a<r&&t.createNode(a,e);n.prevLevel=a}else n.currentTopic.updateText=!0,e=e.replace(/§/g,"@"),t.setNodeText(e)}e.includes("[DONE]")&&n.currentTopic.updateText&&t.saveNodeText()}(a,r,s)}},renderFull:function(e){var t=this;e.endsWith("[DONE]")&&(e=e.slice(0,-6));var n=e.match(/@+[^@]+/g);n?(n.push("[DONE]"),n.map(function(e){t.render(e)})):y.node.createNode(0,e),w.selectCreatTopics(),x()},displayText:function(){var e=y.controller;e.loadingShowTextData.length<e.loadingTextData.length&&(e.loadingShowTextData=e.loadingTextData.slice(0,e.loadingShowTextData.length+1),$(".ai-run-loading-tip .loading-content").text(e.loadingShowTextData).show(),$(".ai-run-loading-tip .loading-content").scrollTop($(".ai-run-loading-tip .loading-content")[0].scrollHeight))},renderReplaceText:function(e){var t=this.controller;m.data.firstRender=!0,t.startRender?e.endsWith("[DONE]")?(e=e.substring(0,e.length-6),t.loadingTextData+=e,clearInterval(t.loadingTextDataTimer),$(".ai-run-loading-tip .loading-content").text(t.loadingTextData).show(),$(".ai-run-loading-tip .loading-content").scrollTop($(".ai-run-loading-tip .loading-content")[0].scrollHeight)):t.loadingTextData+=e:(t.startRender=!0,m.generatingState=!0,t.loadingTextData=e,t.loadingShowTextData="",$(".ai-run-loading-tip .loading-content").empty(),t.loadingTextDataTimer=setInterval(this.displayText,20)),$(".ai-run-loading-tip .progress-box").hide()},renderTextFull:function(){},renderTheme:function(e){var t=e.prompt.theme;editorGlobal.mindMap.setThemeConfig(t),x()},renderDef:function(e){var t=e.prompt.def,n=editorGlobal.mindMap.renderer.getSelectedIds()[0],i={list:[].concat(h(t.children||[]),h(t.leftChildren||[]),h(t.freeChildren||[]))};(0,l.pasteDiagram)({id:n,content:i,$:$}),x()},renderOcr:function(e){m.data.isCopilot||(y.node.createNode(0,e.prompt.key),w.selectCreatTopics()),m.data.onMessage&&m.data.onMessage(e.prompt.key),x()},renderTrans:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.controller.translateData,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.data.prompt;try{var i=e;"string"==typeof e&&(i=JSON.parse(e)),t||(this.controller.translateData=p(p({},this.controller.translateData),i));var o=[],a=[];for(var r in i){var l=i[r];if(l&&l.length){var c=editorGlobal.mindMap.renderer.getTopicById(r);if(m.generatingState=!0,c._topic){var d=(0,s.copyTopicData)(c._topic);n&&n[r]&&(d.title=n[r]),a.push(d),c.title=l,c._topic.isRerender=!0,o.push(c)}}}o.length&&(b.showLoadingRender(o[0].id),editorGlobal.mindMap.execCommand("UPDATE_TOPIC_NODE",o,a,"title",!t))}catch(e){}}},x=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t?m.callbackData=t:t=m.callbackData||{type:"success",text:a.default.t("js.AI_creation_completed"),code:v.config.code.CUSTOM_CLOSE_CODE},("translate"===m.data.model||["textCorrected"].includes(m.data.type))&&(n=!0,t.code===v.config.code.ESC_CLOSE_CODE&&y.renderTrans()),editorGlobal.mindMap.updateConfig({enableLinkToTopic:!0,enableLinkToPage:!0}),b.hideLoadingRender(),!n&&!m.data.isCopilot)if("levelGenerate"===m.data.model){if("success"===t.type)return void(2===m.data.level?b.showLoadingTip("success"):(b.showLoadingTip("continue"),b.loadingTipProgressChange(100)));if(t.code===v.config.code.ESC_CLOSE_CODE)return void(m.generatingState?(b.showLoadingTip("continue"),0===m.data.level||0===m.leaveTopicIds.length?b.loadingTipProgressChange(100):b.showLoadingRender(m.leaveTopicIds[m.leaveRenderIndex]),w.selectCreatTopics()):e(null,!0))}else{if("success"===t.type)return void b.showLoadingTip("success");if(t.code===v.config.code.ESC_CLOSE_CODE)return void(m.generatingState?(b.showLoadingTip("stop"),w.selectCreatTopics()):e(null,!0))}b.hideLoadingTip(),y.clearController(!0),m.loading=!1,m.data={},m.leaveTopicIds=[],m.leaveRenderIndex=0,m.hasSelectTopic=null,m.callbackData=null,m.moveTopicState=!0,m.generatingState=!1,m.callback&&m.callback(t),m.callback=null},w=t.aiUtils={collectData:function(e,t){if(t){var n={"返回结果":4001==t?"成功":4002==t?"手动关闭":"错误关闭"};(0,d.$poCollect)("ai_draw_result",Object.assign(n,m.collectJSON))}else if(e.collectInfo){var i={AIPower:f[e.type]?f[e.type]:f[e.model],triggerPos:e.collectInfo.triggerPos+(f[e.type]?f[e.type]:f[e.model]?f[e.model]:"")};e.collectInfo.collectData&&(i=Object.assign(i,e.collectInfo.collectData)),m.collectJSON=i,(0,d.$poCollect)("AI_draw_function",i)}},setTopicState:function(){m.moveTopicState=!1},loadingShake:function(){var e=$(".ai-run-loading-tip"),t=5,n=1,i=setInterval(function(){e.animate({"margin-left":t},50).animate({"margin-left":-t},50),t=-t,--n<0&&clearInterval(i)},100)},showMiniTip:function(e){"success"===e||"stop"===e?($.toast({type:"success",text:a.default.t("js.AI_creation_completed")}),x(null,!0)):$.toast({text:'<img src="'.concat(staticBasePath,'/assets/images/aigc3.0/ai-logo.svg" style="width: 20px;height: 20px;margin-top: 9px; margin-right: 6px;">').concat(a.default.t("js.AI_creating")," <span class=\"loader-bar\"> <span class='po-loading-loader po-loading-four'/></span> </span>"),type:"secondary",autoClose:!1,name:"aigc"})},getTextList:function(e){e=e||Object.keys(editorGlobal.mindMap.renderer.topicsList);for(var t={},n=0;n<e.length;n++){var i,o=e[n],a=editorGlobal.mindMap.renderer.getTopicById(o),r=null==a||null===(i=a.title)||void 0===i?void 0:i.trim();r&&!r.includes("equation-text")&&(t[o]=r)}return t},isDefaultTopicTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.data.topicIds[0],t=editorGlobal.mindMap.renderer.getCacheTopic(e);if(t){var n,i=null==t||null===(n=t.topicData)||void 0===n||null===(n=n.title)||void 0===n?void 0:n.trim();if(""===i||/^未命名文件(\d+)?$|^分支主题$|^子主题$|^概要$|^自由主题$/.test(i))return!0}return!1},selectCreatTopics:function(){var e=editorGlobal.mindMap.renderer,t=[].concat(h(y.controller.historyCreateTopicIds),h(y.controller.createTopicIds)).map(function(t){return e.getTopicById(t)||{id:t}});e.clearSelectedTopicList(),e.addTopicsToSelectedList(t)},removeTopics:function(e){var t=editorGlobal.mindMap.renderer,n=(e=e||[].concat(h(y.controller.historyCreateTopicIds),h(y.controller.createTopicIds))).map(function(e){return t.getCacheTopic(e)||{id:e}});editorGlobal.mindMap.execCommand("REMOVE_TOPIC",n)},Text2Def:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default.t("Unnamed_file"),n=[],i=e.split("\n"),o={mention:/^@+/,outline:/^#+/,mermaid:/^\s+/},r="mention";for(var l in o)o[l].test(i[0])&&(r=l);var c={mention:"@",outline:"#",mermaid:" "}[r],d=o[r],u={mention:/^@+\s*/,outline:/^#+\s*/,mermaid:/^\s+\s*/}[r],p=0;if(i=i.map(function(e){return e.trim()}).filter(function(e,t){return""!==e&&e.indexOf("```")<0&&(0!==t&&e.indexOf(c)>-1||0===t)})){var h=!1;i.map(function(e){1===d.exec(e.trim())[0].length&&p++}),p>1&&(i=i.map(function(e){return c+e.trim()}),h=!0);var m={leftChildren:[],children:[],root:!0,structure:"mind_free",theme:"theme3",title:t,id:"root",level:1};n.push(m);for(var f=[m],g=0,v=h?0:1;v<i.length;v++){var b=i[v],y=(b.match(d)||[""])[0].length;if(y=i[0].indexOf(c)>-1||2===(i[1].match(d)||[""])[0].length?y:y+1,g>2&&y<2)break;for(var x={title:b.replace(u,""),id:(0,s.newId)(),children:[],parent:""};f.length>0&&y<=f[f.length-1].level;)f.pop();if(f.length>0){var w=f[f.length-1];x.parent=w.id,w.children.push(x)}x.level=y,f.push(x),g=Math.max(g,y)}return n[0]}},dataMerging:function(e,t){var n={};function i(e,t){0!=e.length&&e.map(function(e){t(e),i(e.children,t),e.leftChildren&&i(e.leftChildren,t)})}return i([e],function(e){n[e.id]=e.title}),i([t],function(e){n[e.id]&&(e.title=n[e.id])}),t}}},70278:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.saveData=t.aiTheme=void 0,n(61894),n(96909),n(65528),n(4790),n(82403),n(13253),n(6284),n(54938),n(14237);var o=n(9464),a=n(15240),r=n(39646),s=n(21642),l=i(n(6535)),c=t.saveData=new Proxy({themeList:"",index:1,loading:!1,styles:"",sendData:"",defaultStyle:{},aiLoading:!1},{set:function(e,t,n){return e[t]=n,"onChange"!==t&&e.onChange&&e.onChange(t,n),!0}}),d=(t.aiTheme={themeList:"",init:function(){var e=C(k().mark(function e(t){var n,i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d.init(),n=this,i=s.aiUtils.getTextList(),o=Object.values(i).join(""),c.aiLoading=!0,editorGlobal.mindMap.setReadonly(!0,{pageBox:!1,outline:!1,template:!1}),c.sendData={prompt:o,type:"optimizeStyle",model:"27f1b",isCopilot:!0},c.defaultStyle=(0,a.deepClone)(editorGlobal.mindMap.themeConfig),c.sendData.onMessage=function(){var e=C(k().mark(function e(i){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadThemeList(i,t);case 2:$(".ai-theme-dialog").show();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s.aiUtils.showMiniTip("loading"),c.sendData.collectInfo={triggerPos:"AI右侧面板-",collectData:{fnType:l.default.t("Content_Modification"),AIPower:l.default.t("Mind_Map_Beautification")}},(0,s.AIRun)(c.sendData,function(e){"success"!=e.type?(editorGlobal.mindMap.setReadonly(!1),c.aiLoading=!1,$.toast({type:"error",text:l.default.t("js.Request_failed")})):(editorGlobal.mindMap.updateConfig({enableLinkToTopic:!1,enableLinkToPage:!1}),$.toast({type:"success",text:l.default.t("js.AI_creation_completed")}))}),n.initEvent();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),copilotInit:function(){var e=C(k().mark(function e(t,n){var i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.getHueByColor(t),(o=this.colorMapToStyles(i)).unshift((0,a.deepClone)(editorGlobal.mindMap.themeConfig)),e.next=4,this.getThemeSvg(o,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),initEvent:function(){var e=this;$(".ai-theme-dialog ").off("click.ai-btn").on("click.ai-btn",".ai-btn",function(){switch($(this).data("type")){case"reload":if(c.loading)return;e.loading(!0),(0,s.AIRun)(c.sendData);break;case"cancel":if(c.loading)return;c.themeList=[],editorGlobal.mindMap.skeletonStyle.viewTheme("close"),$(".ai-theme-dialog").hide(),c.aiLoading=!1,editorGlobal.mindMap.setReadonly(!1),editorGlobal.mindMap.updateConfig({enableLinkToTopic:!0,enableLinkToPage:!0});break;case"save":if(c.loading)return;editorGlobal.mindMap.setThemeConfig(c.themeList[c.index].theme),c.themeList=[],$(".ai-theme-dialog").hide(),c.aiLoading=!1,editorGlobal.mindMap.setReadonly(!1),editorGlobal.mindMap.updateConfig({enableLinkToTopic:!0,enableLinkToPage:!0})}}),$(".ai-theme-dialog").off("click.li").on("click.li","li",function(){var e=$(this).index();$(".ai-theme-dialog ul li").removeClass("active"),$(this).addClass("active"),c.index=e,0==e?$(" .ai-theme-dialog .right .primary").addClass("disabled"):$(" .ai-theme-dialog .right .primary").removeClass("disabled"),editorGlobal.mindMap.skeletonStyle.viewTheme(null,c.themeList[e].theme)})},loading:function(e){e?($(".ai-theme-dialog .theme-list").css({opacity:.6,"pointer-events":"none"}),$("#ai_theme_dialog_reload_icon").addClass("always-spin"),c.loading=!0):($(".ai-theme-dialog .theme-list").css({opacity:1,"pointer-events":"auto"}),$("#ai_theme_dialog_reload_icon").removeClass("always-spin"),c.loading=!1)},loadThemeList:function(){var e=C(k().mark(function e(t,n){var i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.getHueByColor(t),c.styles=this.colorMapToStyles(i),c.styles.unshift(c.defaultStyle),e.next=5,this.getThemeSvg(c.styles,n);case 5:c.themeList=e.sent,c.index=1,editorGlobal.mindMap.skeletonStyle.viewTheme(null,c.themeList[1].theme),o=c.themeList.map(function(e,t){var n="",i="",o=e.theme.background||"#FFFFFF";return 0===t?(i='<div class="current">'.concat(l.default.t("Beautify_before"),"</div>"),"#000000"===o&&(n="dark")):1===t&&(n="active"),'<li class="'.concat(n,'" >').concat(i).concat(e.svg,"</li>")}).join(""),this.loading(!1),$(".ai-theme-dialog .theme-list").empty(),$(".ai-theme-dialog .theme-list").append(o);case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),getHueByColor:function(e){var t=/#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})\b/g,n=/rgba?\(\d+,\d+,\d+(?:,(0|0?\.\d+|1))?\)/g,i=/hsla?\(\d+,\d+%,\d+%(?:,(0|0?\.\d+|1))?\)/g,o=0;if((e=e.replace(/[\s\n'"]/g,"")).match(t)){var a=e.match(t)[0];o=this.colorToHsl(a,"hex").h}else if(e.match(n)){var r=e.match(n)[0];o=this.colorToHsl(r,"rgb").h}else if(e.match(i)){var s=e.match(i)[0];o=Number(/hsla?\((\d+),/.exec(s)[1])}return o>360&&(o=360),o<0&&(o=0),o},colorToHsl:function(e){var t,n,i;if("rbg"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")){var o=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*\d+(\.\d+)?)?\)/);t=parseInt(o[1]),n=parseInt(o[2]),i=parseInt(o[3])}else t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);var a=t/255,r=n/255,s=i/255,l=Math.max(a,r,s),c=Math.min(a,r,s),d=(l+c)/2;if(l===c)return{h:0,s:0,l:100*d};var u,p=l-c,h=d>.5?p/(2-l-c):p/(l+c);switch(l){case a:u=(r-s)/p+(r<s?6:0);break;case r:u=(s-a)/p+2;break;case s:u=(a-r)/p+4}return{h:360*(u/=6),s:100*h,l:100*d}},colorMapToStyles:function(e){var t;e=Number(e);for(var n=Object.keys(o.poColorChart),i=0;i<n.length;i++){var a=Number(n[i]);if(e>=a&&e<=a+30){t=a;break}}for(var r,s=o.poColorChart[t],l=s.l,c=s.d,d=l[Math.floor(Math.random()*l.length)],u=c[Math.floor(Math.random()*c.length)];!r||r==t;)r=n[Math.floor(Math.random()*n.length)];for(var p=Object.keys(o.poColorChart[r])[Math.floor(2*Math.random())],h=[d,u,o.poColorChart[r][p][Math.floor(Math.random()*o.poColorChart[r][p].length)]],m=[],f=0;f<h.length;f++){var g=h[f],v=g.background,b=g.background200,y=g.background200Dull,x=g.primary,w=g.primary300,k=g.primaryDull,_=g.text,C=g.id;m.push({id:C,bgColor:v,centerBorderColor:k,centerBgColor:x,centerColor:w,linkerColor:y,secBorderColor:y,secBgColor:b,secColor:_,childBorderColor:y,childBgColor:b,childColor:_})}return m},getThemeSvg:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.width,o=void 0===i?132:i,a=n.height,s=void 0===a?74:a,l=Array.isArray(e)?e:[e];return Promise.all(l.map(function(e){return new Promise(function(n){var i=$('<div style="width:'.concat(o,"px;height:").concat(s,'px;"></div>')).appendTo("body"),a=t.getDef(),l=a.theme=t.getNewTheme(e),c=new r.MindMap({el:i[0],readonly:!0,fillTheCanvasData:{paddingX:8,paddingY:10,scale:!1},partialLoad:!1,neverShowExpandBtn:!0,onlyThumbnail:!0});c.svg.node.style.pointerEvents="none",c.setFullData(a),c.on("loadsuccess",function(){var e={svg:i.html(),theme:l};i.remove(),c=null,n(e)})})}))},getDef:function(e){e=e||(0,a.deepClone)(editorGlobal.mindMap.mindData.structure);var t=u.currDef;return"mind_free"===e?t=u.mindFreeCurrDef:"fishbone"===this.layout?t=u.mindFishCurrDef:"tree"===this.layout?t=u.mindTreeCurrDef:"tree_org"===this.layout?t=u.mindTreeOrgCurrDef:"org"===this.layout&&(t=u.mindOrgCurrDef),t.structure=e,t},getNewTheme:function(e){var t=(0,a.deepClone)(c.defaultStyle);e.bgColor&&(t.background=e.bgColor);var n=t.centerTopic;e.centerBgColor&&(n.background=e.centerBgColor),e.centerBorderColor&&(n["border-color"]=e.centerBorderColor),e.centerColor&&(n.color=e.centerColor);var i=t.secTopic;e.secBgColor&&(i.background=e.secBgColor),e.secBorderColor&&(i["border-color"]=e.secBorderColor),e.secColor&&(i.color=e.secColor);var o=t.childTopic;return e.childBgColor&&(o.background=e.childBgColor),e.childBorderColor&&(o["border-color"]=e.childBorderColor),e.childColor&&(o.color=e.childColor),t}},{init:function(){var e=$(".ai-theme-dialog");e.length||(e=$('<div class="ai-theme-dialog ai-centre-dialog">\n                <div class="ai-header">\n                    <div class="left">\n                        <div class="loading-title"><span class="po-diagraming-icons po-menu-icon">&#xe8c1;</span><span class="title">'.concat(l.default.t("Style_Beautification"),'</span></div>\n                    </div>\n                    <div class="right">\n\t\t\t\t\t<button class="ai-btn " data-type="cancel"><span class="po-diagraming-icons" >&#xe80c;</span>').concat(l.default.t("Discard"),'</button>\n\t\t\t\t\t\t<button class="ai-btn " data-type="reload"><span class="po-diagraming-icons" id="ai_theme_dialog_reload_icon" >&#xe733;</span>').concat(l.default.t("Change_Batch"),'</button>\n\t\t\t\t\t\t<button class="ai-btn primary" data-type="save"><span class="po-diagraming-icons" >&#xe974;</span>').concat(l.default.t("Use"),'</button>\n                    </div>\n                </div>\n\t\t\t\t<div class="ai-content">\n\t\t\t\t\t<ul class="theme-list">\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n            </div>')).appendTo("body"))}}),u={currDef:{children:[{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"}],data:{"right-content-index":2},root:!0,title:"Central"},mindFreeCurrDef:{children:[{children:[],title:"Main Topic"},{children:[],title:"Main Topic"},{children:[],title:"Main Topic"},{children:[],title:"Main Topic"},{children:[],title:"Main Topic"},{children:[],title:"Main Topic"}],data:{"right-content-index":3},root:!0,title:"Central"},mindFishCurrDef:{children:[{children:[{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[],title:"Main Topic"},{children:[],title:"Main Topic"}],data:{"right-content-index":3},root:!0,title:"Central"},mindTreeCurrDef:{children:[{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[],title:"Main Topic"}],data:{"right-content-index":3},root:!0,title:"Central"},mindTreeOrgCurrDef:{children:[{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"}],data:{"right-content-index":2},root:!0,title:"Central"},mindOrgCurrDef:{children:[{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"}],data:{"right-content-index":2},root:!0,title:"Central"}}},9464:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.poColorChart=void 0,t.poColorChart={0:{l:[{id:118,prompt:"Crimson with light gray background",background:"#E9E9E9",background200:"#dfdfdf",background200Dull:"#cbcbcb",background300:"#b7b7b7",background300Dull:"#a3a3a3",primary:"#8B0000",primaryDull:"#620000",primary200:"#c2402a",primary300:"#feded3",text:"#000000",text200:"#565656",accent:"#FF6347",accent200:"#8d0000"},{id:126,prompt:"Rustic Mountain Cabin",background:"#E5E5E5",background200:"#dbdbdb",background200Dull:"#c7c7c7",background300:"#b3b3b3",background300Dull:"#9f9f9f",primary:"#8B5D33",primaryDull:"#6d4928",primary200:"#be8a5e",primary300:"#ffedbc",text:"#333333",text200:"#5c5c5c",accent:"#BFBFBF",accent200:"#616161"},{id:124,prompt:"#ee6c4d and #e0fbfc",background:"#f4fdfd",background200:"#eaf3f3",background200Dull:"#d0e4e4",background300:"#c1caca",background300Dull:"#abb7b7",primary:"#EE6C4D",primaryDull:"#ea4d28",primary200:"#cc4f34",primary300:"#7f0000",text:"#333333",text200:"#5c5c5c",accent:"#F7D1B3",accent200:"#927156"},{id:66,prompt:"a vintage jewelry shop",background:"#F5EFE8",background200:"#EEE3D7",background200Dull:"#e2cfba",background300:"#FFFFFF",background300Dull:"#ebebeb",primary:"#BFAE9F",primaryDull:"#af9987",primary200:"#937962",primary300:"#FFFFFF",text:"#4D4D4D",text200:"#9e9e9e",accent:"#C9BEB9",accent200:"#978178"},{id:100,prompt:"blush and slate",background:"#F5ECEC",background200:"#ebe2e2",background200Dull:"#dacaca",background300:"#c2baba",background300Dull:"#afa4a4",primary:"#BFBFBF",primaryDull:"#ababab",primary200:"#a2a2a2",primary300:"#181818",text:"#333333",text200:"#5c5c5c",accent:"#F2BAC9",accent200:"#8e5c6a"},{id:150,prompt:"Halloween warm whimsical ",background:"#F7EEDD",background200:"#ede4d3",background200Dull:"#e1d2b6",background300:"#c4bcab",background300Dull:"#b3a993",primary:"#FF7F50",primaryDull:"#ff6127",primary200:"#dd6236",primary300:"#ffffff",text:"#000000",text200:"#2c2c2c",accent:"#8B4513",accent200:"#ffd299"},{id:110,prompt:"tomatoes and cucumbers",background:"#F7F7F7",background200:"#ededed",background200Dull:"#d9d9d9",background300:"#c4c4c4",background300Dull:"#b0b0b0",primary:"#FF6347",primaryDull:"#ff401e",primary200:"#dc442e",primary300:"#ffffff",text:"#333333",text200:"#5c5c5c",accent:"#7FFF00",accent200:"#009900"},{id:99,prompt:"chocolate and mint",background:"#F5ECD7",background200:"#ebe2cd",background200Dull:"#dfd1b0",background300:"#c2baa6",background300Dull:"#b1a78e",primary:"#8B5F3D",primaryDull:"#6f4c31",primary200:"#bd8c68",primary300:"#ffefc7",text:"#2E2E2E",text200:"#575757",accent:"#A8DADC",accent200:"#4a797b"},{id:149,prompt:"#c21d03 + GREY + DARK GREY + LITE GREY ",background:"#fbfbfb",background200:"#f1f1f1",background200Dull:"#dddddd",background300:"#c8c8c8",background300Dull:"#b4b4b4",primary:"#c21d03",primaryDull:"#9a1702",primary200:"#fd5732",primary300:"#ffb787",text:"#232121",text200:"#4b4848",accent:"#393939",accent200:"#bebebe"},{id:138,prompt:"Orange Flat Shadow",background:"#ffffff",background200:"#f5f5f5",background200Dull:"#e1e1e1",background300:"#cccccc",background300Dull:"#b8b8b8",primary:"#FF6600",primaryDull:"#d65600",primary200:"#ff983f",primary300:"#ffffd8",text:"#1d1f21",text200:"#444648",accent:"#F5F5F5",accent200:"#929292"},{id:125,prompt:"Ocean Sunset",background:"#F9AFAF",background200:"#eea5a5",background200Dull:"#e88383",background300:"#c57f80",background300Dull:"#b86364",primary:"#FFDAB9",primaryDull:"#ffc490",primary200:"#dfb28a",primary300:"#8c633c",text:"#000000",text200:"#615353",accent:"#ffbda3",accent200:"#975f48"},{id:135,prompt:"",background:"#F5ECD7",background200:"#ebe2cd",background200Dull:"#dfd1b0",background300:"#c2baa6",background300Dull:"#b1a78e",primary:"#eb9c64",primaryDull:"#e68540",primary200:"#ff8789",primary300:"#fffaf6",text:"#353535",text200:"#000000",accent:"#8fbf9f",accent200:"#346145"},{id:30,prompt:null,background:"#EEEBDD",background200:"#DFD3C3",background200Dull:"#d1bfa8",background300:"#C7B198",background300Dull:"#b99d7e",primary:"#810000",primaryDull:"#580000",primary200:"#630000",primary300:"#fae7e7",text:"#1E2022",text200:"#52616B",accent:"#788189",accent200:"#e1e4e6"},{id:142,prompt:"Blueberry Blue Fruit with contrast",background:"#fffff3",background200:"#f5f5e9",background200Dull:"#e8e8cd",background300:"#ccccc0",background300Dull:"#babaa9",primary:"#f7cac9",primaryDull:"#f2a7a5",primary200:"#5c5c5c",primary300:"#511311",text:"#333333",text200:"#5c5c5c",accent:"#5c5c5c",accent200:"#ebebeb"},{id:72,prompt:"vermilion and gold ",background:"#efd8bb",background200:"#EFCDA4",background200Dull:"#e9ba81",background300:"#fff3e3",background300Dull:"#ffe2ba",primary:"#C74331",primaryDull:"#a63829",primary200:"#8B2F22",primary300:"#F7E3E0",text:"#2E2E2E",text200:"#616161",accent:"#F2C335",accent200:"#C2950C"},{id:111,prompt:"almonds",background:"#F5F5DC",background200:"#ebebd2",background200Dull:"#dedeb6",background300:"#c2c2aa",background300Dull:"#b1b192",primary:"#8B5A2B",primaryDull:"#6c4621",primary200:"#be8756",primary300:"#ffe9b3",text:"#000000",text200:"#5f5f5f",accent:"#FFEBCD",accent200:"#9a896e"},{id:68,prompt:"autumn",background:"#f7e1b8",background200:"#ffecc9",background200Dull:"#f0cb82",background300:"#eeddaf",background300Dull:"#e7cf8d",primary:"#8B4513",primaryDull:"#67330e",primary200:"#61300D",primary300:"#E68946",text:"#000000",text200:"#817a73",accent:"#ff672a",accent200:"#ff7a45"},{id:101,prompt:"deserted island",background:"#F5ECD7",background200:"#ebe2cd",background200Dull:"#dfd1b0",background300:"#c2baa6",background300Dull:"#b1a78e",primary:"#8B6B61",primaryDull:"#735950",primary200:"#bc998e",primary300:"#fffdf1",text:"#4D4D4D",text200:"#797979",accent:"#F2A900",accent200:"#854e00"},{id:52,prompt:null,background:"#FFEADB",background200:"#DFD3C3",background200Dull:"#d1bfa8",background300:"#C7B198",background300Dull:"#b99d7e",primary:"#FF9A76",primaryDull:"#ff7c4d",primary200:"#E4EFE7",primary300:"#E4EFE7",text:"#1E2022",text200:"#52616B",accent:"#679B9B",accent200:"#e1e4e6"},{id:102,prompt:"dull peach",background:"#F5D7B5",background200:"#ebcdab",background200Dull:"#e3b98a",background300:"#c2a685",background300Dull:"#b4926a",primary:"#E89E6D",primaryDull:"#e2874a",primary200:"#c88252",primary300:"#632e07",text:"#4D4D4D",text200:"#797979",accent:"#C96A41",accent200:"#ffffcd"},{id:74,prompt:"tangerine and beige",background:"#F5E6CC",background200:"#ebdcc2",background200Dull:"#e1caa3",background300:"#c2b49b",background300Dull:"#b3a182",primary:"#FFA07A",primaryDull:"#ff8351",primary200:"#de835f",primary300:"#ffffff",text:"#333333",text200:"#5c5c5c",accent:"#FFC0CB",accent200:"#99616c"},{id:96,prompt:"Turquoise and Rust",background:"#B2DFDB",background200:"#a8d5d1",background200Dull:"#8cc8c2",background300:"#82ada9",background300Dull:"#699d98",primary:"#795548",primaryDull:"#5f4339",primary200:"#a98274",primary300:"#ffe3d3",text:"#161616",text200:"#656565",accent:"#FFC107",accent200:"#916400"},{id:"customise_0",background:"#fef5fe",background200:"#F4EBF4",background200Dull:"#e6d1e6",background300:"#CBC2CB",background300Dull:"#b8acb8",primary:"#d05d5d",primaryDull:"#c73d3d",primary200:"#FF8D8A",primary300:"#FFF3EC",text:"#5a4d5a",text200:"#877987",accent:"#e09843",accent200:"#763F00"},{id:"customise_1",background:"#fdf7fc",background200:"#F3EDF2",background200Dull:"#e3d5e0",background300:"#CAC4C9",background300Dull:"#b7afb5",primary:"#da2d16",primaryDull:"#b52512",primary200:"#FF6542",primary300:"#FFCD9F",text:"#7e667a",text200:"#AD94A9",accent:"#c2273b",accent200:"#FFC4C3"}],d:[{id:104,prompt:"hacker news",background:"#1D1F21",background200:"#2c2e30",background200Dull:"#404245",background300:"#444648",background300Dull:"#585a5d",primary:"#FF6600",primaryDull:"#ff7e29",primary200:"#ff983f",primary300:"#ffffa1",text:"#FFFFFF",text200:"#e0e0e0",accent:"#F5F5F5",accent200:"#929292"},{id:122,prompt:"4a4e69",background:"#44496b",background200:"#555a7d",background200Dull:"#666b95",background300:"#707499",background300Dull:"#888baa",primary:"#C9ADA7",primaryDull:"#d9c5c0",primary200:"#ab908b",primary300:"#69514c",text:"#FFFFFF",text200:"#c4c3c3",accent:"#F2CCB8",accent200:"#8e6d5b"},{id:120,prompt:"cyberpunk",background:"#0F0F0F",background200:"#1f1f1f",background200Dull:"#333333",background300:"#353535",background300Dull:"#494949",primary:"#FF6B6B",primaryDull:"#ff9494",primary200:"#dd4d51",primary300:"#ffffff",text:"#FFFFFF",text200:"#e0e0e0",accent:"#00FFFF",accent200:"#00999b"},{id:81,prompt:"moon and mars",background:"#1C1C1C",background200:"#2b2b2b",background200Dull:"#3f3f3f",background300:"#434343",background300Dull:"#575757",primary:"#FF5733",primaryDull:"#ff795c",primary200:"#ff8a5f",primary300:"#fff3bf",text:"#FFFFFF",text200:"#c0c0c0",accent:"#FFC300",accent200:"#916600"},{id:106,prompt:"black and white",background:"#000000",background200:"#292929",background200Dull:"#2a2a2a",background300:"#2c2c2c",background300Dull:"#404040",primary:"#FFFFFF",primaryDull:"#ffffff",primary200:"#e0e0e0",primary300:"#3D3535",text:"#FFFFFF",text200:"#777777",accent:"#7F7F7F",accent200:"#ffffff"},{id:87,prompt:"facebook",background:"#3B5998",background200:"#4f6aab",background200Dull:"#6981ba",background300:"#6d85c9",background300Dull:"#8b9ed4",primary:"#FFFFFF",primaryDull:"#ffffff",primary200:"#e0e0e0",primary300:"#40454f",text:"#FFFFFF",text200:"#e0e0e0",accent:"#FF7F00",accent200:"#d2d2d2"},{id:44,prompt:null,background:"#293241",background200:"#3d5a80",background200Dull:"#4a6d9c",background300:"#495f80",background300Dull:"#58729a",primary:"#B0C5D1",primaryDull:"#f28b72",primary200:"#EEEEEE",primary300:"#0f181e",text:"#EEEEEE",text200:"#b4b4b4",accent:"#98c1d9",accent200:"#e0fbfc"},{id:114,prompt:"slate grays, maroon and pale pink",background:"#4A4E4D",background200:"#5b5f5e",background200Dull:"#6f7473",background300:"#767a79",background300Dull:"#8a8e8d",primary:"#B33A3A",primaryDull:"#c65050",primary200:"#ea6a64",primary300:"#ffcec3",text:"#dedede",text200:"#aeaeae",accent:"#F2BAC9",accent200:"#8e5c6a"},{id:103,prompt:"dark dull peach",background:"#3C2F2F",background200:"#4d3f3f",background200Dull:"#635151",background300:"#675858",background300Dull:"#7d6b6b",primary:"#E6B8A2",primaryDull:"#efd1c2",primary200:"#c79b86",primary300:"#825b48",text:"#FFFFFF",text200:"#e0e0e0",accent:"#C96A4E",accent200:"#ffffdc"},{id:50,prompt:null,background:"#2B2E4A",background200:"#53354A",background200Dull:"#6c4560",background300:"#31355b",background300Dull:"#3f4476",primary:"#E84545",primaryDull:"#ec6969",primary200:"#903749",primary300:"#fdf6fd",text:"#EEEEEE",text200:"#FDEBED",accent:"#03C988",accent200:"#a1f9d0"},{id:51,prompt:null,background:"#393232",background200:"#8D6262",background200Dull:"#a17777",background300:"#4D4545",background300Dull:"#635858",primary:"#ED8D8D",primaryDull:"#f3b0b0",primary200:"#CFB997",primary300:"#fdf6fd",text:"#EEEEEE",text200:"#FDEBED",accent:"#6f8aa1",accent200:"#9eb2c2"},{id:129,prompt:"space",background:"#0F1626",background200:"#1e2436",background200Dull:"#2d3550",background300:"#363c4e",background300Dull:"#474f66",primary:"#FFFFFF",primaryDull:"#ffffff",primary200:"#e0e0e0",primary300:"#3f3f3f",text:"#FFFFFF",text200:"#e0e0e0",accent:"#FFD700",accent200:"#917800"},{id:91,prompt:"aubergine and burnt orange",background:"#5B2C6F",background200:"#6d3d81",background200Dull:"#844a9d",background300:"#8a579e",background300Dull:"#9d6eaf",primary:"#FF6F61",primaryDull:"#ff948a",primary200:"#df4e43",primary300:"#530009",text:"#FFFFFF",text200:"#bcbcbc",accent:"#FFB347",accent200:"#925700"},{id:46,prompt:null,background:"#401D19",background200:"#62403c",background200Dull:"#7b514b",background300:"#8c514a",background300Dull:"#a76058",primary:"#ee6c4d",primaryDull:"#f28b72",primary200:"#EEEEEE",primary300:"#fdf6fd",text:"#db6a3d",text200:"#ffe7e0",accent:"#98c1d9",accent200:"#e0fbfc"},{id:95,prompt:"moody intense red",background:"#4C0000",background200:"#5f1415",background200Dull:"#811b1c",background300:"#7d2f2b",background300Dull:"#9b3a35",primary:"#FF5733",primaryDull:"#ff795c",primary200:"#ff8a5f",primary300:"#fff3bf",text:"#FFFFFF",text200:"#a4a4a4",accent:"#FFC300",accent200:"#916600"},{id:"customise_2",background:"#0e1456",background200:"#252368",background200Dull:"#302d87",background300:"#423A83",background300Dull:"#50479f",primary:"#a65d15",primaryDull:"#ca711a",primary200:"#DC8B43",primary300:"#FFEEA1",text:"#b3b5cb",text200:"#9698AD",accent:"#f2b814",accent200:"#855C00"}]},30:{l:[{id:115,prompt:"gold and silver",background:"#F7F7F7",background200:"#ededed",background200Dull:"#d9d9d9",background300:"#c4c4c4",background300Dull:"#b0b0b0",primary:"#FFD700",primaryDull:"#d6b500",primary200:"#ddb900",primary300:"#4a3e07",text:"#333333",text200:"#5c5c5c",accent:"#C0C0C0",accent200:"#626262"},{id:77,prompt:"dull grays and orange",background:"#EFEFEF",background200:"#e5e5e5",background200Dull:"#d1d1d1",background300:"#bdbdbd",background300Dull:"#a9a9a9",primary:"#FFA500",primaryDull:"#d68b00",primary200:"#dd8900",primary300:"#ffffff",text:"#333333",text200:"#5c5c5c",accent:"#808080",accent200:"#2b2b2b"},{id:108,prompt:"caramel sage green",background:"#F5EFE7",background200:"#ebe5dd",background200Dull:"#dcd1c3",background300:"#c2bdb5",background300Dull:"#b0a99f",primary:"#C7B299",primaryDull:"#b99e7f",primary200:"#a9957d",primary300:"#362c1f",text:"#4D4D4D",text200:"#797979",accent:"#A68B5B",accent200:"#483507"},{id:89,prompt:"a sunny day",background:"#F9D9B7",background200:"#efcfad",background200Dull:"#e8bb8b",background300:"#c5a887",background300Dull:"#b8946b",primary:"#FFC300",primaryDull:"#d6a400",primary200:"#dda600",primary300:"#483405",text:"#333333",text200:"#6d6d6d",accent:"#FF5733",accent200:"#fff3bf"},{id:"customise_4",background:"#fdfbfd",background200:"#F3F1F3",background200Dull:"#e0dbe0",background300:"#CAC8CA",background300Dull:"#b6b3b6",primary:"#ca6d01",primaryDull:"#a15701",primary200:"#FF9C3D",primary300:"#FFFF9E",text:"#493b49",text200:"#756575",accent:"#ad2335",accent200:"#FFBDBC"},{id:"customise_5",background:"#f3ecf9",background200:"#E9E2EF",background200Dull:"#d5c8e0",background300:"#C0BAC6",background300Dull:"#aca4b4",primary:"#c96e00",primaryDull:"#a05800",primary200:"#FF9D3D",primary300:"#FFFF9D",text:"#705f71",text200:"#9E8C9F",accent:"#a22600",accent200:"#FFBA88"},{id:"customise_7",background:"#f6fbf3",background200:"#ECF1E9",background200Dull:"#d6e1d0",background300:"#C3C8C0",background300Dull:"#aeb5aa",primary:"#c47307",primaryDull:"#9d5c06",primary200:"#FCA240",primary300:"#FFFFA1",text:"#383b36",text200:"#626560",accent:"#74460b",accent200:"#FFD192"},{id:"customise_10",background:"#fcf6fb",background200:"#F2ECF1",background200Dull:"#e1d4df",background300:"#C9C3C8",background300Dull:"#b6aeb4",primary:"#ab7900",primaryDull:"#825c00",primary200:"#E1A83D",primary300:"#FFFF9E",text:"#725a6e",text200:"#A1879C",accent:"#84f5e2",accent200:"#009181"},{id:"customise_13",background:"#e9eeea",background200:"#DFE4E0",background200Dull:"#c9d1cb",background300:"#B7BCB8",background300Dull:"#a2a8a3",primary:"#a17602",primaryDull:"#795801",primary200:"#D6A43D",primary300:"#FFFF9D",text:"#566062",text200:"#838D8F",accent:"#1ddc1d",accent200:"#007700"},{id:"customise_14",background:"#f9f7ea",background200:"#EFEDE0",background200Dull:"#e1ddc5",background300:"#C6C4B8",background300Dull:"#b4b1a1",primary:"#9d7e00",primaryDull:"#745d00",primary200:"#D2AD3D",primary300:"#FFFF9F",text:"#605e53",text200:"#8D8B7F",accent:"#74e4df",accent200:"#00817E"},{id:"customise_16",background:"#fffdf1",background200:"#F5F3E7",background200Dull:"#e9e5ca",background300:"#CCCABE",background300Dull:"#bab7a7",primary:"#9b8100",primaryDull:"#725f00",primary200:"#CFB03E",primary300:"#FFFF9F",text:"#5c5946",text200:"#898671",accent:"#d2aaff",accent200:"#704E9A"},{id:"customise_17",background:"#fffdee",background200:"#F5F3E4",background200Dull:"#eae6c6",background300:"#CCCABC",background300Dull:"#bab8a5",primary:"#8c7f0d",primaryDull:"#675d0a",primary200:"#BFAE43",primary300:"#FFFFA3",text:"#5d5d4f",text200:"#8A8A7B",accent:"#e81a34",accent200:"#FFC9BC"},{id:"customise_19",background:"#f7f6ef",background200:"#EDECE5",background200Dull:"#dcdacd",background300:"#C4C3BD",background300Dull:"#b1afa7",primary:"#757300",primaryDull:"#4c4b00",primary200:"#A7A13A",primary300:"#FFFF99",text:"#515046",text200:"#7D7C71",accent:"#bcdae8",accent200:"#5D7A86"}],d:[{id:121,prompt:"gold dark",background:"#1E1E1E",background200:"#2d2d2d",background200Dull:"#414141",background300:"#454545",background300Dull:"#595959",primary:"#FFD700",primaryDull:"#ffdd29",primary200:"#ddb900",primary300:"#463a00",text:"#dcdcdc",text200:"#929292",accent:"#c49216",accent200:"#5e3b00"},{id:85,prompt:"starry night",background:"#0B0F2B",background200:"#1a1e3b",background200Dull:"#262c57",background300:"#333554",background300Dull:"#42456d",primary:"#FFC107",primaryDull:"#ffcb30",primary200:"#dda400",primary300:"#3c2900",text:"#FFFFFF",text200:"#9c9c9c",accent:"#00BCD4",accent200:"#005e74"},{id:123,prompt:"",background:"#023047",background200:"#194058",background200Dull:"#225778",background300:"#365973",background300Dull:"#436e8f",primary:"#805b00",primaryDull:"#a97800",primary200:"#b38835",primary300:"#ffe992",text:"#d3f1ff",text200:"#95cce7",accent:"#ffc941",accent200:"#926b00"},{id:6,prompt:null,background:"#576F72",background200:"#7D9D9C",background200Dull:"#94afae",background300:"#8CA9AA",background300Dull:"#a3bbbb",primary:"#E4DCCF",primaryDull:"#f3efe9",primary200:"#F0EBE3",primary300:"#3F5B62",text:"#EEEEEE",text200:"#DCDCDC",accent:"#D69955",accent200:"#F8DAA8"},{id:84,prompt:"dark brick and mustard",background:"#2B2B2B",background200:"#3b3b3b",background200Dull:"#4f4f4f",background300:"#545454",background300Dull:"#686868",primary:"#FFC857",primaryDull:"#ffd580",primary200:"#deab3a",primary300:"#553d00",text:"#FFFFFF",text200:"#e0e0e0",accent:"#D90429",accent200:"#ffbfaf"},{id:42,prompt:null,background:"#222831",background200:"#393E46",background200Dull:"#4b525c",background300:"#292524",background300Dull:"#3f3937",primary:"#FFD369",primaryDull:"#ffdf92",primary200:"#EEEEEE",primary300:"#8c3400",text:"#EEEEEE",text200:"#FDEBED",accent:"#cfdbd5",accent200:"#e8eddf"},{id:140,prompt:" #151931 #e7d1bb #a096a5    #0c0c1b  #a096a2  ",background:"#151931",background200:"#252841",background200Dull:"#34385b",background300:"#3d3f5b",background300Dull:"#4d5073",primary:"#E7D1BB",primaryDull:"#f2e5d9",primary200:"#c8b39e",primary300:"#443423",text:"#c1c0c7",text200:"#847a86",accent:"#A096A5",accent200:"#463e4b"},{id:35,prompt:null,background:"#567189",background200:"#7B8FA1",background200Dull:"#93a3b2",background300:"#3E5975",background300Dull:"#4c6d90",primary:"#f7bf7a",primaryDull:"#f9d2a0",primary200:"#CFB997",primary300:"#704109",text:"#F9F9F9",text200:"#DCDCDC",accent:"#6f8aa1",accent200:"#9eb2c2"},{id:78,prompt:"mahogany and gold",background:"#6B3E26",background200:"#7e4f36",background200Dull:"#9b6142",background300:"#9c694f",background300Dull:"#b07d64",primary:"#dca10f",primaryDull:"#f0b524",primary200:"#b98900",primary300:"#ffffff",text:"#FFFFFF",text200:"#bababa",accent:"#C85A17",accent200:"#ffeea4"},{id:"customise_3",background:"#27271f",background200:"#37362E",background200Dull:"#4d4c41",background300:"#4F4F46",background300Dull:"#656559",primary:"#c46d0f",primaryDull:"#ea8212",primary200:"#FC9C43",primary300:"#FFFFA3",text:"#c8cab3",text200:"#AAAC96",accent:"#cdd028",accent200:"#667100"},{id:"customise_6",background:"#212904",background200:"#303916",background200Dull:"#495621",background300:"#49512D",background300Dull:"#616b3c",primary:"#af6b14",primaryDull:"#d48118",primary200:"#E59945",primary300:"#FFFDA4",text:"#becec0",text200:"#A1B0A3",accent:"#a2d0a7",accent200:"#46704C"},{id:"customise_8",background:"#17121c",background200:"#25212B",background200Dull:"#393342",background300:"#3D3843",background300Dull:"#514b59",primary:"#a56d00",primaryDull:"#ce8800",primary200:"#DB9B3A",primary300:"#FFFF9A",text:"#d1c9d8",text200:"#6F6577",accent:"#f3c1b7",accent200:"#8E635A"},{id:"customise_9",background:"#23021e",background200:"#32142D",background200Dull:"#4f2047",background300:"#4B2B45",background300Dull:"#653a5d",primary:"#b47a00",primaryDull:"#dd9600",primary200:"#EAA93E",primary300:"#FFFF9F",text:"#e5d1e2",text200:"#836A7F",accent:"#a9cce0",accent200:"#4B6D7F"},{id:"customise_11",background:"#04360c",background200:"#18471C",background200Dull:"#226528",background300:"#336133",background300Dull:"#417c41",primary:"#876400",primaryDull:"#b08200",primary200:"#BB9137",primary300:"#FFF495",text:"#acc2b0",text200:"#8FA593",accent:"#a0e8af",accent200:"#408553"},{id:"customise_12",background:"#06022b",background200:"#14173B",background200Dull:"#1e2359",background300:"#2D2D54",background300Dull:"#3b3b6f",primary:"#ab7e00",primaryDull:"#d49c00",primary200:"#E1AD3E",primary300:"#FFFFA0",text:"#bbb9c8",text200:"#6C6981",accent:"#e7c9b8",accent200:"#846A5B"},{id:"customise_15",background:"#051419",background200:"#172328",background200Dull:"#263a42",background300:"#2E3A3F",background300Dull:"#3f5057",primary:"#8b7305",primaryDull:"#b29406",primary200:"#BEA13D",primary300:"#FFFF9C",text:"#c0cacd",text200:"#69787D",accent:"#59c6eb",accent200:"#006789"}]},60:{l:[{id:98,prompt:"Olive and Coral",background:"#F2EFE9",background200:"#e8e5df",background200Dull:"#d7d2c7",background300:"#bfbdb7",background300Dull:"#aca9a1",primary:"#8F9779",primaryDull:"#7a8265",primary200:"#737b5e",primary300:"#131905",text:"#4D4D4D",text200:"#797979",accent:"#FFB6B9",accent200:"#98585c"},{id:"customise_20",background:"#f6f6f0",background200:"#ECECE6",background200Dull:"#dadacf",background300:"#C3C3BE",background300Dull:"#afafa9",primary:"#2b2b1c",primaryDull:"#12120c",primary200:"#545443",primary300:"#B0AF9C",text:"#41413b",text200:"#6C6C65",accent:"#ffbdbd",accent200:"#985F60"},{id:"customise_23",background:"#fffbf8",background200:"#F5F1EE",background200Dull:"#e6dcd4",background300:"#CCC8C5",background300Dull:"#b9b3af",primary:"#808703",primaryDull:"#5a5f02",primary200:"#B2B740",primary300:"#FFFFA1",text:"#5c4f45",text200:"#897B70",accent:"#74e4df",accent200:"#00817E"},{id:"customise_24",background:"#fff8f8",background200:"#F5EEEE",background200Dull:"#e6d4d4",background300:"#CCC5C5",background300Dull:"#b9afaf",primary:"#788700",primaryDull:"#545e00",primary200:"#AAB73E",primary300:"#FFFF9F",text:"#605959",text200:"#8D8686",accent:"#1c3947",accent200:"#A3C1D2"},{id:"customise_26",background:"#fffcff",background200:"#F5F2F5",background200Dull:"#e3dbe3",background300:"#CCC9CC",background300Dull:"#b8b4b8",primary:"#718700",primaryDull:"#4f5e00",primary200:"#A3B73E",primary300:"#FFFF9F",text:"#645164",text200:"#927D92",accent:"#9cd4d2",accent200:"#3E7472"},{id:"customise_29",background:"#f8fff9",background200:"#EEF5EF",background200Dull:"#d4e6d7",background300:"#C5CCC6",background300Dull:"#afb9b1",primary:"#688700",primaryDull:"#495e00",primary200:"#99B73E",primary300:"#FFFF9F",text:"#657668",text200:"#93A596",accent:"#bdfbf9",accent200:"#5C9796"},{id:"customise_31",background:"#fffff8",background200:"#F5F5EE",background200Dull:"#e6e6d4",background300:"#CCCCC5",background300Dull:"#b9b9af",primary:"#5c8700",primaryDull:"#405e00",primary200:"#8DB73D",primary300:"#F4FF9E",text:"#525237",text200:"#7F7E61",accent:"#ffb653",accent200:"#925900"},{id:"customise_33",background:"#f6f8fb",background200:"#ECEEF1",background200Dull:"#d5d9e0",background300:"#C3C5C8",background300Dull:"#aeb0b4",primary:"#578900",primaryDull:"#3d6000",primary200:"#88B93E",primary300:"#EFFF9F",text:"#555a60",text200:"#82878D",accent:"#ffeb42",accent200:"#938A00"},{id:"customise_36",background:"#f9f9ff",background200:"#EFEFF5",background200Dull:"#d6d6e5",background300:"#C6C6CC",background300Dull:"#b0b0b9",primary:"#4f8700",primaryDull:"#375e00",primary200:"#80B73D",primary300:"#E7FF9E",text:"#4b4b68",text200:"#777796",accent:"#c095f1",accent200:"#5E3B8D"},{id:"customise_37",background:"#f9fdff",background200:"#EFF3F5",background200Dull:"#d6e0e5",background300:"#C6CACC",background300Dull:"#b0b6b9",primary:"#4a8700",primaryDull:"#345e00",primary200:"#7BB73D",primary300:"#E2FF9E",text:"#4a555a",text200:"#768187",accent:"#af4c00",accent200:"#FFDD92"},{id:"customise_39",background:"#fffcfc",background200:"#F5F2F2",background200Dull:"#e3dbdb",background300:"#CCC9C9",background300Dull:"#b8b4b4",primary:"#4d9900",primaryDull:"#387000",primary200:"#80CA41",primary300:"#E8FFA4",text:"#665757",text200:"#948484",accent:"#d7263d",accent200:"#FFC9C6"}],d:[{id:71,prompt:"dark chartreuse",background:"#3B3F36",background200:"#2c2f29",background200Dull:"#4d5246",background300:"#4D5246",background300Dull:"#626859",primary:"#8CC63F",primaryDull:"#9fcf5e",primary200:"#628D2A",primary300:"#F8FCF4",text:"#dedede",text200:"#9e9e9e",accent:"#F2C94C",accent200:"#D0A00F"},{id:64,prompt:"dull green forest",background:"#4B5320",background200:"#6c753e",background200Dull:"#626d29",background300:"#626C2A",background300Dull:"#7d8935",primary:"#8F9779",primaryDull:"#a2a990",primary200:"#656B53",primary300:"#FFFFFF",text:"#FFFFFF",text200:"#b2b2b2",accent:"#B5C99E",accent200:"#80A15A"},{id:"customise_21",background:"#190f02",background200:"#322e29",background200Dull:"#3f3426",background300:"#3E352D",background300Dull:"#56493e",primary:"#858500",primaryDull:"#aeae00",primary200:"#B8B43E",primary300:"#FFFF9F",text:"#b2ada5",text200:"#6E6860",accent:"#d42334",accent200:"#FFC7BC"},{id:"customise_22",background:"#160303",background200:"#342b2b",background200Dull:"#3c2729",background300:"#3B2E2E",background300Dull:"#524040",primary:"#818500",primaryDull:"#a9ae00",primary200:"#B3B43E",primary300:"#FFFF9F",text:"#c4b5b5",text200:"#776C6C",accent:"#f5b4b4",accent200:"#8F5758"},{id:"customise_25",background:"#111409",background200:"#31352a",background200Dull:"#353a2d",background300:"#373A31",background300Dull:"#4c5044",primary:"#738500",primaryDull:"#96ae00",primary200:"#A5B53D",primary300:"#FFFF9F",text:"#babfaa",text200:"#696C60",accent:"#f0cea0",accent200:"#8B6F45"},{id:"customise_27",background:"#0f0627",background200:"#312d56",background200Dull:"#2a2653",background300:"#352F4F",background300Dull:"#463e69",primary:"#6d8500",primaryDull:"#8eae00",primary200:"#9EB53D",primary300:"#FFFF9E",text:"#aca8b6",text200:"#686471",accent:"#8cd2cf",accent200:"#2A7270"},{id:"customise_28",background:"#013000",background200:"#124013",background200Dull:"#1b601c",background300:"#2D5A2A",background300Dull:"#3b7637",primary:"#70871a",primaryDull:"#8ca921",primary200:"#A1B74B",primary300:"#FFFFAB",text:"#a9bca8",text200:"#8C9F8C",accent:"#6bc8aa",accent200:"#00684F"},{id:"customise_30",background:"#031204",background200:"#2b382c",background200Dull:"#283929",background300:"#2D382E",background300Dull:"#3f4f41",primary:"#628500",primaryDull:"#80ae00",primary200:"#93B53D",primary300:"#FAFF9E",text:"#a6b9a7",text200:"#637564",accent:"#d5daf1",accent200:"#757A8E"},{id:"customise_32",background:"#01250a",background200:"#10351A",background200Dull:"#195429",background300:"#294E31",background300Dull:"#376942",primary:"#598109",primaryDull:"#73a70c",primary200:"#89B140",primary300:"#F0FFA0",text:"#abb8ae",text200:"#8E9B91",accent:"#d2c242",accent200:"#6B6500"},{id:"customise_34",background:"#121d18",background200:"#202C27",background200Dull:"#31443c",background300:"#38443E",background300Dull:"#4a5a52",primary:"#4e642a",primaryDull:"#648136",primary200:"#7B9255",primary300:"#DEF5B2",text:"#9cb1a8",text200:"#80948C",accent:"#e0c88d",accent200:"#7C6A34"},{id:"customise_35",background:"#130f0f",background200:"#373233",background200Dull:"#383133",background300:"#393535",background300Dull:"#4e4949",primary:"#598b0f",primaryDull:"#71b013",primary200:"#8ABB45",primary300:"#F1FFA5",text:"#c4b8b8",text200:"#837474",accent:"#ad5427",accent200:"#FFE5B0"},{id:"customise_38",background:"#0d191f",background200:"#2b363b",background200Dull:"#2b3e47",background300:"#333F46",background300Dull:"#44545e",primary:"#478500",primaryDull:"#5dae00",primary200:"#78B53C",primary300:"#DEFF9D",text:"#a0b1b9",text200:"#637177",accent:"#a7c5d4",accent200:"#4A6774"}]},90:{l:[{id:36,prompt:null,background:"#DDDDDD",background200:"#EEEEEE",background200Dull:"#cdcdcd",background300:"#d1d1d1",background300Dull:"#bdbdbd",primary:"#658864",primaryDull:"#547053",primary200:"#B7B78A",primary300:"#fdf6fd",text:"#292524",text200:"#78716c",accent:"#bc6c25",accent200:"#ecd79b"},{id:"customise_41",background:"#fff9fb",background200:"#F5EFF1",background200Dull:"#e5d6db",background300:"#CCC6C8",background300Dull:"#b9b0b3",primary:"#3d8303",primaryDull:"#2a5b02",primary200:"#6FB33D",primary300:"#D5FF9D",text:"#664c55",text200:"#947881",accent:"#74700d",accent200:"#FFFF9E"},{id:"customise_43",background:"#fffefc",background200:"#F5F4F2",background200Dull:"#e3e0db",background300:"#CCCBC9",background300Dull:"#b8b7b4",primary:"#409900",primaryDull:"#2f7000",primary200:"#75CB41",primary300:"#DDFFA3",text:"#504122",text200:"#7D6C4A",accent:"#af4a2a",accent200:"#FFDBB2"},{id:"customise_45",background:"#fefffc",background200:"#F4F5F2",background200Dull:"#e0e3db",background300:"#CBCCC9",background300Dull:"#b7b8b4",primary:"#369900",primaryDull:"#287000",primary200:"#6DCB41",primary300:"#D6FFA3",text:"#59604b",text200:"#868D77",accent:"#002f22",accent200:"#87B6A4"},{id:"customise_47",background:"#fcffff",background200:"#F2F5F5",background200Dull:"#dbe3e3",background300:"#C9CCCC",background300Dull:"#b4b8b8",primary:"#309900",primaryDull:"#237000",primary200:"#68CB40",primary300:"#D2FFA3",text:"#4a6262",text200:"#768F8F",accent:"#9c6cd4",accent200:"#FFFFFF"},{id:"customise_49",background:"#fbfcff",background200:"#F1F2F5",background200Dull:"#d9dce4",background300:"#C8C9CC",background300Dull:"#b3b4b8",primary:"#4d9535",primaryDull:"#3d772a",primary200:"#7EC663",primary300:"#E4FFC3",text:"#606574",text200:"#8D93A3",accent:"#0e173d",accent200:"#9695C7"},{id:"customise_51",background:"#fbf9ff",background200:"#F1EFF5",background200Dull:"#dbd6e5",background300:"#C8C6CC",background300Dull:"#b3b0b9",primary:"#479535",primaryDull:"#39772a",primary200:"#79C663",primary300:"#DFFFC3",text:"#625776",text200:"#9084A5",accent:"#270833",accent200:"#AE87BA"},{id:"customise_54",background:"#f8fff5",background200:"#EEF5EB",background200Dull:"#d7e7d0",background300:"#C5CCC2",background300Dull:"#b0b9ac",primary:"#17a607",primaryDull:"#127f05",primary200:"#5DD946",primary300:"#CAFFA9",text:"#444944",text200:"#6F746F",accent:"#424e50",accent200:"#CCDADD"},{id:"customise_56",background:"#fffdfa",background200:"#F5F3F0",background200Dull:"#e5dfd8",background300:"#CCCAC7",background300Dull:"#b9b6b2",primary:"#157a0e",primaryDull:"#0f550a",primary200:"#50AA40",primary300:"#B7FF9F",text:"#20331f",text200:"#485D46",accent:"#ef525e",accent200:"#FFEDED"},{id:"customise_58",background:"#fff9fe",background200:"#F5EFF4",background200Dull:"#e5d6e3",background300:"#CCC6CB",background300Dull:"#b9b0b7",primary:"#379535",primaryDull:"#2c772a",primary200:"#6BC662",primary300:"#D2FFC3",text:"#564954",text200:"#837580",accent:"#6574af",accent200:"#FBFFFF"}],d:[{id:"customise_40",background:"#135e04",background200:"#2A701A",background200Dull:"#369122",background300:"#488C35",background300Dull:"#57aa40",primary:"#4b950c",primaryDull:"#5ebb0f",primary200:"#7EC645",primary300:"#E5FFA7",text:"#c0eabd",text200:"#7AAC78",accent:"#a8e968",accent200:"#448600"},{id:"customise_42",background:"#18102d",background200:"#342c4a",background200Dull:"#382d58",background300:"#403656",background300Dull:"#53466f",primary:"#3b8900",primaryDull:"#4db200",primary200:"#6EBA3D",primary300:"#D5FF9E",text:"#b3aac8",text200:"#72698A",accent:"#9f672a",accent200:"#FFF8B4"},{id:"customise_44",background:"#180305",background200:"#342628",background200Dull:"#3e272a",background300:"#3D2D2F",background300Dull:"#543e41",primary:"#35561f",primaryDull:"#47742a",primary200:"#618349",primary300:"#C1E5A4",text:"#cbbec0",text200:"#706667",accent:"#c8886d",accent200:"#64301A"},{id:"customise_46",background:"#1e0d33",background200:"#2E1C43",background200Dull:"#422860",background300:"#47335D",background300Dull:"#5b4177",primary:"#5d7850",primaryDull:"#709060",primary200:"#8BA77C",primary300:"#EEFFDE",text:"#bcb3c6",text200:"#6E6677",accent:"#bca7c2",accent200:"#5E4C64"},{id:"customise_50",background:"#190d01",background200:"#3a312a",background200Dull:"#403125",background300:"#3E342C",background300Dull:"#56483d",primary:"#426238",primaryDull:"#537c47",primary200:"#6E9063",primary300:"#CFF3C1",text:"#d8cdc2",text200:"#968D85",accent:"#bca59c",accent200:"#5E4B43"},{id:"customise_52",background:"#121109",background200:"#33322a",background200Dull:"#37362d",background300:"#383731",background300Dull:"#4e4c44",primary:"#288116",primaryDull:"#33a41c",primary200:"#5DB146",primary300:"#C3FFA6",text:"#dbd9c7",text200:"#73715E",accent:"#cab3e6",accent200:"#6A5784"},{id:"customise_53",background:"#11190b",background200:"#2c322a",background200Dull:"#32402d",background300:"#373F32",background300Dull:"#4b5644",primary:"#23641b",primaryDull:"#2e8424",primary200:"#539246",primary300:"#B5F6A3",text:"#cad1c3",text200:"#6C7166",accent:"#8ba3af",accent200:"#324953"},{id:"customise_55",background:"#0f1b2b",background200:"#1F2A3B",background200Dull:"#2d3d56",background300:"#374154",background300Dull:"#47546d",primary:"#22761a",primaryDull:"#2c9721",primary200:"#56A648",primary300:"#BBFFA6",text:"#b0c3dd",text200:"#667890",accent:"#e4d1b9",accent200:"#82725C"},{id:"customise_57",background:"#041d13",background200:"#152C22",background200Dull:"#224837",background300:"#2C4439",background300Dull:"#3c5d4e",primary:"#0ba507",primaryDull:"#0ecc09",primary200:"#59D846",primary300:"#C7FFA9",text:"#bdd1c9",text200:"#647F74",accent:"#a4d0ce",accent200:"#47706F"}]},120:{l:[{id:128,prompt:"Summer Meadow",background:"#F5ECD7",background200:"#ebe2cd",background200Dull:"#dfd1b0",background300:"#c2baa6",background300Dull:"#b1a78e",primary:"#8FBF9F",primaryDull:"#75b089",primary200:"#68a67d",primary300:"#0c2d18",text:"#353535",text200:"#5f5f5f",accent:"#F18F01",accent200:"#833500"},{id:32,prompt:null,background:"#fafaf9",background200:"#f5f5f4",background200Dull:"#e2e2df",background300:"#E0E2E5",background300Dull:"#cacdd2",primary:"#86efac",primaryDull:"#62ea93",primary200:"#f0fdf5",primary300:"#082e25",text:"#292524",text200:"#78716c",accent:"#f5be0b",accent200:"#fef1c7"},{id:119,prompt:"kelly green primary",background:"#e6fbe3",background200:"#dcf1d9",background200Dull:"#c1e6bb",background300:"#b4c8b1",background300Dull:"#9db799",primary:"#4CAF50",primaryDull:"#409343",primary200:"#2a9235",primary300:"#0a490a",text:"#333333",text200:"#5c5c5c",accent:"#FFC107",accent200:"#916400"},{id:45,prompt:null,background:"#EEEBDD",background200:"#DFD3C3",background200Dull:"#d1bfa8",background300:"#C7B198",background300Dull:"#b99d7e",primary:"#064420",primaryDull:"#031f0e",primary200:"#E4EFE7",primary300:"#E4EFE7",text:"#1E2022",text200:"#52616B",accent:"#788189",accent200:"#e1e4e6"},{id:80,prompt:"marigold and forest green",background:"#F5DEB3",background200:"#ffebc5",background200Dull:"#e3c388",background300:"#c2ac83",background300Dull:"#b59a68",primary:"#228B22",primaryDull:"#1a6a1a",primary200:"#5bbc51",primary300:"#c2ffb0",text:"#292929",text200:"#757575",accent:"#8F9779",accent200:"#373f25"},{id:"customise_60",background:"#fff8fc",background200:"#F5EEF2",background200Dull:"#e6d4de",background300:"#CCC5C9",background300Dull:"#b9afb5",primary:"#1b8b1d",primaryDull:"#146916",primary200:"#57BC4D",primary300:"#BFFFAD",text:"#7c6672",text200:"#AB94A0",accent:"#222c31",accent200:"#A5B0B7"},{id:"customise_62",background:"#f7fcf8",background200:"#EDF2EE",background200Dull:"#d5e1d8",background300:"#C4C9C5",background300Dull:"#afb6b0",primary:"#2c5e2f",primaryDull:"#1f4221",primary200:"#598C59",primary300:"#B8EFB6",text:"#1b1f0b",text200:"#424632",accent:"#a2cb10",accent200:"#3D6C00"},{id:"customise_64",background:"#f3f5ff",background200:"#E9EBF5",background200Dull:"#cdd1e8",background300:"#C0C2CC",background300Dull:"#a9acba",primary:"#009d18",primaryDull:"#007412",primary200:"#54CF4C",primary300:"#C1FFAE",text:"#363a4f",text200:"#949BCA",accent:"#ac65ff",accent200:"#FFFCFF"},{id:"customise_67",background:"#f8fff7",background200:"#EEF5ED",background200Dull:"#d5e6d3",background300:"#C5CCC4",background300Dull:"#afb9ae",primary:"#337e4b",primaryDull:"#27613a",primary200:"#63AE77",primary300:"#C6FFD8",text:"#4f644b",text200:"#7B9277",accent:"#ff7ea8",accent200:"#94164D"},{id:"customise_69",background:"#fdf9fc",background200:"#F3EFF2",background200Dull:"#e2d8df",background300:"#CAC6C9",background300Dull:"#b6b1b5",primary:"#149746",primaryDull:"#0f7335",primary200:"#56C973",primary300:"#BFFFD4",text:"#665963",text200:"#948690",accent:"#5b7bff",accent200:"#FFFFFF"}],d:[{id:144,prompt:"Dark Sage Green",background:"#1E1E1E",background200:"#2d2d2d",background200Dull:"#414141",background300:"#454545",background300Dull:"#595959",primary:"#2E8B57",primaryDull:"#38aa6a",primary200:"#61bc84",primary300:"#c6ffe6",text:"#FFFFFF",text200:"#e0e0e0",accent:"#8FBC8F",accent200:"#345e37"},{id:60,prompt:"deep green",background:"#0B4F30",background200:"#063d25",background200Dull:"#0f6f44",background300:"#0E673E",background300Dull:"#138b54",primary:"#1DB954",primaryDull:"#23dc64",primary200:"#14823B",primary300:"#A6F1C0",text:"#FFFFFF",text200:"#d4d5c8",accent:"#FFD700",accent200:"#B39600"},{id:"customise_59",background:"#160c12",background200:"#241C21",background200Dull:"#3b2e36",background300:"#3C3338",background300Dull:"#52464d",primary:"#189b1a",primaryDull:"#1dbe20",primary200:"#5ACD4D",primary300:"#C5FFAF",text:"#bda6b4",text200:"#796872",accent:"#afaa9b",accent200:"#534F42"},{id:"customise_61",background:"#191c2d",background200:"#282B3D",background200Dull:"#383c56",background300:"#404356",background300Dull:"#51556d",primary:"#02a30d",primaryDull:"#02cb10",primary200:"#57D647",primary300:"#C4FFAA",text:"#b7bde2",text200:"#6B7292",accent:"#976bca",accent200:"#FFFFFF"},{id:"customise_63",background:"#2f2622",background200:"#3F3531",background200Dull:"#564843",background300:"#584E49",background300Dull:"#6e625b",primary:"#00970f",primaryDull:"#00c013",primary200:"#52C946",primary300:"#BEFFA8",text:"#d0ac9c",text200:"#927467",accent:"#ffd49b",accent200:"#987440"},{id:"customise_65",background:"#110733",background200:"#201843",background200Dull:"#2e2361",background300:"#3A2F5D",background300Dull:"#4b3d78",primary:"#428d52",primaryDull:"#4fa962",primary200:"#72BE7F",primary300:"#D6FFE1",text:"#c7c0de",text200:"#6F6A85",accent:"#d9d9f3",accent200:"#787990"},{id:"customise_66",background:"#041600",background200:"#172416",background200Dull:"#273d25",background300:"#2D3B2C",background300Dull:"#3f523d",primary:"#26723b",primaryDull:"#30914b",primary200:"#57A166",primary300:"#B9FFC5",text:"#cfddcb",text200:"#5E8156",accent:"#dcd941",accent200:"#747900"},{id:"customise_68",background:"#10030c",background200:"#1F171C",background200Dull:"#362831",background300:"#362E33",background300Dull:"#4c4148",primary:"#1d7e3d",primaryDull:"#259f4d",primary200:"#54AE69",primary300:"#B8FFC8",text:"#c2b5bf",text200:"#776D74",accent:"#c7e7ff",accent200:"#66859B"},{id:"customise_70",background:"#0a181f",background200:"#1A272E",background200Dull:"#293d48",background300:"#313E46",background300Dull:"#42535e",primary:"#009d3f",primaryDull:"#00c64f",primary200:"#52CF6C",primary300:"#BEFFCE",text:"#bddceb",text200:"#607E8C",accent:"#ffe286",accent200:"#978129"},{id:"customise_71",background:"#090218",background200:"#1A1726",background200Dull:"#2b263f",background300:"#302D3E",background300Dull:"#423e56",primary:"#0c8543",primaryDull:"#0faa56",primary200:"#4EB66F",primary300:"#B5FFCF",text:"#c7c1d1",text200:"#6E6977",accent:"#ffad76",accent200:"#94511E"}]},150:{l:[{id:61,prompt:"turquoise ",background:"#E0F2F1",background200:"#D0EBEA",background200Dull:"#b3dfdd",background300:"#FFFFFF",background300Dull:"#ebebeb",primary:"#26A69A",primaryDull:"#1e857b",primary200:"#408d86",primary300:"#cdfaf6",text:"#263339",text200:"#728f9e",accent:"#80CBC4",accent200:"#43A49B"},{id:79,prompt:"jade and coral",background:"#F2EFE9",background200:"#e8e5df",background200Dull:"#d7d2c7",background300:"#bfbdb7",background300Dull:"#aca9a1",primary:"#00A896",primaryDull:"#007f72",primary200:"#008b7a",primary300:"#ffffff",text:"#333333",text200:"#5c5c5c",accent:"#FF6B6B",accent200:"#8f001a"},{id:107,prompt:"vintage cyan coral",background:"#E0E7E9",background200:"#d6dddf",background200Dull:"#bfcacd",background300:"#aeb5b7",background300Dull:"#98a1a4",primary:"#5DA399",primaryDull:"#4e8981",primary200:"#40867d",primary300:"#011e1b",text:"#333333",text200:"#5c5c5c",accent:"#FF6B6B",accent200:"#8f001a"},{id:134,prompt:"",background:"#fbfbfb",background200:"#f1f1f1",background200Dull:"#dddddd",background300:"#c8c8c8",background300Dull:"#b4b4b4",primary:"#019b98",primaryDull:"#017270",primary200:"#55ccc9",primary300:"#c1ffff",text:"#014e60",text200:"#3f7a8d",accent:"#dd0025",accent200:"#ffbfab"},{id:41,prompt:null,background:"#FCEEF5",background200:"#ffffff",background200Dull:"#e8dae1",background300:"#FAD9E6",background300Dull:"#f5b5ce",primary:"#61C0BF",primaryDull:"#47b1b0",primary200:"#BBDED6",primary300:"#ffffff",text:"#292524",text200:"#78716c",accent:"#FFB6B9",accent200:"#FAE3D9"},{id:82,prompt:"periwinkle and coral",background:"#F0E8EE",background200:"#e6dee4",background200Dull:"#d4c7d1",background300:"#bdb6bc",background300Dull:"#aaa1a8",primary:"#B5D3D2",primaryDull:"#9bc4c2",primary200:"#98b5b4",primary300:"#0b3232",text:"#4C4C4C",text200:"#787878",accent:"#FFB6C1",accent200:"#985863"},{id:"customise_73",background:"#f9fdf5",background200:"#EFF3EB",background200Dull:"#dbe4d2",background300:"#C6CAC2",background300Dull:"#b2b7ac",primary:"#375d50",primaryDull:"#28433a",primary200:"#638A7C",primary300:"#C2EDDD",text:"#04281e",text200:"#2E5145",accent:"#f1f127",accent200:"#858F00"},{id:"customise_76",background:"#fdf7fc",background200:"#F3EDF2",background200Dull:"#e3d5e0",background300:"#CAC4C9",background300Dull:"#b7afb5",primary:"#00a174",primaryDull:"#007857",primary200:"#53D3A3",primary300:"#BFFFFF",text:"#766573",text200:"#A593A2",accent:"#603d3e",accent200:"#F2C7C7"},{id:"customise_79",background:"#fdf8fe",background200:"#F3EEF4",background200Dull:"#e2d5e4",background300:"#CAC5CB",background300Dull:"#b6afb8",primary:"#00a179",primaryDull:"#00785a",primary200:"#53D3A8",primary300:"#BFFFFF",text:"#544a56",text200:"#807683",accent:"#9ee6ff",accent200:"#38849B"},{id:"customise_81",background:"#eef9f2",background200:"#E4EFE8",background200Dull:"#cae0d2",background300:"#BCC6BF",background300Dull:"#a6b3aa",primary:"#147a65",primaryDull:"#0e5748",primary200:"#4FAA93",primary300:"#B4FFF6",text:"#385b66",text200:"#658894",accent:"#8bce88",accent200:"#2C6E2F"},{id:"customise_82",background:"#f7fbf6",background200:"#EDF1EC",background200Dull:"#d7e0d5",background300:"#C4C8C3",background300Dull:"#afb4ae",primary:"#00836d",primaryDull:"#005a4b",primary200:"#4BB39B",primary300:"#B3FFFF",text:"#444b43",text200:"#6F776E",accent:"#1d3f3f",accent200:"#A4C9C8"},{id:"customise_84",background:"#fdf9fb",background200:"#F3EFF1",background200Dull:"#e2d8dd",background300:"#CAC6C8",background300Dull:"#b6b1b4",primary:"#009d8a",primaryDull:"#007466",primary200:"#53CFBA",primary300:"#BFFFFF",text:"#7a6770",text200:"#A9959E",accent:"#ffd853",accent200:"#947800"},{id:"customise_88",background:"#f6faf8",background200:"#ECF0EE",background200Dull:"#d5deda",background300:"#C3C7C5",background300Dull:"#aeb3b1",primary:"#008981",primaryDull:"#00605b",primary200:"#4EB9B0",primary300:"#B8FFFF",text:"#4d6e6e",text200:"#7A9C9C",accent:"#6cc66c",accent200:"#006612"},{id:"customise_89",background:"#fcfefa",background200:"#F2F4F0",background200Dull:"#dee3d8",background300:"#C9CBC7",background300Dull:"#b5b7b2",primary:"#00938e",primaryDull:"#006a67",primary200:"#52C4BE",primary300:"#BDFFFF",text:"#182519",text200:"#3F4D3F",accent:"#b97de8",accent200:"#572285"},{id:"customise_91",background:"#f5f9f6",background200:"#EBEFEC",background200Dull:"#d4ddd6",background300:"#C2C6C3",background300Dull:"#adb2ae",primary:"#196b69",primaryDull:"#114a49",primary200:"#4F9997",primary300:"#B2FEFA",text:"#132f2b",text200:"#3C5854",accent:"#88cac8",accent200:"#276B69"}],d:[{id:37,prompt:null,background:"#13005A",background200:"#00337C",background200Dull:"#0044a5",background300:"#004cd7",background300Dull:"#015bff",primary:"#03C988",primaryDull:"#04f1a3",primary200:"#ebfef5",primary300:"#ffffff",text:"#EEEEEE",text200:"#FDEBED",accent:"#a1f9d0",accent200:"#00815b"},{id:"customise_48",background:"#143d04",background200:"#264E16",background200Dull:"#366e1f",background300:"#40682E",background300Dull:"#51843b",primary:"#119588",primaryDull:"#15baa9",primary200:"#56C6B8",primary300:"#C0FFFF",text:"#def3e2",text200:"#C0D4C4",accent:"#98f9a8",accent200:"#31944B"},{id:"customise_72",background:"#0d3903",background200:"#1F4A15",background200Dull:"#2c6a1e",background300:"#3A642D",background300Dull:"#4a803a",primary:"#0b814a",primaryDull:"#0ea760",primary200:"#4CB176",primary300:"#B2FFD7",text:"#c9e4c3",text200:"#ABC6A6",accent:"#ccffc3",accent200:"#6B9B64"},{id:"customise_74",background:"#212e02",background200:"#303E14",background200Dull:"#485d1e",background300:"#4A572C",background300Dull:"#61723a",primary:"#10815f",primaryDull:"#15a57a",primary200:"#4EB18C",primary300:"#B4FFEF",text:"#b2cac4",text200:"#95ACA7",accent:"#d0c43b",accent200:"#696600"},{id:"customise_75",background:"#072609",background200:"#16361A",background200Dull:"#225328",background300:"#2F4F31",background300Dull:"#3e6941",primary:"#016c4c",primaryDull:"#019468",primary200:"#439B78",primary300:"#A7FFD8",text:"#b6c6b7",text200:"#99A99A",accent:"#82bc91",accent200:"#265E39"},{id:"customise_77",background:"#052016",background200:"#152F25",background200Dull:"#224b3b",background300:"#2C483C",background300Dull:"#3b6151",primary:"#358570",primaryDull:"#41a289",primary200:"#66B59E",primary300:"#CAFFFF",text:"#96a9a1",text200:"#7A8C85",accent:"#c2dfea",accent200:"#637E88"},{id:"customise_78",background:"#136662",background200:"#2C7874",background200Dull:"#379691",background300:"#4A948F",background300Dull:"#5aada7",primary:"#00a078",primaryDull:"#00c997",primary200:"#53D2A7",primary300:"#BFFFFF",text:"#e0fefd",text200:"#8AB1AF",accent:"#f5f645",accent200:"#8A9300"},{id:"customise_80",background:"#0a2607",background200:"#193618",background200Dull:"#265225",background300:"#314F2F",background300Dull:"#41693e",primary:"#207060",primaryDull:"#29907b",primary200:"#539F8D",primary300:"#B6FFF0",text:"#abb8b6",text200:"#8E9B99",accent:"#89455c",accent200:"#FFD3EB"},{id:"customise_83",background:"#14010b",background200:"#22161C",background200Dull:"#3b2630",background300:"#392C32",background300Dull:"#503e46",primary:"#256e66",primaryDull:"#2f8d82",primary200:"#579D94",primary300:"#B9FFF7",text:"#d2c2cb",text200:"#7F6E77",accent:"#997c1b",accent200:"#FFFFAB"},{id:"customise_85",background:"#130410",background200:"#21181F",background200Dull:"#392935",background300:"#382E36",background300Dull:"#4e404c",primary:"#1b8379",primaryDull:"#22a598",primary200:"#55B3A8",primary300:"#BCFFFF",text:"#e0d0dd",text200:"#857582",accent:"#a3a0ca",accent200:"#47466B"},{id:"customise_87",background:"#160b1b",background200:"#241C2A",background200Dull:"#392c42",background300:"#3B3241",background300Dull:"#504458",primary:"#06635c",primaryDull:"#088980",primary200:"#449189",primary300:"#A7F5EB",text:"#ddd2e2",text200:"#807486",accent:"#b7b3b1",accent200:"#5A5755"},{id:"customise_90",background:"#031d37",background200:"#162C47",background200Dull:"#203f66",background300:"#314461",background300Dull:"#3f577c",primary:"#007c79",primaryDull:"#00a5a1",primary200:"#4BACA8",primary300:"#B2FFFF",text:"#bed7ef",text200:"#5A7289",accent:"#c25309",accent200:"#FFE69A"}]},180:{l:[{id:151,prompt:"",background:"#fffefb",background200:"#f5f4f1",background200Dull:"#e4e1d9",background300:"#cccbc8",background300Dull:"#b8b7b3",primary:"#d4eaf7",primaryDull:"#b2d9f1",primary200:"#b6ccd8",primary300:"#3b3c3d",text:"#1d1c1c",text200:"#313d44",accent:"#71c4ef",accent200:"#00668c"},{id:65,prompt:"a banking website",background:"#F5F5F5",background200:"#E9E9E9",background200Dull:"#d5d5d5",background300:"#FFFFFF",background300Dull:"#ebebeb",primary:"#0070C0",primaryDull:"#005897",primary200:"#004E86",primary300:"#ecf8ff",text:"#333333",text200:"#737373",accent:"#FFC000",accent200:"#B38600"},{id:133,prompt:"white with blue",background:"#FFFFFF",background200:"#f5f5f5",background200Dull:"#e1e1e1",background300:"#cccccc",background300Dull:"#b8b8b8",primary:"#0077C2",primaryDull:"#005e99",primary200:"#59a5f5",primary300:"#c8ffff",text:"#333333",text200:"#5c5c5c",accent:"#00BFFF",accent200:"#00619a"},{id:112,prompt:"spring",background:"#F5F5DC",background200:"#ebebd2",background200Dull:"#dedeb6",background300:"#c2c2aa",background300Dull:"#b1b192",primary:"#7FB3D5",primaryDull:"#60a1cb",primary200:"#6296b7",primary300:"#021923",text:"#333333",text200:"#5c5c5c",accent:"#F7CAC9",accent200:"#926b6a"},{id:131,prompt:"sweden",background:"#F5F5F5",background200:"#ebebeb",background200Dull:"#d7d7d7",background300:"#c2c2c2",background300Dull:"#aeaeae",primary:"#005B99",primaryDull:"#004370",primary200:"#4e88ca",primary300:"#b7e9ff",text:"#333333",text200:"#5c5c5c",accent:"#FFD700",accent200:"#e9aa2b"},{id:33,prompt:null,background:"#F0ECE3",background200:"#DFD3C3",background200Dull:"#d1bfa8",background300:"#C7B198",background300Dull:"#b99d7e",primary:"#596E79",primaryDull:"#485961",primary200:"#788e98",primary300:"#F0F5F9",text:"#1E2022",text200:"#52616B",accent:"#788189",accent200:"#e1e4e6"},{id:83,prompt:"celadon and lilac",background:"#E6F2EA",background200:"#dce8e0",background200Dull:"#c3d8ca",background300:"#b4bfb8",background300Dull:"#9eaca3",primary:"#4b6b7e",primaryDull:"#96b2c2",primary200:"#93a8b3",primary300:"#d3f0ff",text:"#4D4D4D",text200:"#797979",accent:"#D1B0C5",accent200:"#715467"},{id:88,prompt:"a rainy morning",background:"#B7C9D3",background200:"#adbfc9",background200Dull:"#94acb9",background300:"#8798a2",background300Dull:"#708490",primary:"#5E7D7E",primaryDull:"#4d6667",primary200:"#8cacad",primary300:"#efffff",text:"#000000",text200:"#6f6f6f",accent:"#A7A37E",accent200:"#4b4928"},{id:92,prompt:"fuscia and turquoise",background:"#FCE4EC",background200:"#f2dae2",background200Dull:"#e7bcca",background300:"#c9b2ba",background300Dull:"#b89aa5",primary:"#00BCD4",primaryDull:"#0098ab",primary200:"#009fb6",primary300:"#ffffff",text:"#0e0e0e",text200:"#757575",accent:"#FF4081",accent200:"#ffe4ff"},{id:"customise_86",background:"#f9fcf8",background200:"#EFF2EE",background200Dull:"#d9e0d7",background300:"#C6C9C5",background300Dull:"#b1b5b0",primary:"#275b74",primaryDull:"#1d4355",primary200:"#5888A3",primary300:"#B9EAFF",text:"#4f564d",text200:"#7B8379",accent:"#6a1b2e",accent200:"#FFA6B3"},{id:"customise_95",background:"#f7fbfb",background200:"#EDF1F1",background200Dull:"#d6dfdf",background300:"#C4C8C8",background300Dull:"#afb4b4",primary:"#018b9d",primaryDull:"#016774",primary200:"#53BBCE",primary300:"#BEFFFF",text:"#3a4b50",text200:"#65777C",accent:"#ffe64a",accent200:"#938500"},{id:"customise_97",background:"#fefef4",background200:"#F4F4EA",background200Dull:"#e6e6cf",background300:"#CBCBC1",background300Dull:"#b8b8ab",primary:"#037187",primaryDull:"#02505f",primary200:"#4CA0B7",primary300:"#B4FFFF",text:"#081e1f",text200:"#2F4546",accent:"#52fffb",accent200:"#009997"},{id:"customise_99",background:"#f4f7f6",background200:"#EAEDEC",background200Dull:"#d4dad8",background300:"#C1C4C3",background300Dull:"#acb0af",primary:"#0a4958",primaryDull:"#062b33",primary200:"#407585",primary300:"#A0D5E7",text:"#4a6166",text200:"#768E94",accent:"#ebc795",accent200:"#86693B"},{id:"customise_100",background:"#fcf8fa",background200:"#F2EEF0",background200Dull:"#e0d7dc",background300:"#C9C5C7",background300Dull:"#b5b0b3",primary:"#0797c4",primaryDull:"#06799d",primary200:"#5DC8F7",primary300:"#CCFFFF",text:"#7a6971",text200:"#A9979F",accent:"#ff96ba",accent200:"#96375D"},{id:"customise_101",background:"#fbf7fc",background200:"#F1EDF2",background200Dull:"#dfd5e1",background300:"#C8C4C9",background300Dull:"#b4afb6",primary:"#0087b6",primaryDull:"#00698d",primary200:"#57B7E8",primary300:"#C5FFFF",text:"#594e5c",text200:"#867A89",accent:"#071410",accent200:"#86918D"},{id:"customise_102",background:"#edf2fc",background200:"#E3E8F2",background200Dull:"#c7d1e5",background300:"#BBBFC9",background300Dull:"#a4aab7",primary:"#0088c0",primaryDull:"#006b97",primary200:"#59B8F3",primary300:"#C8FFFF",text:"#465076",text200:"#737CA5",accent:"#314076",accent200:"#C1C9FF"},{id:"customise_103",background:"#ebedea",background200:"#E1E3E0",background200Dull:"#ccd0cb",background300:"#B9BBB8",background300Dull:"#a4a7a3",primary:"#044060",primaryDull:"#022639",primary200:"#3F6B8E",primary300:"#A0C9F0",text:"#3d413a",text200:"#676C64",accent:"#3d2400",accent200:"#CCA681"},{id:"customise_106",background:"#f0effd",background200:"#E6E5F3",background200Dull:"#cbc9e6",background300:"#BDBDCA",background300Dull:"#a6a6b8",primary:"#1673ad",primaryDull:"#115b89",primary200:"#5AA1DF",primary300:"#C5FFFF",text:"#4d4462",text200:"#796F90",accent:"#74afde",accent200:"#00547D"},{id:"customise_107",background:"#f9fbf9",background200:"#EFF1EF",background200Dull:"#d9ded9",background300:"#C6C8C6",background300Dull:"#b1b4b1",primary:"#457ea3",primaryDull:"#396886",primary200:"#77ADD4",primary300:"#DDFFFF",text:"#5f665f",text200:"#8C948C",accent:"#dcc6e0",accent200:"#7B687F"},{id:"customise_109",background:"#fcfaff",background200:"#F2F0F5",background200Dull:"#ddd8e5",background300:"#C9C7CC",background300Dull:"#b4b2b9",primary:"#162b3a",primaryDull:"#0b151c",primary200:"#3F5464",primary300:"#9AAFC2",text:"#000f16",text200:"#2B353C",accent:"#7359d9",accent200:"#FFEAFF"},{id:"customise_112",background:"#f7faf9",background200:"#EDF0EF",background200Dull:"#d7dddb",background300:"#C4C7C6",background300Dull:"#afb3b2",primary:"#4682b4",primaryDull:"#3b6d97",primary200:"#7AB1E6",primary300:"#E1FFFF",text:"#5a6868",text200:"#879696",accent:"#ffa501",accent200:"#904A00"},{id:"customise_113",background:"#f2f8fb",background200:"#E8EEF1",background200Dull:"#cfdbe2",background300:"#BFC5C8",background300Dull:"#a9b1b5",primary:"#4a7295",primaryDull:"#3c5d7a",primary200:"#7AA0C6",primary300:"#DEFFFF",text:"#3f464d",text200:"#6A7179",accent:"#ffb1b1",accent200:"#985355"},{id:"customise_114",background:"#fdfef4",background200:"#F3F4EA",background200Dull:"#e4e6cf",background300:"#CACBC1",background300Dull:"#b7b8ab",primary:"#016fdc",primaryDull:"#015bb3",primary200:"#619DFF",primary300:"#D3FFFF",text:"#606252",text200:"#8D8F7E",accent:"#f38c1f",accent200:"#843200"}],d:[{id:127,prompt:"Electric City Nights",background:"#1E1E1E",background200:"#2d2d2d",background200Dull:"#414141",background300:"#454545",background300Dull:"#595959",primary:"#0085ff",primaryDull:"#2999ff",primary200:"#69b4ff",primary300:"#e0ffff",text:"#FFFFFF",text200:"#9e9e9e",accent:"#006fff",accent200:"#e1ffff"},{id:34,prompt:null,background:"#222831",background200:"#393E46",background200Dull:"#4b525c",background300:"#454e59",background300Dull:"#576270",primary:"#00ADB5",primaryDull:"#00d4de",primary200:"#AAE3E2",primary300:"#ffffff",text:"#EEEEEE",text200:"#C5C5C5",accent:"#AC7DD2",accent200:"#fff4ff"},{id:90,prompt:"react",background:"#282C34",background200:"#383c44",background200Dull:"#4a505a",background300:"#50555e",background300Dull:"#636974",primary:"#61DAFB",primaryDull:"#89e3fc",primary200:"#39bcdc",primary300:"#032c37",text:"#FFFFFF",text200:"#e0e0e0",accent:"#FF4081",accent200:"#ffe4ff"},{id:147,prompt:"dark blue, green and red blush",background:"#0D1F2D",background200:"#1d2e3d",background200Dull:"#2a4359",background300:"#354656",background300Dull:"#455b6f",primary:"#0D6E6E",primaryDull:"#119292",primary200:"#4a9d9c",primary300:"#afffff",text:"#FFFFFF",text200:"#e0e0e0",accent:"#FF3D3D",accent200:"#ffe0c8"},{id:63,prompt:"cerulean",background:"#007BA7",background200:"#046284",background200Dull:"#0093c8",background300:"#00A0D9",background300Dull:"#03bdff",primary:"#00A8E8",primaryDull:"#12beff",primary200:"#0076A2",primary300:"#ffffff",text:"#FFFFFF",text200:"#cbcbcb",accent:"#FFB400",accent200:"#B37E00"},{id:"customise_92",background:"#0f301b",background200:"#1F402A",background200Dull:"#2c5b3c",background300:"#385A42",background300Dull:"#487354",primary:"#226e6e",primaryDull:"#2c8d8d",primary200:"#559D9C",primary300:"#B8FFFF",text:"#cfdfde",text200:"#859291",accent:"#7dc6c6",accent200:"#156768"},{id:"customise_93",background:"#1e011f",background200:"#2C142E",background200Dull:"#47204a",background300:"#442B46",background300Dull:"#5d3b5f",primary:"#13787c",primaryDull:"#189a9f",primary200:"#50A7AB",primary300:"#B6FFFF",text:"#d7c9d7",text200:"#716571",accent:"#ffd8d8",accent200:"#9A7878"},{id:"customise_94",background:"#162500",background200:"#243514",background200Dull:"#38531f",background300:"#3C4D2B",background300Dull:"#50673a",primary:"#258489",primaryDull:"#2ea3a9",primary200:"#5DB4B9",primary300:"#C3FFFF",text:"#cbdac9",text200:"#ADBCAB",accent:"#a8d9e7",accent200:"#497885"},{id:"customise_96",background:"#130a10",background200:"#211B1F",background200Dull:"#372d34",background300:"#393236",background300Dull:"#4f454b",primary:"#247885",primaryDull:"#2d95a5",primary200:"#5AA7B5",primary300:"#C0FFFF",text:"#dbccd5",text200:"#7B7177",accent:"#fe4446",accent200:"#FFE5D2"},{id:"customise_98",background:"#0c6156",background200:"#267367",background200Dull:"#309282",background300:"#458F82",background300Dull:"#52ab9b",primary:"#4a8999",primaryDull:"#5c9fb0",primary200:"#7BB9CA",primary300:"#E0FFFF",text:"#c4dfe6",text200:"#A6C1C8",accent:"#bbf7ff",accent200:"#59939B"},{id:"customise_104",background:"#1d0d21",background200:"#2C1C30",background200Dull:"#442b4a",background300:"#443348",background300Dull:"#5b4460",primary:"#0084d2",primaryDull:"#009efb",primary200:"#5DB3FF",primary300:"#CEFFFF",text:"#c3b8c6",text200:"#A69BA9",accent:"#ffbbbb",accent200:"#985D5E"},{id:"customise_105",background:"#16010e",background200:"#23161E",background200Dull:"#3c2633",background300:"#3B2C35",background300Dull:"#523d4a",primary:"#097ec4",primaryDull:"#0b97eb",primary200:"#5CADF7",primary300:"#CAFFFF",text:"#d6c9d1",text200:"#797075",accent:"#1fade0",accent200:"#00517E"},{id:"customise_108",background:"#123675",background200:"#2B4688",background200Dull:"#3556a7",background300:"#4A5FA4",background300Dull:"#6074b7",primary:"#2b90d9",primaryDull:"#4ea2df",primary200:"#6DC0FF",primary300:"#DCFFFF",text:"#dfebff",text200:"#8B9BB4",accent:"#bed9ff",accent200:"#5E799B"},{id:"customise_110",background:"#222145",background200:"#333056",background200Dull:"#433f70",background300:"#4C4871",background300Dull:"#5d588a",primary:"#0074ca",primaryDull:"#008bf3",primary200:"#5BA2FE",primary300:"#CBFFFF",text:"#d2d1e3",text200:"#7E7D92",accent:"#5cf3d6",accent200:"#008E76"},{id:"customise_111",background:"#230655",background200:"#361767",background200Dull:"#471e88",background300:"#523082",background300Dull:"#653ba0",primary:"#517fa5",primaryDull:"#6993b6",primary200:"#82AED7",primary300:"#E7FFFF",text:"#d8cbf0",text200:"#7D6F97",accent:"#d82525",accent200:"#FFC8AB"}]},210:{l:[{id:97,prompt:"navy and blush",background:"#F2F2F2",background200:"#e8e8e8",background200Dull:"#d4d4d4",background300:"#bfbfbf",background300Dull:"#ababab",primary:"#2C3E50",primaryDull:"#1e2a36",primary200:"#57687c",primary300:"#b4c7dd",text:"#333333",text200:"#5c5c5c",accent:"#F7CAC9",accent200:"#926b6a"},{id:43,prompt:null,background:"#F0F5F9",background200:"#C9D6DF",background200Dull:"#afc3d0",background300:"#bfc7d1",background300Dull:"#a7b2c0",primary:"#1E2022",primaryDull:"#0b0c0c",primary200:"#34373b",primary300:"#F0F5F9",text:"#1E2022",text200:"#52616B",accent:"#788189",accent200:"#e1e4e6"},{id:137,prompt:"minimal modern light mode with blue accent ",background:"#FFFFFF",background200:"#f5f5f5",background200Dull:"#e1e1e1",background300:"#cccccc",background300Dull:"#b8b8b8",primary:"#3F51B5",primaryDull:"#344397",primary200:"#757de8",primary300:"#dedeff",text:"#333333",text200:"#5c5c5c",accent:"#2196F3",accent200:"#003f8f"},{id:38,prompt:null,background:"#F4EEFF",background200:"#DCD6F7",background200Dull:"#bfb4f0",background300:"#bbb9e9",background300Dull:"#9d9adf",primary:"#424874",primaryDull:"#33385a",primary200:"#A6B1E1",primary300:"#fdf6fd",text:"#292524",text200:"#64748b",accent:"#D9ACF5",accent200:"#FFCEFE"},{id:130,prompt:"",background:"#F0F5F9",background200:"#C9D6DF",background200Dull:"#afc3d0",background300:"#bfc7d1",background300Dull:"#a7b2c0",primary:"#1E2022",primaryDull:"#0b0c0c",primary200:"#34373b",primary300:"#F0F5F9",text:"#1E2022",text200:"#52616B",accent:"#788189",accent200:"#e1e4e6"},{id:93,prompt:"#B7C4CF",background:"#B7C4CF",background200:"#adbac5",background200Dull:"#95a6b4",background300:"#87949e",background300Dull:"#71808b",primary:"#2E4057",primaryDull:"#202c3c",primary200:"#596b84",primary300:"#b7c9e5",text:"#000000",text200:"#5d5d5d",accent:"#F73859",accent200:"#a3a3a3"},{id:132,prompt:"",background:"#F5ECD7",background200:"#ebe2cd",background200Dull:"#dfd1b0",background300:"#c2baa6",background300Dull:"#b1a78e",primary:"#1e295a",primaryDull:"#141b3b",primary200:"#4c5187",primary300:"#e1e1ff",text:"#353535",text200:"#5f5f5f",accent:"#F18F01",accent200:"#833500"},{id:"customise_116",background:"#fefffc",background200:"#F4F5F2",background200Dull:"#e0e3db",background300:"#CBCCC9",background300Dull:"#b7b8b4",primary:"#3569a5",primaryDull:"#2b5586",primary200:"#6A97D7",primary300:"#D1FAFF",text:"#111d2d",text200:"#394456",accent:"#250543",accent200:"#B086CF"},{id:"customise_118",background:"#f9f6f9",background200:"#EFECEF",background200Dull:"#dcd6dc",background300:"#C6C3C6",background300Dull:"#b2aeb2",primary:"#0057e7",primaryDull:"#0048be",primary200:"#6583FF",primary300:"#DAE4FF",text:"#534b53",text200:"#7F777F",accent:"#ffa700",accent200:"#904C00"},{id:"customise_122",background:"#fafcf7",background200:"#F0F2ED",background200Dull:"#dce1d5",background300:"#C7C9C4",background300Dull:"#b3b6af",primary:"#3a62e2",primaryDull:"#1f4ad4",primary200:"#798FFF",primary300:"#E8F1FF",text:"#091819",text200:"#303E3F",accent:"#313a9f",accent200:"#CFC2FF"},{id:"customise_124",background:"#fefbf4",background200:"#F4F1EA",background200Dull:"#e6dfcf",background300:"#CBC8C1",background300Dull:"#b8b4ab",primary:"#2947b1",primaryDull:"#213a90",primary200:"#6572E4",primary300:"#D0D1FF",text:"#081e1f",text200:"#2F4546",accent:"#ffa6d1",accent200:"#984871"},{id:"customise_125",background:"#FEFCF0",background200:"#F4F2E6",background200Dull:"#e8e3ca",background300:"#CBC9BE",background300Dull:"#b9b6a7",primary:"#122c91",primaryDull:"#0d216d",primary200:"#5355C2",primary300:"#BCB1FF",text:"#20331f",text200:"#485D46",accent:"#81e9e6",accent200:"#008684"},{id:"customise_126",background:"#f9fcf8",background200:"#EFF2EE",background200Dull:"#d9e0d7",background300:"#C6C9C5",background300Dull:"#b1b5b0",primary:"#677ee5",primaryDull:"#4460df",primary200:"#4663C6",primary300:"#e4ebff",text:"#5b615d",text200:"#888E8A",accent:"#465559",accent200:"#D2E3E8"},{id:"customise_129",background:"#f6faf8",background200:"#ECF0EE",background200Dull:"#d5deda",background300:"#C3C7C5",background300Dull:"#aeb3b1",primary:"#515278",primaryDull:"#414160",primary200:"#7E7EA7",primary300:"#E0DFFF",text:"#4a4b58",text200:"#767785",accent:"#d8a3a4",accent200:"#76484A"}],d:[{id:27,prompt:null,background:"#1e293b",background200:"#334155",background200Dull:"#42556f",background300:"#475569",background300Dull:"#576981",primary:"#2563eb",primaryDull:"#4a7eee",primary200:"#598EF3",primary300:"#D3E6FE",text:"#cbd5e1",text200:"#94a3b8",accent:"#d946ef",accent200:"#fae8ff"},{id:148,prompt:"Dark Sapphire Blue",background:"#0F1C2E",background200:"#1f2b3e",background200Dull:"#2d3e59",background300:"#374357",background300Dull:"#475670",primary:"#1F3A5F",primaryDull:"#294d7e",primary200:"#4d648d",primary300:"#acc2ef",text:"#FFFFFF",text200:"#e0e0e0",accent:"#3D5A80",accent200:"#cee8ff"},{id:146,prompt:"dark blue and red blush",background:"#1A1F2B",background200:"#292e3b",background200Dull:"#3a4153",background300:"#414654",background300Dull:"#53596b",primary:"#2C3A4F",primaryDull:"#3b4d69",primary200:"#56647b",primary300:"#b4c2dc",text:"#FFFFFF",text200:"#e0e0e0",accent:"#FF4D4D",accent200:"#ffecda"},{id:"customise_115",background:"#062121",background200:"#163030",background200Dull:"#234c4c",background300:"#2E4948",background300Dull:"#3e6261",primary:"#176bc4",primaryDull:"#1f7fe5",primary200:"#6099F7",primary300:"#CDFCFF",text:"#d6e5e5",text200:"#5D7171",accent:"#f7f499",accent200:"#91913C"},{id:"customise_117",background:"#1d0404",background200:"#2A1718",background200Dull:"#442527",background300:"#422E2E",background300Dull:"#5a3f3f",primary:"#5680b3",primaryDull:"#7295c0",primary200:"#87AFE5",primary300:"#EEFFFF",text:"#e3d4d4",text200:"#857575",accent:"#f8ffef",accent200:"#959B8C"},{id:"customise_119",background:"#1a0c27",background200:"#291B37",background200Dull:"#3d2852",background300:"#41324F",background300Dull:"#564268",primary:"#2d6bd8",primaryDull:"#4f83de",primary200:"#6E98FF",primary300:"#DDFCFF",text:"#d4cadc",text200:"#776F7F",accent:"#d14430",accent200:"#FFDCB9"},{id:"customise_120",background:"#1b070a",background200:"#28191B",background200Dull:"#41292c",background300:"#403032",background300Dull:"#574144",primary:"#275fd4",primaryDull:"#4777dd",primary200:"#6B8CFF",primary300:"#DAEEFF",text:"#e3d5d5",text200:"#857575",accent:"#deb000",accent200:"#745500"},{id:"customise_121",background:"#1d1537",background200:"#2D2447",background200Dull:"#3e3262",background300:"#463B61",background300Dull:"#584a7a",primary:"#2e5fe4",primaryDull:"#527be9",primary200:"#728CFF",primary300:"#E3EEFF",text:"#d8d4e4",text200:"#6A6283",accent:"#ffd6b6",accent200:"#997659"},{id:"customise_123",background:"#020324",background200:"#121833",background200Dull:"#1d2651",background300:"#2A2E4C",background300Dull:"#393e66",primary:"#404969",primaryDull:"#4f5b82",primary200:"#6C7497",primary300:"#CDD4FB",text:"#d7d7ea",text200:"#74758C",accent:"#c2edff",accent200:"#618B9B"},{id:"customise_127",background:"#1a051b",background200:"#28182A",background200Dull:"#412744",background300:"#3F2E41",background300Dull:"#563f59",primary:"#5b6bdb",primaryDull:"#7c89e2",primary200:"#9199FF",primary300:"#FCFCFF",text:"#dacbda",text200:"#7B717B",accent:"#d3acff",accent200:"#71509A"},{id:"customise_128",background:"#1a1f12",background200:"#292E21",background200Dull:"#3e4632",background300:"#414638",background300Dull:"#565d4a",primary:"#575cd5",primaryDull:"#787cdd",primary200:"#8D89FF",primary300:"#F9EBFF",text:"#d4e2da",text200:"#B6C4BC",accent:"#dbc9ff",accent200:"#796A9B"}]},240:{l:[{id:70,prompt:"lavendar",background:"#F5F3F7",background200:"#E9E4ED",background200Dull:"#d5ccdd",background300:"#FFFFFF",background300Dull:"#ebebeb",primary:"#8B5FBF",primaryDull:"#7646af",primary200:"#61398F",primary300:"#FFFFFF",text:"#4A4A4A",text200:"#878787",accent:"#D6C6E1",accent200:"#9A73B5"},{id:49,prompt:null,background:"#FFFFFF",background200:"#E3F6F5",background200Dull:"#c4ecea",background300:"#BAE8E8",background300Dull:"#9bdede",primary:"#272343",primaryDull:"#171528",primary200:"#788e98",primary300:"#F0F5F9",text:"#1E2022",text200:"#52616B",accent:"#788189",accent200:"#e1e4e6"},{id:58,prompt:"dull blue and pink",background:"#E6E6FA",background200:"#D2D2F6",background200Dull:"#b0b0ef",background300:"#FFFFFF",background300Dull:"#ebebeb",primary:"#6B5B95",primaryDull:"#594c7c",primary200:"#4B4068",primary300:"#E1DDEB",text:"#333333",text200:"#424242",accent:"#FF7F11",accent200:"#BE5800"},{id:47,prompt:null,background:"#fffffc",background200:"#ffc6ff",background200Dull:"#ff9dff",background300:"#b4e1ff",background300Dull:"#8bd1ff",primary:"#bdb2ff",primaryDull:"#9a89ff",primary200:"#bdb2ff",primary300:"#1f1079",text:"#22223b",text200:"#4b498a",accent:"#ffadad",accent200:"#ffd6a5"},{id:"customise_131",background:"#f6fcfe",background200:"#ECF2F4",background200Dull:"#d2e0e5",background300:"#C3C9CB",background300Dull:"#adb5b8",primary:"#534aff",primaryDull:"#2c21ff",primary200:"#9178FF",primary300:"#ebeaff",text:"#3a4b50",text200:"#65777C",accent:"#ff97b4",accent200:"#963858"},{id:"customise_134",background:"#f8f6fb",background200:"#EEECF1",background200Dull:"#d9d5e0",background300:"#C5C3C8",background300Dull:"#b0aeb4",primary:"#675dd4",primaryDull:"#493dcb",primary200:"#9B8AFF",primary300:"#FFEDFF",text:"#766b85",text200:"#A599B5",accent:"#fbff76",accent200:"#929B03"},{id:"customise_135",background:"#f4f5fa",background200:"#EAEBF0",background200Dull:"#d2d4df",background300:"#C1C2C7",background300Dull:"#acadb4",primary:"#7768ee",primaryDull:"#5643ea",primary200:"#AC96FF",primary300:"#FFFAFF",text:"#323130",text200:"#5B5A59",accent:"#f4df67",accent200:"#8B7F00"},{id:"customise_139",background:"#f8fdf7",background200:"#EEF3ED",background200Dull:"#d7e3d5",background300:"#C5CAC4",background300Dull:"#b0b7af",primary:"#543d8f",primaryDull:"#433172",primary200:"#8468C0",primary300:"#E9C8FF",text:"#5a5a64",text200:"#878792",accent:"#f7e5e6",accent200:"#948384"},{id:"customise_140",background:"#ebeaeb",background200:"#E1E0E1",background200Dull:"#cdcbcd",background300:"#B9B8B9",background300Dull:"#a5a3a5",primary:"#362b51",primaryDull:"#241d36",primary200:"#61547D",primary300:"#C0B0DF",text:"#525261",text200:"#7E7E8E",accent:"#a8965b",accent200:"#493E05"},{id:"customise_143",background:"#feeff8",background200:"#F4E5EE",background200Dull:"#e8c8db",background300:"#CBBDC5",background300Dull:"#b9a6b1",primary:"#6441a4",primaryDull:"#523587",primary200:"#956DD6",primary300:"#FCCEFF",text:"#52454d",text200:"#7E7079",accent:"#40465a",accent200:"#CBD1E9"},{id:"customise_144",background:"#fefcf1",background200:"#F4F2E7",background200Dull:"#e7e3cb",background300:"#CBC9BE",background300Dull:"#b9b6a7",primary:"#390c7c",primaryDull:"#280857",primary200:"#6B3AAC",primary300:"#D097FF",text:"#3b3b3b",text200:"#656565",accent:"#2a1647",accent200:"#B396D3"},{id:"customise_146",background:"#f9f1fd",background200:"#EFE7F3",background200Dull:"#ddcce5",background300:"#C6BECA",background300Dull:"#b2a8b8",primary:"#9068be",primaryDull:"#7b4cb1",primary200:"#C297F1",primary300:"#FFFBFF",text:"#64536d",text200:"#927F9B",accent:"#281a4a",accent200:"#B19BD7"},{id:"customise_147",background:"#fff9f9",background200:"#F5EFEF",background200Dull:"#e5d6d6",background300:"#CCC6C6",background300Dull:"#b9b0b0",primary:"#6d2caf",primaryDull:"#59248e",primary200:"#A05BE2",primary300:"#FFBCFF",text:"#665555",text200:"#948181",accent:"#f07a1e",accent200:"#811C00"}],d:[{id:145,prompt:"neon",background:"#241b35",background200:"#342a45",background200Dull:"#47395e",background300:"#4d425f",background300Dull:"#615377",primary:"#6c35de",primaryDull:"#8658e4",primary200:"#a364ff",primary300:"#ffc7ff",text:"#ffffff",text200:"#e0e0e0",accent:"#cb80ff",accent200:"#373737"},{id:139,prompt:"purple dark black blue ",background:"#1A1A1A",background200:"#292929",background200Dull:"#3d3d3d",background300:"#404040",background300Dull:"#545454",primary:"#6A00FF",primaryDull:"#8229ff",primary200:"#a64aff",primary300:"#efe4ff",text:"#FFFFFF",text200:"#e0e0e0",accent:"#00E5FF",accent200:"#00829b"},{id:"customise_130",background:"#011614",background200:"#142423",background200Dull:"#233e3d",background300:"#2B3C3A",background300Dull:"#3c5451",primary:"#3b3b98",primaryDull:"#4646b5",primary200:"#6E66C9",primary300:"#D4C4FF",text:"#c5dad8",text200:"#5C7775",accent:"#c5d7ef",accent200:"#66778C"},{id:"customise_132",background:"#15043e",background200:"#331d65",background200Dull:"#361c70",background300:"#412C69",background300Dull:"#533886",primary:"#363177",primaryDull:"#433d94",primary200:"#655BA6",primary300:"#C8B7FF",text:"#d1d6ff",text200:"#B3B8E0",accent:"#4a41c8",accent200:"#EECDFF"},{id:"customise_133",background:"#0f0021",background200:"#322653",background200Dull:"#2d214c",background300:"#342C48",background300Dull:"#463b61",primary:"#7c6fff",primaryDull:"#a198ff",primary200:"#B29EFF",primary300:"#FFFFFF",text:"#cdbce0",text200:"#78658E",accent:"#ffe58a",accent200:"#97842D"},{id:"customise_136",background:"#1d1e14",background200:"#2C2D23",background200Dull:"#424435",background300:"#44453A",background300Dull:"#5a5b4d",primary:"#694fda",primaryDull:"#8671e1",primary200:"#9E7CFF",primary300:"#FFDFFF",text:"#cfbed6",text200:"#B1A1B8",accent:"#ed4db2",accent200:"#FFECFF"},{id:"customise_137",background:"#081410",background200:"#1A221F",background200Dull:"#2c3934",background300:"#303A36",background300Dull:"#42504b",primary:"#726a95",primaryDull:"#8982a6",primary200:"#A198C6",primary300:"#FFFCFF",text:"#d2d7d6",text200:"#646A68",accent:"#7f8583",accent200:"#2A2F2E"},{id:"customise_138",background:"#2c1c03",background200:"#3C2B16",background200Dull:"#5a4021",background300:"#56432D",background300Dull:"#71583b",primary:"#825be6",primaryDull:"#9d7eeb",primary200:"#B789FF",primary300:"#FFEDFF",text:"#e2d9cc",text200:"#817768",accent:"#e6cdcd",accent200:"#846E6E"},{id:"customise_141",background:"#0d261c",background200:"#1C362B",background200Dull:"#2a5140",background300:"#344E43",background300Dull:"#446658",primary:"#6c49b8",primaryDull:"#8466c3",primary200:"#9E76EB",primary300:"#FFD7FF",text:"#a9c0b7",text200:"#8CA39A",accent:"#c0dcfd",accent200:"#607B99"},{id:"customise_142",background:"#241a20",background200:"#33292F",background200Dull:"#4a3b44",background300:"#4C4147",background300Dull:"#62545c",primary:"#8057ca",primaryDull:"#9776d4",primary200:"#B385FE",primary300:"#FFE8FF",text:"#e3cedb",text200:"#836D7A",accent:"#d3bded",accent200:"#725F8A"},{id:"customise_145",background:"#320e3c",background200:"#431E4D",background200Dull:"#5d296a",background300:"#5D3667",background300Dull:"#754482",primary:"#884dd6",primaryDull:"#9e6ede",primary200:"#BC7CFF",primary300:"#FFDFFF",text:"#e6cfec",text200:"#9568A1",accent:"#b635da",accent200:"#FFD3FF"}]},270:{l:[{id:"customise_149",background:"#f1ece5",background200:"#E7E2DB",background200Dull:"#d7cec3",background300:"#BEBAB3",background300Dull:"#aba69d",primary:"#6d10b8",primaryDull:"#570d92",primary200:"#A149EB",primary300:"#FFACFF",text:"#6c5e4a",text200:"#9B8B76",accent:"#5ab3af",accent200:"#005653"},{id:"customise_153",background:"#f6f9f6",background200:"#ECEFEC",background200Dull:"#d6dcd6",background300:"#C3C6C3",background300Dull:"#aeb2ae",primary:"#5e5066",primaryDull:"#493e4f",primary200:"#8B7C94",primary300:"#EEDDF7",text:"#545a54",text200:"#808780",accent:"#2e2c2f",accent200:"#B3B0B4"},{id:"customise_154",background:"#f6f7fd",background200:"#ECEDF3",background200Dull:"#d3d5e3",background300:"#C3C4CA",background300Dull:"#adafb7",primary:"#a751d2",primaryDull:"#9633c7",primary200:"#DB81FF",primary300:"#FFE6FF",text:"#62667c",text200:"#9094AB",accent:"#75c0bd",accent200:"#066260"},{id:"customise_155",background:"#f4f5ee",background200:"#EAEBE4",background200Dull:"#d8dacd",background300:"#C1C2BC",background300Dull:"#adafa7",primary:"#8722b3",primaryDull:"#6d1b91",primary200:"#BB57E6",primary300:"#FFBBFF",text:"#4d4e46",text200:"#797A71",accent:"#74bbdc",accent200:"#005E7B"},{id:"customise_157",background:"#f3f9f5",background200:"#E9EFEB",background200Dull:"#d1ded6",background300:"#C0C6C2",background300Dull:"#abb3ad",primary:"#a908da",primaryDull:"#8a07b3",primary200:"#DF53FF",primary300:"#FFBDFF",text:"#4f5c53",text200:"#7B897F",accent:"#c38fff",accent200:"#5F349A"},{id:"customise_159",background:"#f4fcff",background200:"#EAF2F5",background200Dull:"#cee1e8",background300:"#C1C9CC",background300Dull:"#abb6ba",primary:"#840d9f",primaryDull:"#650a79",primary200:"#B74AD1",primary300:"#FFAEFF",text:"#555d60",text200:"#828A8D",accent:"#234d7e",accent200:"#B9D9FF"},{id:"customise_161",background:"#fbf9ff",background200:"#F1EFF5",background200Dull:"#dbd6e5",background300:"#C8C6CC",background300Dull:"#b3b0b9",primary:"#c05bd0",primaryDull:"#b43bc7",primary200:"#F58CFF",primary300:"#FFF3FF",text:"#5d576a",text200:"#8A8498",accent:"#ffa83f",accent200:"#914D00"},{id:"customise_162",background:"#fff8fd",background200:"#F5EEF3",background200Dull:"#e6d4e1",background300:"#CCC5CA",background300Dull:"#b9afb6",primary:"#cc1adc",primaryDull:"#aa16b8",primary200:"#FF5FFF",primary300:"#FFCBFF",text:"#685562",text200:"#96828F",accent:"#9068be",accent200:"#FFFBFF"},{id:"customise_164",background:"#f3eaec",background200:"#E9E0E2",background200Dull:"#d8c8cc",background300:"#C0B8BA",background300Dull:"#ada2a5",primary:"#9e11a3",primaryDull:"#7a0d7e",primary200:"#D250D5",primary300:"#FFB7FF",text:"#604a4f",text200:"#8E767B",accent:"#e62739",accent200:"#FFCEC2"}],d:[{id:54,prompt:null,background:"#222831",background200:"#393E46",background200Dull:"#4b525c",background300:"#454e59",background300Dull:"#576270",primary:"#892CDC",primaryDull:"#9d4fe2",primary200:"#BC6FF1",primary300:"#fdf6fd",text:"#EEEEEE",text200:"#FDEBED",accent:"#D9ACF5",accent200:"#fff4ff"},{id:69,prompt:"dark lavendar",background:"#3B2D4D",background200:"#57456f",background200Dull:"#4c3a63",background300:"#4D3B64",background300Dull:"#614a7e",primary:"#7B4F8E",primaryDull:"#9160a6",primary200:"#563763",primary300:"#efdff7",text:"#FFFFFF",text200:"#909090",accent:"#B794C0",accent200:"#895896"},{id:"customise_148",background:"#080101",background200:"#2f2c2c",background200Dull:"#302929",background300:"#312D2D",background300Dull:"#464141",primary:"#9b69ca",primaryDull:"#af87d5",primary200:"#CE98FE",primary300:"#FFFDFF",text:"#ded9da",text200:"#736A6A",accent:"#c8e0eb",accent200:"#697F89"},{id:"customise_150",background:"#180f06",background200:"#3c312a",background200Dull:"#3f3129",background300:"#3D352F",background300Dull:"#544941",primary:"#6f468f",primaryDull:"#8453aa",primary200:"#9F73C0",primary300:"#FFD3FF",text:"#d0c7c7",text200:"#736A6A",accent:"#d03846",accent200:"#FFD3D1"},{id:"customise_151",background:"#151d01",background200:"#222C15",background200Dull:"#374822",background300:"#3A442C",background300Dull:"#4f5d3c",primary:"#9e68c4",primaryDull:"#b185cf",primary200:"#D197F7",primary300:"#FFFCFF",text:"#b2cac4",text200:"#95ACA7",accent:"#c4d8fd",accent200:"#647899"},{id:"customise_152",background:"#11120c",background200:"#20211C",background200Dull:"#35372f",background300:"#373833",background300Dull:"#4c4d46",primary:"#962cd8",primaryDull:"#a74ede",primary200:"#CB61FF",primary300:"#FFC7FF",text:"#b5b6af",text200:"#989992",accent:"#9bc8bc",accent200:"#3F695F"},{id:"customise_156",background:"#051207",background200:"#29302b",background200Dull:"#29392d",background300:"#2F3830",background300Dull:"#424e43",primary:"#693080",primaryDull:"#813b9e",primary200:"#995DB0",primary300:"#FFBCFF",text:"#bdc7be",text200:"#616A62",accent:"#8844d6",accent200:"#FFD7FF"},{id:"customise_158",background:"#041727",background200:"#142637",background200Dull:"#1f3b55",background300:"#2D3D4F",background300Dull:"#3c5169",primary:"#9f0ac4",primaryDull:"#be0ceb",primary200:"#D450F8",primary300:"#FFB9FF",text:"#bfdbf4",text200:"#567189",accent:"#db5800",accent200:"#FFEE9A"},{id:"customise_160",background:"#19073d",background200:"#401f6f",background200Dull:"#3b206e",background300:"#442E68",background300Dull:"#563b84",primary:"#b937d0",primaryDull:"#c558d8",primary200:"#EE6DFF",primary300:"#FFD4FF",text:"#dfd8eb",text200:"#7C718E",accent:"#65c0bd",accent200:"#006160"},{id:"customise_163",background:"#0a0108",background200:"#2f282e",background200Dull:"#312830",background300:"#322D31",background300Dull:"#474046",primary:"#9f2ca7",primaryDull:"#be35c7",primary200:"#D360D9",primary300:"#FFC5FF",text:"#e0cfdc",text200:"#796C76",accent:"#87c2de",accent200:"#22647D"},{id:"customise_165",background:"#0e1006",background200:"#34352e",background200Dull:"#34362b",background300:"#34362F",background300Dull:"#494c42",primary:"#b11ab4",primaryDull:"#d41fd8",primary200:"#E658E7",primary300:"#FFC1FF",text:"#cbc5d2",text200:"#ADA8B4",accent:"#c1a1e4",accent200:"#614682"}]},300:{l:[{id:39,prompt:null,background:"#FFFBF5",background200:"#FAF4EC",background200Dull:"#f2e1cc",background300:"#E5D5C0",background300Dull:"#d9c2a3",primary:"#9a3197",primaryDull:"#7b2779",primary200:"#E084CD",primary300:"#fdf6fd",text:"#292524",text200:"#78716c",accent:"#f59e0b",accent200:"#fef3c7"},{id:"customise_167",background:"#fff9f9",background200:"#F5EFEF",background200Dull:"#e5d6d6",background300:"#CCC6C6",background300Dull:"#b9b0b0",primary:"#b22faf",primaryDull:"#92268f",primary200:"#E765E1",primary300:"#FFCCFF",text:"#6b5353",text200:"#997F7F",accent:"#f62622",accent200:"#FFD1AB"},{id:"customise_169",background:"#f9f6f0",background200:"#EFECE6",background200Dull:"#dfd9cd",background300:"#C6C3BE",background300Dull:"#b3afa8",primary:"#b22fab",primaryDull:"#92268c",primary200:"#E765DD",primary300:"#FFCBFF",text:"#706c63",text200:"#9E9A90",accent:"#e99a9b",accent200:"#833F42"},{id:"customise_171",background:"#f1f2f6",background200:"#E7E8EC",background200Dull:"#d0d2da",background300:"#BEBFC3",background300Dull:"#a9aaaf",primary:"#7b6079",primaryDull:"#644e62",primary200:"#AA8DA8",primary300:"#FFF0FF",text:"#4e535e",text200:"#7A7F8B",accent:"#de8971",accent200:"#762F1D"},{id:"customise_173",background:"#fff5f5",background200:"#F5EBEB",background200Dull:"#e7d0d0",background300:"#CCC2C2",background300Dull:"#b9acac",primary:"#9f5694",primaryDull:"#85487b",primary200:"#D185C5",primary300:"#FFE8FF",text:"#523a3a",text200:"#7F6464",accent:"#f0c9c9",accent200:"#8C6A6A"},{id:"customise_175",background:"#fffcf7",background200:"#F5F2ED",background200Dull:"#e6dfd3",background300:"#CCC9C4",background300Dull:"#b9b5ae",primary:"#de4fbc",primaryDull:"#d82daf",primary200:"#FF83EF",primary300:"#FFECFF",text:"#5e5649",text200:"#8B8375",accent:"#ffd52e",accent200:"#927600"},{id:"customise_177",background:"#f9f5f9",background200:"#EFEBEF",background200Dull:"#ddd4dd",background300:"#C6C2C6",background300Dull:"#b2adb2",primary:"#c4409e",primaryDull:"#a73486",primary200:"#F973CF",primary300:"#FFDAFF",text:"#6e606e",text200:"#9C8D9C",accent:"#7a0850",accent200:"#FFA3DD"},{id:"customise_178",background:"#f9f8fb",background200:"#EFEEF1",background200Dull:"#dad8df",background300:"#C6C5C8",background300Dull:"#b1b0b4",primary:"#d648a9",primaryDull:"#c82d97",primary200:"#FF7CDB",primary300:"#FFE4FF",text:"#5d5868",text200:"#8A8596",accent:"#fea477",accent200:"#934820"},{id:"customise_181",background:"#fefffd",background200:"#F4F5F3",background200Dull:"#e0e2dd",background300:"#CBCCCA",background300Dull:"#b7b8b5",primary:"#e44ca9",primaryDull:"#df2998",primary200:"#FF81DB",primary300:"#FFE9FF",text:"#6f746a",text200:"#9DA398",accent:"#5c88e6",accent200:"#003383"},{id:"customise_183",background:"#edecf7",background200:"#E3E2ED",background200Dull:"#cbc9dd",background300:"#BBBAC4",background300Dull:"#a5a4b1",primary:"#a11262",primaryDull:"#7c0e4c",primary200:"#D64E8F",primary300:"#FFB4F2",text:"#5c5b6e",text200:"#89889C",accent:"#142d47",accent200:"#9CB1D2"},{id:"customise_185",background:"#fdffff",background200:"#F3F5F5",background200Dull:"#dde2e2",background300:"#CACCCC",background300Dull:"#b5b8b8",primary:"#d62f85",primaryDull:"#b82470",primary200:"#FF68B5",primary300:"#FFD1FF",text:"#545e5e",text200:"#808B8B",accent:"#fe7846",accent200:"#8D1300"}],d:[{id:"customise_166",background:"#1d0c0c",background200:"#412d2e",background200Dull:"#442c2e",background300:"#433333",background300Dull:"#5a4545",primary:"#b635b6",primaryDull:"#ca4aca",primary200:"#EB6AE9",primary300:"#FFD1FF",text:"#e9d5d5",text200:"#897071",accent:"#f25f5c",accent200:"#FFF9EC"},{id:"customise_168",background:"#0a1004",background200:"#2e322b",background200Dull:"#2f362a",background300:"#32362E",background300Dull:"#464c41",primary:"#a90da4",primaryDull:"#cf10c9",primary200:"#DE51D6",primary300:"#FFB9FF",text:"#d2d6cd",text200:"#6C7067",accent:"#8fb6c6",accent200:"#335968"},{id:"customise_170",background:"#03100a",background200:"#282e2b",background200Dull:"#28362f",background300:"#2D3632",background300Dull:"#404c47",primary:"#9d5198",primaryDull:"#b066ab",primary200:"#CF80C9",primary300:"#FFE3FF",text:"#d2dbd7",text200:"#656E6A",accent:"#c9c6eb",accent200:"#6A6889"},{id:"customise_172",background:"#080f25",background200:"#2c344d",background200Dull:"#253050",background300:"#2F354D",background300Dull:"#3e4666",primary:"#7c116d",primaryDull:"#a0168d",primary200:"#AE479C",primary300:"#FFA9FF",text:"#cfd2d9",text200:"#6C7079",accent:"#9ed1ff",accent200:"#39729B"},{id:"customise_174",background:"#10080b",background200:"#353132",background200Dull:"#352d30",background300:"#363133",background300Dull:"#4b4447",primary:"#dc53c0",primaryDull:"#e375cc",primary200:"#FF86F3",primary300:"#FFEFFF",text:"#e0c9d2",text200:"#756169",accent:"#b6e6bd",accent200:"#58845F"},{id:"customise_176",background:"#0d0b29",background200:"#2e2f4e",background200Dull:"#282a55",background300:"#333252",background300Dull:"#43416b",primary:"#b6248f",primaryDull:"#d62da9",primary200:"#EB5DBF",primary300:"#FFC4FF",text:"#c9c9d7",text200:"#696879",accent:"#9bbcff",accent200:"#365F9A"},{id:"customise_179",background:"#161712",background200:"#242621",background200Dull:"#393c34",background300:"#3C3D38",background300Dull:"#51524c",primary:"#c63a98",primaryDull:"#cf5aa9",primary200:"#FC6FC9",primary300:"#FFD6FF",text:"#d6c5c5",text200:"#B8A8A8",accent:"#f1b7b5",accent200:"#8C5A59"},{id:"customise_180",background:"#2c142e",background200:"#48344a",background200Dull:"#553258",background300:"#563B57",background300Dull:"#6e4b6f",primary:"#951b69",primaryDull:"#b82181",primary200:"#C95197",primary300:"#FFB5FB",text:"#f3d6f5",text200:"#8B6D8E",accent:"#fbb7e2",accent200:"#965981"},{id:"customise_182",background:"#0f0a14",background200:"#2f2c33",background200Dull:"#322d3a",background300:"#35323A",background300Dull:"#494550",primary:"#b42076",primaryDull:"#d7268d",primary200:"#EA59A5",primary300:"#FFC0FF",text:"#e0dae8",text200:"#7E7489",accent:"#aa63ff",accent200:"#FFFAFF"},{id:"customise_184",background:"#062234",background200:"#193144",background200Dull:"#244662",background300:"#32495E",background300Dull:"#405e79",primary:"#994071",primaryDull:"#b54d86",primary200:"#CC6F9F",primary300:"#FFD1FF",text:"#9eacb4",text200:"#828F97",accent:"#dac37d",accent200:"#766524"}]},330:{l:[{id:105,prompt:"tiktok",background:"#F7F7F7",background200:"#ededed",background200Dull:"#d9d9d9",background300:"#c4c4c4",background300Dull:"#b0b0b0",primary:"#EE1D52",primaryDull:"#d21041",primary200:"#ff607e",primary300:"#ffcddf",text:"#333333",text200:"#5c5c5c",accent:"#FFC107",accent200:"#916400"},{id:48,prompt:null,background:"#edf2f4",background200:"#d9dee4",background200Dull:"#c1c9d3",background300:"#bfc7d1",background300Dull:"#a7b2c0",primary:"#d90429",primaryDull:"#b10321",primary200:"#ff98aa",primary300:"#ffe4e9",text:"#4b4f5d",text200:"#6a738b",accent:"#ffadad",accent200:"#ffd6a5"},{id:143,prompt:"DE283B",background:"#ffffff",background200:"#f5f5f5",background200Dull:"#e1e1e1",background300:"#cccccc",background300Dull:"#b8b8b8",primary:"#de283b",primaryDull:"#c01d2e",primary200:"#ff6366",primary300:"#ffccc4",text:"#1a1a1a",text200:"#404040",accent:"#25b1bf",accent200:"#005461"},{id:136,prompt:"pantone 2023",background:"#ffffff",background200:"#f5f5f5",background200Dull:"#e1e1e1",background300:"#cccccc",background300Dull:"#b8b8b8",primary:"#bb2649",primaryDull:"#991f3c",primary200:"#f35d74",primary300:"#ffc3d4",text:"#4b4f5d",text200:"#6a738b",accent:"#ffadad",accent200:"#ffd6a5"},{id:141,prompt:"Dance network",background:"#F5F5F5",background200:"#ebebeb",background200Dull:"#d7d7d7",background300:"#c2c2c2",background300Dull:"#aeaeae",primary:"#FF4081",primaryDull:"#ff1766",primary200:"#ff79b0",primary300:"#ffedf3",text:"#333333",text200:"#5c5c5c",accent:"#00E5FF",accent200:"#00829b"},{id:76,prompt:"playful",background:"#F9D5E5",background200:"#efcbdb",background200Dull:"#e5acc5",background300:"#c6a4b3",background300Dull:"#b68b9e",primary:"#FFC2D0",primaryDull:"#ff99b1",primary200:"#e0a4b2",primary300:"#6a1b2d",text:"#4A4A4A",text200:"#806589",accent:"#FF9AA2",accent200:"#963c48"},{id:109,prompt:"ruby",background:"#F7CAC9",background200:"#edc0bf",background200Dull:"#e4a19f",background300:"#c49998",background300Dull:"#b57f7e",primary:"#9B111E",primaryDull:"#760d17",primary200:"#d24a46",primary300:"#ffaea0",text:"#141414",text200:"#6d6d6d",accent:"#FF5733",accent200:"#fff3bf"},{id:"customise_186",background:"#f9f4f3",background200:"#EFEAE9",background200Dull:"#ded3d1",background300:"#C6C1C0",background300Dull:"#b3acab",primary:"#d6297c",primaryDull:"#b42268",primary200:"#FF64AB",primary300:"#FFCDFF",text:"#766967",text200:"#A59795",accent:"#ffdd1f",accent200:"#927D00"},{id:"customise_188",background:"#fffdf7",background200:"#F5F3ED",background200Dull:"#e6e2d3",background300:"#CCCAC4",background300Dull:"#b9b6ae",primary:"#d64a86",primaryDull:"#ca2e70",primary200:"#FF7DB6",primary300:"#FFE4FF",text:"#706d64",text200:"#9E9B92",accent:"#7fffc4",accent200:"#009965"},{id:"customise_189",background:"#f5fbfc",background200:"#EBF1F2",background200Dull:"#d2e0e2",background300:"#C2C8C9",background300Dull:"#acb4b6",primary:"#a1657d",primaryDull:"#895469",primary200:"#D393AC",primary300:"#FFF8FF",text:"#5c6668",text200:"#899496",accent:"#f1d4d4",accent200:"#8E7474"},{id:"customise_191",background:"#f9f6fc",background200:"#EFECF2",background200Dull:"#dbd4e1",background300:"#C6C3C9",background300Dull:"#b2aeb6",primary:"#e44880",primaryDull:"#df2467",primary200:"#FF7CAF",primary300:"#FFE5FF",text:"#5a486c",text200:"#87749A",accent:"#ffda65",accent200:"#957A00"},{id:"customise_193",background:"#faf6f8",background200:"#F0ECEE",background200Dull:"#ded5da",background300:"#C7C3C5",background300Dull:"#b3aeb1",primary:"#e95185",primaryDull:"#e42d6c",primary200:"#FF85B4",primary300:"#FFEDFF",text:"#7a5a69",text200:"#A98797",accent:"#d02b2b",accent200:"#FFCAB2"},{id:"customise_194",background:"#fef4f7",background200:"#F4EAED",background200Dull:"#e6cfd6",background300:"#CBC1C4",background300Dull:"#b8abaf",primary:"#f94f89",primaryDull:"#f8286f",primary200:"#FF84B9",primary300:"#FFEEFF",text:"#623140",text200:"#915C6B",accent:"#223d6a",accent200:"#B2C5FD"},{id:"customise_200",background:"#fbf6fc",background200:"#F1ECF2",background200Dull:"#dfd4e1",background300:"#C8C3C9",background300Dull:"#b4aeb6",primary:"#e62739",primaryDull:"#cd1829",primary200:"#FF6364",primary300:"#FFCEC2",text:"#5b4c5e",text200:"#88788B",accent:"#9068be",accent200:"#FFFBFF"}],d:[{id:40,prompt:null,background:"#355C7D",background200:"#487da7",background200Dull:"#4271A1",background300:"#4e84a9",background300Dull:"#6798b9",primary:"#F67280",primaryDull:"#f898a3",primary200:"#C06C84",primary300:"#fdf6fd",text:"#EEEEEE",text200:"#FDEBED",accent:"#03C988",accent200:"#FFCEFE"},{id:86,prompt:"fc barcelona",background:"#004D98",background200:"#2a5eab",background200Dull:"#3270cc",background300:"#4e78c9",background300Dull:"#6d90d3",primary:"#A50044",primaryDull:"#ce0055",primary200:"#dc486f",primary300:"#ffaece",text:"#FFFFFF",text200:"#b8b8b8",accent:"#FFC400",accent200:"#916700"},{id:"customise_187",background:"#0a2b37",background200:"#1C3B47",background200Dull:"#285364",background300:"#365461",background300Dull:"#456b7b",primary:"#da4588",primaryDull:"#e1679e",primary200:"#FF79B8",primary300:"#FFE1FF",text:"#d2e3e9",text200:"#697C83",accent:"#a2edff",accent200:"#3C8A9B"},{id:"customise_190",background:"#12002f",background200:"#36295b",background200Dull:"#2e1e5e",background300:"#382A58",background300Dull:"#4a3774",primary:"#d6487e",primaryDull:"#dd6995",primary200:"#FF7BAD",primary300:"#FFE2FF",text:"#ccc4d9",text200:"#7A708B",accent:"#3165d0",accent200:"#DDF5FF"},{id:"customise_192",background:"#15010b",background200:"#32262c",background200Dull:"#3c2630",background300:"#3A2C32",background300Dull:"#513e46",primary:"#c82b61",primaryDull:"#d74577",primary200:"#FF628E",primary300:"#FFCAF1",text:"#dfcdd5",text200:"#75656D",accent:"#b3c5e6",accent200:"#556784"},{id:"customise_195",background:"#031e19",background200:"#132D28",background200Dull:"#1f4a42",background300:"#2B453F",background300Dull:"#3b5e56",primary:"#c43964",primaryDull:"#ce587c",primary200:"#FB6C91",primary300:"#FFD2F4",text:"#8ca19c",text200:"#708580",accent:"#ffebe7",accent200:"#9B8985"},{id:"customise_196",background:"#15090b",background200:"#231B1C",background200Dull:"#3a2d2e",background300:"#3A3133",background300Dull:"#504446",primary:"#9d2549",primaryDull:"#be2d58",primary200:"#D25874",primary300:"#FFBBD4",text:"#d7c8c8",text200:"#857575",accent:"#ffae9e",accent200:"#965144"},{id:"customise_197",background:"#11231a",background200:"#203229",background200Dull:"#304b3d",background300:"#374B40",background300Dull:"#486354",primary:"#e05878",primaryDull:"#e67a94",primary200:"#FF8AA7",primary300:"#FFF1FF",text:"#a8b8b7",text200:"#8B9B9A",accent:"#db4856",accent200:"#FFE2E4"},{id:"customise_198",background:"#102543",background200:"#223454",background200Dull:"#2e4671",background300:"#3C4D6E",background300Dull:"#4a5f88",primary:"#b6606b",primaryDull:"#c37c85",primary200:"#EA8F99",primary300:"#FFF4FD",text:"#93afd6",text200:"#7692B8",accent:"#91eaff",accent200:"#20889B"},{id:"customise_199",background:"#230526",background200:"#3b213f",background200Dull:"#4d2253",background300:"#4C2D4E",background300Dull:"#653c68",primary:"#b34e59",primaryDull:"#bf6b74",primary200:"#E87D86",primary300:"#FFE1E7",text:"#dbc6dd",text200:"#856F87",accent:"#f9aeae",accent200:"#925153"}]}}},32582:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.typeList=t.saveData=t.renderDom=t.aiTopic=void 0,n(65528),n(82403),n(6284),n(47958),n(69268),n(86837),n(54938),n(17804);var o=n(15916),a=n(46560),r=n(21642),s=i(n(32483)),l=t.typeList=[{name:s.default.t("Standard_Mind_Map"),model:"aiDS",type:"continueWrite",intro:s.default.t("Direct_Input_For_Mind_Map_Generation"),domTree:[{type:"input",placeholder:s.default.t("Enter_Topic_Question")}]},{name:s.default.t("To-Do_List"),model:"04b26",type:"doList",intro:s.default.t("Arrange_TodoList"),domTree:[{type:"text",value:"".concat(s.default.t("To-Do_Theme"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]},{name:s.default.t("Meeting_Outline"),model:"04b26",type:"meeting",intro:s.default.t("Generator_Meet_Topic"),domTree:[{type:"text",value:"".concat(s.default.t("Meeting_Theme"),":")},{type:"input",placeholder:s.default.t("Please_Enter")},{type:"text",value:", ".concat(s.default.t("Meeting_Scale"),":")},{type:"select",options:[s.default.t("Large"),s.default.t("Medium"),s.default.t("Small")]},{type:"text",value:", ".concat(s.default.t("Participants"),":")},{type:"select",options:[s.default.t("Internal"),s.default.t("External")]},{type:"text",value:", ".concat(s.default.t("Meeting_Additional_Info"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]},{name:s.default.t("Article_Outline"),model:"04b26",type:"articleOutline",intro:s.default.t("Generator_Outline"),domTree:[{type:"text",value:"".concat(s.default.t("Article_Topic"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]},{name:s.default.t("js.SWOT_Analysis"),model:"0358k",type:"swot",intro:s.default.t("Analyze_The_Topic"),domTree:[{type:"text",value:"".concat(s.default.t("Analysis_Theme"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]},{name:s.default.t("Pros_Cons_List"),model:"04b26",type:"pointList",intro:s.default.t("Pros_Cons_Analysis"),domTree:[{type:"text",value:"".concat(s.default.t("My_Theme"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]},{name:s.default.t("js.PEST_Analysis"),model:"04b26",type:"pest",intro:s.default.t("Four_Dimension_Analysis"),domTree:[{type:"text",value:"".concat(s.default.t("Analysis_Theme"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]},{name:s.default.t("Organizational_structure"),model:"0358k",type:"mindOrg",intro:s.default.t("Generate_Organizational_Structure"),domTree:[{type:"text",value:"".concat(s.default.t("My_Theme"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]},{name:s.default.t("Fishbone_Analysis"),model:"04b26",type:"fishbone",intro:s.default.t("Generate_Fishbone_Diagram"),domTree:[{type:"text",value:"".concat(s.default.t("Analysis_Theme"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]},{name:s.default.t("Work_Plan"),model:"04b26",type:"work_plan_first",intro:s.default.t("Generate_Work_Plan"),domTree:[{type:"text",value:s.default.t("Create_Work_Plan")},{type:"select",options:[s.default.t("Annual"),s.default.t("Quarterly"),s.default.t("Monthly")]},{type:"text",value:"".concat(s.default.t("Work_Plan"),", ").concat(s.default.t("Industry_Input"),":")},{type:"input",placeholder:s.default.t("Please_Enter")},{type:"text",value:", ".concat(s.default.t("Work_Description"),":")},{type:"input",placeholder:s.default.t("Please_Enter")},{type:"text",value:", ".concat(s.default.t("Work_Objective"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]},{name:s.default.t("Life_Plan"),model:"04b26",type:"life_plan_first",intro:s.default.t("Generate_Life_Plan"),domTree:[{type:"text",value:s.default.t("Create_Life_Plan")},{type:"input",placeholder:s.default.t("Please_Enter")},{type:"text",value:"".concat(s.default.t("Current_Situation"),":")},{type:"input",placeholder:s.default.t("Please_Enter")},{type:"text",value:", ".concat(s.default.t("Life_Objective"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]},{name:s.default.t("Work_Summary"),model:"04b26",type:"work_summary_first",intro:s.default.t("Generate_Work_Summary"),domTree:[{type:"text",value:s.default.t("Create_Work_Plan")},{type:"select",options:[s.default.t("Annual"),s.default.t("Quarterly"),s.default.t("Monthly")]},{type:"text",value:"".concat(s.default.t("Industry_Work_Summary"),":")},{type:"input",placeholder:s.default.t("Please_Enter")},{type:"text",value:", ".concat(s.default.t("Work_Description"),":")},{type:"input",placeholder:s.default.t("Please_Enter")},{type:"text",value:", ".concat(s.default.t("Work_Objective"),":")},{type:"input",placeholder:s.default.t("Please_Enter")}]}],c=t.saveData=new Proxy({type:"continueWrite",step:!1,isValid:!1,writeSelectTopicText:!1,selectTypeCallback:null,aiLoading:!1},{set:function(e,t,n){return e[t]=n,"onChange"!==t&&e.onChange&&e.onChange(t,n),!0}}),d=t.renderDom={init:function(e){var t=e.children("[data-type=topic]");t.length?t.show():((t=$('<div data-type="topic">\n            <div class="ai-topic-content" contenteditable="true"></div>\n            <div class="ai-topic-set">\n                \x3c!--<div class="po-checkbox-group">\n\t\t\t\t\t<div id="ai-topic-footer-select" class="po-checkbox"></div>\n\t\t\t\t\t<span class="small-title">'.concat(s.default.t("Selected_Theme_Scenarios"),'</span>\n\t\t\t\t</div>--\x3e\n                <div id="ai-topic-type-select">\n                    <span class="text-content text-overflow" style="width: 52px;" full-title="').concat(s.default.t("Recommended_Scenarios"),'">').concat(s.default.t("Recommended_Scenarios"),'</span>\n                    <span class="po-diagraming-icons">&#xe72c;</span>\n                </div>\n                <div id="ai-topic-step-select">\n                     <span class="text-content text-overflow" style="width: 52px;" full-title="').concat(s.default.t("Recommended_Scenarios"),'">').concat(s.default.t("Stepwise_Generation"),'</span>\n                    <span class="po-switch size-mini" original-title=').concat(s.default.t("Stepwise_Generation_Mode"),' title-pos="top">\n\t\t\t\t\t\t<span class="po-switch-core"></span>\n\t\t\t\t\t</span>\n                </div>\n                <div id="ai-topic-run" class="disabled">\n                    <span class="text-overflow" full-title="').concat(s.default.t("One-Click_Generation"),'">').concat(s.default.t("One-Click_Generation"),'</span><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-submit-while.svg" alt="">\n                </div>\n            </div>\n        </div>'))).appendTo(e),this.renderType(l[0].type))},renderType:function(e,t){c.selectTypeCallback||(c.type=e);var n=l.find(function(t){return t.type===e}).domTree,i=t||$(".mind-right-aigc .ai-topic-content"),o="",r=1===n.length?"cover":"";r?i.removeAttr("contenteditable"):i.attr("contenteditable","true");var s=n.map(function(t,n){var i=e+"_"+t.type+"_"+n,a=t.placeholder?'placeholder="'.concat(t.placeholder,'"'):"";if("text"===t.type)return t.value;if("input"===t.type)return'<textarea class="input '.concat(r,'" data-id="').concat(i,'" ').concat(a,' contenteditable="false"></textarea>');if("select"===t.type&&t.options&&t.options.length){if(0===$("#"+i).length){var s=t.options.map(function(e){return'<li class="po-menu-item"><div class="po-menu-item-box"><span class="text">'.concat(e,"</span></div></li>")}).join("");o+='<ul id="'.concat(i,'" class="po-menu-small">').concat(s,"</ul>")}return'<span class="select" data-id="'.concat(i,'" contenteditable="false">').concat(t.options[0],"</span>")}}).join("");i.html(s),o&&$(".mind-util-container").append(o);var d=$('<span class="input hide" style="display:none;"></span>').appendTo(i);i.find("textarea").each(function(){var e=$(this);function t(){var t,n,o;if(e.hasClass("cover"))d.addClass("cover"),i.is(":visible")?(t=i.width(),n=parseInt(i.css("minHeight"))-(i.outerHeight()-i.height())):(t=298,n=138),o=t;else if(d.removeClass("cover"),t=e.attr("placeholder-min-w"),n=e.attr("placeholder-min-h"),o=i.is(":visible")?i.width()-8:290,!t){var a=e.attr("placeholder");t=a?d.text(a).outerWidth():0,n=a?d.text(a).outerHeight():0,e.attr("placeholder-min-w",t),e.attr("placeholder-min-h",n)}e.val(e.val().replace(/\n/g,"")),d.css("maxWidth",o).text(e.val());var r=d.outerWidth(),s=d.outerHeight();parseInt(t)>r&&(r=parseInt(t),s=parseInt(n)),e.css({width:r+1,height:s})}e.off("input").on("input",t),t()}),i.find(".select[data-id]").off("click.select").on("click.select",function(){var e=$(this).data("id"),t=$(this);$("#"+e).dropdown({target:t,zindex:3,onSelect:function(e){t.text(e.text())}});var n=t.text().trim();$("#"+e).find("li").each(function(e,t){n===$(t).find(".text").text().trim()&&$(t).menuitem("select")})}),setTimeout(function(){r&&(a.aiPlaceholder.init(i.find("textarea").first()),i.find("textarea").off("keydown.text").on("keydown.text",function(e){13===e.which&&u.doTopicRun()})),i.trigger("input"),i.find("textarea").first().focus()},100)},renderTypeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.type,t=arguments.length>1?arguments[1]:void 0;c.selectTypeCallback=t||null;var n=l.map(function(t){var n="";return t.type===e&&(n="active"),'<li ac="'.concat(t.type,'" class="').concat(n,'"><div class="title">').concat(t.name,'</div><div class="intro">').concat(t.intro,"</div></li>")}).join(""),i=$("<ul>".concat(n,"</ul>"));o.aiDrawer.init({type:"ai-topic-type-list",title:s.default.t("Recommended_Scenarios"),creatDom:i,show:!0,onClose:function(){c.selectTypeCallback=null}}),$(i).children().off("click").on("click",function(){var e=$(this).attr("ac"),t="continueWrite"===e?s.default.t("Recommended_Scenarios"):$(this).children(".title").text();if(c.selectTypeCallback)return c.selectTypeCallback(e,t),void o.aiDrawer.close();$("#ai-topic-type-select .text-content").text(t),d.renderType(e),o.aiDrawer.close(),$("#ai-topic-step-select").toggle("continueWrite"===e)})}},u=t.aiTopic={init:function(e){c.isValid=!1,d.init(e.renderDom),this.event()},getData:function(e,t,n){var i=e||c.type,o=void 0===n?c.step:n,a=l.find(function(e){return e.type===i}).model,r=t||this.getInputVal(i);return r||$.toast({text:s.default.t("Input_Content_Prompt"),type:"secondary"}),{type:i,step:o,model:a,prompt:r}},getInputVal:function(e){if("continueWrite"==e)return $(".mind-right-aigc .ai-topic-content .input").text().trim();var t=$(".mind-right-aigc .ai-topic-content").clone();return t.find(".input").each(function(){$(this).replaceWith($(this).val().trim())}),t.text().trim()},event:function(){var e=this;$("#ai-topic-type-select").off("click").on("click",function(){d.renderTypeList()});var t=$("#ai-topic-step-select .po-switch");t.switch({secondColor:"#D88BDA",change:function(e){c.step=e,t.attr("original-title",e?s.default.t("Single_Generation_Mode"):s.default.t("Stepwise_Generation_Mode"))}}),$("#ai-topic-step-select").off("click").on("click",function(e){$(e.target).closest(".po-switch").length||t.trigger("click")}),$(".mind-right-aigc .ai-topic-content").off("input.topic").on("input.topic",function(){c.isValid=!!e.getInputVal(),e.getInputVal()==s.default.t("Input_Your_Topic_Or_Question")&&(c.isValid=!1),$("#ai-topic-run").toggleClass("disabled",!c.isValid)}).off("keydown.topic").on("keydown.topic",function(e){e.stopPropagation()}),$("#ai-topic-run").off("click").on("click",this.doTopicRun)},doTopicRun:function(){var e=u.getData();if(e){c.aiLoading=!0,(e=$.extend({},e)).step&&"continueWrite"===e.type&&(e.model="levelGenerate",e.level=0);var t=l.find(function(t){return e.type===t.type});e.collectInfo={triggerPos:"AI右侧面板-一键生成按钮",collectData:{recommendScene:t.name,fnType:s.default.t("One_Sentence_Generation"),AIPower:s.default.t("One-Sentence_Creation"),triggerPos:"AI右侧面板-一键生成按钮"}},"continueWrite"==e.type&&(e.collectInfo.collectData={createType:e.step?s.default.t("Stepwise_Generation"):s.default.t("Single_Generation")}),(0,r.AIRun)(e,function(){c.aiLoading=!1})}},writeSelectTopicText:function(){if(c.writeSelectTopicText&&"continueWrite"===c.type){var e,t=null===(e=editorGlobal.mindMap)||void 0===e?void 0:e.renderer.getSelectedTopic();if(t&&t.getData().title){var n=t.getData().title||"",i=$("<span/>").html(n).text().trim();$(".mind-right-aigc .ai-topic-content textarea.input").eq(0).val(i),$(".mind-right-aigc .ai-topic-content").trigger("input")}}}}},49306:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.saveData=t.aiTranslate=void 0,n(38297),n(4790);var o=n(21642),a=n(15916),r=i(n(32483)),s=t.saveData=new Proxy({loading:!1,translateType:"en",sendData:"",preList:{},nextList:{},aiLoading:!1},{set:function(e,t,n){return e[t]=n,"onChange"!==t&&e.onChange&&e.onChange(t,n),!0}}),l=t.aiTranslate={aiTranslateList:[{type:"en",name:r.default.t("English")},{type:"zh",name:r.default.t("Simplified_Chinese")},{type:"zh-TW",name:r.default.t("Traditional_Chinese")},{type:"ja",name:r.default.t("Japanese")},{type:"ko",name:r.default.t("Korean")},{type:"fr",name:r.default.t("French")},{type:"es",name:r.default.t("Spanish")},{type:"it",name:r.default.t("Italian")},{type:"de",name:r.default.t("German")},{type:"tr",name:r.default.t("Turkish")},{type:"ru",name:r.default.t("Russian")},{type:"pt",name:r.default.t("Portuguese")},{type:"vi",name:r.default.t("Vietnamese")},{type:"id",name:r.default.t("Indonesian")},{type:"th",name:r.default.t("Thai")},{type:"ms",name:r.default.t("Malay")},{type:"ar",name:r.default.t("Arabic")}],init:function(){for(var e=this,t='<ul class="ai-lang-list">',n=0;n<this.aiTranslateList.length;n++)t+='<li class="text-overflow" full-title="'.concat(this.aiTranslateList[n].name,'" data-type="').concat(this.aiTranslateList[n].type,'"><span class="po-diagraming-icons" >&#xe7e11;</span>').concat(this.aiTranslateList[n].name,"</li>");t+="</ul>",a.aiDrawer.init({type:l,title:r.default.t("Full_Translation"),creatDom:t,show:!0}),$(".ai-lang-list").off("click.li").on("click.li","li",function(){var t=$(this).data("type");a.aiDrawer.close({type:l}),e.doTranslate(t)})},doTranslate:function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.init(),s.aiLoading=!0,editorGlobal.mindMap.setReadonly(!0,{pageBox:!1,outline:!1,template:!1}),e.next=5,o.aiUtils.getTextList();case 5:s.preList=e.sent,s.translateType=t,s.sendData={prompt:{},type:s.translateType,model:"translate",topicIds:"all",isSave:!1},s.sendData.onMessage=function(){var e=C(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{"string"==typeof t&&(n=JSON.parse(t),s.nextList=Object.assign(s.nextList,n))}catch(t){}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s.sendData.collectInfo={triggerPos:"AI右侧面板-",collectData:{fnType:"内容处理-帮改",AIPower:"全文翻译"}},(0,o.AIRun)(s.sendData,function(e){"success"==e.type?($(".ai-translate-dialog").show(),editorGlobal.mindMap.updateConfig({enableLinkToTopic:!1,enableLinkToPage:!1})):(editorGlobal.mindMap.setReadonly(!1),s.aiLoading=!1)}),this.initEvent();case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),initEvent:function(){$(".ai-translate-dialog ").off("click.ai-btn").on("click.ai-btn",".ai-btn",function(){switch($(this).data("type")){case"cancel":s.themeList=[],o.aiRender.renderTrans(s.preList,!1,s.preList),$(".ai-translate-dialog").hide(),s.aiLoading=!1,editorGlobal.mindMap.setReadonly(!1),editorGlobal.mindMap.updateConfig({enableLinkToTopic:!0,enableLinkToPage:!0});break;case"save":o.aiRender.renderTrans(s.nextList,!0,s.preList),$(".ai-translate-dialog").hide(),s.aiLoading=!1,editorGlobal.mindMap.setReadonly(!1),editorGlobal.mindMap.updateConfig({enableLinkToTopic:!0,enableLinkToPage:!0})}}),$(".ai-translate-dialog").off("click.li").on("click.li",".processed-li",function(){var e=$(this).index();$(".ai-translate-dialog ul li").removeClass("active"),$(this).addClass("active"),0==e?($(" .ai-translate-dialog .right .primary").addClass("disabled"),o.aiRender.renderTrans(s.preList,!1,s.preList)):($(" .ai-translate-dialog .right .primary").removeClass("disabled"),o.aiRender.renderTrans(s.nextList,!1,s.preList))}),$(".ai-translate-dialog ul li").removeClass("active"),$(".ai-translate-dialog ul li[styleIndex=after]").addClass("active")}},c={init:function(){var e=$(".ai-translate-dialog");e.length||(e=$('<div class="ai-translate-dialog ai-centre-dialog">\n                <div class="ai-header">\n                    <div class="left">\n                        <div class="loading-title"><span class="po-diagraming-icons po-menu-icon">&#xe8c2;</span><span class="title">AI'.concat(r.default.t("Translation"),'</span></div>\n                    </div>\n                    <div class="right">\n\t\t\t\t\t\t<button class="ai-btn" data-type="cancel"><span class="po-diagraming-icons" >&#xe80c;</span>').concat(r.default.t("Discard"),'</button>\n\t\t\t\t\t\t<button class="ai-btn primary" data-type="save"><span class="po-diagraming-icons" >&#xe974;</span>').concat(r.default.t("Use"),'</button>\n                    </div>\n                </div>\n\t\t\t\t<div class="ai-content">\n\t\t\t\t\t<ul class="theme-list">\n\t\t\t\t\t\t<li styleIndex="before" class="processed-li"> ').concat(r.default.t("Translate_Before"),' </li>\n\t\t\t\t\t\t<li styleIndex="after" class="processed-li active"> ').concat(r.default.t("Translate_After")," </li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n            </div>")).appendTo("body"))}}},92994:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.saveData=t.aiWeblink=void 0,n(27531),n(82403),n(12638),n(38887),n(13253),n(47958),n(69268),n(86837),n(54938),n(15400);var o=n(46560),a=i(n(32483)),r=[{type:"carding",val:"".concat(a.default.t("Webpage_Introduction"),"，").concat(a.default.t("Webpage_Mind_Map")),matchList:["".concat(a.default.t("Webpage_Introduction"),"，").concat(a.default.t("Webpage_Mind_Map"))]},{type:"analysis",val:"".concat(a.default.t("Webpage_Summary"),"，").concat(a.default.t("Webpage_Mind_Map")),matchList:["".concat(a.default.t("Webpage_Summary"),"，").concat(a.default.t("Webpage_Mind_Map"))]},{type:"viewpoint",val:"".concat(a.default.t("Webpage_Content_Outline"),"，").concat(a.default.t("Webpage_Mind_Map")),matchList:["".concat(a.default.t("Webpage_Content_Outline"),"，").concat(a.default.t("Webpage_Mind_Map"))]}],s=t.saveData=new Proxy({isValid:!1},{set:function(e,t,n){return e[t]=n,"onChange"!==t&&e.onChange&&e.onChange(t,n),!0}});t.aiWeblink={init:function(e){s.isValid=!1,function(e){if(!e.children("[data-type=weblink]").length){if(0===$("#ai-weblink-type-list").length){var t=r.map(function(e){return'<li class="po-menu-item" ac="'.concat(e.type,'">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(e.val,"</span>\n                </div>\n            </li>")}).join("");t='<ul id="ai-weblink-type-list" class="po-menu-small po-ai-creat-select-menu">'.concat(t,"</ul>"),$(".mind-util-container").append(t)}var n=$('<div data-type="weblink">\n            <div class="ai-weblink-content">\n\t\t\t\t<span class="ai-weblink-bar">\n\t\t\t\t\t<img src="'.concat(staticBasePath,'/assets/images/aigc3.0/ai-link.svg" alt="">\n\t\t\t\t\t<div class="ai-link-input-box">\n\t\t\t\t\t\t<textarea class="ai-weblink-link"  placeholder=').concat(a.default.t("URL_Input"),' type="text"></textarea>\n\t\t\t\t\t\t<span class="clear po-diagraming-icons">&#xe995;</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="tips-error">').concat(a.default.t("URL_Parsing_Error"),'</span>\n\t\t\t\t</span>\n            </div>\n\t\t\t<div class="ai-file-tips">').concat(a.default.t("Input_Prompt"),'</div>\n            <div class="ai-weblink-footer">\n                <input class="ai-weblink-input" type="text" placeholder="').concat(a.default.t("Webpage_Introduction"),"，").concat(a.default.t("Webpage_Mind_Map"),'">\n                <div class="ai-weblink-select-type po-diagraming-icons">&#xe72c;</div>\n            </div>\n        </div>'));n.appendTo(e),setTimeout(function(){n.find(".ai-weblink-link").first().focus(),o.aiPlaceholder.init($(".ai-link-input-box .ai-weblink-link"))},300)}}(e.renderDom),this.event()},getData:function(e,t){var n={prompt:{},model:"urlDoc"};if(n.prompt.url=t||$(".ai-weblink-link").val().trim(),n.prompt.url.match(/^[a-zA-Z\d]+:\/\//)||(n.prompt.url="https://"+n.prompt.url),this.isUrl(n.prompt.url)){$(".ai-weblink-content .tips-error").hide();var i=e||$(".ai-weblink-input").val();""==i&&(i="".concat(a.default.t("Webpage_Introduction"),"，").concat(a.default.t("Webpage_Mind_Map")));var o=r.find(function(e){return e.val===i||e.matchList&&e.matchList.includes(i)});return o?n.type=o.type:n.prompt.text=i,n}$(".ai-weblink-content .tips-error").show()},event:function(){$(".ai-weblink-content").off("click.focus").on("click.focus",function(){$(".ai-weblink-link").focus()}),$(".ai-weblink-link").off("input.height").on("input.height",function(){$(this).css("height","auto"),$(this).css("height",$(this).prop("scrollHeight")-20+"px")}).trigger("input"),$(".ai-weblink-link").off("input.width").on("input.width",function(){var e=$(this).val(),t=$("<span></span>").css({font:$(this).css("font"),position:"absolute",opacity:0}).text(e).appendTo(".ai-weblink-content"),n=t.outerWidth();t.remove(),$(this).css("width",n+1),$(".ai-link-input-box .clear").toggleClass("show",!!e),s.isValid=!!e}),$(".ai-link-input-box .clear").off("click").on("click",function(){$(".ai-weblink-link").val("").trigger("input").focus()}),$(".ai-weblink-select-type").button({onClick:function(e,t){$("#ai-weblink-type-list").dropdown({target:t,zIndex:3,position:"right,top",onSelect:function(e){var t=e.attr("ac"),n=r.find(function(e){return e.type===t}).val;$(".ai-weblink-input").val(n)}})}}),$(".ai-weblink-input").off("mouseup focus input").on("mouseup",function(e){e.stopPropagation()}).on("focus",function(){$(this).val().trim()||$(".ai-weblink-select-type").trigger("click")}).on("input",function(){$(this).val().trim()&&$("#ai-weblink-type-list").dropdown("close")})},isUrl:function(e){return/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(e)}}},50043:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.AIAction=void 0,n(69268),n(86837);var o=n(27251),a=n(63898),r=n(70400),s=n(3578),l=n(42596),c=n(5263),d=n(72011),u=i(n(32483)),p=t.AIAction=function(e,t){var n=editorGlobal.mindMap.renderer.getSelectedTopic(),i=n?n.getData():{};if(["insertTopic","insertParent","insertChild","insertLink","insertImage","insertEquation","insertCodeBlock","insertFile","insertNote","insertComment","insertIcon","insertTag","insertSummary","insertBoundary","focus"].indexOf(e)>-1&&!n)$.toast({type:"error",text:u.default.t("Unselected_Topic")});else switch(e){case"openHistory":$("#header-file-menu").dropdown("close"),a.mindCorner.showCorner("history","left",function(){0==$(".history-con-list").children().length&&r.historyUI.loadHistorys()});break;case"closeHistory":a.mindCorner.hideCornerPos("history","left");break;case"sliders":editorGlobal.mindMap.setReadonly(!0,{copyShape:!1}),editorGlobal.mindMap.emit("hideElements"),editorGlobal.mindMap.resize(),editorGlobal.mindMap.renderer.clearSelectedTopic(),s.presenter.slidersLoading(!0),s.presenter.getSliders(function(){setTimeout(function(){s.presenter.init($(".mind-container"))},160)});break;case"moveToRootTopic":editorGlobal.mindMap.emit("move_topic_to_center");break;case"showNavigation":editorGlobal.mindMap.emit("mind_navigator_show");break;case"closeNavigation":editorGlobal.mindMap.emit("mind_navigator_hide");break;case"fullScreen":editorGlobal.mindMap.execCommand("enterFullScreen");break;case"addCanvas":l.poPagination.checkYunVersion(function(){l.poPagination.addPage()});break;case"selectAll":editorGlobal.mindMap.execCommand("SELECT_ALL");break;case"expandTopics":if(t&&t.level)return void editorGlobal.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL",t.level,"expand");n&&n.topicData.collapsed&&editorGlobal.mindMap.execCommand("TOGGLE_TOPIC_EXPAND",n);break;case"collapsedTopics":if(t&&t.level)return void editorGlobal.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL",t.level,"collapsed");n&&!n.topicData.collapsed&&editorGlobal.mindMap.execCommand("TOGGLE_TOPIC_EXPAND",n);break;case"topicAlign":var p=$("#mind-topic-align").parent().find(".po-checkbox"),h=!p.hasClass("checked");h&&(p.addClass("checked"),editorGlobal.mindMap.execCommand("UPDATE_SAME_LEVEL_TOPIC_ALIGN",h));break;case"insertTopic":editorGlobal.mindMap.execCommand("INSERT_TOPIC");break;case"insertParent":editorGlobal.mindMap.execCommand("INSERT_PARENT_TOPIC");break;case"insertChild":editorGlobal.mindMap.execCommand("INSERT_CHILD_TOPIC");break;case"insertLink":editorGlobal.mindMap.emit("openUrlLinkDlg");break;case"insertImage":editorGlobal.mindMap.emit("openInsertImageDlg");break;case"insertEquation":editorGlobal.mindMap.emit("openEquationDlg");break;case"insertCodeBlock":editorGlobal.mindMap.execCommand("SET_CODEBLOCK",{type:"add",data:[n]});break;case"insertFile":var m=i.file;i.link&&"file"==i.link.type&&(m=i.link),c.insert.link.render({target:$(n.group.node),link:m,type:"file"},function(e,t){"remove"==t?editorGlobal.mindMap.emit("removeLink","file",n):editorGlobal.mindMap.emit("setLink",e,n,t)});break;case"insertNote":editorGlobal.mindMap.emit("openCorner","note");break;case"insertComment":editorGlobal.mindMap.emit("openCorner","comment"),d.comment.Controller.editPannel.render("toolbar");break;case"insertIcon":editorGlobal.mindMap.emit("openCorner","icon"),editorGlobal.mindMap.emit("renderIconsList",$(".mind-right-detail-icons"));break;case"insertTag":editorGlobal.mindMap.emit("openCorner","tag");break;case"insertSummary":case"insertBoundary":editorGlobal.mindMap.execCommand("INSERT_BOUNDARY");break;case"focus":editorGlobal.mindMap.execCommand("FOCUS");break;default:(0,o.injectExtraAsynCall)("onAIAction",{action:e,params:t},function(){})}};window.AIAction=p},15916:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.aiDrawer=void 0,n(69268),n(86837);var o,a=i(n(32483)),r={},s=t.aiDrawer={init:function(e){0===(o=$(".mind-right-aigc .aigc-drawer")).length&&(o=$('<div class="aigc-drawer-mask">\n                <div class="aigc-drawer">\n                    <div class="drawer-header"><span class="title"></span><span class="po-tool-button po-diagraming-icons close">&#xe6b9;</span></div>\n                    <div class="drawer-content"></div>\n                </div>\n            </div>').appendTo(".mind-right-aigc").children(),l()),e.type&&e.creatDom?(r[e.type]=e,o.attr("data-type",e.type),o.find(".drawer-header .title").html(e.title),o.find(".drawer-content").html(e.creatDom),e.show&&this.show(e.type)):alert("aiDrawer".concat(a.default.t("Initialized_Fail")))},show:function(e){r[e]&&o?(o.attr("data-type")!==e&&(o.attr("data-type",e),o.find(".drawer-header .title").html(r[e].title),o.find(".drawer-content").html(r[e].creatDom)),setTimeout(function(){o.parent().addClass("show")},10)):alert("aiDrawer"+e+a.default.t("Not_Initialized"))},close:function(){var e=o.data("type");o.parent().removeClass("show"),r[e]&&r[e].onClose&&r[e].onClose()}},l=function(){o.parent().off("click").on("click",function(e){(e.target===this||$(e.target).hasClass("close"))&&s.close()})}},43874:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.aiFileUpload=void 0,n(27531),n(24932),n(4790),n(38887),n(69268),n(86837),n(54938),n(19268),n(14237),n(79320);var o=n(16766),a=i(n(32483)),r={document:{accept:[".pdf",".txt",".md",".csv",".doc",".ppt"],tips:"".concat(a.default.t("Support")," 5M ").concat(a.default.t("Within")," pdf、txt、md、csv、doc、<br>ppt、mp3、m4a、wav、pcm").concat(a.default.t("js.File_on")),icon:staticBasePath+"/assets/images/aigc3.0/file_doc.svg",maxSize:5},image:{accept:[".png",".jpg",".jpeg",".bmp"],tips:"".concat(a.default.t("Support")," 2M ").concat(a.default.t("Within")," JPG、JPEG、PNG、BMP ").concat(a.default.t("js.File_on")," "),icon:staticBasePath+"/assets/images/aigc3.0/file_img.svg",maxSize:2},audio:{accept:[".mp3",".m4a",".wav",".pcm"],tips:"".concat(a.default.t("Support")," 2M ").concat(a.default.t("Within")," MP3、MP4、 WAV、 AVI").concat(a.default.t("js.File_on")),icon:staticBasePath+"/assets/images/aigc3.0/file_audio.svg",maxSize:5}},s={pdf:staticBasePath+"/assets/images/aigc3.0/file_pdf.svg"},l={typeConfig:null,type:[],callbackFn:null,renderDom:null,file:null,fileName:"",fileType:"",fileSize:0},c=t.aiFileUpload={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof e.type&&(e.type=[e.type]),l.type=e.type||[],l.typeConfig=this.getTypeConfig(e.type),l.typeConfig?(l.callbackFn=e.callback||null,l.renderDom=e.renderDom||null,l.file=null,function(e){var t=l.typeConfig,n=l.type.length>1?staticBasePath+"/assets/images/aigc3.0/file_doc_audio.svg":t.icon,i=$('<div class="ai-file-upload-box">\n            <div class="ai-file-upload">\n                <img src="'.concat(n,'" alt="">\n                <div class="tip-box">\n                    <span class="tips">').concat(a.default.t("File_Upload"),'<label class="ai-upload-btn" for="ai-file-upload-input">').concat(a.default.t("Click_Upload"),'</label></span>\n                    <span class="po-diagraming-icons" original-title="').concat(t.tips,'" title-pos="top" title-translate-x="-58">&#xe6c7;</span>\n                </div>\n                <input id="ai-file-upload-input" type="file" accept="').concat(t.accept.join(","),'">\n            </div>\n            <div class="ai-file-drag">\n                <img src="').concat(staticBasePath,'/assets/images/aigc3.0/file_upload.svg" alt="">\n                <span class="tips">').concat(a.default.t("Release_Upload"),'</span>\n            </div>\n            <div class="ai-file-show">\n\t\t\t\t<span class="ai-img-box">\n                \t<img src="" alt="">\n\t\t\t\t\t<span class="clear po-diagraming-icons" original-title="').concat(a.default.t("js.Delete"),'" title-pos="top">&#xe995;</span>\n\t\t\t\t</span>\n                <div class="ai-file-data">\n                    <span class="name"></span>\n                </div>\n            </div>\n            <span class="tips-error">').concat(a.default.t("File_Format_Error"),'</span>\n        </div>\n\t\t<div class="ai-file-tips">').concat(a.default.t("Input_Prompt"),"</div>\n\t\t"));e.html(i)}(e.renderDom),this.event()):$.toast({text:a.default.t("Upload_Type_Error"),type:"error"})},event:function(){var e=this,t=l.renderDom;$("#ai-file-upload-input").off("change").on("change",function(){c.handleFiles(this.files[0]),$(this).val("")}),t.find(".ai-file-upload-box").off("dragenter dragover dragleave drop").on("dragover",function(e){e.preventDefault(),e.stopPropagation()}).on("dragenter",function(e){e.preventDefault(),e.stopPropagation(),$(this).addClass("dragover")}).on("dragleave",function(e){e.preventDefault(),e.stopPropagation();var t=e.relatedTarget;$(t).closest($(this)).length||$(this).removeClass("dragover")}).on("drop",function(e){e.preventDefault(),e.stopPropagation(),$(this).removeClass("dragover");var t=e.originalEvent.dataTransfer.files;c.handleFiles(t[0])}),t.find(".ai-file-show .clear").off("click").on("click",function(){l.file=null,t.find(".ai-file-upload").show(),t.find(".ai-file-show").hide(),e.errorTip(),l.callbackFn&&l.callbackFn()})},getTypeConfig:function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!r[i])return null}}catch(l){n.e(l)}finally{n.f()}var o={},a=e[0],s=r[a];return o.tips=s.tips,o.icon=s.icon,o.accept=e.reduce(function(e,t){return e.concat(r[t].accept)},[]),o.maxSize=Math.max.apply(Math,h(e.map(function(e){return r[e].maxSize}))),o},getFileCategory:function(e){return Object.keys(r).find(function(t){return r[t].accept.includes(e)})},handleFiles:function(){var e=C(k().mark(function e(t){var n,i,c,d,u,p,h,m,f;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.typeConfig,i=n.accept,c=n.maxSize,d=t.name,u=d.slice(d.lastIndexOf(".")).toLowerCase(),!i||!i.length||i.includes(u)){e.next=3;break}return e.abrupt("return",void this.errorTip(a.default.t("Not_Support_format")));case 3:if(p=t.size,!(c&&p>1048576*c)){e.next=6;break}return e.abrupt("return",void this.errorTip(a.default.t("File_Size_Limit")+c+"M"));case 6:if(this.errorTip(),h=this.getFileCategory(u),l.fileCategory=h,l.file=t,l.fileName=d,l.fileType=u,l.fileSize=p,l.callbackFn&&l.callbackFn({file:t,fileName:d,fileType:u,fileSize:p,fileCategory:h}),m=l.renderDom,s[u.slice(1)]?m.find(".ai-file-show img").attr("src",s[u.slice(1)]):m.find(".ai-file-show img").attr("src",r[h].icon),m.find(".ai-file-show .name").text(d),m.find(".ai-file-upload").hide(),m.find(".ai-file-show").css("display","flex"),"image"!=h){e.next=20;break}if(!t){e.next=17;break}return e.next=14,o.aiImage.fileToBase64(t);case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0="";case 18:f=e.t0,m.find(".ai-file-show img").attr("src",f),m.find(".ai-file-show img").css({"margin-bottom":"16px"});case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getData:function(){if(l.file)return{file:l.file,fileName:l.fileName,fileType:l.fileType,fileSize:l.fileSize,fileCategory:l.fileCategory};$.toast({type:"error",text:a.default.t("File_Upload_Alert")})},errorTip:function(e){var t=l.renderDom;e?t.find(".tips-error").text(e).show():t.find(".tips-error").hide()}}},46560:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.aiPlaceholder=void 0,n(69268),n(86837);var o=i(n(32483));t.aiPlaceholder={init:function(e){var t=$(e).attr("placeholder"),n=$(e).css("line-height"),i=$(e).position();$(e).removeAttr("placeholder"),t||(t=o.default.t("Input_Content_Prompt"));var a='<span class="ai-placeholder-box" style="line-height: '.concat(n,"; left: ").concat(i.left,"px; top: ").concat(i.top,'px;">\n\t\t\t').concat(t,"\n\t\t</span>");$(a).insertAfter(e),$(e).off("input.placeholder").on("input.placeholder",function(){var e=$(this).val();$(this).parent().find(".ai-placeholder-box").toggle(!e)})}}},38531:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.myFileList=void 0,n(61894),n(4790),n(37212),n(69268),n(86837),n(84889),n(54938);var o=i(n(32483)),a={controller:{loading:!1,curPage:1,pageCount:1},init:function(e){var t=$('<div class="ai-my-file-box" style="width: 100%;height: 100%;overflow-x:hidden;overflow-y:auto;scrollbar-width:thin;"><ul class="ai-my-file-list"></ul></div>');e.html(t),this.renderList()},renderList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.controller;if(!(n.loading||n.pageCount<t)){this.controller.loading=!0;var i={category:r.type,page:t,pageSize:30};injectExtraAsynCall("onServerApi",{apiName:"getUserFiles",params:i},function(i){var o,a=null===(o=i.data)||void 0===o?void 0:o.pageInfo;if(a&&a.elements){n.pageCount=a.pageCount,n.curPage=a.curPage;var r=e.getListHtml(a.elements);1===t?$(".ai-my-file-list").html(r):$(".ai-my-file-list").append(r),n.loading=!1}})}},getListHtml:function(e){return e.map(function(e){return'<li data-chart-id="'.concat(e.chartId,'">').concat(e.title,"</li>")}).join("")}},r={type:"mind",callbackFn:null,renderDom:null,chartId:"",fileName:"",fileType:"",fileSize:0};t.myFileList={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.callbackFn=e.callback||null,r.type=e.type||"mind",r.renderDom=e.renderDom||null,r.chartId="",a.init(e.renderDom),this.event()},event:function(){$(".ai-my-file-box").off("scroll").on("scroll",function(){var e=$(this).scrollTop(),t=$(this)[0].scrollHeight;e+$(this).outerHeight()>=t-10&&a.renderList(a.controller.curPage+1)}),$(".ai-my-file-list").off("click").on("click","li",function(){r.chartId=$(this).data("chart-id"),$(this).css("background","gray").siblings().removeAttr("style")})},getData:function(){var e=C(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.chartId){e.next=2;break}return e.abrupt("return",void $.toast({type:"error",text:o.default.t("File_Not_Selected")}));case 2:return e.next=4,this.getDef(r.chartId);case 4:n=e.sent,e.prev=5,n=JSON.parse(n),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",void $.toast({type:"error",text:o.default.t("File_Info_Error")}));case 12:if("def"!==t){e.next=14;break}return e.abrupt("return",n);case 14:if("text"!==t){e.next=16;break}return e.abrupt("return",this.getDefText(n));case 16:if("theme"!==t){e.next=20;break}return e.next=19,this.getDefTheme(n);case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},e,this,[[5,9]])}));return function(t){return e.apply(this,arguments)}}(),getDef:function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){injectExtraAsynCall("onServerApi",{apiName:"getChartDef",params:{chartId:t}},function(t){e(t||"")})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getDefText:function(e){var t=[];!function e(n){n.title&&t.push(n.title),n.children&&n.children.length&&n.children.forEach(e),n.leftChildren&&n.leftChildren.length&&n.leftChildren.forEach(e),n.freeChildren&&n.freeChildren.length&&n.freeChildren.forEach(e)}(e);var n=$("<div></div>").html(t.join(" "));return n.find("span.equation-text").remove(),n.text()},getDefTheme:function(){var e=C(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.theme,e.abrupt("return","string"==typeof n&&n.startsWith("customise_")?new Promise(function(e){injectExtraAsynCall("onServerApi",{apiName:"getMindTheme",params:{id:n}},function(t){t&&t.theme?e(JSON.parse(t.theme)):e("")})}):n);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},82647:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.wsSend=void 0,n(5682),n(37212);var i=n(21642);t.wsSend=function(e,t){var n=new WebSocket(i.aiServer.config.socketUrl);n.onopen=function(){var t=$.extend({uid:editorGlobal.userObj.userId,prompt:"token"},e);n.send(JSON.stringify(t))},n.onmessage=function(e){var i=e.data;i.startsWith("{msg:end")?n.close():"[DONE]"!==i&&t&&t(i)}}},86474:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.copilot=void 0,n(27531),n(61894),n(65528),n(4790),n(82403),n(33809),n(4829),n(38887),n(6284),n(30940),n(37212),n(47958),n(48915),n(69268),n(58500),n(86837),n(54938),n(88256);var o,a=i(n(6535)),r=n(82647),s=n(21642),l=n(32582),c=n(16766),d=n(70694),u=n(58886),p=n(23634),h=n(92994),m=n(70278),f=n(49306),g=n(43874),v=n(84637),b=n(50043),y={type:"generate",topicType:"",translateType:null,fileData:null,themeList:[]},x=t.copilot={init:function(){_.init(),this.event(),o=new v.SpeechService({onMessage:function(e){x.inputInsertText(e,!0)},onError:function(e,t){"object"==w(e)&&(e=""),e&&$.toast({text:e,type:"error"}),o.stop(),$(".po-ai-copilot .copilot_footer .speech_input").removeClass("loading"),$(".mind-right-aigc").removeClass("disabled")}}),this.inputFocus(),$(".po-ai-copilot").addClass("active"),$(".mind-corner > .close").hide()},event:function(){var e=this,t=this;$(".po-ai-copilot .ai-top-title .po-diagraming-icons").off().on("click",function(){$(".po-ai-copilot").removeClass("active"),$(".mind-corner > .close").show()});var n=$(".po-ai-copilot .copilot_footer .copilot_input_content");$(".po-ai-copilot .copilot_footer .top_nav").off("click").on("click","span",function(){var e=this;switch($(this).data("type")){case"common":T.welcome();break;case"cue":l.renderDom.renderTypeList(y.topicType,function(i,o){y.type="topic",y.topicType=i,$(e).text(o),l.renderDom.renderType(i,n),t.inputChange()})}}),n.off("keydown.copilot input.copilot focus.copilot blur.copilot focus.textarea blur.textarea").on("keydown.copilot",function(e){e.stopPropagation(),"Enter"!==e.key||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||(e.preventDefault(),$(".po-ai-copilot .copilot_footer .send").trigger("click"))}).on("input.copilot",this.inputChange.bind(t)).on("focus.copilot",function(){$(this).addClass("focus")}).on("blur.copilot",function(){$(this).removeClass("focus")}).on("focus.textarea","textarea",function(){$(this).addClass("focus")}).on("blur.textarea","textarea",function(){$(this).removeClass("focus")}),$(".po-ai-copilot ").off("click").on("click",".reupload",function(){$(".copilot_content_tip").remove(),$(".box-footer-upload-con").click()}),$(".po-ai-copilot .copilot_footer .input_box").off("dragenter dragover dragleave drop").on("dragover",function(e){e.preventDefault(),e.stopPropagation()}).on("dragenter",function(e){e.preventDefault(),e.stopPropagation(),$(this).addClass("dragover")}).on("dragleave",function(e){e.preventDefault(),e.stopPropagation();var t=e.relatedTarget;$(t).closest($(this)).length||$(this).removeClass("dragover")}).on("drop",function(e){e.preventDefault(),e.stopPropagation(),$(this).removeClass("dragover");var n=e.originalEvent.dataTransfer.files;t.fileUpload(n[0])}),$(".po-ai-copilot .file_upload").off("change").on("change",C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fileUpload(this.files[0]);case 2:$(this).val("");case 3:case"end":return e.stop()}},e,this)}))),$(".po-ai-copilot .copilot_footer .speech_input").off("mousedown").on("mousedown",function(e){e.preventDefault(),$(this).hasClass("loading")?(o.stop(),$(this).removeClass("loading"),$(".mind-right-aigc").removeClass("disabled")):($(this).addClass("loading"),$(".mind-right-aigc").addClass("disabled"),t.getInsertState(),o.start())}),$(".po-ai-copilot .copilot_footer .send").off().on("click",C(k().mark(function e(){var i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!$(this).hasClass("disabled")&&!$(this).hasClass("loading")){e.next=2;break}return e.abrupt("return");case 2:if(i=t.getInputVal(),n.removeAttr("contenteditable").html('<textarea class="input cover" placeholder='.concat(a.default.t("Assistant_Message"),"~></textarea>")),t.inputChange(),e.t0=t.sendTextCheck(i),!e.t0){e.next=13;break}return T.text.render(i,{isMe:!0}),T.text.close(),T.loading(),e.next=12,S.send(i);case 12:t.inputFocus();case 13:case"end":return e.stop()}},e,this)}))),$(".po-ai-copilot .copilot_footer .generate-stop").off().on("click",function(){$(e).addClass("disabled"),S.socketClose()}),$(".copilot_content").off("scroll").on("scroll",function(){var e=$(this)[0];e.scrollHeight-e.scrollTop<=e.clientHeight+50||(x.autoScroll=!1)}),$(".copilot_content").off("click.welcome").on("click.welcome",".welcome [data-type]",C(k().mark(function e(){var i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=$(this).data("type"),e.next="topic"===e.t0?3:"generate"===e.t0?6:"translate"===e.t0?9:"optimizeStyle"===e.t0?11:17;break;case 3:return i=$(this).data("topic-type"),T.text.render("👇 ".concat(a.default.t("Keyword_Prompt"),"~"),{hideSet:!0}),T.text.close(),y.type="topic",y.topicType=i,l.renderDom.renderType(i,n),t.inputChange(),x.scrollToBottom(!0),e.abrupt("break",17);case 6:return o=$(this).text(),y.type="generate",n.html(o),t.inputChange(),$(".po-ai-copilot .copilot_footer .send").trigger("click"),e.abrupt("break",17);case 9:return T.text.render(a.default.t("Translation"),{isMe:!0}),T.text.close(),T.renderTrans(),e.abrupt("break",17);case 11:return y.type="optimizeStyle",T.text.render(a.default.t("Beautify_Style_Map"),{isMe:!0}),T.text.close(),T.loading(),e.next=17,S.send();case 17:case"end":return e.stop()}},e,this)}))),$(".copilot_content").off("click.set").on("click.set",".copilot_content_item_set [data-type]",C(k().mark(function e(){var t,n,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=$(this).data("type"),e.next="stop"===e.t0?3:"insert"===e.t0?5:"reload"===e.t0?9:16;break;case 3:return S.socketClose(),e.abrupt("break",16);case 5:return $(this).parent(".copilot_content_item_set").remove(),t=S.config.historyOutputStr,(0,s.AIRun)({prompt:{content:t},type:"insertFull",isCopilot:!0}),e.abrupt("break",16);case 9:return n=$(this).parents(".copilot_content_item"),i=n.data("id"),n.remove(),S.historyDelete(i),T.loading(),e.next=15,S.send(null,!0);case 15:return e.abrupt("break",16);case 16:case"end":return e.stop()}},e,this)}))),$(".copilot_content").off("click.img").on("click.img",".img-set [data-type]",C(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(this).parent().addClass("disabled"),t=$(this).children(".text").text(),T.text.render(t,{isMe:!0}),T.text.close(),T.loading(),e.next=7,S.send(t);case 7:case"end":return e.stop()}},e,this)}))),$(".copilot_content").off("click.doc").on("click.doc",".doc-set [data-type]",C(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(this).parent().addClass("disabled"),t=$(this).children(".text").text(),T.text.render(t,{isMe:!0}),T.text.close(),T.loading(),e.next=7,S.send(t);case 7:case"end":return e.stop()}},e,this)}))),$(".copilot_content").off("click.longtext").on("click.longtext",".long-text-set [data-type]",C(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(this).parent().addClass("disabled"),t=$(this).children(".text").text(),T.text.render(t,{isMe:!0}),T.text.close(),T.loading(),e.next=7,S.send(t);case 7:case"end":return e.stop()}},e,this)}))),$(".copilot_content").off("click.weblink").on("click.weblink",".weblink-set [data-type]",C(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(this).parent().addClass("disabled"),t=$(this).children(".text").text(),T.text.render(t,{isMe:!0}),T.text.close(),T.loading(),e.next=7,S.send(t);case 7:case"end":return e.stop()}},e,this)}))),$(".copilot_content").off("click.audio").on("click.audio",".audio-set [data-type]",C(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(this).parent().addClass("disabled"),t=$(this).children(".text").text(),T.text.render(t,{isMe:!0}),T.text.close(),T.loading(),e.next=7,S.send(t);case 7:case"end":return e.stop()}},e,this)}))),$(".copilot_content").off("click.trans").on("click.trans",".trans-set .select",C(k().mark(function e(){var t,n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=$(this).data("id"),n=$(this),$("#"+t).dropdown({target:n,zindex:3,onSelect:function(){var e=C(k().mark(function e(t){var i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.type="translate",y.translateType=t.attr("ac"),i=t.text().trim(),n.text(i),T.text.render(a.default.t("Translate_To")+i,{isMe:!0}),T.text.close(),T.loading(),e.next=8,S.send(a.default.t("Translate_To")+i);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e,this)}))),$(".copilot_content").off("click.themeSelect").on("click.themeSelect",".theme-set li",function(){$(this).addClass("active").siblings().removeClass("active")}),$(".copilot_content").off("click.themeSet").on("click.themeSet",".theme-set [data-type]",C(k().mark(function e(){var t,n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=$(this).data("type"),e.next="themeSubmit"===e.t0?3:"themeReload"===e.t0?10:16;break;case 3:if($(this).parent().addClass("disabled"),0!==(t=$(this).parent().siblings("ul").find(".active").index())){e.next=7;break}return e.abrupt("return");case 7:return n=y.themeList[t],y.themeList=[],editorGlobal.mindMap.setThemeConfig(n.theme),e.abrupt("break",16);case 10:return $(this).parents(".copilot_content_item").remove(),T.loading(),y.type="optimizeStyle",e.next=15,S.send(null,!0);case 15:return e.abrupt("break",16);case 16:case"end":return e.stop()}},e,this)})))},inputFocus:function(){setTimeout(function(){$(".po-ai-copilot .copilot_footer .copilot_input_content").find(".input").eq(0).focus(),0===$(".copilot_content .copilot_content_item").length&&(T.text.renderVerbatim("✋🏻 Hi！".concat(a.default.t("AI_Assistant_Intro"),"。"),{hideSet:!0}),T.text.close())},300)},inputChange:function(){var e=this.getInputVal(),t=$(".po-ai-copilot .copilot_footer .copilot_input_content .cover");t.length?(t.outerHeight("22px"),t.outerHeight(t[0].scrollHeight+2+"px")):e.trim()||($(".po-ai-copilot .copilot_footer .copilot_input_content").removeAttr("contenteditable").html('<textarea class="input cover" placeholder="'.concat(a.default.t("Assistant_Message"),'~"></textarea>')),$(".po-ai-copilot .copilot_footer .copilot_input_content .cover").focus()),$(".po-ai-copilot .copilot_footer .send").toggleClass("disabled",!e.trim())},inputInsertText:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.lastInsertState;if(n.textarea){var i=n.textarea,o=n.node,a=o.start,r=o.end,s=i.value;if(t){i.value=s.slice(0,a)+e+s.slice(r);var l=a+e.length;i.setSelectionRange(l,l),n.node.end=l}else{i.value=s.slice(0,a)+e+s.slice(r);var c=a+e.length;i.setSelectionRange(c,c),n.node={start:c,end:c}}i.focus(),$(i).trigger("input")}else{var d=n.selection;if(t&&this.lastInsertState.node){var u=this.lastInsertState.node;u.textContent=e;var p=document.createRange();p.selectNodeContents(u),p.collapse(!1),d.removeAllRanges(),d.addRange(p)}else{var h=d.getRangeAt(0),m=document.createTextNode(e);h.deleteContents(),h.insertNode(m),h.setStartAfter(m),h.setEndAfter(m),d.removeAllRanges(),d.addRange(h),this.lastInsertState.node=m}}},getInsertState:function(){var e=$(".po-ai-copilot .copilot_footer .copilot_input_content"),t=e.find(".focus");t.length||e.hasClass("focus")||(t=e.find("textarea").last()).focus();var n={textarea:null,node:null,range:null,selection:null};if(t.length){var i=t[0];n.textarea=i;var o=i.selectionStart,a=i.selectionEnd;n.node={start:o,end:a}}else n.selection=document.getSelection();this.lastInsertState=n},getInputVal:function(){var e=$(".mind-right-aigc .copilot_input_content").clone();return e.find(".input").each(function(){$(this).replaceWith($(this).val().trim())}),e.text().trim()},fileUpload:function(){var e=C(k().mark(function e(t){var n,i,o,r,s,l;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.aiFileUpload.getTypeConfig(["document","image","audio"]),i=n.accept,o=t.name,r=o.slice(o.lastIndexOf(".")).toLowerCase(),i.includes(r)){e.next=3;break}return e.abrupt("return",void T.renderPrompt("".concat(a.default.t("Not_Support_format"),", ")));case 3:if(!((s=t.size)>1048576*n.maxSize)){e.next=6;break}return e.abrupt("return",void T.renderPrompt(a.default.t("File_Size_Limit")+n.maxSize+"M, "));case 6:l=g.aiFileUpload.getFileCategory(r),e.t0=(y.type=l,y.fileData={file:t,fileName:o,fileType:r,fileSize:s,fileCategory:l},l),e.next="document"===e.t0?10:"image"===e.t0?12:"audio"===e.t0?15:16;break;case 10:return T.renderDoc(t),e.abrupt("break",16);case 12:return e.next=14,T.renderImg(t);case 14:return e.abrupt("break",16);case 15:T.renderAudio(t);case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),sendTextCheck:function(e){if("generate"===y.type){if(h.aiWeblink.isUrl(e))return y.type="weblink",y.fileData=e,T.renderWeblink(e),!1;if(e.length>=300)return y.type="longText",y.fileData=e,T.renderLongText(e),!1}return!0},autoScroll:!0,scrollToBottom:function(e){var t=this;if(this.autoScroll=e||this.autoScroll,this.autoScroll){var n=$(".copilot_content");n.stop().animate({scrollTop:n[0].scrollHeight},500,function(){n.scrollTop(n[0].scrollHeight),t.autoScroll=!0})}}},_={init:function(){if(!$(".po-ai-copilot").children().length){var e=g.aiFileUpload.getTypeConfig(["document","image","audio"]).accept;$(".po-ai-copilot").html('\n                <div class="ai-top-title"><span class="po-diagraming-icons">&#xe91f;</span><img src="'.concat(staticBasePath,'/assets/images/aigc3.0/ai-logo.svg" alt="">').concat(a.default.t("QA"),'</div>\n                \n                <div class="copilot_content"></div>\n                <div class="copilot_footer">\n\n\t\t\t\t\t<div class="input_box">\n\t\t\t\t\t\t<span class="file-upload-bg"> \n\t\t\t\t\t\t\t<img src="').concat(staticBasePath,'/assets/images/aigc3.0/copilot-file-upload.svg" alt="">\n\t\t\t\t\t\t\t<span class="tips">').concat(a.default.t("Release_Upload"),'</span>\n\t\t\t\t\t\t</span>\n                        <div class="copilot_input_content">\n                            <textarea class="input cover" placeholder="').concat(a.default.t("Assistant_Message"),'~"></textarea>\n                        </div>\n                        <div class="input_box_footer">\n                            <label class="copilot-footer-item" title="').concat(a.default.t("Supported_Formats"),"、<br>").concat(a.default.t("Picture_Audio"),'" title-pos="top" title-translate-x="28"><span class="po-diagraming-icons box-footer-upload-con">&#xe91b;</span><input class="file_upload" type="file" accept="').concat(e.join(","),'"></label>\n                            <div class="input_r">\n                                <div class="speech_input copilot-footer-item">\n                                    <span class="start po-diagraming-icons" original-title=').concat(a.default.t("Voice_Input"),' title-pos="top">&#xe910;</span>\n                                    <span class="stop" original-title=').concat(a.default.t("Stop_Voice_Input"),' title-pos="top"><i></i><i></i><i></i><i></i></span>\n                                </div>                            \n                                <span class="bar"></span>\n                                <span class="send disabled"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-submit.svg" alt=""></span>\n\t\t\t\t\t\t\t\t<span class="generate-stop" title-pos="top" original-title=').concat(a.default.t("Stop"),' style="display:none; cursor: pointer;"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/stop.svg" alt=""></span>\n                            </div>\n                        </div>                        \n                    </div>\n                </div>'))}}},T={config:{loadingDom:null},text:{config:{content:"",renderDom:null,contentVerbatim:"",closeType:null,contentId:"",format:{lastPart:null,lastPartLevel:0,lastPartContent:"",levelSecondNum:0,levelThirdNum:0}},render:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isMe,i=void 0!==n&&n,o=t.hideSet,r=void 0!==o&&o,s=t.format,l=void 0!==s&&s;if(this.textTest(e)){var c=T.config.loadingDom;c&&(c.remove(),T.config.loadingDom=null);var d=this.config;if(!d.renderDom){T.controllerDisable();var u=$('<div class="copilot_content_item text" data-id="'.concat(d.contentId,'"><div class="content"></div></div>')).appendTo(".po-ai-copilot .copilot_content");if(i)u.addClass("me"),x.autoScroll=!0;else if(!r){var p,h="ocr"===(null===(p=S.config.historyInputData)||void 0===p?void 0:p.type)?"":'<div class="copilot_btn" data-type="reload"><span class="po-diagraming-icons">&#xe98f;</span>'.concat(a.default.t("Regenerate"),"</div>"),m='<div class="copilot_content_item_set">\n                        <div class="copilot_btn primary" data-type="insert"><span class="po-diagraming-icons">&#xe91a;</span>'.concat(a.default.t("Insert"),"</div>\n                        ").concat(h,"\n                    </div>");u.append(m)}d.renderDom=u}d.content+=e;var f=d.renderDom.children(".content");l?this.renderFormat(e,f):f.text(d.content.replace(/§/g,"@").trim()),x.scrollToBottom()}},renderVerbatim:function(e,t){var n=this,i=this.config;if(this.textTest(e)){if(i.contentVerbatim+=e,this.setIntervalIdx&&clearInterval(this.setIntervalIdx),"error"===i.closeType)return this.render(i.contentVerbatim,t),i.contentVerbatim="",void this.close(i.closeType);var o=i.contentVerbatim.length,a=o>200?10:o>100?15:o>50?20:30;this.setIntervalIdx=setInterval(function(){if(i.contentVerbatim.length){var e=i.contentVerbatim[0];i.contentVerbatim=i.contentVerbatim.slice(1),n.render(e,t)}else clearInterval(n.setIntervalIdx),null!==i.closeType&&n.close(i.closeType)},a)}},renderFormat:function(e,t){var n=this;if(e){if(e.includes("@")){var i=e.split(/(@+)/).filter(function(e){return""!==e});if(i.length>1)return void i.map(function(e){n.renderFormat(e)})}var o=this.config.format,a=o.lastPart,r=o.lastPartContent,s=o.lastPartLevel;if(e.includes("@")){var l=e.length;if(a&&""===r){var c=s+l;o.lastPartLevel=c,a.attr("data-level",c)}else{var d=$('<span data-level="'.concat(l,'"></span>'));t.append(d),o.lastPart=d,o.lastPartLevel=l,o.lastPartContent=""}}else e=e.replace(/§/g,"@"),a?(""===r&&(2===s?(o.levelSecondNum++,o.levelThirdNum=0,e=this.numberToChinese(o.levelSecondNum)+"、"+e.trimStart()):3===s&&(o.levelThirdNum++,e=o.levelThirdNum+". "+e.trimStart())),o.lastPartContent+=e,a.text(o.lastPartContent.trim())):t.text(t.text()+""+e)}},close:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=this.config;if(t.contentVerbatim.length)t.closeType=e;else{if(t.renderDom){var n,i=t.renderDom.find(".copilot_content_item_set");S.config.historyOutputStr.includes("@")||"ocr"===(null===(n=S.config.historyInputData)||void 0===n?void 0:n.type)||i.find("[data-type=insert]").remove(),t.renderDom.find(".copilot_content_item_set").addClass("end")}t.content="",t.renderDom=null,t.closeType=null,t.contentId="",t.format.lastPart=null,t.format.lastPartLevel=0,t.format.lastPartContent="",t.format.levelSecondNum=0,t.format.levelThirdNum=0,$(".po-ai-copilot .copilot_footer .copilot-footer-item").removeClass("disabled"),$(".po-ai-copilot .copilot_footer .send").removeClass("loading").show(),$(".po-ai-copilot .copilot_footer .generate-stop").removeClass("disabled").hide();var o=T.config.loadingDom;o&&(o.remove(),T.config.loadingDom=null)}},textTest:function(e){return e.startsWith("[ID:")&&e.endsWith("]")?(this.config.contentId=e.slice(4,-1),!1):"[DONE]"!==e},numberToChinese:function(e){var t=["零","一","二","三","四","五","六","七","八","九"],n=["","十","百","千","万","十万","百万","千万","亿"];if(0===(e=Math.abs(e)))return"零";for(var i="",o=e.toString(),a=o.length,r=0;r<a;r++){var s=parseInt(o[r]),l=a-r-1;0===s?"零"!==i[i.length-1]&&r!==a-1&&(i+="零"):i+=t[s]+n[l]}return i.startsWith("一十")&&2===a&&(i=i.substring(1)),i}},loading:function(e){e=e||"".concat(a.default.t("js.Loading"),"...");var t=$('<div class="copilot_content_item loading">\n            <img src="'.concat(staticBasePath,'/assets/images/aigc3.0/loading.png" alt="">').concat(e,"\n        </div>"));$(".copilot_content").append(t),this.config.loadingDom=t,x.scrollToBottom(!0)},renderPrompt:function(e){this.controllerDisable();var t='\n        <div class="copilot_content_tip">\n\t\t  <span class="file_name">'.concat(e,'</span> <span class="reupload">').concat(a.default.t("js.reupload"),"</span>\n        </div>");$(".copilot_content").append(t),x.scrollToBottom(!0)},welcome:function(){this.controllerDisable();var e='<div class="copilot_content_item welcome">\n            <div class="bg-pin"><div></div></div>\n            <div class="title"><img src="'.concat(staticBasePath,'/assets/images/aigc3.0/AI-bot.svg" alt=""><i>Hi~ ').concat(a.default.t("AI_Assistant"),'</i></div>\n            <div class="nav">\n                <span class="nav-title"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/welcome_icon1.svg" alt="">').concat(a.default.t("Guess_Question"),'\n                <div class="col">\n                    <div class="item" data-type="topic" data-topic-type="work_plan_first">').concat(a.default.t("How_To_Create_Work_Plan"),'</div>\n                    <div class="item" data-type="generate">').concat(a.default.t("Customize_Theme_Style"),'？</div>\n                </div>                    \n            </div>\n            <div class="nav">\n                <span class="nav-title"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/welcome_icon2.svg" alt="">').concat(a.default.t("Assisted_Creation"),'</div>\n                <div class="row">\n                    <div class="item" data-type="optimizeStyle">\n                        <span class="po-diagraming-icons">&#xe8c1;</span>\n                        <div>\n                            <span>').concat(a.default.t("Mind_Map_Beautification"),'</span>\n                            <span class="tip">').concat(a.default.t("Beautify_Cur_Map"),'</span>\n                        </div>\n                    </div>\n                    <div class="item" data-type="translate">\n                        <span class="po-diagraming-icons">&#xe8ae;</span>\n                        <div>\n                            <span>').concat(a.default.t("js.Translate"),'</span>\n                            <span class="tip">').concat(a.default.t("Chinese_English_Translation"),"</span>\n                        </div>\n                    </div>\n                </div>\n                    \n            </div>\n        </div>");$(".copilot_content").append(e),x.scrollToBottom(!0)},renderImg:function(){var e=C(k().mark(function e(t){var n,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.controllerDisable(),!t){e.next=7;break}return e.next=4,c.aiImage.fileToBase64(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0="";case 8:n=e.t0,i='<div class="copilot_content_item me img">\n            <img src="'.concat(n,'" alt="">\n        </div>\n        <div class="copilot_content_item img-set">\n            <div class="set-title">').concat(a.default.t("Image_Uploaded"),'：</div>\n            <div class="set">\n                <div class="copilot_btn" data-type="ocr"><span class="text">').concat(a.default.t("Direct_Text_Extraction"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="contentCore"><span class="text">').concat(a.default.t("Describe_Image"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n            </div>\n        </div>'),$(".copilot_content").append(i),x.scrollToBottom(!0);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),renderDoc:function(e){this.controllerDisable();var t='<div class="copilot_content_item me doc">\n            <img src="'.concat(staticBasePath,'/assets/images/aigc3.0/file_doc.svg" alt="">\n            <span class="file_name">').concat(e.name,'</span>\n        </div>\n        <div class="copilot_content_item doc-set">\n            <div class="set-title">').concat(a.default.t("Document_Uploaded"),'：</div>\n            <div class="set">\n                <div class="copilot_btn" data-type="contentCore"><span class="text">').concat(a.default.t("Extract_Document_Core"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="carding"><span class="text">').concat(a.default.t("Organize_Document_Framework"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="viewpoint"><span class="text">').concat(a.default.t("Extract_Document_Key_Points"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="analysis"><span class="text">').concat(a.default.t("Summarize_Document_Content"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n            </div>\n        </div>');$(".copilot_content").append(t),x.scrollToBottom(!0)},renderLongText:function(e){this.controllerDisable();var t='<div class="copilot_content_item me text">\n            <div class="content">'.concat(e,'</div>\n        </div>\n        <div class="copilot_content_item long-text-set">\n            <div class="set-title">').concat(a.default.t("Long_Text_Embedded"),'：</div>\n            <div class="set">\n                <div class="copilot_btn" data-type="contentCore"><span class="text">').concat(a.default.t("Extract_Document_Core"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="carding"><span class="text">').concat(a.default.t("Organize_Document_Framework"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="viewpoint"><span class="text">').concat(a.default.t("Extract_Document_Key_Points"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="analysis"><span class="text">').concat(a.default.t("Summarize_Document_Content"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n            </div>\n        </div>');$(".copilot_content").append(t),x.scrollToBottom(!0)},renderAudio:function(e){this.controllerDisable();var t='<div class="copilot_content_item me audio">\n            <img src="'.concat(staticBasePath,'/assets/images/aigc3.0/file_audio.svg" alt="">\n            <span class="file_name">').concat(e.name,'</span>\n        </div>\n        <div class="copilot_content_item audio-set">\n            <div class="set-title">').concat(a.default.t("Audio_Uploaded"),'：</div>\n            <div class="set">\n                <div class="copilot_btn" data-type="contentCore"><span class="text">').concat(a.default.t("Audio_Description"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="textExtraction"><span class="text">').concat(a.default.t("Audio_Text_Extraction"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="viewpoint"><span class="text">').concat(a.default.t("Audio_Summary"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n            </div>\n        </div>');$(".copilot_content").append(t),x.scrollToBottom(!0)},renderWeblink:function(e){this.controllerDisable();var t='<div class="copilot_content_item me weblink">\n            <img src="'.concat(staticBasePath,'/assets/images/aigc3.0/file_weblink.svg" alt="">\n            <span class="file_name">').concat(e,'</span>\n        </div>\n        <div class="copilot_content_item weblink-set">\n            <div class="set-title">').concat(a.default.t("Webpage_Embedded"),'：</div>\n            <div class="set">\n                <div class="copilot_btn" data-type="carding"><span class="text">').concat(a.default.t("Webpage_Introduction"),"，").concat(a.default.t("Webpage_Mind_Map"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="analysis"><span class="text">').concat(a.default.t("Webpage_Summary"),"，").concat(a.default.t("Webpage_Mind_Map"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n                <div class="copilot_btn" data-type="viewpoint"><span class="text">').concat(a.default.t("Webpage_Content_Outline"),"，").concat(a.default.t("Webpage_Mind_Map"),'</span><span class="po-diagraming-icons">&#xe8a8;</span></div>\n            </div>\n        </div>');$(".copilot_content").append(t),x.scrollToBottom(!0)},renderTrans:function(){if(this.controllerDisable(),0===$("#copilot_translate_list").length){var e=f.aiTranslate.aiTranslateList.map(function(e){return'<li class="po-menu-item" ac="'.concat(e.type,'"><div class="po-menu-item-box"><span class="text">').concat(e.name,"</span></div></li>")}).join(""),t='<ul id="copilot_translate_list" class="po-menu-small">'.concat(e,"</ul>");$(".mind-util-container").append(t)}var n='\n        <div class="copilot_content_item trans-set">\n            '.concat(a.default.t("Support_multiple_languages"),'\n            <div class="set">\n                <span class="select" data-id="copilot_translate_list">').concat(a.default.t("English"),"</span>\n            </div>            \n        </div>");$(".copilot_content").append(n),x.scrollToBottom(!0)},renderTheme:function(){var e=C(k().mark(function e(t){var n,i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.controllerDisable(),e.next=3,m.aiTheme.copilotInit(t);case 3:n=e.sent,y.themeList=n,i=n.map(function(e,t){var n="",i="",o=e.theme.background||"#FFFFFF";return 0===t?(i='<div class="current">'.concat(a.default.t("Beautify_before"),"</div>"),"#000000"===o&&(n="dark")):1===t&&(n="active"),'<li class="'.concat(n,'" style="background: ').concat(o,'">').concat(i).concat(e.svg,"</li>")}).join(""),o='\n        <div class="copilot_content_item theme-set">\n            <div class="title">'.concat(a.default.t("Mind_Map_Beautification"),'</div>\n            <ul class="theme-list">\n                ').concat(i,'\n            </ul>\n            <div class="set">\n                <div class="copilot_btn primary" data-type="themeSubmit"><span class="po-diagraming-icons">&#xe974;</span>').concat(a.default.t("Confirm_Use"),'</div>\n                <div class="copilot_btn" data-type="themeReload"><span class="po-diagraming-icons">&#xe733;').concat(a.default.t("Change_Batch"),"</span>\n            </div>\n        </div>"),$(".copilot_content").append(o),x.scrollToBottom(!0);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),controllerDisable:function(){$(".po-ai-copilot .copilot_content .copilot_content_item .set").addClass("disabled"),$(".po-ai-copilot .copilot_content .copilot_content_item_set").remove();var e=this.config.loadingDom;e&&(e.remove(),this.config.loadingDom=null)}},S={config:{historyInputData:null,historyOutputStr:"",loading:!1,nextFnList:[]},send:function(){var e=C(k().mark(function e(t,n){var i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=this.config).loading){e.next=3;break}return e.abrupt("return");case 3:if(i.loading=!0,$(".po-ai-copilot .copilot_footer .copilot-footer-item").addClass("disabled"),$(".po-ai-copilot .copilot_footer .send").addClass("loading").hide(),$(".po-ai-copilot .copilot_footer .generate-stop").show(),!n){e.next=11;break}o=$.extend({},i.historyInputData),e.next=15;break;case 11:return e.next=13,this.getData(t);case 13:o=e.sent,i.historyInputData=$.extend({},o);case 15:i.historyOutputStr="",o.onMessage=this.onMessage.bind(this),o.collectInfo&&(o.collectInfo.collectData=$.extend(o.collectInfo.collectData,o.collectData)),(0,s.AIRun)(o,this.callback.bind(this));case 19:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),getData:function(){var e=C(k().mark(function e(t){var n,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=y.type,e.next="generate"===e.t0?3:"topic"===e.t0?5:"image"===e.t0?7:"document"===e.t0?12:"longText"===e.t0?17:"audio"===e.t0?19:"weblink"===e.t0?24:"translate"===e.t0?26:"optimizeStyle"===e.t0?28:31;break;case 3:return n={prompt:t,model:"generate",collectInfo:{triggerPos:"AI问答面板-",collectData:{fnType:"AI问答",AIPower:"AI问答",triggerPos:"AI问答面板-发送按钮"}}},e.abrupt("break",31);case 5:return(n=l.aiTopic.getData(y.topicType,t,!1)).collectInfo={triggerPos:"AI问答面板-",collectData:{fnType:"AI问答",AIPower:"AI问答",triggerPos:"AI问答面板-发送按钮"}},e.abrupt("break",31);case 7:return e.next=9,c.aiImage.getData(t,y.fileData);case 9:return(n=e.sent).collectInfo={triggerPos:"AI问答面板-",collectData:{fnType:a.default.t("Reading_Assistant"),AIPower:"阅读总结-文档",triggerPos:"AI问答面板-发送按钮"}},e.abrupt("break",31);case 12:return e.next=14,d.aiDocument.getData(t,y.fileData);case 14:return(n=e.sent).collectInfo={triggerPos:"AI问答面板-",collectData:{fnType:a.default.t("Reading_Assistant"),AIPower:"阅读总结-文档",triggerPos:"AI问答面板-发送按钮"}},e.abrupt("break",31);case 17:return(n=u.aiLongText.getData(t,y.fileData)).collectInfo={triggerPos:"AI问答面板-",collectData:{fnType:"AI问答",AIPower:"AI问答",triggerPos:"AI问答面板-发送按钮"}},e.abrupt("break",31);case 19:return e.next=21,p.aiAudio.getData(t,y.fileData);case 21:return(n=e.sent).collectInfo={triggerPos:"AI问答面板-",collectData:{fnType:a.default.t("Reading_Assistant"),AIPower:"阅读总结-文档"}},e.abrupt("break",31);case 24:return(n=h.aiWeblink.getData(t,y.fileData)).collectInfo={triggerPos:"AI问答面板-",collectData:{fnType:a.default.t("Reading_Assistant"),AIPower:"阅读总结-文档",triggerPos:"AI问答面板-发送按钮"}},e.abrupt("break",31);case 26:return n={prompt:{},type:y.translateType,model:"translate",topicIds:"all",replaceTopic:!0},e.abrupt("break",31);case 28:return i=s.aiUtils.getTextList(),n={prompt:Object.values(i).join(""),type:"optimizeStyle",model:"27f1b"},e.abrupt("break",31);case 31:return e.abrupt("return",$.extend({isCopilot:!0,isContinuation:!0},n));case 32:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),socketClose:function(){s.aiServer.socketClose(s.aiServer.config.code.ESC_CLOSE_CODE,a.default.t("js.You_have_manually_terminated_AI_creation"))},onMessage:function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.historyOutputStr+=t,e.t0=this.isAction(t),e.t0){e.next=13;break}if(!["translate"].includes(y.type)){e.next=7;break}t.includes("[DONE]")?s.aiRender.renderTrans():s.aiRender.renderTrans(t,!1),e.next=13;break;case 7:if(!["optimizeStyle"].includes(y.type)){e.next=12;break}return e.next=10,T.renderTheme(t);case 10:e.next=13;break;case 12:T.text.renderVerbatim(t,{format:!0});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),isAction:function(e){var t=this.config.nextFnList;if(e.startsWith('{"action":'))try{var n=JSON.parse(e).action;switch(n){case"optimizeStyle":var i=function(){var e=C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.type="optimizeStyle",T.loading(),e.next=4,S.send();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();t.push(i);break;case"transToEng":case"transToCH":T.renderTrans();break;default:(0,b.AIAction)(n),T.text.render(a.default.t("Instruction_Executed"),{hideSet:!0})}return!0}catch(e){}return!1},callback:function(){var e=C(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return["translate"].includes(y.type)&&(n="success"!==t.type&&t.text?t.text:a.default.t("js.Translation_Complete"),T.text.render(n,{hideSet:!0})),this.config.loading=!1,y.type="generate",y.topicType="",y.fileData=null,T.text.close(t.type),e.next=8,this.nextFn();case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),nextFn:function(){var e=C(k().mark(function e(){var t,n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.config.nextFnList).length){e.next=5;break}return n=t.shift(),e.next=5,n();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),historyDelete:function(e){e&&(0,r.wsSend)({prompt:{action:"del",historyId:e},type:"generate",model:"generateHistoryData"})}}},49749:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.AIDraw=void 0,n(4790),n(69268),n(86837),n(77655);var o=i(n(6535)),a=n(63898),r=n(23190),s=n(21642),l=n(32582),c=n(70694),d=n(58886),u=n(16766),p=n(23634),h=n(92994),m=n(70278),f=n(49306),g=n(86474),v=n(15916),b=n(83316),y={document:{name:"阅读总结-文档",contentCore:o.default.t("Extract_Document_Core"),carding:o.default.t("Organize_Document_Framework"),viewpoint:o.default.t("Extract_Document_Key_Points"),analysis:o.default.t("Summarize_Document_Content")},longText:{name:"阅读总结-总结长文本",contentCore:o.default.t("Extract_txt_Core"),carding:o.default.t("Organize_Text_Framework"),viewpoint:o.default.t("Extract_txt_Key_Points"),analysis:o.default.t("Summarize_txt_Content")},urlDoc:{name:"阅读总结-总结网页",carding:"介绍该网页，生成思维导图",viewpoint:"梳理网页内容大纲，生成思维导图",analysis:"总结网页中的内容，生成思维导图"},image:{name:"阅读总结-图片",contentCore:o.default.t("Describe_Image"),ocr:o.default.t("Extract_Image_Text")},audio:{name:"阅读总结-图片",contentCore:o.default.t("Audio_Description"),textExtraction:o.default.t("Audio_Text_Extraction"),viewpoint:o.default.t("Audio_Summary")}},x=t.AIDraw={init:function(){var e=this;0!=editorGlobalConfig.showAIGC&&(r.aiFloatToolbar.init(),"object"==w(editorGlobalConfig.showAIGC)&&0==editorGlobalConfig.showAIGC.aiRightToolbar||T.aiEnter(),$(".op-toolbar-right-list .po-tool-button[tit=aigc]").off("click").on("click",function(){editorGlobal.mindMap.opt.readonlyList.ai&&(T.aiRightBox(),a.mindCorner.showCorner("aigc"),e.event(),(0,b.$poCollect)("mind_click",{tit:"aigc",pos:"right-tool"}))}),editorGlobal.mindMap.on("readonly_change",function(e){Object.prototype.hasOwnProperty.call(e,"ai")&&(e.ai?$('.po-tool-button[tit="aigc"]').removeClass("disabled"):($('.po-tool-button[tit="aigc"]').addClass("disabled"),$("#ai-toolbar").hide()))}))},event:function(){$(".mind-right-aigc .po-ai-creat .ai-group-item[data-type]").off("click").on("click",function(){var e=$(this).data("type");switch(_.quickCreationType=e,e){case"aiDocument":c.aiDocument.init({renderDom:T.bottomDrawer(e,"".concat(o.default.t("js.Document"),"/PDF/").concat(o.default.t("Audio")))}),v.aiDrawer.show(e);break;case"aiAudio":p.aiAudio.init({renderDom:T.bottomDrawer(e,o.default.t("Audio"))}),v.aiDrawer.show(e);break;case"aiImage":u.aiImage.init({renderDom:T.bottomDrawer(e,o.default.t("Image_Analysis"))}),v.aiDrawer.show(e);break;case"aiWeblink":h.aiWeblink.init({renderDom:T.bottomDrawer(e,o.default.t("Web_Analysis"))}),v.aiDrawer.show(e);break;case"aiLongText":d.aiLongText.init({renderDom:T.bottomDrawer(e,o.default.t("Summary_Long_Text"))}),v.aiDrawer.show(e);break;case"aiTheme":m.aiTheme.init();break;case"aiTranslate":f.aiTranslate.init("en");break;case"aiCopilot":g.copilot.init()}}),$(".mind-right-aigc").off("click.drawer-ai-run").on("click.drawer-ai-run",".drawer-content-item-ai-run",C(k().mark(function e(){var t,n,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=(x.createdUILoading(!0),_.quickCreationType),e.next="aiLongText"===e.t0?3:"aiDocument"===e.t0?5:"aiImage"===e.t0?9:"aiAudio"===e.t0?13:"aiWeblink"===e.t0?17:18;break;case 3:return i=d.aiLongText.getData(),e.abrupt("break",18);case 5:return e.next=7,c.aiDocument.getData();case 7:return i=e.sent,e.abrupt("break",18);case 9:return e.next=11,u.aiImage.getData();case 11:return i=e.sent,e.abrupt("break",18);case 13:return e.next=15,p.aiAudio.getData();case 15:return i=e.sent,e.abrupt("break",18);case 17:i=h.aiWeblink.getData();case 18:i?(v.aiDrawer.close(),i.collectInfo={triggerPos:"AI右侧面板-"+(null===(t=y[i.model])||void 0===t?void 0:t.name),collectData:$.extend({needDimensionOrContent:i.type&&y[i.model]?y[i.model][i.type]:i.prompt.text,AIPower:null===(n=y[i.model])||void 0===n?void 0:n.name},i.collectData)},i=$.extend({},i),(0,s.AIRun)(i,function(){x.createdUILoading(!1)})):x.createdUILoading(!1);case 19:case"end":return e.stop()}},e)}))),setTimeout(function(){var e=$(".mind-right-aigc .ai-topic-content");e.trigger("input"),e.find("textarea").first().focus()},100)},createdUILoading:function(e){$(".mind-right-aigc .po-ai-creat").toggleClass("disabled",e)}},_={quickCreationType:""},T={aiEnter:function(){var e=$(".op-toolbar-right-list .po-tool-button[tit=aigc]");if(!e.length){var t=!editorGlobal.mindMap.opt.readonlyList.ai;e=$('<span class="aigc-po-tool-button-bg"><div class="po-tool-button '.concat(t?"disabled":"",'" tit="aigc" title-pos="left" title="').concat(o.default.t("js.AI_creation"),'"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-logo-mind.svg" alt="" style="height: 26px"/></div></span>')),$(".op-toolbar-right-list").prepend(e)}},aiRightBox:function(){var e=$(".mind-right-con .mind-right-aigc");if(!e.length){e=$('<div class="mind-right-aigc" tit="aigc">\n            <div class="aigc-content">\n                <div class="po-ai-creat">\n                    <div class="ai-top-title"><img src="'.concat(staticBasePath,'/assets/images/aigc3.0/ai-logo.svg" alt="">').concat(o.default.t("Creation"),'<img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-limit.svg" alt=""></div>\n                    <div class="po-ai-creat-content">\n                        <div class="ai-group">\n                            <div class="ai-group-title">').concat(o.default.t("One_Sentence_Generation_Map"),'</div>\n                            <div class="ai-group-content ai-topic"></div>\n                        </div>\n                        <div class="ai-group">\n                            <div class="ai-group-title">AI').concat(o.default.t("Read_Summary"),'<span class="title-tips">').concat(o.default.t("Read_Document_To_Map"),'</span></div>\n                            <div class="ai-group-content">\n                                <div class="ai-group-item" data-type="aiDocument"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-icon-document.svg" alt=""><span class="ai-group-text">').concat(o.default.t("js.Document"),"/PDF/").concat(o.default.t("Audio"),'</span></div>\n                                <div class="ai-group-item" data-type="aiImage"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-icon-image.svg" alt=""><span class="ai-group-text">').concat(o.default.t("Image_Analysis"),'</span></div>\n                                <div class="ai-group-item" data-type="aiWeblink"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-icon-weblink.svg" alt=""><span class="ai-group-text">').concat(o.default.t("Web_Analysis"),'</span></div>\n                                <div class="ai-group-item" data-type="aiLongText"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-icon-text.svg" alt=""><span class="ai-group-text">').concat(o.default.t("Summary_Long_Text"),'</span></div>\n                            </div>\n                        </div>\n                        <div class="ai-group">\n                            <div class="ai-group-title">AI').concat(o.default.t("Assisted_Creation"),'</div>\n                            <div class="ai-group-content">\n                                <div class="ai-group-item" data-type="aiTheme"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-icon-theme.svg" alt=""><span>').concat(o.default.t("Style_Beautification"),'</span></div>\n                                <div class="ai-group-item" data-type="aiTranslate"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-icon-translate.svg" alt=""><span>').concat(o.default.t("Full_Translation"),'</span></div>\n                                <div class="ai-group-item" data-type="aiCopilot"><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-icon-copilot.svg" alt=""><span>AI ').concat(o.default.t("QA"),'</span></div>\n                            </div>\n                        </div>\n                    </div>                        \n                </div>\n                <div class="po-ai-copilot"></div>\n            </div>\n        </div>')),$(".mind-right-con").append(e);var t=$(".mind-right-aigc .ai-group-content.ai-topic");l.aiTopic.init({renderDom:t})}},bottomDrawer:function(e,t){var n=$('<div class="drawer-content-item">\n            <div class="drawer-content-item-box"></div>\n            <div class="drawer-content-item-ai-run disabled"><span>'.concat(o.default.t("Webpage_Mind_Map"),'</span><img src="').concat(staticBasePath,'/assets/images/aigc3.0/ai-submit-while.svg" alt=""></div>\n        </div>'));return v.aiDrawer.init({type:e,title:t,creatDom:n}),n.find(".drawer-content-item-box")}},S=function(e,t){t.onChange=function(t,n){"aiLoading"===t&&x.createdUILoading(n),e===_.quickCreationType&&"isValid"===t&&$(".mind-right-aigc .drawer-content-item-ai-run").toggleClass("disabled",!n)}};S("aiTopic",l.saveData),S("aiDocument",c.saveData),S("aiLongText",d.saveData),S("aiImage",u.saveData),S("aiAudio",p.saveData),S("aiWeblink",h.saveData),S("aiTheme",m.saveData),S("aiTranslate",f.saveData)},28573:function(e,t,n){n(61894),n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.authentication=void 0;var o=i(n(66603)),a=i(n(32483)),r=n(82647);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.authentication={data:{params:{secretid:null,secretkey:null,appid:null,token:null},ExpiredTime:0},get:function(e){var t=this.data,n=Math.ceil(Date.now()/1e3);t.ExpiredTime&&t.ExpiredTime>n?e&&e(l({},t.params)):injectExtraAsynCall("onServerApi",{apiName:"getAIUseInfo",params:null},function(n){var i=n.data;"error"!==n.result?(0,r.wsSend)({model:"aiFederationToken",useInfo:i},function(n){try{var i=JSON.parse(n);if(i&&i.Credentials)return t.params=l(l({},t.params),{secretid:i.Credentials.TmpSecretId,secretkey:i.Credentials.TmpSecretKey,appid:i.Credentials.appId,token:i.Credentials.Token}),t.ExpiredTime=i.ExpiredTime,void(e&&e(l({},t.params)))}catch(e){}e&&e({type:"error",text:a.default.t("js.Authorization_failure")})}):e&&e({type:"error",text:null==i?void 0:i.msg})})}}},84637:function(e,t,n){n(61894),n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechService=void 0;var o=i(n(66603)),a=i(n(32483)),r=i(n(61157)),s=n(28573);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.SpeechService=function(){function t(e){T(this,t),this.onMessage=e.onMessage,this.onError=e.onError,this.webAudioSpeechRecognizer=null,this.isCanStop=!1,this.isLog=e.isLog||!1,this.params={secretid:e.secretId,secretkey:e.secretKey,appid:e.appId,token:e.token,engine_model_type:"16k_zh"}}return M(t,[{key:"start",value:function(){var t=this;try{s.authentication.get(function(e){e.type&&"error"===e.type?t.onError&&t.onError(e.text):(t.params=c(c({},t.params),e),t.webAudioSpeechRecognizer=new r.default(t.params,t.isLog),t.webAudioSpeechRecognizer.OnRecognitionStart=function(){},t.webAudioSpeechRecognizer.OnSentenceBegin=function(){t.isCanStop=!0},t.webAudioSpeechRecognizer.OnRecognitionResultChange=function(e){var n="".concat("").concat(e.result.voice_text_str);t.onMessage&&n&&t.onMessage(n)},t.webAudioSpeechRecognizer.OnSentenceEnd=function(){},t.webAudioSpeechRecognizer.OnRecognitionComplete=function(){},t.webAudioSpeechRecognizer.OnError=function(e){t.onError&&t.onError(e)},t.webAudioSpeechRecognizer.start())})}catch(e){this.onError&&this.onError(a.default.t("js.Authorization_failure"),e)}}},{key:"stop",value:function(){this.isCanStop&&(this.webAudioSpeechRecognizer.stop(),this.webAudioSpeechRecognizer.destroyStream())}}]),t}()},61157:function(e,t,n){n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66603));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e){for(var t=2*e.length,n=(t=new ArrayBuffer(t),new DataView(t)),i=0,o=0;o<e.length;o++,i+=2){var a=Math.max(-1,Math.min(1,e[o]));n.setInt16(i,a<0?32768*a:32767*a,!0)}return n}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:44100,n=new Float32Array(e),i=Math.round(n.length*(16e3/t)),o=new Float32Array(i),a=(n.length-1)/(i-1);o[0]=n[0];for(var r=1;r<i-1;r++){var s=r*a,l=Math.floor(s).toFixed(),c=Math.ceil(s).toFixed();o[r]=n[l]+(n[c]-n[l])*(s-l)}return o[i-1]=n[n.length-1],o}n(96700),n(61894),n(69642),n(83403),n(28293),n(95313),n(33488),n(70116),n(5682),n(33152),n(65528),n(4790),n(82403),n(12638),n(33809),n(13253),n(6284),n(66414),n(9926),n(20005),n(13552),n(42712),n(42211),n(20306),n(32209),n(68801),n(18097),n(62495),n(72216),n(63061),n(54938),n(14237),n(81475),n(57895),n(77439),n(24812),n(56980),n(97316),n(92439),n(16610),n(19301);var c="\nclass MyProcessor extends AudioWorkletProcessor {\n  constructor(options) {\n    super(options);\n    this.audioData = [];\n    this.sampleCount = 0;\n    this.bitCount = 0;\n    this.preTime = 0;\n  }\n\n  process(inputs) {\n    // 去处理音频数据\n    // eslint-disable-next-line no-undef\n    if (inputs[0][0]) {\n      const output = ".concat(l,"(inputs[0][0], sampleRate);\n      this.sampleCount += 1;\n      const audioData = ").concat(s,"(output);\n      this.bitCount += 1;\n      const data = [...new Int8Array(audioData.buffer)];\n      this.audioData = this.audioData.concat(data);\n      if (new Date().getTime() - this.preTime > 100) {\n        this.port.postMessage({\n          audioData: new Int8Array(this.audioData),\n          sampleCount: this.sampleCount,\n          bitCount: this.bitCount\n        });\n        this.preTime = new Date().getTime();\n        this.audioData = [];\n      }\n        return true;\n      }\n  }\n}\n\nregisterProcessor('my-processor', MyProcessor);\n");navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var d=function(){function t(e,n,i){T(this,t),this.audioData=[],this.allAudioData=[],this.stream=null,this.audioContext=null,this.requestId=e,this.frameTime=[],this.frameCount=0,this.sampleCount=0,this.bitCount=0,this.mediaStreamSource=null,this.isLog=i,this.params=n}return M(t,[{key:"start",value:function(){this.frameTime=[],this.frameCount=0,this.allAudioData=[],this.audioData=[],this.sampleCount=0,this.bitCount=0,this.getDataCount=0,this.audioContext=null,this.mediaStreamSource=null,this.stream=null,this.preTime=0;try{t.isSupportAudioContext()?this.audioContext=new(window.AudioContext||window.webkitAudioContext):(this.isLog,this.OnError("浏览器不支持AudioContext"))}catch(e){this.isLog,this.OnError("浏览器不支持webAudioApi相关接口")}this.getUserMedia(this.requestId,this.getAudioSuccess,this.getAudioFail)}},{key:"stop",value:function(){/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)||this.audioContext&&this.audioContext.suspend(),this.audioContext&&this.audioContext.suspend(),this.isLog,this.OnStop(this.allAudioData)}},{key:"destroyStream",value:function(){this.stream&&(this.stream.getTracks().map(function(e){e.stop()}),this.stream=null)}},{key:"getUserMedia",value:function(){var e=C(k().mark(function e(n,i,o){var a,r,s=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a={echoCancellation:!0},r={audio:a=this.params&&"false"===String(this.params.echoCancellation)?{echoCancellation:!1}:a,video:!1},t.isSupportMediaDevicesMedia()?navigator.mediaDevices.getUserMedia(r).then(function(e){s.stream=e,i.call(s,n,e)}).catch(function(e){o.call(s,n,e)}):t.isSupportUserMediaMedia()?navigator.getUserMedia(r,function(e){s.stream=e,i.call(s,n,e)},function(e){o.call(this,n,e)}):(navigator.userAgent.toLowerCase().match(/chrome/)&&location.origin.indexOf("https://")<0?(this.isLog,this.OnError("chrome下获取浏览器录音功能，因为安全性问题，需要在localhost或127.0.0.1或https下才能获取权限")):(this.isLog,this.OnError("无法获取浏览器录音功能，请升级浏览器或使用chrome")),this.audioContext&&this.audioContext.close());case 3:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"getAudioSuccess",value:function(){var e=C(k().mark(function e(n,i){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audioContext){e.next=2;break}return e.abrupt("return",!1);case 2:this.mediaStreamSource&&(this.mediaStreamSource.disconnect(),this.mediaStreamSource=null),this.audioTrack=i.getAudioTracks()[0],(i=new MediaStream).addTrack(this.audioTrack),this.mediaStreamSource=this.audioContext.createMediaStreamSource(i),t.isSupportMediaStreamSource(n,this.audioContext)?t.isSupportAudioWorklet(this.audioContext)?this.audioWorkletNodeDealAudioData(this.mediaStreamSource,n):this.scriptNodeDealAudioData(this.mediaStreamSource,n):(this.isLog,this.OnError("不支持MediaStreamSource"));case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAudioFail",value:function(e,t){t&&t.err&&"NotAllowedError"===t.err.name&&this.isLog,this.isLog,this.OnError(t),this.stop()}},{key:"scriptNodeDealAudioData",value:function(e,n){var i=this;t.isSupportCreateScriptProcessor(n,this.audioContext)?(n=this.audioContext.createScriptProcessor(1024,1,1),this.mediaStreamSource&&this.mediaStreamSource.connect(n),n&&n.connect(this.audioContext.destination),n.onaudioprocess=function(e){var t,n;i.getDataCount+=1,e=s(l(e.inputBuffer.getChannelData(0),i.audioContext.sampleRate)),(t=i.audioData).push.apply(t,h(new Int8Array(e.buffer))),(n=i.allAudioData).push.apply(n,h(new Int8Array(e.buffer))),100<(new Date).getTime()-i.preTime&&(i.frameTime.push(Date.now()+"-"+i.frameCount),i.frameCount+=1,i.preTime=(new Date).getTime(),e=new Int8Array(i.audioData),i.OnReceivedData(e),i.audioData=[],i.sampleCount+=1,i.bitCount+=1)}):this.isLog}},{key:"audioWorkletNodeDealAudioData",value:function(){var e=C(k().mark(function e(t,n){var i,o,a=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=window.URL.createObjectURL(new Blob([c],{type:"text/javascript"})),e.next=4,this.audioContext.audioWorklet.addModule(i);case 4:(o=new AudioWorkletNode(this.audioContext,"my-processor",{numberOfInputs:1,numberOfOutputs:1,channelCount:1})).onprocessorerror=function(e){return a.scriptNodeDealAudioData(t,a.requestId),!1},o.port.onmessage=function(e){var t;a.frameTime.push(Date.now()+"-"+a.frameCount),a.OnReceivedData(e.data.audioData),a.frameCount+=1,(t=a.allAudioData).push.apply(t,h(e.data.audioData)),a.sampleCount=e.data.sampleCount,a.bitCount=e.data.bitCount},o.port.onmessageerror=function(e){return a.scriptNodeDealAudioData(t,n),!1},t&&t.connect(o).connect(this.audioContext.destination),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.isLog,this.OnError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"OnReceivedData",value:function(e){}},{key:"OnError",value:function(e){}},{key:"OnStop",value:function(e){}}],[{key:"isSupportMediaDevicesMedia",value:function(){return!!(navigator.getUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}},{key:"isSupportUserMediaMedia",value:function(){return!!navigator.getUserMedia}},{key:"isSupportAudioContext",value:function(){return"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext}},{key:"isSupportMediaStreamSource",value:function(e,t){return"function"==typeof t.createMediaStreamSource}},{key:"isSupportAudioWorklet",value:function(e){return e.audioWorklet&&"function"==typeof e.audioWorklet.addModule&&"undefined"!=typeof AudioWorkletNode}},{key:"isSupportCreateScriptProcessor",value:function(e,t){return"function"==typeof t.createScriptProcessor}}]),t}();"undefined"!=typeof window&&(window.WebRecorder=d);var u,p,m,f,g,v=v||function(e){function t(){}var n={},i=n.lib={},o=i.Base={extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),(n.init.prototype=n).$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var o=0;o<e;o++)t[i+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(i+o)%4*8;else if(65535<n.length)for(o=0;o<e;o+=4)t[i+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),r=n.enc={},s=r.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},l=r.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},c=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,s=o/(4*r);if(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0),o=e.min(4*(t=s*r),o),t){for(var l=0;l<t;l+=r)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=o}return new a.init(l,o)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u=(i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new u.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);p=(g=(u=v).lib).WordArray,m=g.Hasher,f=[],g=u.algo.SHA1=m.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n,i=this._hash.words,o=i[0],a=i[1],r=i[2],s=i[3],l=i[4],c=0;c<80;c++)f[c]=c<16?0|e[t+c]:(n=f[c-3]^f[c-8]^f[c-14]^f[c-16])<<1|n>>>31,n=(o<<5|o>>>27)+l+f[c],n=c<20?n+(1518500249+(a&r|~a&s)):c<40?n+(1859775393+(a^r^s)):c<60?n+((a&r|a&s|r&s)-1894007588):n+((a^r^s)-899497514),l=s,s=r,r=a<<30|a>>>2,a=o,o=n;i[0]=i[0]+o|0,i[1]=i[1]+a|0,i[2]=i[2]+r|0,i[3]=i[3]+s|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(64+i>>>9<<4)]=Math.floor(n/4294967296),t[15+(64+i>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=m.clone.call(this);return e._hash=this._hash.clone(),e}}),u.SHA1=m._createHelper(g),u.HmacSHA1=m._createHmacHelper(g),function(){var e=v,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var i=e.blockSize,o=4*i;(n=n.sigBytes>o?e.finalize(n):n).clamp(),e=this._oKey=n.clone(),n=this._iKey=n.clone();for(var a=e.words,r=n.words,s=0;s<i;s++)a[s]^=1549556828,r[s]^=909522486;e.sigBytes=n.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),window&&(window.CryptoJSTest=v);var b=["appid","secretkey","signCallback","echoCancellation"],y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})};function x(e,t){return w.apply(this,arguments)}function w(){return(w=C(k().mark(function e(t,n){var i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.appid&&n.secretid){e.next=2;break}return e.abrupt("return",(t.isLog,t.OnError("请确认是否填入账号信息"),!1));case 2:return e.t0=function(e,t){var n="",i="asr.cloud.tencent.com/asr/v2/";e.appid&&(i+=e.appid);var o=Object.keys(t);o.sort();for(var a=0,r=o.length;a<r;a++)n+="&".concat(o[a],"=")+t[o[a]];return i+"?"+n.slice(1)},e.t1=n,e.next=6,function(){var e=C(k().mark(function e(t){var n,i,o,a,s,l;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},i=(new Date).getTime(),e.next=4,new Promise(function(e,t){try{var n=new XMLHttpRequest;n.open("GET","https://asr.cloud.tencent.com/server_time",!0),n.send(),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&e(n.responseText)}}catch(e){t(e)}});case 4:for(o=e.sent,n.secretid=t.secretid||"",n.engine_model_type=t.engine_model_type||"16k_zh",n.timestamp=parseInt(o)||Math.round(i/1e3),n.expired=Math.round(i/1e3)+86400,n.nonce=Math.round(i/1e5),n.voice_id=y(),n.voice_format=t.voice_format||1,a=r({},t),s=0,l=b.length;s<l;s++)a.hasOwnProperty(b[s])&&delete a[b[s]];return e.abrupt("return",r(r({},a),n));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(n);case 6:return e.t2=e.sent,t=(0,e.t0)(e.t1,e.t2),"",e.abrupt("return",(i=n.signCallback?n.signCallback(t):function(e,t){return t=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(function(e){for(var t=e.words,n=e.sigBytes,i=new Uint8Array(n),o=0;o<n;o++)i[o]=t[o>>>2]>>>24-o%4*8&255;return i}(window.CryptoJSTest.HmacSHA1(t,e))),window.btoa(t)}(n.secretkey,t),"wss://".concat(t,"&signature=")+encodeURIComponent(i)));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _=function(){function e(t,n,i){T(this,e),this.socket=null,this.isSignSuccess=!1,this.isSentenceBegin=!1,this.query=r({},t),this.isRecognizeComplete=!1,this.requestId=n,this.isLog=i,this.sendCount=0,this.getMessageList=[]}return M(e,[{key:"stop",value:function(){this.socket&&1===this.socket.readyState?(this.socket.send(JSON.stringify({type:"end"})),this.isRecognizeComplete=!0):this.socket&&1===this.socket.readyState&&this.socket.close()}},{key:"start",value:function(){var e=C(k().mark(function e(){var t,n=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.socket=null,this.getMessageList=[],e.next=3,x(this,this.query);case 3:if(!(t=e.sent)){e.next=15;break}if(this.isLog,!("WebSocket"in window)){e.next=9;break}this.socket=new WebSocket(t),e.next=12;break;case 9:if("MozWebSocket"in window){e.next=11;break}return e.abrupt("return",(this.isLog,void this.OnError("浏览器不支持WebSocket")));case 11:this.socket=new MozWebSocket(t);case 12:this.socket.onopen=function(e){n.isLog},this.socket.onmessage=function(){var e=C(k().mark(function e(t){var i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{n.getMessageList.push(JSON.stringify(t)),0!==(i=JSON.parse(t.data)).code?(1===n.socket.readyState&&n.socket.close(),n.isLog,n.OnError(i)):(n.isSignSuccess||(n.OnRecognitionStart(i),n.isSignSuccess=!0),1===i.final?n.OnRecognitionComplete(i):(i.result&&(0===i.result.slice_type?(n.OnSentenceBegin(i),n.isSentenceBegin=!0):2===i.result.slice_type?(n.isSentenceBegin||n.OnSentenceBegin(i),n.OnSentenceEnd(i)):n.OnRecognitionResultChange(i)),n.isLog))}catch(t){n.isLog}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.socket.onerror=function(e){n.isLog,n.socket.close(),n.OnError(e)},this.socket.onclose=function(e){try{n.isRecognizeComplete||(n.isLog,n.OnError(e))}catch(e){n.isLog}},e.next=16;break;case 15:this.isLog,this.OnError("鉴权失败");case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.socket&&1===this.socket.readyState&&this.socket.close(1e3)}},{key:"write",value:function(e){var t=this;try{if(!this.socket||"1"!==String(this.socket.readyState))return setTimeout(function(){t.socket&&1===t.socket.readyState&&t.socket.send(e)},40),!1;this.sendCount+=1,this.socket.send(e)}catch(e){this.isLog}}},{key:"OnRecognitionStart",value:function(e){}},{key:"OnSentenceBegin",value:function(e){}},{key:"OnRecognitionResultChange",value:function(){}},{key:"OnSentenceEnd",value:function(){}},{key:"OnRecognitionComplete",value:function(){}},{key:"OnError",value:function(){}}]),e}();"undefined"!=typeof window&&(window.SpeechRecognizer=_);var S=function(){function t(e,n){T(this,t),this.params=e,this.recorder=null,this.speechRecognizer=null,this.isCanSendData=!1,this.isNormalEndStop=!1,this.audioData=[],this.isLog=n,this.requestId=null}return M(t,[{key:"start",value:function(){var t=this;try{this.isLog,this.requestId=y(),this.recorder=new d(this.requestId,this.params,this.isLog),this.recorder.OnReceivedData=function(e){t.isCanSendData&&t.speechRecognizer&&t.speechRecognizer.write(e)},this.recorder.OnError=function(e){t.speechRecognizer&&t.speechRecognizer.close(),t.stop(),t.OnError(e)},this.recorder.OnStop=function(e){t.speechRecognizer&&t.speechRecognizer.stop(),t.OnRecorderStop(e)},this.recorder.start(),this.speechRecognizer||(this.speechRecognizer=new _(this.params,this.requestId,this.isLog)),this.speechRecognizer.OnRecognitionStart=function(e){t.recorder?(t.OnRecognitionStart(e),t.isCanSendData=!0):t.speechRecognizer&&t.speechRecognizer.close()},this.speechRecognizer.OnSentenceBegin=function(e){t.OnSentenceBegin(e)},this.speechRecognizer.OnRecognitionResultChange=function(e){t.OnRecognitionResultChange(e)},this.speechRecognizer.OnSentenceEnd=function(e){t.OnSentenceEnd(e)},this.speechRecognizer.OnRecognitionComplete=function(e){t.OnRecognitionComplete(e),t.isCanSendData=!1,t.isNormalEndStop=!0},this.speechRecognizer.OnError=function(e){t.speechRecognizer&&!t.isNormalEndStop&&t.OnError(e),t.speechRecognizer=null,t.recorder&&t.recorder.stop(),t.isCanSendData=!1},this.speechRecognizer.start()}catch(e){}}},{key:"stop",value:function(){this.isLog,this.recorder&&this.recorder.stop()}},{key:"destroyStream",value:function(){this.isLog,this.recorder&&this.recorder.destroyStream()}},{key:"OnRecognitionStart",value:function(e){}},{key:"OnSentenceBegin",value:function(e){}},{key:"OnRecognitionResultChange",value:function(){}},{key:"OnSentenceEnd",value:function(){}},{key:"OnRecognitionComplete",value:function(){}},{key:"OnError",value:function(){}},{key:"OnRecorderStop",value:function(){}}]),t}();"undefined"!=typeof window&&(window.WebAudioSpeechRecognizer=S),t.default=S},31618:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.brashUI=void 0;var o=i(n(32483)),a=n(15240);t.brashUI={init:function(){editorGlobal.mindMap.on("showBrashTip",this.showTip.bind(this)),editorGlobal.mindMap.on("closeBrash",this.closeTip.bind(this))},showTip:function(){(0,a.isMobile)()?editorGlobal.mindMap.emit("showPopTip",o.default.t("js.Select_theme_to_paste_format"),"",function(){editorGlobal.mindMap.emit("closeBrash")}):($.toast({type:"secondary",text:o.default.t("js.Left_click_on_a_blank_area"),autoClose:!1}),$("#mind-brash-btn-left, #mind-brash-btn").addClass("selected"),$(".mind-container").css("cursor","url("+staticBasePath+"/assets/images/brush.svg) 6 6,auto"))},closeTip:function(){(0,a.isMobile)()?editorGlobal.mindMap.emit("closePopTip"):(editorGlobal.mindMap.emit("toast","close"),$(".mind-container").css("cursor","default"),$("#mind-brash-btn-left, #mind-brash-btn").removeClass("selected"))}}},88318:function(e,t,n){n(61894),n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.codeblock=void 0;var o=i(n(66603));n(82403),n(6284),n(69268),n(86837),n(84889);var a=n(70846),r=n(15240),s=i(n(32483)),l=n(27251);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.codeblock={loadCode:"load",language:"Plain Text",codeMode:"Plain Text",lineWrapping:!0,lineNumbers:!0,text:"",editors:{},topicRenderSuccess:!1,minWidth:402,defaultWidth:560,codeStyle:{},needFocus:!1,dlgShowStatus:!1,modeInfo:[{name:"Plain Text",mime:"text/plain",mode:"Plain Text",ext:["txt","text","conf","def","list","log"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]}],languagetomode:function(e){var t=e;return this.modeInfo.forEach(function(n){if(n.name==e)return t=n.mode,!1}),t},loadCodeJs:function(e){var t=this;e=e||function(){},2!==editorGlobalConfig.showCodeBlock?"succcess"==this.loadCode||this.topicRenderSuccess||"loading"!=this.loadCode&&(this.loadCode="loading",l.bigPipe.render({js:[staticBasePath+"/code/lib/codemirror.js"],css:[staticBasePath+"/code/lib/codemirror.css"]},function(){l.bigPipe.render({js:[staticBasePath+"/code/addon/selection/active-line.js",staticBasePath+"/code/addon/edit/matchbrackets.js",staticBasePath+"/code/addon/edit/closebrackets.js",staticBasePath+"/code/addon/mode/simple.js",staticBasePath+"/code/mode/css/css.js",staticBasePath+"/code/mode/go/go.js",staticBasePath+"/code/mode/htmlmixed/htmlmixed.js",staticBasePath+"/code/mode/clike/clike.js",staticBasePath+"/code/mode/javascript/javascript.js",staticBasePath+"/code/mode/python/python.js",staticBasePath+"/code/mode/ruby/ruby.js",staticBasePath+"/code/mode/sql/sql.js",staticBasePath+"/code/mode/swift/swift.js",staticBasePath+"/code/mode/xml/xml.js",staticBasePath+"/code/mode/php/php.js",staticBasePath+"/code/mode/rust/rust.js",staticBasePath+"/code/mode/meta.js"]},function(){t.loadCode="succcess",e()})})):t.loadCode="succcess"},renderBefore:function(e,t){this.renderCodeDom(e,t)},render:function(e,t,n){if(e.code){var i=e.id;this.renderBefore(e,n),this.renderCodeEditor(e,t,n);var o=(0,r.querySelector)('.node-code[data-id="'.concat(i,'"]')),a=o.querySelector("#code-area");(0,r.isSafari)()&&a&&(a.style.position="relative");var s=o.getBoundingClientRect();(0,r.isSafari)()&&a&&(o.style.position=null,o.style.zIndex=null,a.style.position="fixed",a.style.transform="scale(".concat(editorGlobal.mindMap.view.scale,")"),a.style.transformOrigin="left top");var l=editorGlobal.mindMap.view.scale,c=s.width,d=s.height;return o.parentNode!==document.body&&(c/=l,d/=l),this.codeStyle[e.id]={width:c,height:d},{codeEl:o,width:c,height:d}}},renderCodeEditor:function(e,t,n){var i,o,a=this,s=this,l=e.id,c=e.code,u=l;if(n&&"code-dlg"==n.type?u="code-dlg":$('svg .node-code[data-id="'.concat(e.id,'"]')).length||Object.prototype.hasOwnProperty.call(this.editors,u)&&delete this.editors[u],!Object.prototype.hasOwnProperty.call(this.editors,u)&&!t){var p;(c=d(d({},{id:l,text:"",language:s.language,lineNumbers:this.lineNumbers,lineWrapping:this.lineWrapping,fold:"false"}),e.code)).curLanguage&&(c.language=c.curLanguage);var h=null===(p=(0,r.querySelector)('.node-code[data-id="'.concat(e.id,'"]')))||void 0===p?void 0:p.querySelector("textarea");n&&"code-dlg"==n.type&&(h=(0,r.querySelector)(".mind-code-dlg").querySelector("textarea")),(t=this.editors[u]=window.CodeMirror.fromTextArea(h,{mode:s.languagetomode(c.language),lineNumbers:c.lineNumbers,matchBrackets:!0,autoCloseBrackets:!0,autoCloseTags:!0,autofocus:!!n.autofocus,foldGutter:!0,lineWrapping:c.lineWrapping,viewportMargin:1/0,indentUnit:4,singleCursorHeightPerLine:!1})).on("blur",function(t,i){i&&s.editors[u]&&s.reRendering!==e.id&&"code-dlg"!=n.type&&e.code.text!=s.editors[u].getValue()&&s.updateCode(s.editors[u],e)}),t.on("paste",function(e,t){t.preventDefault()}),i=t.getScrollerElement().scrollHeight;var m=t.getValue();t.on("change",function(){var r=t.getValue();r!==m&&(m=r,"code-dlg"!=n.type&&setTimeout(function(){var n=t.getScrollerElement().scrollHeight;if(i&&n&&n!==i&&(i=n,t.hasFocus())){o=t.getCursor();var r=editorGlobal.mindMap.renderer.getCacheTopic(e.id),s=r.topicData.code.text;r.topicData.code.text=t.getValue(),a.reRendering=e.id,r.reRender(),r.topicData.code.text=s,a.reRendering=void 0,setTimeout(function(){t.focus(),o&&t.setCursor(o),o=null})}}))})}return t||(t=this.editors[u]),this.setCodeStatus(t,e,n),i=t.getScrollerElement().scrollHeight,this.initEvent(e,n),"code-dlg"==n.type&&n.autofocus&&(t.focus(),setTimeout(function(){editorGlobal.mindMap.emit("clear_Focus_Virtual"),t.focus()},10)),t},setCodeStatus:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=d(d({},{text:"",language:this.language,lineNumbers:this.lineNumbers,lineWrapping:this.lineWrapping,fold:"false"}),t.code),o=(0,r.querySelector)('.node-code[data-id="'.concat(t.id,'"]')),a=!(!(0,r.isMobile)()&&1===editorGlobal.mindMap.view.scale)&&"nocursor";"code-dlg"===n.type&&(o=(0,r.querySelector)(".mind-code-dlg .node-code"),a=!1);var s=i.language||this.language;e.setOption("mode",this.languagetomode(s)),o.querySelector(".code-language-text").innerText=i.curLanguage||i.language||s,e.setOption("lineNumbers",i.lineNumbers),e.setOption("lineWrapping",i.lineWrapping),e.setOption("readOnly",a),e.setOption("theme","deep"===editorGlobal.toolbarBgModel?"nord":"base16-light"),e.setValue(t.code.text),e.fold=t.code.fold+"",e.language=s,this.toggleFold(t.id,e.fold,n),this.setCodeSize(t,n.type,n.targetWidth),$(".node-code").css("height",(0,r.isSafari)()?"fit-content":"auto"),(0,r.isMobile)()&&($(".code-area").css("height","auto"),$(".code-fold").hide());var l=window.matchMedia("(max-width: 768px)");(!editorGlobal.mindMap.opt.readonlyList.code||l.matches||a)&&this.setReadonly(t,e)},setCodeSize:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("code-dlg"==t)(0,r.querySelector)(".mind-code-dlg").querySelector(".node-code").style.width="100%",(0,r.querySelector)(".mind-code-dlg").querySelector(".node-code").style.height="344px",(0,r.querySelector)(".mind-code-dlg").querySelector(".CodeMirror").style.height="344px",$(".mind-code-dlg .CodeMirror").css({overflowY:"scroll","::-webkit-scrollbar":{width:"9px",height:"9px"}});else{var i=Math.max(n,this.minWidth);(0,r.querySelector)('.node-code[data-id="'.concat(e.id,'"]')).style.width=i+"px"}},toggleFold:function(e,t,n){var i,o=(0,r.querySelector)('.node-code[data-id="'.concat(e,'"]'));if("code-dlg"===n.type&&(o=null===(i=(0,r.querySelector)("mind-code-dlg"))||void 0===i?void 0:i.querySelector(".node-code")),o)if("true"==t){var a=36;"v1"===editorGlobal.config.uiType&&(a=40),o.style.height="".concat(a,"px"),o.querySelector(".code-area").style.height="".concat(a,"px"),o.querySelector(".code-fold-down").innerHTML="&#xe6b7;",(0,r.isSafari)()&&((o.querySelector(".CodeMirror")||o.querySelector(".CodeMirror-wrap")).style.display="none",o.querySelector(".code-area").style.background="#f3f5f9ff")}else o.style.height="auto",o.querySelector(".code-area").style.height="auto",o.querySelector(".code-fold-down").innerHTML="&#xea6d;",(0,r.isSafari)()&&((o.querySelector(".CodeMirror")||o.querySelector(".CodeMirror-wrap")).style.display="block",o.querySelector(".code-area").style.background=void 0)},getCodeToolbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"\n\t\t\t<div class='code-fold code-fold-down po-diagraming-icons po-menu-icon'></div>\n\t\t\t<div id=".concat("title-"+(arguments.length>1?arguments[1]:void 0)," class='code-title code-op-bar'>\n\t\t\t\t").concat("code-dlg"!=e.type?"<div class='code-fold po-diagraming-icons'>&#xea6d;</div>":"","\n\t\t\t\t<div id='po-tool-select-button1' class='po-tool-select-button po-tool-select-button1' title='").concat(s.default.t("js.Switch_code_language"),"' title-pos='top'>\n\t\t\t\t\t<span class='text-content code-language-text' style='margin-right: 4px;'></span>\n\t\t\t\t</div>\n\t\t\t\t<div id='code-right' class='code-right'>\n\t\t\t\t\t<div class='po-menu-item-copy' id='po-menu-item-copy' type='button'>\n\t\t\t\t\t\t<span class='po-diagraming-icons po-menu-icon'>&#xe8ba;</span>\n\t\t\t\t\t\t<span class='text'>").concat(s.default.t("js.Copy"),"</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='code-right-line'>|</div>\n\t\t\t\t\t<div class=''>\n\t\t\t\t\t\t<span class='po-diagraming-icons po-menu-icon po-menu-set' id='po-menu-set'>&#xe74b;</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")},renderCodeDom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=e.id;if("code-dlg"==t.type&&(n=t.pdom,(0,r.removeChildren)(n,".node-code"),i="node-code-dlg"),!n||!n.querySelector(".node-code")){var o=this.getCodeToolbar(t,i),a="\n\t\t\t\t<div data-id='".concat((0,r.escapeHtml)(i),"' class='node-image node-code ").concat(window.toolbarBgModel?window.toolbarBgModel:"tint","' style='overflow:hidden;'>\n\t\t\t\t\t<div id='code-area' class='code-area' style='position:relative'>\n\t\t\t\t\t").concat(o,"\n\t\t\t\t\t").concat("<textarea  name='code' style='display:none'></textarea>","\n\t\t\t\t\t<div></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t");if(n)(0,r.appendChild)(n,a);else{if($('.node-code[data-id="'.concat(e.id,'"]')).length)return;var s=$(a);(0,r.isSafari)()&&s.css({position:"fixed",zIndex:-1,height:"fit-content"}),(0,r.isMobile)()&&s.css({"pointer-events":"none"});var l=Math.max(t.targetWidth||0,this.minWidth);s.css({width:l}),$("body").append(s)}}},renderSettingMenu:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i='<div class="menu-container" id="code-setting-menu-con"> \n\t\t<ul id="code-setting-menu" class="po-menu-small dock-grid-type-menu-set" style="left:0px;top:0px;">\n\t\t\t<li id="code-setting-lineWrapping" class="po-menu-item" style="width:160px">\n\t\t\t\t<div class="po-menu-item-box" style="padding-left:8px"> \n\t\t\t\t\t<span class="text code-setting-label" style="font-size:13px">'.concat(s.default.t("js.Wrap"),'</span>\n\t\t\t\t\t<div class="po-switch size-mini">\n\t\t\t\t\t\t<span class="po-switch-core" style="width: 28px;"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li id="code-setting-lineNumbers" class="po-menu-item" style="width:160px">\n\t\t\t\t<div class="po-menu-item-box" style="padding-left:8px"> \n\t\t\t\t\t<span class="text" style="font-size:13px">').concat(s.default.t("js.Show_line_number"),'</span>\n\t\t\t\t\t<div class="po-switch size-mini">\n\t\t\t\t\t\t<span class="po-switch-core" style="width: 28px;"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t\t</div>\n\t\t');(0,r.querySelector)("#code-setting-menu-con")||(0,r.appendChild)((0,r.querySelector)("body"),i),$("#code-setting-menu").dropdown({target:e,isSelect:!1,zindex:n,position:"left",onSelect:function(){}}),this.setSettingMenuData(t)},setSettingMenuData:function(e){(0,r.querySelector)("#code-setting-menu").setAttribute("date-id",e.id);var t=(0,r.querySelector)("#code-setting-lineWrapping").querySelector(".po-switch");t.classList.remove("is-checked"),e.code.lineWrapping&&t.classList.add("is-checked");var n=(0,r.querySelector)("#code-setting-lineNumbers").querySelector(".po-switch");n.classList.remove("is-checked"),e.code.lineNumbers&&n.classList.add("is-checked")},settingEvent:function(){var e=this;$("#code-setting-menu-con .po-switch").each(function(t,n){var i,o=editorGlobal.mindMap.renderer.selectedTopicList[0],a=o.id,r=o.getData("code");0===t&&(i=r.lineWrapping),1===t&&(i=r.lineNumbers),$(n).switch({firstColor:"",secondColor:"#409eff",status:i?"on":"off",size:"mini",change:function(n){var i=o.id;e.dlgShowStatus&&(i="code-dlg"),t?(e.lineNumbers=n,e.editors[i].setOption("lineNumbers",n),e.lineNumbers=e.editors[i].getOption("lineNumbers")):(e.lineWrapping=n,e.editors[i].setOption("lineWrapping",n),e.lineWrapping=e.editors[i].getOption("lineWrapping")),e.dlgShowStatus||e.updateCode(e.editors[i],o.getPureData()),$("#title-"+a).removeClass("showCodeTitle")}})})},setReadonly:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.id;t.setOption("readOnly","nocursor"),$("#title-"+i).css({display:n?"block":void 0}),$("#title-"+i+" #code-right").css({display:n?"none":void 0}),n?$("#title-"+i+" #po-tool-select-button1").addClass("disabled"):$("#title-"+i+" #po-tool-select-button1").removeClass("disabled")},codeWidthCompute:function(){return"560px"},renderModeList:function(){var e=this.modeInfo;if(!(0,r.querySelector)("#codeblock-dock-grid-type-menu")){for(var t="",n=0;n<e.length;n++)t+='<li class="po-menu-item" mode="'.concat(e[n].mode,'" mime="').concat(e[n].mime,'" name="').concat(e[n].name,'"><div class="po-menu-item-box"> <span class="text">').concat(e[n].name,"</span></div></li>");var i='\n\t\t\t\t<div class="menu-container" id="codeblock-dock-grid-type-menu">\n\t\t\t\t\t<ul id="dock-grid-type-menu" class="po-menu-small codeblock-dock-grid-type-menu">\n\t\t\t\t\t\t'.concat(t,"\n\t\t\t\t\t</ul>\n\t\t\t\t</div>");(0,r.appendChild)((0,r.querySelector)("body"),i)}},renderCodeDlg:function(){var e='<div class="mind-code-dlg po-dialog" style="height:550px; display: none;">\n\t\t\t<div class="po-dialog-header page-title">'.concat(s.default.t("Edit_Code_block"),'</div>\n\t\t\t<div class="mind-dlg-content" style="margin-top: -8px;">\n\t\t\t\t<div tit="mind-tabs-styles">\n\t\t\t\t\t<div class="container" style="width: 770px; align-items: flex-start;padding:0px 24px; height: 404px;"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="po-buttons customise-buttons" style="border: none;">\n\t\t\t\t\t<div id="btn-code-close" class="po-button" style="margin-right:12px;">').concat(s.default.t("Cancel"),'</div>\n\t\t\t\t\t<div id="btn-code-save" class="po-button primary">').concat(s.default.t("Save_pic"),"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>");return(0,r.querySelector)(".mind-code-dlg")||((0,r.appendChild)((0,r.querySelector)("body"),e),this.initCodeDlgEvent()),(0,r.querySelector)(".mind-code-dlg")},initCodeDlgEvent:function(){var e=$(".mind-code-dlg");e.length&&e.find("#btn-code-save, #btn-code-close").off("mouseup").on("mouseup",function(){e.dialog("close")})},codeDlg:function(e){var t=this,n=this.renderCodeDlg();$(n).dialog({onClose:function(){t.dlgShowStatus=!1,t.editors["code-dlg"].language=t.editors[e.id]&&t.editors[e.id].language,t.updateCode(t.editors["code-dlg"],e)}}),this.dlgShowStatus=!0;var i=n.querySelector(".container");this.render(e,t.editors["code-dlg"],{type:"code-dlg",pdom:i,autofocus:!0})},showCodeBox:function(e){if(e&&editorGlobal.mindMap.opt.readonlyList.code&&!(0,r.isMobile)()){var t=$('.node-code[data-id="'.concat(e.id,'"]')),n=this.renderCodeBox(),i=$(n);i.appendTo("body"),$.fn.showPanel({target:t,panel:i,position:"top",zoom:editorGlobal.mindMap.view.scale}),$(".insert-img-item").off("click").on("click",function(){var t=$(this).attr("tit");if($(".po-hover-tip").remove(),"del"==t)return editorGlobal.mindMap.emit("delcode",e),void $("#insert-img-toolbar").remove()})}},renderCodeBox:function(){return $("#insert-img-toolbar").length>0&&$("#insert-img-toolbar").remove(),'<div id="insert-img-toolbar" class="insert-img-toolbar po-dropdown posT"><div class="insert-img-item po-tool-button other" tit="del" title-pos="top" title="'+s.default.t("js.Remove_block_of_code")+'"><span class="po-diagraming-icons text_content">&#xe7b7;</span></div></div>'},initEvent:function(e,t){var n=this,i=e.id,o=$('.node-code[data-id="'.concat(i,'"]'));"code-dlg"==t.type&&(o=$(".mind-code-dlg .node-code")),"code-dlg"!=t.type&&(o.find(".code-fold").off("mouseup").on("mouseup",function(e){e.stopPropagation()}),o.find(".code-fold").off("click").on("click",function(a){a.stopPropagation();var r=i;"code-dlg"===t.type&&(r="code-dlg"),e.code.fold?n.editors[r].fold="true"===e.code.fold?"false":"true":n.editors[r].fold="false",n.toggleFold(i,n.editors[r].fold,t),o.find(".CodeMirror-scroll").scrollTop(0),editorGlobal.mindMap.renderer.getTopicById(e.id)._topic.selected(),e.code.fold=n.editors[r].fold,n.updateCode(n.editors[e.id],e)})),o.find(".code-area").off().on("click",function(o){if("code-dlg"!==t.type&&"true"!==e.code.fold){var a=editorGlobal.mindMap.renderer.getTopicById(i);a._topic.selected(),setTimeout(function(){(0,r.isMobile)()||n.editors[i].focus(),editorGlobal.mindMap.renderer.moveTopicToClientView(a._topic)}),n.showCodeBox(a),o.stopPropagation()}}),o.find(".code-area").off("dblclick").on("dblclick",function(e){e.stopPropagation()}),o.find(".code-area").off("mousedown").on("mousedown",function(e){e.stopPropagation()}),o.find(".CodeMirror").off("click.edit").on("click.edit",function(o){(0,r.isMobile)()||"code-dlg"!=t.type&&(editorGlobal.mindMap.renderer.getTopicById(i)._topic.selected(o),1!==editorGlobal.mindMap.view.scale&&1===editorGlobal.mindMap.renderer.selectedTopicList.length&&editorGlobal.mindMap.opt.readonlyList.code&&(n.codeDlg(e),o.stopPropagation(),o.preventDefault()))}),editorGlobal.mindMap.on("scale",function(t){if($("#insert-img-toolbar").remove(),1===t&&editorGlobal.mindMap.opt.readonlyList.code){var i=n.editors[e.id];i&&i.setOption("readOnly",!1),i&&i.refresh()}}),editorGlobal.mindMap.on("view_data_change_real_time",function(){$("#insert-img-toolbar").remove()}),editorGlobal.mindMap.on("readonly_change",function(t){Object.prototype.hasOwnProperty.call(t,"code")&&(t.code?n.setReadonly(e,n.editors[e.id],!1):n.setReadonly(e,n.editors[e.id],!0))}),o.find(".po-tool-select-button1").button({onClick:function(i,a){i.stopPropagation(),n.renderModeList();var s=8;"code-dlg"===t.type?s=(0,r.querySelector)(".mind-code-dlg").style.zIndex-0+1:editorGlobal.mindMap.renderer.getTopicById(e.id)._topic.selected(),o.find(".code-op-bar").addClass("showCodeTitle"),$("#dock-grid-type-menu").dropdown({target:a,isSelect:!0,zindex:s,maxHeightWithWindow:"510px",position:"left",onSelect:function(t){n.editors[e.id].setOption("mode",t.get(0).attributes.mode.value),n.editors[e.id].language=t.get(0).attributes.name.value,n.language=t.get(0).attributes.name.value,this.dlgShowStatus||n.updateCode(n.editors[e.id],e)}})}}),o.find(".po-menu-set").button({onClick:function(i,o){i.stopPropagation();var a=8,s=editorGlobal.mindMap.renderer.getTopicById(e.id);"code-dlg"===t.type?a=(0,r.querySelector)(".mind-code-dlg").style.zIndex-0+1:s._topic.selected(),n.renderSettingMenu(o,s,a),n.settingEvent(s)}}),o.find(".po-menu-item-copy").off("click.copy").on("click.copy",function(t){t.stopPropagation();var i=document.createElement("textarea");document.body.appendChild(i),i.value=n.editors[e.id].getValue().replace(/[^\S\r\n]/g," "),i.select(),document.execCommand("Copy"),$.toast({type:"success",text:s.default.t("js.Copy_success_on"),delay:"3000"}),document.body.removeChild(i)}),o.find(".CodeMirror").off("keydown.hotkey").on("keydown.hotkey",function(t){if(t.stopPropagation(),90==t.keyCode&&(t.ctrlKey||t.metaKey)){if($("#"+e.id).trigger("click"),t.shiftKey)return void a.messageSource.redo();a.messageSource.undo()}}),o.find(".CodeMirror").off("input keyup.delete keyup.enter").on("input keyup.delete keyup.enter",function(e,t){var n;return function(){var t=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(t,i)},300)}}(function(t){t.stopPropagation(),$("#insert-img-toolbar").length>0&&$("#insert-img-toolbar").remove(),n.codeStyle[e.id]={width:$("#"+e.id).children(".node-code").width(),height:$("#"+e.id).children(".node-code").height()}})),$(document).on("progressCalled",function(){Object.prototype.hasOwnProperty.call(n.editors,e.id)&&(1!==editorGlobal.mindMap.view.scale||editorGlobal.mindMap.opt.readonly?n.editors[e.id].setOption("readOnly","nocursor"):(n.editors[e.id].setOption("readOnly",!1),n.editors[e.id].refresh()),$(".CodeMirror-gutter-wrapper").css({left:window.fixVal+"px"}))})},updateCode:function(e,t){var n={},i=(0,r.deepClone)(t.code);(n=t.code?t.code:{}).id=t.id,n.text=e.getValue(),n.theme=e.getOption("theme"),n.language=e.language,delete n.curLanguage,n.lineNumbers=e.getOption("lineNumbers"),n.lineWrapping=e.getOption("lineWrapping"),n.fold=this.editors[t.id].fold,$("#"+t.id+" #code").value=n.text,editorGlobal.mindMap.code.updateCode([editorGlobal.mindMap.renderer.getTopicById(t.id)],n,i)}}},31915:function(e,t,n){n(61894),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.connectionLineStyleUI=void 0;var o=i(n(66603));n(69268),n(86837);var a=n(47306),r=i(n(32483));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.connectionLineStyleUI={init:function(){this.renderStylePanel(),this.initEvent()},initEvent:function(){editorGlobal.mindMap.on("showConnectionTip",this.showConnectionTip.bind(this)),editorGlobal.mindMap.on("hideConnectionTip",this.hideConnectionTip.bind(this)),editorGlobal.mindMap.on("view_data_change_real_time",this.hideConnectionTip.bind(this))},renderStylePanel:function(){var e='<div class="mind-connection-menu">\n                <div class="mind-connection-menu-con">\n                    <div class="mind-connection-menu-title">\n                        <span>'.concat(r.default.t("Wired_Settings"),'</span> <div id="delete-conn" class="po-tool-button"><span class="text">').concat(r.default.t("Delete_connection"),'</span><span class="po-diagraming-icons"></span></div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(r.default.t("Line_Style"),'</span>\n                        <div id="mind-conn-w" class="po-spinner-other small" style="flex:none"></div>\n                        <div alt="type" style="display: flex">\n                            <span ac="solid" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                            <span ac="dashed" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                        </div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(r.default.t("Line_color"),'</span>\n                        <div alt="color" class="mind-box-color">\n                            <span ac="#bf1e1b" class="default-color" style="background:#bf1e1b"></span>\n                            <span ac="#63abf7" class="default-color" style="background:#63abf7"></span>\n                            <span ac="#71cb2d" class="default-color" style="background:rgb(113, 203, 45)"></span>\n                            <span class="default-color" ac="#ff9f1a" style="background:#ff9f1a"></span>\n                            <span class="default-color" ac="#30bfbf" style="background:#30bfbf"></span>\n                            <span class="default-color" ac="#000000" style="background:#000"></span>\n                        </div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(r.default.t("Arrow_Style"),'</span>\n                        <div id="conn-arrow-start" class="conn-arrow-style po-tool-select-button"><span class="text-content po-diagraming-icons"><svg class="po-icon-svg" aria-hidden="true"><use xlink:href="#icon-wujiantou"></use></svg></span></div>\n                        <div id="conn-arrow-end" class="conn-arrow-style po-tool-select-button"><span class="text-content po-diagraming-icons"></span></div>\n                    </div>\n                </div>\n            </div>');$("body").append($(e))},showConnectionTip:function(e){var t=$(".mind-connection-menu"),n=$(".mind-connection-con-new[conn="+e.id+"]").find(".mind-connection-label-icons"),i=n.offset();t.find(".selected").removeClass("selected");var o=this.getLineStyles(e),s=o.lineColor;null!=s&&s.indexOf("rgb")>=0&&(s=a.Util.getHexColor(s).hex),null!=s&&t.find("[ac="+s+"]").addClass("selected"),t.find("[alt=type] [ac="+o.lineType+"]").addClass("selected"),$("#mind-customise-bw").children("span").text(r.default.t("None"));var l=$("#conn-arrow-start-list [tp="+(o.lineStartArrow||1)+"]").find(".po-diagraming-icons").html();$("#conn-arrow-start").button("setText",l),$("#conn-arrow-start").attr("tp",o.lineStartArrow||1);var c=$("#conn-arrow-end-list [tp="+o.lineEndArrow+"]").find(".po-diagraming-icons").html();$("#conn-arrow-end").button("setText",c),$("#conn-arrow-end").attr("tp",o.lineEndArrow||3);var d={left:i.left+16+10,top:i.top-8},u=this.showMenuPos(d,t,n)||d;t.css({left:u.left,top:u.top}).show(),this.bindEvents(e)},bindEvents:function(e){var t=this;$("#mind-conn-w").spinner({min:1,max:5,step:1,unit:"px",width:100,onChange:function(e){editorGlobal.mindMap.emit("updateConnStyle","width",e)}});var n=this.getLineStyles(e);$("#mind-conn-w").spinner("setValue",(n.lineWidth||2)+"px"),$("#conn-arrow-start").button({onClick:function(e,t){var n=t.attr("tp");$("#conn-arrow-start-list").dropdown({target:t,zindex:10,onSelect:function(e){n=e.attr("tp"),editorGlobal.mindMap.emit("updateConnStyle","startArrow",n),t.button("setText",e.find(".po-diagraming-icons").html()),t.attr("tp",n)}}),$("#conn-arrow-start-list [tp='"+n+"']").menuitem("select")}}),$("#conn-arrow-end").button({onClick:function(e,t){var n=t.attr("tp");$("#conn-arrow-end-list").dropdown({target:t,zindex:10,onSelect:function(e){n=e.attr("tp"),editorGlobal.mindMap.emit("updateConnStyle","endArrow",n),t.button("setText",e.find(".po-diagraming-icons").html()),t.attr("tp",n)}}),$("#conn-arrow-end-list [tp='"+n+"']").menuitem("select")}}),$(".mind-connection-menu").find("div[alt]").children().off("click").on("click",function(){var e=$(this),t=e.parent(),n=e.attr("ac"),i=t.attr("alt");e.addClass("selected").siblings().removeClass("selected"),editorGlobal.mindMap.emit("updateConnStyle",i,n)}),$("#delete-conn").off().on("click",function(n){editorGlobal.mindMap.connectionLine.currentLine&&(editorGlobal.mindMap.connectionLine.deleteConnection(e),t.hideConnectionTip()),n.stopPropagation()}),$(document).off("click.connectionMenu").on("click.connectionMenu",function(e){0==$(e.target).closest(".mind-connection-menu, #conn-arrow-start-list, #conn-arrow-end-list").length&&t.hideConnectionTip()})},hideConnectionTip:function(){$(".mind-connection-menu").hide()},showMenuPos:function(e,t,n){if(e){var i=$(window).height(),o=$(window).width(),a=t.outerWidth(),r=t.outerHeight(),s=n.offset();e.left<10&&(e.left+=a+20,e.top=s.top-r/2-10),e.left+a>o&&(e.left-=a+20,e.top=s.top-r/2-10),e.top<$("header").height()&&(e.top=$("header").height()+20),e.top+r>i&&(e.top=i-r-20)}return e},getLineStyles:function(e){return l(l({},editorGlobal.mindMap.getThemeConfig().connectionStyle),e.styles||{})}}},62242:function(e,t,n){n(11568),n(58500),n(14237);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.Shortcutmenu=void 0;var o=i(n(66603));n(27531),n(61894),n(4790),n(82403),n(12638),n(38887),n(6284),n(37212),n(47958),n(69268),n(86837),n(84889);var a=y(n(21425)),r=n(5263),s=n(15240),l=i(n(6535)),c=n(72011),d=n(80214),u=n(21642),p=n(83316),h=y(n(31279)),m=n(78322),f=n(59666),g=n(27251),v=n(30282);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=w(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var r=o?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(i,a,r):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=function(){function e(){T(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.renderer=this.mindMap.renderer,this.showTopicMenu=!1,this.renderUIDom(),this.bindEvent()}return M(e,[{key:"renderUIDom",value:function(){var e=(0,s.querySelector)(".mind-util-container");if(!e){$("body").append($('\n\t\t\t\t<div class="mind-util-container"></div>\n\t\t\t'))}var t='<li op="code" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe89f;</span><span class="text">'.concat(l.default.t("js.Code_block"),"</span></div></li>");!1===editorGlobal.config.showCodeBlock&&(t="");var n='<li class="po-menu-item" op="comment">\n\t\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon">&#xe6ea;</span>\n\t\t\t\t\t\t\t\t<span class="text">'.concat(l.default.t("js.Comment"),'</span>\n\t\t\t\t\t\t\t\t<span class="po-menu-hotkey">').concat(c.comment.hotkey,"</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>");!1===editorGlobal.config.showComment&&(n="");var i='<li op="download-copy" class="po-menu-item"><div class="po-menu-item-box"><span class="text">'.concat(l.default.t("Export")," / ").concat(l.default.t("Copy_current_theme_as_picture"),"</span></div></li>");(0,g.injectExtraAsynCall)("isShowCopyImage")&&(i='<li op="download-part" class="po-menu-item"><div class="po-menu-item-box"><span class="text">'.concat(l.default.t("Export_current_theme_as_picture"),'</span></div></li>\n                        <li class="po-menu-item" op="copyImage">\n                            <div class="po-menu-item-box"><span class="text">').concat(l.default.t("Copy_current_theme_as_picture"),"</span>-PNG</div>\n                        </li>"));var o='\n\t\t\t<div class="mind-context-menu  po-menu po-menu-icon po-menu-hotkey">\n\t\t\t\t<ul class="mind-context-menu-content">\n                    \n\t\t\t\t\t<li op="insert-child" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe73c;</span><span class="text">'.concat(l.default.t("js.New_Subtopic"),'</span><span class="po-menu-hotkey">Tab</span></div></li>\n\t\t\t\t\t<li op="insert-siblings" class="po-menu-item"><div class="po-menu-item-box">').concat("v1"===editorGlobal.config.uiType?'<svg class="icon po-menu-icon" aria-hidden="true"><use xlink:href="#icon-a-16_tongjizhuti"></use></svg>':'<span class="po-diagraming-icons po-menu-icon">&#xe73d;</span>','<span class="text">').concat(l.default.t("Add_a_Peer_topic"),'</span><span class="po-menu-hotkey">Enter</span></div></li>\n\t\t\t\t\t<li op="insert-parent" class="po-menu-item"><div class="po-menu-item-box">').concat("v1"===editorGlobal.config.uiType?'<svg class="icon po-menu-icon" aria-hidden="true"><use xlink:href="#icon-a-16_fuzhuti"></use></svg>':'<span class="po-diagraming-icons po-menu-icon">&#xe73e;</span>','<span class="text">').concat(l.default.t("Add_Parent_Topic"),'</span><span class="po-menu-hotkey">Shift + Tab</span></div></li>\n\t\t\t\t\t<li class="devider devi-clip"></li>\n\t\t\t\t\t<li op="insert" class="po-menu-item extend"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Insert"),'</span> <span class="extend-icon po-diagraming-icons"></span></div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li op="number" class="po-menu-item extend"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Number"),'</span> <span class="extend-icon po-diagraming-icons">&#xe6b7;</span></div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="devider devi-clip"></li>\n\t\t\t\t\t<li class="po-menu-item extend" op="expand_"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Put_away_the_theme"),'</span> <span class="extend-icon po-diagraming-icons"></span></div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="po-menu-item extend" op="sel-topics"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Choose_a_Theme"),'</span> <span class="extend-icon po-diagraming-icons"></span></div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li op="sel-sums" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Select_all_summary_topics"),'</span></div></li>\n\t\t\t\t\t<li op="sel-float" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Choose_all_Free_topics"),'</span></div></li>\n\t\t\t\t\t<li class="devider devi-clip"></li>\n\t\t\t\t\t<li op="copy" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Replication"),'</span><span class="po-menu-hotkey">Ctrl + C</span></div></li>\n\t\t\t\t\t<li op="cut" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Cut"),'</span><span class="po-menu-hotkey">Ctrl + X</span></div></li>\n\t\t\t\t\t<li op="paste" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Paste"),'</span><span class="po-menu-hotkey">Ctrl + V</span></div></li>\n\t\t\t\t\t<li op="delete" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Delete"),'</span><span class="po-menu-hotkey">Del</span></div></li>\n\t\t\t\t\t<li op="delete-self" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Delete_current_topic"),'</span><span class="po-menu-hotkey">Ctrl + Del</span></div></li>\n\t\t\t\t\t<li op="delMore" class="po-menu-item extend"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Batch_Delete"),'</span> <span class="extend-icon po-diagraming-icons"></span></div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="devider devi-clip"></li>\n\t\t\t\t\t<li op="focus" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons">&#xe999;</span><div class="po-menu-item-left"><span class="text">').concat(l.default.t("Focus_Mode"),'</span><label title="').concat(l.default.t("Do_not_use_when_multiple"),'" class="po-diagraming-icons mind-tip" style="font-size:16px; display:none;"></label></div><span class="po-menu-hotkey focus">Ctrl + `</span></div></li>\n\t\t\t\t\t').concat(i,'\n\t\t\t\t\t\x3c!-- 编辑状态下的右键菜单 --\x3e\n                    <li class="po-menu-item edit" op="cut_edit"> <div class="po-menu-item-box  pl-8"><span class="text">').concat(l.default.t("Cut"),'</span> <span class="po-menu-hotkey">Ctrl+X</span></div></li>\n                    <li class="po-menu-item edit" op="copy_edit"> <div class="po-menu-item-box  pl-8"><span class="text">').concat(l.default.t("Replication"),'</span> <span class="po-menu-hotkey">Ctrl+C</span></div></li>\n                    <li class="po-menu-item edit" op="paste_edit"> <div class="po-menu-item-box  pl-8"><span class="text">').concat(l.default.t("Paste"),'</span> <span class="po-menu-hotkey">Ctrl+V</span></div></li>\n                    <li class="po-menu-item edit" op="selectall_edit"> <div class="po-menu-item-box  pl-8"><span class="text">').concat(l.default.t("Select_and_All"),'</span> <span class="po-menu-hotkey">Ctrl+A</span></div></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t'),a='\n            <div class="mind-context-menu-extend">\n                <ul class="po-menu menu-icon extend-menu" data-menu="insert" style="min-width: 185px">\n                    <li op="insert-connection" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe739;</span><span class="text">'.concat(l.default.t("Connection_line"),'</span><span class="po-menu-hotkey">Ctrl+Shift+R</span></div></li>\n                    <li op="image" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe6d3;</span><span class="text">').concat(l.default.t("Picture"),'</span><span class="po-menu-hotkey">Ctrl+Shift+I</span></div></li>\n                    <li op="icon" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe735;</span><span class="text">').concat(l.default.t("Icon"),'</span><span class="po-menu-hotkey">Alt+C</span></div></li>\n                    <li op="tag" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe736;</span><span class="text">').concat(l.default.t("Label"),'</span><span class="po-menu-hotkey">Alt+R</span></div></li>\n                    <li op="note" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe738;</span><span class="text">').concat(l.default.t("Remarks"),'</span><span class="po-menu-hotkey">Ctrl+R</span></div></li>\n                    <li op="url" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe6c0;</span><span class="text">').concat(l.default.t("Link"),'</span><span class="po-menu-hotkey">Ctrl+K</span></div></li>\n                    <li op="topic-link" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe846;</span><span class="text">').concat(l.default.t("Topic_Link"),'</span></div></li>\n                    <li op="task" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe737;</span><span class="text">').concat(l.default.t("Mission"),'</span><span class="po-menu-hotkey">Alt+L</span></div></li>\n                    <li op="equation" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe651;</span><span class="text vip-tip">').concat(l.default.t("Equation"),'</span><span class="po-menu-hotkey">Ctrl+E</span></div></li>\n                    ').concat("v1"===editorGlobal.config.uiType?"":' <li op="file" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe747;</span><span class="text vip-tip">'.concat(l.default.t("Attachment"),"</span></div></li>"),"\n                    ").concat(t,"\n                    ").concat(n,'\n                    <li class="devider devi-clip"></li>\n                    ').concat("v1"===editorGlobal.config.uiType?'<li op="insertTemplate" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons">&#xe809;</span> <span class="text">'.concat(l.default.t("Insert_Template"),"</span></div></li>"):"","\n                    ").concat("v1"===editorGlobal.config.uiType?"":' <li op="markdown" class="po-menu-item"><div class="po-menu-item-box"><span class="po-diagraming-icons po-menu-icon">&#xe903;</span><span class="text">'.concat(l.default.t("js.Markdown"),"</span></div></li>"),'\n                </ul>\n                <ul class="po-menu menu-icon extend-menu number" data-menu="number">\n                    <li op="number" type="none" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("js.None_no"),'</span></div></li>\n                    <li class="devider"></li>\n                    <li op="number" type="1" class="po-menu-item"><div class="po-menu-item-box"><span class="text">1, 2, 3, ...</span></div></li>\n                    <li op="number" type="2" class="po-menu-item"><div class="po-menu-item-box"><span class="text">I, II, III, ...</span></div></li>\n                    <li op="number" type="3" class="po-menu-item"><div class="po-menu-item-box"><span class="text">a, b, c, ...</span></div></li>\n                    <li op="number" type="4" class="po-menu-item"><div class="po-menu-item-box"><span class="text">A, B, C, ...</span></div></li>\n                    <li op="number" type="5" class="po-menu-item">\n                        <div class="po-menu-item-box">\n                            <span class="text">\n                                <i style="padding:0px 6px;margin-right:2px;border-radius:20px;background:#444;line-height:12px;font-size:10px;color:#fff;font-style:normal">1</i>,\n                                <i style="padding:0px 5px;margin-right:2px;border-radius:20px;background:#444;line-height:12px;font-size:10px;color:#fff;font-style:normal">2</i>\n                            </span>\n                        </div>\n                    </li>\n                    <li class="devider"></li>\n                    <li op="level" type="1" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("First_Layer_Numbering"),'</span></div></li>\n                    <li op="level" type="2" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("First_Two_Layers_Numbering"),'</span></div></li>\n                    <li op="level" type="3" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("First_Three_Layers_Numbering"),'</span></div></li>\n                </ul>\n                <ul class="po-menu menu-icon extend-menu" data-menu="expand_">\n                    <li op="expand" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Put_away_the_current_topic"),'</span></div></li>\n                    <li op="expand-all" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Pack_up_all_topics_in_this_class"),'</span></div></li>\n                </ul>\n                <ul class="po-menu menu-icon extend-menu" data-menu="sel-topics">\n                    <li op="sel-level-cur" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Select_the_sibling_topic"),'</span></div></li>\n                    <li op="sel-level-all" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Select_sibling_topics"),'</span></div></li>\n                </ul>\n                <ul class="po-menu menu-icon extend-menu number delMore" data-menu="delMore">\n                    <li op="deltext" type="title" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Text_version"),'</span></div></li>\n                    <li op="delicon" type="icons" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Icon"),'</span></div></li>\n                    <li op="deltag" type="tags" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Label"),'</span></div></li>\n                    <li op="delurl" type="link" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Link"),'</span></div></li>\n                    <li op="delnote" type="note" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Remarks"),"</span></div></li>\n                    ").concat((0,g.injectExtraAsynCall)("openMention")?'<li op="mention" type="title" class="po-menu-item"><div class="po-menu-item-box"><span class="text">@</span></div></li>':"","\n                </ul>\n            </div>\n        ");if("v1"===editorGlobal.config.uiType){var r={"&#xe73c;":"&#xe6c21;","&#xe6d3;":"&#xe6d3;","&#xe735;":"&#xe707;","&#xe736;":"&#xea7a;","&#xe738;":"&#xea79;","&#xe6c0;":"&#xe6c0;","&#xe737;":"&#xea7b;","&#xe651;":"&#xe651;","&#xe999;":"&#xe6c22;","&#xe6ea;":"&#xe6c2d;","&#xe739;":"&#xea78;","&#xe846;":"&#xe632;","&#xe809;":"&#xe78d;"};for(var d in r)o=o.replace(d,r[d]),a=a.replace(d,r[d])}e=$(".mind-util-container"),(0,s.querySelector)(".mind-context-menu.po-menu")||(e.append($(o)),e.append($(a)));var u='\n\t\t\t<ul class="mind-context-global-menu po-menu po-menu-icon po-menu-hotkey">\n\t\t\t\t<li op="tocenter" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons">&#xe6c24;</span> <span class="text">'.concat(l.default.t("Locate_to_the_central_theme"),'</span><span class="po-menu-hotkey">（1 <span>').concat(l.default.t("or"),'</span> F6）</span></div></li>\n\t\t\t\t<li class="devider devi-clip"></li>\n\t\t\t\t<li op="hideall" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons"></span> <span class="text">').concat(l.default.t("Close_all_topics_with_one_click"),'</span><span class="po-menu-hotkey">Ctrl + /</span></div></li>\n\t\t\t\t<li op="openall" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons"></span> <span class="text">').concat(l.default.t("Open_all_topics_with_one_click"),'</span><span class="po-menu-hotkey">Ctrl + /</span></div></li>\n\t\t\t\t').concat(this.mindMap.opt.readonly?"":'<li class="po-menu-item extend" op="sel-all-topics"><div class="po-menu-item-box"><span class="text">'.concat(l.default.t("Choose_a_Theme"),'</span> <span class="extend-icon po-diagraming-icons"></span></div></li>'),'\n\t\t\t\t<li op="showLevel" class="po-menu-item extend"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons"></span> <span class="text">').concat(l.default.t("Expand_to"),'</span> <span class="extend-icon po-diagraming-icons"></span></div>\n\t\t\t\t</li>\n                ').concat("v1"===editorGlobal.config.uiType?'<li op="insertTemplate" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons"></span> <span class="text">'.concat(l.default.t("Insert_Template"),"</span></div></li>"):'<li op="torefresh" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons"></span> <span class="text">'.concat(l.default.t("Refresh"),'</span><span class="po-menu-hotkey">Ctrl + R</span></div></li>'),'\n\t\t\t\t\x3c!-- <li op="changeToEn" class="po-menu-item"><div class="po-menu-item-box"><span class="text">翻译成英文</span></div></li> --\x3e\n\t\t\t\t\x3c!-- <li op="changeToCh" class="po-menu-item"><div class="po-menu-item-box"><span class="text">翻译成中文</span></div></li> --\x3e\n\t\t\t</ul>\n\t\t'),p='\n        <div class="mind-context-global-menu-extend">\n            '.concat(this.mindMap.opt.readonly?"":'\n                <ul class="po-menu menu-icon extend-menu" data-menu="sel-all-topics">\n                    <li op="selall" class="po-menu-item"><div class="po-menu-item-box"><span class="text">'.concat(l.default.t("Select_All_Topics"),'</span></div></li>\n                    <li op="selsum" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Select_all_summary_topics"),'</span></div></li>\n                    <li op="selfloat" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Select_All_floating_themes"),"</span></div></li>\n                </ul>"),'\n            <ul id="po-menu-level" class="po-menu menu-icon extend-menu po-menu-level" data-menu="showLevel">\n                <li op="1" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Level_1"),'</span></div></li>\n                <li op="2" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Level_2"),'</span></div></li>\n                <li op="3" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Level_3"),'</span></div></li>\n                <li op="4" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Level_4"),'</span></div></li>\n                <li op="5" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Level_5"),'</span></div></li>\n                <li op="6" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("Level_6"),"</span></div></li>\n            </ul>\n        </div>\n\n        ");(0,s.querySelector)(".mind-context-global-menu.po-menu")||(e.append($(u)),e.append($(p)))}},{key:"bindEvent",value:function(){$(document).off("contextmenu").on("contextmenu",function(e){e.preventDefault()}),this.mousedown=this.mousedown.bind(this),this.mindMap.on("mousedown",this.mousedown),this.mouseup=this.mouseup.bind(this),this.mindMap.on("mouseup",this.mouseup),this.mindMap.on("topic_mousedown",this.mousedown.bind(this)),this.mindMap.on("topic_contextmenu",this.showContextMenu.bind(this)),this.mindMap.on("show_topic_edit_contextmenu",this.showTopicEditMenu.bind(this)),this.mindMap.on("hide_topic_contextmenu",this.hideContextMenu.bind(this)),this.mindMap.on("global_contextmenu",this.showGlobalMenu.bind(this)),this.mindMap.on("hide_global_contextmenu",this.closeGlobalMenu.bind(this)),this.mindMap.on("show_hyperlink_view",this.showHyperLinkView.bind(this)),this.mindMap.on("show_file_view",this.showFileView.bind(this)),this.mindMap.on("show_tplink_view",this.showTpLinkView.bind(this)),this.mindMap.on("hide_tplink_view",this.hideTpLinkView.bind(this))}},{key:"unBindEvent",value:function(){}},{key:"mouseup",value:function(){}},{key:"mousedown",value:function(){this.hideContextMenu(),this.closeGlobalMenu()}},{key:"showContextMenu",value:function(){var e=C(k().mark(function e(t,n,i,o){var b,y,x,w,T,S,M,D,E=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x=t,i=this.mindMap.renderer.selectedTopicList.length>1,!(w=$(".mind-context-menu")).is(":visible")){e.next=5;break}return e.abrupt("return");case 5:if(o||w.find("li").show(),w.find("[op]").removeClass("disabled"),!this.mindMap.opt.readonly){e.next=10;break}if(this.mindMap.opt.readonlyList.copyShape){e.next=8;break}return e.abrupt("return");case 8:e.next=11;break;case 10:w.children().children("[op]").removeClass("disabled");case 11:return 0===this.renderer.selectedTopicList.length?$("[op=delMore]").css({display:"none"}):$("[op=delMore]").css({display:"block"}),w.attr("activeId",n.id),w.hide(),(0,p.$poCollect)("right_panel_menu_show",{moduleName:"节点右键菜单"}),this.mindMap.opt.isDisableWheel=!0,editorGlobal.mindMap.emit("hideAITopToolEntry"),editorGlobal.mindMap.emit("AIRightEntryCollect"),e.next=14,a.permission("clipboard-read");case 14:return T=e.sent,e.next=17,a.permission("clipboard-write");case 17:S=e.sent,"denied"==T||null!==(b=editorGlobal.deviceType)&&void 0!==b&&b.startsWith("wpsclient")?($("[op=copy] .text").text(l.default.t("js.copy_topic")),$("[op=paste] .text").text(l.default.t("js.paste_topic")),$("[op=paste_edit] .text").text(l.default.t("js.paste_topic"))):($("[op=copy] .text").text(l.default.t("js.Copy")),$("[op=paste] .text").text(l.default.t("js.Paste")),$("[op=paste_edit] .text").text(l.default.t("js.Paste"))),"granted"!==S&&(w.find("[op=download-part]").find(".text").html(l.default.t("Export_current_theme_as_picture")),w.find("[op=download-copy]").find(".text").html(l.default.t("Export_current_theme_as_picture")),w.find("[op=copyImage]").hide()),n.getData("number")?($("[op=level][type="+n.getData("number").level+"]").addClass("selected").siblings("[op=level]").removeClass("selected"),$("[op=number][type="+n.getData("number").type+"]").addClass("selected").siblings("[op=number]").removeClass("selected")):($("[op=level][type='1']").addClass("selected").siblings("[op=level]").removeClass("selected"),$("[op=number][type=none]").addClass("selected").siblings("[op=number]").removeClass("selected"),$("[op=level]").button("disable")),n.layout===d.CONSTANTS.LAYOUT.FISHBONE&&1===n.layoutIndex&&$("[op=focus]").button("disable"),$("[op=sel-sums], [op=sel-float]").hide(),$("[op=sel-topics]").show(),M=(null===(y=editorGlobal.mindMap.renderer.currentRoot)||void 0===y?void 0:y.id)===n.id,(n.isRoot||M)&&this.disableContextMenu(["insert-siblings","insert-parent","expand_","sel-topics","cut","delete","delete-self","focus","aigc-expand-sibling"]),n.isRoot||M||0!==n.getData("children").length||this.disableContextMenu(["expand_","delete-self"]),n.getData("collapsed")&&this.disableContextMenu(["insert-child"]),n.getData("summary")&&($("[op=sel-topics], [op=sel-float]").hide(),$("[op=sel-sums]").show(),this.disableContextMenu(["insert-siblings","insert-parent","delete-self","focus"])),n.getData("free")&&($("[op=sel-topics], [op=sel-sums]").hide(),$("[op=sel-float]").show(),this.disableContextMenu(["insert-siblings","insert-parent"])),n.getData("collapsed")?($("[op=expand] .text").text(l.default.t("js.Expand_current_topic")),$("[op=expand-all] .text").text(l.default.t("js.Expand_all_topics_in_this_class")),$("[op=expand_]>div .text").text(l.default.t("js.Expand_the_theme"))):($("[op=expand] .text").text(l.default.t("js.Put_away_the_current_topic")),$("[op=expand-all] .text").text(l.default.t("js.Pack_up_all_topics")),$("[op=expand_]>div .text").text(l.default.t("js.Put_away_the_theme"))),""===n.getData("title").trim()?$("[op=insert-ai]").button("disable"):$("[op=insert-ai]").button("enable"),D={},$(".mind-context-menu>.mind-context-menu-content li, .mind-context-menu-extend li").off().on("click",function(){var e=C(k().mark(function e(t){var i,o,a,d,h,m,b,y,x,w,T,S,M,A,F,I,O,L,P,B,N,z,j,R,G,H;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),i=$(t.currentTarget),o=i.attr("op"),i.hasClass("disabled")||!o){e.next=132;break}if(!(a=t.target).getAttribute("op")||"insert-ai-question"!=a.getAttribute("op")){e.next=8;break}E.hideContextMenu(),e.next=132;break;case 8:if("copy"!=o){e.next=12;break}E.mindMap.execCommand("COPY_NODE",{e:t.originalEvent}),e.next=131;break;case 12:if("cut"!=o){e.next=16;break}E.mindMap.execCommand("CUT_NODE",{e:t.originalEvent}),e.next=131;break;case 16:if("paste"!=o){e.next=20;break}E.mindMap.execCommand("PASTE_NODE",{e:t.originalEvent}),e.next=131;break;case 20:if("insert-child"!=o){e.next=24;break}editorGlobal.mindMap.execCommand("INSERT_CHILD_TOPIC"),e.next=131;break;case 24:if("insertTemplate"!==o){e.next=28;break}v.insertTemplate.showDlg({pos:"contextmenu"}),e.next=131;break;case 28:if("note"!=o&&"url"!=o&&"file"!=o&&"tag"!=o&&"task"!=o&&"image"!=o&&"icon"!=o){e.next=32;break}E.mindMap.emit("showRightMenu",o),e.next=131;break;case 32:if("insert-siblings"!=o){e.next=36;break}editorGlobal.mindMap.execCommand("INSERT_TOPIC"),e.next=131;break;case 36:if("insert-parent"!=o){e.next=40;break}editorGlobal.mindMap.execCommand("INSERT_PARENT_TOPIC"),e.next=131;break;case 40:if(!o.startsWith("ai_")){e.next=48;break}if(1!=(d=editorGlobal.mindMap.renderer.getSelectedTopic()).topicData.root||!/^未命名文件(?:\(\d+\))?$/.test(d.topicData.title.trim())){e.next=44;break}return e.abrupt("return",void $.toast({text:l.default.t("js.No_content_is_entered for_the_current_topic"),type:"secondary",name:"aigc-blank-topic"}));case 44:h={type:o.split("_")[1],prompt:d.topicData.title,model:i.data("model")},(0,u.AIRun)(h),e.next=131;break;case 48:if("topic-link"!=o){e.next=52;break}E.mindMap.emit("topicLinkInit"),e.next=131;break;case 52:if("insert-connection"!=o){e.next=56;break}E.mindMap.emit("renderConn",t),e.next=131;break;case 56:if("comment"!=o){e.next=60;break}editorGlobal.mindMap.emit("openCorner","comment"),c.comment.Controller.editPannel.render("right-menu"),e.next=131;break;case 60:if("insert-template"!=o){e.next=64;break}e.next=131;break;case 64:if("delete"!=o){e.next=68;break}editorGlobal.mindMap.execCommand("REMOVE_TOPIC"),e.next=131;break;case 68:if("delete-self"!=o){e.next=72;break}editorGlobal.mindMap.execCommand("REMOVE_CURRENT_NODE"),e.next=131;break;case 72:if("focus"!=o){e.next=76;break}E.mindMap.execCommand("FOCUS"),e.next=131;break;case 76:if("hideall"!=o){e.next=80;break}e.next=131;break;case 80:if("number"!=o){e.next=84;break}return m=i.attr("type"),b=$("[op=level].selected").attr("type"),y=E.mindMap.renderer.selectedTopicList,e.abrupt("return",(0==y.length||i.hasClass("selected")||(D.type=m,$("[op=level]").removeClass("disabled"),"none"==m&&$("[op=level]").addClass("disabled"),i.addClass("selected").siblings("[op=number]").removeClass("selected"),E.mindMap.emit("setNumber",y,m,b),E.mindMap.emit("number-change",y[0]),(0,p.$poCollect)("mind_click",_({tit:o,pos:"right-click-topic-menu"},D))),!1));case 84:if("level"!=o){e.next=89;break}return x=$("[op=number].selected").attr("type"),w=i.attr("type"),D.type=w,T=E.mindMap.renderer.selectedTopicList,e.abrupt("return",(0==T.length||i.hasClass("selected")||(i.addClass("selected").siblings("[op=level]").removeClass("selected"),E.mindMap.emit("setNumber",T,x,w),E.mindMap.emit("number-change",T[0]),(0,p.$poCollect)("mind_click",_({tit:o,pos:"right-click-topic-menu"},D))),!1));case 89:if("download-part"!=o&&"download-copy"!=o){e.next=93;break}(0,g.injectExtraAsynCall)("onBeforeExport",{type:"download_parthd"},C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))),e.next=131;break;case 93:if("copyImage"!=o){e.next=97;break}E.mindMap.emit("copy_topic_to_img"),e.next=131;break;case 97:if("expand"!=o){e.next=103;break}S=editorGlobal.mindMap.renderer.selectedTopicList[0],M=S.getData("collapsed")?"show":"hide",A="show"==M?l.default.t("js.Put_away_the_theme"):l.default.t("js.Expand_the_theme"),i.find(".text").text(A),E.mindMap.execCommand("TOGGLE_TOPIC_EXPAND",S),"hide"===M&&(D.tit="collapsed"),e.next=131;break;case 103:if("expand-all"!=o){e.next=108;break}F=editorGlobal.mindMap.renderer.selectedTopicList[0],I=F.layerIndex,"","hide"===(O=F.getData("collapsed")?"expand":"collapsed")&&(D.tit="".concat(O,"-all")),E.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL",I,O),e.next=131;break;case 108:if("sel-level-cur"!=o){e.next=112;break}E.mindMap.execCommand("SEL_LEVEL",{type:"cur_sub"}),e.next=131;break;case 112:if("sel-level-all"!=o){e.next=116;break}E.mindMap.execCommand("SEL_LEVEL",{type:"cur_all"}),e.next=131;break;case 116:if("sel-sums"!=o){e.next=120;break}E.mindMap.execCommand("SEL_LEVEL",{type:"summary_all"}),e.next=131;break;case 120:if("sel-float"!=o){e.next=124;break}E.mindMap.execCommand("SEL_LEVEL",{type:"free_all"}),e.next=131;break;case 124:if("equation"!=o){e.next=130;break}if(!r.insert.equation.isLimit()){e.next=127;break}return e.abrupt("return",void E.hideContextMenu());case 127:E.mindMap.emit("to_edit_status",t,n,!1,function(){var e=$(".area_box div[contenteditable]");e.find("li").length>0?e.find("li").textMoveToEnd():e.textMoveToEnd(),r.insert.equation.equationInit(e)}),e.next=131;break;case 130:if("code"===o)editorGlobal.codeblock.needFocus=!0,L=E.mindMap.renderer.selectedTopicList,E.mindMap.execCommand("SET_CODEBLOCK",{type:"add",data:L});else if("deltext"===o||"delicon"===o||"deltag"===o||"delurl"===o||"delnote"===o||"mention"===o){for(P=$("[op="+o+"]").attr("type"),B={title:"node",icons:"icon",tags:"tag",link:"url",note:"note",mention:"mention"},N=[],z=[],j=E.mindMap.renderer.getSelectedIds(),R=0;R<j.length;R++)G=E.mindMap.renderer.getTopicById(j[R]),H=(0,s.copyTopicData)(G),"node"===B[P]?"mention"===o?G.title=H.title.replace(/<span class="mention"[^>]*>.*?<\/span>/g,""):G[P]="":delete G[P],N.push(G),z.push(H);E.mindMap.execCommand("UPDATE_TOPIC_NODE",N,z,P)}else"aigc-expand-child"===o||"aigc-expand-sibling"===o?editorGlobal.mindMap.emit("AIRightExpandClick",{e:t,op:o}):"markdown"===o&&f.MarkdownImport.showPanel();case 131:E.hideContextMenu(),(0,p.$poCollect)("mind_click",_({tit:o,pos:"right-click-topic-menu"},D));case 132:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),w.children(".mind-context-menu-content").find("li.edit").off("mousedown.menu").on("mousedown.menu",function(){var e=C(k().mark(function e(t){var n,i,o,r,c,d,u,p,f;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),"copy_edit"!=(n=$(t.currentTarget).attr("op"))){e.next=17;break}if(0===t.button){e.next=5;break}return e.abrupt("return");case 5:return document.execCommand("Copy"),e.next=8,a.permission("clipboard-read");case 8:if(e.t1=e.sent,e.t0="denied"==e.t1,e.t0){e.next=12;break}e.t0=null!==(i=editorGlobal.deviceType)&&void 0!==i&&i.startsWith("wpsclient");case 12:if(!e.t0){e.next=15;break}o=(0,s.ctrlToCommand)(l.default.t("js.edit_copy_tip")),$.toast({name:"edit_copy_tip",type:"secondary",text:o});case 15:e.next=43;break;case 17:if("cut_edit"!=n){e.next=23;break}if(0===t.button){e.next=20;break}return e.abrupt("return");case 20:window.getSelection&&(r=window.getSelection(),document.execCommand("Copy"),r.rangeCount>0&&r.getRangeAt(0).deleteContents()),e.next=43;break;case 23:if("paste_edit"!=n){e.next=35;break}if(0===t.button){e.next=26;break}return e.abrupt("return");case 26:return t.preventDefault(),e.next=29,h.get();case 29:c=e.sent,d=c.content,"image"==(u=c.type)||"diagram"==u?h.paste({originEvent:x,$:$}):"string"==typeof d&&(0,m.pasteString)(d,"html"==u),e.next=43;break;case 35:if("selectall_edit"!=n){e.next=43;break}if(0===t.button){e.next=38;break}return e.abrupt("return");case 38:t.preventDefault(),(p=document.createRange()).selectNodeContents(x.target),(f=window.getSelection()).removeAllRanges(),f.addRange(p);case 43:E.hideContextMenu();case 44:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),w.children(".mind-context-menu-content").children("[op=delMore]").off("mouseover").on("mouseover",function(){var e=$(this).children("ul");if(e.is(":visible")){var t=e.outerHeight(),n=e.outerWidth(),i=e.offset().left,o=e.offset().top;t+o>$(window).height()&&e.css({top:$(window).height()-(t+o)+"px"}),n+i>$(window).width()&&e.css({left:"auto",right:"100%"})}}).on("mouseout",function(){var e=$(this).children("ul");e.length>0&&e.removeAttr("style")}),$(document).off("click.contextmenu").on("click.contextmenu",function(e){0===$(e.target).closest(".mind-context-menu").length&&E.hideContextMenu()}),i&&(w.find("[op=insert-child]").addClass("disabled"),w.find("[op=insert-siblings]").addClass("disabled"),w.find("[op=insert-parent]").addClass("disabled"),w.find("[op=insert-connection]").addClass("disabled"),w.find("[op=note]").addClass("disabled"),w.find("[op=url]").addClass("disabled"),w.find("[op=insert-ai]").addClass("disabled"),w.find("[op=topic-link]").addClass("disabled"),w.find("[op=image]").addClass("disabled"),w.find("[op=task]").addClass("disabled"),w.find("[op=code]").addClass("disabled"),w.find("[op=number]").addClass("disabled"),w.find("[op=equation]").addClass("disabled"),w.find("[op=expand_]").addClass("disabled"),w.find("[op=sel-topics]").addClass("disabled"),w.find("[op=delete-self]").addClass("disabled"),w.find("[op=focus]").addClass("disabled"),w.find("[op=download-part]").addClass("disabled"),w.find("[op=download-copy]").addClass("disabled"),w.find("[op=copyImage]").addClass("disabled"),w.find("[op=comment]").addClass("disabled")),this.readonlyContextMenu(w),w.find("[op=cut_edit]").hide(),w.find("[op=copy_edit]").hide(),w.find("[op=selectall_edit]").hide(),w.find("[op=paste_edit]").hide(),(0,s.replaceHotkey)(w),(0,s.replaceHotkey)($(".mind-context-menu-extend")),this.updateMenuPos(t,w),this.initMenuHoverEvent(w);case 23:case"end":return e.stop()}},e,this)}));return function(t,n,i,o){return e.apply(this,arguments)}}()},{key:"showTopicEditMenu",value:function(){var e=C(k().mark(function e(t,n,i){var o,a,r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(o=$(".mind-context-menu")).find(".disabled").button("enable"),o.find("li").hide(),e.next=6,this.showContextMenu(t,n,i,!0);case 6:return o.find("li").hide(),o.find("[op=cut_edit]").show(),o.find("[op=copy_edit]").show(),o.find("[op=selectall_edit]").show(),o.find("[op=paste_edit]").show(),e.next=13,h.get();case 13:a=e.sent,a.content?o.find("[op=paste_edit]").button("enable"):o.find("[op=paste_edit]").button("disable"),window.getSelection&&(r=window.getSelection()).rangeCount>0&&r.getRangeAt(0).collapsed&&(o.find("[op=cut_edit]").button("disable"),o.find("[op=copy_edit]").button("disable"));case 16:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"disableContextMenu",value:function(e){var t=$(".mind-context-menu");e.forEach(function(e){t.find("[op="+e+"]").addClass("disabled")})}},{key:"readonlyContextMenu",value:function(e){if(this.mindMap.opt.readonly){e.children().children("[op]").addClass("disabled");var t=["expand_","focus"];this.mindMap.opt.readonlyList.selectShape&&t.push("sel-topics"),this.mindMap.opt.readonlyList.copyShape&&t.push("copy"),t.forEach(function(t){e.children().children("[op=".concat(t,"]")).removeClass("disabled")})}}},{key:"hideContextMenu",value:function(){$(".mind-context-menu").hide(),$(".mind-context-menu-extend").hide(),this.mindMap.opt.isDisableWheel=!1}},{key:"showSummaryTip",value:function(e,t){var n=$("#"+t).find(".summary-dot");if(n.length>0){var i=e.util.getSelectedPartByPos(t),o=$(".mind-summary-menu"),a=n.offset(),r=a.left+20,s=a.top+o.height()/2;"left"==i&&(r=a.left-o.width()),r<10&&(r=10),o.css({left:r,top:s}),o.show(),e.summary.initEvent.call(e,t)}}},{key:"hideSummaryTip",value:function(){$(".mind-summary-menu").hide()}},{key:"hideBoundaryTip",value:function(){$(".mind-boundary-menu").hide()}},{key:"showConnectionTip",value:function(e){var t=$(".mind-connection-menu"),n=$(".mind-connection-con[conn="+e.id+"]").find(".mind-connection-label-icons"),i=n.offset();t.find(".selected").removeClass("selected");var o=e.styles,a=o.lineColor;null!=a&&a.indexOf("rgb")>=0&&(a=(0,s.getHexColor)(a).hex),null!=a&&t.find("[ac="+a+"]").addClass("selected"),t.find("[alt=type] [ac="+o.lineType+"]").addClass("selected"),$("#mind-customise-bw").children("span").text(l.default.t("None"));var r=$("#conn-arrow-start-list [tp="+(o.lineStartArrow||1)+"]").find(".po-diagraming-icons").html();$("#conn-arrow-start").button("setText",r),$("#conn-arrow-start").attr("tp",o.lineStartArrow||1);var c=$("#conn-arrow-end-list [tp="+o.lineEndArrow+"]").find(".po-diagraming-icons").html();$("#conn-arrow-end").button("setText",c),$("#conn-arrow-end").attr("tp",o.lineEndArrow||3);var d={left:i.left+n.outerWidth()+10,top:i.top+8},u=this.showMenuPos(d,t,n)||d;t.css({left:u.left,top:u.top}).show()}},{key:"showMenuPos",value:function(e,t,n){if(e){var i=$(window).height(),o=$(window).width(),a=t.outerWidth(),r=t.outerHeight(),s=n.offset();e.left<10&&(e.left+=a+20,e.top=s.top-r/2-10),e.left+a>o&&(e.left-=a+20,e.top=s.top-r/2-10),e.top<$("header").height()&&(e.top=$("header").height()+20),e.top+r>i&&(e.top=i-r-20)}return e}},{key:"hideConnectionTip",value:function(){$(".mind-connection-menu").hide(),this.hideSummaryTip(),this.hideBoundaryTip()}},{key:"showGlobalMenu",value:function(e){var t=this;if(!this.mindMap.opt.readonly){var n=this,i=e.mousedownPos.x,o=e.mousedownPos.y;if(this.mindMap.opt.enableShowGlobalMenu){var a=$(".mind-context-global-menu"),r=this.renderer.mindTree,s=this.getDepth(r);if(a.length){if((0,p.$poCollect)("right_panel_menu_show",{moduleName:"空白右键菜单"}),i+a.outerWidth()>$(window).width()&&(i=$(window).width()-a.outerWidth()-30),o+a.outerHeight()>$(window).height()&&(o=$(window).height()-a.outerHeight()-30),a.css({left:i,top:o,opacity:1}).show(),this.setContextMenuGlobal(),s<6)for(var l=6;l>=s;l--)$(".po-menu-level").children(".po-menu-item [op="+l+"]").addClass("disabled");$(".mind-context-global-menu, .mind-context-global-menu-extend").find("li").off("click").on("click",function(e){var t=null,i=$(this),o=i.attr("op"),a=window.location.href,r="lang=zh-CN";if("changeToCh"==o)if(r="lang=zh-CN",a.includes("lang=")){var s=a.replace(/lang=[^&]+/,r);window.location.href=s}else window.location.href=a.includes("?")?a+"&"+r:a+"?"+r;else if("changeToEn"==o)if(r="lang=en-US",a.includes("lang=")){var l=a.replace(/lang=[^&]+/,r);window.location.href=l}else window.location.href=a.includes("?")?a+"&"+r:a+"?"+r;else"insertTemplate"===o&&v.insertTemplate.showDlg({pos:"contextmenu"});if(!i.hasClass("disable")){if("torefresh"==o)window.location.reload();else if("tonew"==o)n.events.push("toNew");else if("insert-free"==o);else if("tocenter"==o)n.mindMap.emit("move_topic_to_center");else if("hideall"==o)n.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL","all","collapaed",!0);else if("openall"==o)n.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL","all","expand",!0);else if("selall"==o)n.mindMap.execCommand("SELECT_ALL"),e.stopPropagation();else if("selsum"==o)n.mindMap.execCommand("CLEAR_ALL_SELECTED_TOPIC"),n.mindMap.execCommand("SEL_LEVEL",{type:"summary_all"}),e.stopPropagation();else if("selfloat"==o)n.mindMap.execCommand("CLEAR_ALL_SELECTED_TOPIC"),n.mindMap.execCommand("SEL_LEVEL",{type:"free_all"}),e.stopPropagation();else if("showLevel"===o)e.stopPropagation();else if("sel-all-topics"===o)e.stopPropagation();else if("insertTemplate"==o);else if("1"===o||"2"===o||"3"===o||"4"===o||"5"===o||"6"===o){var c=o-0;n.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL",c,"collapaed"),t={type:c,tit:"showLevel",pos:"right-click-page-menu"}}"showLevel"!==o&&"sel-all-topics"!==o&&(0,p.$poCollect)("mind_click",t||{tit:o,pos:"right-click-page-menu"}),n.closeGlobalMenu()}}),a.children("li").off("mouseover").on("mouseover",function(){var e=$(this).children("ul");if(e.is(":visible")){var t=e.outerHeight(),n=e.outerWidth(),i=e.offset().left,o=e.offset().top;t+o>$(window).height()&&e.css({top:$(window).height()-(t+o)+"px"}),n+i>$(window).width()&&e.css({left:"auto",right:"100%"})}}).on("mouseout",function(){var e=$(this).children("ul");e.length>0&&e.removeAttr("style")}),$(document).off("click.contextmenu").on("click.contextmenu",function(e){0===$(e.target).closest(".mind-context-global-menu").length&&t.closeGlobalMenu()}),this.updateMenuPos(e,a),this.initMenuHoverEvent(a)}}}}},{key:"closeGlobalMenu",value:function(){var e=$(".mind-context-global-menu");e.length&&e.hide().css({opacity:0});var t=$(".mind-context-global-menu-extend");t.length&&t.hide()}},{key:"setContextMenuGlobal",value:function(){var e=$(".mind-context-global-menu");e.find(".disabled").button("enable"),editorGlobal.mindMap.renderer.currentRoot?(e.children("[op=hideall]").button("disable"),e.children("[op=openall]").button("disable")):(e.children("[op=hideall]").button("enable"),e.children("[op=openall]").button("enable")),(0,s.replaceHotkey)(e)}},{key:"getDepth",value:function(e){var t=0,n=0,i=0;return function e(o,a){n=Math.max(n,a),i=Math.max(i,a),t=Math.max(n,i),o.children&&o.children.length>0&&o.children.forEach(function(t){e(t,a+1)}),o.leftChildren&&o.leftChildren.length>0&&o.leftChildren.forEach(function(t){e(t,a+1)})}(e,1),t}},{key:"showHyperLinkView",value:function(e,t){var n=e._linkData.node.node;clearTimeout(r.insert.link.linkTimer),r.insert.link.render({target:$(n),link:e.getData("link"),type:"url",zoom:this.mindMap.view.scale},function(t,n){"remove"==n?editorGlobal.mindMap.emit("removeLink","url",e):editorGlobal.mindMap.emit("setLink",t,e,"url")},"hover"),t.stopPropagation(),this.updateViewBoxPos(document.querySelector("#po_link_box"),n)}},{key:"showFileView",value:function(e,t,n){var i=e._fileData.node.node;clearTimeout(r.insert.link.linkTimer),r.insert.link.render({target:$(i),link:t,type:"file",zoom:this.mindMap.view.scale},function(t,n){"remove"==n?editorGlobal.mindMap.emit("removeLink","file",e):"open"==n?editorGlobal.mindMap.emit("open_topic_file",e):editorGlobal.mindMap.emit("setLink",t,e,"file")},"hover"),n.stopPropagation(),this.updateViewBoxPos(document.querySelector("#po_link_box"),i)}},{key:"showTpLinkView",value:function(e,t){var n=e._linkData.node.node;clearTimeout(r.insert.link.linkTimer);var i=e.getData("link"),o=i.id.replace("link_",""),a=this.mindMap.renderer.getCacheTopic(o);if(a)i.title=a._textData.node.node.textContent;else if(editorGlobal.poPagination)for(var s=editorGlobal.poPagination.list,c=0;c<s.length;c++)if((i.pageId+"").replace("page_","")==s[c].definitionId){i.title="".concat(l.default.t("js.From_the_Canvas"),":")+s[c].title;break}r.insert.link.render({target:$(n),link:i,type:"t_link"},function(n,i){"remove"==i?editorGlobal.mindMap.emit("removeTopicLink",e):"edit"==i?editorGlobal.mindMap.emit("topicLinkInit",e):"open"==i&&editorGlobal.mindMap.emit("tplink_to_topic",e,t)},"hover"),t.stopPropagation(),this.updateViewBoxPos(document.querySelector("#po_link_box"),n)}},{key:"hideTpLinkView",value:function(){r.insert.link.close()}},{key:"updateViewBoxPos",value:function(e,t,n){var i=t.getBoundingClientRect(),o=i.width,a=i.height,r=i.left;"bottom"===n&&(e.style.marginTop=a+"px"),e.style.left=r+o/2-$(e).outerWidth()/2+"px"}},{key:"updateMenuPos",value:function(e,t){t.css({maxHeight:"",overflowY:"",boxSizing:""});var n=$("#po-header").is(":visible")?$("#po-header").outerHeight():0,i=$(".po-footer").is(":visible")?$(".po-footer").outerHeight():0,o=t.outerHeight(),a=$("body").height()-n-i;o>a&&t.css({maxHeight:a+"px",overflowY:"auto",boxSizing:"border-box"});var r=this.getMenuPos(e,t),s=r.x,l=r.y;t.css({left:s,top:l,visibility:"visible",opacity:1,"z-index":12,display:"block"})}},{key:"initMenuHoverEvent",value:function(e){var t=$(".mind-context-menu-extend, .mind-context-global-menu-extend"),n=this,i=null;e.find("li").off("mouseenter.extend").on("mouseenter.extend",function(){var e=$(this).attr("op");t.children("ul").hide(),$(this).hasClass("extend")&&(n.updateExtendMenuPos(e),i&&clearTimeout(i))}).off("mouseleave.extend").on("mouseleave.extend",function(e){var t=e.relatedTarget;$(t).closest(".mind-context-menu-extend").length>0||$(t).closest(".mind-context-menu").length>0||$(t).closest(".mind-context-global-menu").length>0||$(t).closest(".mind-context-global-menu-extend").length>0||(i=setTimeout(function(){$(":hover").closest(".mind-context-menu-extend").length||$(":hover").closest(".mind-context-global-menu-extend").length||$(".mind-context-menu-extend, .mind-context-global-menu-extend").find("ul").hide()},100))}),t.off("mouseleave").on("mouseleave",function(e){var n=e.relatedTarget;$(n).closest(".mind-context-menu").length>0||$(n).closest(".mind-context-global-menu").length>0||(i=setTimeout(function(){$(":hover").closest(".mind-context-menu-extend").length||$(":hover").closest(".mind-context-global-menu-extend").length||t.find("ul").hide()},100))})}},{key:"updateExtendMenuPos",value:function(e){var t=$(".mind-context-menu, .mind-context-global-menu").find("[op="+e+"]"),n=$(".mind-context-menu-extend, .mind-context-global-menu-extend"),i=n.find("ul[data-menu="+e+"]");if(i.css({maxHeight:"",overflowY:"",boxSizing:""}),t.length&&i.length){n.show();var o=t[0].getBoundingClientRect(),a=i.outerWidth(),r=i.outerHeight(),s=$("#po-header").is(":visible")?$("#po-header").outerHeight():0,l=$(".po-footer").is(":visible")?$(".po-footer").outerHeight():0,c=$("body").width()-20,d=$("body").height()-s-l;r>d&&(i.css({maxHeight:d+"px",overflowY:"auto",boxSizing:"border-box"}),r=i.outerHeight());var u=o.right+4,p=o.top;u+a>c&&(u=o.left-a-4),p-s+r>d&&(p=$("body").height()-l-r-10),i.css({left:u+"px",top:p+"px",display:"block","z-index":12})}}},{key:"getMenuPos",value:function(e,t){var n=$("#po-header").is(":visible")?$("#po-header").outerHeight():0,i=$(".po-footer").is(":visible")?$(".po-footer").outerHeight():0,o=$("body").width()-20,a=$("body").height()-n-i,r=e.clientX+10,s=e.clientY+10,l=t.outerWidth(),c=t.outerHeight();return r+l>o&&(r=o-l),r<10&&(r=10),s+c>a-10&&(s=$("body").height()-i-c-10),{x:r,y:s}}}]),e}();t.Shortcutmenu=S,S.instanceName="shortcutmenu"},63898:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mindCorner=void 0,n(5682),n(65528),n(69268),n(86837);var i=n(83316),o=n(70400),a=n(46346),r=n(12856),s=n(6198),l=n(31708),c=t.mindCorner={focusTimer:null,init:function(e){editorGlobal.readonly?l.previewCornerRight.init():s.rCorner.init(e),r.lCorner.init(),editorGlobal.mindMap.on("openCorner",this.showCorner.bind(this)),editorGlobal.mindMap.on("hideCornerPos",this.hideCornerPos.bind(this)),editorGlobal.mindMap.on("hideCorner",this.hideCorner.bind(this))},initEvent:function(){},hideCorner:function(e){if($(".mind-corner.".concat(e)).showCorner("close"),this.hideCornerPos(e),"right"===e){var t=window.parent;t&&t.postMessage(JSON.stringify({eventName:"hideRightPannel"}))}},showCorner:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this,l="";"left"==t?l=$(".mind-corner.left"):(t="right",l=$(".mind-corner.right"));var d="242px";if("v1"===editorGlobal.config.uiType?(d="302px","shortcut"!=e&&"equation"!=e&&"history"!=e&&"search"!=e||(d="302px"),"note"==e&&(d=window.noteCornerW||"302px"),"aigc"==e&&(d="340px")):("shortcut"!=e&&"equation"!=e&&"history"!=e&&"search"!=e||(d="300px"),"note"!=e&&"comment"!=e||(d=editorGlobal.noteCornerW||"240px"),"aigc"==e&&(d="382px")),"aigc"==e&&(d="382px"),l.css({width:d}),l.hasClass("active")&&$(".mind-toolbar-right").find("[tit="+e+"]").hasClass("selected")&&"equation"!=e){if(!r)return;l.showCorner("close"),this.hideCornerPos(t)}else{this.showCornerPos(t,parseInt(d));var u=$(".mind-toolbar-right");"left"!=t&&$(".mind-toolbar-right .selected").removeClass("selected"),u.find("[tit="+e+"]").addClass("selected"),"stru"===e?e="themes":"tag"==e?(clearTimeout(this.focusTimer),this.focusTimer=setTimeout(function(){editorGlobal.mindMap.opt.readonlyList.tag&&$("#mind-topic-tag").focus()},500)):"note"==e&&(clearTimeout(this.focusTimer),this.focusTimer=setTimeout(function(){editorGlobal.mindMap.opt.readonlyList.note&&$("#mind-topic-note").focus(),$("#mind-topic-note").on("keydown",function(e){if(9==e.keyCode||45==e.keyCode){var t=this.selectionStart+2;this.value=this.value.substr(0,this.selectionStart)+"  "+this.value.substr(this.selectionStart),this.selectionStart=t,this.selectionEnd=t,this.focus(),e.preventDefault(),e.stopPropagation()}}),$(".remark-dragable").off("mousedown").on("mousedown",function(e){c.dlgDragLine.call(this,e,$(".mind-corner.right"),240,"right")})},500)),l.showCorner({type:e,onClose:function(e){s.hideCornerPos(t),u.find("[tit="+e+"]").removeClass("selected"),"right"==t&&l.css("right","-"+(l[0].offsetWidth+10)+"px"),"left"==t&&(l.css("left","-"+(l[0].offsetWidth+10)+"px"),editorGlobal.mindMap.emit("update_focus_ui_pos")),$(".po-mind-more-menu").hide(),"history"==e&&($("#po_toast").remove(),o.historyUI.currentDef&&o.historyUI.closeHistory()),a.Outline.hide()},pos:t}),editorGlobal.mindMap.emit("hideRightMoreList"),"left"===t&&editorGlobal.mindMap.emit("update_focus_ui_pos"),n&&n()}if(l.find(".close").show(),$(".mind-slider-dlg").hide(),"history"==e&&(0,i.$poCollect)("historylist_show"),"right"===t){var p=window.parent;p&&p.postMessage(JSON.stringify({eventName:"rightPannelShow",params:{right:d}}))}},showCornerXObj:{},showCornerPos:function(e,t){var n=this;function i(e,t){n.showCornerXObj[e]=t;var i=0;for(var o in n.showCornerXObj){var a=n.showCornerXObj[o];a&&(i+=a)}"v1"!==editorGlobal.config.uiType&&$(".po-footer").css("width","calc(100% - ".concat(i,"px)"));var r=$("#designer_insert_temp_wrap");"right"==e?($(".mind-header-right, .mind-toolbar-right").css("right",t+8),$("#right-help-con").css("right",t+10),$(window).width()<=800?$(".mind-header-right").hide():$(".mind-header-right").show(),r.css("right",t+10)):($(".mind-header-left, .mind-mention-focus").css("left",t+8),$(window).width()<=800?$(".mind-header-left").hide():$(".mind-header-left").show(),"v1"!==editorGlobal.config.uiType&&$(".po-footer").css("left",t),r.css("left",t)),window.editorGlobalConfig.showPage&&"v1"!==editorGlobal.config.uiType&&($("#page_box").css("width",$(window).width()-t-755),setTimeout(function(){editorGlobal.poPagination.pageSlither("select")},310))}$(window).off("resize.window").on("resize.window",function(){n.showCornerXObj[e]&&i(e,t)}),i(e,t)},hideCornerPos:function(e){var t=$("#designer_insert_temp_wrap");if(e.indexOf("right")>-1){$(".mind-header-right, .mind-toolbar-right").css("right","8px"),$("#right-help-con").css("right",10),$(".mind-header-right").is(":visible")||$(".mind-header-right").show(),$(".mind-toolbar-right .selected").removeClass("selected"),t.css("right",10),delete this.showCornerXObj.right;var n=window.parent;n&&n.postMessage(JSON.stringify({eventName:"hideRightPannel"}))}e.indexOf("left")>-1&&($(".mind-header-left, .mind-mention-focus").css("left","8px"),$(".mind-header-left").is(":visible")||$(".mind-header-left").show(),$(".po-footer").css({left:0}),t.css("left",10),delete this.showCornerXObj.left);var i=0;for(var o in this.showCornerXObj){var a=this.showCornerXObj[o];a&&(i+=a)}if(window.editorGlobalConfig.showPage&&"v1"!==editorGlobal.config.uiType){var r=document.getElementById("page_box");r&&(r.style="",setTimeout(function(){editorGlobal.poPagination.pageSlither("select")},310))}"v1"!==editorGlobal.config.uiType&&$(".po-footer").css("width","calc(100% - ".concat(i,"px)")),t.css("left",i)},dlgDragLine:function(e,t,n,i){n=n||240,$(".mind-header-left, .mind-toolbar-right, .mind-header-right").addClass("noevent");var o=t.width();t.addClass("noevent");var a=e.pageX;$(document).off("mousemove.dragable").on("mousemove.dragable",function(e){var r=e.pageX,s=o+("left"==i?r-a:a-r);s=(s=s>$(window).width()/3?$(window).width()/3:s)<n?n:s,editorGlobal.noteCornerW=s,t.css("width",s+"px"),"left"==i&&editorGlobal.mindMap.emit("update_focus_ui_pos"),c.showCornerPos(i,editorGlobal.noteCornerW)}),$(document).off("mouseup.dragable").on("mouseup.dragable",function(){$(document).off("mousemove.dragable"),$(document).off("mouseup.dragable"),t.removeClass("noevent"),$(".mind-header-left, .mind-toolbar-right, .mind-header-right").removeClass("noevent")})}}},12856:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.lCorner=void 0;var o=i(n(32483)),a=n(70400),r=n(46346),s=n(63898);t.lCorner={hasHistory:!1,init:function(){this.renderCorner(),!0===editorGlobal.config.history&&(this.hasHistory=!0,a.historyUI.init($('.mind-corner.left [tit="history"]')),editorGlobal.mindMap.keyCommand.addShortcut("Shift+r",function(){s.mindCorner.showCorner("history","left")})),editorGlobal.config.supportSearch&&(r.Outline.renderDom($(".mind-corner.left")),r.Outline.initEvent()),this.initEvent()},initEvent:function(){},renderCorner:function(){var e;e='\n        <div class="mind-corner left">\n            <div class="po-tool-button close"><span class="po-diagraming-icons">&#xe6b9;</span></div>\n            <div style="display:none;" tit="history">\n                <div class="corner-title">\n                    <div class="label">'.concat(o.default.t("Historical_record"),"\n                    </div>\n                </div>\n            </div>\n        </div>\n        "),$("body").append($(e))}}},6198:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.rCorner=void 0;var i=n(31062),o=n(22169),a=n(9969),r=n(2473),s=n(47675),l=n(59745),c=n(38648);t.rCorner={init:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).setPageUI;this.renderCorner();var t=$(".mind-right-con");e?e.init(t):r.setStyleUI.init(t),i.iconsUI.init(t),a.shortcutUI.init(t),l.taskUI.init(t),o.noteUI.init(t),s.tagsUI.init(t),c.structure.init(t),this.initEvent()},initEvent:function(){editorGlobal.mindMap.on("topic_selected",function(e,t){var n=0===t.length;["icon","tag","note","task"].forEach(function(e){var t=$(".mind-corner.right [tit=".concat(e,"] .con"));n?t.addClass("mind-disable"):editorGlobal.mindMap.opt.readonlyList[e]&&t.removeClass("mind-disable")})})},renderCorner:function(){$("body").append($('\n\t\t\t<div class="mind-corner right mind-right-con">\n\t\t\t\t<div class="  po-tool-button close"><span class="po-diagraming-icons">&#xe6b9;</span></div>\n\t\t\t</div>\n\t    '))},initDock:function(){}}},31708:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.previewCornerRight=void 0,n(69268),n(86837),t.previewCornerRight={init:function(){this.renderCorner(),this.initEvent()},initEvent:function(){editorGlobal.mindMap.on("openCorner",this.showCorner.bind(this))},renderCorner:function(){$("body").append($('\n\t\t\t<div class="mind-corner right mind-right-con">\n\t\t\t\t<div class="  po-tool-button close"><span class="po-diagraming-icons">&#xe6b9;</span></div>\n\t\t\t</div>\n\t    '))},showCorner:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=$(".mind-corner.right"),a="238px";if("comment"==e&&(a="240px"),o.css({width:a}),o.hasClass("active")&&$(".mind-toolbar-right").find("[tit="+e+"]").hasClass("selected")){if(!i)return;o.showCorner("close")}else o.showCorner({type:e,onClose:function(){"right"==t&&o.css("right","-"+(o.width()+10)+"px")},pos:t}),n&&n();o.find(".close").show()}}},54690:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownList=void 0,n(38297),n(69268),n(84889);var i=n(79753);t.DropDownList=function(){function e(){T(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},{type:["default"],width:"auto",position:"left",size:null,bind:!0,menuIcon:!0,zoom:1,onSelect:function(){},callback:function(){}},t);this.type=n.type,this.width=n.width,this.target=n.target,this.selectAc=n.selectAc,this.onSelect=n.onSelect,this.zindex=n.zindex,this.position=n.position,this.size=n.size,this.menuIcon=n.menuIcon,this.bind=n.bind,this.zoom=n.zoom;var o=n.list||i.ListConstants[n.name]||[];o.length>0?(this.mindDropDownList=$("#mind-dropdown-list"),this.createList(o)):n.menu&&(this.dropdown(n.menu),n.callback())}return M(e,[{key:"createList",value:function(e){var t=this.type,n=this.width,i=this.menuIcon,o=this.mindDropDownList;o.length?o.html(""):o=$('<ul id="mind-dropdown-list" class="po-menu-small"></ul>').appendTo("body"),o.attr("class","po-menu-small"),this.size&&o.addClass(this.size),e.forEach(function(e){if(t.indexOf(e.type)>-1){var a="";a+=0==i?"padding-left: 16px;":"",a+="mind_watermark_add"==e.ac?"justify-content: flex-start;":"",$('<li class="po-menu-item" ac="'.concat(e.ac,'">\n                <div class="po-menu-item-box" style="').concat(a,'">\n                    ').concat(e.text,"\n                </div>\n             </li>")).css("width","auto"==n?"auto":n-8).appendTo(o)}}),o.css("width",""),"auto"!=n&&o.css("width",n),this.dropdown(o)}},{key:"setPosition",value:function(e){var t,n=this.target,i=n.outerWidth(),o=n.offset().left,a=e.outerWidth(),r=$(window).width(),s=this.position;(t="left"==s?o:"center"==s?o+i*this.zoom/2-a/2:o+i*this.zoom-a)<0?this.position="left":t+a>r&&(this.position="right")}},{key:"dropdown",value:function(e){this.setPosition(e);var t=this,n={target:this.target,zindex:this.zindex,position:this.position,bind:this.bind,zoom:this.zoom,onSelect:function(e){var n=e.attr("ac");t.onSelect(n)}};e.dropdown(n),this.selectAc&&e.children('[ac="'.concat(this.selectAc,'"]')).menuitem("select")}}]),e}()},79753:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.ListConstants=void 0;var o=i(n(66603)),a=i(n(32483)),r=M(function e(){T(this,e)});t.ListConstants=r,(0,o.default)(r,"FONT_SIZE",[{ac:"12px",type:"default",text:"12px"},{ac:"13px",type:"default",text:"13px"},{ac:"14px",type:"default",text:"14px"},{ac:"15px",type:"default",text:"15px"},{ac:"16px",type:"default",text:"16px"},{ac:"17px",type:"default",text:"17px"},{ac:"18px",type:"default",text:"18px"},{ac:"19px",type:"default",text:"19px"},{ac:"22px",type:"default",text:"22px"},{ac:"28px",type:"default",text:"28px"},{ac:"36px",type:"default",text:"36px"},{ac:"50px",type:"default",text:"50px"}]),(0,o.default)(r,"MIND_STRUCTURE",[{ac:"mind_free",type:"default",text:"<span class='svg-icon' style=\"display:flex;\"><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_zuoyoufenbu'></use></svg>".concat(a.default.t("js.Left_and_right_distribution"),"</span>")},{ac:"mind_free_layout",type:"default",text:"<span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_ziyoufenbu'></use></svg>".concat(a.default.t("js.Free_distribution"),"</span>")},{ac:"mind_right",type:"default",text:"<span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_youcefenbu'></use></svg>".concat(a.default.t("js.Distribution_on_the_right"),"</span>")},{ac:"mind_left",type:"default",text:" <span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_zuocefenbu'></use></svg>".concat(a.default.t("js.Left_side_distribution"),"</span>")},{ac:"mind_tree",type:"default",text:" <span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_zuocefenbu-1'></use></svg>".concat(a.default.t("js.Tree_structure_diagram"),"</span>")},{ac:"mind_org",type:"default",text:"<span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_zuzhijiegoutu'></use></svg>".concat(a.default.t("js.Organization_Chart"),"</span>")},{ac:"mind_ishikawa_left",type:"default",text:" <span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_zuoceyugutu'></use></svg>".concat(a.default.t("js.Fishbone_diagram_on_the_left_side"),"</span>")},{ac:"mind_ishikawa_right",type:"default",text:"<span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_youceyugutu'></use></svg>".concat(a.default.t("js.Right_side_fishbone"),"</span>")},{ac:"mind_timeline_h",type:"default",text:"<span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_hengxiangshijianzhou'></use></svg>".concat(a.default.t("js.Horizontal_Timeline"),"</span>")},{ac:"mind_tree_free",type:"default",text:" <span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_shuxingtu'></use></svg>".concat(a.default.t("js.Tree_Diagram"),"</span>")},{ac:"mind_tree_right",type:"default",text:"<span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_youceshuxing'></use></svg>".concat(a.default.t("js.Right_side_tree"),"</span>")},{ac:"mind_tree_left",type:"default",text:"<span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_zuoceshuxing'></use></svg>".concat(a.default.t("js.Left_tree"),"</span>")},{ac:"mind_brace_right",type:"default",text:" <span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_youcekuohao'></use></svg>".concat(a.default.t("js.Right_side_bracket_picture"),"</span>")},{ac:"mind_brace_left",type:"default",text:" <span class='svg-icon' style=\"display:flex;\" ><svg class='icon mind-structrue' aria-hidden='true'><use xlink:href='#icon-a-16_zuocekuohao'></use></svg>".concat(a.default.t("js.Left_bracket_picture"),"</span>")}]),(0,o.default)(r,"MIND_COLLAPSED",[{ac:"expand_all",type:"shrink",text:"".concat(a.default.t("js.Put_away_all_the_themes"))},{ac:"expand_child",type:"shrink",text:"".concat(a.default.t("js.Close_subtopic"))},{ac:"expand_all_child",type:"shrink",text:"".concat(a.default.t("js.Subtopics_in_this_category"))},{ac:"expand_all",type:"expand",text:"".concat(a.default.t("js.Open_up_the_whole_subject"))},{ac:"expand_child",type:"expand",text:"".concat(a.default.t("js.Expand_subtopic"))},{ac:"expand_all_child",type:"expand",text:"".concat(a.default.t("js.Expand_all_subtopics"))}]),(0,o.default)(r,"MIND_WIDTH",[{ac:"0",type:"nullable",text:"".concat(a.default.t("js.None"))},{ac:"1px",type:"default",text:"1px"},{ac:"2px",type:"default",text:"2px"},{ac:"3px",type:"default",text:"3px"},{ac:"4px",type:"default",text:"4px"},{ac:"5px",type:"default",text:"5px"}]),(0,o.default)(r,"MIND_LINE_TYPE",[{ac:"curve",type:"default",text:"".concat(a.default.t("js.Curve"))},{ac:"straight",type:"default",text:"".concat(a.default.t("js.Straight_line"))},{ac:"roundBroken",type:"default",text:"".concat(a.default.t("js.Rounded_line"))},{ac:"broken",type:"default",text:"".concat(a.default.t("js.Polygonal_line"))}]),(0,o.default)(r,"MIND_BORDER_STYLE",[{ac:"solid",type:"default",text:"".concat(a.default.t("js.Solid_line"))},{ac:"dashed",type:"default",text:"".concat(a.default.t("js.Dotted_line"))},{ac:"dotted",type:"default",text:"".concat(a.default.t("js.Dot_and_line"))}]),(0,o.default)(r,"MIND_BORDER_RADIUS",[{ac:"mind-customise-bs1_",type:"default",text:'<span class="svg-icon" style="display:flex;"><span style="position: initial;" class="mind-icons  po-menu-icon">&#xe789;</span>'.concat(a.default.t("js.Right_Angle"),"</span>")},{ac:"mind-customise-bs2_",type:"default",text:'<span class="svg-icon" style="display:flex;"><span style="position: initial;" class="mind-icons  po-menu-icon">&#xe777;</span>'.concat(a.default.t("js.Little_rounded_corners"),"</span>")},{ac:"mind-customise-bs3_",type:"default",text:'<span class="svg-icon" style="display:flex;"><span style="position: initial;" class="mind-icons  po-menu-icon">&#xe788;</span>'.concat(a.default.t("js.Big_rounded_corners"),"</span>")}]),(0,o.default)(r,"MIND_PRIORITY",[]),(0,o.default)(r,"MIND_WATERMARK",[{ac:"mind_watermark_add",type:"default",text:'<svg class="icon po-menu-icon" aria-hidden="true"><use xlink:href="#icon-shuiyin1"></use></svg>'.concat(a.default.t("js.Insert_Custom_Watermark")).concat("object"==("undefined"==typeof editorGlobalConfig?"undefined":w(editorGlobalConfig))&&editorGlobalConfig.vipIcons&&editorGlobalConfig.vipIcons.default?"<img style='margin-left: 6px;' src='"+editorGlobalConfig.vipIcons.default+"'>":"")},{ac:"mind_watermark_del",type:"default",text:'<span class="mind-icons po-menu-icon">&#xe7ab;</span>'.concat(a.default.t("js.Delete_existing_watermark"))}])},24949:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.focusUI=void 0,n(61894),n(65528),n(82403),n(6284),n(69268),n(86837);var o=i(n(32483)),a=n(80214);t.focusUI={init:function(){var e=this;editorGlobal.mindMap.on("focus_topic",this.renderFocusBar.bind(this)),editorGlobal.mindMap.on("init_full_data",function(){e.renderFocusBar()}),editorGlobal.mindMap.on("close_topic_focus_bar",this.closeFocusBar.bind(this)),editorGlobal.mindMap.on("update_focus_ui_pos",this.updatePos.bind(this))},closeFocusBar:function(){$(".mind-topic-focus").remove()},renderFocusBar:function(e,t){var n=editorGlobal.mindMap.renderer;if(e&&e!=n.mindTree.id){var i=n.getCacheTopic(e.id),r=i.parentIds;$(".mind-util-container").find(".mind-topic-focus").remove();for(var s=['<div class="mind-topic-focus">'],l=r.length-1;l>=0;l--){var c=r[l],d=n.getCacheTopic(c),u=d.getData("title");s.push('<div topicid="'.concat(d.id,'" class="').concat(d.layout===a.CONSTANTS.LAYOUT.FISHBONE&&1===d.layoutIndex?"disabled":"",'">\n                ').concat(m(u),'</div><i class="po-diagraming-icons">&#xe756;</i>'))}s.push('<div class="active" topicid="'+i.id+'">'+m(i.getData("title"))+'</div><i title="'+o.default.t("js.Exit_focus_mode")+'" class="po-diagraming-icons close">&#xe6b9;</i>'),s.push("</div>"),$(".mind-util-container").append(s.join("")),this.defaultLeft=$(".mind-topic-focus").css("left"),this.updatePos(),this.initFocusEvent(t);var p=$(".mind-util-container").find(".equation-text");if(p.html(p.data("equation")),injectExtraAsynCall("openMention")){var h=$(".mind-topic-focus").find(".mention");h.replaceWith("@"+h.data("name"))}}else $(".mind-topic-focus").remove();function m(e){return e||(e=""),(e=(e=(e=e.replace(/\n/g,"<br>")).replace(/\u2029/g,"<br>").replace(/\u2028/g,"<br>")).replace(/\u000A/g,"<br>")).replace(/<br>/g," ")}},updatePos:function(e){void 0===e&&(e=$(".mind-corner.left").hasClass("active")?parseInt($(".mind-corner.left").css("width"))+parseInt($(".mind-corner.left").css("left"))+8+"px":this.defaultLeft),e!==$(".mind-topic-focus").css("left")&&$(".mind-topic-focus").css({left:e})},initFocusEvent:function(){var e=$(".mind-topic-focus"),t=editorGlobal.mindMap.renderer;e.children().off("click").on("click",function(e){var n=$(this);if(!n.hasClass("active")){if(localStorage.setItem("barClick",!0),"div"==this.tagName.toLowerCase()){var i=n.attr("topicid");editorGlobal.mindMap.execCommand("FOCUS",i||t.mindTree.id)}else n.hasClass("close")&&(editorGlobal.mindMap.execCommand("FOCUS",t.mindTree.id),$(".po-hover-tip").remove());e.stopPropagation()}})}}},42832:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.headerUI=void 0,n(27531),n(61894),n(82403),n(38887),n(6284),n(69268),n(86837);var o=n(83316),a=i(n(32483)),r=n(63898),s=n(46346),l=n(3578),c=n(47306),d=n(15240);t.headerUI={init:function(){var e=this;this.renderHeader(),!1===editorGlobal.config.present&&$(".mind-header-right [tit=present]").hide(),this.initEvent(),editorGlobal.mindMap.on("resetToolbarStyle",this.resetToolbarStyle.bind(this)),editorGlobal.mindMap.on("saveTitle",this.saveTitle.bind(this)),editorGlobal.mindMap.on("undoStackChanged",function(e){injectExtraAsynCall("onUndoStatus",0===e,function(){0===e?$(".mind-toolbar [tit=undo]").addClass("disabled"):$(".mind-toolbar [tit=undo]").removeClass("disabled")})}),editorGlobal.mindMap.on("redoStackChanged",function(e){injectExtraAsynCall("onRedoStatus",0===e,function(){0===e?$(".mind-toolbar [tit=redo]").addClass("disabled"):$(".mind-toolbar [tit=redo]").removeClass("disabled")})}),editorGlobal.mindMap.on("readonly_change",function(e){["undo","redo","brash","child","conn","summary","boundary","present"].forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){var n=$(".mind-header-left [tit=".concat(t,"], .mind-header-right [tit=").concat(t,"]"));e[t]?n.removeClass("disabled"):n.addClass("disabled")}})}),0===editorGlobal.mindMap.renderer.getSelectedIds().length&&this.setToolsDisable(),editorGlobal.mindMap.on("topic_selected",function(t,n){if(n.length>0){var i=n[0],o=[];!i.isRoot&&i.checkSupportAddSUmmaryAndBoundary()||(o=["boundary","summary"]),n.length>1&&o.push("conn"),e.setToolsDisable(o)}else e.setToolsDisable()})},initEvent:function(){$(".mind-header [tit]").on("click",function(e){e.stopPropagation();var t=$(this),n=t.attr("tit");switch(window.mind&&editorGlobal.mindMap.emit("hideRightMoreList"),n){case"search":editorGlobal.mindMap.emit("openCorner",n,"left",function(){s.loadOutline.init()});break;case"present":editorGlobal.mindMap.emit("hideElements"),editorGlobal.mindMap.renderer.clearSelectedTopic(),l.presenter.slidersLoading(!0),l.presenter.getSliders(function(){setTimeout(function(){l.presenter.init($(".mind-container"))},160)}),(0,o.$poCollect)("mind_click",{tit:n,pos:"top-tool"});break;case"colla-list":$("#po-clb-user-menu").dropdown({target:t,zindex:4,position:"right"}),$(".po-clb-admin").off("click").on("click",function(){$("#po-clb-user-menu").hide(),$(".po-clb-btn").trigger("click")})}}),c.Util.isMac()&&$("#po-mind-more-list, #header-file-menu").find(".po-menu-hotkey").each(function(e,t){$(t).html($(t).html().replace(/Ctrl/,"<span class='po-diagraming-icons' style='font-size: 12px;color:#a6b9cd'>&#xe795;</span>").replace(/Alt/,"<span class='po-diagraming-icons' style='font-size: 12px;color:#a6b9cd'>&#xe9e0;</span>"))}),$(".mind-toolbar [tit]").off("click").on("click",function(e){var t=$(this),n=t.attr("tit"),i=editorGlobal.mindMap.renderer.getSelectedTopic(),l=i?i.getData():{};if(editorGlobal.mindMap.emit("hideRightMoreList"),!t.hasClass("disabled")){var c=editorGlobal.mindMap.renderer.selectedTopicList;if(n){switch(n){case"search":r.mindCorner.showCorner(n,"left",function(){s.Outline.loadOutline()});break;case"undo":editorGlobal.mindMap.emit("undo");break;case"redo":editorGlobal.mindMap.emit("redo");break;case"brash":if(t.hasClass("selected"))return void editorGlobal.mindMap.emit("closeBrash");editorGlobal.mindMap.emit("initBrash");break;case"conn":editorGlobal.mindMap.emit("renderConn",e);break;case"summary":if(0==c.length)return void $.toast({type:"warning",text:a.default.t("js.Please_choose_a_topic_first")});editorGlobal.mindMap.execCommand("INSERT_SUMMARY");break;case"boundary":if(0==c.length)return void $.toast({type:"warning",text:a.default.t("js.Please_choose_a_topic_first")});editorGlobal.mindMap.execCommand("INSERT_BOUNDARY");break;case"child":if(l.collapsed)return void $.toast({type:"secondary",text:a.default.t("js.You_cannot_add_subthemes")});editorGlobal.mindMap.execCommand("INSERT_CHILD_TOPIC");break;case"more":var d=$(".mind-toolbar"),u=$(".po-tool-more-list").html("<span class='toolbar-filling'></span>");u.children("[tit]").hide(),d.find("[tit]").each(function(e,t){var n=$(t),i=n.clone(!0);n.is(":visible")||u.append(i)}),u.css("display","flex").off().on("mousedown",function(e){e.stopPropagation()}),$(document).off("mousedown.moretool").on("mousedown.moretool",function(e){e.stopPropagation(),u.hide()}),$(window).off("resize.moretool").on("resize.moretool",function(){u.hide()})}if("more"!==n)return void(0,o.$poCollect)("mind_click",{tit:n,pos:"top-tool"})}}})},setToolsDisable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["brash","child","conn","summary","boundary"];["brash","child","conn","summary","boundary"].forEach(function(t){var n=$(".mind-header-left [tit=".concat(t,"]"));e.includes(t)?n.addClass("disabled"):editorGlobal.mindMap.opt.readonlyList[t]&&n.removeClass("disabled")})},renderHeader:function(){var e={undo:"",redo:"",brash:"",child:"",conn:"",summary:"",boundary:"",present:"",export:""};for(var t in e)editorGlobal.mindMap.opt.readonlyList[t]||(e[t]="disabled");var n='\n\t\t<header id="po-header" class="mind-header">\n\t\t\t<div class="mind-header-left mind-set-background">\n\t\t\t\t<span class="toolbar-filling"></span>\n\t\t\t\t\n\t\t\t\t<div class="mind-toolbar">\n\t\t\t\t\t<div class="po-tool-button disabled" tit="undo" title="'.concat(a.default.t("Undo"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button disabled" tit="redo" title="').concat(a.default.t("Return_to"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button ').concat(e.brash,'" tit="brash" rel-title="').concat(a.default.t("Format_brush"),'（Ctrl + Shift + C）" title="').concat(a.default.t("Format_brush"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-devider"></div>\n\t\t\t\t\t<div class="po-tool-button ').concat(e.child,'" tit="child" rel-title="').concat(a.default.t("Subtopic"),'（Tab）" title="').concat(a.default.t("Subtopic"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button ').concat(e.conn,'" tit="conn" rel-title="').concat(a.default.t("Connection_line"),'" title="').concat(a.default.t("Connection_line"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button ').concat(e.summary,'" tit="summary" rel-title="').concat(a.default.t("Summary"),'（Ctrl + ]）" title="').concat(a.default.t("Summary"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button ').concat(e.boundary,'" tit="boundary" rel-title="').concat(a.default.t("Outer_frame"),'" title="').concat(a.default.t("Outer_frame"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button" tit="more" title="').concat(a.default.t("Still_More"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-more-list mind-set-background" style="display:block">\n\t\t\t\t\t\t<span class="toolbar-filling"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="mind-header-right mind-set-background">\n\t\t\t\t<span class="toolbar-filling"></span>\n\t\t\t\t<div class="po-clb-user-photo-list" style="display: none;">\n\t\t\t\t\t<ul class="users-box">\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div class="po-tool-button more po-diagraming-icons" tit="colla-list"></div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- <div class="po-mind-nav po-tool-button" title="演示"  tit="preview" style="margin-left:20px"><img src="../../common/images/icon/preview.svg" style="width:22px;"></div> --\x3e\n\t\t\t\t<div class="po-tool-button ').concat(e.present,'" title="').concat(a.default.t("Demo"),'" tit="present" style="margin-left:12px"><span class="po-diagraming-icons"></span></div>\n\t\t\t</div>\n\t\t</header>\n\t    ');$("body").prepend($(n))},saveTitle:function(e){var t=editorGlobal.chartObj.title,n=null;if(e=(0,d.getTextFromHtml)(e),(e=c.Util.restoreXss(e))&&e!=t)if(c.Util.getCharLength(e)>128)$.toast({type:"error",text:a.default.t("js.File_name_cannot_exceed")});else{t=e,editorGlobal.chartObj.title=e;var i={action:"changeTitle",title:e};editorGlobal.sendMessage.send([i]),$("#header-title").text(e),document.title=e+"-ProcessOn",clearTimeout(n),n=setTimeout(function(){c.Util.localChange({type:"rename",chartId:editorGlobal.chartId,title:e})},100)}},saveFileAuto:!0,saveFile:function(){this.saveFileAuto=!1,editorGlobal.sendMessage.saveOnline("click")},resetToolbarStyle:function(){}}},70400:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.historyUI=void 0,n(5682),n(47958),n(69268),n(86837);var o=n(59584),a=i(n(32483)),r=n(15240),s=n(83316);t.historyUI={init:function(e){this.renderHistoryCon(e),this.loadHistorys("true"),editorGlobal.mindMap.on("clearHistory",this.clearHistoryPanel.bind(this))},initConEvent:function(){var e=this;$("#btn-history-add").off("click").on("click",function(){var e=$("#area-history-add");e.show(),e.find("textarea").focus()}),$("#btn-histoty-add-cancel").off("click").on("click",function(){var e=$("#area-history-add"),t=$("#btn-history-add");e.hide(),t.show(),e.find("textarea").val("")}),$("#btn-histoty-save").off("click").on("click",function(){var t=$("#btn-history-add"),n=$(this),i=$("#history_remark").val();if(!i.trim()||i.length>200)return $.toast({type:"warning",text:a.default.t("js.The_maximum_length_cannot_exceed_200")}),$("#history_remark").focus(),!1;n.button("disable"),t.hide(),(0,s.$poCollect)("history_function"),e.saveVersion(i,!0)})},initEvent:function(){var e=this;$("#history-container").off("click.li").on("click.li","li",function(){var t=$(this),n=t.attr("def"),i=t.attr("vid");n!=e.currentDefId&&(e.currentDefId=n,e.getHistory(n,i),t.addClass("active").siblings().removeClass("active"),(0,s.$poCollect)("history_function"))}),$("#history-container .del").popconfirm({title:a.default.t("js.Delete_the_current_history")+"？",width:260,height:45,success:function(t){(0,s.$poCollect)("history_function");var n=t.parents(".history_remark").parent(),i=n.attr("def"),o=n.attr("vid");e.removeHistory(o,i),i==e.currentDefId&&(e.closeHistory(),$.toast("close","history"))}}),$("#history-container .revert").popconfirm({title:a.default.t("js.Confirm_you_want_to_revert")+"？",width:260,height:45,success:function(t){var n=t.parents(".history_remark").parent(),i=n.attr("def"),o=n.attr("vid");e.getHistory(i,o,!0)}}),$("#history-container").scroll(function(){$("#po-popover").remove(),$(this).scrollTop()+$(this).innerHeight()>=$(".history-con-list").innerHeight()-50&&!e.loadingMore&&!e.loadingHistory&&e.loadHistorys()})},renderHistoryCon:function(e){$("#history-container").length>0&&$("#history-container").remove();var t='\n\t\t<div id="history-container" class="scroll">\t\t\n\t\t\t<div id="history-none-tip" style="text-align:center;">\n\t\t\t\t<div><span style="font-size:36px;" class="po-diagraming-icons"></span></div>\n\t\t\t\t<div style="font-size:14px;margin-top:14px;">'.concat(a.default.t("No_version_recorded_at_the_moment"),'</div>\n\t\t\t\t<div class="mind-corner-des"><span>').concat(a.default.t("Point_and_click"),"</span>【<span>").concat(a.default.t("Create_New_Version"),"</span>】<br><span>").concat(a.default.t("Create_History_Manually"),'</span></div>\n\t\t\t</div>\n\t\t\t<div class="history-con-list"></div>\n\t\t</div>\n\t\t<div id="history_more" class="loader-container">\n\t\t\t<div class="loader"></div>\n\t\t</div>\n\t\t<div class="po-button-small second mind-corner-bottom " id="btn-history-add">').concat(a.default.t("Create_New_Version"),'</div>\n\t\t<div id="area-history-add" style="display:none">\n\t\t\t<textarea id="history_remark" class="input_text" placeholder="').concat(a.default.t("Fill_in_a_comment"),'"></textarea>\n\t\t\t<div class="po-buttons">\n\t\t\t\t<div id="btn-histoty-save" class="po-button-small primary" style="float:right;">').concat(a.default.t("Sure"),'</div>\n\t\t\t\t<div id="btn-histoty-add-cancel" class="po-button-small gray" style="float:right;margin-right:12px">').concat(a.default.t("Cancel"),"</div>\n\t\t\t</div>\n\t\t</div>\n\t\t");$(e).append($(t)),this.initConEvent()},currentDef:null,currentDefId:null,loadingHistory:!1,loadingMore:!1,historyPage:0,loadHistorys:function(e){var t,n,i=this;if(""!=editorGlobal.chartId){e&&(this.historyPage=0);var o=++this.historyPage,a={canvasId:null!==(t=null===(n=editorGlobal.poPagination.data[editorGlobal.poPagination.pageId])||void 0===n?void 0:n.canvasId)&&void 0!==t?t:"",pages:o,cursor:1===o?"":window.cursor,sign:1===o?"":window.sign};this.loadingHistory||(this.loadingHistory=!0,$("#history_more").show(),injectExtraAsynCall("onServerApi",{params:a,apiName:"getHistories"},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.rsList||[];window.cursor=t.cursor,window.sign=t.sign,$("#history_more").hide(),i.loadingHistory=!1,e&&(i.historyPage=0,$(".history-con-list").html("")),n.length<20&&(i.loadingMore=!0),0!=n.length&&i.renderHistory(n)}))}},renderHistory:function(e){if(null!=e){for(var t="",n=0,i=e.length;n<i;n++){var o=e[n],r=o._id.$oid,s="";"自动存储"==o.note&&(s="auto=true"),t+="<li "+s+' vid="'+r+'" def="'+o.definitionId+'"><div class="history_remark">'+o.remark+'<div class="version-op"><span class="po-diagraming-icons revert" title="'+a.default.t("js.Restore_this")+'">&#xe766;</span><span class="po-diagraming-icons del" title="'+a.default.t("js.Delete")+'">&#xe7b7;</span></div></div><div class="history_info"><span class="version_time">'+o.fullName+"</span><span>"+o.createDate+"</span></div></div></li>"}$(".history-con-list").append(t),""==t?$("#history-none-tip").show():$("#history-none-tip").hide(),this.initEvent()}},getHistory:function(e,t,n){var i=this;if(null!=e){var o={versionId:t,definitionId:editorGlobal.poPagination.pageId};injectExtraAsynCall("onServerApi",{params:o,apiName:"getHistory"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null!=e.definition&&(i.openHistory(e.definition),$.toast({type:"secondary",text:a.default.t("js.You_are_viewing_a_version")+'<span style="margin-left: 10px;color:#1F88F1;text-decoration:underline;cursor:pointer" id="revert-history">'+a.default.t("js.Restore_this_version_on")+"</span>",autoClose:!1,name:"history",onClose:function(){i.closeHistory()}}),n&&i.revert(t,e.definition),$("#revert-history").off().on("click",function(){var t=$(".history-con-list .active").attr("vid");i.revert(t,e.definition)}))})}},revert:function(e,t){var n=this,i=window.publicCLB.collaUserClient,o=Object.keys(i),r=editorGlobal.poPagination.pageId;o.length>1?n.renderTipDig("revert"):injectExtraAsynCall("onServerApi",{params:{definitionId:r,versionId:e},apiName:"revertHistory"},function(){$.toast({type:"success",text:a.default.t("js.Historical_version_restored_successfully")}),n.closeHistory(t),n.loadHistorys(!0),(0,s.$poCollect)("history_function")})},removeHistory:function(e,t){null!=e&&injectExtraAsynCall("onServerApi",{params:{versionId:e},apiName:"removeHistory"},function(){$("#history-container").find("li[def="+t+"]").remove(),$("#history-container li").length>0?$("#history-none-tip").hide():$("#history-none-tip").show()})},openingDef:null,openHistory:function(e){if(null==this.currentDef){var t=JSON.stringify(editorGlobal.mindMap.getData());this.currentDef=t}this.openingDef=e,editorGlobal.mindMap.emit("openHistoryVersion"),editorGlobal.mindMap.updateConfig({enableLinkToPage:!1});var n=JSON.parse(e);null!=n&&n.theme&&!(0,r.isJSONString)(n.theme)&&n.theme.indexOf("customise_")>=0?o.Server.getThemeById(n.theme,function(e){n.theme=e,editorGlobal.mindMap.updateConfig({readonly:!0}),editorGlobal.mindMap.setFullData(n)}):(editorGlobal.mindMap.updateConfig({readonly:!0}),editorGlobal.mindMap.setFullData(n))},closeHistory:function(e){var t=this;function n(e){var n=editorGlobal.chartId;editorGlobal.mindMap.emit("exitHistoryVersion"),editorGlobal.mindMap.updateConfig({enableLinkToPage:!0});var i=JSON.parse(e);null!=i&&i.theme&&!(0,r.isJSONString)(i.theme)&&i.theme.indexOf("customise_")>=0?o.Server.getThemeById(i.theme,function(e){i.theme=e,editorGlobal.mindMap.updateConfig({chartId:n,readonly:editorGlobal.readonly}),editorGlobal.mindMap.setFullData(i)}):(editorGlobal.mindMap.updateConfig({chartId:n,readonly:editorGlobal.readonly}),editorGlobal.mindMap.setFullData(i)),t.currentDef=null,t.currentDefId=null,$("#history-container").find(".active").removeClass("active"),$(".mind-topic-focus").remove(),$("#mind-history-tip").css({top:-56}).hide()}null==e?injectExtraAsynCall("onServerApi",{apiName:"getDefById",params:{definitionId:editorGlobal.poPagination.pageId}},function(e){n(e.def)}):n(e)},saveVersion:function(e,t){var n,i,o=this,r=this.currentDef||JSON.stringify(editorGlobal.mindMap.getData()),s="自动存储";null!=e&&""!=e&&(s=e);var l={params:{canvasId:null!==(n=null===(i=editorGlobal.poPagination.data[editorGlobal.poPagination.pageId])||void 0===i?void 0:i.canvasId)&&void 0!==n?n:"",def:r,remark:s,terminal:"WEB"},apiName:"addHistory"};injectExtraAsynCall("onServerApi",l,function(){t&&$.toast({type:"success",text:a.default.t("js.History_version_created_successfully")}),o.loadHistorys(!0),$("#area-history-add").hide(),$("#btn-history-add").show(),$("#history_remark").val(""),$("#area-history-add").find("textarea").val(""),$("#btn-histoty-save").button("enable")})},renderTipDig:function(e){var t=this;if($("#focus_dlg_tip").length>0)$("#focus_dlg_tip").dialog();else{var n=a.default.t("js.Temporarily_unable_to_enter_focus_mode")+"<br><br>"+a.default.t("js.Because_there_are_multiple_people")+'<br><br><br><div><a id="history_restore_close" style="color:#63abf7;cursor:pointer">'+a.default.t("js.Drop_the_focus")+"</a></div>";"revert"==e&&(n=a.default.t("js.Unable_to_restore_history_version")+"<br><br>"+a.default.t("js.Editing_the_brain_map")+"<br><br><br><div><a id='history_restore_close' style='color:#63abf7;cursor:pointer'>"+a.default.t("js.Give_up_recovery_on")+"</a></div>");var i='<div id="focus_dlg_tip" style="width:466px;height:208px;" class="po-dialog"><div class="po-dialog-header">'+a.default.t("js.Hint")+'</div><div class="mind-dlg-content" style="padding:0 24px">'+n+"<br><br></div></div>";$(i).appendTo("body").dialog(),$("#history_restore_close").off("click").on("click",function(){t.renderTipDigClose()})}},renderTipDigClose:function(){$("#focus_dlg_tip").dialog("close")},clearHistoryPanel:function(){this.loadingHistory=!1,this.loadingMore=!1,this.historyPage=0,$(".history-con-list").html(""),$("#history-none-tip").show()}}},30282:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.insertTemplate=void 0;var i=n(83316);t.insertTemplate={init:function(e){var t,n=this,i=1;e.on("updateTopicsLen",function(e){i=e,1===e?n.show():n.hide()}),e.on("editTopicText",function(e){1===i&&(t&&clearTimeout(t),t=setTimeout(function(){n.show(e)},1e3))})},show:function(e){var t=editorGlobal.config.insertTemp;if(1!=editorGlobal.mindMap.opt.readonly&&!1!==t.insertTemp&&!sessionStorage.getItem("temp_topic_len")){var n=$("#designer_insert_temp_wrap");0==n.length&&(n=$("<div id='designer_insert_temp_wrap' class='designer_insert_temp_wrap'></div>").appendTo("body"),(0,i.$poCollect)("bot_template_show",{})),n.css({position:"fixed",bottom:"30px"}),$("#open-insert-temp").addClass("selected");var o=editorGlobal.mindMap.renderer.mindTree,a=o.structure;"mind_org"===a&&o.hideSelf&&(a="mind_org_multistage"),injectExtraAsynCall("onShowInsertTemplate",{keyword:e,container:n,category:a})}},hide:function(){$("#designer_insert_temp_wrap").remove(),$("#open-insert-temp").removeClass("selected")},showDlg:function(e){var t=e.pos;injectExtraAsynCall("onShowInsertTemplate",{type:"dialog",pos:void 0===t?"contextmenu":t})}}},59666:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownImport=void 0,n(4790),n(89131),n(4829),n(47958),n(69268),n(86837),n(54938),n(69858),n(80784);var o=i(n(32483)),a=i(n(90745)),r=n(31279);t.MarkdownImport={textVal:"",showPanel:function(){var e=$(".markdown-import-dialog");e.length||(e=$("<div class=\"markdown-import-dialog\">\n                <div class='mask' tit='close'></div>\n                <div class='markdown-import-container'>\n                    <div class=\"markdown-header\">\n                        <span class=\"header-title\">".concat(o.default.t("js.Markdown_Panel_header"),'</span>\n                        <div class="po-tool-button close" tit="close"><span class="po-diagraming-icons">&#xe6b9;</span></div>\n                    </div>\n                    <div class="markdown-body">\n                        <textarea class="markdown-textarea">').concat(this.textVal,'</textarea>\n                        <div class="placeholder">\n                            <span class="placeholder-text">').concat(o.default.t("js.Markdown_Textarea_Placeholder"),"</span>\n                            <span>").concat(o.default.t("or"),'</span>\n                            <span class="placeholder-action" tit="upload">').concat(o.default.t("Upload_Files"),'</span>\n                        </div>\n                        <input class="markdown-input file-upload" name="file" type="file" accept=".md,.txt" />\n                    </div>\n                    <div class="markdown-footer">\n                        <span class="po-button primary').concat(this.textVal.length?"":" disabled",'" tit="submit">').concat(o.default.t("js.Use"),"</span>\n                    </div>\n                </div>\n            </div>")),document.body.appendChild(e[0])),e.removeClass("hide"),this.initEvent()},initEvent:function(){var e=this,t=$(".markdown-import-dialog"),n=t.find(".markdown-input"),i=t.find(".markdown-body"),r=t.find(".markdown-textarea"),s=t.find(".placeholder"),l=t.find(".po-button[tit=submit]"),c=function(){var e=r.val();e?s.addClass("hide"):s.removeClass("hide"),e.trim().length?l.removeClass("disabled"):l.addClass("disabled")},d=function(e){return n.attr("accept").split(",").map(function(e){return e.trim()}).some(function(t){return e.name.endsWith(t)})},u=function(e){return new Promise(function(t,n){var i=new FileReader;i.onload=function(e){var n=e.target.result;t(n)},i.onerror=function(e){n(e)},i.readAsText(e)})};c(),r.off().on("input",function(t){t.stopPropagation();var n=r.val();e.textVal=n,c()}),t.off().on("mousedown",function(e){e.stopPropagation()}).on("mouseup",function(i){var s=$(i.target).closest("[tit]").attr("tit");"submit"===s?(l.addClass("disabled"),(0,a.default)({value:e.textVal}).then(function(n){var i=n.elements;e.renderDef(i,function(n){n?(e.textVal="",r.val(""),t.addClass("hide")):l.removeClass("disabled")})}).catch(function(){$.toast({type:"error",text:o.default.t("js.Markdown_Parse_Error")})})):"close"===s?t.addClass("hide"):"upload"===s&&n.click(),i.stopPropagation()}),n.off().on("change",function(t){var i=t.target.files[0];if(i)return d(i)?void u(i).then(function(t){r.val(t),e.textVal=t,c()}).catch(function(){$.toast({type:"error",text:o.default.t("js.Markdown_Read_Error")})}).finally(function(){n.val("")}):($.toast({type:"error",text:o.default.t("js.Markdown_Type_Error")}),void n.val(""))}),i.off().on("drop",function(t){t.preventDefault();var n=t.originalEvent.dataTransfer.files[0];d(n)?u(n).then(function(t){r.val(t),e.textVal=t,c()}).catch(function(){$.toast({type:"error",text:o.default.t("js.Markdown_Read_Error")})}):$.toast({type:"error",text:o.default.t("js.Markdown_Read_Error")})})},renderDef:function(e,t){var n=editorGlobal.mindMap.renderer.getSelectedIds()[0],i={list:[e]};editorGlobal.mindMap.emit("testVip","mindShapeNum",function(e){if(editorGlobal.mindMap.renderer.getTopicLength()>=e){var o=e>150?"addtopic_svip":"addtopic";editorGlobal.mindMap.emit("vip-limit",o),t(!1)}else(0,r.pasteDiagram)({id:n,content:i,$:$,showToast:!1}),t(!0)})}}},90745:function(e,t,n){n(45987),n(96700),n(26149),n(27531),n(61894),n(65534),n(69642),n(68174),n(96909),n(64341),n(55839),n(33152),n(38297),n(54183),n(65528),n(4790),n(87812),n(1053),n(82403),n(12638),n(33809),n(38887),n(13253),n(6284),n(30940),n(47958),n(69268),n(58500),n(86837),n(84889),n(54938),n(69858),n(14237),n(78471),e.exports=function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function t(e,t,n,i,o,a,r){try{var s=e[a](r),l=s.value}catch(e){return n(e)}s.done?t(l):Promise.resolve(l).then(i,o)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,p(i.key),i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(){c=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a=(x="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",r=x.asyncIterator||"@@asyncIterator",s=x.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(t,n,i,a){var r,s,l,c;return n=n&&n.prototype instanceof v?n:v,n=Object.create(n.prototype),a=new D(a||[]),o(n,"_invoke",{value:(r=t,s=i,l=a,c=p,function(t,n){if(c===m)throw Error("Generator is already running");if(c===f){if("throw"===t)throw n;return{value:e,done:!0}}for(l.method=t,l.arg=n;;){var i=l.delegate;if(i&&(i=function t(n,i){var o=i.method,a=n.iterator[o];return a===e?(i.delegate=null,"throw"===o&&n.iterator.return&&(i.method="return",i.arg=e,t(n,i),"throw"===i.method)||"return"!==o&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g):"throw"===(o=u(a,n.iterator,i.arg)).type?(i.method="throw",i.arg=o.arg,i.delegate=null,g):(a=o.arg)?a.done?(i[n.resultName]=a.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,g):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}(i,l))){if(i===g)continue;return i}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===p)throw c=f,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);if(c=m,"normal"===(i=u(r,s,l)).type){if(c=l.done?f:h,i.arg===g)continue;return{value:i.arg,done:l.done}}"throw"===i.type&&(c=f,l.method="throw",l.arg=i.arg)}})}),n}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",h="suspendedYield",m="executing",f="completed",g={};function v(){}function b(){}function y(){}var x,k,_=(l(x={},a,function(){return this}),(k=(k=Object.getPrototypeOf)&&k(k(E([]))))&&k!==n&&i.call(k,a)&&(x=k),y.prototype=v.prototype=Object.create(x));function C(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){var n;o(this,"_invoke",{value:function(o,a){function r(){return new t(function(n,r){!function n(o,a,r,s){var l;if("throw"!==(o=u(e[o],e,a)).type)return(a=(l=o.arg).value)&&"object"==w(a)&&i.call(a,"__await")?t.resolve(a.__await).then(function(e){n("next",e,r,s)},function(e){n("throw",e,r,s)}):t.resolve(a).then(function(e){l.value=e,r(l)},function(e){return n("throw",e,r,s)});s(o.arg)}(o,a,n,r)})}return n=n?n.then(r,r):r()}})}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(t){if(t||""===t){var n,o=t[a];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(o=function o(){for(;++n<t.length;)if(i.call(t,n))return o.value=t[n],o.done=!1,o;return o.value=e,o.done=!0,o}).next=o}throw new TypeError(w(t)+" is not iterable")}return o(_,"constructor",{value:b.prototype=y,configurable:!0}),o(y,"constructor",{value:b,configurable:!0}),b.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},C(T.prototype),l(T.prototype,r,function(){return this}),t.AsyncIterator=T,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var r=new T(d(e,n,i,o),a);return t.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},C(_),l(_,s,"Generator"),l(_,a,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t,n=Object(e),i=[];for(t in n)i.push(t);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},t.values=E,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return s.type="throw",s.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;0<=a;--a){var r=this.tryEntries[a],s=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var l=i.call(r,"catchLoc"),c=i.call(r,"finallyLoc");if(l&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}var r=(a=a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc?null:a)?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,i,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(i=n.arg,M(o)),i}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:E(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return e=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return String(e);if("object"!=w(n=n.call(e,t)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"==w(e)?e:e+""}function h(e){return(h="function"==typeof Symbol&&"symbol"==w(Symbol.iterator)?function(e){return w(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":w(e)})(e)}function m(t,n){var i;if(t)return"string"==typeof t?e(t,n):"Map"===(i="Object"===(i={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function g(e,t,n,i){var o,a=e.length,r=0;if(t=t<0?a<-t?0:a+t:a<t?a:t,n=0<n?n:0,i.length<1e4)(o=Array.from(i)).unshift(t,n),e.splice.apply(e,u(o));else for(n&&e.splice(t,n);r<i.length;)(o=i.slice(r,r+1e4)).unshift(t,0),e.splice.apply(e,u(o)),r+=1e4,t+=1e4}L=function(e,t){function n(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function i(e){return null!=e&&e===e.window}var o=[],a=Object.getPrototypeOf,r=o.slice,s=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},l=o.push,c=o.indexOf,d={},u=d.toString,p=d.hasOwnProperty,m=p.toString,f=m.call(Object),g={},v=e.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var i,o,a=(n=n||v).createElement("script");if(a.text=e,t)for(i in b)(o=t[i]||t.getAttribute&&t.getAttribute(i))&&a.setAttribute(i,o);n.head.appendChild(a).parentNode.removeChild(a)}function x(e){return null==e?e+"":"object"===h(e)||"function"==typeof e?d[u.call(e)]||"object":h(e)}var w=/HTML$/i,k=function e(t,n){return new e.fn.init(t,n)};function _(e){var t=!!e&&"length"in e&&e.length,o=x(e);return!n(e)&&!i(e)&&("array"===o||0===t||"number"==typeof t&&0<t&&t-1 in e)}function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}k.fn=k.prototype={jquery:"3.7.1",constructor:k,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){return(e=k.merge(this.constructor(),e)).prevObject=this,e},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length;return e=+e+(e<0?t:0),this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var e,t,i,o,a,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"===h(r)||n(r)||(r={}),s===l&&(r=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&r!==i&&(c&&i&&(k.isPlainObject(i)||(o=Array.isArray(i)))?(a=r[t],a=o&&!Array.isArray(a)?[]:o||k.isPlainObject(a)?a:{},o=!1,r[t]=k.extend(c,a,i)):void 0!==i&&(r[t]=i));return r},k.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==u.call(e)||(e=a(e))&&("function"!=typeof(e=p.call(e,"constructor")&&e.constructor)||m.call(e)!==f))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(_(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,o=e.nodeType;if(!o)for(;t=e[i++];)n+=k.text(t);return 1===o||11===o?e.textContent:9===o?e.documentElement.textContent:3===o||4===o?e.nodeValue:n},makeArray:function(e,t){return t=t||[],null!=e&&(_(Object(e))?k.merge(t,"string"==typeof e?[e]:e):l.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI;return e=e&&(e.ownerDocument||e).documentElement,!w.test(t||e&&e.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,a=e.length,r=!n;o<a;o++)!t(e[o],o)!=r&&i.push(e[o]);return i},map:function(e,t,n){var i,o,a=0,r=[];if(_(e))for(i=e.length;a<i;a++)null!=(o=t(e[a],a,n))&&r.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&r.push(o);return s(r)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var T=o.pop,S=o.sort,M=o.splice,D="[\\x20\\t\\r\\n\\f]",E=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),A=(k.contains=function(e,t){return e===(t=t&&t.parentNode)||!(!t||1!==t.nodeType||!(e.contains?e.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))},/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g);function F(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}k.escapeSelector=function(e){return(e+"").replace(A,F)};var I,O,L,P,B,$,N,z,j,R,G=v,H=l,W=H,U=k.expando,q=0,V=0,Y=be(),X=be(),J=be(),K=be(),Z=function(e,t){return e===t&&(B=!0),0},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="\\["+D+"*("+(dt="(?:\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+")+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+dt+"))|)"+D+"*\\]",te=":("+dt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ee+")*)|.*)\\)|)",ne=new RegExp(D+"+","g"),ie=new RegExp("^"+D+"*,"+D+"*"),oe=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),ae=new RegExp(D+"|>"),re=new RegExp(te),se=new RegExp("^"+dt+"$"),le={ID:new RegExp("^#("+dt+")"),CLASS:new RegExp("^\\.("+dt+")"),TAG:new RegExp("^("+dt+"|[*])"),ATTR:new RegExp("^"+ee),PSEUDO:new RegExp("^"+te),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},ce=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,ue=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pe=/[+~]/,he=new RegExp("\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\([^\\r\\n\\f])","g"),me=function(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))},fe=function(){Ce()},ge=De(function(e){return!0===e.disabled&&C(e,"fieldset")},{dir:"parentNode",next:"legend"});try{W.apply(o=r.call(G.childNodes),G.childNodes),o[G.childNodes.length].nodeType}catch(dt){W={apply:function(e,t){H.apply(e,r.call(t))},call:function(e){H.apply(e,r.call(arguments,1))}}}function ve(e,t,n,i){var o,a,r,s,l,c,d=t&&t.ownerDocument,u=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==u&&9!==u&&11!==u)return n;if(!i&&(Ce(t),t=t||$,z)){if(11!==u&&(s=ue.exec(e)))if(o=s[1]){if(9===u){if(!(c=t.getElementById(o)))return n;if(c.id===o)return W.call(n,c),n}else if(d&&(c=d.getElementById(o))&&ve.contains(t,c)&&c.id===o)return W.call(n,c),n}else{if(s[2])return W.apply(n,t.getElementsByTagName(e)),n;if((o=s[3])&&t.getElementsByClassName)return W.apply(n,t.getElementsByClassName(o)),n}if(!(K[e+" "]||j&&j.test(e))){if(c=e,d=t,1===u&&(ae.test(e)||oe.test(e))){for((d=pe.test(e)&&_e(t.parentNode)||t)==t&&g.scope||((r=t.getAttribute("id"))?r=k.escapeSelector(r):t.setAttribute("id",r=U)),a=(l=Se(e)).length;a--;)l[a]=(r?"#"+r:":scope")+" "+Me(l[a]);c=l.join(",")}try{return W.apply(n,d.querySelectorAll(c)),n}catch(t){K(e,!0)}finally{r===U&&t.removeAttribute("id")}}}return Oe(e.replace(E,"$1"),t,n,i)}function be(){var e=[];return function t(n,i){return e.push(n+" ")>O.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ye(e){return e[U]=!0,e}function xe(e){var t=$.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function we(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ge(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ke(e){return ye(function(t){return t=+t,ye(function(n,i){for(var o,a=e([],n.length,t),r=a.length;r--;)n[o=a[r]]&&(n[o]=!(i[o]=n[o]))})})}function _e(e){return e&&void 0!==e.getElementsByTagName&&e}function Ce(e){return(e=e?e.ownerDocument||e:G)!=$&&9===e.nodeType&&e.documentElement&&(N=($=e).documentElement,z=!k.isXMLDoc($),R=N.matches||N.webkitMatchesSelector||N.msMatchesSelector,N.msMatchesSelector&&G!=$&&(e=$.defaultView)&&e.top!==e&&e.addEventListener("unload",fe),g.getById=xe(function(e){return N.appendChild(e).id=k.expando,!$.getElementsByName||!$.getElementsByName(k.expando).length}),g.disconnectedMatch=xe(function(e){return R.call(e,"*")}),g.scope=xe(function(){return $.querySelectorAll(":scope")}),g.cssHas=xe(function(){try{$.querySelector(":has(*,:jqfake)")}catch(e){return 1}}),g.getById?(O.filter.ID=function(e){var t=e.replace(he,me);return function(e){return e.getAttribute("id")===t}},O.find.ID=function(e,t){if(void 0!==t.getElementById&&z)return(t=t.getElementById(e))?[t]:[]}):(O.filter.ID=function(e){var t=e.replace(he,me);return function(e){return(e=void 0!==e.getAttributeNode&&e.getAttributeNode("id"))&&e.value===t}},O.find.ID=function(e,t){if(void 0!==t.getElementById&&z){var n,i,o,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(o=t.getElementsByName(e),i=0;a=o[i++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),O.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},O.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&z)return t.getElementsByClassName(e)},j=[],xe(function(e){var t;N.appendChild(e).innerHTML="<a id='"+U+"' href='' disabled='disabled'></a><select id='"+U+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||j.push("\\["+D+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+U+"-]").length||j.push("~="),e.querySelectorAll("a#"+U+"+*").length||j.push(".#.+[+~]"),e.querySelectorAll(":checked").length||j.push(":checked"),(t=$.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),N.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&j.push(":enabled",":disabled"),(t=$.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||j.push("\\["+D+"*name"+D+"*="+D+"*(?:''|\"\")")}),g.cssHas||j.push(":has"),j=j.length&&new RegExp(j.join("|")),Z=function(e,t){var n;return e===t?(B=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===$||e.ownerDocument==G&&ve.contains(G,e)?-1:t===$||t.ownerDocument==G&&ve.contains(G,t)?1:P?c.call(P,e)-c.call(P,t):0:4&n?-1:1)}),$}for(I in ve.matches=function(e,t){return ve(e,null,null,t)},ve.matchesSelector=function(e,t){if(Ce(e),z&&!K[t+" "]&&(!j||!j.test(t)))try{var n=R.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){K(t,!0)}return 0<ve(t,$,null,[e]).length},ve.contains=function(e,t){return(e.ownerDocument||e)!=$&&Ce(e),k.contains(e,t)},ve.attr=function(e,t){var n;return(e.ownerDocument||e)!=$&&Ce(e),void 0!==(n=(n=O.attrHandle[t.toLowerCase()])&&p.call(O.attrHandle,t.toLowerCase())?n(e,t,!z):void 0)?n:e.getAttribute(t)},ve.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},k.uniqueSort=function(e){var t,n=[],i=0,o=0;if(B=!g.sortStable,P=!g.sortStable&&r.call(e,0),S.call(e,Z),B){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)M.call(e,n[i],1)}return P=null,e},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(r.apply(this)))},(O=k.expr={cacheLength:50,createPseudo:ye,match:le,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(he,me),e[3]=(e[3]||e[4]||e[5]||"").replace(he,me),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ve.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ve.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return le.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&re.test(n)&&(t=(t=Se(n,!0))&&n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(he,me).toLowerCase();return"*"===e?function(){return!0}:function(e){return C(e,t)}},CLASS:function(e){var t=Y[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&Y(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){return null==(i=ve.attr(i,e))?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&-1<i.indexOf(n):"$="===t?n&&i.slice(-n.length)===n:"~="===t?-1<(" "+i.replace(ne," ")+" ").indexOf(n):"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var a="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,p,h,m=a!=r?"nextSibling":"previousSibling",f=t.parentNode,g=s&&t.nodeName.toLowerCase(),v=!l&&!s,b=!1;if(f){if(a){for(;m;){for(u=t;u=u[m];)if(s?C(u,g):1===u.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[r?f.firstChild:f.lastChild],r&&v){for(b=(p=(c=(d=f[U]||(f[U]={}))[e]||[])[0]===q&&c[1])&&c[2],u=p&&f.childNodes[p];u=++p&&u&&u[m]||(b=p=0,h.pop());)if(1===u.nodeType&&++b&&u===t){d[e]=[q,p,b];break}}else if(!1===(b=v?p=(c=(d=t[U]||(t[U]={}))[e]||[])[0]===q&&c[1]:b))for(;(u=++p&&u&&u[m]||(b=p=0,h.pop()))&&((s?!C(u,g):1!==u.nodeType)||!++b||(v&&((d=u[U]||(u[U]={}))[e]=[q,b]),u!==t)););return(b-=o)===i||b%i==0&&0<=b/i}}},PSEUDO:function(e,t){var n,i=O.pseudos[e]||O.setFilters[e.toLowerCase()]||ve.error("unsupported pseudo: "+e);return i[U]?i(t):1<i.length?(n=[e,e,"",t],O.setFilters.hasOwnProperty(e.toLowerCase())?ye(function(e,n){for(var o,a=i(e,t),r=a.length;r--;)e[o=c.call(e,a[r])]=!(n[o]=a[r])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ye(function(e){var t=[],n=[],i=Ie(e.replace(E,"$1"));return i[U]?ye(function(e,t,n,o){for(var a,r=i(e,null,o,[]),s=e.length;s--;)(a=r[s])&&(e[s]=!(t[s]=a))}):function(e,o,a){return t[0]=e,i(t,null,a,n),t[0]=null,!n.pop()}}),has:ye(function(e){return function(t){return 0<ve(e,t).length}}),contains:ye(function(e){return e=e.replace(he,me),function(t){return-1<(t.textContent||k.text(t)).indexOf(e)}}),lang:ye(function(e){return se.test(e||"")||ve.error("unsupported lang: "+e),e=e.replace(he,me).toLowerCase(),function(t){var n;do{if(n=z?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===function(){try{return $.activeElement}catch(e){}}()&&$.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:we(!1),disabled:we(!0),checked:function(e){return C(e,"input")&&!!e.checked||C(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!O.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return ce.test(e.nodeName)},button:function(e){return C(e,"input")&&"button"===e.type||C(e,"button")},text:function(e){return C(e,"input")&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:ke(function(){return[0]}),last:ke(function(e,t){return[t-1]}),eq:ke(function(e,t,n){return[n<0?n+t:n]}),even:ke(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ke(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ke(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:ke(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=O.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})O.pseudos[I]=function(e){return function(t){return C(t,"input")&&t.type===e}}(I);for(I in{submit:!0,reset:!0})O.pseudos[I]=function(e){return function(t){return(C(t,"input")||C(t,"button"))&&t.type===e}}(I);function Te(){}function Se(e,t){var n,i,o,a,r,s,l,c=X[e+" "];if(c)return t?0:c.slice(0);for(r=e,s=[],l=O.preFilter;r;){for(a in n&&!(i=ie.exec(r))||(i&&(r=r.slice(i[0].length)||r),s.push(o=[])),n=!1,(i=oe.exec(r))&&(n=i.shift(),o.push({value:n,type:i[0].replace(E," ")}),r=r.slice(n.length)),O.filter)!(i=le[a].exec(r))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),r=r.slice(n.length));if(!n)break}return t?r.length:r?ve.error(e):X(e,s).slice(0)}function Me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function De(e,t,n){var i=t.dir,o=t.next,a=o||i,r=n&&"parentNode"===a,s=V++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o);return!1}:function(t,n,l){var c,d,u=[q,s];if(l){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(d=t[U]||(t[U]={}),o&&C(t,o))t=t[i]||t;else{if((c=d[a])&&c[0]===q&&c[1]===s)return u[2]=c[2];if((d[a]=u)[2]=e(t,n,l))return!0}return!1}}function Ee(e){return 1<e.length?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function Ae(e,t,n,i,o){for(var a,r=[],s=0,l=e.length,c=null!=t;s<l;s++)!(a=e[s])||n&&!n(a,i,o)||(r.push(a),c&&t.push(s));return r}function Fe(e,t,n,i,o,a){return i&&!i[U]&&(i=Fe(i)),o&&!o[U]&&(o=Fe(o,a)),ye(function(a,r,s,l){var d,u,p,h,m=[],f=[],g=r.length,v=a||function(e,t,n){for(var i=0,o=t.length;i<o;i++)ve(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),b=!e||!a&&t?v:Ae(v,m,e,s,l);if(n?n(b,h=o||(a?e:g||i)?[]:r,s,l):h=b,i)for(d=Ae(h,f),i(d,[],s,l),u=d.length;u--;)(p=d[u])&&(h[f[u]]=!(b[f[u]]=p));if(a){if(o||e){if(o){for(d=[],u=h.length;u--;)(p=h[u])&&d.push(b[u]=p);o(null,h=[],d,l)}for(u=h.length;u--;)(p=h[u])&&-1<(d=o?c.call(a,p):m[u])&&(a[d]=!(r[d]=p))}}else h=Ae(h===r?h.splice(g,h.length):h),o?o(null,r,h,l):W.apply(r,h)})}function Ie(e,t){var n,i=[],o=[],a=J[e+" "];if(!a){for(n=(t=t||Se(e)).length;n--;)((a=function e(t){for(var n,i,o,a=t.length,r=O.relative[t[0].type],s=r||O.relative[" "],l=r?1:0,d=De(function(e){return e===n},s,!0),u=De(function(e){return-1<c.call(n,e)},s,!0),p=[function(e,t,i){return e=!r&&(i||t!=L)||((n=t).nodeType?d:u)(e,t,i),n=null,e}];l<a;l++)if(i=O.relative[t[l].type])p=[De(Ee(p),i)];else{if((i=O.filter[t[l].type].apply(null,t[l].matches))[U]){for(o=++l;o<a&&!O.relative[t[o].type];o++);return Fe(1<l&&Ee(p),1<l&&Me(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(E,"$1"),i,l<o&&e(t.slice(l,o)),o<a&&e(t=t.slice(o)),o<a&&Me(t))}p.push(i)}return Ee(p)}(t[n]))[U]?i:o).push(a);(a=J(e,function(e,t){function n(n,a,r,s,l){var c,d,u,p=0,h="0",m=n&&[],f=[],g=L,v=n||o&&O.find.TAG("*",l),b=q+=null==g?1:Math.random()||.1,y=v.length;for(l&&(L=a==$||a||l);h!==y&&null!=(c=v[h]);h++){if(o&&c){for(d=0,a||c.ownerDocument==$||(Ce(c),r=!z);u=e[d++];)if(u(c,a||$,r)){W.call(s,c);break}l&&(q=b)}i&&((c=!u&&c)&&p--,n)&&m.push(c)}if(p+=h,i&&h!==p){for(d=0;u=t[d++];)u(m,f,a,r);if(n){if(0<p)for(;h--;)m[h]||f[h]||(f[h]=T.call(s));f=Ae(f)}W.apply(s,f),l&&!n&&0<f.length&&1<p+t.length&&k.uniqueSort(s)}return l&&(q=b,L=g),m}var i=0<t.length,o=0<e.length;return i?ye(n):n}(o,i))).selector=e}return a}function Oe(e,t,n,i){var o,a,r,s,l,c="function"==typeof e&&e,d=!i&&Se(e=c.selector||e);if(n=n||[],1===d.length){if(2<(a=d[0]=d[0].slice(0)).length&&"ID"===(r=a[0]).type&&9===t.nodeType&&z&&O.relative[a[1].type]){if(!(t=(O.find.ID(r.matches[0].replace(he,me),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=le.needsContext.test(e)?0:a.length;o--&&(r=a[o],!O.relative[s=r.type]);)if((l=O.find[s])&&(i=l(r.matches[0].replace(he,me),pe.test(a[0].type)&&_e(t.parentNode)||t))){if(a.splice(o,1),e=i.length&&Me(a))break;return W.apply(n,i),n}}return(c||Ie(e,d))(i,t,!z,n,!t||pe.test(e)&&_e(t.parentNode)||t),n}function Le(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&k(e).is(n))break;i.push(e)}return i}function Pe(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}Te.prototype=O.filters=O.pseudos,O.setFilters=new Te,g.sortStable=U.split("").sort(Z).join("")===U,Ce(),g.sortDetached=xe(function(e){return 1&e.compareDocumentPosition($.createElement("fieldset"))}),k.find=ve,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,ve.compile=Ie,ve.select=Oe,ve.setDocument=Ce,ve.tokenize=Se,ve.escape=k.escapeSelector,ve.getText=k.text,ve.isXML=k.isXMLDoc,ve.selectors=k.expr,ve.support=k.support,ve.uniqueSort=k.uniqueSort;var Be=k.expr.match.needsContext,$e=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ne(e,t,i){return n(t)?k.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?k.grep(e,function(e){return e===t!==i}):"string"!=typeof t?k.grep(e,function(e){return-1<c.call(t,e)!==i}):k.filter(t,e,i)}k.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?k.find.matchesSelector(i,e)?[i]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<i;t++)if(k.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)k.find(e,o[t],n);return 1<i?k.uniqueSort(n):n},filter:function(e){return this.pushStack(Ne(this,e||[],!1))},not:function(e){return this.pushStack(Ne(this,e||[],!0))},is:function(e){return!!Ne(this,"string"==typeof e&&Be.test(e)?k(e):e||[],!1).length}});var ze,je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Re=((k.fn.init=function(e,t,i){if(e){if(i=i||ze,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):n(e)?void 0!==i.ready?i.ready(e):e(k):k.makeArray(e,this);if(!(o="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:je.exec(e))||!o[1]&&t)return(!t||t.jquery?t||i:this.constructor(t)).find(e);if(o[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:v,!0)),$e.test(o[1])&&k.isPlainObject(t))for(var o in t)n(this[o])?this[o](t[o]):this.attr(o,t[o])}else(i=v.getElementById(o[2]))&&(this[0]=i,this.length=1)}return this}).prototype=k.fn,ze=k(v),/^(?:parents|prev(?:Until|All))/),Ge={children:!0,contents:!0,next:!0,prev:!0};function He(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,a=[],r="string"!=typeof e&&k(e);if(!Be.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?-1<r.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(1<a.length?k.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?c.call(k(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return Le(e,"parentNode")},parentsUntil:function(e,t,n){return Le(e,"parentNode",n)},next:function(e){return He(e,"nextSibling")},prev:function(e){return He(e,"previousSibling")},nextAll:function(e){return Le(e,"nextSibling")},prevAll:function(e){return Le(e,"previousSibling")},nextUntil:function(e,t,n){return Le(e,"nextSibling",n)},prevUntil:function(e,t,n){return Le(e,"previousSibling",n)},siblings:function(e){return Pe((e.parentNode||{}).firstChild,e)},children:function(e){return Pe(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(e,t){k.fn[e]=function(n,i){var o=k.map(this,t,n);return(i="Until"!==e.slice(-5)?n:i)&&"string"==typeof i&&(o=k.filter(i,o)),1<this.length&&(Ge[e]||k.uniqueSort(o),Re.test(e))&&o.reverse(),this.pushStack(o)}});var We=/[^\x20\t\r\n\f]+/g;function Ue(e){return e}function qe(e){throw e}function Ve(e,t,i,o){var a;try{e&&n(a=e.promise)?a.call(e).done(t).fail(i):e&&n(a=e.then)?a.call(e,t,i):t.apply(void 0,[e].slice(o))}catch(e){i.apply(void 0,[e])}}k.Callbacks=function(e){var t,i;function o(){for(l=l||e.once,s=a=!0;d.length;u=-1)for(r=d.shift();++u<c.length;)!1===c[u].apply(r[0],r[1])&&e.stopOnFalse&&(u=c.length,r=!1);e.memory||(r=!1),a=!1,l&&(c=r?[]:"")}e="string"==typeof e?(t=e,i={},k.each(t.match(We)||[],function(e,t){i[t]=!0}),i):k.extend({},e);var a,r,s,l,c=[],d=[],u=-1,p={add:function(){return c&&(r&&!a&&(u=c.length-1,d.push(r)),function t(i){k.each(i,function(i,o){n(o)?e.unique&&p.has(o)||c.push(o):o&&o.length&&"string"!==x(o)&&t(o)})}(arguments),r)&&!a&&o(),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,c,n));)c.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<k.inArray(e,c):0<c.length},empty:function(){return c=c&&[],this},disable:function(){return l=d=[],c=r="",this},disabled:function(){return!c},lock:function(){return l=d=[],r||a||(c=r=""),this},locked:function(){return!!l},fireWith:function(e,t){return l||(t=[e,(t=t||[]).slice?t.slice():t],d.push(t),a)||o(),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!s}};return p},k.extend({Deferred:function(t){var i=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var e=arguments;return k.Deferred(function(t){k.each(i,function(i,o){var a=n(e[o[4]])&&e[o[4]];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&n(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[o[0]+"With"](this,a?[e]:arguments)})}),e=null}).promise()},then:function(t,o,a){var r=0;function s(t,i,o,a){return function(){function l(){var e,l;if(!(t<r)){if((e=o.apply(c,d))===i.promise())throw new TypeError("Thenable self-resolution");n(l=e&&("object"===h(e)||"function"==typeof e)&&e.then)?a?l.call(e,s(r,i,Ue,a),s(r,i,qe,a)):(r++,l.call(e,s(r,i,Ue,a),s(r,i,qe,a),s(r,i,Ue,i.notifyWith))):(o!==Ue&&(c=void 0,d=[e]),(a||i.resolveWith)(c,d))}}var c=this,d=arguments,u=a?l:function(){try{l()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,u.error),r<=t+1&&(o!==qe&&(c=void 0,d=[e]),i.rejectWith(c,d))}};t?u():(k.Deferred.getErrorHook?u.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(u.error=k.Deferred.getStackHook()),e.setTimeout(u))}}return k.Deferred(function(e){i[0][3].add(s(0,e,n(a)?a:Ue,e.notifyWith)),i[1][3].add(s(0,e,n(t)?t:Ue)),i[2][3].add(s(0,e,n(o)?o:qe))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},r={};return k.each(i,function(e,t){var n=t[2],s=t[5];a[t[1]]=n.add,s&&n.add(function(){o=s},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),n.add(t[3].fire),r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this},r[t[0]+"With"]=n.fireWith}),a.promise(r),t&&t.call(r,r),r},when:function(e){function t(e){return function(t){a[e]=this,s[e]=1<arguments.length?r.call(arguments):t,--i||l.resolveWith(a,s)}}var i=arguments.length,o=i,a=Array(o),s=r.call(arguments),l=k.Deferred();if(i<=1&&(Ve(e,l.done(t(o)).resolve,l.reject,!i),"pending"===l.state()||n(s[o]&&s[o].then)))return l.then();for(;o--;)Ve(s[o],t(o),l.reject);return l.promise()}});var Ye=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,Xe=(k.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Ye.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},k.readyException=function(t){e.setTimeout(function(){throw t})},k.Deferred());function Je(){v.removeEventListener("DOMContentLoaded",Je),e.removeEventListener("load",Je),k.ready()}function Ke(e,t,i,o,a,r,s){var l=0,c=e.length,d=null==i;if("object"===x(i))for(l in a=!0,i)Ke(e,t,l,i[l],!0,r,s);else if(void 0!==o&&(a=!0,n(o)||(s=!0),t=d?s?(t.call(e,o),null):(d=t,function(e,t,n){return d.call(k(e),n)}):t))for(;l<c;l++)t(e[l],i,s?o:o.call(e[l],l,t(e[l],i)));return a?e:d?t.call(e):c?t(e[0],i):r}k.fn.ready=function(e){return Xe.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||Xe.resolveWith(v,[k])}}),k.ready.then=Xe.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?e.setTimeout(k.ready):(v.addEventListener("DOMContentLoaded",Je),e.addEventListener("load",Je));var Ze=/^-ms-/,Qe=/-([a-z])/g;function et(e,t){return t.toUpperCase()}function tt(e){return e.replace(Ze,"ms-").replace(Qe,et)}function nt(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function it(){this.expando=k.expando+it.uid++}it.uid=1,it.prototype={cache:function(e){var t=e[this.expando];return t||(t={},nt(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[tt(t)]=n;else for(i in t)o[tt(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][tt(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(tt):(t=tt(t))in i?[t]:t.match(We)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!k.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){return void 0!==(e=e[this.expando])&&!k.isEmptyObject(e)}};var ot=new it,at=new it,rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,st=/[A-Z]/g;function lt(e,t,n){var i,o;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(st,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:rt.test(o)?JSON.parse(o):o)}catch(e){}at.set(e,t,n)}else n=void 0;return n}function ct(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&mt(e)&&"none"===k.css(e,"display")}k.extend({hasData:function(e){return at.hasData(e)||ot.hasData(e)},data:function(e,t,n){return at.access(e,t,n)},removeData:function(e,t){at.remove(e,t)},_data:function(e,t,n){return ot.access(e,t,n)},_removeData:function(e,t){ot.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,i,o,a=this[0],r=a&&a.attributes;if(void 0!==e)return"object"===h(e)?this.each(function(){at.set(this,e)}):Ke(this,function(t){var n;if(a&&void 0===t)return void 0!==(n=at.get(a,e))||void 0!==(n=lt(a,e))?n:void 0;this.each(function(){at.set(this,e,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=at.get(a),1===a.nodeType)&&!ot.get(a,"hasDataAttrs")){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf("data-")&&(i=tt(i.slice(5)),lt(a,i,o[i]));ot.set(a,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){at.remove(this,e)})}}),k.extend({queue:function(e,t,n){var i;if(e)return i=ot.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=ot.access(e,t,k.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),i=n.length,o=n.shift(),a=k._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete a.stop,o.call(e,function(){k.dequeue(e,t)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ot.get(e,n)||ot.access(e,n,{empty:k.Callbacks("once memory").add(function(){ot.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each(function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||a.resolveWith(r,[r])}var i,o=1,a=k.Deferred(),r=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=ot.get(r[s],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),a.promise(t)}});var dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),pt=["Top","Right","Bottom","Left"],ht=v.documentElement,mt=function(e){return k.contains(e.ownerDocument,e)},ft={composed:!0};function gt(e,t,n,i){var o,a,r=20,s=i?function(){return i.cur()}:function(){return k.css(e,t,"")},l=s(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),d=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&ut.exec(k.css(e,t));if(d&&d[3]!==c){for(c=c||d[3],d=+(l/=2)||1;r--;)k.style(e,t,d+c),(1-a)*(1-(a=s()/l||.5))<=0&&(r=0),d/=a;k.style(e,t,(d*=2)+c),n=n||[]}return n&&(d=+d||+l||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i)&&(i.unit=c,i.start=d,i.end=o),o}ht.getRootNode&&(mt=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ft)===e.ownerDocument});var vt={};function bt(e,t){for(var n,i,o,a,r,s=[],l=0,c=e.length;l<c;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(s[l]=ot.get(i,"display")||null,s[l]||(i.style.display="")),""===i.style.display&&ct(i)&&(s[l]=(r=a=void 0,a=(o=i).ownerDocument,(r=vt[o=o.nodeName])||(a=a.body.appendChild(a.createElement(o)),r=k.css(a,"display"),a.parentNode.removeChild(a),vt[o]=r="none"===r?"block":r),r))):"none"!==n&&(s[l]="none",ot.set(i,"display",n)));for(l=0;l<c;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}k.fn.extend({show:function(){return bt(this,!0)},hide:function(){return bt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ct(this)?k(this).show():k(this).hide()})}});var yt=/^(?:checkbox|radio)$/i,xt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,wt=/^$|^module$|\/(?:java|ecma)script/i,kt=(ee=v.createDocumentFragment().appendChild(v.createElement("div")),(te=v.createElement("input")).setAttribute("type","radio"),te.setAttribute("checked","checked"),te.setAttribute("name","t"),ee.appendChild(te),g.checkClone=ee.cloneNode(!0).cloneNode(!0).lastChild.checked,ee.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ee.cloneNode(!0).lastChild.defaultValue,ee.innerHTML="<option></option>",g.option=!!ee.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function _t(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&C(e,t)?k.merge([e],n):n}function Ct(e,t){for(var n=0,i=e.length;n<i;n++)ot.set(e[n],"globalEval",!t||ot.get(t[n],"globalEval"))}kt.tbody=kt.tfoot=kt.colgroup=kt.caption=kt.thead,kt.th=kt.td,g.option||(kt.optgroup=kt.option=[1,"<select multiple='multiple'>","</select>"]);var Tt=/<|&#?\w+;/;function St(e,t,n,i,o){for(var a,r,s,l,c,d=t.createDocumentFragment(),u=[],p=0,h=e.length;p<h;p++)if((a=e[p])||0===a)if("object"===x(a))k.merge(u,a.nodeType?[a]:a);else if(Tt.test(a)){for(r=r||d.appendChild(t.createElement("div")),s=(xt.exec(a)||["",""])[1].toLowerCase(),s=kt[s]||kt._default,r.innerHTML=s[1]+k.htmlPrefilter(a)+s[2],c=s[0];c--;)r=r.lastChild;k.merge(u,r.childNodes),(r=d.firstChild).textContent=""}else u.push(t.createTextNode(a));for(d.textContent="",p=0;a=u[p++];)if(i&&-1<k.inArray(a,i))o&&o.push(a);else if(l=mt(a),r=_t(d.appendChild(a),"script"),l&&Ct(r),n)for(c=0;a=r[c++];)wt.test(a.type||"")&&n.push(a);return d}var Mt=/^([^.]*)(?:\.(.+)|)/;function Dt(){return!0}function Et(){return!1}function At(e,t,n,i,o,a){var r,s;if("object"===h(t)){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)At(e,s,n,i,t[s],a);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Et;else if(!o)return e;return 1===a&&(r=o,(o=function(e){return k().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=k.guid++)),e.each(function(){k.event.add(this,t,o,i,n)})}function Ft(e,t,n){n?(ot.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var n,i=ot.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=r.call(arguments),ot.set(this,t,i),this[t](),n=ot.get(this,t),ot.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(ot.set(this,t,k.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Dt)}})):void 0===ot.get(e,t)&&k.event.add(e,t,Dt)}k.event={global:{},add:function(e,t,n,i,o){var a,r,s,l,c,d,u,p,h,m=ot.get(e);if(nt(e))for(n.handler&&(n=(a=n).handler,o=a.selector),o&&k.find.matchesSelector(ht,o),n.guid||(n.guid=k.guid++),s=(s=m.events)||(m.events=Object.create(null)),r=(r=m.handle)||(m.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(We)||[""]).length;l--;)u=h=(p=Mt.exec(t[l])||[])[1],p=(p[2]||"").split(".").sort(),u&&(c=k.event.special[u]||{},u=(o?c.delegateType:c.bindType)||u,c=k.event.special[u]||{},h=k.extend({type:u,origType:h,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&k.expr.match.needsContext.test(o),namespace:p.join(".")},a),(d=s[u])||((d=s[u]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,i,p,r))||e.addEventListener&&e.addEventListener(u,r),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),k.event.global[u]=!0)},remove:function(e,t,n,i,o){var a,r,s,l,c,d,u,p,h,m,f,g=ot.hasData(e)&&ot.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(We)||[""]).length;c--;)if(h=f=(s=Mt.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),h){for(u=k.event.special[h]||{},p=l[h=(i?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=a=p.length;a--;)d=p[a],!o&&f!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(p.splice(a,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(e,d));r&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,m,g.handle)||k.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)k.event.remove(e,h+t[c],n,i,!0);k.isEmptyObject(l)&&ot.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,a,r=new Array(arguments.length),s=k.event.fix(e),l=(e=(ot.get(this,"events")||Object.create(null))[s.type]||[],k.event.special[s.type]||{});for(r[0]=s,t=1;t<arguments.length;t++)r[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=k.event.handlers.call(this,s,e),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(o=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,r))&&!1===(s.result=o)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,o,a,r,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],r={},n=0;n<l;n++)void 0===r[o=(i=t[n]).selector+" "]&&(r[o]=i.needsContext?-1<k(o,this).index(c):k.find(o,this,null,[c]).length),r[o]&&a.push(i);a.length&&s.push({elem:c,handlers:a})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:n(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){return e=this||e,yt.test(e.type)&&e.click&&C(e,"input")&&Ft(e,"click",!0),!1},trigger:function(e){return e=this||e,yt.test(e.type)&&e.click&&C(e,"input")&&Ft(e,"click"),!0},_default:function(e){return e=e.target,yt.test(e.type)&&e.click&&C(e,"input")&&ot.get(e,"click")||C(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Dt:Et,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Dt,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Dt,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Dt,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){var n,i;v.documentMode?(n=ot.get(this,"handle"),(i=k.event.fix(e)).type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)):k.event.simulate(t,e.target,k.event.fix(e))}k.event.special[e]={setup:function(){var i;if(Ft(this,e,!0),!v.documentMode)return!1;(i=ot.get(this,t))||this.addEventListener(t,n),ot.set(this,t,(i||0)+1)},trigger:function(){return Ft(this,e),!0},teardown:function(){var e;if(!v.documentMode)return!1;(e=ot.get(this,t)-1)?ot.set(this,t,e):(this.removeEventListener(t,n),ot.remove(this,t))},_default:function(t){return ot.get(t.target,e)},delegateType:t},k.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,o=v.documentMode?this:i,a=ot.get(o,t);a||(v.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),ot.set(o,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=v.documentMode?this:i,a=ot.get(o,t)-1;a?ot.set(o,t,a):(v.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),ot.remove(o,t))}}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,o=e.handleObj;return i&&(i===this||k.contains(this,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),k.fn.extend({on:function(e,t,n,i){return At(this,e,t,n,i)},one:function(e,t,n,i){return At(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)i=e.handleObj,k(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);else{if("object"!==h(e))return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Et),this.each(function(){k.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o])}return this}});var It=/<script|<style|<link/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Pt(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Bt(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function $t(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Nt(e,t){var n,i,o,a;if(1===t.nodeType){if(ot.hasData(e)&&(a=ot.get(e).events))for(o in ot.remove(t,"handle events"),a)for(n=0,i=a[o].length;n<i;n++)k.event.add(t,o,a[o][n]);at.hasData(e)&&(e=at.access(e),e=k.extend({},e),at.set(t,e))}}function zt(e,t,i,o){t=s(t);var a,r,l,c,d,u,p=0,h=e.length,m=h-1,f=t[0],v=n(f);if(v||1<h&&"string"==typeof f&&!g.checkClone&&Ot.test(f))return e.each(function(n){var a=e.eq(n);v&&(t[0]=f.call(this,n,a.html())),zt(a,t,i,o)});if(h&&(r=(a=St(t,e[0].ownerDocument,!1,e,o)).firstChild,1===a.childNodes.length&&(a=r),r||o)){for(c=(l=k.map(_t(a,"script"),Bt)).length;p<h;p++)d=a,p!==m&&(d=k.clone(d,!0,!0),c)&&k.merge(l,_t(d,"script")),i.call(e[p],d,p);if(c)for(u=l[l.length-1].ownerDocument,k.map(l,$t),p=0;p<c;p++)d=l[p],wt.test(d.type||"")&&!ot.access(d,"globalEval")&&k.contains(u,d)&&(d.src&&"module"!==(d.type||"").toLowerCase()?k._evalUrl&&!d.noModule&&k._evalUrl(d.src,{nonce:d.nonce||d.getAttribute("nonce")},u):y(d.textContent.replace(Lt,""),d,u))}return e}function jt(e,t,n){for(var i,o=t?k.filter(t,e):e,a=0;null!=(i=o[a]);a++)n||1!==i.nodeType||k.cleanData(_t(i)),i.parentNode&&(n&&mt(i)&&Ct(_t(i,"script")),i.parentNode.removeChild(i));return e}function Rt(t){var n=t.ownerDocument.defaultView;return(n=n&&n.opener?n:e).getComputedStyle(t)}function Gt(e,t,n){var i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in n=n.call(e),t)e.style[i]=o[i];return n}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,o,a,r,s,l,c,d=e.cloneNode(!0),u=mt(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(r=_t(d),i=0,o=(a=_t(e)).length;i<o;i++)s=a[i],void 0,"input"===(c=(l=r[i]).nodeName.toLowerCase())&&yt.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(a=a||_t(e),r=r||_t(d),i=0,o=a.length;i<o;i++)Nt(a[i],r[i]);else Nt(e,d);return 0<(r=_t(d,"script")).length&&Ct(r,!u&&_t(e,"script")),d},cleanData:function(e){for(var t,n,i,o=k.event.special,a=0;void 0!==(n=e[a]);a++)if(nt(n)){if(t=n[ot.expando]){if(t.events)for(i in t.events)o[i]?k.event.remove(n,i):k.removeEvent(n,i,t.handle);n[ot.expando]=void 0}n[at.expando]&&(n[at.expando]=void 0)}}}),k.fn.extend({detach:function(e){return jt(this,e,!0)},remove:function(e){return jt(this,e)},text:function(e){return Ke(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return zt(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,e).appendChild(e)})},prepend:function(){return zt(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Pt(this,e)).insertBefore(e,t.firstChild)})},before:function(){return zt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return zt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(_t(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return Ke(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!It.test(e)&&!kt[(xt.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(_t(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return zt(this,arguments,function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(_t(this)),n)&&n.replaceChild(t,this)},e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){k.fn[e]=function(e){for(var n,i=[],o=k(e),a=o.length-1,r=0;r<=a;r++)n=r===a?this:this.clone(!0),k(o[r])[t](n),l.apply(i,n.get());return this.pushStack(i)}});var Ht,Wt,Ut,qt,Vt,Yt,Xt,Jt,Kt=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),Zt=/^--/,Qt=new RegExp(pt.join("|"),"i");function en(){var t;Jt&&(Xt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Jt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ht.appendChild(Xt).appendChild(Jt),t=e.getComputedStyle(Jt),Ht="1%"!==t.top,Yt=12===tn(t.marginLeft),Jt.style.right="60%",qt=36===tn(t.right),Wt=36===tn(t.width),Jt.style.position="absolute",Ut=12===tn(Jt.offsetWidth/3),ht.removeChild(Xt),Jt=null)}function tn(e){return Math.round(parseFloat(e))}function nn(e,t,n){var i,o=Zt.test(t),a=e.style;return(n=n||Rt(e))&&(i=n.getPropertyValue(t)||n[t],""!==(i=o?i&&(i.replace(E,"$1")||void 0):i)||mt(e)||(i=k.style(e,t)),!g.pixelBoxStyles())&&Kt.test(i)&&Qt.test(t)&&(o=a.width,e=a.minWidth,t=a.maxWidth,a.minWidth=a.maxWidth=a.width=i,i=n.width,a.width=o,a.minWidth=e,a.maxWidth=t),void 0!==i?i+"":i}function on(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Xt=v.createElement("div"),(Jt=v.createElement("div")).style&&(Jt.style.backgroundClip="content-box",Jt.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===Jt.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return en(),Wt},pixelBoxStyles:function(){return en(),qt},pixelPosition:function(){return en(),Ht},reliableMarginLeft:function(){return en(),Yt},scrollboxSize:function(){return en(),Ut},reliableTrDimensions:function(){var t,n,i;return null==Vt&&(t=v.createElement("table"),n=v.createElement("tr"),i=v.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="box-sizing:content-box;border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",ht.appendChild(t).appendChild(n).appendChild(i),i=e.getComputedStyle(n),Vt=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===n.offsetHeight,ht.removeChild(t)),Vt}}));var an=["Webkit","Moz","ms"],rn=v.createElement("div").style,sn={};function ln(e){return k.cssProps[e]||sn[e]||(e in rn?e:sn[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=an.length;n--;)if((e=an[n]+t)in rn)return e}(e)||e)}var cn=/^(none|table(?!-c[ea]).+)/,dn={position:"absolute",visibility:"hidden",display:"block"},un={letterSpacing:"0",fontWeight:"400"};function pn(e,t,n){var i=ut.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function hn(e,t,n,i,o,a){var r="width"===t?1:0,s=0,l=0,c=0;if(n===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(c+=k.css(e,n+pt[r],!0,o)),i?("content"===n&&(l-=k.css(e,"padding"+pt[r],!0,o)),"margin"!==n&&(l-=k.css(e,"border"+pt[r]+"Width",!0,o))):(l+=k.css(e,"padding"+pt[r],!0,o),"padding"!==n?l+=k.css(e,"border"+pt[r]+"Width",!0,o):s+=k.css(e,"border"+pt[r]+"Width",!0,o));return!i&&0<=a&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))||0),l+c}function mn(e,t,n){var i=Rt(e),o=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,i),a=o,r=nn(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Kt.test(r)){if(!n)return r;r="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&C(e,"tr")||"auto"===r||!parseFloat(r)&&"inline"===k.css(e,"display",!1,i))&&e.getClientRects().length&&(o="border-box"===k.css(e,"boxSizing",!1,i),a=s in e)&&(r=e[s]),(r=parseFloat(r)||0)+hn(e,t,n||(o?"border":"content"),a,i,r)+"px"}function fn(e,t,n,i,o){return new fn.prototype.init(e,t,n,i,o)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=nn(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,r,s=tt(t),l=Zt.test(t),c=e.style;if(l||(t=ln(s)),r=k.cssHooks[t]||k.cssHooks[s],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:c[t];"string"===(a=h(n))&&(o=ut.exec(n))&&o[1]&&(n=gt(e,t,o),a="number"),null==n||n!=n||("number"!==a||l||(n+=o&&o[3]||(k.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i)))||(l?c.setProperty(t,n):c[t]=n)}},css:function(e,t,n,i){var o,a=tt(t);return Zt.test(t)||(t=ln(a)),"normal"===(o=void 0===(o=(a=k.cssHooks[t]||k.cssHooks[a])&&"get"in a?a.get(e,!0,n):o)?nn(e,t,i):o)&&t in un&&(o=un[t]),(""===n||n)&&(a=parseFloat(o),!0===n||isFinite(a))?a||0:o}}),k.each(["height","width"],function(e,t){k.cssHooks[t]={get:function(e,n,i){if(n)return!cn.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?mn(e,t,i):Gt(e,dn,function(){return mn(e,t,i)})},set:function(e,n,i){var o=Rt(e),a=!g.scrollboxSize()&&"absolute"===o.position,r=(a||i)&&"border-box"===k.css(e,"boxSizing",!1,o);return i=i?hn(e,t,i,r,o):0,r&&a&&(i-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-hn(e,t,"border",!1,o)-.5)),i&&(r=ut.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),pn(0,n,i)}}}),k.cssHooks.marginLeft=on(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(nn(e,"marginLeft"))||e.getBoundingClientRect().left-Gt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(e,t){k.cssHooks[e+t]={expand:function(n){for(var i=0,o={},a="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+pt[i]+t]=a[i]||a[i-2]||a[0];return o}},"margin"!==e&&(k.cssHooks[e+t].set=pn)}),k.fn.extend({css:function(e,t){return Ke(this,function(e,t,n){var i,o,a={},r=0;if(Array.isArray(t)){for(i=Rt(e),o=t.length;r<o;r++)a[t[r]]=k.css(e,t[r],!1,i);return a}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=fn).prototype={constructor:fn,init:function(e,t,n,i,o,a){this.elem=e,this.prop=n,this.easing=o||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(k.cssNumber[n]?"":"px")},cur:function(){var e=fn.propHooks[this.prop];return(e&&e.get?e:fn.propHooks._default).get(this)},run:function(e){var t,n=fn.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:fn.propHooks._default).set(this),this}}).init.prototype=fn.prototype,(fn.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=k.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[ln(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=fn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=fn.prototype.init,k.fx.step={};var gn,vn,bn=/^(?:toggle|show|hide)$/,yn=/queueHooks$/;function xn(){vn&&(!1===v.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(xn):e.setTimeout(xn,k.fx.interval),k.fx.tick())}function wn(){return e.setTimeout(function(){gn=void 0}),gn=Date.now()}function kn(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=pt[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function _n(e,t,n){for(var i,o=(Cn.tweeners[t]||[]).concat(Cn.tweeners["*"]),a=0,r=o.length;a<r;a++)if(i=o[a].call(n,t,e))return i}function Cn(e,t,i){var o,a,r,s,l,c,d,u=0,p=Cn.prefilters.length,h=k.Deferred().always(function(){delete m.elem}),m=function(){if(!a){for(var t=gn||wn(),n=1-((t=Math.max(0,f.startTime+f.duration-t))/f.duration||0),i=0,o=f.tweens.length;i<o;i++)f.tweens[i].run(n);if(h.notifyWith(e,[f,n,t]),n<1&&o)return t;o||h.notifyWith(e,[f,1,0]),h.resolveWith(e,[f])}return!1},f=h.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},i),originalProperties:t,originalOptions:i,startTime:gn||wn(),duration:i.duration,tweens:[],createTween:function(t,n){return n=k.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing),f.tweens.push(n),n},stop:function(t){var n=0,i=t?f.tweens.length:0;if(!a){for(a=!0;n<i;n++)f.tweens[n].run(1);t?(h.notifyWith(e,[f,1,0]),h.resolveWith(e,[f,t])):h.rejectWith(e,[f,t])}return this}}),g=f.props,v=g,b=f.opts.specialEasing;for(r in v)if(l=b[s=tt(r)],c=v[r],Array.isArray(c)&&(l=c[1],c=v[r]=c[0]),r!==s&&(v[s]=c,delete v[r]),(d=k.cssHooks[s])&&"expand"in d)for(r in c=d.expand(c),delete v[s],c)r in v||(v[r]=c[r],b[r]=l);else b[s]=l;for(;u<p;u++)if(o=Cn.prefilters[u].call(f,e,g,f.opts))return n(o.stop)&&(k._queueHooks(f.elem,f.opts.queue).stop=o.stop.bind(o)),o;return k.map(g,_n,f),n(f.opts.start)&&f.opts.start.call(e,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),k.fx.timer(k.extend(m,{elem:e,anim:f,queue:f.opts.queue})),f}k.Animation=k.extend(Cn,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return gt(n.elem,e,ut.exec(t),n),n}]},tweener:function(e,t){for(var i,o=0,a=(e=n(e)?(t=e,["*"]):e.match(We)).length;o<a;o++)i=e[o],Cn.tweeners[i]=Cn.tweeners[i]||[],Cn.tweeners[i].unshift(t)},prefilters:[function(e,t,n){var i,o,a,r,s,l,c,d="width"in t||"height"in t,u=this,p={},h=e.style,m=e.nodeType&&ct(e),f=ot.get(e,"fxshow");for(i in n.queue||(null==(r=k._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,s=r.empty.fire,r.empty.fire=function(){r.unqueued||s()}),r.unqueued++,u.always(function(){u.always(function(){r.unqueued--,k.queue(e,"fx").length||r.empty.fire()})})),t)if(o=t[i],bn.test(o)){if(delete t[i],a=a||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!f||void 0===f[i])continue;m=!0}p[i]=f&&f[i]||k.style(e,i)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=f&&f.display)&&(c=ot.get(e,"display")),"none"===(d=k.css(e,"display"))&&(c?d=c:(bt([e],!0),c=e.style.display||c,d=k.css(e,"display"),bt([e]))),"inline"===d||"inline-block"===d&&null!=c)&&"none"===k.css(e,"float")&&(l||(u.done(function(){h.display=c}),null==c&&(d=h.display,c="none"===d?"":d)),h.display="inline-block"),n.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,p)l||(f?"hidden"in f&&(m=f.hidden):f=ot.access(e,"fxshow",{display:c}),a&&(f.hidden=!m),m&&bt([e],!0),u.done(function(){for(i in m||bt([e]),ot.remove(e,"fxshow"),p)k.style(e,i,p[i])})),l=_n(m?f[i]:0,i,u),i in f||(f[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?Cn.prefilters.unshift(e):Cn.prefilters.push(e)}}),k.speed=function(e,t,i){var o=e&&"object"===h(e)?k.extend({},e):{complete:i||!i&&t||n(e)&&e,duration:e,easing:i&&t||t&&!n(t)&&t};return k.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in k.fx.speeds?o.duration=k.fx.speeds[o.duration]:o.duration=k.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){n(o.old)&&o.old.call(this),o.queue&&k.dequeue(this,o.queue)},o},k.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ct).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){function o(){var t=Cn(this,k.extend({},e),r);(a||ot.get(this,"finish"))&&t.stop(!0)}var a=k.isEmptyObject(e),r=k.speed(t,n,i);return o.finish=o,a||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(e,t,n){function i(e){var t=e.stop;delete e.stop,t(n)}return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",a=k.timers,r=ot.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&yn.test(o)&&i(r[o]);for(o=a.length;o--;)a[o].elem!==this||null!=e&&a[o].queue!==e||(a[o].anim.stop(n),t=!1,a.splice(o,1));!t&&n||k.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ot.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],a=k.timers,r=i?i.length:0;for(n.finish=!0,k.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),k.each(["toggle","show","hide"],function(e,t){var n=k.fn[t];k.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(kn(t,!0),e,i,o)}}),k.each({slideDown:kn("show"),slideUp:kn("hide"),slideToggle:kn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){k.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(gn=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),gn=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){vn||(vn=!0,xn())},k.fx.stop=function(){vn=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,n){return t=k.fx&&k.fx.speeds[t]||t,this.queue(n=n||"fx",function(n,i){var o=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(o)}})},te=v.createElement("input"),ee=v.createElement("select").appendChild(v.createElement("option")),te.type="checkbox",g.checkOn=""!==te.value,g.optSelected=ee.selected,(te=v.createElement("input")).value="t",te.type="radio",g.radioValue="t"===te.value;var Tn,Sn=k.expr.attrHandle,Mn=(k.fn.extend({attr:function(e,t){return Ke(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var i,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?k.prop(e,t,n):(1===a&&k.isXMLDoc(e)||(o=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?Tn:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))||null!=(i=k.find.attr(e,t))?i:void 0)},attrHooks:{type:{set:function(e,t){var n;if(!g.radioValue&&"radio"===t&&C(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(We);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),Tn={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Sn[t]||k.find.attr;Sn[t]=function(e,t,i){var o,a,r=t.toLowerCase();return i||(a=Sn[r],Sn[r]=o,o=null!=n(e,t,i)?r:null,Sn[r]=a),o}}),/^(?:input|select|textarea|button)$/i),Dn=/^(?:a|area)$/i;function En(e){return(e.match(We)||[]).join(" ")}function An(e){return e.getAttribute&&e.getAttribute("class")||""}function Fn(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(We)||[]}function In(e){e.stopPropagation()}k.fn.extend({prop:function(e,t){return Ke(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var i,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&k.isXMLDoc(e)||(t=k.propFix[t]||t,o=k.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):Mn.test(e.nodeName)||Dn.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){return(e=e.parentNode)&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){(e=e.parentNode)&&(e.selectedIndex,e.parentNode)&&e.parentNode.selectedIndex}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(e){var t,i,o,a,r,s;return n(e)?this.each(function(t){k(this).addClass(e.call(this,t,An(this)))}):(t=Fn(e)).length?this.each(function(){if(o=An(this),i=1===this.nodeType&&" "+En(o)+" "){for(r=0;r<t.length;r++)a=t[r],i.indexOf(" "+a+" ")<0&&(i+=a+" ");s=En(i),o!==s&&this.setAttribute("class",s)}}):this},removeClass:function(e){var t,i,o,a,r,s;return n(e)?this.each(function(t){k(this).removeClass(e.call(this,t,An(this)))}):arguments.length?(t=Fn(e)).length?this.each(function(){if(o=An(this),i=1===this.nodeType&&" "+En(o)+" "){for(r=0;r<t.length;r++)for(a=t[r];-1<i.indexOf(" "+a+" ");)i=i.replace(" "+a+" "," ");s=En(i),o!==s&&this.setAttribute("class",s)}}):this:this.attr("class","")},toggleClass:function(e,t){var i,o,a,r,s=h(e),l="string"===s||Array.isArray(e);return n(e)?this.each(function(n){k(this).toggleClass(e.call(this,n,An(this),t),t)}):"boolean"==typeof t&&l?t?this.addClass(e):this.removeClass(e):(i=Fn(e),this.each(function(){if(l)for(r=k(this),a=0;a<i.length;a++)o=i[a],r.hasClass(o)?r.removeClass(o):r.addClass(o);else void 0!==e&&"boolean"!==s||((o=An(this))&&ot.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",!o&&!1!==e&&ot.get(this,"__className__")||""))}))},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+En(An(t))+" ").indexOf(i))return!0;return!1}});var On=/\r/g,Ln=(k.fn.extend({val:function(e){var t,i,o,a=this[0];return arguments.length?(o=n(e),this.each(function(n){1!==this.nodeType||(null==(n=o?e.call(this,n,k(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=k.map(n,function(e){return null==e?"":e+""})),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value"))||(this.value=n)})):a?(t=k.valHooks[a.type]||k.valHooks[a.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(a,"value"))?i:"string"==typeof(i=a.value)?i.replace(On,""):null==i?"":i:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:En(k.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,o="select-one"===e.type,a=o?null:[],r=o?i+1:n.length,s=i<0?r:o?i:0;s<r;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!C(t.parentNode,"optgroup"))){if(t=k(t).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,a=k.makeArray(t),r=o.length;r--;)((i=o[r]).selected=-1<k.inArray(k.valHooks.option.get(i),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),e.location),Pn={guid:Date.now()},Bn=/\?/,$n=(k.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||k.error("Invalid XML: "+(i?k.map(i.childNodes,function(e){return e.textContent}).join("\n"):t)),n},/^(?:focusinfocus|focusoutblur)$/),Nn=(k.extend(k.event,{trigger:function(t,o,a,r){var s,l,c,d,u,m,f,g=[a||v],b=p.call(t,"type")?t.type:t,y=p.call(t,"namespace")?t.namespace.split("."):[],x=f=l=a=a||v;if(3!==a.nodeType&&8!==a.nodeType&&!$n.test(b+k.event.triggered)&&(-1<b.indexOf(".")&&(b=(y=b.split(".")).shift(),y.sort()),d=b.indexOf(":")<0&&"on"+b,(t=t[k.expando]?t:new k.Event(b,"object"===h(t)&&t)).isTrigger=r?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),o=null==o?[t]:k.makeArray(o,[t]),m=k.event.special[b]||{},r||!m.trigger||!1!==m.trigger.apply(a,o))){if(!r&&!m.noBubble&&!i(a)){for(c=m.delegateType||b,$n.test(c+b)||(x=x.parentNode);x;x=x.parentNode)g.push(x),l=x;l===(a.ownerDocument||v)&&g.push(l.defaultView||l.parentWindow||e)}for(s=0;(x=g[s++])&&!t.isPropagationStopped();)f=x,t.type=1<s?c:m.bindType||b,(u=(ot.get(x,"events")||Object.create(null))[t.type]&&ot.get(x,"handle"))&&u.apply(x,o),(u=d&&x[d])&&u.apply&&nt(x)&&(t.result=u.apply(x,o),!1===t.result)&&t.preventDefault();return t.type=b,r||t.isDefaultPrevented()||m._default&&!1!==m._default.apply(g.pop(),o)||!nt(a)||d&&n(a[b])&&!i(a)&&((l=a[d])&&(a[d]=null),k.event.triggered=b,t.isPropagationStopped()&&f.addEventListener(b,In),a[b](),t.isPropagationStopped()&&f.removeEventListener(b,In),k.event.triggered=void 0,l)&&(a[d]=l),t.result}},simulate:function(e,t,n){n=k.extend(new k.Event,n,{type:e,isSimulated:!0}),k.event.trigger(n,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),/\[\]$/),zn=/\r?\n/g,jn=/^(?:submit|button|image|reset|file)$/i,Rn=/^(?:input|select|textarea|keygen)/i;k.param=function(e,t){function i(e,t){t=n(t)?t():t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var o,a=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(o in e)!function e(t,n,i,o){if(Array.isArray(n))k.each(n,function(n,a){i||Nn.test(t)?o(t,a):e(t+"["+("object"===h(a)&&null!=a?n:"")+"]",a,i,o)});else if(i||"object"!==x(n))o(t,n);else for(var a in n)e(t+"["+a+"]",n[a],i,o)}(o,e[o],t,i);return a.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Rn.test(this.nodeName)&&!jn.test(e)&&(this.checked||!yt.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(zn,"\r\n")}}):{name:t.name,value:n.replace(zn,"\r\n")}}).get()}});var Gn=/%20/g,Hn=/#.*$/,Wn=/([?&])_=[^&]*/,Un=/^(.*?):[ \t]*([^\r\n]*)$/gm,qn=/^(?:GET|HEAD)$/,Vn=/^\/\//,Yn={},Xn={},Jn="*/".concat("*"),Kn=v.createElement("a");function Zn(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var o,a=0,r=t.toLowerCase().match(We)||[];if(n(i))for(;o=r[a++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(i)):(e[o]=e[o]||[]).push(i)}}function Qn(e,t,n,i){var o={},a=e===Xn;function r(s){var l;return o[s]=!0,k.each(e[s]||[],function(e,s){return"string"!=typeof(s=s(t,n,i))||a||o[s]?a?!(l=s):void 0:(t.dataTypes.unshift(s),r(s),!1)}),l}return r(t.dataTypes[0])||!o["*"]&&r("*")}function ei(e,t){var n,i,o=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i=i||{})[n]=t[n]);return i&&k.extend(!0,e,i),e}Kn.href=Ln.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ln.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ln.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ei(ei(e,k.ajaxSettings),t):ei(k.ajaxSettings,e)},ajaxPrefilter:Zn(Yn),ajaxTransport:Zn(Xn),ajax:function(t,n){"object"===h(t)&&(n=t,t=void 0);var i,o,a,r,s,l,c,d,u=k.ajaxSetup({},n=n||{}),p=u.context||u,m=u.context&&(p.nodeType||p.jquery)?k(p):k.event,f=k.Deferred(),g=k.Callbacks("once memory"),b=u.statusCode||{},y={},x={},w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(l){if(!r)for(r={};t=Un.exec(a);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==l&&(u.mimeType=e),this},statusCode:function(e){if(e)if(l)_.always(e[_.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){return e=e||w,i&&i.abort(e),C(0,e),this}};if(f.promise(_),u.url=((t||u.url||Ln.href)+"").replace(Vn,Ln.protocol+"//"),u.type=n.method||n.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(We)||[""],null==u.crossDomain){t=v.createElement("a");try{t.href=u.url,t.href=t.href,u.crossDomain=Kn.protocol+"//"+Kn.host!=t.protocol+"//"+t.host}catch(t){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=k.param(u.data,u.traditional)),Qn(Yn,u,n,_),!l){for(d in(c=k.event&&u.global)&&0==k.active++&&k.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!qn.test(u.type),o=u.url.replace(Hn,""),u.hasContent?u.data&&u.processData&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&(u.data=u.data.replace(Gn,"+")):(t=u.url.slice(o.length),u.data&&(u.processData||"string"==typeof u.data)&&(o+=(Bn.test(o)?"&":"?")+u.data,delete u.data),!1===u.cache&&(o=o.replace(Wn,"$1"),t=(Bn.test(o)?"&":"?")+"_="+Pn.guid+++t),u.url=o+t),u.ifModified&&(k.lastModified[o]&&_.setRequestHeader("If-Modified-Since",k.lastModified[o]),k.etag[o])&&_.setRequestHeader("If-None-Match",k.etag[o]),(u.data&&u.hasContent&&!1!==u.contentType||n.contentType)&&_.setRequestHeader("Content-Type",u.contentType),_.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Jn+"; q=0.01":""):u.accepts["*"]),u.headers)_.setRequestHeader(d,u.headers[d]);if(u.beforeSend&&(!1===u.beforeSend.call(p,_,u)||l))return _.abort();if(w="abort",g.add(u.complete),_.done(u.success),_.fail(u.error),i=Qn(Xn,u,n,_)){if(_.readyState=1,c&&m.trigger("ajaxSend",[_,u]),l)return _;u.async&&0<u.timeout&&(s=e.setTimeout(function(){_.abort("timeout")},u.timeout));try{l=!1,i.send(y,C)}catch(t){if(l)throw t;C(-1,t)}}else C(-1,"No Transport")}return _;function C(t,n,r,d){var h,v,y,x=n;l||(l=!0,s&&e.clearTimeout(s),i=void 0,a=d||"",_.readyState=0<t?4:0,d=200<=t&&t<300||304===t,r&&(y=function(e,t,n){for(var i,o,a,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)a=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}r=r||o}a=a||r}if(a)return a!==l[0]&&l.unshift(a),n[a]}(u,_,r)),!d&&-1<k.inArray("script",u.dataTypes)&&k.inArray("json",u.dataTypes)<0&&(u.converters["text script"]=function(){}),y=function(e,t,n,i){var o,a,r,s,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(a=d.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=d.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(r=c[l+" "+a]||c["* "+a]))for(o in c)if((s=o.split(" "))[1]===a&&(r=c[l+" "+s[0]]||c["* "+s[0]])){!0===r?r=c[o]:!0!==c[o]&&(a=s[0],d.unshift(s[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(u,y,_,d),d?(u.ifModified&&((r=_.getResponseHeader("Last-Modified"))&&(k.lastModified[o]=r),r=_.getResponseHeader("etag"))&&(k.etag[o]=r),204===t||"HEAD"===u.type?x="nocontent":304===t?x="notmodified":(x=y.state,h=y.data,d=!(v=y.error))):(v=x,!t&&x||(x="error",t<0&&(t=0))),_.status=t,_.statusText=(n||x)+"",d?f.resolveWith(p,[h,x,_]):f.rejectWith(p,[_,x,v]),_.statusCode(b),b=void 0,c&&m.trigger(d?"ajaxSuccess":"ajaxError",[_,u,d?h:v]),g.fireWith(p,[_,x]),c&&(m.trigger("ajaxComplete",[_,u]),--k.active||k.event.trigger("ajaxStop")))}},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,t){k[t]=function(e,i,o,a){return n(i)&&(a=a||o,o=i,i=void 0),k.ajax(k.extend({url:e,type:t,dataType:a,data:i,success:o},k.isPlainObject(e)&&e))}}),k.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){return this[0]&&(n(e)&&(e=e.call(this[0])),e=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return n(e)?this.each(function(t){k(this).wrapInner(e.call(this,t))}):this.each(function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=n(e);return this.each(function(n){k(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var ti={0:200,1223:204},ni=k.ajaxSettings.xhr(),ii=(g.cors=!!ni&&"withCredentials"in ni,g.ajax=ni=!!ni,k.ajaxTransport(function(t){var n,i;if(g.cors||ni&&!t.crossDomain)return{send:function(o,a){var r,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)s[r]=t.xhrFields[r];for(r in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(r,o[r]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(ti[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(o){if(n)throw o}},abort:function(){n&&n()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,o){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),v.head.appendChild(t[0])},abort:function(){n&&n()}}}),[]),oi=/(=)\?(?=&|$)|\?\?/,ai=(k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ii.pop()||k.expando+"_"+Pn.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(t,i,o){var a,r,s,l=!1!==t.jsonp&&(oi.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&oi.test(t.data)&&"data");if(l||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=n(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,l?t[l]=t[l].replace(oi,"$1"+a):!1!==t.jsonp&&(t.url+=(Bn.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return s||k.error(a+" was not called"),s[0]},t.dataTypes[0]="json",r=e[a],e[a]=function(){s=arguments},o.always(function(){void 0===r?k(e).removeProp(a):e[a]=r,t[a]&&(t.jsonpCallback=i.jsonpCallback,ii.push(a)),s&&n(r)&&r(s[0]),s=r=void 0}),"script"}),g.createHTMLDocument=((dt=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===dt.childNodes.length),k.parseHTML=function(e,t,n){var i;return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,t.head.appendChild(i)):t=v),i=!n&&[],(n=$e.exec(e))?[t.createElement(n[1])]:(n=St([e],t,i),i&&i.length&&k(i).remove(),k.merge([],n.childNodes)))},k.fn.load=function(e,t,i){var o,a,r,s=this,l=e.indexOf(" ");return-1<l&&(o=En(e.slice(l)),e=e.slice(0,l)),n(t)?(i=t,t=void 0):t&&"object"===h(t)&&(a="POST"),0<s.length&&k.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){r=arguments,s.html(o?k("<div>").append(k.parseHTML(e)).find(o):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,function(t){return e===t.elem}).length},k.offset={setOffset:function(e,t,i){var o,a,r,s,l=k.css(e,"position"),c=k(e),d={};"static"===l&&(e.style.position="relative"),r=c.offset(),o=k.css(e,"top"),s=k.css(e,"left"),l=("absolute"===l||"fixed"===l)&&-1<(o+s).indexOf("auto")?(a=(l=c.position()).top,l.left):(a=parseFloat(o)||0,parseFloat(s)||0),null!=(t=n(t)?t.call(e,i,k.extend({},r)):t).top&&(d.top=t.top-r.top+a),null!=t.left&&(d.left=t.left-r.left+l),"using"in t?t.using.call(e,d):c.css(d)}},k.fn.extend({offset:function(e){var t,n;return arguments.length?void 0===e?this:this.each(function(t){k.offset.setOffset(this,e,t)}):(n=this[0])?n.getClientRects().length?(t=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===k.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),o.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-k.css(i,"marginTop",!0),left:t.left-o.left-k.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ht})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;k.fn[e]=function(o){return Ke(this,function(e,o,a){var r;if(i(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===a)return r?r[t]:e[o];r?r.scrollTo(n?r.pageXOffset:a,n?a:r.pageYOffset):e[o]=a},e,o,arguments.length)}}),k.each(["top","left"],function(e,t){k.cssHooks[t]=on(g.pixelPosition,function(e,n){if(n)return n=nn(e,t),Kt.test(n)?k(e).position()[t]+"px":n})}),k.each({Height:"height",Width:"width"},function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){k.fn[o]=function(a,r){var s=arguments.length&&(n||"boolean"!=typeof a),l=n||(!0===a||!0===r?"margin":"border");return Ke(this,function(t,n,a){var r;return i(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===a?k.css(t,n,l):k.style(t,n,a,l)},t,s?a:void 0,s)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){k.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),ri=(k.proxy=function(e,t){var i,o;if("string"==typeof t&&(o=e[t],t=e,e=o),n(e))return i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||k.guid++,o},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=C,k.isFunction=n,k.isWindow=i,k.camelCase=tt,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(ai,"$1")},e.jQuery),si=e.$;return k.noConflict=function(t){return e.$===k&&(e.$=si),t&&e.jQuery===k&&(e.jQuery=ri),k},void 0===t&&(e.jQuery=e.$=k),k},(f="undefined"!=typeof window?window:f).document&&L(f,!0);var v={}.hasOwnProperty;var b=D(/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])/),y=D(/[A-Za-z]/),x=D(/[\dA-Za-z]/),k=D(/[!-/:-@[-`{-~]/);function _(e){return null!==e&&e<-2}function C(e){return null!==e&&(e<0||32===e)}function T(e){return-2===e||-1===e||32===e}function S(e){return k(e)||b(e)}var M=D(/\s/);function D(e){return function(t){return null!==t&&-1<t&&e.test(String.fromCharCode(t))}}for(var E={tokenize:function(e,t,n){var i=0;return function t(a){return(87===a||119===a)&&i<3?(i++,e.consume(a),t):46===a&&3===i?(e.consume(a),o):n(a)};function o(e){return(null===e?n:t)(e)}},partial:!0},A={tokenize:function(e,t,n){var i,o,a;return r;function r(t){return 46===t||95===t?e.check(I,l,s)(t):null===t||C(t)||M(t)||45!==t&&S(t)?l(t):(a=!0,e.consume(t),r)}function s(t){return i=95===t||void(o=i),e.consume(t),r}function l(e){return(o||i||!a?n:t)(e)}},partial:!0},F={tokenize:function(e,t){var n=0,i=0;return o;function o(r){return 40===r?(n++,e.consume(r),o):41===r&&i<n?a(r):33===r||34===r||38===r||39===r||41===r||42===r||44===r||46===r||58===r||59===r||60===r||63===r||93===r||95===r||126===r?e.check(I,t,a)(r):null===r||C(r)||M(r)?t(r):(e.consume(r),o)}function a(t){return 41===t&&i++,e.consume(t),o}},partial:!0},I={tokenize:function(e,t,n){return i;function i(r){return 33===r||34===r||39===r||41===r||42===r||44===r||46===r||58===r||59===r||63===r||95===r||126===r?(e.consume(r),i):38===r?(e.consume(r),a):93===r?(e.consume(r),o):(60===r||null===r||C(r)||M(r)?t:n)(r)}function o(e){return(null===e||40===e||91===e||C(e)||M(e)?t:i)(e)}function a(e){return(y(e)?r:n)(e)}function r(t){return 59===t?(e.consume(t),i):y(t)?(e.consume(t),r):n(t)}},partial:!0},O={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(e){return(x(e)?n:t)(e)}},partial:!0},L={tokenize:function(e,t,n){var i=this;return function(t){return(87!==t&&119!==t||!z.call(i,i.previous)||H(i.events)?n:(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(E,e.attempt(A,e.attempt(F,o),n),n)))(t)};function o(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:z},P=(f={tokenize:function(e,t,n){var i=this,o="",a=!1;return function(t){return 72!==t&&104!==t||!j.call(i,i.previous)||H(i.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(t),e.consume(t),r)};function r(t){if(y(t)&&o.length<5)return o+=String.fromCodePoint(t),e.consume(t),r;if(58===t){var i=o.toLowerCase();if("http"===i||"https"===i)return e.consume(t),s}return n(t)}function s(t){return 47===t?(e.consume(t),a?l:(a=!0,s)):n(t)}function l(t){return(null===t||null!==(i=t)&&(i<32||127===i)||C(t)||M(t)||S(t)?n:e.attempt(A,e.attempt(F,c),n))(t);var i}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:j},{tokenize:function(e,t,n){var i,o,a=this;return function(t){return(G(t)&&R.call(a,a.previous)&&!H(a.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),r):n)(t)};function r(t){return G(t)?(e.consume(t),r):64===t?(e.consume(t),s):n(t)}function s(t){return 46===t?e.check(O,c,l)(t):45===t||95===t||x(t)?(o=!0,e.consume(t),s):c(t)}function l(t){return e.consume(t),i=!0,s}function c(r){return(o&&i&&y(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t):n)(r)}},previous:R}),B={},N=48;N<123;)B[N]=P,58==++N?N=65:91===N&&(N=97);function z(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||C(e)}function j(e){return!y(e)}function R(e){return!(47===e||G(e))}function G(e){return 43===e||45===e||46===e||95===e||x(e)}function H(e){for(var t=e.length,n=!1;t--;){var i=e[t][1];if(("labelLink"===i.type||"labelImage"===i.type)&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return 0<e.length&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function W(e){return null===e||C(e)||M(e)?1:S(e)?2:void 0}function U(e,t,n,i){var o=i?i-1:Number.POSITIVE_INFINITY,a=0;return function(i){return(T(i)?(e.enter(n),r):t)(i)};function r(i){return T(i)&&a++<o?(e.consume(i),r):(e.exit(n),t(i))}}B[43]=P,B[45]=P,B[46]=P,B[95]=P,B[72]=[P,f],B[104]=[P,f],B[87]=[P,L],B[119]=[P,L];var q={tokenize:function(e,t,n){return function(t){return(T(t)?U(e,i,"linePrefix"):i)(t)};function i(e){return(null===e||_(e)?t:n)(e)}},partial:!0};function V(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Y={tokenize:function(e,t,n){var i=this;return U(e,function(e){var o=i.events[i.events.length-1];return(o&&"gfmFootnoteDefinitionIndent"===o[1].type&&4===o[2].sliceSerialize(o[1],!0).length?t:n)(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function X(e,t,n){for(var i,o=this,a=o.events.length,r=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]);a--;){var s=o.events[a][1];if("labelImage"===s.type){i=s;break}if("gfmFootnoteCall"===s.type||"labelLink"===s.type||"label"===s.type||"image"===s.type||"link"===s.type)break}return function(a){var s;return(i&&i._balanced&&94===(s=V(o.sliceSerialize({start:i.end,end:o.now()}))).codePointAt(0)&&r.includes(s.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t):n)(a)}}function J(e,t){for(var n=e.length;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";var i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o=((r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)}).end.column++,r.end.offset++,r.end._bufferIndex++,{type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)}),a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},r=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",r,t],["exit",r,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice.apply(e,[n,e.length-n+1].concat(r)),e}function K(e,t,n){var i,o=this,a=o.parser.gfmFootnotes||(o.parser.gfmFootnotes=[]),r=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),s};function s(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(s){var d;return 999<r||93===s&&!i||null===s||91===s||C(s)?n(s):93===s?(e.exit("chunkString"),d=e.exit("gfmFootnoteCallString"),a.includes(V(o.sliceSerialize(d)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(s)):(C(s)||(i=!0),r++,e.consume(s),92===s?c:l)}function c(t){return 91===t||92===t||93===t?(e.consume(t),r++,l):l(t)}}function Z(e,t,n){var i,o,a=this,r=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]),s=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){var r;return 999<s||93===t&&!o||null===t||91===t||C(t)?n(t):93===t?(e.exit("chunkString"),r=e.exit("gfmFootnoteDefinitionLabelString"),i=V(a.sliceSerialize(r)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),u):(C(t)||(o=!0),s++,e.consume(t),92===t?d:c)}function d(t){return 91===t||92===t||93===t?(e.consume(t),s++,c):c(t)}function u(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),r.includes(i)||r.push(i),U(e,p,"gfmFootnoteDefinitionWhitespace")):n(t)}function p(e){return t(e)}}function Q(e,t,n){return e.check(q,t,e.attempt(Y,t,n))}function ee(e){e.exit("gfmFootnoteDefinition")}var te=a(function e(){i(this,e),this.map=[]},[{key:"add",value:function(e,t,n){var i,o=this,a=e,r=t,s=n,l=0;if(0!==r||0!==s.length){for(;l<o.map.length;){if(o.map[l][0]===a)return o.map[l][1]+=r,void(i=o.map[l][2]).push.apply(i,u(s));l+=1}o.map.push([a,r,s])}}},{key:"consume",value:function(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0!==this.map.length){for(var t=this.map.length,n=[];0<t;)n.push(e.slice(this.map[--t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(u(e)),e.length=0;for(var i=n.pop();i;)e.push.apply(e,u(i)),i=n.pop();this.map.length=0}}}]);function ne(e,t,n){var i,o=this,a=0,r=0;return function(e){for(var t=o.events.length-1;-1<t;){var i=o.events[t][1].type;if("lineEnding"!==i&&"linePrefix"!==i)break;t--}var a;return((a="tableHead"===(a=-1<t?o.events[t][1].type:null)||"tableRow"===a?x:s)===x&&o.parser.lazy[o.now().line]?n:a)(e)};function s(t){return e.enter("tableHead"),e.enter("tableRow"),124!==t&&(i=!0,r+=1),l(t)}function l(t){return null===t?n(t):_(t)?1<r?(r=0,o.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),u):n(t):T(t)?U(e,l,"whitespace")(t):(r+=1,i&&(i=!1,a+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),i=!0,l):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||C(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?d:c)}function d(t){return 92===t||124===t?(e.consume(t),c):c(t)}function u(t){return o.interrupt=!1,(o.parser.lazy[o.now().line]?n:(e.enter("tableDelimiterRow"),i=!1,T(t)?U(e,p,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4):p))(t)}function p(t){return 45===t||58===t?m(t):124===t?(i=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),h):y(t)}function h(t){return(T(t)?U(e,m,"whitespace"):m)(t)}function m(t){return 58===t?(r+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),f):(45===t?(r+=1,f):null===t||_(t)?b:y)(t)}function f(t){return(45===t?(e.enter("tableDelimiterFiller"),g):y)(t)}function g(t){return 45===t?(e.consume(t),g):58===t?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(t))}function v(t){return(T(t)?U(e,b,"whitespace"):b)(t)}function b(n){return(124===n?p:(null===n||_(n))&&i&&a===r?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t):y)(n)}function y(e){return n(e)}function x(t){return e.enter("tableRow"),w(t)}function w(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),w):(null===n||_(n)?(e.exit("tableRow"),t):T(n)?U(e,w,"whitespace"):(e.enter("data"),k))(n)}function k(t){return null===t||124===t||C(t)?(e.exit("data"),w(t)):(e.consume(t),92===t?S:k)}function S(t){return 92===t||124===t?(e.consume(t),k):k(t)}}function ie(e,t){for(var n,i,o,a=-1,r=!0,s=0,l=[0,0,0,0],c=[0,0,0,0],d=!1,u=0,p=new te;++a<e.length;){var h=e[a],m=h[1];"enter"===h[0]?"tableHead"===m.type?(d=!1,0!==u&&(ae(p,t,u,n,i),i=void 0,u=0),n={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(a,0,[["enter",n,t]])):"tableRow"===m.type||"tableDelimiterRow"===m.type?(r=!0,o=void 0,l=[0,0,0,0],c=[0,a+1,0,0],d&&(d=!1,i={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(a,0,[["enter",i,t]])),s="tableDelimiterRow"===m.type?2:i?3:1):!s||"data"!==m.type&&"tableDelimiterMarker"!==m.type&&"tableDelimiterFiller"!==m.type?"tableCellDivider"===m.type&&(r?r=!1:(0!==l[1]&&(c[0]=c[1],o=oe(p,t,l,s,void 0,o)),c=[(l=c)[1],a,0,0])):(r=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],o=oe(p,t,l,s,void 0,o),l=[0,0,0,0]),c[2]=a)):"tableHead"===m.type?(d=!0,u=a):"tableRow"===m.type||"tableDelimiterRow"===m.type?(u=a,0!==l[1]?(c[0]=c[1],o=oe(p,t,l,s,a,o)):0!==c[1]&&(o=oe(p,t,c,s,a,o)),s=0):!s||"data"!==m.type&&"tableDelimiterMarker"!==m.type&&"tableDelimiterFiller"!==m.type||(c[3]=a)}for(0!==u&&ae(p,t,u,n,i),p.consume(t.events),a=-1;++a<t.events.length;){var f=t.events[a];"enter"===f[0]&&"table"===f[1].type&&(f[1]._align=function(e,t){for(var n=!1,i=[];t<e.length;){var o,a=e[t];if(n){if("enter"===a[0])"tableContent"===a[1].type&&i.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===a[1].type)"tableDelimiterMarker"===e[t-1][1].type&&(i[o=i.length-1]="left"===i[o]?"center":"right");else if("tableDelimiterRow"===a[1].type)break}else"enter"===a[0]&&"tableDelimiterRow"===a[1].type&&(n=!0);t+=1}return i}(t.events,a))}return e}function oe(e,t,n,i,o,a){var r=1===i?"tableHeader":2===i?"tableDelimiter":"tableData",s=(0!==n[0]&&(a.end=Object.assign({},re(t.events,n[0])),e.add(n[0],0,[["exit",a,t]])),re(t.events,n[1]));return a={type:r,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",a,t]]),0!==n[2]&&(r=re(t.events,n[2]),s=re(t.events,n[3]),r={type:"tableContent",start:Object.assign({},r),end:Object.assign({},s)},e.add(n[2],0,[["enter",r,t]]),2!==i&&(s=t.events[n[2]],i=t.events[n[3]],s[1].end=Object.assign({},i[1].end),s[1].type="chunkText",s[1].contentType="text",n[3]>n[2]+1)&&(i=n[2]+1,e.add(i,n[3]-n[2]-1,[])),e.add(n[3]+1,0,[["exit",r,t]])),void 0!==o&&(a.end=Object.assign({},re(t.events,o)),e.add(o,0,[["exit",a,t]]),a=void 0),a}function ae(e,t,n,i,o){var a=[],r=re(t.events,n);o&&(o.end=Object.assign({},r),a.push(["exit",o,t])),i.end=Object.assign({},r),a.push(["exit",i,t]),e.add(n+1,0,a)}function re(e,t){return t="enter"===(e=e[t])[0]?"start":"end",e[1][t]}var se={tokenize:function(e,t,n){var i=this;return function(t){return null===i.previous&&i._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),o):n(t)};function o(t){return C(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),a):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),a):n(t)}function a(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),r):n(t)}function r(i){return(_(i)?t:T(i)?e.check({tokenize:le},t,n):n)(i)}}};function le(e,t,n){return U(e,function(e){return(null===e?n:t)(e)},"whitespace")}function ce(){return function(e){for(var t={},n=-1;++n<e.length;){c=l=s=r=i=o=void 0;var i,o=t,a=e[n];for(i in a){var r=(v.call(o,i)?o[i]:void 0)||(o[i]={}),s=a[i],l=void 0;if(s)for(l in s){v.call(r,l)||(r[l]=[]);var c=s[l];!function(e,t){for(var n=-1,i=[];++n<t.length;)("after"===t[n].add?e:i).push(t[n]);g(e,0,0,i)}(r[l],Array.isArray(c)?c:c?[c]:[])}}}return t}([{text:B},{document:{91:{tokenize:Z,continuation:{tokenize:Q},exit:ee}},text:{91:{tokenize:K},93:{add:"after",tokenize:X,resolveTo:J}}},(e={}.singleTilde,t={tokenize:function(t,n,i){var o=this.previous,a=this.events,r=0;return function(e){return(126===o&&"characterEscape"!==a[a.length-1][1].type?i:(t.enter("strikethroughSequenceTemporary"),s))(e)};function s(a){var l,c,d=W(o);return 126===a?1<r?i(a):(t.consume(a),r++,s):(r<2&&!e?i:(l=t.exit("strikethroughSequenceTemporary"),c=W(a),l._open=!c||2===c&&!!d,l._close=!d||2===d&&!!c,n))(a)}},resolveAll:function(e,t){for(var n=-1;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close)for(var i=n;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[n][1].end.offset-e[n][1].start.offset==e[i][1].end.offset-e[i][1].start.offset){e[n][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence";var o={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[n][1].end)},a={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},r=[["enter",o,t],["enter",e[i][1],t],["exit",e[i][1],t],["enter",a,t]],s=t.parser.constructs.insideSpan.null;s&&g(r,r.length,0,function(e,t,n){for(var i=[],o=-1;++o<e.length;){var a=e[o].resolveAll;a&&!i.includes(a)&&(t=a(t,n),i.push(a))}return t}(s,e.slice(i+1,n),t)),g(r,r.length,0,[["exit",a,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",o,t]]),g(e,i-1,n-i+3,r),n=i+r.length-2;break}for(n=-1;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}},null==e&&(e=!0),{text:{126:t},insideSpan:{null:[t]},attentionMarkers:{null:[126]}}),{flow:{null:{tokenize:ne,resolveAll:ie}}},{text:{91:se}}]);var e,t}var de=Object.defineProperty,ue={};function pe(e,t,n){if((i=e)&&"object"==h(i)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return he(e.children,t,n)}var i;return Array.isArray(e)?he(e,t,n):""}function he(e,t,n){for(var i=[],o=-1;++o<e.length;)i[o]=pe(e[o],t,n);return i.join("")}var me=document.createElement("i");function fe(e){var t="&"+e+";",n=(me.innerHTML=t,me.textContent);return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}function ge(e,t,n,i){var o,a=e.length,r=0;if(t=t<0?a<-t?0:a+t:a<t?a:t,n=0<n?n:0,i.length<1e4)(o=Array.from(i)).unshift(t,n),e.splice.apply(e,u(o));else for(n&&e.splice(t,n);r<i.length;)(o=i.slice(r,r+1e4)).unshift(t,0),e.splice.apply(e,u(o)),r+=1e4,t+=1e4}function ve(e,t){return 0<e.length?(ge(e,e.length,0,t),e):t}var be={}.hasOwnProperty;function ye(e){for(var t={},n=-1;++n<e.length;){c=l=s=r=i=o=void 0;var i,o=t,a=e[n];for(i in a){var r=(be.call(o,i)?o[i]:void 0)||(o[i]={}),s=a[i],l=void 0;if(s)for(l in s){be.call(r,l)||(r[l]=[]);var c=s[l];!function(e,t){for(var n=-1,i=[];++n<t.length;)("after"===t[n].add?e:i).push(t[n]);ge(e,0,0,i)}(r[l],Array.isArray(c)?c:c?[c]:[])}}}return t}function xe(e,t){return(e=Number.parseInt(e,t))<9||11===e||13<e&&e<32||126<e&&e<160||55295<e&&e<57344||64975<e&&e<65008||!(65535&~e)||65534==(65535&e)||1114111<e?"�":String.fromCodePoint(e)}function we(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var ke=Le(/[A-Za-z]/),_e=Le(/[\dA-Za-z]/),Ce=Le(/[#-'*+\--9=?A-Z^-~]/);function Te(e){return null!==e&&(e<32||127===e)}var Se=Le(/\d/),Me=Le(/[\dA-Fa-f]/),De=Le(/[!-/:-@[-`{-~]/);function Ee(e){return null!==e&&e<-2}function Ae(e){return null!==e&&(e<0||32===e)}function Fe(e){return-2===e||-1===e||32===e}var Ie=Le(/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD803[\uDD8E\uDD8F]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF])/),Oe=Le(/\s/);function Le(e){return function(t){return null!==t&&-1<t&&e.test(String.fromCharCode(t))}}function Pe(e,t,n,i){var o=i?i-1:Number.POSITIVE_INFINITY,a=0;return function(i){return(Fe(i)?(e.enter(n),r):t)(i)};function r(i){return Fe(i)&&a++<o?(e.consume(i),r):(e.exit(n),t(i))}}var Be={tokenize:function(e){var t,n=e.attempt(this.parser.constructs.contentInitial,function(t){if(null!==t)return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Pe(e,n,"linePrefix");e.consume(t)},function(t){return e.enter("paragraph"),i(t)});return n;function i(n){var i=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=i),t=i,o(n)}function o(t){if(null!==t)return Ee(t)?(e.consume(t),e.exit("chunkText"),i):(e.consume(t),o);e.exit("chunkText"),e.exit("paragraph"),e.consume(t)}}},$e={tokenize:function(e){var t,n,i,o=this,a=[],r=0;return s;function s(t){var n;return(r<a.length?(n=a[r],o.containerState=n[1],e.attempt(n[0].continuation,l,c)):c)(t)}function l(e){if(r++,o.containerState._closeFlow){o.containerState._closeFlow=void 0,t&&b();for(var n,i=o.events.length,a=i;a--;)if("exit"===o.events[a][0]&&"chunkFlow"===o.events[a][1].type){n=o.events[a][1].end;break}v(r);for(var l=i;l<o.events.length;)o.events[l][1].end=Object.assign({},n),l++;return ge(o.events,a+1,0,o.events.slice(i)),o.events.length=l,c(e)}return s(e)}function c(n){if(r===a.length){if(!t)return p(n);if(t.currentConstruct&&t.currentConstruct.concrete)return m(n);o.interrupt=!(!t.currentConstruct||t._gfmTableDynamicInterruptHack)}return o.containerState={},e.check(Ne,d,u)(n)}function d(e){return t&&b(),v(r),p(e)}function u(e){return o.parser.lazy[o.now().line]=r!==a.length,i=o.now().offset,m(e)}function p(t){return o.containerState={},e.attempt(Ne,h,m)(t)}function h(e){return r++,a.push([o.currentConstruct,o.containerState]),p(e)}function m(i){if(null!==i)return t=t||o.parser.flow(o.now()),e.enter("chunkFlow",{contentType:"flow",previous:n,_tokenizer:t}),f(i);t&&b(),v(0),e.consume(i)}function f(t){if(null!==t)return Ee(t)?(e.consume(t),g(e.exit("chunkFlow")),r=0,o.interrupt=void 0,s):(e.consume(t),f);g(e.exit("chunkFlow"),!0),v(0),e.consume(t)}function g(e,a){var s=o.sliceStream(e);if(a&&s.push(null),(e.previous=n)&&(n.next=e),n=e,t.defineSkip(e.start),t.write(s),o.parser.lazy[e.start.line]){for(var l=t.events.length;l--;)if(t.events[l][1].start.offset<i&&(!t.events[l][1].end||t.events[l][1].end.offset>i))return;for(var c,d,u=a=o.events.length;u--;)if("exit"===o.events[u][0]&&"chunkFlow"===o.events[u][1].type){if(c){d=o.events[u][1].end;break}c=!0}for(v(r),l=a;l<o.events.length;)o.events[l][1].end=Object.assign({},d),l++;ge(o.events,u+1,0,o.events.slice(a)),o.events.length=l}}function v(t){for(var n=a.length;n-- >t;){var i=a[n];o.containerState=i[1],i[0].exit.call(o,e)}a.length=t}function b(){t.write([null]),t=n=void 0,o.containerState._closeFlow=void 0}}},Ne={tokenize:function(e,t,n){return Pe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function ze(e){return null===e||Ae(e)||Oe(e)?1:Ie(e)?2:void 0}function je(e,t,n){for(var i=[],o=-1;++o<e.length;){var a=e[o].resolveAll;a&&!i.includes(a)&&(t=a(t,n),i.push(a))}return t}function Re(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}f={name:"attention",tokenize:function(e,t){var n,i=this.parser.constructs.attentionMarkers.null,o=this.previous,a=ze(o);return function(t){return n=t,e.enter("attentionSequence"),r(t)};function r(s){var l,c,d,u;return s===n?(e.consume(s),r):(l=e.exit("attentionSequence"),d=!(c=ze(s))||2===c&&a||i.includes(s),u=!a||2===a&&c||i.includes(o),l._open=!!(42===n?d:d&&(a||!u)),l._close=!!(42===n?u:u&&(c||!d)),t(s))}},resolveAll:function(e,t){for(var n,i,o,a,r,s=-1;++s<e.length;)if("enter"===e[s][0]&&"attentionSequence"===e[s][1].type&&e[s][1]._close)for(n=s;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[s][1]).charCodeAt(0)){if((e[n][1]._close||e[s][1]._open)&&(e[s][1].end.offset-e[s][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[s][1].end.offset-e[s][1].start.offset)%3))continue;o=1<e[n][1].end.offset-e[n][1].start.offset&&1<e[s][1].end.offset-e[s][1].start.offset?2:1;var l=Object.assign({},e[n][1].end),c=Object.assign({},e[s][1].start);Re(l,-o),Re(c,o),l={type:1<o?"strongSequence":"emphasisSequence",start:l,end:Object.assign({},e[n][1].end)},c={type:1<o?"strongSequence":"emphasisSequence",start:Object.assign({},e[s][1].start),end:c},i={type:1<o?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[s][1].start)},o={type:1<o?"strong":"emphasis",start:Object.assign({},l.start),end:Object.assign({},c.end)},e[n][1].end=Object.assign({},l.start),e[s][1].start=Object.assign({},c.end),a=[],e[n][1].end.offset-e[n][1].start.offset&&(a=ve(a,[["enter",e[n][1],t],["exit",e[n][1],t]])),a=ve(a,[["enter",o,t],["enter",l,t],["exit",l,t],["enter",i,t]]),a=ve(a,je(t.parser.constructs.insideSpan.null,e.slice(n+1,s),t)),a=ve(a,[["exit",i,t],["enter",c,t],["exit",c,t],["exit",o,t]]),e[s][1].end.offset-e[s][1].start.offset?(r=2,a=ve(a,[["enter",e[s][1],t],["exit",e[s][1],t]])):r=0,ge(e,n-1,s-n+3,a),s=n+a.length-r-2;break}for(s=-1;++s<e.length;)"attentionSequence"===e[s][1].type&&(e[s][1].type="data");return e}},L={name:"autolink",tokenize:function(e,t,n){var i=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(t){return ke(t)?(e.consume(t),a):(64===t?n:l)(t)}function a(e){return(43===e||45===e||46===e||_e(e)?(i=1,r):l)(e)}function r(t){return 58===t?(e.consume(t),i=0,s):(43===t||45===t||46===t||_e(t))&&i++<32?(e.consume(t),r):(i=0,l(t))}function s(i){return 62===i?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(i),e.exit("autolinkMarker"),e.exit("autolink"),t):null===i||32===i||60===i||Te(i)?n(i):(e.consume(i),s)}function l(t){return 64===t?(e.consume(t),c):Ce(t)?(e.consume(t),l):n(t)}function c(e){return(_e(e)?d:n)(e)}function d(n){return 46===n?(e.consume(n),i=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):u(n)}function u(t){var o;return(45===t||_e(t))&&i++<63?(o=45===t?u:d,e.consume(t),o):n(t)}}};var Ge={tokenize:function(e,t,n){return function(t){return(Fe(t)?Pe(e,i,"linePrefix"):i)(t)};function i(e){return(null===e||Ee(e)?t:n)(e)}},partial:!0},He={name:"blockQuote",tokenize:function(e,t,n){var i=this;return function(t){var a;return 62!==t?n(t):((a=i.containerState).open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),o)};function o(n){return Fe(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){var i=this;return function(t){return(Fe(t)?Pe(e,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4):o)(t)};function o(i){return e.attempt(He,t,n)(i)}}},exit:function(e){e.exit("blockQuote")}},We={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return De(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}},Ue={name:"characterReference",tokenize:function(e,t,n){var i,o,a=this,r=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),s};function s(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,o=_e,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=Me,c):(e.enter("characterReferenceValue"),i=7,o=Se,c(t))}function c(s){var l;return 59===s&&r?(l=e.exit("characterReferenceValue"),o!==_e||fe(a.sliceSerialize(l))?(e.enter("characterReferenceMarker"),e.consume(s),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(s)):o(s)&&r++<i?(e.consume(s),c):n(s)}}},qe={tokenize:function(e,t,n){var i=this;return function(t){return null===t?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o)};function o(e){return(i.parser.lazy[i.now().line]?n:t)(e)}},partial:!0},Ve={name:"codeFenced",tokenize:function(e,t,n){var i,o=this,a={tokenize:function(e,t,n){var a=0;return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(t){return e.enter("codeFencedFence"),(Fe(t)?Pe(e,l,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4):l)(t)}function l(t){return(t===i?(e.enter("codeFencedFenceSequence"),c):n)(t)}function c(t){return t===i?(a++,e.consume(t),c):(s<=a?(e.exit("codeFencedFenceSequence"),Fe(t)?Pe(e,d,"whitespace"):d):n)(t)}function d(i){return(null===i||Ee(i)?(e.exit("codeFencedFence"),t):n)(i)}},partial:!0},r=0,s=0;return function(t){var n=o.events[o.events.length-1];return r=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,i=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)};function l(t){return t===i?(s++,e.consume(t),l):(s<3?n:(e.exit("codeFencedFenceSequence"),Fe(t)?Pe(e,c,"whitespace"):c))(t)}function c(n){return(null===n||Ee(n)?(e.exit("codeFencedFence"),o.interrupt?t:e.check(qe,h,b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d))(n)}function d(t){return null===t||Ee(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):Fe(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Pe(e,u,"whitespace")(t)):96===t&&t===i?n(t):(e.consume(t),d)}function u(t){return(null===t||Ee(t)?c:(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p))(t)}function p(t){return null===t||Ee(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===i?n(t):(e.consume(t),p)}function h(t){return e.attempt(a,b,m)(t)}function m(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f}function f(t){return(0<r&&Fe(t)?Pe(e,g,"linePrefix",r+1):g)(t)}function g(t){return(null===t||Ee(t)?e.check(qe,h,b):(e.enter("codeFlowValue"),v))(t)}function v(t){return null===t||Ee(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),v)}function b(n){return e.exit("codeFenced"),t(n)}},concrete:!0},Ye={name:"codeIndented",tokenize:function(e,t,n){var i=this;return function(t){return e.enter("codeIndented"),Pe(e,o,"linePrefix",5)(t)};function o(e){var t=i.events[i.events.length-1];return(t&&"linePrefix"===t[1].type&&4<=t[2].sliceSerialize(t[1],!0).length?a:n)(e)}function a(t){return(null===t?s:Ee(t)?e.attempt(Xe,a,s):(e.enter("codeFlowValue"),r))(t)}function r(t){return null===t||Ee(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),r)}function s(n){return e.exit("codeIndented"),t(n)}}},Xe={tokenize:function(e,t,n){var i=this;return o;function o(t){return i.parser.lazy[i.now().line]?n(t):Ee(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):Pe(e,a,"linePrefix",5)(t)}function a(e){var a=i.events[i.events.length-1];return(a&&"linePrefix"===a[1].type&&4<=a[2].sliceSerialize(a[1],!0).length?t:Ee(e)?o:n)(e)}},partial:!0},Je={name:"codeText",tokenize:function(e,t,n){var i,o,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),r(t)};function r(t){return 96===t?(e.consume(t),a++,r):(e.exit("codeTextSequence"),s(t))}function s(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),s):96===t?(o=e.enter("codeTextSequence"),i=0,c(t)):Ee(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Ee(t)?(e.exit("codeTextData"),s(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),i++,c):(i===a?(e.exit("codeTextSequence"),e.exit("codeText"),t):(o.type="codeTextData",l))(n)}},resolve:function(e){var t,n,i=e.length-4,o=3;if(!("lineEnding"!==e[o][1].type&&"space"!==e[o][1].type||"lineEnding"!==e[i][1].type&&"space"!==e[i][1].type))for(t=o;++t<i;)if("codeTextData"===e[t][1].type){e[o][1].type="codeTextPadding",e[i][1].type="codeTextPadding",o+=2,i-=2;break}for(t=o-1,i++;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):t!==i&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}},Ke=a(function e(t){i(this,e),this.left=t?u(t):[],this.right=[]},[{key:"get",value:function(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}},{key:"length",get:function(){return this.left.length+this.right.length}},{key:"shift",value:function(){return this.setCursor(0),this.right.pop()}},{key:"slice",value:function(e,t){return(t=null!=t?t:Number.POSITIVE_INFINITY)<this.left.length?this.left.slice(e,t):e>this.left.length?this.right.slice(this.right.length-t+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-t+this.left.length).reverse())}},{key:"splice",value:function(e,t,n){return t=t||0,this.setCursor(Math.trunc(e)),e=this.right.splice(this.right.length-t,Number.POSITIVE_INFINITY),n&&Ze(this.left,n),e.reverse()}},{key:"pop",value:function(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}},{key:"push",value:function(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}},{key:"pushMany",value:function(e){this.setCursor(Number.POSITIVE_INFINITY),Ze(this.left,e)}},{key:"unshift",value:function(e){this.setCursor(0),this.right.push(e)}},{key:"unshiftMany",value:function(e){this.setCursor(0),Ze(this.right,e.reverse())}},{key:"setCursor",value:function(e){var t;e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length||(e<this.left.length?(t=this.left.splice(e,Number.POSITIVE_INFINITY),Ze(this.right,t.reverse())):(t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY),Ze(this.left,t.reverse())))}}]);function Ze(e,t){var n=0;if(t.length<1e4)e.push.apply(e,u(t));else for(;n<t.length;)e.push.apply(e,u(t.slice(n,n+1e4))),n+=1e4}function Qe(e){for(var t,n,i,o,a,r,s,l={},c=-1,d=new Ke(e);++c<d.length;){for(;c in l;)c=l[c];if(t=d.get(c),c&&"chunkFlow"===t[1].type&&"listItemPrefix"===d.get(c-1)[1].type&&((i=0)<(r=t[1]._tokenizer.events).length&&"lineEndingBlank"===r[i][1].type&&(i+=2),i<r.length)&&"content"===r[i][1].type)for(;++i<r.length&&"content"!==r[i][1].type;)"chunkText"===r[i][1].type&&(r[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===t[0])t[1].contentType&&(Object.assign(l,function(e,t){for(var n,i,o=e.get(t)[1],a=e.get(t)[2],r=t-1,s=[],l=o._tokenizer||a.parser[o.contentType](o.start),c=l.events,d=[],u={},p=-1,h=o,m=0,f=[0];h;){for(;e.get(++r)[1]!==h;);s.push(r),h._tokenizer||(n=a.sliceStream(h),h.next||n.push(null),i&&l.defineSkip(h.start),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(n),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),h=(i=h).next}for(h=o;++p<c.length;)"exit"===c[p][0]&&"enter"===c[p-1][0]&&c[p][1].type===c[p-1][1].type&&c[p][1].start.line!==c[p][1].end.line&&(f.push(p+1),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(l.events=[],h?(h._tokenizer=void 0,h.previous=void 0):f.pop(),p=f.length;p--;){var g=c.slice(f[p],f[p+1]),v=s.pop();d.push([v,v+g.length-1]),e.splice(v,2,g)}for(d.reverse(),p=-1;++p<d.length;)u[m+d[p][0]]=m+d[p][1],m+=d[p][1]-d[p][0]-1;return u}(d,c)),c=l[c],s=!0);else if(t[1]._container){for(i=c,n=void 0;i--&&("lineEnding"===(o=d.get(i))[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(n&&(d.get(n)[1].type="lineEndingBlank"),o[1].type="lineEnding",n=i);n&&(t[1].end=Object.assign({},d.get(n)[1].start),(a=d.slice(n,c)).unshift(t),d.splice(n,c-n+1,a))}}return ge(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!s}var et={tokenize:function(e,t){var n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?o(t):Ee(t)?e.check(tt,a,o)(t):(e.consume(t),i)}function o(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}},resolve:function(e){return Qe(e),e}},tt={tokenize:function(e,t,n){var i=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Pe(e,o,"linePrefix")};function o(o){var a;return(null===o||Ee(o)?n:(a=i.events[i.events.length-1],!i.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&4<=a[2].sliceSerialize(a[1],!0).length?t:e.interrupt(i.parser.constructs.flow,n,t)))(o)}},partial:!0};function nt(e,t,n,i,o,a,r,s,l){var c=l||Number.POSITIVE_INFINITY,d=0;return function(t){return 60===t?(e.enter(i),e.enter(o),e.enter(a),e.consume(t),e.exit(a),u):(null===t||32===t||41===t||Te(t)?n:(e.enter(i),e.enter(r),e.enter(s),e.enter("chunkString",{contentType:"string"}),m))(t)};function u(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(o),e.exit(i),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(n))}function p(t){return 62===t?(e.exit("chunkString"),e.exit(s),u(t)):null===t||60===t||Ee(t)?n(t):(e.consume(t),92===t?h:p)}function h(t){return 60===t||62===t||92===t?(e.consume(t),p):p(t)}function m(o){return d||null!==o&&41!==o&&!Ae(o)?d<c&&40===o?(e.consume(o),d++,m):41===o?(e.consume(o),d--,m):null===o||32===o||40===o||Te(o)?n(o):(e.consume(o),92===o?f:m):(e.exit("chunkString"),e.exit(s),e.exit(r),e.exit(i),t(o))}function f(t){return 40===t||41===t||92===t?(e.consume(t),m):m(t)}}function it(e,t,n,i,o,a){var r,s=this,l=0;return function(t){return e.enter(i),e.enter(o),e.consume(t),e.exit(o),e.enter(a),c};function c(u){return 999<l||null===u||91===u||93===u&&!r||94===u&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(u):93===u?(e.exit(a),e.enter(o),e.consume(u),e.exit(o),e.exit(i),t):Ee(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(u))}function d(t){return null===t||91===t||93===t||Ee(t)||999<l++?(e.exit("chunkString"),c(t)):(e.consume(t),r=r||!Fe(t),92===t?u:d)}function u(t){return 91===t||92===t||93===t?(e.consume(t),l++,d):d(t)}}function ot(e,t,n,i,o,a){var r;return function(t){return 34===t||39===t||40===t?(e.enter(i),e.enter(o),e.consume(t),e.exit(o),r=40===t?41:t,s):n(t)};function s(n){return n===r?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),t):(e.enter(a),l(n))}function l(t){return t===r?(e.exit(a),s(r)):null===t?n(t):Ee(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Pe(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===r||null===t||Ee(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?d:c)}function d(t){return t===r||92===t?(e.consume(t),c):c(t)}}function at(e,t){var n;return function i(o){return Ee(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,i):(Fe(o)?Pe(e,i,n?"linePrefix":"lineSuffix"):t)(o)}}var rt={name:"definition",tokenize:function(e,t,n){var i,o=this;return function(t){return e.enter("definition"),function(t){return it.call(o,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function a(t){return i=we(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),r):n(t)}function r(t){return(Ae(t)?at(e,s):s)(t)}function s(t){return nt(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(st,c,c)(t)}function c(t){return(Fe(t)?Pe(e,d,"whitespace"):d)(t)}function d(a){return(null===a||Ee(a)?(e.exit("definition"),o.parser.defined.push(i),t):n)(a)}}},st={tokenize:function(e,t,n){return function(t){return(Ae(t)?at(e,i):n)(t)};function i(t){return ot(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function o(t){return(Fe(t)?Pe(e,a,"whitespace"):a)(t)}function a(e){return(null===e||Ee(e)?t:n)(e)}},partial:!0},lt={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),i};function i(i){return(Ee(i)?(e.exit("hardBreakEscape"),t):n)(i)}}},ct={name:"headingAtx",tokenize:function(e,t,n){var i=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),o(t)}(t)};function o(t){return 35===t&&i++<6?(e.consume(t),o):(null===t||Ae(t)?(e.exit("atxHeadingSequence"),a):n)(t)}function a(n){return(35===n?(e.enter("atxHeadingSequence"),r):null===n||Ee(n)?(e.exit("atxHeading"),t):Fe(n)?Pe(e,a,"whitespace"):(e.enter("atxHeadingText"),s))(n)}function r(t){return 35===t?(e.consume(t),r):(e.exit("atxHeadingSequence"),a(t))}function s(t){return null===t||35===t||Ae(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),s)}},resolve:function(e,t){var n,i,o=e.length-2,a=3;return"whitespace"===e[a][1].type&&(a+=2),a<o-2&&"whitespace"===e[o][1].type&&(o-=2),"atxHeadingSequence"===e[o][1].type&&(a===o-1||a<o-4&&"whitespace"===e[o-2][1].type)&&(o-=a+1===o?2:4),a<o&&ge(e,a,o-a+1,[["enter",n={type:"atxHeadingText",start:e[a][1].start,end:e[o][1].end},t],["enter",i={type:"chunkText",start:e[a][1].start,end:e[o][1].end,contentType:"text"},t],["exit",i,t],["exit",n,t]]),e}},dt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ut=["pre","script","style","textarea"],pt={name:"htmlFlow",tokenize:function(e,t,n){var i,o,a,r,s,l=this;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c};function c(r){return 33===r?(e.consume(r),d):47===r?(e.consume(r),o=!0,h):63===r?(e.consume(r),i=3,l.interrupt?t:L):ke(r)?(e.consume(r),a=String.fromCharCode(r),m):n(r)}function d(o){return 45===o?(e.consume(o),i=2,u):91===o?(e.consume(o),i=5,r=0,p):ke(o)?(e.consume(o),i=4,l.interrupt?t:L):n(o)}function u(i){return 45===i?(e.consume(i),l.interrupt?t:L):n(i)}function p(i){return i==="CDATA[".charCodeAt(r++)?(e.consume(i),6===r?l.interrupt?t:S:p):n(i)}function h(t){return ke(t)?(e.consume(t),a=String.fromCharCode(t),m):n(t)}function m(r){var s,c;return null===r||47===r||62===r||Ae(r)?(s=47===r,c=a.toLowerCase(),s||o||!ut.includes(c)?dt.includes(a.toLowerCase())?(i=6,s?(e.consume(r),f):(l.interrupt?t:S)(r)):(i=7,(l.interrupt&&!l.parser.lazy[l.now().line]?n:o?g:v)(r)):(i=1,(l.interrupt?t:S)(r))):45===r||_e(r)?(e.consume(r),a+=String.fromCharCode(r),m):n(r)}function f(i){return 62===i?(e.consume(i),l.interrupt?t:S):n(i)}function g(t){return Fe(t)?(e.consume(t),g):C(t)}function v(t){return 47===t?(e.consume(t),C):58===t||95===t||ke(t)?(e.consume(t),b):Fe(t)?(e.consume(t),v):C(t)}function b(t){return 45===t||46===t||58===t||95===t||_e(t)?(e.consume(t),b):y(t)}function y(t){return 61===t?(e.consume(t),x):Fe(t)?(e.consume(t),y):v(t)}function x(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,w):Fe(t)?(e.consume(t),x):k(t)}function w(t){return t===s?(e.consume(t),s=null,_):null===t||Ee(t)?n(t):(e.consume(t),w)}function k(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Ae(t)?y(t):(e.consume(t),k)}function _(e){return(47===e||62===e||Fe(e)?v:n)(e)}function C(t){return 62===t?(e.consume(t),T):n(t)}function T(t){return null===t||Ee(t)?S(t):Fe(t)?(e.consume(t),T):n(t)}function S(t){return 45===t&&2===i?(e.consume(t),A):60===t&&1===i?(e.consume(t),F):62===t&&4===i?(e.consume(t),P):63===t&&3===i?(e.consume(t),L):93===t&&5===i?(e.consume(t),O):!Ee(t)||6!==i&&7!==i?null===t||Ee(t)?(e.exit("htmlFlowData"),M(t)):(e.consume(t),S):(e.exit("htmlFlowData"),e.check(ht,B,M)(t))}function M(t){return e.check(mt,D,B)(t)}function D(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),E}function E(t){return(null===t||Ee(t)?M:(e.enter("htmlFlowData"),S))(t)}function A(t){return 45===t?(e.consume(t),L):S(t)}function F(t){return 47===t?(e.consume(t),a="",I):S(t)}function I(t){var n;return 62===t?(n=a.toLowerCase(),ut.includes(n)?(e.consume(t),P):S(t)):ke(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),I):S(t)}function O(t){return 93===t?(e.consume(t),L):S(t)}function L(t){return 62===t?(e.consume(t),P):45===t&&2===i?(e.consume(t),L):S(t)}function P(t){return null===t||Ee(t)?(e.exit("htmlFlowData"),B(t)):(e.consume(t),P)}function B(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){for(var t=e.length;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return 1<t&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},concrete:!0},ht={tokenize:function(e,t,n){return function(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ge,t,n)}},partial:!0},mt={tokenize:function(e,t,n){var i=this;return function(t){return Ee(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):n(t)};function o(e){return(i.parser.lazy[i.now().line]?n:t)(e)}},partial:!0},ft={name:"htmlText",tokenize:function(e,t,n){var i,o,a,r=this;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),s};function s(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),x):63===t?(e.consume(t),b):ke(t)?(e.consume(t),_):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),o=0,h):ke(t)?(e.consume(t),v):n(t)}function c(t){return 45===t?(e.consume(t),p):n(t)}function d(t){return null===t?n(t):45===t?(e.consume(t),u):Ee(t)?(a=d,I(t)):(e.consume(t),d)}function u(t){return 45===t?(e.consume(t),p):d(t)}function p(e){return(62===e?F:45===e?u:d)(e)}function h(t){return t==="CDATA[".charCodeAt(o++)?(e.consume(t),6===o?m:h):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),f):Ee(t)?(a=m,I(t)):(e.consume(t),m)}function f(t){return 93===t?(e.consume(t),g):m(t)}function g(t){return 62===t?F(t):93===t?(e.consume(t),g):m(t)}function v(t){return null===t||62===t?F(t):Ee(t)?(a=v,I(t)):(e.consume(t),v)}function b(t){return null===t?n(t):63===t?(e.consume(t),y):Ee(t)?(a=b,I(t)):(e.consume(t),b)}function y(e){return(62===e?F:b)(e)}function x(t){return ke(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||_e(t)?(e.consume(t),w):k(t)}function k(t){return Ee(t)?(a=k,I(t)):Fe(t)?(e.consume(t),k):F(t)}function _(t){return 45===t||_e(t)?(e.consume(t),_):(47===t||62===t||Ae(t)?C:n)(t)}function C(t){return 47===t?(e.consume(t),F):58===t||95===t||ke(t)?(e.consume(t),T):Ee(t)?(a=C,I(t)):Fe(t)?(e.consume(t),C):F(t)}function T(t){return 45===t||46===t||58===t||95===t||_e(t)?(e.consume(t),T):S(t)}function S(t){return 61===t?(e.consume(t),M):Ee(t)?(a=S,I(t)):Fe(t)?(e.consume(t),S):C(t)}function M(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,D):Ee(t)?(a=M,I(t)):Fe(t)?(e.consume(t),M):(e.consume(t),E)}function D(t){return t===i?(e.consume(t),i=void 0,A):null===t?n(t):Ee(t)?(a=D,I(t)):(e.consume(t),D)}function E(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Ae(t)?C(t):(e.consume(t),E)}function A(e){return(47===e||62===e||Ae(e)?C:n)(e)}function F(i){return 62===i?(e.consume(i),e.exit("htmlTextData"),e.exit("htmlText"),t):n(i)}function I(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),O}function O(t){return(Fe(t)?Pe(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4):L)(t)}function L(t){return e.enter("htmlTextData"),a(t)}}},gt={name:"labelEnd",tokenize:function(e,t,n){for(var i,o,a=this,r=a.events.length;r--;)if(("labelImage"===a.events[r][1].type||"labelLink"===a.events[r][1].type)&&!a.events[r][1]._balanced){i=a.events[r][1];break}return function(t){return i?i._inactive?d(t):(o=a.parser.defined.includes(we(a.sliceSerialize({start:i.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),s):n(t)};function s(t){return(40===t?e.attempt(vt,c,o?c:d):91===t?e.attempt(bt,c,o?l:d):o?c:d)(t)}function l(t){return e.attempt(yt,c,d)(t)}function c(e){return t(e)}function d(e){return i._balanced=!0,n(e)}},resolveTo:function(e,t){for(var n,i,o,a,r=e.length,s=0;r--;)if(n=e[r][1],i){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[r][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(o){if("enter"===e[r][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(i=r,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(o=r);var l={type:"labelLink"===e[i][1].type?"link":"image",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[i][1].start),end:Object.assign({},e[o][1].end)},d={type:"labelText",start:Object.assign({},e[i+s+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=ve(a=[["enter",l,t],["enter",c,t]],e.slice(i+1,i+s+3)),a=ve(a,[["enter",d,t]]),a=ve(a,je(t.parser.constructs.insideSpan.null,e.slice(i+s+4,o-3),t)),a=ve(a,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),a=ve(a,e.slice(o+1)),a=ve(a,[["exit",l,t]]),ge(e,i,e.length,a),e},resolveAll:function(e){for(var t=-1;++t<e.length;){var n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},vt={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),i};function i(t){return(Ae(t)?at(e,o):o)(t)}function o(t){return(41===t?c:nt(e,a,r,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32))(t)}function a(t){return(Ae(t)?at(e,s):c)(t)}function r(e){return n(e)}function s(t){return(34===t||39===t||40===t?ot(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString"):c)(t)}function l(t){return(Ae(t)?at(e,c):c)(t)}function c(i){return 41===i?(e.enter("resourceMarker"),e.consume(i),e.exit("resourceMarker"),e.exit("resource"),t):n(i)}}},bt={tokenize:function(e,t,n){var i=this;return function(t){return it.call(i,e,o,a,"reference","referenceMarker","referenceString")(t)};function o(e){return(i.parser.defined.includes(we(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t:n)(e)}function a(e){return n(e)}}},yt={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),i};function i(i){return 93===i?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}},xt={name:"labelStartImage",tokenize:function(e,t,n){var i=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),o};function o(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return(94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n:t)(e)}},resolveAll:gt.resolveAll},wt={name:"labelStartLink",tokenize:function(e,t,n){var i=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),o};function o(e){return(94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n:t)(e)}},resolveAll:gt.resolveAll},kt={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Pe(e,t,"linePrefix")}}},_t={name:"thematicBreak",tokenize:function(e,t,n){var i,o=0;return function(t){return e.enter("thematicBreak"),a(i=t)};function a(a){return(a===i?(e.enter("thematicBreakSequence"),r):3<=o&&(null===a||Ee(a))?(e.exit("thematicBreak"),t):n)(a)}function r(t){return t===i?(e.consume(t),o++,r):(e.exit("thematicBreakSequence"),(Fe(t)?Pe(e,a,"whitespace"):a)(t))}}},Ct={name:"list",tokenize:function(e,t,n){var i=this,o=i.events[i.events.length-1],a=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],!0).length:0,r=0;return function(t){var o=i.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===o?!i.containerState.marker||t===i.containerState.marker:Se(t)){if(i.containerState.type||(i.containerState.type=o,e.enter(o,{_container:!0})),"listUnordered"===o)return e.enter("listItemPrefix"),(42===t||45===t?e.check(_t,n,l):l)(t);if(!i.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(t)}return n(t)};function s(t){return Se(t)&&++r<10?(e.consume(t),s):((!i.interrupt||r<2)&&(i.containerState.marker?t===i.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l):n)(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||t,e.check(Ge,i.interrupt?n:c,e.attempt(Tt,u,d))}function c(e){return i.containerState.initialBlankLine=!0,a++,u(e)}function d(t){return Fe(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return i.containerState.size=a+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){var i=this;return i.containerState._closeFlow=void 0,e.check(Ge,function(n){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Pe(e,t,"listItemIndent",i.containerState.size+1)(n)},function(n){return(i.containerState.furtherBlankLines||!Fe(n)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(St,t,o)))(n)});function o(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,Pe(e,e.attempt(Ct,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}},exit:function(e){e.exit(this.containerState.type)}},Tt={tokenize:function(e,t,n){var i=this;return Pe(e,function(e){var o=i.events[i.events.length-1];return(!Fe(e)&&o&&"listItemPrefixWhitespace"===o[1].type?t:n)(e)},"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},St={tokenize:function(e,t,n){var i=this;return Pe(e,function(e){var o=i.events[i.events.length-1];return(o&&"listItemIndent"===o[1].type&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t:n)(e)},"listItemIndent",i.containerState.size+1)},partial:!0},Mt={name:"setextUnderline",tokenize:function(e,t,n){var i,o=this;return function(t){for(var r,s=o.events.length;s--;)if("lineEnding"!==o.events[s][1].type&&"linePrefix"!==o.events[s][1].type&&"content"!==o.events[s][1].type){r="paragraph"===o.events[s][1].type;break}return o.parser.lazy[o.now().line]||!o.interrupt&&!r?n(t):(e.enter("setextHeadingLine"),function(t){return e.enter("setextHeadingLineSequence"),a(t)}(i=t))};function a(t){return t===i?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),(Fe(t)?Pe(e,r,"lineSuffix"):r)(t))}function r(i){return(null===i||Ee(i)?(e.exit("setextHeadingLine"),t):n)(i)}},resolveTo:function(e,t){for(var n,i,o,a=e.length;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(i=a)}else"content"===e[a][1].type&&e.splice(a,1),o||"definition"!==e[a][1].type||(o=a);var r={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",r,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=r,e.push(["exit",r,t]),e}},Dt={tokenize:function(e){var t=this,n=e.attempt(Ge,function(i){if(null!==i)return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n;e.consume(i)},e.attempt(this.parser.constructs.flowInitial,i,Pe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(et,i)),"linePrefix")));return n;function i(i){if(null!==i)return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(i)}}},Et={resolveAll:Ot()},At=It("string"),Ft=It("text");function It(e){return{tokenize:function(t){var n=this,i=this.parser.constructs[e],o=t.attempt(i,a,r);return a;function a(e){return(l(e)?o:r)(e)}function r(e){if(null!==e)return t.enter("data"),t.consume(e),s;t.consume(e)}function s(e){return l(e)?(t.exit("data"),o(e)):(t.consume(e),s)}function l(e){if(null===e)return 1;var t=i[e],o=-1;if(t)for(;++o<t.length;){var a=t[o];if(!a.previous||a.previous.call(n,n.previous))return 1}}},resolveAll:Ot("text"===e?Lt:void 0)}}function Ot(e){return function(t,n){for(var i,o=-1;++o<=t.length;)void 0===i?t[o]&&"data"===t[o][1].type&&(i=o,o++):t[o]&&"data"===t[o][1].type||(o!==i+2&&(t[i][1].end=t[o-1][1].end,t.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(t,n):t}}function Lt(e,t){for(var n=0;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){for(var i,o=e[n-1][1],a=t.sliceStream(o),r=a.length,s=-1,l=0,c=void 0;r--;){var d=a[r];if("string"==typeof d){for(s=d.length;32===d.charCodeAt(s-1);)l++,s--;if(s)break;s=-1}else if(-2===d)c=!0,l++;else if(-1!==d){r++;break}}l&&(i={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{line:o.end.line,column:o.end.column-l,offset:o.end.offset-l,_index:o.start._index+r,_bufferIndex:r?s:o.start._bufferIndex+s},end:Object.assign({},o.end)},o.end=Object.assign({},i.start),o.start.offset===o.end.offset?Object.assign(o,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)),n++}return e}var Pt,Bt={},$t=Bt,Nt={attentionMarkers:function(){return qt},contentInitial:function(){return jt},disable:function(){return Vt},document:function(){return zt},flow:function(){return Gt},flowInitial:function(){return Rt},insideSpan:function(){return Ut},string:function(){return Ht},text:function(){return Wt}};for(Pt in Nt)de($t,Pt,{get:Nt[Pt],enumerable:!0});var zt={42:Ct,43:Ct,45:Ct,48:Ct,49:Ct,50:Ct,51:Ct,52:Ct,53:Ct,54:Ct,55:Ct,56:Ct,57:Ct,62:He},jt={91:rt},Rt=r(r(r({},-2,Ye),-1,Ye),32,Ye),Gt={35:ct,42:_t,45:[Mt,_t],60:pt,61:Mt,95:_t,96:Ve,126:Ve},Ht={38:Ue,92:We},Wt=(r(r(r(r(r(r(r(r(r(r(rt={},-5,kt),-4,kt),-3,kt),33,xt),38,Ue),42,f),60,[L,ft]),91,wt),92,[lt,We]),93,gt),r(r(rt,95,f),96,Je)),Ut={null:[f,Et]},qt={null:[42,95]},Vt={null:[]};function Yt(e){var t={defined:[],lazy:{},constructs:ye([Bt].concat(u((e||{}).extensions||[]))),content:n(Be),document:n($e),flow:n(Dt),string:n(At),text:n(Ft)};return t;function n(e){return function(n){return function(e,t,n){var i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),o={},a=[],r=[],s=[],l={consume:function(e){Ee(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,b()):-1!==e&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===r[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=e},enter:function(e,t){return(t=t||{}).type=e,t.start=h(),c.events.push(["enter",t,c]),s.push(t),t},exit:function(e){var t=s.pop();return t.end=h(),c.events.push(["exit",t,c]),t},attempt:g(function(e,t){v(e,t.from)}),check:g(f),interrupt:g(f,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:p,sliceSerialize:function(e,t){return function(e,t){for(var n,i=-1,o=[];++i<e.length;){var a=e[i],r=void 0;if("string"==typeof a)r=a;else switch(a){case-5:r="\r";break;case-4:r="\n    ";break;case-3:r="\r\n    ";break;case-2:r=t?" ":"\t";break;case-1:if(!t&&n)continue;r=" ";break;default:r=String.fromCharCode(a)}n=-2===a,o.push(r)}return o.join("")}(p(e),t)},now:h,defineSkip:function(e){o[e.line]=e.column,b()},write:function(e){return r=ve(r,e),function(){for(var e;i._index<r.length;){var t=r[i._index];if("string"==typeof t)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<t.length;)m(t.charCodeAt(i._bufferIndex));else m(t)}}(),null!==r[r.length-1]?[]:(v(t,0),c.events=je(a,c.events,c),c.events)}},d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function p(e){var t,n=r,i=e.start._index,o=e.start._bufferIndex,a=e.end._index;return e=e.end._bufferIndex,i===a?t=[n[i].slice(o,e)]:(t=n.slice(i,a),-1<o&&("string"==typeof(i=t[0])?t[0]=i.slice(o):t.shift()),0<e&&t.push(n[a].slice(0,e))),t}function h(){var e=i;return{line:e.line,column:e.column,offset:e.offset,_index:e._index,_bufferIndex:e._bufferIndex}}function m(e){d=d(e)}function f(e,t){t.restore()}function g(e,t){return function(n,o,a){var r,d,p,m;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return function(t){var n=null!==t&&e[t],i=null!==t&&e.null;return f([].concat(u(Array.isArray(n)?n:n?[n]:[]),u(Array.isArray(i)?i:i?[i]:[])))(t)}}(n);function f(e){return(d=0)===(r=e).length?a:g(e[d])}function g(e){return function(n){return m=function(){var e=h(),t=c.previous,n=c.currentConstruct,o=c.events.length,a=Array.from(s);return{restore:function(){i=e,c.previous=t,c.currentConstruct=n,c.events.length=o,s=a,b()},from:o}}(),(p=e).partial||(c.currentConstruct=e),e.name&&c.parser.constructs.disable.null.includes(e.name)?y():e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,v,y)(n)}}function v(t){return e(p,m),o}function y(e){return m.restore(),++d<r.length?g(r[d]):a}}}function v(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&ge(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function b(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}(t,e,n)}}}var Xt=/[\0\t\n\r]/g;var Jt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Kt(e,t,n){return t||(35===n.charCodeAt(0)?(t=n.charCodeAt(1),xe(n.slice((t=120===t||88===t)?2:1),t?16:10)):fe(n)||e)}function Zt(e){return e&&"object"==h(e)?"position"in e||"type"in e?en(e.position):"start"in e||"end"in e?en(e):"line"in e||"column"in e?Qt(e):"":""}function Qt(e){return tn(e&&e.line)+":"+tn(e&&e.column)}function en(e){return Qt(e&&e.start)+"-"+Qt(e&&e.end)}function tn(e){return e&&"number"==typeof e?e:1}var nn={}.hasOwnProperty;function on(e,t,n){"string"!=typeof t&&(n=t,t=void 0),function e(t,n){for(var i=-1;++i<n.length;){var o=n[i];(Array.isArray(o)?e:rn)(t,o)}}(i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(C),autolinkProtocol:g,autolinkEmail:g,atxHeading:u(w),blockQuote:u(function(){return{type:"blockquote",children:[]}}),characterEscape:g,characterReference:g,codeFenced:u(x),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:u(x,p),codeText:u(function(){return{type:"inlineCode",value:""}},p),codeTextData:g,data:g,codeFlowValue:g,definition:u(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:u(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:u(k),hardBreakTrailing:u(k),htmlFlow:u(_,p),htmlFlowData:g,htmlText:u(_,p),htmlTextData:g,image:u(function(){return{type:"image",title:null,url:"",alt:null}}),label:p,link:u(C),listItem:u(function(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}),listItemValue:function(e){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0)},listOrdered:u(T,function(){this.data.expectingFirstListItemValue=!0}),listUnordered:u(T),paragraph:u(function(){return{type:"paragraph",children:[]}}),reference:function(){this.data.referenceType="collapsed"},referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:u(w),strong:u(function(){return{type:"strong",children:[]}}),thematicBreak:u(function(){return{type:"thematicBreak"}})},exit:{atxHeading:m(),atxHeadingSequence:function(e){var t=this.stack[this.stack.length-1];t.depth||(e=this.sliceSerialize(e).length,t.depth=e)},autolink:m(),autolinkEmail:function(e){v.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)},autolinkProtocol:function(e){v.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)},blockQuote:m(),characterEscapeValue:v,characterReferenceMarkerHexadecimal:y,characterReferenceMarkerNumeric:y,characterReferenceValue:function(e){e=this.sliceSerialize(e);var t,n=this.data.characterReferenceType;n?(t=xe(e,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0):t=fe(e),this.stack[this.stack.length-1].value+=t},characterReference:function(e){this.stack.pop().position.end=an(e.end)},codeFenced:m(function(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}),codeFencedFence:function(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)},codeFencedFenceInfo:function(){var e=this.resume();this.stack[this.stack.length-1].lang=e},codeFencedFenceMeta:function(){var e=this.resume();this.stack[this.stack.length-1].meta=e},codeFlowValue:v,codeIndented:m(function(){var e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}),codeText:m(function(){var e=this.resume();this.stack[this.stack.length-1].value=e}),codeTextData:v,data:v,definition:m(),definitionDestinationString:function(){var e=this.resume();this.stack[this.stack.length-1].url=e},definitionLabelString:function(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=we(this.sliceSerialize(e)).toLowerCase()},definitionTitleString:function(){var e=this.resume();this.stack[this.stack.length-1].title=e},emphasis:m(),hardBreakEscape:m(b),hardBreakTrailing:m(b),htmlFlow:m(function(){var e=this.resume();this.stack[this.stack.length-1].value=e}),htmlFlowData:v,htmlText:m(function(){var e=this.resume();this.stack[this.stack.length-1].value=e}),htmlTextData:v,image:m(function(){var e,t=this.stack[this.stack.length-1];this.data.inReference?(e=this.data.referenceType||"shortcut",t.type+="Reference",t.referenceType=e,delete t.url,delete t.title):(delete t.identifier,delete t.label),this.data.referenceType=void 0}),label:function(){var e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];this.data.inReference=!0,"link"===n.type?(e=e.children,n.children=e):n.alt=t},labelText:function(e){e=this.sliceSerialize(e);var t=this.stack[this.stack.length-2];t.label=function(e){return e.replace(Jt,Kt)}(e),t.identifier=we(e).toLowerCase()},lineEnding:function(e){var t=this.stack[this.stack.length-1];this.data.atHardBreak?(t.children[t.children.length-1].position.end=an(e.end),this.data.atHardBreak=void 0):!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes(t.type)&&(g.call(this,e),v.call(this,e))},link:m(function(){var e,t=this.stack[this.stack.length-1];this.data.inReference?(e=this.data.referenceType||"shortcut",t.type+="Reference",t.referenceType=e,delete t.url,delete t.title):(delete t.identifier,delete t.label),this.data.referenceType=void 0}),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:function(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=we(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"},resourceDestinationString:function(){var e=this.resume();this.stack[this.stack.length-1].url=e},resourceTitleString:function(){var e=this.resume();this.stack[this.stack.length-1].title=e},resource:function(){this.data.inReference=void 0},setextHeading:m(function(){this.data.setextHeadingSlurpLineEnding=void 0}),setextHeadingLineSequence:function(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2},setextHeadingText:function(){this.data.setextHeadingSlurpLineEnding=!0},strong:m(),thematicBreak:m()}},(n||{}).mdastExtensions||[]),o={};for(var i,o,a=function(e){for(;!Qe(e););return e}(Yt(n).document().write(function(){var e,t=1,n="",i=!0;return function(o,a,r){var s,l,c,d,u,p=[];for(o=n+("string"==typeof o?o.toString():new TextDecoder(a||void 0).decode(o)),c=0,n="",i&&(65279===o.charCodeAt(0)&&c++,i=void 0);c<o.length;){if(Xt.lastIndex=c,d=(s=Xt.exec(o))&&void 0!==s.index?s.index:o.length,u=o.charCodeAt(d),!s){n=o.slice(c);break}if(10===u&&c===d&&e)p.push(-3),e=void 0;else switch(e&&(p.push(-5),e=void 0),c<d&&(p.push(o.slice(c,d)),t+=d-c),u){case 0:p.push(65533),t++;break;case 9:for(l=4*Math.ceil(t/4),p.push(-2);t++<l;)p.push(-1);break;case 10:p.push(-4),t=1;break;default:e=!0,t=1}c=d+1}return r&&(e&&p.push(-5),n&&p.push(n),p.push(null)),p}}()(e,t,!0))),r={type:"root",children:[]},s={stack:[r],tokenStack:[],config:i,enter:h,exit:f,buffer:p,resume:function(){return pe(this.stack.pop(),"boolean"!=typeof ue.includeImageAlt||ue.includeImageAlt,"boolean"!=typeof ue.includeHtml||ue.includeHtml)},data:o},l=[],c=-1;++c<a.length;)"listOrdered"!==a[c][1].type&&"listUnordered"!==a[c][1].type||("enter"===a[c][0]?l.push(c):c=function(e,t,n){for(var i,o,a,r,s=t-1,l=-1,c=!1;++s<=n;){var d,u=e[s];switch(u[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===u[0]?l++:l--,r=void 0;break;case"lineEndingBlank":"enter"===u[0]&&(!i||r||l||a||(a=s),r=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:r=void 0}if(!l&&"enter"===u[0]&&"listItemPrefix"===u[1].type||-1===l&&"exit"===u[0]&&("listUnordered"===u[1].type||"listOrdered"===u[1].type)){if(i){var p=s;for(o=void 0;p--;){var h=e[p];if("lineEnding"===h[1].type||"lineEndingBlank"===h[1].type)"exit"!==h[0]&&(o&&(e[o][1].type="lineEndingBlank",c=!0),h[1].type="lineEnding",o=p);else if("linePrefix"!==h[1].type&&"blockQuotePrefix"!==h[1].type&&"blockQuotePrefixWhitespace"!==h[1].type&&"blockQuoteMarker"!==h[1].type&&"listItemIndent"!==h[1].type)break}a&&(!o||a<o)&&(i._spread=!0),i.end=Object.assign({},o?e[o][1].start:u[1].end),e.splice(o||s,0,["exit",i,u[2]]),s++,n++}"listItemPrefix"===u[1].type&&(i=d={type:"listItem",_spread:!1,start:Object.assign({},u[1].start),end:void 0},e.splice(s,0,["enter",d,u[2]]),s++,n++,r=!(a=void 0))}}return e[t][1]._spread=c,n}(a,l.pop(),c));for(c=-1;++c<a.length;){var d=i[a[c][0]];nn.call(d,a[c][1].type)&&d[a[c][1].type].call(Object.assign({sliceSerialize:a[c][2].sliceSerialize},s),a[c][1])}for(0<s.tokenStack.length&&((n=s.tokenStack[s.tokenStack.length-1])[1]||sn).call(s,void 0,n[0]),r.position={start:an(0<a.length?a[0][1].start:{line:1,column:1,offset:0}),end:an(0<a.length?a[a.length-2][1].end:{line:1,column:1,offset:0})},c=-1;++c<i.transforms.length;)r=i.transforms[c](r)||r;return r;function u(e,t){return function(n){h.call(this,e(n),n),t&&t.call(this,n)}}function p(){this.stack.push({type:"fragment",children:[]})}function h(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:an(t.start),end:void 0}}function m(e){return function(t){e&&e.call(this,t),f.call(this,t)}}function f(e,t){var n=this.stack.pop(),i=this.tokenStack.pop();if(!i)throw new Error("Cannot close `"+e.type+"` ("+Zt({start:e.start,end:e.end})+"): it’s not open");i[0].type!==e.type&&(t||i[1]||sn).call(this,e,i[0]),n.position.end=an(e.end)}function g(e){var t=this.stack[this.stack.length-1].children,n=t[t.length-1];n&&"text"===n.type||((n={type:"text",value:""}).position={start:an(e.start),end:void 0},t.push(n)),this.stack.push(n)}function v(e){var t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=an(e.end)}function b(){this.data.atHardBreak=!0}function y(e){this.data.characterReferenceType=e.type}function x(){return{type:"code",lang:null,meta:null,value:""}}function w(){return{type:"heading",depth:0,children:[]}}function k(){return{type:"break"}}function _(){return{type:"html",value:""}}function C(){return{type:"link",title:null,url:"",children:[]}}function T(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}}function an(e){return{line:e.line,column:e.column,offset:e.offset}}function rn(e,t){for(var n in t)if(nn.call(t,n))switch(n){case"canContainEols":var i=t[n];i&&(o=e[n]).push.apply(o,u(i));break;case"transforms":var o=t[n];o&&(i=e[n]).push.apply(i,u(o));break;case"enter":case"exit":var a=t[n];a&&Object.assign(e[n],a)}}function sn(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Zt({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Zt({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Zt({start:t.start,end:t.end})+") is still open")}function ln(e,t){var n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");for(var i=0,o=n.indexOf(t);-1!==o;)i++,o=n.indexOf(t,o+t.length);return i}var cn=un(/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B4E\u1B4F\u1B5A-\u1B60\u1B7D-\u1B7F\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD6E\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9\uDFD4\uDFD5\uDFD7\uDFD8]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09\uDFE1]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDD6D-\uDD6F\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD839\uDDFF|\uD83A[\uDD5E\uDD5F])|(?:[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2429\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E5\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD803[\uDD8E\uDD8F]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDC00-\uDCEF\uDD00-\uDEB3\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0-\uDCBB\uDCC0\uDCC1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFEF])/),dn=un(/\s/);function un(e){return function(t){return null!==t&&-1<t&&e.test(String.fromCharCode(t))}}var pn=function e(t){if(null==t)return mn;if("function"==typeof t)return hn(t);if("object"==h(t)){if(Array.isArray(t)){for(var n=t,i=[],o=-1;++o<n.length;)i[o]=e(n[o]);return hn(function(){for(var e=-1,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(;++e<i.length;)if(i[e].apply(this,n))return!0;return!1})}return r=a=t,hn(function(e){var t,n=e;for(t in a)if(n[t]!==r[t])return!1;return!0})}var a,r,s;if("string"==typeof t)return s=t,hn(function(e){return e&&e.type===s});throw new Error("Expected function, string, or object as test")};function hn(e){return function(t,n,i){return!(!function(e){return null!==e&&"object"==h(e)&&"type"in e}(t)||!e.call(this,t,"number"==typeof n?n:void 0,i||void 0))}}function mn(){return!0}var fn=[],gn=!0,vn=!1,bn="skip";function yn(e,t,n,i){"function"==typeof t&&"function"!=typeof n?(i=n,n=t):o=t;var o,a=pn(o),r=i?-1:1;!function e(o,s,l){var c=o&&"object"==h(o)?o:{};return"string"==typeof c.type&&(c="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+o.type+(c?"<"+c+">":"")+")"})),d;function d(){var c,d,u=fn;if((t&&!a(o,s,l[l.length-1]||void 0)||(u=function(e){return Array.isArray(e)?e:"number"==typeof e?[gn,e]:null==e?fn:[e]}(n(o,l)))[0]!==vn)&&"children"in o&&o.children){var p=o;if(p.children&&u[0]!==bn)for(c=(i?p.children.length:-1)+r,d=l.concat(p);-1<c&&c<p.children.length;){var h=p.children[c];if((h=e(h,c,d)())[0]===vn)return h;c="number"==typeof h[1]?h[1]:c+r}}return u}}(e,void 0,[])()}var xn="phrasing",wn=["autolink","link","image","label"];function kn(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function _n(e){this.config.enter.autolinkProtocol.call(this,e)}function Cn(e){this.config.exit.autolinkProtocol.call(this,e)}function Tn(e){this.config.exit.data.call(this,e);var t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Sn(e){this.config.exit.autolinkEmail.call(this,e)}function Mn(e){this.exit(e)}function Dn(e){!function(e,t,n){for(var i=pn(n.ignore||[]),o=function(e){var t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");for(var n=!e[0]||Array.isArray(e[0])?e:[e],i=-1;++i<n.length;){var o=n[i];t.push([function(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}(o[0]),function(e){return"function"==typeof e?e:function(){return e}}(o[1])])}return t}(t),a=-1;++a<o.length;)yn(e,"text",r);function r(e,t){for(var n,r=-1;++r<t.length;){var s=t[r],l=n?n.children:void 0;if(i(s,l?l.indexOf(s):void 0,n))return;n=s}if(n){for(var c=e,d=t,p=(e=d[d.length-1],o[a][0]),h=o[a][1],m=0,f=e.children.indexOf(c),g=!1,v=[],b=(p.lastIndex=0,p.exec(c.value));b;){var y=b.index,x={index:b.index,input:b.input,stack:[].concat(u(d),[c])};if(!1===(x="string"==typeof(x=h.apply(void 0,u(b).concat([x])))?0<x.length?{type:"text",value:x}:void 0:x)?p.lastIndex=y+1:(m!==y&&v.push({type:"text",value:c.value.slice(m,y)}),Array.isArray(x)?v.push.apply(v,u(x)):x&&v.push(x),m=y+b[0].length,g=!0),!p.global)break;b=p.exec(c.value)}return g?(m<c.value.length&&v.push({type:"text",value:c.value.slice(m)}),(e=e.children).splice.apply(e,[f,1].concat(u(v)))):v=[c],f+v.length}}}(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,En],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,An]],{ignore:["link","linkReference"]})}function En(e,t,n,i,o){var a="";return!(!Fn(o)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!function(e){return!((e=e.split(".")).length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}(n))||!(o=function(e){var t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);for(var n=t[0],i=n.indexOf(")"),o=ln(e,"("),a=ln(e,")");-1!==i&&a<o;)e+=n.slice(0,i+1),i=(n=n.slice(i+1)).indexOf(")"),a++;return[e,n]}(n+i))[0])&&(n={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]},o[1]?[n,{type:"text",value:o[1]}]:n)}function An(e,t,n,i){return!(!Fn(i,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Fn(e,t){var n=e.input.charCodeAt(e.index-1);return(0===e.index||dn(n)||cn(n))&&(!t||47!==n)}function In(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function On(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Ln(){this.buffer()}function Pn(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=In(this.sliceSerialize(e)).toLowerCase()}function Bn(e){this.exit(e)}function $n(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Nn(){this.buffer()}function zn(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=In(this.sliceSerialize(e)).toLowerCase()}function jn(e){this.exit(e)}function Rn(e,t,n,i){var o=(i=n.createTracker(i)).move("[^"),a=n.enter("footnoteReference"),r=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),l(l({},i.current()),{},{before:o,after:"]"}))),r(),a(),o+i.move("]")}function Gn(e,t,n,i){var o=(i=n.createTracker(i)).move("[^"),a=n.enter("footnoteDefinition"),r=n.enter("label");return o+=i.move(n.safe(n.associationId(e),l(l({},i.current()),{},{before:o,after:"]"}))),r(),o+=i.move("]:"+(e.children&&0<e.children.length?" ":"")),i.shift(4),o+=i.move(n.indentLines(n.containerFlow(e,i.current()),Hn)),a(),o}function Hn(e,t,n){return 0===t?e:(n?"":"    ")+e}Rn.peek=function(){return"["};var Wn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function Un(e){this.enter({type:"delete",children:[]},e)}function qn(e){this.exit(e)}function Vn(e,t,n,i){i=n.createTracker(i);var o=n.enter("strikethrough"),a=i.move("~~");return a=(a+=n.containerPhrasing(e,l(l({},i.current()),{},{before:a,after:"~"})))+i.move("~~"),o(),a}function Yn(e){return e.length}function Xn(e){return 67===(e="string"==typeof e?e.codePointAt(0):0)||99===e?99:76===e||108===e?108:82===e||114===e?114:0}function Jn(e,t,n){return">"+(n?"":" ")+e}function Kn(e,t,n){if(!(t="string"==typeof t?[t]:t)||0===t.length)return n;for(var i=-1;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function Zn(e,t,n,i){for(var o,a,r=-1;++r<n.unsafe.length;)if("\n    "===n.unsafe[r].character&&Kn(o=n.stack,(a=n.unsafe[r]).inConstruct,!0)&&!Kn(o,a.notInConstruct,!1))return/[ \t]/.test(i.before)?"":" ";return"\\\n    "}function Qn(e,t,n){return(n?"":"    ")+e}function ei(e){if('"'!==(e=e.options.quote||'"')&&"'"!==e)throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function ti(e,t,n,i){var o=function(e){if("*"!==(e=e.options.emphasis||"*")&&"_"!==e)throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}(n),a=n.enter("emphasis"),r=(i=n.createTracker(i)).move(o);return r=(r+=i.move(n.containerPhrasing(e,l({before:r,after:o},i.current()))))+i.move(o),a(),r}Vn.peek=function(){return"~"},ti.peek=function(e,t,n){return n.options.emphasis||"*"};var ni={};function ii(e){return oi(e,"boolean"!=typeof ni.includeImageAlt||ni.includeImageAlt,"boolean"!=typeof ni.includeHtml||ni.includeHtml)}function oi(e,t,n){if((i=e)&&"object"==h(i)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ai(e.children,t,n)}var i;return Array.isArray(e)?ai(e,t,n):""}function ai(e,t,n){for(var i=[],o=-1;++o<e.length;)i[o]=oi(e[o],t,n);return i.join("")}function ri(e){return e.value||""}function si(e,t,n,i){var o=ei(n),a='"'===o?"Quote":"Apostrophe",r=n.enter("image"),s=n.enter("label"),c=(i=n.createTracker(i)).move("![");return c=(c+=i.move(n.safe(e.alt,l({before:c,after:"]"},i.current()))))+i.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c=(c=(c+=i.move("<"))+i.move(n.safe(e.url,l({before:c,after:">"},i.current()))))+i.move(">")):(s=n.enter("destinationRaw"),c+=i.move(n.safe(e.url,l({before:c,after:e.title?" ":")"},i.current())))),s(),e.title&&(s=n.enter("title".concat(a)),c=(c=(c+=i.move(" "+o))+i.move(n.safe(e.title,l({before:c,after:o},i.current()))))+i.move(o),s()),c+=i.move(")"),r(),c}function li(e,t,n,i){var o=e.referenceType,a=n.enter("imageReference"),r=n.enter("label"),s=(i=n.createTracker(i)).move("!["),c=n.safe(e.alt,l({before:s,after:"]"},i.current())),d=(s+=i.move(c+"]["),r(),n.stack);return n.stack=[],r=n.enter("reference"),e=n.safe(n.associationId(e),l({before:s,after:"]"},i.current())),r(),n.stack=d,a(),"full"!==o&&c&&c===e?"shortcut"===o?s=s.slice(0,-1):s+=i.move("]"):s+=i.move(e+"]"),s}function ci(e,t,n){for(var i=e.value||"",o="`",a=-1;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){var r,s=n.unsafe[a],l=n.compilePattern(s);if(s.atBreak)for(;r=l.exec(i);){var c=r.index;10===i.charCodeAt(c)&&13===i.charCodeAt(c-1)&&c--,i=i.slice(0,c)+" "+i.slice(r.index+1)}}return o+i+o}function di(e,t){var n=ii(e);return!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url)}function ui(e,t,n,i){var o,a,r,s=ei(n),c='"'===s?"Quote":"Apostrophe";return i=n.createTracker(i),di(e,n)?(a=n.stack,n.stack=[],o=n.enter("autolink"),r=i.move("<"),r=(r+=i.move(n.containerPhrasing(e,l({before:r,after:">"},i.current()))))+i.move(">"),o(),n.stack=a):(o=n.enter("link"),a=n.enter("label"),r=i.move("["),r=(r+=i.move(n.containerPhrasing(e,l({before:r,after:"]("},i.current()))))+i.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),r=(r=(r+=i.move("<"))+i.move(n.safe(e.url,l({before:r,after:">"},i.current()))))+i.move(">")):(a=n.enter("destinationRaw"),r+=i.move(n.safe(e.url,l({before:r,after:e.title?" ":")"},i.current())))),a(),e.title&&(a=n.enter("title".concat(c)),r=(r=(r+=i.move(" "+s))+i.move(n.safe(e.title,l({before:r,after:s},i.current()))))+i.move(s),a()),r+=i.move(")"),o()),r}function pi(e,t,n,i){var o=e.referenceType,a=n.enter("linkReference"),r=n.enter("label"),s=(i=n.createTracker(i)).move("["),c=n.containerPhrasing(e,l({before:s,after:"]"},i.current())),d=(s+=i.move(c+"]["),r(),n.stack);return n.stack=[],r=n.enter("reference"),e=n.safe(n.associationId(e),l({before:s,after:"]"},i.current())),r(),n.stack=d,a(),"full"!==o&&c&&c===e?"shortcut"===o?s=s.slice(0,-1):s+=i.move("]"):s+=i.move(e+"]"),s}function hi(e){if("*"!==(e=e.options.bullet||"*")&&"+"!==e&&"-"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function mi(e){if("*"!==(e=e.options.rule||"*")&&"-"!==e&&"_"!==e)throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}ri.peek=function(){return"<"},si.peek=function(){return"!"},li.peek=function(){return"!"},ci.peek=function(){return"`"},ui.peek=function(e,t,n){return di(e,n)?"<":"["},pi.peek=function(){return"["};var fi=pn(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function gi(e,t,n,i){var o=function(e){if("*"!==(e=e.options.strong||"*")&&"_"!==e)throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}(n),a=n.enter("strong"),r=(i=n.createTracker(i)).move(o+o);return r=(r+=i.move(n.containerPhrasing(e,l({before:r,after:o},i.current()))))+i.move(o+o),a(),r}gi.peek=function(e,t,n){return n.options.strong||"*"};var vi={blockquote:function(e,t,n,i){var o=n.enter("blockquote");return(i=n.createTracker(i)).move("> "),i.shift(2),n=n.indentLines(n.containerFlow(e,i.current()),Jn),o(),n},break:Zn,code:function(e,t,n,i){var o,a,r,s=function(e){if("`"!==(e=e.options.fence||"`")&&"~"!==e)throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}(n),c=e.value||"",d="`"===s?"GraveAccent":"Tilde";return o=e,!1===n.options.fences&&o.value&&!o.lang&&/[^ \r\n]/.test(o.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(o.value)?(o=n.enter("codeIndented"),a=n.indentLines(c,Qn),o(),a):(o=n.createTracker(i),a=s.repeat(Math.max(function(e,t){var n=String(c),i=n.indexOf(t),o=i,a=0,r=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==i;)i===o?++a>r&&(r=a):a=1,o=i+t.length,i=n.indexOf(t,o);return r}(0,s)+1,3)),i=n.enter("codeFenced"),s=o.move(a),e.lang&&(r=n.enter("codeFencedLang".concat(d)),s+=o.move(n.safe(e.lang,l({before:s,after:" ",encode:["`"]},o.current()))),r()),e.lang&&e.meta&&(r=n.enter("codeFencedMeta".concat(d)),s=(s+=o.move(" "))+o.move(n.safe(e.meta,l({before:s,after:"\n    ",encode:["`"]},o.current()))),r()),s+=o.move("\n    "),c&&(s+=o.move(c+"\n    ")),s+=o.move(a),i(),s)},definition:function(e,t,n,i){var o=ei(n),a='"'===o?"Quote":"Apostrophe",r=n.enter("definition"),s=n.enter("label"),c=(i=n.createTracker(i)).move("[");return c=(c+=i.move(n.safe(n.associationId(e),l({before:c,after:"]"},i.current()))))+i.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c=(c=(c+=i.move("<"))+i.move(n.safe(e.url,l({before:c,after:">"},i.current()))))+i.move(">")):(s=n.enter("destinationRaw"),c+=i.move(n.safe(e.url,l({before:c,after:e.title?" ":"\n    "},i.current())))),s(),e.title&&(s=n.enter("title".concat(a)),c=(c=(c+=i.move(" "+o))+i.move(n.safe(e.title,l({before:c,after:o},i.current()))))+i.move(o),s()),r(),c},emphasis:ti,hardBreak:Zn,heading:function(e,t,n,i){var o,a,r,s,c=Math.max(Math.min(6,e.depth||1),1);return i=n.createTracker(i),a=n,o=!1,function(e,t,n,i){var o,a;t="function"==typeof t&&"function"!=typeof n?(o=void 0,a=t,n):(o=t,a=n,i),yn(e,o,function(e,t){var n=(t=t[t.length-1])?t.children.indexOf(e):void 0;return a(e,n,t)},t)}(r=e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return o=!0,vn}),(!r.depth||r.depth<3)&&ii(r)&&(a.options.setext||o)?(r=n.enter("headingSetext"),a=n.enter("phrasing"),s=n.containerPhrasing(e,l(l({},i.current()),{},{before:"\n    ",after:"\n    "})),a(),r(),s+"\n    "+(1===c?"=":"-").repeat(s.length-(Math.max(s.lastIndexOf("\r"),s.lastIndexOf("\n    "))+1))):(a="#".repeat(c),r=n.enter("headingAtx"),s=n.enter("phrasing"),i.move(a+" "),c=n.containerPhrasing(e,l({before:"# ",after:"\n    "},i.current())),c=(c=/^[\t ]/.test(c)?"&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1):c)?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),s(),r(),c)},html:ri,image:si,imageReference:li,inlineCode:ci,link:ui,linkReference:pi,list:function(e,t,n,i){var o=n.enter("list"),a=n.bulletCurrent,r=(e.ordered?function(e){if("."!==(e=e.options.bulletOrdered||".")&&")"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}:hi)(n),s=e.ordered?"."===r?")":".":function(e){var t=hi(e);if(!(e=e.options.bulletOther))return"*"===t?"-":"*";if("*"!==e&&"+"!==e&&"-"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(e===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+e+"`) to be different");return e}(n),l=!(!t||!n.bulletLastUsed)&&r===n.bulletLastUsed;if(!e.ordered&&(t=e.children?e.children[0]:void 0,"*"!==r&&"-"!==r||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),mi(n)===r&&t))for(var c=-1;++c<e.children.length;){var d=e.children[c];if(d&&"listItem"===d.type&&d.children&&d.children[0]&&"thematicBreak"===d.children[0].type){l=!0;break}}return n.bulletCurrent=r=l?s:r,t=n.containerFlow(e,i),n.bulletLastUsed=r,n.bulletCurrent=a,o(),t},listItem:function(e,t,n,i){var o=function(e){if("tab"!==(e=e.options.listItemIndent||"one")&&"one"!==e&&"mixed"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}(n),a=n.bulletCurrent||hi(n),r=(a=t&&"list"===t.type&&t.ordered?("number"==typeof t.start&&-1<t.start?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+a:a).length+1;return("tab"===o||"mixed"===o&&(t&&"list"===t.type&&t.spread||e.spread))&&(r=4*Math.ceil(r/4)),(o=n.createTracker(i)).move(a+" ".repeat(r-a.length)),o.shift(r),t=n.enter("listItem"),i=n.indentLines(n.containerFlow(e,o.current()),function(e,t,n){return t?(n?"":" ".repeat(r))+e:(n?a:a+" ".repeat(r-a.length))+e}),t(),i},paragraph:function(e,t,n,i){var o=n.enter("paragraph"),a=n.enter("phrasing");return n=n.containerPhrasing(e,i),a(),o(),n},root:function(e,t,n,i){return(e.children.some(function(e){return fi(e)})?n.containerPhrasing:n.containerFlow).call(n,e,i)},strong:gi,text:function(e,t,n,i){return n.safe(e.value,i)},thematicBreak:function(e,t,n){var i=(mi(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){if((e=e.options.ruleRepetition||3)<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}(n));return n.options.ruleSpaces?i.slice(0,-1):i}};function bi(e){var t=e._align;this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function yi(e){this.exit(e),this.data.inTable=void 0}function xi(e){this.enter({type:"tableRow",children:[]},e)}function wi(e){this.exit(e)}function ki(e){this.enter({type:"tableCell",children:[]},e)}function _i(e){var t=this.resume(),n=(this.data.inTable&&(t=t.replace(/\\([\\|])/g,Ci)),this.stack[this.stack.length-1]);n.type,n.value=t,this.exit(e)}function Ci(e,t){return"|"===t?t:e}function Ti(){var e={},t=e.tableCellPadding,n=e.tablePipeAlign,i=e.stringLength,o=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n    ",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){return e=vi.inlineCode(e,t,n),n.stack.includes("tableCell")?e.replace(/\|/g,"\\$&"):e},table:function(e,t,n,i){return r(function(e,t,n){var i=e.children,o=-1,a=[];for(e=t.enter("table");++o<i.length;)a[o]=s(i[o],t,n);return e(),a}(e,n,i),e.align)},tableCell:a,tableRow:function(e,t,n,i){return(e=r([s(e,n,i)])).slice(0,e.indexOf("\n    "))}}};function a(e,t,n,i){var a=n.enter("tableCell"),r=n.enter("phrasing");return n=n.containerPhrasing(e,l(l({},i),{},{before:o,after:o})),r(),a(),n}function r(e,o){return function(e,t){for(var n=1<arguments.length&&void 0!==t?t:{},i=(n.align||[]).concat(),o=n.stringLength||Yn,a=[],r=[],s=[],l=[],c=0,d=-1;++d<e.length;){var u=[],p=[],m=-1;for(e[d].length>c&&(c=e[d].length);++m<e[d].length;){var f,g=null==(g=e[d][m])?"":String(g);!1!==n.alignDelimiters&&(f=o(g),p[m]=f,void 0===l[m]||l[m]<f)&&(l[m]=f),u.push(g)}r[d]=u,s[d]=p}var v=-1;if("object"==h(i)&&"length"in i)for(;++v<c;)a[v]=Xn(i[v]);else for(var b=Xn(i);++v<c;)a[v]=b;v=-1;for(var y=[],x=[];++v<c;){var w="",k="",_=(99===(_=a[v])?k=w=":":108===_?w=":":114===_&&(k=":"),!1===n.alignDelimiters?1:Math.max(1,l[v]-w.length-k.length)),C=w+"-".repeat(_)+k;!1!==n.alignDelimiters&&(_=w.length+_+k.length,l[v]<_&&(l[v]=_),x[v]=_),y[v]=C}r.splice(1,0,y),s.splice(1,0,x),d=-1;for(var T=[];++d<r.length;){for(var S=r[d],M=s[d],D=(v=-1,[]);++v<c;){var E,A,F=S[v]||"",I="",O="";!1!==n.alignDelimiters&&(E=l[v]-(M[v]||0),114===(A=a[v])?I=" ".repeat(E):O=99===A?E%2?(I=" ".repeat(E/2+.5)," ".repeat(E/2-.5)):I=" ".repeat(E/2):" ".repeat(E)),!1===n.delimiterStart||v||D.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===F||!1===n.delimiterStart&&!v||D.push(" "),!1!==n.alignDelimiters&&D.push(I),D.push(F),!1!==n.alignDelimiters&&D.push(O),!1!==n.padding&&D.push(" "),!1===n.delimiterEnd&&v===c-1||D.push("|")}T.push(!1===n.delimiterEnd?D.join("").replace(/ +$/,""):D.join(""))}return T.join("\n    ")}(e,{align:o,alignDelimiters:n,padding:t,stringLength:i})}function s(e,t,n){var i=e.children,o=-1,r=[];for(e=t.enter("tableRow");++o<i.length;)r[o]=a(i[o],0,t,n);return e(),r}}function Si(e){var t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function Mi(e){var t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){var n=this.stack[this.stack.length-1],i=(n.type,n.children[0]);if(i&&"text"===i.type){for(var o,a=t.children,r=-1;++r<a.length;){var s=a[r];if("paragraph"===s.type){o=s;break}}o===n&&(i.value=i.value.slice(1),0===i.value.length?n.children.shift():n.position&&i.position&&"number"==typeof i.position.start.offset&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(e)}function Di(e,t,n,i){var o=e.children[0],a=(o="boolean"==typeof e.checked&&o&&"paragraph"===o.type,"["+(e.checked?"x":" ")+"] "),r=n.createTracker(i);return o&&r.move(a),e=vi.listItem(e,t,n,l(l({},i),r.current())),o?e.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+a}):e}function Ei(){return[{transforms:[Dn],enter:{literalAutolink:kn,literalAutolinkEmail:_n,literalAutolinkHttp:_n,literalAutolinkWww:_n},exit:{literalAutolink:Mn,literalAutolinkEmail:Sn,literalAutolinkHttp:Cn,literalAutolinkWww:Tn}},{enter:{gfmFootnoteDefinition:On,gfmFootnoteDefinitionLabelString:Ln,gfmFootnoteCall:$n,gfmFootnoteCallString:Nn},exit:{gfmFootnoteDefinition:Bn,gfmFootnoteDefinitionLabelString:Pn,gfmFootnoteCall:jn,gfmFootnoteCallString:zn}},{canContainEols:["delete"],enter:{strikethrough:Un},exit:{strikethrough:qn}},{enter:{table:bi,tableData:ki,tableHeader:ki,tableRow:xi},exit:{codeText:_i,table:yi,tableData:wi,tableHeader:wi,tableRow:wi}},{exit:{taskListCheckValueChecked:Si,taskListCheckValueUnchecked:Si,paragraph:Mi}}]}var Ai={}.hasOwnProperty,Fi={}.hasOwnProperty;function Ii(e,t){t&&e.push.apply(e,u(t))}function Oi(e,t,n){return">"+(n?"":" ")+e}function Li(e,t){return Pi(e,t.inConstruct,!0)&&!Pi(e,t.notInConstruct,!1)}function Pi(e,t,n){if(!(t="string"==typeof t?[t]:t)||0===t.length)return n;for(var i=-1;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function Bi(e,t,n,i){for(var o=-1;++o<n.unsafe.length;)if("\n    "===n.unsafe[o].character&&Li(n.stack,n.unsafe[o]))return/[ \t]/.test(i.before)?"":" ";return"\\\n    "}function $i(e,t){return!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value)}function Ni(e,t,n){return(n?"":"    ")+e}function zi(e){if('"'!==(e=e.options.quote||'"')&&"'"!==e)throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function ji(e,t,n,i){var o=function(e){if("*"!==(e=e.options.emphasis||"*")&&"_"!==e)throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}(n),a=n.enter("emphasis"),r=(i=n.createTracker(i)).move(o);return r=(r+=i.move(n.containerPhrasing(e,l({before:r,after:o},i.current()))))+i.move(o),a(),r}var Ri=function e(t){if(null==t)return Hi;if("function"==typeof t)return Gi(t);if("object"==h(t)){if(Array.isArray(t)){for(var n=t,i=[],o=-1;++o<n.length;)i[o]=e(n[o]);return Gi(function(){for(var e=-1,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(;++e<i.length;)if(i[e].apply(this,n))return!0;return!1})}return r=a=t,Gi(function(e){var t,n=e;for(t in a)if(n[t]!==r[t])return!1;return!0})}var a,r,s;if("string"==typeof t)return s=t,Gi(function(e){return e&&e.type===s});throw new Error("Expected function, string, or object as test")};function Gi(e){return function(t,n,i){return!(!function(e){return null!==e&&"object"==h(e)&&"type"in e}(t)||!e.call(this,t,"number"==typeof n?n:void 0,i||void 0))}}function Hi(){return!0}var Wi=[],Ui=!0,qi=!(ji.peek=function(e,t,n){return n.options.emphasis||"*"}),Vi="skip";function Yi(e,t,n,i){"function"==typeof t&&"function"!=typeof n?(i=n,n=t):o=t;var o,a=Ri(o),r=i?-1:1;!function e(o,s,l){var c=o&&"object"==h(o)?o:{};return"string"==typeof c.type&&(c="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+o.type+(c?"<"+c+">":"")+")"})),d;function d(){var c,d,u=Wi;if((t&&!a(o,s,l[l.length-1]||void 0)||(u=function(e){return Array.isArray(e)?e:"number"==typeof e?[Ui,e]:null==e?Wi:[e]}(n(o,l)))[0]!==qi)&&"children"in o&&o.children){var p=o;if(p.children&&u[0]!==Vi)for(c=(i?p.children.length:-1)+r,d=l.concat(p);-1<c&&c<p.children.length;){var h=p.children[c];if((h=e(h,c,d)())[0]===qi)return h;c="number"==typeof h[1]?h[1]:c+r}}return u}}(e,void 0,[])()}var Xi={};function Ji(e){return Ki(e,"boolean"!=typeof Xi.includeImageAlt||Xi.includeImageAlt,"boolean"!=typeof Xi.includeHtml||Xi.includeHtml)}function Ki(e,t,n){if((i=e)&&"object"==h(i)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Zi(e.children,t,n)}var i;return Array.isArray(e)?Zi(e,t,n):""}function Zi(e,t,n){for(var i=[],o=-1;++o<e.length;)i[o]=Ki(e[o],t,n);return i.join("")}function Qi(e,t){var n=!1;return function(e,t,n,i){var o,a;t="function"==typeof t&&"function"!=typeof n?(o=void 0,a=t,n):(o=t,a=n,i),Yi(e,o,function(e,t){var n=(t=t[t.length-1])?t.children.indexOf(e):void 0;return a(e,n,t)},t)}(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,qi}),(!e.depth||e.depth<3)&&Ji(e)&&(t.options.setext||n)}function eo(e){return e.value||""}function to(e,t,n,i){var o=zi(n),a='"'===o?"Quote":"Apostrophe",r=n.enter("image"),s=n.enter("label"),c=(i=n.createTracker(i)).move("![");return c=(c+=i.move(n.safe(e.alt,l({before:c,after:"]"},i.current()))))+i.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c=(c=(c+=i.move("<"))+i.move(n.safe(e.url,l({before:c,after:">"},i.current()))))+i.move(">")):(s=n.enter("destinationRaw"),c+=i.move(n.safe(e.url,l({before:c,after:e.title?" ":")"},i.current())))),s(),e.title&&(s=n.enter("title".concat(a)),c=(c=(c+=i.move(" "+o))+i.move(n.safe(e.title,l({before:c,after:o},i.current()))))+i.move(o),s()),c+=i.move(")"),r(),c}function no(e,t,n,i){var o=e.referenceType,a=n.enter("imageReference"),r=n.enter("label"),s=(i=n.createTracker(i)).move("!["),c=n.safe(e.alt,l({before:s,after:"]"},i.current())),d=(s+=i.move(c+"]["),r(),n.stack);return n.stack=[],r=n.enter("reference"),e=n.safe(n.associationId(e),l({before:s,after:"]"},i.current())),r(),n.stack=d,a(),"full"!==o&&c&&c===e?"shortcut"===o?s=s.slice(0,-1):s+=i.move("]"):s+=i.move(e+"]"),s}function io(e,t,n){for(var i=e.value||"",o="`",a=-1;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){var r,s=n.unsafe[a],l=n.compilePattern(s);if(s.atBreak)for(;r=l.exec(i);){var c=r.index;10===i.charCodeAt(c)&&13===i.charCodeAt(c-1)&&c--,i=i.slice(0,c)+" "+i.slice(r.index+1)}}return o+i+o}function oo(e,t){var n=Ji(e);return!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url)}function ao(e,t,n,i){var o,a,r,s=zi(n),c='"'===s?"Quote":"Apostrophe";return i=n.createTracker(i),oo(e,n)?(a=n.stack,n.stack=[],o=n.enter("autolink"),r=i.move("<"),r=(r+=i.move(n.containerPhrasing(e,l({before:r,after:">"},i.current()))))+i.move(">"),o(),n.stack=a):(o=n.enter("link"),a=n.enter("label"),r=i.move("["),r=(r+=i.move(n.containerPhrasing(e,l({before:r,after:"]("},i.current()))))+i.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),r=(r=(r+=i.move("<"))+i.move(n.safe(e.url,l({before:r,after:">"},i.current()))))+i.move(">")):(a=n.enter("destinationRaw"),r+=i.move(n.safe(e.url,l({before:r,after:e.title?" ":")"},i.current())))),a(),e.title&&(a=n.enter("title".concat(c)),r=(r=(r+=i.move(" "+s))+i.move(n.safe(e.title,l({before:r,after:s},i.current()))))+i.move(s),a()),r+=i.move(")"),o()),r}function ro(e,t,n,i){var o=e.referenceType,a=n.enter("linkReference"),r=n.enter("label"),s=(i=n.createTracker(i)).move("["),c=n.containerPhrasing(e,l({before:s,after:"]"},i.current())),d=(s+=i.move(c+"]["),r(),n.stack);return n.stack=[],r=n.enter("reference"),e=n.safe(n.associationId(e),l({before:s,after:"]"},i.current())),r(),n.stack=d,a(),"full"!==o&&c&&c===e?"shortcut"===o?s=s.slice(0,-1):s+=i.move("]"):s+=i.move(e+"]"),s}function so(e){if("*"!==(e=e.options.bullet||"*")&&"+"!==e&&"-"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function lo(e){if("*"!==(e=e.options.rule||"*")&&"-"!==e&&"_"!==e)throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}eo.peek=function(){return"<"},to.peek=function(){return"!"},no.peek=function(){return"!"},io.peek=function(){return"`"},ao.peek=function(e,t,n){return oo(e,n)?"<":"["},ro.peek=function(){return"["};var co=Ri(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function uo(e,t,n,i){var o=function(e){if("*"!==(e=e.options.strong||"*")&&"_"!==e)throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}(n),a=n.enter("strong"),r=(i=n.createTracker(i)).move(o+o);return r=(r+=i.move(n.containerPhrasing(e,l({before:r,after:o},i.current()))))+i.move(o+o),a(),r}uo.peek=function(e,t,n){return n.options.strong||"*"};var po={blockquote:function(e,t,n,i){var o=n.enter("blockquote");return(i=n.createTracker(i)).move("> "),i.shift(2),n=n.indentLines(n.containerFlow(e,i.current()),Oi),o(),n},break:Bi,code:function(e,t,n,i){var o,a,r,s=function(e){if("`"!==(e=e.options.fence||"`")&&"~"!==e)throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}(n),c=e.value||"",d="`"===s?"GraveAccent":"Tilde";return $i(e,n)?(o=n.enter("codeIndented"),a=n.indentLines(c,Ni),o(),a):(o=n.createTracker(i),a=s.repeat(Math.max(function(e,t){var n=String(c),i=n.indexOf(t),o=i,a=0,r=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==i;)i===o?++a>r&&(r=a):a=1,o=i+t.length,i=n.indexOf(t,o);return r}(0,s)+1,3)),i=n.enter("codeFenced"),s=o.move(a),e.lang&&(r=n.enter("codeFencedLang".concat(d)),s+=o.move(n.safe(e.lang,l({before:s,after:" ",encode:["`"]},o.current()))),r()),e.lang&&e.meta&&(r=n.enter("codeFencedMeta".concat(d)),s=(s+=o.move(" "))+o.move(n.safe(e.meta,l({before:s,after:"\n    ",encode:["`"]},o.current()))),r()),s+=o.move("\n    "),c&&(s+=o.move(c+"\n    ")),s+=o.move(a),i(),s)},definition:function(e,t,n,i){var o=zi(n),a='"'===o?"Quote":"Apostrophe",r=n.enter("definition"),s=n.enter("label"),c=(i=n.createTracker(i)).move("[");return c=(c+=i.move(n.safe(n.associationId(e),l({before:c,after:"]"},i.current()))))+i.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c=(c=(c+=i.move("<"))+i.move(n.safe(e.url,l({before:c,after:">"},i.current()))))+i.move(">")):(s=n.enter("destinationRaw"),c+=i.move(n.safe(e.url,l({before:c,after:e.title?" ":"\n    "},i.current())))),s(),e.title&&(s=n.enter("title".concat(a)),c=(c=(c+=i.move(" "+o))+i.move(n.safe(e.title,l({before:c,after:o},i.current()))))+i.move(o),s()),r(),c},emphasis:ji,hardBreak:Bi,heading:function(e,t,n,i){var o,a,r,s=Math.max(Math.min(6,e.depth||1),1);return i=n.createTracker(i),Qi(e,n)?(a=n.enter("headingSetext"),o=n.enter("phrasing"),r=n.containerPhrasing(e,l(l({},i.current()),{},{before:"\n    ",after:"\n    "})),o(),a(),r+"\n    "+(1===s?"=":"-").repeat(r.length-(Math.max(r.lastIndexOf("\r"),r.lastIndexOf("\n    "))+1))):(o="#".repeat(s),a=n.enter("headingAtx"),r=n.enter("phrasing"),i.move(o+" "),s=n.containerPhrasing(e,l({before:"# ",after:"\n    "},i.current())),s=(s=/^[\t ]/.test(s)?"&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"+s.slice(1):s)?o+" "+s:o,n.options.closeAtx&&(s+=" "+o),r(),a(),s)},html:eo,image:to,imageReference:no,inlineCode:io,link:ao,linkReference:ro,list:function(e,t,n,i){var o=n.enter("list"),a=n.bulletCurrent,r=(e.ordered?function(e){if("."!==(e=e.options.bulletOrdered||".")&&")"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}:so)(n),s=e.ordered?"."===r?")":".":function(e){var t=so(e);if(!(e=e.options.bulletOther))return"*"===t?"-":"*";if("*"!==e&&"+"!==e&&"-"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(e===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+e+"`) to be different");return e}(n),l=!(!t||!n.bulletLastUsed)&&r===n.bulletLastUsed;if(!e.ordered&&(t=e.children?e.children[0]:void 0,"*"!==r&&"-"!==r||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),lo(n)===r&&t))for(var c=-1;++c<e.children.length;){var d=e.children[c];if(d&&"listItem"===d.type&&d.children&&d.children[0]&&"thematicBreak"===d.children[0].type){l=!0;break}}return n.bulletCurrent=r=l?s:r,t=n.containerFlow(e,i),n.bulletLastUsed=r,n.bulletCurrent=a,o(),t},listItem:function(e,t,n,i){var o=function(e){if("tab"!==(e=e.options.listItemIndent||"one")&&"one"!==e&&"mixed"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}(n),a=n.bulletCurrent||so(n),r=(a=t&&"list"===t.type&&t.ordered?("number"==typeof t.start&&-1<t.start?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+a:a).length+1;return("tab"===o||"mixed"===o&&(t&&"list"===t.type&&t.spread||e.spread))&&(r=4*Math.ceil(r/4)),(o=n.createTracker(i)).move(a+" ".repeat(r-a.length)),o.shift(r),t=n.enter("listItem"),i=n.indentLines(n.containerFlow(e,o.current()),function(e,t,n){return t?(n?"":" ".repeat(r))+e:(n?a:a+" ".repeat(r-a.length))+e}),t(),i},paragraph:function(e,t,n,i){var o=n.enter("paragraph"),a=n.enter("phrasing");return n=n.containerPhrasing(e,i),a(),o(),n},root:function(e,t,n,i){return(e.children.some(function(e){return co(e)})?n.containerPhrasing:n.containerFlow).call(n,e,i)},strong:uo,text:function(e,t,n,i){return n.safe(e.value,i)},thematicBreak:function(e,t,n){var i=(lo(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){if((e=e.options.ruleRepetition||3)<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}(n));return n.options.ruleSpaces?i.slice(0,-1):i}},ho=[function(e,t,n,i){return("code"!==t.type||!$i(t,i)||!("list"===e.type||e.type===t.type&&$i(e,i)))&&(!("spread"in n)||"boolean"!=typeof n.spread||"paragraph"===e.type&&(e.type===t.type||"definition"===t.type||"heading"===t.type&&Qi(t,i))?void 0:n.spread?1:0)}],mo=[{character:"\t",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n    ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Ye=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"]},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n    ]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Ye},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:"(?:[ \t\r\n    *])"},{character:"*",inConstruct:"phrasing",notInConstruct:Ye},{atBreak:!0,character:"+",after:"(?:[ \t\r\n    ])"},{atBreak:!0,character:"-",after:"(?:[ \t\r\n    -])"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n    ]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Ye},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Ye},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Ye},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Ye},{atBreak:!0,character:"~"}],fo=document.createElement("i"),go=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vo(e,t,n){var i;return t||(35===n.charCodeAt(0)?(t=n.charCodeAt(1),i=n.slice((t=120===t||88===t)?2:1),t=t?16:10,(i=Number.parseInt(i,t))<9||11===i||13<i&&i<32||126<i&&i<160||55295<i&&i<57344||64975<i&&i<65008||!(65535&~i)||65534==(65535&i)||1114111<i?"�":String.fromCodePoint(i)):(i="&"+(t=n)+";",fo.innerHTML=i,(59!==(n=fo.textContent).charCodeAt(n.length-1)||"semi"===t)&&n!==i&&n||e))}function bo(e){return e.label||!e.identifier?e.label||"":e.identifier.replace(go,vo)}function yo(e){var t;return e._compiled||(t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":""),e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")),e._compiled}var xo=/\r?\n|\r/g;function wo(e,t){for(var n,i=[],o=0,a=0;n=xo.exec(e);)r(e.slice(o,n.index)),i.push(n[0]),o=n.index+n[0].length,a++;return r(e.slice(o)),i.join("");function r(e){i.push(t(e,a,!e))}}function ko(e,t){return e-t}function _o(e,t){for(var n,i=/\\(?=[!-/:-@[-`{-~])/g,o=[],a=[],r=e+t,s=-1,l=0;n=i.exec(r);)o.push(n.index);for(;++s<o.length;)l!==o[s]&&a.push(e.slice(l,o[s])),a.push("\\"),l=o[s];return a.push(e.slice(l)),a.join("")}function Co(e){var t=(e=e||{}).now||{},n=e.lineShift||0,i=t.line||1,o=t.column||1;return{move:function(e){var t=(e=e||"").split(/\r?\n|\r/g),a=t[t.length-1];return i+=t.length-1,o=1===t.length?o+a.length:1+a.length+n,e},current:function(){return{now:{line:i,column:o},lineShift:n}},shift:function(e){n+=e}}}function To(e,t){t=1<arguments.length&&void 0!==t?t:{};var n,i={enter:function(e){return i.stack.push(e),function(){i.stack.pop()}},indentLines:wo,associationId:bo,containerPhrasing:Eo,containerFlow:Ao,createTracker:Co,compilePattern:yo,safe:Fo,stack:[],unsafe:[].concat(mo),join:[].concat(ho),handlers:l({},po),options:{},indexStack:[],handle:void 0};function o(e){var t,i=o.invalid,a=o.handlers;e&&Ai.call(e,n)&&(t=String(e[n]),i=Ai.call(a,t)?a[t]:o.unknown);for(var r=arguments.length,s=new Array(1<r?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];if(i)return i.call.apply(i,[this,e].concat(s))}return function e(t,n){var i,o,a,r=-1;if(n.extensions)for(;++r<n.extensions.length;)e(t,n.extensions[r]);for(i in n)if(Fi.call(n,i))switch(i){case"extensions":break;case"unsafe":case"join":Ii(t[i],n[i]);break;case"handlers":o=t[i],(a=n[i])&&Object.assign(o,a);break;default:t.options[i]=n[i]}}(i,t),i.options.tightDefinitions&&i.join.push(Do),i.handle=(n="type",o.handlers=(t={invalid:So,unknown:Mo,handlers:i.handlers}).handlers||{},o.invalid=t.invalid,o.unknown=t.unknown,o),(t=i.handle(e,void 0,i,{before:"\n    ",after:"\n    ",now:{line:1,column:1},lineShift:0}))&&10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n    "),t}function So(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function Mo(e){throw new Error("Cannot handle unknown node `"+e.type+"`")}function Do(e,t){if("definition"===e.type&&e.type===t.type)return 0}function Eo(e,t){for(var n=e,i=this,o=t,a=i.indexStack,r=n.children||[],s=[],c=-1,d=o.before,u=(a.push(-1),i.createTracker(o));++c<r.length;){var p,h,m=r[c];h=(a[a.length-1]=c)+1<r.length?(p=(p=i.handle.handlers[r[c+1].type])&&p.peek?p.peek:p)?p(r[c+1],n,i,l({before:"",after:""},u.current())).charAt(0):"":o.after,0<s.length&&("\r"===d||"\n    "===d)&&"html"===m.type&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),d=" ",(u=i.createTracker(o)).move(s.join(""))),s.push(u.move(i.handle(m,n,i,l(l({},u.current()),{},{before:d,after:h})))),d=s[s.length-1].slice(-1)}return a.pop(),s.join("")}function Ao(e,t){return function(e,t,n){var i=t.indexStack,o=e.children||[],a=t.createTracker(n),r=[],s=-1;for(i.push(-1);++s<o.length;){var c=o[s];i[i.length-1]=s,r.push(a.move(t.handle(c,e,t,l({before:"\n    ",after:"\n    "},a.current())))),"list"!==c.type&&(t.bulletLastUsed=void 0),s<o.length-1&&r.push(a.move(function(e,t,n,i){for(var o=i.join.length;o--;){var a=i.join[o](e,t,n,i);if(!0===a||1===a)break;if("number"==typeof a)return"\n    ".repeat(1+a);if(!1===a)return"\n    \n    \x3c!----\x3e\n    \n    "}return"\n    \n    "}(c,o[s+1],e,t)))}return i.pop(),r.join("")}(e,this,t)}function Fo(e,t){for(var n=this,i=t,o=(i.before||"")+(e||"")+(i.after||""),a=[],r=[],s={},l=-1;++l<n.unsafe.length;){var c=n.unsafe[l];if(Li(n.stack,c))for(var d=n.compilePattern(c);h=d.exec(o);){var u="before"in c||!!c.atBreak,p="after"in c,h=h.index+(u?h[1].length:0);a.includes(h)?(s[h].before&&!u&&(s[h].before=!1),s[h].after&&!p&&(s[h].after=!1)):(a.push(h),s[h]={before:u,after:p})}}a.sort(ko);var m=i.before?i.before.length:0,f=o.length-(i.after?i.after.length:0);for(l=-1;++l<a.length;){var g=a[l];g<m||f<=g||g+1<f&&a[l+1]===g+1&&s[g].after&&!s[g+1].before&&!s[g+1].after||a[l-1]===g-1&&s[g].before&&!s[g-1].before&&!s[g-1].after||(m!==g&&r.push(_o(o.slice(m,g),"\\")),!/[!-/:-@[-`{-~]/.test(o.charAt(m=g))||i.encode&&i.encode.includes(o.charAt(g))?(r.push("&#x"+o.charCodeAt(g).toString(16).toUpperCase()+";"),m++):r.push("\\"))}return r.push(_o(o.slice(m,f),i.after)),r.join("")}var Io={100:"💯",1234:"🔢",grinning:"😀",smiley:"😃",smile:"😄",grin:"😁",laughing:"😆",satisfied:"😆",sweat_smile:"😅",rofl:"🤣",joy:"😂",slightly_smiling_face:"🙂",upside_down_face:"🙃",melting_face:"🫠",wink:"😉",blush:"😊",innocent:"😇",smiling_face_with_three_hearts:"🥰",heart_eyes:"😍",star_struck:"🤩",kissing_heart:"😘",kissing:"😗",relaxed:"☺️",kissing_closed_eyes:"😚",kissing_smiling_eyes:"😙",smiling_face_with_tear:"🥲",yum:"😋",stuck_out_tongue:"😛",stuck_out_tongue_winking_eye:"😜",zany_face:"🤪",stuck_out_tongue_closed_eyes:"😝",money_mouth_face:"🤑",hugs:"🤗",hand_over_mouth:"🤭",face_with_open_eyes_and_hand_over_mouth:"🫢",face_with_peeking_eye:"🫣",shushing_face:"🤫",thinking:"🤔",saluting_face:"🫡",zipper_mouth_face:"🤐",raised_eyebrow:"🤨",neutral_face:"😐",expressionless:"😑",no_mouth:"😶",dotted_line_face:"🫥",face_in_clouds:"😶‍🌫️",smirk:"😏",unamused:"😒",roll_eyes:"🙄",grimacing:"😬",face_exhaling:"😮‍💨",lying_face:"🤥",shaking_face:"🫨",relieved:"😌",pensive:"😔",sleepy:"😪",drooling_face:"🤤",sleeping:"😴",mask:"😷",face_with_thermometer:"🤒",face_with_head_bandage:"🤕",nauseated_face:"🤢",vomiting_face:"🤮",sneezing_face:"🤧",hot_face:"🥵",cold_face:"🥶",woozy_face:"🥴",dizzy_face:"😵",face_with_spiral_eyes:"😵‍💫",exploding_head:"🤯",cowboy_hat_face:"🤠",partying_face:"🥳",disguised_face:"🥸",sunglasses:"😎",nerd_face:"🤓",monocle_face:"🧐",confused:"😕",face_with_diagonal_mouth:"🫤",worried:"😟",slightly_frowning_face:"🙁",frowning_face:"☹️",open_mouth:"😮",hushed:"😯",astonished:"😲",flushed:"😳",pleading_face:"🥺",face_holding_back_tears:"🥹",frowning:"😦",anguished:"😧",fearful:"😨",cold_sweat:"😰",disappointed_relieved:"😥",cry:"😢",sob:"😭",scream:"😱",confounded:"😖",persevere:"😣",disappointed:"😞",sweat:"😓",weary:"😩",tired_face:"😫",yawning_face:"🥱",triumph:"😤",rage:"😡",pout:"😡",angry:"😠",cursing_face:"🤬",smiling_imp:"😈",imp:"👿",skull:"💀",skull_and_crossbones:"☠️",hankey:"💩",poop:"💩",shit:"💩",clown_face:"🤡",japanese_ogre:"👹",japanese_goblin:"👺",ghost:"👻",alien:"👽",space_invader:"👾",robot:"🤖",smiley_cat:"😺",smile_cat:"😸",joy_cat:"😹",heart_eyes_cat:"😻",smirk_cat:"😼",kissing_cat:"😽",scream_cat:"🙀",crying_cat_face:"😿",pouting_cat:"😾",see_no_evil:"🙈",hear_no_evil:"🙉",speak_no_evil:"🙊",love_letter:"💌",cupid:"💘",gift_heart:"💝",sparkling_heart:"💖",heartpulse:"💗",heartbeat:"💓",revolving_hearts:"💞",two_hearts:"💕",heart_decoration:"💟",heavy_heart_exclamation:"❣️",broken_heart:"💔",heart_on_fire:"❤️‍🔥",mending_heart:"❤️‍🩹",heart:"❤️",pink_heart:"🩷",orange_heart:"🧡",yellow_heart:"💛",green_heart:"💚",blue_heart:"💙",light_blue_heart:"🩵",purple_heart:"💜",brown_heart:"🤎",black_heart:"🖤",grey_heart:"🩶",white_heart:"🤍",kiss:"💋",anger:"💢",boom:"💥",collision:"💥",dizzy:"💫",sweat_drops:"💦",dash:"💨",hole:"🕳️",speech_balloon:"💬",eye_speech_bubble:"👁️‍🗨️",left_speech_bubble:"🗨️",right_anger_bubble:"🗯️",thought_balloon:"💭",zzz:"💤",wave:"👋",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐️",hand:"✋",raised_hand:"✋",vulcan_salute:"🖖",rightwards_hand:"🫱",leftwards_hand:"🫲",palm_down_hand:"🫳",palm_up_hand:"🫴",leftwards_pushing_hand:"🫷",rightwards_pushing_hand:"🫸",ok_hand:"👌",pinched_fingers:"🤌",pinching_hand:"🤏",v:"✌️",crossed_fingers:"🤞",hand_with_index_finger_and_thumb_crossed:"🫰",love_you_gesture:"🤟",metal:"🤘",call_me_hand:"🤙",point_left:"👈",point_right:"👉",point_up_2:"👆",middle_finger:"🖕",fu:"🖕",point_down:"👇",point_up:"☝️",index_pointing_at_the_viewer:"🫵","+1":"👍",thumbsup:"👍","-1":"👎",thumbsdown:"👎",fist_raised:"✊",fist:"✊",fist_oncoming:"👊",facepunch:"👊",punch:"👊",fist_left:"🤛",fist_right:"🤜",clap:"👏",raised_hands:"🙌",heart_hands:"🫶",open_hands:"👐",palms_up_together:"🤲",handshake:"🤝",pray:"🙏",writing_hand:"✍️",nail_care:"💅",selfie:"🤳",muscle:"💪",mechanical_arm:"🦾",mechanical_leg:"🦿",leg:"🦵",foot:"🦶",ear:"👂",ear_with_hearing_aid:"🦻",nose:"👃",brain:"🧠",anatomical_heart:"🫀",lungs:"🫁",tooth:"🦷",bone:"🦴",eyes:"👀",eye:"👁️",tongue:"👅",lips:"👄",biting_lip:"🫦",baby:"👶",child:"🧒",boy:"👦",girl:"👧",adult:"🧑",blond_haired_person:"👱",man:"👨",bearded_person:"🧔",man_beard:"🧔‍♂️",woman_beard:"🧔‍♀️",red_haired_man:"👨‍🦰",curly_haired_man:"👨‍🦱",white_haired_man:"👨‍🦳",bald_man:"👨‍🦲",woman:"👩",red_haired_woman:"👩‍🦰",person_red_hair:"🧑‍🦰",curly_haired_woman:"👩‍🦱",person_curly_hair:"🧑‍🦱",white_haired_woman:"👩‍🦳",person_white_hair:"🧑‍🦳",bald_woman:"👩‍🦲",person_bald:"🧑‍🦲",blond_haired_woman:"👱‍♀️",blonde_woman:"👱‍♀️",blond_haired_man:"👱‍♂️",older_adult:"🧓",older_man:"👴",older_woman:"👵",frowning_person:"🙍",frowning_man:"🙍‍♂️",frowning_woman:"🙍‍♀️",pouting_face:"🙎",pouting_man:"🙎‍♂️",pouting_woman:"🙎‍♀️",no_good:"🙅",no_good_man:"🙅‍♂️",ng_man:"🙅‍♂️",no_good_woman:"🙅‍♀️",ng_woman:"🙅‍♀️",ok_person:"🙆",ok_man:"🙆‍♂️",ok_woman:"🙆‍♀️",tipping_hand_person:"💁",information_desk_person:"💁",tipping_hand_man:"💁‍♂️",sassy_man:"💁‍♂️",tipping_hand_woman:"💁‍♀️",sassy_woman:"💁‍♀️",raising_hand:"🙋",raising_hand_man:"🙋‍♂️",raising_hand_woman:"🙋‍♀️",deaf_person:"🧏",deaf_man:"🧏‍♂️",deaf_woman:"🧏‍♀️",bow:"🙇",bowing_man:"🙇‍♂️",bowing_woman:"🙇‍♀️",facepalm:"🤦",man_facepalming:"🤦‍♂️",woman_facepalming:"🤦‍♀️",shrug:"🤷",man_shrugging:"🤷‍♂️",woman_shrugging:"🤷‍♀️",health_worker:"🧑‍⚕️",man_health_worker:"👨‍⚕️",woman_health_worker:"👩‍⚕️",student:"🧑‍🎓",man_student:"👨‍🎓",woman_student:"👩‍🎓",teacher:"🧑‍🏫",man_teacher:"👨‍🏫",woman_teacher:"👩‍🏫",judge:"🧑‍⚖️",man_judge:"👨‍⚖️",woman_judge:"👩‍⚖️",farmer:"🧑‍🌾",man_farmer:"👨‍🌾",woman_farmer:"👩‍🌾",cook:"🧑‍🍳",man_cook:"👨‍🍳",woman_cook:"👩‍🍳",mechanic:"🧑‍🔧",man_mechanic:"👨‍🔧",woman_mechanic:"👩‍🔧",factory_worker:"🧑‍🏭",man_factory_worker:"👨‍🏭",woman_factory_worker:"👩‍🏭",office_worker:"🧑‍💼",man_office_worker:"👨‍💼",woman_office_worker:"👩‍💼",scientist:"🧑‍🔬",man_scientist:"👨‍🔬",woman_scientist:"👩‍🔬",technologist:"🧑‍💻",man_technologist:"👨‍💻",woman_technologist:"👩‍💻",singer:"🧑‍🎤",man_singer:"👨‍🎤",woman_singer:"👩‍🎤",artist:"🧑‍🎨",man_artist:"👨‍🎨",woman_artist:"👩‍🎨",pilot:"🧑‍✈️",man_pilot:"👨‍✈️",woman_pilot:"👩‍✈️",astronaut:"🧑‍🚀",man_astronaut:"👨‍🚀",woman_astronaut:"👩‍🚀",firefighter:"🧑‍🚒",man_firefighter:"👨‍🚒",woman_firefighter:"👩‍🚒",police_officer:"👮",cop:"👮",policeman:"👮‍♂️",policewoman:"👮‍♀️",detective:"🕵️",male_detective:"🕵️‍♂️",female_detective:"🕵️‍♀️",guard:"💂",guardsman:"💂‍♂️",guardswoman:"💂‍♀️",ninja:"🥷",construction_worker:"👷",construction_worker_man:"👷‍♂️",construction_worker_woman:"👷‍♀️",person_with_crown:"🫅",prince:"🤴",princess:"👸",person_with_turban:"👳",man_with_turban:"👳‍♂️",woman_with_turban:"👳‍♀️",man_with_gua_pi_mao:"👲",woman_with_headscarf:"🧕",person_in_tuxedo:"🤵",man_in_tuxedo:"🤵‍♂️",woman_in_tuxedo:"🤵‍♀️",person_with_veil:"👰",man_with_veil:"👰‍♂️",woman_with_veil:"👰‍♀️",bride_with_veil:"👰‍♀️",pregnant_woman:"🤰",pregnant_man:"🫃",pregnant_person:"🫄",breast_feeding:"🤱",woman_feeding_baby:"👩‍🍼",man_feeding_baby:"👨‍🍼",person_feeding_baby:"🧑‍🍼",angel:"👼",santa:"🎅",mrs_claus:"🤶",mx_claus:"🧑‍🎄",superhero:"🦸",superhero_man:"🦸‍♂️",superhero_woman:"🦸‍♀️",supervillain:"🦹",supervillain_man:"🦹‍♂️",supervillain_woman:"🦹‍♀️",mage:"🧙",mage_man:"🧙‍♂️",mage_woman:"🧙‍♀️",fairy:"🧚",fairy_man:"🧚‍♂️",fairy_woman:"🧚‍♀️",vampire:"🧛",vampire_man:"🧛‍♂️",vampire_woman:"🧛‍♀️",merperson:"🧜",merman:"🧜‍♂️",mermaid:"🧜‍♀️",elf:"🧝",elf_man:"🧝‍♂️",elf_woman:"🧝‍♀️",genie:"🧞",genie_man:"🧞‍♂️",genie_woman:"🧞‍♀️",zombie:"🧟",zombie_man:"🧟‍♂️",zombie_woman:"🧟‍♀️",troll:"🧌",massage:"💆",massage_man:"💆‍♂️",massage_woman:"💆‍♀️",haircut:"💇",haircut_man:"💇‍♂️",haircut_woman:"💇‍♀️",walking:"🚶",walking_man:"🚶‍♂️",walking_woman:"🚶‍♀️",standing_person:"🧍",standing_man:"🧍‍♂️",standing_woman:"🧍‍♀️",kneeling_person:"🧎",kneeling_man:"🧎‍♂️",kneeling_woman:"🧎‍♀️",person_with_probing_cane:"🧑‍🦯",man_with_probing_cane:"👨‍🦯",woman_with_probing_cane:"👩‍🦯",person_in_motorized_wheelchair:"🧑‍🦼",man_in_motorized_wheelchair:"👨‍🦼",woman_in_motorized_wheelchair:"👩‍🦼",person_in_manual_wheelchair:"🧑‍🦽",man_in_manual_wheelchair:"👨‍🦽",woman_in_manual_wheelchair:"👩‍🦽",runner:"🏃",running:"🏃",running_man:"🏃‍♂️",running_woman:"🏃‍♀️",woman_dancing:"💃",dancer:"💃",man_dancing:"🕺",business_suit_levitating:"🕴️",dancers:"👯",dancing_men:"👯‍♂️",dancing_women:"👯‍♀️",sauna_person:"🧖",sauna_man:"🧖‍♂️",sauna_woman:"🧖‍♀️",climbing:"🧗",climbing_man:"🧗‍♂️",climbing_woman:"🧗‍♀️",person_fencing:"🤺",horse_racing:"🏇",skier:"⛷️",snowboarder:"🏂",golfing:"🏌️",golfing_man:"🏌️‍♂️",golfing_woman:"🏌️‍♀️",surfer:"🏄",surfing_man:"🏄‍♂️",surfing_woman:"🏄‍♀️",rowboat:"🚣",rowing_man:"🚣‍♂️",rowing_woman:"🚣‍♀️",swimmer:"🏊",swimming_man:"🏊‍♂️",swimming_woman:"🏊‍♀️",bouncing_ball_person:"⛹️",bouncing_ball_man:"⛹️‍♂️",basketball_man:"⛹️‍♂️",bouncing_ball_woman:"⛹️‍♀️",basketball_woman:"⛹️‍♀️",weight_lifting:"🏋️",weight_lifting_man:"🏋️‍♂️",weight_lifting_woman:"🏋️‍♀️",bicyclist:"🚴",biking_man:"🚴‍♂️",biking_woman:"🚴‍♀️",mountain_bicyclist:"🚵",mountain_biking_man:"🚵‍♂️",mountain_biking_woman:"🚵‍♀️",cartwheeling:"🤸",man_cartwheeling:"🤸‍♂️",woman_cartwheeling:"🤸‍♀️",wrestling:"🤼",men_wrestling:"🤼‍♂️",women_wrestling:"🤼‍♀️",water_polo:"🤽",man_playing_water_polo:"🤽‍♂️",woman_playing_water_polo:"🤽‍♀️",handball_person:"🤾",man_playing_handball:"🤾‍♂️",woman_playing_handball:"🤾‍♀️",juggling_person:"🤹",man_juggling:"🤹‍♂️",woman_juggling:"🤹‍♀️",lotus_position:"🧘",lotus_position_man:"🧘‍♂️",lotus_position_woman:"🧘‍♀️",bath:"🛀",sleeping_bed:"🛌",people_holding_hands:"🧑‍🤝‍🧑",two_women_holding_hands:"👭",couple:"👫",two_men_holding_hands:"👬",couplekiss:"💏",couplekiss_man_woman:"👩‍❤️‍💋‍👨",couplekiss_man_man:"👨‍❤️‍💋‍👨",couplekiss_woman_woman:"👩‍❤️‍💋‍👩",couple_with_heart:"💑",couple_with_heart_woman_man:"👩‍❤️‍👨",couple_with_heart_man_man:"👨‍❤️‍👨",couple_with_heart_woman_woman:"👩‍❤️‍👩",family:"👪",family_man_woman_boy:"👨‍👩‍👦",family_man_woman_girl:"👨‍👩‍👧",family_man_woman_girl_boy:"👨‍👩‍👧‍👦",family_man_woman_boy_boy:"👨‍👩‍👦‍👦",family_man_woman_girl_girl:"👨‍👩‍👧‍👧",family_man_man_boy:"👨‍👨‍👦",family_man_man_girl:"👨‍👨‍👧",family_man_man_girl_boy:"👨‍👨‍👧‍👦",family_man_man_boy_boy:"👨‍👨‍👦‍👦",family_man_man_girl_girl:"👨‍👨‍👧‍👧",family_woman_woman_boy:"👩‍👩‍👦",family_woman_woman_girl:"👩‍👩‍👧",family_woman_woman_girl_boy:"👩‍👩‍👧‍👦",family_woman_woman_boy_boy:"👩‍👩‍👦‍👦",family_woman_woman_girl_girl:"👩‍👩‍👧‍👧",family_man_boy:"👨‍👦",family_man_boy_boy:"👨‍👦‍👦",family_man_girl:"👨‍👧",family_man_girl_boy:"👨‍👧‍👦",family_man_girl_girl:"👨‍👧‍👧",family_woman_boy:"👩‍👦",family_woman_boy_boy:"👩‍👦‍👦",family_woman_girl:"👩‍👧",family_woman_girl_boy:"👩‍👧‍👦",family_woman_girl_girl:"👩‍👧‍👧",speaking_head:"🗣️",bust_in_silhouette:"👤",busts_in_silhouette:"👥",people_hugging:"🫂",footprints:"👣",monkey_face:"🐵",monkey:"🐒",gorilla:"🦍",orangutan:"🦧",dog:"🐶",dog2:"🐕",guide_dog:"🦮",service_dog:"🐕‍🦺",poodle:"🐩",wolf:"🐺",fox_face:"🦊",raccoon:"🦝",cat:"🐱",cat2:"🐈",black_cat:"🐈‍⬛",lion:"🦁",tiger:"🐯",tiger2:"🐅",leopard:"🐆",horse:"🐴",moose:"🫎",donkey:"🫏",racehorse:"🐎",unicorn:"🦄",zebra:"🦓",deer:"🦌",bison:"🦬",cow:"🐮",ox:"🐂",water_buffalo:"🐃",cow2:"🐄",pig:"🐷",pig2:"🐖",boar:"🐗",pig_nose:"🐽",ram:"🐏",sheep:"🐑",goat:"🐐",dromedary_camel:"🐪",camel:"🐫",llama:"🦙",giraffe:"🦒",elephant:"🐘",mammoth:"🦣",rhinoceros:"🦏",hippopotamus:"🦛",mouse:"🐭",mouse2:"🐁",rat:"🐀",hamster:"🐹",rabbit:"🐰",rabbit2:"🐇",chipmunk:"🐿️",beaver:"🦫",hedgehog:"🦔",bat:"🦇",bear:"🐻",polar_bear:"🐻‍❄️",koala:"🐨",panda_face:"🐼",sloth:"🦥",otter:"🦦",skunk:"🦨",kangaroo:"🦘",badger:"🦡",feet:"🐾",paw_prints:"🐾",turkey:"🦃",chicken:"🐔",rooster:"🐓",hatching_chick:"🐣",baby_chick:"🐤",hatched_chick:"🐥",bird:"🐦",penguin:"🐧",dove:"🕊️",eagle:"🦅",duck:"🦆",swan:"🦢",owl:"🦉",dodo:"🦤",feather:"🪶",flamingo:"🦩",peacock:"🦚",parrot:"🦜",wing:"🪽",black_bird:"🐦‍⬛",goose:"🪿",frog:"🐸",crocodile:"🐊",turtle:"🐢",lizard:"🦎",snake:"🐍",dragon_face:"🐲",dragon:"🐉",sauropod:"🦕","t-rex":"🦖",whale:"🐳",whale2:"🐋",dolphin:"🐬",flipper:"🐬",seal:"🦭",fish:"🐟",tropical_fish:"🐠",blowfish:"🐡",shark:"🦈",octopus:"🐙",shell:"🐚",coral:"🪸",jellyfish:"🪼",snail:"🐌",butterfly:"🦋",bug:"🐛",ant:"🐜",bee:"🐝",honeybee:"🐝",beetle:"🪲",lady_beetle:"🐞",cricket:"🦗",cockroach:"🪳",spider:"🕷️",spider_web:"🕸️",scorpion:"🦂",mosquito:"🦟",fly:"🪰",worm:"🪱",microbe:"🦠",bouquet:"💐",cherry_blossom:"🌸",white_flower:"💮",lotus:"🪷",rosette:"🏵️",rose:"🌹",wilted_flower:"🥀",hibiscus:"🌺",sunflower:"🌻",blossom:"🌼",tulip:"🌷",hyacinth:"🪻",seedling:"🌱",potted_plant:"🪴",evergreen_tree:"🌲",deciduous_tree:"🌳",palm_tree:"🌴",cactus:"🌵",ear_of_rice:"🌾",herb:"🌿",shamrock:"☘️",four_leaf_clover:"🍀",maple_leaf:"🍁",fallen_leaf:"🍂",leaves:"🍃",empty_nest:"🪹",nest_with_eggs:"🪺",mushroom:"🍄",grapes:"🍇",melon:"🍈",watermelon:"🍉",tangerine:"🍊",orange:"🍊",mandarin:"🍊",lemon:"🍋",banana:"🍌",pineapple:"🍍",mango:"🥭",apple:"🍎",green_apple:"🍏",pear:"🍐",peach:"🍑",cherries:"🍒",strawberry:"🍓",blueberries:"🫐",kiwi_fruit:"🥝",tomato:"🍅",olive:"🫒",coconut:"🥥",avocado:"🥑",eggplant:"🍆",potato:"🥔",carrot:"🥕",corn:"🌽",hot_pepper:"🌶️",bell_pepper:"🫑",cucumber:"🥒",leafy_green:"🥬",broccoli:"🥦",garlic:"🧄",onion:"🧅",peanuts:"🥜",beans:"🫘",chestnut:"🌰",ginger_root:"🫚",pea_pod:"🫛",bread:"🍞",croissant:"🥐",baguette_bread:"🥖",flatbread:"🫓",pretzel:"🥨",bagel:"🥯",pancakes:"🥞",waffle:"🧇",cheese:"🧀",meat_on_bone:"🍖",poultry_leg:"🍗",cut_of_meat:"🥩",bacon:"🥓",hamburger:"🍔",fries:"🍟",pizza:"🍕",hotdog:"🌭",sandwich:"🥪",taco:"🌮",burrito:"🌯",tamale:"🫔",stuffed_flatbread:"🥙",falafel:"🧆",egg:"🥚",fried_egg:"🍳",shallow_pan_of_food:"🥘",stew:"🍲",fondue:"🫕",bowl_with_spoon:"🥣",green_salad:"🥗",popcorn:"🍿",butter:"🧈",salt:"🧂",canned_food:"🥫",bento:"🍱",rice_cracker:"🍘",rice_ball:"🍙",rice:"🍚",curry:"🍛",ramen:"🍜",spaghetti:"🍝",sweet_potato:"🍠",oden:"🍢",sushi:"🍣",fried_shrimp:"🍤",fish_cake:"🍥",moon_cake:"🥮",dango:"🍡",dumpling:"🥟",fortune_cookie:"🥠",takeout_box:"🥡",crab:"🦀",lobster:"🦞",shrimp:"🦐",squid:"🦑",oyster:"🦪",icecream:"🍦",shaved_ice:"🍧",ice_cream:"🍨",doughnut:"🍩",cookie:"🍪",birthday:"🎂",cake:"🍰",cupcake:"🧁",pie:"🥧",chocolate_bar:"🍫",candy:"🍬",lollipop:"🍭",custard:"🍮",honey_pot:"🍯",baby_bottle:"🍼",milk_glass:"🥛",coffee:"☕",teapot:"🫖",tea:"🍵",sake:"🍶",champagne:"🍾",wine_glass:"🍷",cocktail:"🍸",tropical_drink:"🍹",beer:"🍺",beers:"🍻",clinking_glasses:"🥂",tumbler_glass:"🥃",pouring_liquid:"🫗",cup_with_straw:"🥤",bubble_tea:"🧋",beverage_box:"🧃",mate:"🧉",ice_cube:"🧊",chopsticks:"🥢",plate_with_cutlery:"🍽️",fork_and_knife:"🍴",spoon:"🥄",hocho:"🔪",knife:"🔪",jar:"🫙",amphora:"🏺",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",globe_with_meridians:"🌐",world_map:"🗺️",japan:"🗾",compass:"🧭",mountain_snow:"🏔️",mountain:"⛰️",volcano:"🌋",mount_fuji:"🗻",camping:"🏕️",beach_umbrella:"🏖️",desert:"🏜️",desert_island:"🏝️",national_park:"🏞️",stadium:"🏟️",classical_building:"🏛️",building_construction:"🏗️",bricks:"🧱",rock:"🪨",wood:"🪵",hut:"🛖",houses:"🏘️",derelict_house:"🏚️",house:"🏠",house_with_garden:"🏡",office:"🏢",post_office:"🏣",european_post_office:"🏤",hospital:"🏥",bank:"🏦",hotel:"🏨",love_hotel:"🏩",convenience_store:"🏪",school:"🏫",department_store:"🏬",factory:"🏭",japanese_castle:"🏯",european_castle:"🏰",wedding:"💒",tokyo_tower:"🗼",statue_of_liberty:"🗽",church:"⛪",mosque:"🕌",hindu_temple:"🛕",synagogue:"🕍",shinto_shrine:"⛩️",kaaba:"🕋",fountain:"⛲",tent:"⛺",foggy:"🌁",night_with_stars:"🌃",cityscape:"🏙️",sunrise_over_mountains:"🌄",sunrise:"🌅",city_sunset:"🌆",city_sunrise:"🌇",bridge_at_night:"🌉",hotsprings:"♨️",carousel_horse:"🎠",playground_slide:"🛝",ferris_wheel:"🎡",roller_coaster:"🎢",barber:"💈",circus_tent:"🎪",steam_locomotive:"🚂",railway_car:"🚃",bullettrain_side:"🚄",bullettrain_front:"🚅",train2:"🚆",metro:"🚇",light_rail:"🚈",station:"🚉",tram:"🚊",monorail:"🚝",mountain_railway:"🚞",train:"🚋",bus:"🚌",oncoming_bus:"🚍",trolleybus:"🚎",minibus:"🚐",ambulance:"🚑",fire_engine:"🚒",police_car:"🚓",oncoming_police_car:"🚔",taxi:"🚕",oncoming_taxi:"🚖",car:"🚗",red_car:"🚗",oncoming_automobile:"🚘",blue_car:"🚙",pickup_truck:"🛻",truck:"🚚",articulated_lorry:"🚛",tractor:"🚜",racing_car:"🏎️",motorcycle:"🏍️",motor_scooter:"🛵",manual_wheelchair:"🦽",motorized_wheelchair:"🦼",auto_rickshaw:"🛺",bike:"🚲",kick_scooter:"🛴",skateboard:"🛹",roller_skate:"🛼",busstop:"🚏",motorway:"🛣️",railway_track:"🛤️",oil_drum:"🛢️",fuelpump:"⛽",wheel:"🛞",rotating_light:"🚨",traffic_light:"🚥",vertical_traffic_light:"🚦",stop_sign:"🛑",construction:"🚧",anchor:"⚓",ring_buoy:"🛟",boat:"⛵",sailboat:"⛵",canoe:"🛶",speedboat:"🚤",passenger_ship:"🛳️",ferry:"⛴️",motor_boat:"🛥️",ship:"🚢",airplane:"✈️",small_airplane:"🛩️",flight_departure:"🛫",flight_arrival:"🛬",parachute:"🪂",seat:"💺",helicopter:"🚁",suspension_railway:"🚟",mountain_cableway:"🚠",aerial_tramway:"🚡",artificial_satellite:"🛰️",rocket:"🚀",flying_saucer:"🛸",bellhop_bell:"🛎️",luggage:"🧳",hourglass:"⌛",hourglass_flowing_sand:"⏳",watch:"⌚",alarm_clock:"⏰",stopwatch:"⏱️",timer_clock:"⏲️",mantelpiece_clock:"🕰️",clock12:"🕛",clock1230:"🕧",clock1:"🕐",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",new_moon:"🌑",waxing_crescent_moon:"🌒",first_quarter_moon:"🌓",moon:"🌔",waxing_gibbous_moon:"🌔",full_moon:"🌕",waning_gibbous_moon:"🌖",last_quarter_moon:"🌗",waning_crescent_moon:"🌘",crescent_moon:"🌙",new_moon_with_face:"🌚",first_quarter_moon_with_face:"🌛",last_quarter_moon_with_face:"🌜",thermometer:"🌡️",sunny:"☀️",full_moon_with_face:"🌝",sun_with_face:"🌞",ringed_planet:"🪐",star:"⭐",star2:"🌟",stars:"🌠",milky_way:"🌌",cloud:"☁️",partly_sunny:"⛅",cloud_with_lightning_and_rain:"⛈️",sun_behind_small_cloud:"🌤️",sun_behind_large_cloud:"🌥️",sun_behind_rain_cloud:"🌦️",cloud_with_rain:"🌧️",cloud_with_snow:"🌨️",cloud_with_lightning:"🌩️",tornado:"🌪️",fog:"🌫️",wind_face:"🌬️",cyclone:"🌀",rainbow:"🌈",closed_umbrella:"🌂",open_umbrella:"☂️",umbrella:"☔",parasol_on_ground:"⛱️",zap:"⚡",snowflake:"❄️",snowman_with_snow:"☃️",snowman:"⛄",comet:"☄️",fire:"🔥",droplet:"💧",ocean:"🌊",jack_o_lantern:"🎃",christmas_tree:"🎄",fireworks:"🎆",sparkler:"🎇",firecracker:"🧨",sparkles:"✨",balloon:"🎈",tada:"🎉",confetti_ball:"🎊",tanabata_tree:"🎋",bamboo:"🎍",dolls:"🎎",flags:"🎏",wind_chime:"🎐",rice_scene:"🎑",red_envelope:"🧧",ribbon:"🎀",gift:"🎁",reminder_ribbon:"🎗️",tickets:"🎟️",ticket:"🎫",medal_military:"🎖️",trophy:"🏆",medal_sports:"🏅","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉",soccer:"⚽",baseball:"⚾",softball:"🥎",basketball:"🏀",volleyball:"🏐",football:"🏈",rugby_football:"🏉",tennis:"🎾",flying_disc:"🥏",bowling:"🎳",cricket_game:"🏏",field_hockey:"🏑",ice_hockey:"🏒",lacrosse:"🥍",ping_pong:"🏓",badminton:"🏸",boxing_glove:"🥊",martial_arts_uniform:"🥋",goal_net:"🥅",golf:"⛳",ice_skate:"⛸️",fishing_pole_and_fish:"🎣",diving_mask:"🤿",running_shirt_with_sash:"🎽",ski:"🎿",sled:"🛷",curling_stone:"🥌",dart:"🎯",yo_yo:"🪀",kite:"🪁",gun:"🔫","8ball":"🎱",crystal_ball:"🔮",magic_wand:"🪄",video_game:"🎮",joystick:"🕹️",slot_machine:"🎰",game_die:"🎲",jigsaw:"🧩",teddy_bear:"🧸",pinata:"🪅",mirror_ball:"🪩",nesting_dolls:"🪆",spades:"♠️",hearts:"♥️",diamonds:"♦️",clubs:"♣️",chess_pawn:"♟️",black_joker:"🃏",mahjong:"🀄",flower_playing_cards:"🎴",performing_arts:"🎭",framed_picture:"🖼️",art:"🎨",thread:"🧵",sewing_needle:"🪡",yarn:"🧶",knot:"🪢",eyeglasses:"👓",dark_sunglasses:"🕶️",goggles:"🥽",lab_coat:"🥼",safety_vest:"🦺",necktie:"👔",shirt:"👕",tshirt:"👕",jeans:"👖",scarf:"🧣",gloves:"🧤",coat:"🧥",socks:"🧦",dress:"👗",kimono:"👘",sari:"🥻",one_piece_swimsuit:"🩱",swim_brief:"🩲",shorts:"🩳",bikini:"👙",womans_clothes:"👚",folding_hand_fan:"🪭",purse:"👛",handbag:"👜",pouch:"👝",shopping:"🛍️",school_satchel:"🎒",thong_sandal:"🩴",mans_shoe:"👞",shoe:"👞",athletic_shoe:"👟",hiking_boot:"🥾",flat_shoe:"🥿",high_heel:"👠",sandal:"👡",ballet_shoes:"🩰",boot:"👢",hair_pick:"🪮",crown:"👑",womans_hat:"👒",tophat:"🎩",mortar_board:"🎓",billed_cap:"🧢",military_helmet:"🪖",rescue_worker_helmet:"⛑️",prayer_beads:"📿",lipstick:"💄",ring:"💍",gem:"💎",mute:"🔇",speaker:"🔈",sound:"🔉",loud_sound:"🔊",loudspeaker:"📢",mega:"📣",postal_horn:"📯",bell:"🔔",no_bell:"🔕",musical_score:"🎼",musical_note:"🎵",notes:"🎶",studio_microphone:"🎙️",level_slider:"🎚️",control_knobs:"🎛️",microphone:"🎤",headphones:"🎧",radio:"📻",saxophone:"🎷",accordion:"🪗",guitar:"🎸",musical_keyboard:"🎹",trumpet:"🎺",violin:"🎻",banjo:"🪕",drum:"🥁",long_drum:"🪘",maracas:"🪇",flute:"🪈",iphone:"📱",calling:"📲",phone:"☎️",telephone:"☎️",telephone_receiver:"📞",pager:"📟",fax:"📠",battery:"🔋",low_battery:"🪫",electric_plug:"🔌",computer:"💻",desktop_computer:"🖥️",printer:"🖨️",keyboard:"⌨️",computer_mouse:"🖱️",trackball:"🖲️",minidisc:"💽",floppy_disk:"💾",cd:"💿",dvd:"📀",abacus:"🧮",movie_camera:"🎥",film_strip:"🎞️",film_projector:"📽️",clapper:"🎬",tv:"📺",camera:"📷",camera_flash:"📸",video_camera:"📹",vhs:"📼",mag:"🔍",mag_right:"🔎",candle:"🕯️",bulb:"💡",flashlight:"🔦",izakaya_lantern:"🏮",lantern:"🏮",diya_lamp:"🪔",notebook_with_decorative_cover:"📔",closed_book:"📕",book:"📖",open_book:"📖",green_book:"📗",blue_book:"📘",orange_book:"📙",books:"📚",notebook:"📓",ledger:"📒",page_with_curl:"📃",scroll:"📜",page_facing_up:"📄",newspaper:"📰",newspaper_roll:"🗞️",bookmark_tabs:"📑",bookmark:"🔖",label:"🏷️",moneybag:"💰",coin:"🪙",yen:"💴",dollar:"💵",euro:"💶",pound:"💷",money_with_wings:"💸",credit_card:"💳",receipt:"🧾",chart:"💹",envelope:"✉️",email:"📧","e-mail":"📧",incoming_envelope:"📨",envelope_with_arrow:"📩",outbox_tray:"📤",inbox_tray:"📥",package:"📦",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",postbox:"📮",ballot_box:"🗳️",pencil2:"✏️",black_nib:"✒️",fountain_pen:"🖋️",pen:"🖊️",paintbrush:"🖌️",crayon:"🖍️",memo:"📝",pencil:"📝",briefcase:"💼",file_folder:"📁",open_file_folder:"📂",card_index_dividers:"🗂️",date:"📅",calendar:"📆",spiral_notepad:"🗒️",spiral_calendar:"🗓️",card_index:"📇",chart_with_upwards_trend:"📈",chart_with_downwards_trend:"📉",bar_chart:"📊",clipboard:"📋",pushpin:"📌",round_pushpin:"📍",paperclip:"📎",paperclips:"🖇️",straight_ruler:"📏",triangular_ruler:"📐",scissors:"✂️",card_file_box:"🗃️",file_cabinet:"🗄️",wastebasket:"🗑️",lock:"🔒",unlock:"🔓",lock_with_ink_pen:"🔏",closed_lock_with_key:"🔐",key:"🔑",old_key:"🗝️",hammer:"🔨",axe:"🪓",pick:"⛏️",hammer_and_pick:"⚒️",hammer_and_wrench:"🛠️",dagger:"🗡️",crossed_swords:"⚔️",bomb:"💣",boomerang:"🪃",bow_and_arrow:"🏹",shield:"🛡️",carpentry_saw:"🪚",wrench:"🔧",screwdriver:"🪛",nut_and_bolt:"🔩",gear:"⚙️",clamp:"🗜️",balance_scale:"⚖️",probing_cane:"🦯",link:"🔗",chains:"⛓️",hook:"🪝",toolbox:"🧰",magnet:"🧲",ladder:"🪜",alembic:"⚗️",test_tube:"🧪",petri_dish:"🧫",dna:"🧬",microscope:"🔬",telescope:"🔭",satellite:"📡",syringe:"💉",drop_of_blood:"🩸",pill:"💊",adhesive_bandage:"🩹",crutch:"🩼",stethoscope:"🩺",x_ray:"🩻",door:"🚪",elevator:"🛗",mirror:"🪞",window:"🪟",bed:"🛏️",couch_and_lamp:"🛋️",chair:"🪑",toilet:"🚽",plunger:"🪠",shower:"🚿",bathtub:"🛁",mouse_trap:"🪤",razor:"🪒",lotion_bottle:"🧴",safety_pin:"🧷",broom:"🧹",basket:"🧺",roll_of_paper:"🧻",bucket:"🪣",soap:"🧼",bubbles:"🫧",toothbrush:"🪥",sponge:"🧽",fire_extinguisher:"🧯",shopping_cart:"🛒",smoking:"🚬",coffin:"⚰️",headstone:"🪦",funeral_urn:"⚱️",nazar_amulet:"🧿",hamsa:"🪬",moyai:"🗿",placard:"🪧",identification_card:"🪪",atm:"🏧",put_litter_in_its_place:"🚮",potable_water:"🚰",wheelchair:"♿",mens:"🚹",womens:"🚺",restroom:"🚻",baby_symbol:"🚼",wc:"🚾",passport_control:"🛂",customs:"🛃",baggage_claim:"🛄",left_luggage:"🛅",warning:"⚠️",children_crossing:"🚸",no_entry:"⛔",no_entry_sign:"🚫",no_bicycles:"🚳",no_smoking:"🚭",do_not_litter:"🚯","non-potable_water":"🚱",no_pedestrians:"🚷",no_mobile_phones:"📵",underage:"🔞",radioactive:"☢️",biohazard:"☣️",arrow_up:"⬆️",arrow_upper_right:"↗️",arrow_right:"➡️",arrow_lower_right:"↘️",arrow_down:"⬇️",arrow_lower_left:"↙️",arrow_left:"⬅️",arrow_upper_left:"↖️",arrow_up_down:"↕️",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",arrow_right_hook:"↪️",arrow_heading_up:"⤴️",arrow_heading_down:"⤵️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",back:"🔙",end:"🔚",on:"🔛",soon:"🔜",top:"🔝",place_of_worship:"🛐",atom_symbol:"⚛️",om:"🕉️",star_of_david:"✡️",wheel_of_dharma:"☸️",yin_yang:"☯️",latin_cross:"✝️",orthodox_cross:"☦️",star_and_crescent:"☪️",peace_symbol:"☮️",menorah:"🕎",six_pointed_star:"🔯",khanda:"🪯",aries:"♈",taurus:"♉",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpius:"♏",sagittarius:"♐",capricorn:"♑",aquarius:"♒",pisces:"♓",ophiuchus:"⛎",twisted_rightwards_arrows:"🔀",repeat:"🔁",repeat_one:"🔂",arrow_forward:"▶️",fast_forward:"⏩",next_track_button:"⏭️",play_or_pause_button:"⏯️",arrow_backward:"◀️",rewind:"⏪",previous_track_button:"⏮️",arrow_up_small:"🔼",arrow_double_up:"⏫",arrow_down_small:"🔽",arrow_double_down:"⏬",pause_button:"⏸️",stop_button:"⏹️",record_button:"⏺️",eject_button:"⏏️",cinema:"🎦",low_brightness:"🔅",high_brightness:"🔆",signal_strength:"📶",wireless:"🛜",vibration_mode:"📳",mobile_phone_off:"📴",female_sign:"♀️",male_sign:"♂️",transgender_symbol:"⚧️",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",heavy_minus_sign:"➖",heavy_division_sign:"➗",heavy_equals_sign:"🟰",infinity:"♾️",bangbang:"‼️",interrobang:"⁉️",question:"❓",grey_question:"❔",grey_exclamation:"❕",exclamation:"❗",heavy_exclamation_mark:"❗",wavy_dash:"〰️",currency_exchange:"💱",heavy_dollar_sign:"💲",medical_symbol:"⚕️",recycle:"♻️",fleur_de_lis:"⚜️",trident:"🔱",name_badge:"📛",beginner:"🔰",o:"⭕",white_check_mark:"✅",ballot_box_with_check:"☑️",heavy_check_mark:"✔️",x:"❌",negative_squared_cross_mark:"❎",curly_loop:"➰",loop:"➿",part_alternation_mark:"〽️",eight_spoked_asterisk:"✳️",eight_pointed_black_star:"✴️",sparkle:"❇️",copyright:"©️",registered:"®️",tm:"™️",hash:"#️⃣",asterisk:"*️⃣",zero:"0️⃣",one:"1️⃣",two:"2️⃣",three:"3️⃣",four:"4️⃣",five:"5️⃣",six:"6️⃣",seven:"7️⃣",eight:"8️⃣",nine:"9️⃣",keycap_ten:"🔟",capital_abcd:"🔠",abcd:"🔡",symbols:"🔣",abc:"🔤",a:"🅰️",ab:"🆎",b:"🅱️",cl:"🆑",cool:"🆒",free:"🆓",information_source:"ℹ️",id:"🆔",m:"Ⓜ️",new:"🆕",ng:"🆖",o2:"🅾️",ok:"🆗",parking:"🅿️",sos:"🆘",up:"🆙",vs:"🆚",koko:"🈁",sa:"🈂️",u6708:"🈷️",u6709:"🈶",u6307:"🈯",ideograph_advantage:"🉐",u5272:"🈹",u7121:"🈚",u7981:"🈲",accept:"🉑",u7533:"🈸",u5408:"🈴",u7a7a:"🈳",congratulations:"㊗️",secret:"㊙️",u55b6:"🈺",u6e80:"🈵",red_circle:"🔴",orange_circle:"🟠",yellow_circle:"🟡",green_circle:"🟢",large_blue_circle:"🔵",purple_circle:"🟣",brown_circle:"🟤",black_circle:"⚫",white_circle:"⚪",red_square:"🟥",orange_square:"🟧",yellow_square:"🟨",green_square:"🟩",blue_square:"🟦",purple_square:"🟪",brown_square:"🟫",black_large_square:"⬛",white_large_square:"⬜",black_medium_square:"◼️",white_medium_square:"◻️",black_medium_small_square:"◾",white_medium_small_square:"◽",black_small_square:"▪️",white_small_square:"▫️",large_orange_diamond:"🔶",large_blue_diamond:"🔷",small_orange_diamond:"🔸",small_blue_diamond:"🔹",small_red_triangle:"🔺",small_red_triangle_down:"🔻",diamond_shape_with_a_dot_inside:"💠",radio_button:"🔘",white_square_button:"🔳",black_square_button:"🔲",checkered_flag:"🏁",triangular_flag_on_post:"🚩",crossed_flags:"🎌",black_flag:"🏴",white_flag:"🏳️",rainbow_flag:"🏳️‍🌈",transgender_flag:"🏳️‍⚧️",pirate_flag:"🏴‍☠️",ascension_island:"🇦🇨",andorra:"🇦🇩",united_arab_emirates:"🇦🇪",afghanistan:"🇦🇫",antigua_barbuda:"🇦🇬",anguilla:"🇦🇮",albania:"🇦🇱",armenia:"🇦🇲",angola:"🇦🇴",antarctica:"🇦🇶",argentina:"🇦🇷",american_samoa:"🇦🇸",austria:"🇦🇹",australia:"🇦🇺",aruba:"🇦🇼",aland_islands:"🇦🇽",azerbaijan:"🇦🇿",bosnia_herzegovina:"🇧🇦",barbados:"🇧🇧",bangladesh:"🇧🇩",belgium:"🇧🇪",burkina_faso:"🇧🇫",bulgaria:"🇧🇬",bahrain:"🇧🇭",burundi:"🇧🇮",benin:"🇧🇯",st_barthelemy:"🇧🇱",bermuda:"🇧🇲",brunei:"🇧🇳",bolivia:"🇧🇴",caribbean_netherlands:"🇧🇶",brazil:"🇧🇷",bahamas:"🇧🇸",bhutan:"🇧🇹",bouvet_island:"🇧🇻",botswana:"🇧🇼",belarus:"🇧🇾",belize:"🇧🇿",canada:"🇨🇦",cocos_islands:"🇨🇨",congo_kinshasa:"🇨🇩",central_african_republic:"🇨🇫",congo_brazzaville:"🇨🇬",switzerland:"🇨🇭",cote_divoire:"🇨🇮",cook_islands:"🇨🇰",chile:"🇨🇱",cameroon:"🇨🇲",cn:"🇨🇳",colombia:"🇨🇴",clipperton_island:"🇨🇵",costa_rica:"🇨🇷",cuba:"🇨🇺",cape_verde:"🇨🇻",curacao:"🇨🇼",christmas_island:"🇨🇽",cyprus:"🇨🇾",czech_republic:"🇨🇿",de:"🇩🇪",diego_garcia:"🇩🇬",djibouti:"🇩🇯",denmark:"🇩🇰",dominica:"🇩🇲",dominican_republic:"🇩🇴",algeria:"🇩🇿",ceuta_melilla:"🇪🇦",ecuador:"🇪🇨",estonia:"🇪🇪",egypt:"🇪🇬",western_sahara:"🇪🇭",eritrea:"🇪🇷",es:"🇪🇸",ethiopia:"🇪🇹",eu:"🇪🇺",european_union:"🇪🇺",finland:"🇫🇮",fiji:"🇫🇯",falkland_islands:"🇫🇰",micronesia:"🇫🇲",faroe_islands:"🇫🇴",fr:"🇫🇷",gabon:"🇬🇦",gb:"🇬🇧",uk:"🇬🇧",grenada:"🇬🇩",georgia:"🇬🇪",french_guiana:"🇬🇫",guernsey:"🇬🇬",ghana:"🇬🇭",gibraltar:"🇬🇮",greenland:"🇬🇱",gambia:"🇬🇲",guinea:"🇬🇳",guadeloupe:"🇬🇵",equatorial_guinea:"🇬🇶",greece:"🇬🇷",south_georgia_south_sandwich_islands:"🇬🇸",guatemala:"🇬🇹",guam:"🇬🇺",guinea_bissau:"🇬🇼",guyana:"🇬🇾",hong_kong:"🇭🇰",heard_mcdonald_islands:"🇭🇲",honduras:"🇭🇳",croatia:"🇭🇷",haiti:"🇭🇹",hungary:"🇭🇺",canary_islands:"🇮🇨",indonesia:"🇮🇩",ireland:"🇮🇪",israel:"🇮🇱",isle_of_man:"🇮🇲",india:"🇮🇳",british_indian_ocean_territory:"🇮🇴",iraq:"🇮🇶",iran:"🇮🇷",iceland:"🇮🇸",it:"🇮🇹",jersey:"🇯🇪",jamaica:"🇯🇲",jordan:"🇯🇴",jp:"🇯🇵",kenya:"🇰🇪",kyrgyzstan:"🇰🇬",cambodia:"🇰🇭",kiribati:"🇰🇮",comoros:"🇰🇲",st_kitts_nevis:"🇰🇳",north_korea:"🇰🇵",kr:"🇰🇷",kuwait:"🇰🇼",cayman_islands:"🇰🇾",kazakhstan:"🇰🇿",laos:"🇱🇦",lebanon:"🇱🇧",st_lucia:"🇱🇨",liechtenstein:"🇱🇮",sri_lanka:"🇱🇰",liberia:"🇱🇷",lesotho:"🇱🇸",lithuania:"🇱🇹",luxembourg:"🇱🇺",latvia:"🇱🇻",libya:"🇱🇾",morocco:"🇲🇦",monaco:"🇲🇨",moldova:"🇲🇩",montenegro:"🇲🇪",st_martin:"🇲🇫",madagascar:"🇲🇬",marshall_islands:"🇲🇭",macedonia:"🇲🇰",mali:"🇲🇱",myanmar:"🇲🇲",mongolia:"🇲🇳",macau:"🇲🇴",northern_mariana_islands:"🇲🇵",martinique:"🇲🇶",mauritania:"🇲🇷",montserrat:"🇲🇸",malta:"🇲🇹",mauritius:"🇲🇺",maldives:"🇲🇻",malawi:"🇲🇼",mexico:"🇲🇽",malaysia:"🇲🇾",mozambique:"🇲🇿",namibia:"🇳🇦",new_caledonia:"🇳🇨",niger:"🇳🇪",norfolk_island:"🇳🇫",nigeria:"🇳🇬",nicaragua:"🇳🇮",netherlands:"🇳🇱",norway:"🇳🇴",nepal:"🇳🇵",nauru:"🇳🇷",niue:"🇳🇺",new_zealand:"🇳🇿",oman:"🇴🇲",panama:"🇵🇦",peru:"🇵🇪",french_polynesia:"🇵🇫",papua_new_guinea:"🇵🇬",philippines:"🇵🇭",pakistan:"🇵🇰",poland:"🇵🇱",st_pierre_miquelon:"🇵🇲",pitcairn_islands:"🇵🇳",puerto_rico:"🇵🇷",palestinian_territories:"🇵🇸",portugal:"🇵🇹",palau:"🇵🇼",paraguay:"🇵🇾",qatar:"🇶🇦",reunion:"🇷🇪",romania:"🇷🇴",serbia:"🇷🇸",ru:"🇷🇺",rwanda:"🇷🇼",saudi_arabia:"🇸🇦",solomon_islands:"🇸🇧",seychelles:"🇸🇨",sudan:"🇸🇩",sweden:"🇸🇪",singapore:"🇸🇬",st_helena:"🇸🇭",slovenia:"🇸🇮",svalbard_jan_mayen:"🇸🇯",slovakia:"🇸🇰",sierra_leone:"🇸🇱",san_marino:"🇸🇲",senegal:"🇸🇳",somalia:"🇸🇴",suriname:"🇸🇷",south_sudan:"🇸🇸",sao_tome_principe:"🇸🇹",el_salvador:"🇸🇻",sint_maarten:"🇸🇽",syria:"🇸🇾",swaziland:"🇸🇿",tristan_da_cunha:"🇹🇦",turks_caicos_islands:"🇹🇨",chad:"🇹🇩",french_southern_territories:"🇹🇫",togo:"🇹🇬",thailand:"🇹🇭",tajikistan:"🇹🇯",tokelau:"🇹🇰",timor_leste:"🇹🇱",turkmenistan:"🇹🇲",tunisia:"🇹🇳",tonga:"🇹🇴",tr:"🇹🇷",trinidad_tobago:"🇹🇹",tuvalu:"🇹🇻",taiwan:"🇹🇼",tanzania:"🇹🇿",ukraine:"🇺🇦",uganda:"🇺🇬",us_outlying_islands:"🇺🇲",united_nations:"🇺🇳",us:"🇺🇸",uruguay:"🇺🇾",uzbekistan:"🇺🇿",vatican_city:"🇻🇦",st_vincent_grenadines:"🇻🇨",venezuela:"🇻🇪",british_virgin_islands:"🇻🇬",us_virgin_islands:"🇻🇮",vietnam:"🇻🇳",vanuatu:"🇻🇺",wallis_futuna:"🇼🇫",samoa:"🇼🇸",kosovo:"🇽🇰",yemen:"🇾🇪",mayotte:"🇾🇹",south_africa:"🇿🇦",zambia:"🇿🇲",zimbabwe:"🇿🇼",england:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",scotland:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",wales:"🏴󠁧󠁢󠁷󠁬󠁳󠁿"},Oo=[{name:"Plain Text"},{name:"C"},{name:"C++"},{name:"C#"},{name:"CSS"},{name:"Go"},{name:"HTML"},{name:"Java"},{name:"JavaScript"},{name:"JSON"},{name:"PHP"},{name:"Python"},{name:"Ruby"},{name:"Rust"},{name:"SQL"},{name:"Swift"},{name:"TypeScript"}];function Lo(e){return null!==e&&e<-2}function Po(e){return-2===e||-1===e||32===e}function Bo(e,t,n,i){var o=i?i-1:Number.POSITIVE_INFINITY,a=0;return function(i){return(Po(i)?(e.enter(n),r):t)(i)};function r(i){return Po(i)&&a++<o?(e.consume(i),r):(e.exit(n),t(i))}}var $o={tokenize:function(e,t,n){var i=this,o=i.events[i.events.length-1],a=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],!0).length:0,r=0;return function(t){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),s(t)};function s(t){return 36===t?(e.consume(t),r++,s):(r<2?n:(e.exit("mathFlowFenceSequence"),Bo(e,l,"whitespace")))(t)}function l(t){return(null===t||Lo(t)?d:(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),c))(t)}function c(t){return null===t||Lo(t)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),d(t)):36===t?n(t):(e.consume(t),c)}function d(n){return e.exit("mathFlowFence"),(i.interrupt?t:e.attempt(No,u,f))(n)}function u(t){return e.attempt({tokenize:g,partial:!0},f,p)(t)}function p(t){return(a?Bo(e,h,"linePrefix",a+1):h)(t)}function h(t){return(null===t?f:Lo(t)?e.attempt(No,u,f):(e.enter("mathFlowValue"),m))(t)}function m(t){return null===t||Lo(t)?(e.exit("mathFlowValue"),h(t)):(e.consume(t),m)}function f(n){return e.exit("mathFlow"),t(n)}function g(e,t,n){var o=0;return Bo(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),a(t)},"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function a(t){return 36===t?(o++,e.consume(t),a):(o<r?n:(e.exit("mathFlowFenceSequence"),Bo(e,s,"whitespace")))(t)}function s(i){return(null===i||Lo(i)?(e.exit("mathFlowFence"),t):n)(i)}}},concrete:!0,name:"mathFlow"},No={tokenize:function(e,t,n){var i=this;return function(n){return null===n?t(n):(e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),o)};function o(e){return(i.parser.lazy[i.now().line]?n:t)(e)}},partial:!0};function zo(){var e={}.singleDollarTextMath;return null==e&&(e=!0),{tokenize:function(t,n,i){var o,a,r=0;return function(e){return t.enter("mathText"),t.enter("mathTextSequence"),s(e)};function s(n){return 36===n?(t.consume(n),r++,s):(r<2&&!e?i:(t.exit("mathTextSequence"),l))(n)}function l(e){return null===e?i(e):36===e?(a=t.enter("mathTextSequence"),o=0,d(e)):32===e?(t.enter("space"),t.consume(e),t.exit("space"),l):Lo(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),l):(t.enter("mathTextData"),c(e))}function c(e){return null===e||32===e||36===e||Lo(e)?(t.exit("mathTextData"),l(e)):(t.consume(e),c)}function d(e){return 36===e?(t.consume(e),o++,d):(o===r?(t.exit("mathTextSequence"),t.exit("mathText"),n):(a.type="mathTextData",c))(e)}},resolve:jo,previous:Ro,name:"mathText"}}function jo(e){var t,n,i=e.length-4,o=3;if(!("lineEnding"!==e[o][1].type&&"space"!==e[o][1].type||"lineEnding"!==e[i][1].type&&"space"!==e[i][1].type))for(t=o;++t<i;)if("mathTextData"===e[t][1].type){e[i][1].type="mathTextPadding",e[o][1].type="mathTextPadding",o+=2,i-=2;break}for(t=o-1,i++;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):t!==i&&"lineEnding"!==e[t][1].type||(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e}function Ro(e){return 36!==e||"characterEscape"===this.events[this.events.length-1][1].type}var Go=function(){function e(t,n,o){i(this,e),this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=o}return a(e,null,[{key:"range",value:function(t,n){return n?t&&t.loc&&n.loc&&t.loc.lexer===n.loc.lexer?new e(t.loc.lexer,t.loc.start,n.loc.end):null:t&&t.loc}}])}(),Ho=function(){function e(t,n){i(this,e),this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}return a(e,[{key:"range",value:function(t,n){return new e(n,Go.range(this,t))}}])}(),Wo=a(function e(t,n){i(this,e),this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var o,a,r,s="KaTeX parse error: "+t;return((n=n&&n.loc)&&n.start<=n.end&&(o=n.lexer.input,a=n.start,r=n.end,a===o.length?s+=" at end of input: ":s+=" at position "+(a+1)+": ",n=o.slice(a,r).replace(/[^]/g,"$&̲"),s+=(15<a?"…"+o.slice(a-15,a):o.slice(0,a))+n+(r+15<o.length?o.slice(r,r+15)+"…":o.slice(r))),n=new Error(s)).name="ParseError",n.__proto__=e.prototype,null!=(n.position=a)&&null!=r&&(n.length=r-a),n.rawMessage=t,n}),Uo=(Wo.prototype.__proto__=Error.prototype,/([A-Z])/g),qo={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Vo=/[&><"']/g;function Yo(e){return"ordgroup"===e.type||"color"===e.type?1===e.body.length?Yo(e.body[0]):e:"font"===e.type?Yo(e.body):e}var Xo={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(Vo,function(e){return qo[e]})},hyphenate:function(e){return e.replace(Uo,"-$1").toLowerCase()},getBaseElem:Yo,isCharacterBox:function(e){return"mathord"===(e=Yo(e)).type||"textord"===e.type||"atom"===e.type},protocolFromUrl:function(e){return(e=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e))?":"===e[2]&&/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(e[1])?e[1].toLowerCase():null:"_relative"}},Jo=[new(ct=a(function e(t,n,o){i(this,e),this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=o},[{key:"sup",value:function(){return Jo[Ko[this.id]]}},{key:"sub",value:function(){return Jo[Zo[this.id]]}},{key:"fracNum",value:function(){return Jo[Qo[this.id]]}},{key:"fracDen",value:function(){return Jo[ea[this.id]]}},{key:"cramp",value:function(){return Jo[ta[this.id]]}},{key:"text",value:function(){return Jo[na[this.id]]}},{key:"isTight",value:function(){return 2<=this.size}}]))(0,0,!1),new ct(1,0,!0),new ct(2,1,!1),new ct(3,1,!0),new ct(4,2,!1),new ct(5,2,!0),new ct(6,3,!1),new ct(7,3,!0)],Ko=[4,5,4,5,6,7,6,7],Zo=[5,5,5,5,7,7,7,7],Qo=[2,3,4,5,6,7,6,7],ea=[3,3,5,5,7,7,7,7],ta=[1,1,3,3,5,5,7,7],na=[0,1,2,3,2,3,2,3],ia={DISPLAY:Jo[0],TEXT:Jo[2],SCRIPT:Jo[4],SCRIPTSCRIPT:Jo[6]},oa=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],aa=[];function ra(e){for(var t=0;t<aa.length;t+=2)if(e>=aa[t]&&e<=aa[t+1])return 1}oa.forEach(function(e){return e.blocks.forEach(function(e){return aa.push.apply(aa,u(e))})});var sa=function(e,t,n){t*=1e3;var i="";switch(e){case"sqrtMain":i=function(e,t){return"M95,"+(622+e+t)+"\n    c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\n    c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\n    c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\n    s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\n    c69,-144,104.5,-217.7,106.5,-221\n    l"+e/2.075+" -"+e+"\n    c5.3,-9.3,12,-14,20,-14\n    H400000v"+(40+e)+"H845.2724\n    s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\n    c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\n    M"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,80);break;case"sqrtSize1":i=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\n    c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\n    c340,-704.7,510.7,-1060.3,512,-1067\n    l"+e/2.084+" -"+e+"\n    c4.7,-7.3,11,-11,19,-11\n    H40000v"+(40+e)+"H1012.3\n    s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\n    c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\n    s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\n    c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\n    M"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,80);break;case"sqrtSize2":i=function(e,t){return"M983 "+(10+e+t)+"\n    l"+e/3.13+" -"+e+"\n    c4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\n    H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\n    s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\n    c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\n    c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\n    c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\n    c53.7,-170.3,84.5,-266.8,92.5,-289.5z\n    M"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,80);break;case"sqrtSize3":i=function(e,t){return"M424,"+(2398+e+t)+"\n    c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\n    c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\n    s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\n    s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\n    l"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\n    v"+(40+e)+"H1014.6\n    s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\n    c-2,6,-10,9,-24,9\n    c-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\n    h400000v"+(40+e)+"h-400000z"}(t,80);break;case"sqrtSize4":i=function(e,t){return"M473,"+(2713+e+t)+"\n    c339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\n    c3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\n    s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\n    c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\n    c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\n    s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n    606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"}(t,80);break;case"sqrtTall":i=function(e,t,n){return"M702 "+(e+t)+"H400000"+(40+e)+"\n    H742v"+(n-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\n    h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\n    c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n    219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"}(t,80,n)}return i},la={doubleleftarrow:"M262 157\n    l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n     0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n     14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\n    c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n     157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n    -86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n    -2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\n    m8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n    -10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n     14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n    -33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n    -17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n    -13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\n    c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n    -107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n     135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n    -5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\n    c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n     490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n     1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n     l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n    -45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n     5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n     35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n     0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n    -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\n    H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n     435 0h399565z",leftgroupunder:"M400000 262\n    H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n     435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n    -3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n    -18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n    -196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n     20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n    -4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n    -10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\n    m0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n     5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n     1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n    -152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n     10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n    -2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\n    v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n    -83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n    -68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n     71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\n    M40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\n    M40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n    -.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\n    c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n     68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\n    M0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\n    c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n    -53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n     311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n     12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\n    c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n     53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n     11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n    -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n    -320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\n    m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n    60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n    -451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\n    m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\n    c0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n    -480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\n    m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n    85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n    -707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\n    m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\n    c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n    -16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n     11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n     39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n    -40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n    -12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n     151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n    -6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\n    s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\n    c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n     28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n    -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n     3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n     0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n    -3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n    -10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n     69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n    -18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n     2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\n    m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n     8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n    -7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n    -27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n     15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n     8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n    -64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\n    m0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n     15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n    -13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n     66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\n    M399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n     1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n    -52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n    -167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n     115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n    -70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n    -40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n    -37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n     10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\n    c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n     41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n     18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n    -19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n     101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n    -2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n     114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n     4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n    -68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n    -8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n     31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\n    c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n     181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n    -11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n     411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n     16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n     -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n    -11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n     177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n     14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n     -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n    3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n    10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n    -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n    -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\n    H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\n    c-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\n    c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n    -11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n    -11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n    -11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n    -5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n    -11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n    -11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n    -11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\n    c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\n    c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\n    s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n    121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\n    s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\n    c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\n    M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n    -27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n    13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n    -84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n    -119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n    -12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n    151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\n    c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\n    c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\n    c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\n    c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\n    M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\n    c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n    -231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\n    c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\n    M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\n    c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n    1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n    -152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\n    M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\n    c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n    -231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\n    c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\n    M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},ca=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v1759 h347 v-84\n    H403z M403 1759 V0 H319 V1759 v"+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v1759 H0 v84 H347z\n    M347 1759 V0 H263 V1759 v"+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\n    c10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\n    c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\n    c10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\n    c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z\n    M367 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\n    c10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\n    c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+" v1715 h263 v84 H319z\n    MM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+" v1799 H0 v-84 H319z\n    MM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v602 h84z\n    M403 1759 V0 H319 V1759 v"+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v602 h84z\n    M347 1759 V0 h-84 V1759 v"+t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\n    c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n    -36,557 l0,"+(t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n    949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\n    c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n    -544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\n    l0,-"+(t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n    -210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n    63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\n    c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(t+9)+"\n    c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\n    c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\n    c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\n    c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\n    l0,-"+(t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n    -470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}},da=a(function e(t){i(this,e),this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}},[{key:"hasClass",value:function(e){return Xo.contains(this.classes,e)}},{key:"toNode",value:function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}},{key:"toMarkup",value:function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}},{key:"toText",value:function(){return this.children.map(function(e){return e.toText()}).join("")}}]),ua={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},pa={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},ha={"Å":"A","Ð":"D","Þ":"o","å":"a","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function ma(e,t,n){if(!ua[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0),o=ua[t][i];if(!o&&e[0]in ha&&(i=ha[e[0]].charCodeAt(0),o=ua[t][i]),o=!o&&"text"===n&&ra(i)?ua[t][77]:o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var fa={};function ga(e,t){return t.size<2?e:ka[e-1][t.size-1]}function va(e){return(e="string"!=typeof e?e.unit:e)in Ca||e in Ta||"ex"===e}function ba(e,t){var n;if(e.unit in Ca)n=Ca[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var i=t.style.isTight()?t.havingStyle(t.style.text()):t;if("ex"===e.unit)n=i.fontMetrics().xHeight;else{if("em"!==e.unit)throw new Wo("Invalid unit: '"+e.unit+"'");n=i.fontMetrics().quad}i!==t&&(n*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)}function ya(e,t,n){this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t&&(t.style.isTight()&&this.classes.push("mtight"),e=t.getColor())&&(this.style.color=e)}function xa(e){var t,n,i=document.createElement(e);for(t in i.className=Ma(this.classes),this.style)this.style.hasOwnProperty(t)&&(i.style[t]=this.style[t]);for(n in this.attributes)this.attributes.hasOwnProperty(n)&&i.setAttribute(n,this.attributes[n]);for(var o=0;o<this.children.length;o++)i.appendChild(this.children[o].toNode());return i}function wa(e){var t,n,i="<"+e,o=(this.classes.length&&(i+=' class="'+Xo.escape(Ma(this.classes))+'"'),"");for(t in this.style)this.style.hasOwnProperty(t)&&(o+=Xo.hyphenate(t)+":"+this.style[t]+";");for(n in o&&(i+=' style="'+Xo.escape(o)+'"'),this.attributes)this.attributes.hasOwnProperty(n)&&(i+=" "+n+'="'+Xo.escape(this.attributes[n])+'"');i+=">";for(var a=0;a<this.children.length;a++)i+=this.children[a].toMarkup();return i+"</"+e+">"}var ka=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],_a=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ca=((function(){function e(t){i(this,e),this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=_a[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}return a(e,[{key:"extend",value:function(t){var n,i={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return new e(i)}},{key:"havingStyle",value:function(e){return this.style===e?this:this.extend({style:e,size:ga(this.textSize,e)})}},{key:"havingCrampedStyle",value:function(){return this.havingStyle(this.style.cramp())}},{key:"havingSize",value:function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:_a[e-1]})}},{key:"havingBaseStyle",value:function(t){t=t||this.style.text();var n=ga(e.BASESIZE,t);return this.size===n&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}},{key:"havingBaseSizing",value:function(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}},{key:"withColor",value:function(e){return this.extend({color:e})}},{key:"withPhantom",value:function(){return this.extend({phantom:!0})}},{key:"withFont",value:function(e){return this.extend({font:e})}},{key:"withTextFontFamily",value:function(e){return this.extend({fontFamily:e,font:""})}},{key:"withTextFontWeight",value:function(e){return this.extend({fontWeight:e,font:""})}},{key:"withTextFontShape",value:function(e){return this.extend({fontShape:e,font:""})}},{key:"sizingClasses",value:function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}},{key:"baseSizingClasses",value:function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]}},{key:"fontMetrics",value:function(){return this._fontMetrics||(this._fontMetrics=function(e){var t=5<=e?0:3<=e?1:2;if(!fa[t]){var n,i=fa[t]={cssEmPerMu:pa.quad[t]/18};for(n in pa)pa.hasOwnProperty(n)&&(i[n]=pa[n][t])}return fa[t]}(this.size)),this._fontMetrics}},{key:"getColor",value:function(){return this.phantom?"transparent":this.color}}])}()).BASESIZE=6,{pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375}),Ta={ex:!0,em:!0,mu:!0},Sa=function(e){return+e.toFixed(4)+"em"},Ma=function(e){return e.filter(function(e){return e}).join(" ")},Da=a(function e(t,n,o,a){i(this,e),this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ya.call(this,t,o,a),this.children=n||[]},[{key:"setAttribute",value:function(e,t){this.attributes[e]=t}},{key:"hasClass",value:function(e){return Xo.contains(this.classes,e)}},{key:"toNode",value:function(){return xa.call(this,"span")}},{key:"toMarkup",value:function(){return wa.call(this,"span")}}]),Ea=a(function e(t,n,o,a){i(this,e),this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ya.call(this,n,a),this.children=o||[],this.setAttribute("href",t)},[{key:"setAttribute",value:function(e,t){this.attributes[e]=t}},{key:"hasClass",value:function(e){return Xo.contains(this.classes,e)}},{key:"toNode",value:function(){return xa.call(this,"a")}},{key:"toMarkup",value:function(){return wa.call(this,"a")}}]),Aa=a(function e(t,n,o){i(this,e),this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=o},[{key:"hasClass",value:function(e){return Xo.contains(this.classes,e)}},{key:"toNode",value:function(){var e,t=document.createElement("img");for(e in t.src=this.src,t.alt=this.alt,t.className="mord",this.style)this.style.hasOwnProperty(e)&&(t.style[e]=this.style[e]);return t}},{key:"toMarkup",value:function(){var e,t='<img src="'+Xo.escape(this.src)+'" alt="'+Xo.escape(this.alt)+'"',n="";for(e in this.style)this.style.hasOwnProperty(e)&&(n+=Xo.hyphenate(e)+":"+this.style[e]+";");return n&&(t+=' style="'+Xo.escape(n)+'"'),t+"'/>"}}]),Fa={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"},Ia=a(function e(t,n,o,a,r,s,l,c){i(this,e),this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=o||0,this.italic=a||0,this.skew=r||0,this.width=s||0,this.classes=l||[],this.style=c||{},this.maxFontSize=0,(t=function(e){for(var t=0;t<oa.length;t++)for(var n=oa[t],i=0;i<n.blocks.length;i++){var o=n.blocks[i];if(e>=o[0]&&e<=o[1])return n.name}return null}(this.text.charCodeAt(0)))&&this.classes.push(t+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Fa[this.text])},[{key:"hasClass",value:function(e){return Xo.contains(this.classes,e)}},{key:"toNode",value:function(){var e,t=document.createTextNode(this.text),n=null;for(e in 0<this.italic&&((n=document.createElement("span")).style.marginRight=Sa(this.italic)),0<this.classes.length&&((n=n||document.createElement("span")).className=Ma(this.classes)),this.style)this.style.hasOwnProperty(e)&&((n=n||document.createElement("span")).style[e]=this.style[e]);return n?(n.appendChild(t),n):t}},{key:"toMarkup",value:function(){var e,t=!1,n="<span",i=(this.classes.length&&(t=!0,n=(n+=' class="')+Xo.escape(Ma(this.classes))+'"'),"");for(e in 0<this.italic&&(i+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(e)&&(i+=Xo.hyphenate(e)+":"+this.style[e]+";");i&&(t=!0,n+=' style="'+Xo.escape(i)+'"');var o=Xo.escape(this.text);return t?n=(n+=">")+o+"</span>":o}}]),Oa=a(function e(t,n){i(this,e),this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}},[{key:"toNode",value:function(){var e,t=document.createElementNS("http://www.w3.org/2000/svg","svg");for(e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}},{key:"toMarkup",value:function(){var e,t='<svg xmlns="http://www.w3.org/2000/svg"';for(e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="'+Xo.escape(this.attributes[e])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+"</svg>"}}]),La=a(function e(t,n){i(this,e),this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n},[{key:"toNode",value:function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",la[this.pathName]),e}},{key:"toMarkup",value:function(){return this.alternate?'<path d="'+Xo.escape(this.alternate)+'"/>':'<path d="'+Xo.escape(la[this.pathName])+'"/>'}}]),Pa=a(function e(t){i(this,e),this.attributes=void 0,this.attributes=t||{}},[{key:"toNode",value:function(){var e,t=document.createElementNS("http://www.w3.org/2000/svg","line");for(e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);return t}},{key:"toMarkup",value:function(){var e,t="<line";for(e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="'+Xo.escape(this.attributes[e])+'"');return t+"/>"}}]);function Ba(e){if(e instanceof Ia)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var $a={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Na={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},za={math:{},text:{}};function ja(e,t,n,i,o,a){za[e][o]={font:t,group:n,replace:i},a&&i&&(za[e][i]=za[e][o])}for(var Ra="math",Ga="text",Ha="main",Wa=(pt="ams",Mt="accent-token",Ve="bin",kt="close",xt="inner","mathord"),Ua=(Ue="op-token",L="open",ft="punct",lt="spacing","textord"),qa=(ja(Ra,Ha,wt="rel","≡","\\equiv",!0),ja(Ra,Ha,wt,"≺","\\prec",!0),ja(Ra,Ha,wt,"≻","\\succ",!0),ja(Ra,Ha,wt,"∼","\\sim",!0),ja(Ra,Ha,wt,"⊥","\\perp"),ja(Ra,Ha,wt,"⪯","\\preceq",!0),ja(Ra,Ha,wt,"⪰","\\succeq",!0),ja(Ra,Ha,wt,"≃","\\simeq",!0),ja(Ra,Ha,wt,"∣","\\mid",!0),ja(Ra,Ha,wt,"≪","\\ll",!0),ja(Ra,Ha,wt,"≫","\\gg",!0),ja(Ra,Ha,wt,"≍","\\asymp",!0),ja(Ra,Ha,wt,"∥","\\parallel"),ja(Ra,Ha,wt,"⋈","\\bowtie",!0),ja(Ra,Ha,wt,"⌣","\\smile",!0),ja(Ra,Ha,wt,"⊑","\\sqsubseteq",!0),ja(Ra,Ha,wt,"⊒","\\sqsupseteq",!0),ja(Ra,Ha,wt,"≐","\\doteq",!0),ja(Ra,Ha,wt,"⌢","\\frown",!0),ja(Ra,Ha,wt,"∋","\\ni",!0),ja(Ra,Ha,wt,"∝","\\propto",!0),ja(Ra,Ha,wt,"⊢","\\vdash",!0),ja(Ra,Ha,wt,"⊣","\\dashv",!0),ja(Ra,Ha,wt,"∋","\\owns"),ja(Ra,Ha,ft,".","\\ldotp"),ja(Ra,Ha,ft,"⋅","\\cdotp"),ja(Ra,Ha,Ua,"#","\\#"),ja(Ga,Ha,Ua,"#","\\#"),ja(Ra,Ha,Ua,"&","\\&"),ja(Ga,Ha,Ua,"&","\\&"),ja(Ra,Ha,Ua,"ℵ","\\aleph",!0),ja(Ra,Ha,Ua,"∀","\\forall",!0),ja(Ra,Ha,Ua,"ℏ","\\hbar",!0),ja(Ra,Ha,Ua,"∃","\\exists",!0),ja(Ra,Ha,Ua,"∇","\\nabla",!0),ja(Ra,Ha,Ua,"♭","\\flat",!0),ja(Ra,Ha,Ua,"ℓ","\\ell",!0),ja(Ra,Ha,Ua,"♮","\\natural",!0),ja(Ra,Ha,Ua,"♣","\\clubsuit",!0),ja(Ra,Ha,Ua,"℘","\\wp",!0),ja(Ra,Ha,Ua,"♯","\\sharp",!0),ja(Ra,Ha,Ua,"♢","\\diamondsuit",!0),ja(Ra,Ha,Ua,"ℜ","\\Re",!0),ja(Ra,Ha,Ua,"♡","\\heartsuit",!0),ja(Ra,Ha,Ua,"ℑ","\\Im",!0),ja(Ra,Ha,Ua,"♠","\\spadesuit",!0),ja(Ra,Ha,Ua,"§","\\S",!0),ja(Ga,Ha,Ua,"§","\\S"),ja(Ra,Ha,Ua,"¶","\\P",!0),ja(Ga,Ha,Ua,"¶","\\P"),ja(Ra,Ha,Ua,"†","\\dag"),ja(Ga,Ha,Ua,"†","\\dag"),ja(Ga,Ha,Ua,"†","\\textdagger"),ja(Ra,Ha,Ua,"‡","\\ddag"),ja(Ga,Ha,Ua,"‡","\\ddag"),ja(Ga,Ha,Ua,"‡","\\textdaggerdbl"),ja(Ra,Ha,kt,"⎱","\\rmoustache",!0),ja(Ra,Ha,L,"⎰","\\lmoustache",!0),ja(Ra,Ha,kt,"⟯","\\rgroup",!0),ja(Ra,Ha,L,"⟮","\\lgroup",!0),ja(Ra,Ha,Ve,"∓","\\mp",!0),ja(Ra,Ha,Ve,"⊖","\\ominus",!0),ja(Ra,Ha,Ve,"⊎","\\uplus",!0),ja(Ra,Ha,Ve,"⊓","\\sqcap",!0),ja(Ra,Ha,Ve,"∗","\\ast"),ja(Ra,Ha,Ve,"⊔","\\sqcup",!0),ja(Ra,Ha,Ve,"◯","\\bigcirc",!0),ja(Ra,Ha,Ve,"∙","\\bullet",!0),ja(Ra,Ha,Ve,"‡","\\ddagger"),ja(Ra,Ha,Ve,"≀","\\wr",!0),ja(Ra,Ha,Ve,"⨿","\\amalg"),ja(Ra,Ha,Ve,"&","\\And"),ja(Ra,Ha,wt,"⟵","\\longleftarrow",!0),ja(Ra,Ha,wt,"⇐","\\Leftarrow",!0),ja(Ra,Ha,wt,"⟸","\\Longleftarrow",!0),ja(Ra,Ha,wt,"⟶","\\longrightarrow",!0),ja(Ra,Ha,wt,"⇒","\\Rightarrow",!0),ja(Ra,Ha,wt,"⟹","\\Longrightarrow",!0),ja(Ra,Ha,wt,"↔","\\leftrightarrow",!0),ja(Ra,Ha,wt,"⟷","\\longleftrightarrow",!0),ja(Ra,Ha,wt,"⇔","\\Leftrightarrow",!0),ja(Ra,Ha,wt,"⟺","\\Longleftrightarrow",!0),ja(Ra,Ha,wt,"↦","\\mapsto",!0),ja(Ra,Ha,wt,"⟼","\\longmapsto",!0),ja(Ra,Ha,wt,"↗","\\nearrow",!0),ja(Ra,Ha,wt,"↩","\\hookleftarrow",!0),ja(Ra,Ha,wt,"↪","\\hookrightarrow",!0),ja(Ra,Ha,wt,"↘","\\searrow",!0),ja(Ra,Ha,wt,"↼","\\leftharpoonup",!0),ja(Ra,Ha,wt,"⇀","\\rightharpoonup",!0),ja(Ra,Ha,wt,"↙","\\swarrow",!0),ja(Ra,Ha,wt,"↽","\\leftharpoondown",!0),ja(Ra,Ha,wt,"⇁","\\rightharpoondown",!0),ja(Ra,Ha,wt,"↖","\\nwarrow",!0),ja(Ra,Ha,wt,"⇌","\\rightleftharpoons",!0),ja(Ra,pt,wt,"≮","\\nless",!0),ja(Ra,pt,wt,"","\\@nleqslant"),ja(Ra,pt,wt,"","\\@nleqq"),ja(Ra,pt,wt,"⪇","\\lneq",!0),ja(Ra,pt,wt,"≨","\\lneqq",!0),ja(Ra,pt,wt,"","\\@lvertneqq"),ja(Ra,pt,wt,"⋦","\\lnsim",!0),ja(Ra,pt,wt,"⪉","\\lnapprox",!0),ja(Ra,pt,wt,"⊀","\\nprec",!0),ja(Ra,pt,wt,"⋠","\\npreceq",!0),ja(Ra,pt,wt,"⋨","\\precnsim",!0),ja(Ra,pt,wt,"⪹","\\precnapprox",!0),ja(Ra,pt,wt,"≁","\\nsim",!0),ja(Ra,pt,wt,"","\\@nshortmid"),ja(Ra,pt,wt,"∤","\\nmid",!0),ja(Ra,pt,wt,"⊬","\\nvdash",!0),ja(Ra,pt,wt,"⊭","\\nvDash",!0),ja(Ra,pt,wt,"⋪","\\ntriangleleft"),ja(Ra,pt,wt,"⋬","\\ntrianglelefteq",!0),ja(Ra,pt,wt,"⊊","\\subsetneq",!0),ja(Ra,pt,wt,"","\\@varsubsetneq"),ja(Ra,pt,wt,"⫋","\\subsetneqq",!0),ja(Ra,pt,wt,"","\\@varsubsetneqq"),ja(Ra,pt,wt,"≯","\\ngtr",!0),ja(Ra,pt,wt,"","\\@ngeqslant"),ja(Ra,pt,wt,"","\\@ngeqq"),ja(Ra,pt,wt,"⪈","\\gneq",!0),ja(Ra,pt,wt,"≩","\\gneqq",!0),ja(Ra,pt,wt,"","\\@gvertneqq"),ja(Ra,pt,wt,"⋧","\\gnsim",!0),ja(Ra,pt,wt,"⪊","\\gnapprox",!0),ja(Ra,pt,wt,"⊁","\\nsucc",!0),ja(Ra,pt,wt,"⋡","\\nsucceq",!0),ja(Ra,pt,wt,"⋩","\\succnsim",!0),ja(Ra,pt,wt,"⪺","\\succnapprox",!0),ja(Ra,pt,wt,"≆","\\ncong",!0),ja(Ra,pt,wt,"","\\@nshortparallel"),ja(Ra,pt,wt,"∦","\\nparallel",!0),ja(Ra,pt,wt,"⊯","\\nVDash",!0),ja(Ra,pt,wt,"⋫","\\ntriangleright"),ja(Ra,pt,wt,"⋭","\\ntrianglerighteq",!0),ja(Ra,pt,wt,"","\\@nsupseteqq"),ja(Ra,pt,wt,"⊋","\\supsetneq",!0),ja(Ra,pt,wt,"","\\@varsupsetneq"),ja(Ra,pt,wt,"⫌","\\supsetneqq",!0),ja(Ra,pt,wt,"","\\@varsupsetneqq"),ja(Ra,pt,wt,"⊮","\\nVdash",!0),ja(Ra,pt,wt,"⪵","\\precneqq",!0),ja(Ra,pt,wt,"⪶","\\succneqq",!0),ja(Ra,pt,wt,"","\\@nsubseteqq"),ja(Ra,pt,Ve,"⊴","\\unlhd"),ja(Ra,pt,Ve,"⊵","\\unrhd"),ja(Ra,pt,wt,"↚","\\nleftarrow",!0),ja(Ra,pt,wt,"↛","\\nrightarrow",!0),ja(Ra,pt,wt,"⇍","\\nLeftarrow",!0),ja(Ra,pt,wt,"⇏","\\nRightarrow",!0),ja(Ra,pt,wt,"↮","\\nleftrightarrow",!0),ja(Ra,pt,wt,"⇎","\\nLeftrightarrow",!0),ja(Ra,pt,wt,"△","\\vartriangle"),ja(Ra,pt,Ua,"ℏ","\\hslash"),ja(Ra,pt,Ua,"▽","\\triangledown"),ja(Ra,pt,Ua,"◊","\\lozenge"),ja(Ra,pt,Ua,"Ⓢ","\\circledS"),ja(Ra,pt,Ua,"®","\\circledR"),ja(Ga,pt,Ua,"®","\\circledR"),ja(Ra,pt,Ua,"∡","\\measuredangle",!0),ja(Ra,pt,Ua,"∄","\\nexists"),ja(Ra,pt,Ua,"℧","\\mho"),ja(Ra,pt,Ua,"Ⅎ","\\Finv",!0),ja(Ra,pt,Ua,"⅁","\\Game",!0),ja(Ra,pt,Ua,"‵","\\backprime"),ja(Ra,pt,Ua,"▲","\\blacktriangle"),ja(Ra,pt,Ua,"▼","\\blacktriangledown"),ja(Ra,pt,Ua,"■","\\blacksquare"),ja(Ra,pt,Ua,"⧫","\\blacklozenge"),ja(Ra,pt,Ua,"★","\\bigstar"),ja(Ra,pt,Ua,"∢","\\sphericalangle",!0),ja(Ra,pt,Ua,"∁","\\complement",!0),ja(Ra,pt,Ua,"ð","\\eth",!0),ja(Ga,Ha,Ua,"ð","ð"),ja(Ra,pt,Ua,"╱","\\diagup"),ja(Ra,pt,Ua,"╲","\\diagdown"),ja(Ra,pt,Ua,"□","\\square"),ja(Ra,pt,Ua,"□","\\Box"),ja(Ra,pt,Ua,"◊","\\Diamond"),ja(Ra,pt,Ua,"¥","\\yen",!0),ja(Ga,pt,Ua,"¥","\\yen",!0),ja(Ra,pt,Ua,"✓","\\checkmark",!0),ja(Ga,pt,Ua,"✓","\\checkmark"),ja(Ra,pt,Ua,"ℶ","\\beth",!0),ja(Ra,pt,Ua,"ℸ","\\daleth",!0),ja(Ra,pt,Ua,"ℷ","\\gimel",!0),ja(Ra,pt,Ua,"ϝ","\\digamma",!0),ja(Ra,pt,Ua,"ϰ","\\varkappa"),ja(Ra,pt,L,"┌","\\@ulcorner",!0),ja(Ra,pt,kt,"┐","\\@urcorner",!0),ja(Ra,pt,L,"└","\\@llcorner",!0),ja(Ra,pt,kt,"┘","\\@lrcorner",!0),ja(Ra,pt,wt,"≦","\\leqq",!0),ja(Ra,pt,wt,"⩽","\\leqslant",!0),ja(Ra,pt,wt,"⪕","\\eqslantless",!0),ja(Ra,pt,wt,"≲","\\lesssim",!0),ja(Ra,pt,wt,"⪅","\\lessapprox",!0),ja(Ra,pt,wt,"≊","\\approxeq",!0),ja(Ra,pt,Ve,"⋖","\\lessdot"),ja(Ra,pt,wt,"⋘","\\lll",!0),ja(Ra,pt,wt,"≶","\\lessgtr",!0),ja(Ra,pt,wt,"⋚","\\lesseqgtr",!0),ja(Ra,pt,wt,"⪋","\\lesseqqgtr",!0),ja(Ra,pt,wt,"≑","\\doteqdot"),ja(Ra,pt,wt,"≓","\\risingdotseq",!0),ja(Ra,pt,wt,"≒","\\fallingdotseq",!0),ja(Ra,pt,wt,"∽","\\backsim",!0),ja(Ra,pt,wt,"⋍","\\backsimeq",!0),ja(Ra,pt,wt,"⫅","\\subseteqq",!0),ja(Ra,pt,wt,"⋐","\\Subset",!0),ja(Ra,pt,wt,"⊏","\\sqsubset",!0),ja(Ra,pt,wt,"≼","\\preccurlyeq",!0),ja(Ra,pt,wt,"⋞","\\curlyeqprec",!0),ja(Ra,pt,wt,"≾","\\precsim",!0),ja(Ra,pt,wt,"⪷","\\precapprox",!0),ja(Ra,pt,wt,"⊲","\\vartriangleleft"),ja(Ra,pt,wt,"⊴","\\trianglelefteq"),ja(Ra,pt,wt,"⊨","\\vDash",!0),ja(Ra,pt,wt,"⊪","\\Vvdash",!0),ja(Ra,pt,wt,"⌣","\\smallsmile"),ja(Ra,pt,wt,"⌢","\\smallfrown"),ja(Ra,pt,wt,"≏","\\bumpeq",!0),ja(Ra,pt,wt,"≎","\\Bumpeq",!0),ja(Ra,pt,wt,"≧","\\geqq",!0),ja(Ra,pt,wt,"⩾","\\geqslant",!0),ja(Ra,pt,wt,"⪖","\\eqslantgtr",!0),ja(Ra,pt,wt,"≳","\\gtrsim",!0),ja(Ra,pt,wt,"⪆","\\gtrapprox",!0),ja(Ra,pt,Ve,"⋗","\\gtrdot"),ja(Ra,pt,wt,"⋙","\\ggg",!0),ja(Ra,pt,wt,"≷","\\gtrless",!0),ja(Ra,pt,wt,"⋛","\\gtreqless",!0),ja(Ra,pt,wt,"⪌","\\gtreqqless",!0),ja(Ra,pt,wt,"≖","\\eqcirc",!0),ja(Ra,pt,wt,"≗","\\circeq",!0),ja(Ra,pt,wt,"≜","\\triangleq",!0),ja(Ra,pt,wt,"∼","\\thicksim"),ja(Ra,pt,wt,"≈","\\thickapprox"),ja(Ra,pt,wt,"⫆","\\supseteqq",!0),ja(Ra,pt,wt,"⋑","\\Supset",!0),ja(Ra,pt,wt,"⊐","\\sqsupset",!0),ja(Ra,pt,wt,"≽","\\succcurlyeq",!0),ja(Ra,pt,wt,"⋟","\\curlyeqsucc",!0),ja(Ra,pt,wt,"≿","\\succsim",!0),ja(Ra,pt,wt,"⪸","\\succapprox",!0),ja(Ra,pt,wt,"⊳","\\vartriangleright"),ja(Ra,pt,wt,"⊵","\\trianglerighteq"),ja(Ra,pt,wt,"⊩","\\Vdash",!0),ja(Ra,pt,wt,"∣","\\shortmid"),ja(Ra,pt,wt,"∥","\\shortparallel"),ja(Ra,pt,wt,"≬","\\between",!0),ja(Ra,pt,wt,"⋔","\\pitchfork",!0),ja(Ra,pt,wt,"∝","\\varpropto"),ja(Ra,pt,wt,"◀","\\blacktriangleleft"),ja(Ra,pt,wt,"∴","\\therefore",!0),ja(Ra,pt,wt,"∍","\\backepsilon"),ja(Ra,pt,wt,"▶","\\blacktriangleright"),ja(Ra,pt,wt,"∵","\\because",!0),ja(Ra,pt,wt,"⋘","\\llless"),ja(Ra,pt,wt,"⋙","\\gggtr"),ja(Ra,pt,Ve,"⊲","\\lhd"),ja(Ra,pt,Ve,"⊳","\\rhd"),ja(Ra,pt,wt,"≂","\\eqsim",!0),ja(Ra,Ha,wt,"⋈","\\Join"),ja(Ra,pt,wt,"≑","\\Doteq",!0),ja(Ra,pt,Ve,"∔","\\dotplus",!0),ja(Ra,pt,Ve,"∖","\\smallsetminus"),ja(Ra,pt,Ve,"⋒","\\Cap",!0),ja(Ra,pt,Ve,"⋓","\\Cup",!0),ja(Ra,pt,Ve,"⩞","\\doublebarwedge",!0),ja(Ra,pt,Ve,"⊟","\\boxminus",!0),ja(Ra,pt,Ve,"⊞","\\boxplus",!0),ja(Ra,pt,Ve,"⋇","\\divideontimes",!0),ja(Ra,pt,Ve,"⋉","\\ltimes",!0),ja(Ra,pt,Ve,"⋊","\\rtimes",!0),ja(Ra,pt,Ve,"⋋","\\leftthreetimes",!0),ja(Ra,pt,Ve,"⋌","\\rightthreetimes",!0),ja(Ra,pt,Ve,"⋏","\\curlywedge",!0),ja(Ra,pt,Ve,"⋎","\\curlyvee",!0),ja(Ra,pt,Ve,"⊝","\\circleddash",!0),ja(Ra,pt,Ve,"⊛","\\circledast",!0),ja(Ra,pt,Ve,"⋅","\\centerdot"),ja(Ra,pt,Ve,"⊺","\\intercal",!0),ja(Ra,pt,Ve,"⋒","\\doublecap"),ja(Ra,pt,Ve,"⋓","\\doublecup"),ja(Ra,pt,Ve,"⊠","\\boxtimes",!0),ja(Ra,pt,wt,"⇢","\\dashrightarrow",!0),ja(Ra,pt,wt,"⇠","\\dashleftarrow",!0),ja(Ra,pt,wt,"⇇","\\leftleftarrows",!0),ja(Ra,pt,wt,"⇆","\\leftrightarrows",!0),ja(Ra,pt,wt,"⇚","\\Lleftarrow",!0),ja(Ra,pt,wt,"↞","\\twoheadleftarrow",!0),ja(Ra,pt,wt,"↢","\\leftarrowtail",!0),ja(Ra,pt,wt,"↫","\\looparrowleft",!0),ja(Ra,pt,wt,"⇋","\\leftrightharpoons",!0),ja(Ra,pt,wt,"↶","\\curvearrowleft",!0),ja(Ra,pt,wt,"↺","\\circlearrowleft",!0),ja(Ra,pt,wt,"↰","\\Lsh",!0),ja(Ra,pt,wt,"⇈","\\upuparrows",!0),ja(Ra,pt,wt,"↿","\\upharpoonleft",!0),ja(Ra,pt,wt,"⇃","\\downharpoonleft",!0),ja(Ra,Ha,wt,"⊶","\\origof",!0),ja(Ra,Ha,wt,"⊷","\\imageof",!0),ja(Ra,pt,wt,"⊸","\\multimap",!0),ja(Ra,pt,wt,"↭","\\leftrightsquigarrow",!0),ja(Ra,pt,wt,"⇉","\\rightrightarrows",!0),ja(Ra,pt,wt,"⇄","\\rightleftarrows",!0),ja(Ra,pt,wt,"↠","\\twoheadrightarrow",!0),ja(Ra,pt,wt,"↣","\\rightarrowtail",!0),ja(Ra,pt,wt,"↬","\\looparrowright",!0),ja(Ra,pt,wt,"↷","\\curvearrowright",!0),ja(Ra,pt,wt,"↻","\\circlearrowright",!0),ja(Ra,pt,wt,"↱","\\Rsh",!0),ja(Ra,pt,wt,"⇊","\\downdownarrows",!0),ja(Ra,pt,wt,"↾","\\upharpoonright",!0),ja(Ra,pt,wt,"⇂","\\downharpoonright",!0),ja(Ra,pt,wt,"⇝","\\rightsquigarrow",!0),ja(Ra,pt,wt,"⇝","\\leadsto"),ja(Ra,pt,wt,"⇛","\\Rrightarrow",!0),ja(Ra,pt,wt,"↾","\\restriction"),ja(Ra,Ha,Ua,"‘","`"),ja(Ra,Ha,Ua,"$","\\$"),ja(Ga,Ha,Ua,"$","\\$"),ja(Ga,Ha,Ua,"$","\\textdollar"),ja(Ra,Ha,Ua,"%","\\%"),ja(Ga,Ha,Ua,"%","\\%"),ja(Ra,Ha,Ua,"_","\\_"),ja(Ga,Ha,Ua,"_","\\_"),ja(Ga,Ha,Ua,"_","\\textunderscore"),ja(Ra,Ha,Ua,"∠","\\angle",!0),ja(Ra,Ha,Ua,"∞","\\infty",!0),ja(Ra,Ha,Ua,"′","\\prime"),ja(Ra,Ha,Ua,"△","\\triangle"),ja(Ra,Ha,Ua,"Γ","\\Gamma",!0),ja(Ra,Ha,Ua,"Δ","\\Delta",!0),ja(Ra,Ha,Ua,"Θ","\\Theta",!0),ja(Ra,Ha,Ua,"Λ","\\Lambda",!0),ja(Ra,Ha,Ua,"Ξ","\\Xi",!0),ja(Ra,Ha,Ua,"Π","\\Pi",!0),ja(Ra,Ha,Ua,"Σ","\\Sigma",!0),ja(Ra,Ha,Ua,"Υ","\\Upsilon",!0),ja(Ra,Ha,Ua,"Φ","\\Phi",!0),ja(Ra,Ha,Ua,"Ψ","\\Psi",!0),ja(Ra,Ha,Ua,"Ω","\\Omega",!0),ja(Ra,Ha,Ua,"A","Α"),ja(Ra,Ha,Ua,"B","Β"),ja(Ra,Ha,Ua,"E","Ε"),ja(Ra,Ha,Ua,"Z","Ζ"),ja(Ra,Ha,Ua,"H","Η"),ja(Ra,Ha,Ua,"I","Ι"),ja(Ra,Ha,Ua,"K","Κ"),ja(Ra,Ha,Ua,"M","Μ"),ja(Ra,Ha,Ua,"N","Ν"),ja(Ra,Ha,Ua,"O","Ο"),ja(Ra,Ha,Ua,"P","Ρ"),ja(Ra,Ha,Ua,"T","Τ"),ja(Ra,Ha,Ua,"X","Χ"),ja(Ra,Ha,Ua,"¬","\\neg",!0),ja(Ra,Ha,Ua,"¬","\\lnot"),ja(Ra,Ha,Ua,"⊤","\\top"),ja(Ra,Ha,Ua,"⊥","\\bot"),ja(Ra,Ha,Ua,"∅","\\emptyset"),ja(Ra,pt,Ua,"∅","\\varnothing"),ja(Ra,Ha,Wa,"α","\\alpha",!0),ja(Ra,Ha,Wa,"β","\\beta",!0),ja(Ra,Ha,Wa,"γ","\\gamma",!0),ja(Ra,Ha,Wa,"δ","\\delta",!0),ja(Ra,Ha,Wa,"ϵ","\\epsilon",!0),ja(Ra,Ha,Wa,"ζ","\\zeta",!0),ja(Ra,Ha,Wa,"η","\\eta",!0),ja(Ra,Ha,Wa,"θ","\\theta",!0),ja(Ra,Ha,Wa,"ι","\\iota",!0),ja(Ra,Ha,Wa,"κ","\\kappa",!0),ja(Ra,Ha,Wa,"λ","\\lambda",!0),ja(Ra,Ha,Wa,"μ","\\mu",!0),ja(Ra,Ha,Wa,"ν","\\nu",!0),ja(Ra,Ha,Wa,"ξ","\\xi",!0),ja(Ra,Ha,Wa,"ο","\\omicron",!0),ja(Ra,Ha,Wa,"π","\\pi",!0),ja(Ra,Ha,Wa,"ρ","\\rho",!0),ja(Ra,Ha,Wa,"σ","\\sigma",!0),ja(Ra,Ha,Wa,"τ","\\tau",!0),ja(Ra,Ha,Wa,"υ","\\upsilon",!0),ja(Ra,Ha,Wa,"ϕ","\\phi",!0),ja(Ra,Ha,Wa,"χ","\\chi",!0),ja(Ra,Ha,Wa,"ψ","\\psi",!0),ja(Ra,Ha,Wa,"ω","\\omega",!0),ja(Ra,Ha,Wa,"ε","\\varepsilon",!0),ja(Ra,Ha,Wa,"ϑ","\\vartheta",!0),ja(Ra,Ha,Wa,"ϖ","\\varpi",!0),ja(Ra,Ha,Wa,"ϱ","\\varrho",!0),ja(Ra,Ha,Wa,"ς","\\varsigma",!0),ja(Ra,Ha,Wa,"φ","\\varphi",!0),ja(Ra,Ha,Ve,"∗","*",!0),ja(Ra,Ha,Ve,"+","+"),ja(Ra,Ha,Ve,"−","-",!0),ja(Ra,Ha,Ve,"⋅","\\cdot",!0),ja(Ra,Ha,Ve,"∘","\\circ",!0),ja(Ra,Ha,Ve,"÷","\\div",!0),ja(Ra,Ha,Ve,"±","\\pm",!0),ja(Ra,Ha,Ve,"×","\\times",!0),ja(Ra,Ha,Ve,"∩","\\cap",!0),ja(Ra,Ha,Ve,"∪","\\cup",!0),ja(Ra,Ha,Ve,"∖","\\setminus",!0),ja(Ra,Ha,Ve,"∧","\\land"),ja(Ra,Ha,Ve,"∨","\\lor"),ja(Ra,Ha,Ve,"∧","\\wedge",!0),ja(Ra,Ha,Ve,"∨","\\vee",!0),ja(Ra,Ha,Ua,"√","\\surd"),ja(Ra,Ha,L,"⟨","\\langle",!0),ja(Ra,Ha,L,"∣","\\lvert"),ja(Ra,Ha,L,"∥","\\lVert"),ja(Ra,Ha,kt,"?","?"),ja(Ra,Ha,kt,"!","!"),ja(Ra,Ha,kt,"⟩","\\rangle",!0),ja(Ra,Ha,kt,"∣","\\rvert"),ja(Ra,Ha,kt,"∥","\\rVert"),ja(Ra,Ha,wt,"=","="),ja(Ra,Ha,wt,":",":"),ja(Ra,Ha,wt,"≈","\\approx",!0),ja(Ra,Ha,wt,"≅","\\cong",!0),ja(Ra,Ha,wt,"≥","\\ge"),ja(Ra,Ha,wt,"≥","\\geq",!0),ja(Ra,Ha,wt,"←","\\gets"),ja(Ra,Ha,wt,">","\\gt",!0),ja(Ra,Ha,wt,"∈","\\in",!0),ja(Ra,Ha,wt,"","\\@not"),ja(Ra,Ha,wt,"⊂","\\subset",!0),ja(Ra,Ha,wt,"⊃","\\supset",!0),ja(Ra,Ha,wt,"⊆","\\subseteq",!0),ja(Ra,Ha,wt,"⊇","\\supseteq",!0),ja(Ra,pt,wt,"⊈","\\nsubseteq",!0),ja(Ra,pt,wt,"⊉","\\nsupseteq",!0),ja(Ra,Ha,wt,"⊨","\\models"),ja(Ra,Ha,wt,"←","\\leftarrow",!0),ja(Ra,Ha,wt,"≤","\\le"),ja(Ra,Ha,wt,"≤","\\leq",!0),ja(Ra,Ha,wt,"<","\\lt",!0),ja(Ra,Ha,wt,"→","\\rightarrow",!0),ja(Ra,Ha,wt,"→","\\to"),ja(Ra,pt,wt,"≱","\\ngeq",!0),ja(Ra,pt,wt,"≰","\\nleq",!0),ja(Ra,Ha,lt," ","\\ "),ja(Ra,Ha,lt," ","\\space"),ja(Ra,Ha,lt," ","\\nobreakspace"),ja(Ga,Ha,lt," ","\\ "),ja(Ga,Ha,lt," "," "),ja(Ga,Ha,lt," ","\\space"),ja(Ga,Ha,lt," ","\\nobreakspace"),ja(Ra,Ha,lt,null,"\\nobreak"),ja(Ra,Ha,lt,null,"\\allowbreak"),ja(Ra,Ha,ft,",",","),ja(Ra,Ha,ft,";",";"),ja(Ra,pt,Ve,"⊼","\\barwedge",!0),ja(Ra,pt,Ve,"⊻","\\veebar",!0),ja(Ra,Ha,Ve,"⊙","\\odot",!0),ja(Ra,Ha,Ve,"⊕","\\oplus",!0),ja(Ra,Ha,Ve,"⊗","\\otimes",!0),ja(Ra,Ha,Ua,"∂","\\partial",!0),ja(Ra,Ha,Ve,"⊘","\\oslash",!0),ja(Ra,pt,Ve,"⊚","\\circledcirc",!0),ja(Ra,pt,Ve,"⊡","\\boxdot",!0),ja(Ra,Ha,Ve,"△","\\bigtriangleup"),ja(Ra,Ha,Ve,"▽","\\bigtriangledown"),ja(Ra,Ha,Ve,"†","\\dagger"),ja(Ra,Ha,Ve,"⋄","\\diamond"),ja(Ra,Ha,Ve,"⋆","\\star"),ja(Ra,Ha,Ve,"◃","\\triangleleft"),ja(Ra,Ha,Ve,"▹","\\triangleright"),ja(Ra,Ha,L,"{","\\{"),ja(Ga,Ha,Ua,"{","\\{"),ja(Ga,Ha,Ua,"{","\\textbraceleft"),ja(Ra,Ha,kt,"}","\\}"),ja(Ga,Ha,Ua,"}","\\}"),ja(Ga,Ha,Ua,"}","\\textbraceright"),ja(Ra,Ha,L,"{","\\lbrace"),ja(Ra,Ha,kt,"}","\\rbrace"),ja(Ra,Ha,L,"[","\\lbrack",!0),ja(Ga,Ha,Ua,"[","\\lbrack",!0),ja(Ra,Ha,kt,"]","\\rbrack",!0),ja(Ga,Ha,Ua,"]","\\rbrack",!0),ja(Ra,Ha,L,"(","\\lparen",!0),ja(Ra,Ha,kt,")","\\rparen",!0),ja(Ga,Ha,Ua,"<","\\textless",!0),ja(Ga,Ha,Ua,">","\\textgreater",!0),ja(Ra,Ha,L,"⌊","\\lfloor",!0),ja(Ra,Ha,kt,"⌋","\\rfloor",!0),ja(Ra,Ha,L,"⌈","\\lceil",!0),ja(Ra,Ha,kt,"⌉","\\rceil",!0),ja(Ra,Ha,Ua,"\\","\\backslash"),ja(Ra,Ha,Ua,"∣","|"),ja(Ra,Ha,Ua,"∣","\\vert"),ja(Ga,Ha,Ua,"|","\\textbar",!0),ja(Ra,Ha,Ua,"∥","\\|"),ja(Ra,Ha,Ua,"∥","\\Vert"),ja(Ga,Ha,Ua,"∥","\\textbardbl"),ja(Ga,Ha,Ua,"~","\\textasciitilde"),ja(Ga,Ha,Ua,"\\","\\textbackslash"),ja(Ga,Ha,Ua,"^","\\textasciicircum"),ja(Ra,Ha,wt,"↑","\\uparrow",!0),ja(Ra,Ha,wt,"⇑","\\Uparrow",!0),ja(Ra,Ha,wt,"↓","\\downarrow",!0),ja(Ra,Ha,wt,"⇓","\\Downarrow",!0),ja(Ra,Ha,wt,"↕","\\updownarrow",!0),ja(Ra,Ha,wt,"⇕","\\Updownarrow",!0),ja(Ra,Ha,Ue,"∐","\\coprod"),ja(Ra,Ha,Ue,"⋁","\\bigvee"),ja(Ra,Ha,Ue,"⋀","\\bigwedge"),ja(Ra,Ha,Ue,"⨄","\\biguplus"),ja(Ra,Ha,Ue,"⋂","\\bigcap"),ja(Ra,Ha,Ue,"⋃","\\bigcup"),ja(Ra,Ha,Ue,"∫","\\int"),ja(Ra,Ha,Ue,"∫","\\intop"),ja(Ra,Ha,Ue,"∬","\\iint"),ja(Ra,Ha,Ue,"∭","\\iiint"),ja(Ra,Ha,Ue,"∏","\\prod"),ja(Ra,Ha,Ue,"∑","\\sum"),ja(Ra,Ha,Ue,"⨂","\\bigotimes"),ja(Ra,Ha,Ue,"⨁","\\bigoplus"),ja(Ra,Ha,Ue,"⨀","\\bigodot"),ja(Ra,Ha,Ue,"∮","\\oint"),ja(Ra,Ha,Ue,"∯","\\oiint"),ja(Ra,Ha,Ue,"∰","\\oiiint"),ja(Ra,Ha,Ue,"⨆","\\bigsqcup"),ja(Ra,Ha,Ue,"∫","\\smallint"),ja(Ga,Ha,xt,"…","\\textellipsis"),ja(Ra,Ha,xt,"…","\\mathellipsis"),ja(Ga,Ha,xt,"…","\\ldots",!0),ja(Ra,Ha,xt,"…","\\ldots",!0),ja(Ra,Ha,xt,"⋯","\\@cdots",!0),ja(Ra,Ha,xt,"⋱","\\ddots",!0),ja(Ra,Ha,Ua,"⋮","\\varvdots"),ja(Ra,Ha,Mt,"ˊ","\\acute"),ja(Ra,Ha,Mt,"ˋ","\\grave"),ja(Ra,Ha,Mt,"¨","\\ddot"),ja(Ra,Ha,Mt,"~","\\tilde"),ja(Ra,Ha,Mt,"ˉ","\\bar"),ja(Ra,Ha,Mt,"˘","\\breve"),ja(Ra,Ha,Mt,"ˇ","\\check"),ja(Ra,Ha,Mt,"^","\\hat"),ja(Ra,Ha,Mt,"⃗","\\vec"),ja(Ra,Ha,Mt,"˙","\\dot"),ja(Ra,Ha,Mt,"˚","\\mathring"),ja(Ra,Ha,Wa,"","\\@imath"),ja(Ra,Ha,Wa,"","\\@jmath"),ja(Ra,Ha,Ua,"ı","ı"),ja(Ra,Ha,Ua,"ȷ","ȷ"),ja(Ga,Ha,Ua,"ı","\\i",!0),ja(Ga,Ha,Ua,"ȷ","\\j",!0),ja(Ga,Ha,Ua,"ß","\\ss",!0),ja(Ga,Ha,Ua,"æ","\\ae",!0),ja(Ga,Ha,Ua,"œ","\\oe",!0),ja(Ga,Ha,Ua,"ø","\\o",!0),ja(Ga,Ha,Ua,"Æ","\\AE",!0),ja(Ga,Ha,Ua,"Œ","\\OE",!0),ja(Ga,Ha,Ua,"Ø","\\O",!0),ja(Ga,Ha,Mt,"ˊ","\\'"),ja(Ga,Ha,Mt,"ˋ","\\`"),ja(Ga,Ha,Mt,"ˆ","\\^"),ja(Ga,Ha,Mt,"˜","\\~"),ja(Ga,Ha,Mt,"ˉ","\\="),ja(Ga,Ha,Mt,"˘","\\u"),ja(Ga,Ha,Mt,"˙","\\."),ja(Ga,Ha,Mt,"¸","\\c"),ja(Ga,Ha,Mt,"˚","\\r"),ja(Ga,Ha,Mt,"ˇ","\\v"),ja(Ga,Ha,Mt,"¨",'\\"'),ja(Ga,Ha,Mt,"˝","\\H"),ja(Ga,Ha,Mt,"◯","\\textcircled"),{"--":!0,"---":!0,"``":!0,"''":!0}),Va=(ja(Ga,Ha,Ua,"–","--",!0),ja(Ga,Ha,Ua,"–","\\textendash"),ja(Ga,Ha,Ua,"—","---",!0),ja(Ga,Ha,Ua,"—","\\textemdash"),ja(Ga,Ha,Ua,"‘","`",!0),ja(Ga,Ha,Ua,"‘","\\textquoteleft"),ja(Ga,Ha,Ua,"’","'",!0),ja(Ga,Ha,Ua,"’","\\textquoteright"),ja(Ga,Ha,Ua,"“","``",!0),ja(Ga,Ha,Ua,"“","\\textquotedblleft"),ja(Ga,Ha,Ua,"”","''",!0),ja(Ga,Ha,Ua,"”","\\textquotedblright"),ja(Ra,Ha,Ua,"°","\\degree",!0),ja(Ga,Ha,Ua,"°","\\degree"),ja(Ga,Ha,Ua,"°","\\textdegree",!0),ja(Ra,Ha,Ua,"£","\\pounds"),ja(Ra,Ha,Ua,"£","\\mathsterling",!0),ja(Ga,Ha,Ua,"£","\\pounds"),ja(Ga,Ha,Ua,"£","\\textsterling",!0),ja(Ra,pt,Ua,"✠","\\maltese"),ja(Ga,pt,Ua,"✠","\\maltese"),'0123456789/@."'),Ya=0;Ya<Va.length;Ya++)ja(Ra,Ha,Ua,Xa=Va.charAt(Ya),Xa);for(var Xa,Ja='0123456789!@*()-=+";:?/.,',Ka=0;Ka<Ja.length;Ka++)ja(Ga,Ha,Ua,Za=Ja.charAt(Ka),Za);for(var Za,Qa,er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",tr=0;tr<er.length;tr++)ja(Ra,Ha,Wa,Qa=er.charAt(tr),Qa),ja(Ga,Ha,Ua,Qa,Qa);ja(Ra,pt,Ua,"C","ℂ"),ja(Ga,pt,Ua,"C","ℂ"),ja(Ra,pt,Ua,"H","ℍ"),ja(Ga,pt,Ua,"H","ℍ"),ja(Ra,pt,Ua,"N","ℕ"),ja(Ga,pt,Ua,"N","ℕ"),ja(Ra,pt,Ua,"P","ℙ"),ja(Ga,pt,Ua,"P","ℙ"),ja(Ra,pt,Ua,"Q","ℚ"),ja(Ga,pt,Ua,"Q","ℚ"),ja(Ra,pt,Ua,"R","ℝ"),ja(Ga,pt,Ua,"R","ℝ"),ja(Ra,pt,Ua,"Z","ℤ"),ja(Ga,pt,Ua,"Z","ℤ"),ja(Ra,Ha,Wa,"h","ℎ"),ja(Ga,Ha,Wa,"h","ℎ");for(var nr,ir="",or=0;or<er.length;or++)ja(Ra,Ha,Wa,nr=er.charAt(or),ir=String.fromCharCode(55349,56320+or)),ja(Ga,Ha,Ua,nr,ir),ja(Ra,Ha,Wa,nr,ir=String.fromCharCode(55349,56372+or)),ja(Ga,Ha,Ua,nr,ir),ja(Ra,Ha,Wa,nr,ir=String.fromCharCode(55349,56424+or)),ja(Ga,Ha,Ua,nr,ir),ja(Ra,Ha,Wa,nr,ir=String.fromCharCode(55349,56580+or)),ja(Ga,Ha,Ua,nr,ir),ja(Ra,Ha,Wa,nr,ir=String.fromCharCode(55349,56684+or)),ja(Ga,Ha,Ua,nr,ir),ja(Ra,Ha,Wa,nr,ir=String.fromCharCode(55349,56736+or)),ja(Ga,Ha,Ua,nr,ir),ja(Ra,Ha,Wa,nr,ir=String.fromCharCode(55349,56788+or)),ja(Ga,Ha,Ua,nr,ir),ja(Ra,Ha,Wa,nr,ir=String.fromCharCode(55349,56840+or)),ja(Ga,Ha,Ua,nr,ir),ja(Ra,Ha,Wa,nr,ir=String.fromCharCode(55349,56944+or)),ja(Ga,Ha,Ua,nr,ir),or<26&&(ja(Ra,Ha,Wa,nr,ir=String.fromCharCode(55349,56632+or)),ja(Ga,Ha,Ua,nr,ir),ja(Ra,Ha,Wa,nr,ir=String.fromCharCode(55349,56476+or)),ja(Ga,Ha,Ua,nr,ir));for(ja(Ra,Ha,Wa,"k",ir="𝕜"),ja(Ga,Ha,Ua,"k",ir),rr=0;rr<10;rr++)ja(Ra,Ha,Wa,ar=rr.toString(),ir=String.fromCharCode(55349,57294+rr)),ja(Ga,Ha,Ua,ar,ir),ja(Ra,Ha,Wa,ar,ir=String.fromCharCode(55349,57314+rr)),ja(Ga,Ha,Ua,ar,ir),ja(Ra,Ha,Wa,ar,ir=String.fromCharCode(55349,57324+rr)),ja(Ga,Ha,Ua,ar,ir),ja(Ra,Ha,Wa,ar,ir=String.fromCharCode(55349,57334+rr)),ja(Ga,Ha,Ua,ar,ir);for(var ar,rr,sr=0;sr<3;sr++)ja(Ra,Ha,Wa,mr="ÐÞþ".charAt(sr),mr),ja(Ga,Ha,Ua,mr,mr);function lr(e,t,n,i,o){var a=vr(e,t,n),r=a.metrics;return e=a.value,a=r?(a=r.italic,("text"===n||i&&"mathit"===i.font)&&(a=0),new Ia(e,r.height,r.depth,a,r.skew,r.width,o)):("undefined"==typeof console||h(console),new Ia(e,0,0,0,0,0,o)),i&&(a.maxFontSize=i.sizeMultiplier,i.style.isTight()&&a.classes.push("mtight"),r=i.getColor())&&(a.style.color=r),a}function cr(e){for(var t=0,n=0,i=0,o=0;o<e.children.length;o++){var a=e.children[o];a.height>t&&(t=a.height),n<a.depth&&(n=a.depth),i<a.maxFontSize&&(i=a.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=i}function dr(e,t,n,i){return cr(e=new Da(e,t,n,i)),e}function ur(e,t,n,i){return new Da(e,t,n,i)}function pr(e){return cr(e=new da(e)),e}function hr(e,t,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}return i+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")}var mr,fr=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],gr=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],vr=function(e,t,n){return{value:e=za[n][e]&&za[n][e].replace?za[n][e].replace:e,metrics:ma(e,t,n)}},br={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},yr={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},xr={fontMap:br,makeSymbol:lr,mathsym:function(e,t,n,i){return void 0===i&&(i=[]),"boldsymbol"===n.font&&vr(e,"Main-Bold",t).metrics?lr(e,"Main-Bold",t,n,i.concat(["mathbf"])):"\\"===e||"main"===za[t][e].font?lr(e,"Main-Regular",t,n,i):lr(e,"AMS-Regular",t,n,i.concat(["amsrm"]))},makeSpan:dr,makeSvgSpan:ur,makeLineSpan:function(e,t,n){return(e=dr([e],[],t)).height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),e.style.borderBottomWidth=Sa(e.height),e.maxFontSize=1,e},makeAnchor:function(e,t,n,i){return cr(e=new Ea(e,t,n,i)),e},makeFragment:pr,wrapFragment:function(e,t){return e instanceof da?dr([],[e],t):e},makeVList:function(e,t){for(var n=(e=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],i=-t[0].shift-t[0].elem.depth,o=i,a=1;a<t.length;a++){var r=-t[a].shift-o-t[a].elem.depth,s=r-(t[a-1].elem.height+t[a-1].elem.depth);o+=r,n.push({type:"kern",size:s}),n.push(t[a])}return{children:n,depth:i}}var l;if("top"===e.positionType){for(var c=e.positionData,d=0;d<e.children.length;d++){var u=e.children[d];c-="kern"===u.type?u.size:u.elem.height+u.elem.depth}l=c}else if("bottom"===e.positionType)l=-e.positionData;else{if("elem"!==(i=e.children[0]).type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-i.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-i.elem.depth}}return{children:e.children,depth:l}}(e)).children,i=(e=e.depth,0),o=0;o<n.length;o++){var a=n[o];"elem"===a.type&&(a=a.elem,i=Math.max(i,a.maxFontSize,a.height))}i+=2;var r=dr(["pstrut"],[]);r.style.height=Sa(i);for(var s=[],l=e,c=e,d=e,u=0;u<n.length;u++){var p,h,m=n[u];"kern"===m.type?d+=m.size:(p=m.elem,(h=dr(h=m.wrapperClasses||[],[r,p],void 0,m.wrapperStyle||{})).style.top=Sa(-i-d-p.depth),m.marginLeft&&(h.style.marginLeft=m.marginLeft),m.marginRight&&(h.style.marginRight=m.marginRight),s.push(h),d+=p.height+p.depth),l=Math.min(l,d),c=Math.max(c,d)}var f,g=((e=dr(["vlist"],s)).style.height=Sa(c),f=l<0?(g=dr([],[]),(g=dr(["vlist"],[g])).style.height=Sa(-l),f=dr(["vlist-s"],[new Ia("​")]),[dr(["vlist-r"],[e,f]),dr(["vlist-r"],[g])]):[dr(["vlist-r"],[e])],dr(["vlist-t"],f));return 2===f.length&&g.classes.push("vlist-t2"),g.height=c,g.depth=-l,g},makeOrd:function(e,t,n){var i,o,a,r=e.mode,s=e.text,l=["mord"],c=(e="math"===r||"text"===r&&t.font)?t.font:t.fontFamily,u="",p="";if(55349===s.charCodeAt(0)&&(u=(a=d(function(e,t){var n,i=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536;if(t="math"===t?0:1,119808<=i&&i<120484)return n=Math.floor((i-119808)/26),[fr[n][2],fr[n][t]];if(120782<=i&&i<=120831)return n=Math.floor((i-120782)/10),[gr[n][2],gr[n][t]];if(120485==i||120486==i)return[fr[0][2],fr[0][t]];if(120486<i&&i<120782)return["",""];throw new Wo("Unsupported character: "+e)}(s,r),2))[0],p=a[1]),0<u.length)return lr(s,u,r,t,l.concat(p));if(c){if(o="boldsymbol"===c?(a=s,u=r,i=(p="textord"!==n&&vr(a,"Math-BoldItalic",u).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}).fontName,[p.fontClass]):e?(i=br[c].fontName,[c]):(i=hr(c,t.fontWeight,t.fontShape),[c,t.fontWeight,t.fontShape]),vr(s,i,r).metrics)return lr(s,i,r,t,l.concat(o));if(qa.hasOwnProperty(s)&&"Typewriter"===i.slice(0,10)){for(var h=[],m=0;m<s.length;m++)h.push(lr(s[m],i,r,t,l.concat(o)));return pr(h)}}if("mathord"===n)return lr(s,"Math-Italic",r,t,l.concat(["mathnormal"]));if("textord"===n)return"ams"===(u=za[r][s]&&za[r][s].font)?lr(s,p=hr("amsrm",t.fontWeight,t.fontShape),r,t,l.concat("amsrm",t.fontWeight,t.fontShape)):"main"!==u&&u?lr(s,e=hr(u,t.fontWeight,t.fontShape),r,t,l.concat(e,t.fontWeight,t.fontShape)):lr(s,c=hr("textrm",t.fontWeight,t.fontShape),r,t,l.concat(t.fontWeight,t.fontShape));throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:function(e,t){var n=dr(["mspace"],[],t);return e=ba(e,t),n.style.marginRight=Sa(e),n},staticSvg:function(e,t){var n=(e=d(yr[e],3))[0],i=e[1];return e=e[2],n=new La(n),(n=ur(["overlay"],[n=new Oa([n],{width:Sa(i),height:Sa(e),style:"width:"+Sa(i),viewBox:"0 0 "+1e3*i+" "+1e3*e,preserveAspectRatio:"xMinYMin"})],t)).height=e,n.style.height=Sa(e),n.style.width=Sa(i),n},svgData:yr,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];n instanceof Ia&&i instanceof Ia&&function(e,t){if(Ma(e.classes)!==Ma(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var n=e.classes[0];if("mbin"===n||"mord"===n)return!1}for(var i in e.style)if(e.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;for(var o in t.style)if(t.style.hasOwnProperty(o)&&e.style[o]!==t.style[o])return!1;return!0}(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,e.splice(t+1,1),t--)}return e}},wr={mord:{mop:We={number:3,unit:"mu"},mbin:gt={number:4,unit:"mu"},mrel:rt={number:5,unit:"mu"},minner:We},mop:{mord:We,mop:We,mrel:rt,minner:We},mbin:{mord:gt,mop:gt,mopen:gt,minner:gt},mrel:{mord:rt,mop:rt,mopen:rt,minner:rt},mopen:{},mclose:{mop:We,mbin:gt,mrel:rt,minner:We},mpunct:{mord:We,mop:We,mrel:rt,mopen:We,mclose:We,mpunct:We,minner:We},minner:{mord:We,mop:We,mbin:gt,mrel:rt,mopen:We,mpunct:We,minner:We}},kr={mord:{mop:We},mop:{mord:We,mop:We},mbin:{},mrel:{},mopen:{},mclose:{mop:We},mpunct:{},minner:{mop:We}},_r={},Cr={},Tr={};function Sr(e){for(var t=e.type,n=e.names,i=e.props,o=e.htmlBuilder,a=e.mathmlBuilder,r={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:void 0===i.allowedInMath||i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:e.handler},s=0;s<n.length;++s)_r[n[s]]=r;t&&(o&&(Cr[t]=o),a)&&(Tr[t]=a)}function Mr(e){Sr({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}function Dr(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e}function Er(e){return"ordgroup"===e.type?e.body:[e]}function Ar(e,t){return e=["nulldelimiter"].concat(e.baseSizingClasses()),Fr(t.concat(e))}var Fr=xr.makeSpan,Ir=["leftmost","mbin","mopen","mrel","mop","mpunct"],Or=["rightmost","mrel","mclose","mpunct"],Lr={display:ia.DISPLAY,text:ia.TEXT,script:ia.SCRIPT,scriptscript:ia.SCRIPTSCRIPT},Pr={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Br=function(e,t,n,i){void 0===i&&(i=[null,null]);for(var o,a,r=[],s=0;s<e.length;s++){var l,c=jr(e[s],t);c instanceof da?(l=c.children,r.push.apply(r,u(l))):r.push(c)}return xr.tryCombineChars(r),n&&(o=t,1===e.length&&("sizing"===(a=e[0]).type?o=t.havingSize(a.size):"styling"===a.type&&(o=t.havingStyle(Lr[a.style]))),a=Fr([i[0]||"leftmost"],[],t),i=Fr([i[1]||"rightmost"],[],t),$r(r,function(e,t){var n=t.classes[0],i=e.classes[0];"mbin"===n&&Xo.contains(Or,i)?t.classes[0]="mord":"mbin"===i&&Xo.contains(Ir,n)&&(e.classes[0]="mord")},{node:a},i,n="root"===n),$r(r,function(e,t){t=zr(t);var n=zr(e);if(e=t&&n?(e.hasClass("mtight")?kr:wr)[t][n]:null)return xr.makeGlue(e,o)},{node:a},i,n)),r},$r=function e(t,n,i,o,a){o&&t.push(o);for(var r=0;r<t.length;r++){var s,l=t[r],c=Nr(l);c?e(c.children,n,i,null,a):((c=!l.hasClass("mspace"))&&(s=n(l,i.node))&&(i.insertAfter?i.insertAfter(s):(t.unshift(s),r++)),c?i.node=l:a&&l.hasClass("newline")&&(i.node=Fr(["leftmost"])),i.insertAfter=function(e){return function(n){t.splice(e+1,0,n),r++}}(r))}o&&t.pop()},Nr=function(e){return e instanceof da||e instanceof Ea||e instanceof Da&&e.hasClass("enclosing")?e:null},zr=function(e,t){return e&&(t&&(e=function e(t,n){var i=Nr(t);if(i&&(i=i.children).length){if("right"===n)return e(i[i.length-1],"right");if("left"===n)return e(i[0],"left")}return t}(e,t)),Pr[e.classes[0]])||null},jr=function(e,t,n){if(!e)return Fr();var i;if(Cr[e.type])return i=Cr[e.type](e,t),n&&t.size!==n.size&&(i=Fr(t.sizingClasses(n),[i],t),t=t.sizeMultiplier/n.sizeMultiplier,i.height*=t,i.depth*=t),i;throw new Wo("Got group of unknown type: '"+e.type+"'")};function Rr(e){return new da(e)}function Gr(e,t,n){return!za[t][e]||!za[t][e].replace||55349===e.charCodeAt(0)||qa.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.slice(4,6)||n.font&&"tt"===n.font.slice(4,6))||(e=za[t][e].replace),new Xr.TextNode(e)}function Hr(e){return 1===e.length?e[0]:new Xr.MathNode("mrow",e)}function Wr(e,t){var n;return"texttt"===t.fontFamily?"monospace":"textsf"===t.fontFamily?"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif":"textit"===t.fontShape&&"textbf"===t.fontWeight?"bold-italic":"textit"===t.fontShape?"italic":"textbf"===t.fontWeight?"bold":(t=t.font)&&"mathnormal"!==t?(n=e.mode,"mathit"===t?"italic":"boldsymbol"===t?"textord"===e.type?"bold":"bold-italic":"mathbf"===t?"bold":"mathbb"===t?"double-struck":"mathfrak"===t?"fraktur":"mathscr"===t||"mathcal"===t?"script":"mathsf"===t?"sans-serif":"mathtt"===t?"monospace":!Xo.contains(["\\imath","\\jmath"],e=e.text)&&ma(e=za[n][e]&&za[n][e].replace?za[n][e].replace:e,xr.fontMap[t].fontName,n)?xr.fontMap[t].variant:null):null}function Ur(e,t,n){var i;if(1===e.length)return i=Jr(e[0],t),n&&i instanceof Vr&&"mo"===i.type&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i];for(var o,a=[],r=0;r<e.length;r++){var s,l,c=Jr(e[r],t);if(c instanceof Vr&&o instanceof Vr){if("mtext"===c.type&&"mtext"===o.type&&c.getAttribute("mathvariant")===o.getAttribute("mathvariant")){(s=o.children).push.apply(s,u(c.children));continue}if("mn"===c.type&&"mn"===o.type){(s=o.children).push.apply(s,u(c.children));continue}if("mi"===c.type&&1===c.children.length&&"mn"===o.type){var d=c.children[0];if(d instanceof Yr&&"."===d.text){(d=o.children).push.apply(d,u(c.children));continue}}else"mi"===o.type&&1===o.children.length&&(d=o.children[0])instanceof Yr&&"̸"===d.text&&("mo"===c.type||"mi"===c.type||"mn"===c.type)&&(l=c.children[0])instanceof Yr&&0<l.text.length&&(l.text=l.text.slice(0,1)+"̸"+l.text.slice(1),a.pop())}a.push(c),o=c}return a}function qr(e,t,n){return Hr(Ur(e,t,n))}var Vr=a(function e(t,n,o){i(this,e),this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=o||[]},[{key:"setAttribute",value:function(e,t){this.attributes[e]=t}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"toNode",value:function(){var e,t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);0<this.classes.length&&(t.className=Ma(this.classes));for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}},{key:"toMarkup",value:function(){var e,t="<"+this.type;for(e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="',t+=Xo.escape(this.attributes[e]),t+='"');0<this.classes.length&&(t+=' class ="'+Xo.escape(Ma(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+"</"+this.type+">"}},{key:"toText",value:function(){return this.children.map(function(e){return e.toText()}).join("")}}]),Yr=a(function e(t){i(this,e),this.text=void 0,this.text=t},[{key:"toNode",value:function(){return document.createTextNode(this.text)}},{key:"toMarkup",value:function(){return Xo.escape(this.toText())}},{key:"toText",value:function(){return this.text}}]),Xr={MathNode:Vr,TextNode:Yr,SpaceNode:a(function e(t){i(this,e),this.width=void 0,this.character=void 0,this.width=t,this.character=.05555<=t&&t<=.05556?" ":.1666<=t&&t<=.1667?" ":.2222<=t&&t<=.2223?" ":.2777<=t&&t<=.2778?"  ":-.05556<=t&&t<=-.05555?" ⁣":-.1667<=t&&t<=-.1666?" ⁣":-.2223<=t&&t<=-.2222?" ⁣":-.2778<=t&&t<=-.2777?" ⁣":null},[{key:"toNode",value:function(){var e;return this.character?document.createTextNode(this.character):((e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace")).setAttribute("width",Sa(this.width)),e)}},{key:"toMarkup",value:function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Sa(this.width)+'"/>'}},{key:"toText",value:function(){return this.character||" "}}]),newDocumentFragment:Rr},Jr=function(e,t){if(!e)return new Xr.MathNode("mrow");if(Tr[e.type])return Tr[e.type](e,t);throw new Wo("Got group of unknown type: '"+e.type+"'")},Kr={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Zr={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Qr=function(e,t,n,i,o){var a;return e=e.height+e.depth+n+i,/fbox|color|angl/.test(t)?(a=xr.makeSpan(["stretchy",t],[],o),"fbox"===t&&(n=o.color&&o.getColor())&&(a.style.borderColor=n)):(i=[],/^[bx]cancel$/.test(t)&&i.push(new Pa({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&i.push(new Pa({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"})),n=new Oa(i,{width:"100%",height:Sa(e)}),a=xr.makeSvgSpan([],[n],o)),a.height=e,a.style.height=Sa(e),a},es=function(e){return(e=new Xr.MathNode("mo",[new Xr.TextNode(Kr[e.replace(/^\\/,"")])])).setAttribute("stretchy","true"),e},ts=function(e,t){var n=function(){var n,i=4e5,o=e.label.slice(1);if(Xo.contains(["widehat","widecheck","widetilde","utilde"],o))return f=5<(f="ordgroup"===(f=e.base).type?f.body.length:1)?"widehat"===o||"widecheck"===o?(r=420,i=2364,n=.42,o+"4"):(r=312,i=2340,n=.34,"tilde4"):(f=[1,1,2,2,3,3][f],"widehat"===o||"widecheck"===o?(i=[0,1062,2364,2364,2364][f],r=[0,239,300,360,420][f],n=[0,.24,.3,.3,.36,.42][f],o+f):(i=[0,600,1033,2339,2340][f],r=[0,260,286,306,312][f],n=[0,.26,.286,.3,.306,.34][f],"tilde"+f)),f=new La(f),f=new Oa([f],{width:"100%",height:Sa(n),viewBox:"0 0 "+i+" "+r,preserveAspectRatio:"none"}),{span:xr.makeSvgSpan([],[f],t),minWidth:0,height:n};var a=[],r=Zr[o],s=(f=d(r,3))[0],l=f[1],c=f[2],u=c/1e3,p=s.length;if(1===p)var h=["hide-tail"],m=[r[3]];else if(2===p)h=["halfarrow-left","halfarrow-right"],m=["xMinYMin","xMaxYMin"];else{if(3!==p)throw new Error("Correct katexImagesData or update code here to support\n                        "+p+" children.");h=["brace-left","brace-center","brace-right"],m=["xMinYMin","xMidYMin","xMaxYMin"]}for(var f,g=0;g<p;g++){var v=new La(s[g]);if(v=new Oa([v],{width:"400em",height:Sa(u),viewBox:"0 0 "+i+" "+c,preserveAspectRatio:m[g]+" slice"}),v=xr.makeSvgSpan([h[g]],[v],t),1===p)return{span:v,minWidth:l,height:u};v.style.height=Sa(u),a.push(v)}return{span:xr.makeSpan(["stretchy"],a,t),minWidth:l,height:u}}(),i=n.span,o=n.minWidth;return n=n.height,i.height=n,i.style.height=Sa(n),0<o&&(i.style.minWidth=Sa(o)),i};function ns(e,t){if(e&&e.type===t)return e;throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)))}function is(e){var t=os(e);if(t)return t;throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)))}function os(e){return e&&("atom"===e.type||Na.hasOwnProperty(e.type))?e:null}function as(e,t){e&&"supsub"===e.type?(s=(n=ns(e.base,"accent")).base,e.base=s,i=function(e){if(e instanceof Da)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(jr(e,t)),e.base=n):s=(n=ns(e,"accent")).base,e=jr(s,t.havingCrampedStyle());var n,i,o,a,r=0,s=(n.isShifty&&Xo.isCharacterBox(s)&&(s=Xo.getBaseElem(s),r=Ba(jr(s,t.havingCrampedStyle())).skew),"\\c"===n.label),l=s?e.height+e.depth:Math.min(e.height,t.fontMetrics().xHeight),c=n.isStretchy?(c=ts(n,t),xr.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e},{type:"elem",elem:c,wrapperClasses:["svg-align"],wrapperStyle:0<r?{width:"calc(100% - "+Sa(2*r)+")",marginLeft:Sa(2*r)}:void 0}]},t)):("\\vec"===n.label?(a=xr.staticSvg("vec",t),o=xr.svgData.vec[1]):((a=Ba(a=xr.makeOrd({mode:n.mode,text:n.label},t,"textord"))).italic=0,o=a.width,s&&(l+=a.depth)),c=xr.makeSpan(["accent-body"],[a]),(s="\\textcircled"===n.label)&&(c.classes.push("accent-full"),l=e.height),a=r,s||(a-=o/2),c.style.left=Sa(a),"\\textcircled"===n.label&&(c.style.top=".2em"),xr.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e},{type:"kern",size:-l},{type:"elem",elem:c}]},t));return r=xr.makeSpan(["mord","accent"],[c],t),i?(i.children[0]=r,i.height=Math.max(r.height,i.height),i.classes[0]="mord",i):r}function rs(e,t){var n=e.isStretchy?es(e.label):new Xr.MathNode("mo",[Gr(e.label,e.mode)]);return(e=new Xr.MathNode("mover",[Jr(e.base,t),n])).setAttribute("accent","true"),e}function ss(e){return(e=new Xr.MathNode("mpadded",e?[e]:[])).setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e}var ls=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(e){return"\\"+e}).join("|")),cs=(Sr({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){t=Dr(t[0]);var n=!ls.test(e.funcName),i=!n||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:t}},htmlBuilder:as,mathmlBuilder:rs}),Sr({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(e,t){t=t[0];var n=e.parser.mode;return"math"===n&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:as,mathmlBuilder:rs}),Sr({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var n=e.parser;return t=t[0],{type:"accentUnder",mode:n.mode,label:e.funcName,base:t}},htmlBuilder:function(e,t){var n=jr(e.base,t),i=ts(e,t);return e="\\utilde"===e.label?.12:0,i=xr.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:e},{type:"elem",elem:n}]},t),xr.makeSpan(["mord","accentunder"],[i],t)},mathmlBuilder:function(e,t){var n=es(e.label);return(e=new Xr.MathNode("munder",[Jr(e.base,t),n])).setAttribute("accentunder","true"),e}}),Sr({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){return{type:"xArrow",mode:e.parser.mode,label:e.funcName,body:t[0],below:n[0]}},htmlBuilder:function(e,t){var n,i=t.style,o=t.havingStyle(i.sup()),a=xr.wrapFragment(jr(e.body,o,t),t),r="\\x"===e.label.slice(0,2)?"x":"cd";return a.classes.push(r+"-arrow-pad"),e.below&&(o=t.havingStyle(i.sub()),(n=xr.wrapFragment(jr(e.below,o,t),t)).classes.push(r+"-arrow-pad")),i=ts(e,t),o=-t.fontMetrics().axisHeight+.5*i.height,r=-t.fontMetrics().axisHeight-.5*i.height-.111,(.25<a.depth||"\\xleftequilibrium"===e.label)&&(r-=a.depth),(n=n?(e=-t.fontMetrics().axisHeight+n.height+.5*i.height+.111,xr.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:r},{type:"elem",elem:i,shift:o},{type:"elem",elem:n,shift:e}]},t)):xr.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:r},{type:"elem",elem:i,shift:o}]},t)).children[0].children[0].children[1].classes.push("svg-align"),xr.makeSpan(["mrel","x-arrow"],[n],t)},mathmlBuilder:function(e,t){var n,i,o,a=es(e.label);return a.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body?(n=ss(Jr(e.body,t)),e.below?(o=ss(Jr(e.below,t)),new Xr.MathNode("munderover",[a,o,n])):new Xr.MathNode("mover",[a,n])):e.below?(o=ss(Jr(e.below,t)),new Xr.MathNode("munder",[a,o])):(i=ss(),new Xr.MathNode("mover",[a,i]))}}),xr.makeSpan);function ds(e,t){var n=Br(e.body,t,!0);return cs([e.mclass],n,t)}function us(e,t){var n;return t=Ur(e.body,t),"minner"===e.mclass?n=new Xr.MathNode("mpadded",t):"mord"===e.mclass?e.isCharacterBox?(n=t[0]).type="mi":n=new Xr.MathNode("mi",t):(e.isCharacterBox?(n=t[0]).type="mo":n=new Xr.MathNode("mo",t),"mbin"===e.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0em"):"minner"===e.mclass&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}function ps(e){return"atom"!==(e="ordgroup"===e.type&&e.body.length?e.body[0]:e).type||"bin"!==e.family&&"rel"!==e.family?"mord":"m"+e.family}function hs(e){return"textord"===e.type&&"@"===e.text}Sr({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(e,t){var n=e.parser;return e=e.funcName,t=t[0],{type:"mclass",mode:n.mode,mclass:"m"+e.slice(5),body:Er(t),isCharacterBox:Xo.isCharacterBox(t)}},htmlBuilder:ds,mathmlBuilder:us}),Sr({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:ps(t[0]),body:Er(t[1]),isCharacterBox:Xo.isCharacterBox(t[1])}}}),Sr({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var n=e.parser,i=(e=e.funcName,t[1]),o=(t=t[0],"\\stackrel"!==e?ps(i):"mrel");return i={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==e,body:Er(i)},i={type:"supsub",mode:t.mode,base:i,sup:"\\underset"===e?null:t,sub:"\\underset"===e?t:null},{type:"mclass",mode:n.mode,mclass:o,body:[i],isCharacterBox:Xo.isCharacterBox(i)}},htmlBuilder:ds,mathmlBuilder:us}),Sr({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"pmb",mode:e.parser.mode,mclass:ps(t[0]),body:Er(t[0])}},htmlBuilder:function(e,t){var n=Br(e.body,t,!0);return(e=xr.makeSpan([e.mclass],n,t)).style.textShadow="0.02em 0.01em 0.04px",e},mathmlBuilder:function(e,t){return e=Ur(e.body,t),(t=new Xr.MathNode("mstyle",e)).setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),t}});var ms={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"};function fs(e,t){return t=Br(e.body,t.withColor(e.color),!1),xr.makeFragment(t)}function gs(e,t){return t=Ur(e.body,t.withColor(e.color)),(t=new Xr.MathNode("mstyle",t)).setAttribute("mathcolor",e.color),t}function vs(e){var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Wo("Expected a control sequence",e);return t}function bs(e,t,n,i){var o=e.gullet.macros.get(n.text);null==o&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,o,i)}function ys(e,t,n,i,o,a){return e=Ds(e,t,o,i),o=Ss(xr.makeSpan(["delimsizing","size"+t],[e],i),ia.TEXT,i,a),n&&Ms(o,i,ia.TEXT),o}function xs(e,t,n,i,o,a){var r,s,l,c="",d=0,u=r=s=e,p=null,h="Size1-Regular";"\\uparrow"===e?r=s="⏐":"\\Uparrow"===e?r=s="‖":"\\downarrow"===e?u=r="⏐":"\\Downarrow"===e?u=r="‖":"\\updownarrow"===e?(u="\\uparrow",r="⏐",s="\\downarrow"):"\\Updownarrow"===e?(u="\\Uparrow",r="‖",s="\\Downarrow"):Xo.contains(Os,e)?(r="∣",c="vert",d=333):Xo.contains(Ls,e)?(r="∥",c="doublevert",d=556):"["===e||"\\lbrack"===e?(u="⎡",r="⎢",s="⎣",h="Size4-Regular",c="lbrack",d=667):"]"===e||"\\rbrack"===e?(u="⎤",r="⎥",s="⎦",h="Size4-Regular",c="rbrack",d=667):"\\lfloor"===e||"⌊"===e?(r=u="⎢",s="⎣",h="Size4-Regular",c="lfloor",d=667):"\\lceil"===e||"⌈"===e?(u="⎡",r=s="⎢",h="Size4-Regular",c="lceil",d=667):"\\rfloor"===e||"⌋"===e?(r=u="⎥",s="⎦",h="Size4-Regular",c="rfloor",d=667):"\\rceil"===e||"⌉"===e?(u="⎤",r=s="⎥",h="Size4-Regular",c="rceil",d=667):"("===e||"\\lparen"===e?(u="⎛",r="⎜",s="⎝",h="Size4-Regular",c="lparen",d=875):")"===e||"\\rparen"===e?(u="⎞",r="⎟",s="⎠",h="Size4-Regular",c="rparen",d=875):"\\{"===e||"\\lbrace"===e?(u="⎧",p="⎨",s="⎩",r="⎪",h="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(u="⎫",p="⎬",s="⎭",r="⎪",h="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(u="⎧",s="⎩",r="⎪",h="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(u="⎫",s="⎭",r="⎪",h="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(u="⎧",s="⎭",r="⎪",h="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(u="⎫",s="⎩",r="⎪",h="Size4-Regular"),e=(e=Ts(u,h,o)).height+e.depth;var m=(m=Ts(r,h,o)).height+m.depth,f=(f=Ts(s,h,o)).height+f.depth,g=0,v=1;null!==p&&(g=(b=Ts(p,h,o)).height+b.depth,v=2),t=(b=e+f+g)+Math.max(0,Math.ceil((t-b)/(v*m)))*v*m;var b=i.fontMetrics().axisHeight;return n&&(b*=i.sizeMultiplier),v=t/2-b,m=[],0<c.length?(n=t-e-f,b=Math.round(1e3*t),n=ca(c,Math.round(1e3*n)),c=new La(c,n),n=(d/1e3).toFixed(3)+"em",l=(b/1e3).toFixed(3)+"em",c=new Oa([c],{width:n,height:l,viewBox:"0 0 "+d+" "+b}),(d=xr.makeSvgSpan([],[c],i)).height=b/1e3,d.style.width=n,d.style.height=l,m.push({type:"elem",elem:d})):(m.push(Es(s,h,o)),m.push(Is),null===p?m.push(As(r,t-e-f+2*Fs,i)):(m.push(As(r,c=(t-e-f-g)/2+2*Fs,i)),m.push(Is),m.push(Es(p,h,o)),m.push(Is),m.push(As(r,c,i))),m.push(Is),m.push(Es(u,h,o))),b=i.havingBaseStyle(ia.TEXT),n=xr.makeVList({positionType:"bottom",positionData:v,children:m},b),Ss(xr.makeSpan(["delimsizing","mult"],[n],b),ia.TEXT,i,a)}function ws(e,t,n,i,o){return i=sa(e,i,n),e=new La(e,i),i=new Oa([e],{width:"400em",height:Sa(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"}),xr.makeSvgSpan(["hide-tail"],[i],o)}function ks(e,t,n,i){for(var o=Math.min(2,3-i.style.size);o<n.length&&"stack"!==n[o].type;o++){var a=(a=Ts(e,Gs(n[o]),"math")).height+a.depth;if("small"===n[o].type&&(a*=i.havingBaseStyle(n[o].style).sizeMultiplier),t<a)return n[o]}return n[n.length-1]}function _s(e,t,n,i,o,a){"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle");var r,s,l,c,d,u,p=ks(e,t,p=Xo.contains($s,e)?zs:Xo.contains(Ps,e)?Rs:js,i);return"small"===p.type?(r=e,s=p.style,l=n,c=i,d=o,u=a,r=xr.makeSymbol(r,"Main-Regular",d,c),d=Ss(r,s,c,u),l&&Ms(d,c,s),d):"large"===p.type?ys(e,p.size,n,i,o,a):xs(e,t,n,i,o,a)}Sr({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(e,t){var n=e.parser;return e=e.funcName,{type:"cdlabel",mode:n.mode,side:e.slice(4),label:t[0]}},htmlBuilder:function(e,t){var n=t.havingStyle(t.style.sup());return(n=xr.wrapFragment(jr(e.label,n,t),t)).classes.push("cd-label-"+e.side),n.style.bottom=Sa(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder:function(e,t){return t=new Xr.MathNode("mrow",[Jr(e.label,t)]),(t=new Xr.MathNode("mpadded",[t])).setAttribute("width","0"),"left"===e.side&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),(t=new Xr.MathNode("mstyle",[t])).setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}}),Sr({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(e,t){return{type:"cdlabelparent",mode:e.parser.mode,fragment:t[0]}},htmlBuilder:function(e,t){return(e=xr.wrapFragment(jr(e.fragment,t),t)).classes.push("cd-vert-arrow"),e},mathmlBuilder:function(e,t){return new Xr.MathNode("mrow",[Jr(e.fragment,t)])}}),Sr({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){e=e.parser;for(var n=ns(t[0],"ordgroup").body,i="",o=0;o<n.length;o++)i+=ns(n[o],"textord").text;if(t=parseInt(i),isNaN(t))throw new Wo("\\@char has non-numeric argument "+i);if(t<0||1114111<=t)throw new Wo("\\@char with invalid code point "+i);return t=t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))),{type:"textord",mode:e.mode,text:t}}}),Sr({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(e,t){e=e.parser;var n=ns(t[0],"color-token").color;return{type:"color",mode:e.mode,color:n,body:Er(t[1])}},htmlBuilder:fs,mathmlBuilder:gs}),Sr({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(e,t){var n=e.parser;return e=e.breakOnTokenText,t=ns(t[0],"color-token").color,n.gullet.macros.set("\\current@color",t),e=n.parseExpression(!0,e),{type:"color",mode:n.mode,color:t,body:e}},htmlBuilder:fs,mathmlBuilder:gs}),Sr({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler:function(e,t,n){var i="["===(e=e.parser).gullet.future().text?e.parseSizeGroup(!0):null,o=!e.settings.displayMode||!e.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:e.mode,newLine:o,size:i&&ns(i,"size").value}},htmlBuilder:function(e,t){var n=xr.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size)&&(n.style.marginTop=Sa(ba(e.size,t))),n},mathmlBuilder:function(e,t){var n=new Xr.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size)&&n.setAttribute("height",Sa(ba(e.size,t))),n}});var Cs={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Ts=(Sr({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(e){var t=e.parser,n=(e=e.funcName,t.consumeSpaces(),t.fetch());if(Cs[n.text])return"\\global"!==e&&"\\\\globallong"!==e||(n.text=Cs[n.text]),ns(t.parseFunction(),"internal");throw new Wo("Invalid token after macro prefix",n)}}),Sr({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,n=(e=e.funcName,t.gullet.popToken()),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Wo("Expected a control sequence",n);for(var o,a=0,r=[[]];"{"!==t.gullet.future().text;)if("#"===(n=t.gullet.popToken()).text){if("{"===t.gullet.future().text){o=t.gullet.future(),r[a].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Wo('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new Wo('Argument number "'+n.text+'" out of order');a++,r.push([])}else{if("EOF"===n.text)throw new Wo("Expected a macro definition");r[a].push(n.text)}var s=t.gullet.consumeArg().tokens;return o&&s.unshift(o),"\\edef"!==e&&"\\xdef"!==e||(s=t.gullet.expandTokens(s)).reverse(),t.gullet.macros.set(i,{tokens:s,numArgs:a,delimiters:r},e===Cs[e]),{type:"internal",mode:t.mode}}}),Sr({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t,n,i=e.parser,o=(e=e.funcName,vs(i.gullet.popToken()));return i.gullet.consumeSpaces(),bs(i,o,n="="===(n=(t=i).gullet.popToken()).text&&" "===(n=t.gullet.popToken()).text?t.gullet.popToken():n,"\\\\globallet"===e),{type:"internal",mode:i.mode}}}),Sr({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,n=(e=e.funcName,vs(t.gullet.popToken())),i=t.gullet.popToken(),o=t.gullet.popToken();return bs(t,n,o,"\\\\globalfuture"===e),t.gullet.pushToken(o),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}}),function(e,t,n){if(n=ma(za.math[e]&&za.math[e].replace||e,t,n))return n;throw new Error("Unsupported symbol "+e+" and font size "+t+".")}),Ss=function(e,t,n,i){return t=n.havingBaseStyle(t),i=xr.makeSpan(i.concat(t.sizingClasses(n)),[e],n),e=t.sizeMultiplier/n.sizeMultiplier,i.height*=e,i.depth*=e,i.maxFontSize=t.sizeMultiplier,i},Ms=function(e,t,n){n=t.havingBaseStyle(n),n=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight,e.classes.push("delimcenter"),e.style.top=Sa(n),e.height-=n,e.depth+=n},Ds=function(e,t,n,i){return xr.makeSymbol(e,"Size"+t+"-Regular",n,i)},Es=function(e,t,n){var i="Size1-Regular"===t?"delim-size1":"delim-size4";return{type:"elem",elem:xr.makeSpan(["delimsizinginner",i],[xr.makeSpan([],[xr.makeSymbol(e,t,n)])])}},As=function(e,t,n){var i=(ua["Size4-Regular"][e.charCodeAt(0)]?ua["Size4-Regular"]:ua["Size1-Regular"])[e.charCodeAt(0)][4];return e=new La("inner",function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),e=new Oa([e],{width:Sa(i),height:Sa(t),style:"width:"+Sa(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),(e=xr.makeSvgSpan([],[e],n)).height=t,e.style.height=Sa(t),e.style.width=Sa(i),{type:"elem",elem:e}},Fs=.008,Is={type:"kern",size:-1*Fs},Os=["|","\\lvert","\\rvert","\\vert"],Ls=["\\|","\\lVert","\\rVert","\\Vert"],Ps=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Bs=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],$s=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ns=[0,1.2,1.8,2.4,3],zs=[{type:"small",style:ia.SCRIPTSCRIPT},{type:"small",style:ia.SCRIPT},{type:"small",style:ia.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],js=[{type:"small",style:ia.SCRIPTSCRIPT},{type:"small",style:ia.SCRIPT},{type:"small",style:ia.TEXT},{type:"stack"}],Rs=[{type:"small",style:ia.SCRIPTSCRIPT},{type:"small",style:ia.SCRIPT},{type:"small",style:ia.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Gs=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Hs={sqrtImage:function(e,t){var n,i=ks("\\surd",e*(o=t.havingBaseSizing()).sizeMultiplier,Rs,o),o=o.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),r=0,s=0,l=0;return i="small"===i.type?(e<1?o=1:e<1.4&&(o=.7),s=(1+a)/o,(n=ws("sqrtMain",r=(1+a+.08)/o,l=1e3+1e3*a+80,a,t)).style.minWidth="0.853em",.833/o):"large"===i.type?(l=1080*Ns[i.size],s=(Ns[i.size]+a)/o,r=(Ns[i.size]+a+.08)/o,(n=ws("sqrtSize"+i.size,r,l,a,t)).style.minWidth="1.02em",1/o):(s=e+a,(n=ws("sqrtTall",r=e+a+.08,l=Math.floor(1e3*e+a)+80,a,t)).style.minWidth="0.742em",1.056),n.height=s,n.style.height=Sa(r),{span:n,advanceWidth:i,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*o}},sizedDelim:function(e,t,n,i,o){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),Xo.contains(Ps,e)||Xo.contains($s,e))return ys(e,t,!1,n,i,o);if(Xo.contains(Bs,e))return xs(e,Ns[t],!1,n,i,o);throw new Wo("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:Ns,customSizedDelim:_s,leftRightDelim:function(e,t,n,i,o,a){var r=i.fontMetrics().axisHeight*i.sizeMultiplier,s=5/i.fontMetrics().ptPerEm;return t=Math.max(t-r,n+r),_s(e,n=Math.max(t/500*901,2*t-s),!0,i,o,a)}},Ws={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Us=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function qs(e,t){var n=os(e);if(n&&Xo.contains(Us,n.text))return n;throw new Wo(n?"Invalid delimiter '"+n.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Vs(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function Ys(e,t){var n,i,o,a,r=xr.wrapFragment(jr(e.body,t),t),s=e.label.slice(1),l=t.sizeMultiplier,c=0,d=Xo.isCharacterBox(e.body);return"sout"===s?((n=xr.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/l,c=-.5*t.fontMetrics().xHeight):"phase"===s?(i=ba({number:.6,unit:"pt"},t),a=ba({number:.35,unit:"ex"},t),l/=t.havingBaseSizing().sizeMultiplier,o=r.height+r.depth+i+a,r.style.paddingLeft=Sa(o/2+i),l=Math.floor(1e3*o*l),l=new Oa([new La("phase","M400000 "+l+" H0 L"+l/2+" 0 l65 45 L145 "+(l-80)+" H400000z")],{width:"400em",height:Sa(l/1e3),viewBox:"0 0 400000 "+l,preserveAspectRatio:"xMinYMin slice"}),(n=xr.makeSvgSpan(["hide-tail"],[l],t)).style.height=Sa(o),c=r.depth+i+a):(/cancel/.test(s)?d||r.classes.push("cancel-pad"):"angl"===s?r.classes.push("anglpad"):r.classes.push("boxpad"),i=o=l=0,o=/box/.test(s)?(i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),l=t.fontMetrics().fboxsep+("colorbox"===s?0:i)):"angl"===s?(l=4*(i=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),Math.max(0,.25-r.depth)):l=d?.2:0,n=Qr(r,s,l,o,t),/fbox|boxed|fcolorbox/.test(s)?(n.style.borderStyle="solid",n.style.borderWidth=Sa(i)):"angl"===s&&.049!==i&&(n.style.borderTopWidth=Sa(i),n.style.borderRightWidth=Sa(i)),c=r.depth+o,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor)&&(n.style.borderColor=e.borderColor)),l=e.backgroundColor?xr.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:c},{type:"elem",elem:r,shift:0}]},t):(a=/cancel|phase/.test(s)?["svg-align"]:[],xr.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:n,shift:c,wrapperClasses:a}]},t)),/cancel/.test(s)&&(l.height=r.height,l.depth=r.depth),/cancel/.test(s)&&!d?xr.makeSpan(["mord","cancel-lap"],[l],t):xr.makeSpan(["mord"],[l],t)}function Xs(e,t){var n=new Xr.MathNode(-1<e.label.indexOf("colorbox")?"mpadded":"menclose",[Jr(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":var i=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm;n.setAttribute("width","+"+2*i+"pt"),n.setAttribute("height","+"+2*i+"pt"),n.setAttribute("lspace",i+"pt"),n.setAttribute("voffset",i+"pt"),"\\fcolorbox"===e.label&&(i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor)));break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n}Sr({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(e,t){return t=qs(t[0],e),{type:"delimsizing",mode:e.parser.mode,size:Ws[e.funcName].size,mclass:Ws[e.funcName].mclass,delim:t.text}},htmlBuilder:function(e,t){return"."===e.delim?xr.makeSpan([e.mclass]):Hs.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];return"."!==e.delim&&t.push(Gr(e.delim,e.mode)),t=new Xr.MathNode("mo",t),"mopen"===e.mclass||"mclose"===e.mclass?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true"),e=Sa(Hs.sizeToMaxHeight[e.size]),t.setAttribute("minsize",e),t.setAttribute("maxsize",e),t}}),Sr({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(e,t){var n=e.parser.gullet.macros.get("\\current@color");if(n&&"string"!=typeof n)throw new Wo("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:qs(t[0],e).text,color:n}}}),Sr({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(e,t){t=qs(t[0],e);var n=(++(e=e.parser).leftrightDepth,e.parseExpression(!1)),i=(--e.leftrightDepth,e.expect("\\right",!1),ns(e.parseFunction(),"leftright-right"));return{type:"leftright",mode:e.mode,body:n,left:t.text,right:i.delim,rightColor:i.color}},htmlBuilder:function(e,t){Vs(e);for(var n,i=Br(e.body,t,!0,["mopen","mclose"]),o=0,a=0,r=!1,s=0;s<i.length;s++)i[s].isMiddle?r=!0:(o=Math.max(i[s].height,o),a=Math.max(i[s].depth,a));if(o*=t.sizeMultiplier,a*=t.sizeMultiplier,n="."===e.left?Ar(t,["mopen"]):Hs.leftRightDelim(e.left,o,a,t,e.mode,["mopen"]),i.unshift(n),r)for(var l=1;l<i.length;l++){var c=i[l].isMiddle;c&&(i[l]=Hs.leftRightDelim(c.delim,o,a,c.options,e.mode,[]))}return n="."===e.right?Ar(t,["mclose"]):(n=e.rightColor?t.withColor(e.rightColor):t,Hs.leftRightDelim(e.right,o,a,n,e.mode,["mclose"])),i.push(n),xr.makeSpan(["minner"],i,t)},mathmlBuilder:function(e,t){var n;return Vs(e),t=Ur(e.body,t),"."!==e.left&&((n=new Xr.MathNode("mo",[Gr(e.left,e.mode)])).setAttribute("fence","true"),t.unshift(n)),"."!==e.right&&((n=new Xr.MathNode("mo",[Gr(e.right,e.mode)])).setAttribute("fence","true"),e.rightColor&&n.setAttribute("mathcolor",e.rightColor),t.push(n)),Hr(t)}}),Sr({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(e,t){if(t=qs(t[0],e),e.parser.leftrightDepth)return{type:"middle",mode:e.parser.mode,delim:t.text};throw new Wo("\\middle without preceding \\left",t)},htmlBuilder:function(e,t){var n;return"."===e.delim?n=Ar(t,[]):(n=Hs.sizedDelim(e.delim,1,t,e.mode,[]),e={delim:e.delim,options:t},n.isMiddle=e),n},mathmlBuilder:function(e,t){return e="\\vert"===e.delim||"|"===e.delim?Gr("|","text"):Gr(e.delim,e.mode),(e=new Xr.MathNode("mo",[e])).setAttribute("fence","true"),e.setAttribute("lspace","0.05em"),e.setAttribute("rspace","0.05em"),e}}),Sr({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(e,t,n){var i=e.parser,o=(e=e.funcName,ns(t[0],"color-token").color);return{type:"enclose",mode:i.mode,label:e,backgroundColor:o,body:t[1]}},htmlBuilder:Ys,mathmlBuilder:Xs}),Sr({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(e,t,n){var i=e.parser,o=(e=e.funcName,ns(t[0],"color-token").color),a=ns(t[1],"color-token").color;return{type:"enclose",mode:i.mode,label:e,backgroundColor:a,borderColor:o,body:t[2]}},htmlBuilder:Ys,mathmlBuilder:Xs}),Sr({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),Sr({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(e,t){var n=e.parser;return t=t[0],{type:"enclose",mode:n.mode,label:e.funcName,body:t}},htmlBuilder:Ys,mathmlBuilder:Xs}),Sr({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\angl",body:t[0]}}});var Js={};function Ks(e){for(var t=e.type,n=e.names,i=e.htmlBuilder,o=e.mathmlBuilder,a={type:t,numArgs:e.props.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:e.handler},r=0;r<n.length;++r)Js[n[r]]=a;i&&(Cr[t]=i),o&&(Tr[t]=o)}var Zs={};function Qs(e,t){Zs[e]=t}function el(e){var t=[],n=(e.consumeSpaces(),e.fetch().text);for("\\relax"===n&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.fetch().text;return t}function tl(e){if(!e.parser.settings.displayMode)throw new Wo("{"+e.envName+"} can be used only in display mode.")}function nl(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function il(e,t,n){var i=t.hskipBeforeAndAfter,o=t.addJot,a=t.cols,r=t.arraystretch,s=t.colSeparationType,l=t.autoTag,c=t.singleRow,d=t.emptySingleRow,u=t.maxNumCols;if(t=t.leqno,e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!r){var p=e.gullet.expandMacroAsText("\\arraystretch");if(null==p)r=1;else if(!(r=parseFloat(p))||r<0)throw new Wo("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var h=[],m=[h],f=[],g=[],v=null!=l?[]:void 0;function b(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function y(){v&&(e.gullet.macros.get("\\df@tag")?(v.push(e.subparse([new Ho("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):v.push(!!l&&"1"===e.gullet.macros.get("\\@eqnsw")))}for(b(),g.push(el(e));;){var x=e.parseExpression(!1,c?"\\end":"\\\\"),w=(e.gullet.endGroup(),e.gullet.beginGroup(),x={type:"ordgroup",mode:e.mode,body:x},n&&(x={type:"styling",mode:e.mode,style:n,body:[x]}),h.push(x),e.fetch().text);if("&"===w){if(u&&h.length===u){if(c||s)throw new Wo("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===w){y(),1===h.length&&"styling"===x.type&&0===x.body[0].body.length&&(1<m.length||!d)&&m.pop(),g.length<m.length+1&&g.push([]);break}if("\\\\"!==w)throw new Wo("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume(),x=void 0," "!==e.gullet.future().text&&(x=e.parseSizeGroup(!0)),f.push(x?x.value:null),y(),g.push(el(e)),m.push(h=[]),b()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:r,body:m,cols:a,rowGaps:f,hskipBeforeAndAfter:i,hLinesBeforeRow:g,colSeparationType:s,tags:v,leqno:t}}function ol(e){return"d"===e.slice(0,1)?"display":"text"}function al(e,t){var n=e.body.length,i=e.hLinesBeforeRow,o=0,a=new Array(n),r=[],s=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),l=1/t.fontMetrics().ptPerEm,c=5*l,d=(e.colSeparationType&&"small"===e.colSeparationType&&(c=t.havingStyle(ia.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778),"CD"===e.colSeparationType?ba({number:3,unit:"ex"},t):12*l),u=3*l,p=.7*(l=e.arraystretch*d),h=.3*l,m=0;function f(e){for(var t=0;t<e.length;++t)0<t&&(m+=.25),r.push({pos:m,isDashed:e[t]})}for(f(i[0]),j=0;j<e.body.length;++j){for(var g=e.body[j],v=p,b=h,y=(o<g.length&&(o=g.length),new Array(g.length)),x=0;x<g.length;++x){var w=jr(g[x],t);b<w.depth&&(b=w.depth),v<w.height&&(v=w.height),y[x]=w}var k=e.rowGaps[j],_=0;k&&0<(_=ba(k,t))&&(b<(_+=h)&&(b=_),_=0),e.addJot&&(b+=u),y.height=v,y.depth=b,m+=v,y.pos=m,m+=b+_,a[j]=y,f(i[j+1])}var C,T,S=m/2+t.fontMetrics().axisHeight,M=e.cols||[],D=[],E=[];if(e.tags&&e.tags.some(function(e){return e}))for(j=0;j<n;++j){var A=a[j],F=A.pos-S,I=e.tags[j],O=void 0;(O=!0===I?xr.makeSpan(["eqn-num"],[],t):!1===I?xr.makeSpan([],[],t):xr.makeSpan([],Br(I,t,!0),t)).depth=A.depth,O.height=A.height,E.push({type:"elem",elem:O,shift:F})}for(T=x=0;x<o||T<M.length;++x,++T){for(var L=M[T]||{},P=!0;"separator"===L.type;){if(P||((C=xr.makeSpan(["arraycolsep"],[])).style.width=Sa(t.fontMetrics().doubleRuleSep),D.push(C)),"|"!==L.separator&&":"!==L.separator)throw new Wo("Invalid separator type: "+L.separator);var B="|"===L.separator?"solid":"dashed",$=xr.makeSpan(["vertical-separator"],[],t);$.style.height=Sa(m),$.style.borderRightWidth=Sa(s),$.style.borderRightStyle=B,$.style.margin="0 "+Sa(-s/2),(B=m-S)&&($.style.verticalAlign=Sa(-B)),D.push($),L=M[++T]||{},P=!1}if(!(o<=x)){for(var N=void 0,z=((0<x||e.hskipBeforeAndAfter)&&0!==(N=Xo.deflt(L.pregap,c))&&((C=xr.makeSpan(["arraycolsep"],[])).style.width=Sa(N),D.push(C)),[]),j=0;j<n;++j){var R,G=a[j],H=G[x];H&&(R=G.pos-S,H.depth=G.depth,H.height=G.height,z.push({type:"elem",elem:H,shift:R}))}z=xr.makeVList({positionType:"individualShift",children:z},t),z=xr.makeSpan(["col-align-"+(L.align||"c")],[z]),D.push(z),(x<o-1||e.hskipBeforeAndAfter)&&0!==(N=Xo.deflt(L.postgap,c))&&((C=xr.makeSpan(["arraycolsep"],[])).style.width=Sa(N),D.push(C))}}if(a=xr.makeSpan(["mtable"],D),0<r.length){for(var W=xr.makeLineSpan("hline",t,s),U=xr.makeLineSpan("hdashline",t,s),q=[{type:"elem",elem:a,shift:0}];0<r.length;){var V=r.pop(),Y=V.pos-S;q.push(V.isDashed?{type:"elem",elem:U,shift:Y}:{type:"elem",elem:W,shift:Y})}a=xr.makeVList({positionType:"individualShift",children:q},t)}return 0===E.length?xr.makeSpan(["mord"],[a],t):(d=xr.makeVList({positionType:"individualShift",children:E},t),d=xr.makeSpan(["tag"],[d],t),xr.makeFragment([a,d]))}function rl(e,t){for(var n=[],i=new Xr.MathNode("mtd",[],["mtr-glue"]),o=new Xr.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var r=e.body[a],s=[],l=0;l<r.length;l++)s.push(new Xr.MathNode("mtd",[Jr(r[l],t)]));e.tags&&e.tags[a]&&(s.unshift(i),s.push(i),e.leqno?s.unshift(o):s.push(o)),n.push(new Xr.MathNode("mtr",s))}var c=new Xr.MathNode("mtable",n),d=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0),u=(c.setAttribute("rowspacing",Sa(d)),d="","");if(e.cols&&0<e.cols.length){var p=e.cols,h="",m=!1,f=0,g=p.length;"separator"===p[0].type&&(d+="top ",f=1),"separator"===p[p.length-1].type&&(d+="bottom ",--g);for(var v=f;v<g;v++)"align"===p[v].type?(u+=wl[p[v].align],m&&(h+="none "),m=!0):"separator"===p[v].type&&m&&(h+="|"===p[v].separator?"solid ":"dashed ",m=!1);c.setAttribute("columnalign",u.trim()),/[sd]/.test(h)&&c.setAttribute("columnlines",h.trim())}if("align"===e.colSeparationType){for(var b=e.cols||[],y="",x=1;x<b.length;x++)y+=x%2?"0em ":"1em ";c.setAttribute("columnspacing",y.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?c.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?c.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");for(var w="",k=e.hLinesBeforeRow,_=(d=(d+=0<k[0].length?"left ":"")+(0<k[k.length-1].length?"right ":""),1);_<k.length-1;_++)w+=0===k[_].length?"none ":k[_][0]?"dashed ":"solid ";return/[sd]/.test(w)&&c.setAttribute("rowlines",w.trim()),""!==d&&(c=new Xr.MathNode("menclose",[c])).setAttribute("notation",d.trim()),e.arraystretch&&e.arraystretch<1&&(c=new Xr.MathNode("mstyle",[c])).setAttribute("scriptlevel","1"),c}function sl(e,t){-1===e.envName.indexOf("ed")&&tl(e);var n,i=[],o=-1<e.envName.indexOf("at")?"alignat":"align",a="split"===e.envName,r=(o=il(e.parser,{cols:i,addJot:!0,autoTag:a?void 0:nl(e.envName),emptySingleRow:!0,colSeparationType:o,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),0),s={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var l="",c=0;c<t[0].body.length;c++)l+=ns(t[0].body[c],"textord").text;n=Number(l),r=2*n}var d=!r;o.body.forEach(function(e){for(var t=1;t<e.length;t+=2){var i=ns(e[t],"styling");ns(i.body[0],"ordgroup").body.unshift(s)}if(d)r<e.length&&(r=e.length);else{var o=e.length/2;if(n<o)throw new Wo("Too many math in a row: expected "+n+", but got "+o,e[0])}});for(var u=0;u<r;++u){var p="r",h=0;u%2==1?p="l":0<u&&d&&(h=1),i[u]={type:"align",align:p,pregap:h,postgap:0}}return o.colSeparationType=d?"align":"alignat",o}function ll(e,t){var n=e.font;return t=t.withFont(n),jr(e.body,t)}function cl(e,t){var n=e.font;return t=t.withFont(n),Jr(e.body,t)}function dl(e,t){return"display"===e?t=t.id>=ia.SCRIPT.id?t.text():ia.DISPLAY:"text"===e&&t.size===ia.DISPLAY.size?t=ia.TEXT:"script"===e?t=ia.SCRIPT:"scriptscript"===e&&(t=ia.SCRIPTSCRIPT),t}function ul(e,t){var n,i,o,a,r=dl(e.size,t.style),s=r.fracNum(),l=r.fracDen(),c=(s=t.havingStyle(s),jr(e.numer,s,t)),d=(e.continued&&(d=8.5/t.fontMetrics().ptPerEm,u=3.5/t.fontMetrics().ptPerEm,c.height=c.height<d?d:c.height,c.depth=c.depth<u?u:c.depth),s=t.havingStyle(l),jr(e.denom,s,t)),u=e.hasBarLine?(i=(a=e.barSize?(i=ba(e.barSize,t),xr.makeLineSpan("frac-line",t,i)):xr.makeLineSpan("frac-line",t)).height,a.height):(a=null,i=0,t.fontMetrics().defaultRuleThickness);return l=r.size===ia.DISPLAY.size||"display"===e.size?(n=t.fontMetrics().num1,o=0<i?3*u:7*u,t.fontMetrics().denom1):(o=0<i?(n=t.fontMetrics().num2,u):(n=t.fontMetrics().num3,3*u),t.fontMetrics().denom2),u=a?(u=t.fontMetrics().axisHeight,n-c.depth-(u+.5*i)<o&&(n+=o-(n-c.depth-(u+.5*i))),u-.5*i-(d.height-l)<o&&(l+=o-(u-.5*i-(d.height-l))),xr.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:l},{type:"elem",elem:a,shift:-(u-.5*i)},{type:"elem",elem:c,shift:-n}]},t)):((a=n-c.depth-(d.height-l))<o&&(n+=.5*(o-a),l+=.5*(o-a)),xr.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:l},{type:"elem",elem:c,shift:-n}]},t)),s=t.havingStyle(r),u.height*=s.sizeMultiplier/t.sizeMultiplier,u.depth*=s.sizeMultiplier/t.sizeMultiplier,i=r.size===ia.DISPLAY.size?t.fontMetrics().delim1:(r.size===ia.SCRIPTSCRIPT.size?t.havingStyle(ia.SCRIPT):t).fontMetrics().delim2,o=null==e.leftDelim?Ar(t,["mopen"]):Hs.customSizedDelim(e.leftDelim,i,!0,t.havingStyle(r),e.mode,["mopen"]),a=e.continued?xr.makeSpan([]):null==e.rightDelim?Ar(t,["mclose"]):Hs.customSizedDelim(e.rightDelim,i,!0,t.havingStyle(r),e.mode,["mclose"]),xr.makeSpan(["mord"].concat(s.sizingClasses(t)),[o,xr.makeSpan(["mfrac"],[u]),a],t)}function pl(e,t){var n=new Xr.MathNode("mfrac",[Jr(e.numer,t),Jr(e.denom,t)]),i=(e.hasBarLine?e.barSize&&(i=ba(e.barSize,t),n.setAttribute("linethickness",Sa(i))):n.setAttribute("linethickness","0px"),dl(e.size,t.style));return i.size!==t.style.size&&(n=new Xr.MathNode("mstyle",[n]),t=i.size===ia.DISPLAY.size?"true":"false",n.setAttribute("displaystyle",t),n.setAttribute("scriptlevel","0")),null!=e.leftDelim||null!=e.rightDelim?(i=[],null!=e.leftDelim&&((t=new Xr.MathNode("mo",[new Xr.TextNode(e.leftDelim.replace("\\",""))])).setAttribute("fence","true"),i.push(t)),i.push(n),null!=e.rightDelim&&((t=new Xr.MathNode("mo",[new Xr.TextNode(e.rightDelim.replace("\\",""))])).setAttribute("fence","true"),i.push(t)),Hr(i)):n}function hl(e){var t=null;return 0<e.length?"."===(t=e)?null:e:t}function ml(e,t){var n,i,o=t.style,a=(o="supsub"===e.type?(n=e.sup?jr(e.sup,t.havingStyle(o.sup()),t):jr(e.sub,t.havingStyle(o.sub()),t),ns(e.base,"horizBrace")):ns(e,"horizBrace"),e=jr(o.base,t.havingBaseStyle(ia.DISPLAY)),ts(o,t));return(o.isOver?(i=xr.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[1]:(i=xr.makeVList({positionType:"bottom",positionData:e.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:e}]},t)).children[0].children[0].children[0]).classes.push("svg-align"),n&&(a=xr.makeSpan(["mord",o.isOver?"mover":"munder"],[i],t),i=o.isOver?xr.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.2},{type:"elem",elem:n}]},t):xr.makeVList({positionType:"bottom",positionData:a.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:a}]},t)),xr.makeSpan(["mord",o.isOver?"mover":"munder"],[i],t)}function fl(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new Wo("Invalid size: '"+e+"' in \\includegraphics");if(va(e={number:+(t[1]+t[2]),unit:t[3]}))return e;throw new Wo("Invalid unit: '"+e.unit+"' in \\includegraphics.")}function gl(e,t){switch(t.style.size){case ia.DISPLAY.size:return e.display;case ia.TEXT.size:return e.text;case ia.SCRIPT.size:return e.script;case ia.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}}function vl(e,t,n,i,o,a,r){e=xr.makeSpan([],[e]);var s,l,c=n&&Xo.isCharacterBox(n);if(t&&(s={elem:t=jr(t,i.havingStyle(o.sup()),i),kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-t.depth)}),n&&(l={elem:t=jr(n,i.havingStyle(o.sub()),i),kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-t.height)}),s&&l){n=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+r;var d=xr.makeVList({positionType:"bottom",positionData:n,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Sa(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:s.kern},{type:"elem",elem:s.elem,marginLeft:Sa(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l)o=e.height-r,d=xr.makeVList({positionType:"top",positionData:o,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Sa(-a)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},i);else{if(!s)return e;t=e.depth+r,d=xr.makeVList({positionType:"bottom",positionData:t,children:[{type:"elem",elem:e},{type:"kern",size:s.kern},{type:"elem",elem:s.elem,marginLeft:Sa(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}return n=[d],l&&0!==a&&!c&&((o=xr.makeSpan(["mspace"],[],i)).style.marginRight=Sa(a),n.unshift(o)),xr.makeSpan(["mop","op-limits"],n,i)}function bl(e,t){var n,i,o,a=!1,r=!1;if(("supsub"===e.type?(n=e.sup,i=e.sub,o=ns(e.base,"op"),a=!0):o=ns(e,"op"),e=t.style).size===ia.DISPLAY.size&&o.symbol&&!Xo.contains(Tl,o.name)&&(r=!0),o.symbol){var s,l=r?"Size2-Regular":"Size1-Regular",c="";"\\oiint"!==o.name&&"\\oiiint"!==o.name||(c=o.name.slice(1),o.name="oiint"===c?"\\iint":"\\iiint"),l=xr.makeSymbol(o.name,l,"math",t,["mop","op-symbol",r?"large-op":"small-op"]),0<c.length&&(s=l.italic,d=xr.staticSvg(c+"Size"+(r?"2":"1"),t),l=xr.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:d,shift:r?.08:0}]},t),o.name="\\"+c,l.classes.unshift("mop"),l.italic=s)}else if(o.body){var d=Br(o.body,t,!0);1===d.length&&d[0]instanceof Ia?(l=d[0]).classes[0]="mop":l=xr.makeSpan(["mop"],d,t)}else{for(var u=[],p=1;p<o.name.length;p++)u.push(xr.mathsym(o.name[p],o.mode,t));l=xr.makeSpan(["mop"],u,t)}return c=r=0,(l instanceof Ia||"\\oiint"===o.name||"\\oiiint"===o.name)&&!o.suppressBaseShift&&(r=(l.height-l.depth)/2-t.fontMetrics().axisHeight,c=l.italic),a?vl(l,n,i,t,e,c,r):(r&&(l.style.position="relative",l.style.top=Sa(r)),l)}function yl(e,t){var n;return e.symbol?(n=new Vr("mo",[Gr(e.name,e.mode)]),Xo.contains(Tl,e.name)&&n.setAttribute("largeop","false")):n=e.body?new Vr("mo",Ur(e.body,t)):(n=new Vr("mi",[new Yr(e.name.slice(1))]),t=new Vr("mo",[Gr("⁡","text")]),e.parentIsSupSub?new Vr("mrow",[n,t]):Rr([n,t])),n}function xl(e,t){var n,i,o,a,r=!1;if("supsub"===e.type?(n=e.sup,i=e.sub,o=ns(e.base,"operatorname"),r=!0):o=ns(e,"operatorname"),0<o.body.length){e=o.body.map(function(e){var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e});for(var s=Br(e,t.withFont("mathrm"),!0),l=0;l<s.length;l++){var c=s[l];c instanceof Ia&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=xr.makeSpan(["mop"],s,t)}else a=xr.makeSpan(["mop"],[],t);return r?vl(a,n,i,t,t.style,0,0):a}var wl={c:"center ",l:"left ",r:"right "},kl=(Ks({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){return t={cols:t=(os(t[0])?[t[0]]:ns(t[0],"ordgroup").body).map(function(e){var t=is(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new Wo("Unknown column alignment: "+t,e)}),hskipBeforeAndAfter:!0,maxNumCols:t.length},il(e.parser,t,ol(e.envName))},htmlBuilder:al,mathmlBuilder:rl}),Ks({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if("*"===e.envName.charAt(e.envName.length-1)){var o=e.parser;if(o.consumeSpaces(),"["===o.fetch().text){if(o.consume(),o.consumeSpaces(),n=o.fetch().text,-1==="lcr".indexOf(n))throw new Wo("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),i.cols=[{type:"align",align:n}]}}return o=il(e.parser,i,ol(e.envName)),i=Math.max.apply(Math,[0].concat(u(o.body.map(function(e){return e.length})))),o.cols=new Array(i).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:al,mathmlBuilder:rl}),Ks({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(e){return(e=il(e.parser,{arraystretch:.5},"script")).colSeparationType="small",e},htmlBuilder:al,mathmlBuilder:rl}),Ks({type:"array",names:["subarray"],props:{numArgs:1},handler:function(e,t){if(1<(t=(os(t[0])?[t[0]]:ns(t[0],"ordgroup").body).map(function(e){var t=is(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new Wo("Unknown column alignment: "+t,e)})).length)throw new Wo("{subarray} can contain only one column");if(0<(e=il(e.parser,{cols:t,hskipBeforeAndAfter:!1,arraystretch:.5},"script")).body.length&&1<e.body[0].length)throw new Wo("{subarray} can contain only one column");return e},htmlBuilder:al,mathmlBuilder:rl}),Ks({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(e){var t=il(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},ol(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:-1<e.envName.indexOf("r")?".":"\\{",right:-1<e.envName.indexOf("r")?"\\}":".",rightColor:void 0}},htmlBuilder:al,mathmlBuilder:rl}),Ks({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:sl,htmlBuilder:al,mathmlBuilder:rl}),Ks({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(e){Xo.contains(["gather","gather*"],e.envName)&&tl(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:nl(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return il(e.parser,t,"display")},htmlBuilder:al,mathmlBuilder:rl}),Ks({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:sl,htmlBuilder:al,mathmlBuilder:rl}),Ks({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(e){tl(e);var t={autoTag:nl(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return il(e.parser,t,"display")},htmlBuilder:al,mathmlBuilder:rl}),Ks({type:"array",names:["CD"],props:{numArgs:0},handler:function(e){return tl(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if("&"!==n&&"\\\\"!==n){if("\\end"!==n)throw new Wo("Expected \\\\ or \\cr or \\end",e.nextToken);0===t[t.length-1].length&&t.pop();break}e.consume()}for(var i,o,a=[],r=[a],s=0;s<t.length;s++){for(var l=t[s],c={type:"styling",body:[],mode:"math",style:"display"},d=0;d<l.length;d++)if(hs(l[d])){a.push(c);var u=is(l[d+=1]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},!(-1<"=|.".indexOf(u))){if(!(-1<"<>AV".indexOf(u)))throw new Wo('Expected one of "<>AV=|." after @',l[d]);for(var h=0;h<2;h++){for(var m=!0,f=d+1;f<l.length;f++){if(o=u,("mathord"===(i=l[f]).type||"atom"===i.type)&&i.text===o){m=!1,d=f;break}if(hs(l[f]))throw new Wo("Missing a "+u+" character to complete a CD arrow.",l[f]);p[h].body.push(l[f])}if(m)throw new Wo("Missing a "+u+" character to complete a CD arrow.",l[d])}}var g=function(e,t,n){var i=ms[u];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var o=n.callFunction("\\\\cdleft",[t[0]],[]),a=n.callFunction("\\Big",[{type:"atom",text:i,mode:"math",family:"rel"}],[]),r=n.callFunction("\\\\cdright",[t[1]],[]);return n.callFunction("\\\\cdparent",[{type:"ordgroup",mode:"math",body:[o,a,r]}],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return n.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}(0,p,e);a.push({type:"styling",body:[g],mode:"math",style:"display"}),c={type:"styling",body:[],mode:"math",style:"display"}}else c.body.push(l[d]);s%2==0?a.push(c):a.shift(),r.push(a=[])}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}(e.parser)},htmlBuilder:al,mathmlBuilder:rl}),Qs("\\nonumber","\\gdef\\@eqnsw{0}"),Qs("\\notag","\\nonumber"),Sr({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new Wo(e.funcName+" valid only within array environment")}}),Js),_l=(Sr({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var n=e.parser,i=(e=e.funcName,t[0]);if("ordgroup"!==i.type)throw new Wo("Invalid environment name",i);for(var o="",a=0;a<i.body.length;++a)o+=ns(i.body[a],"textord").text;if("\\begin"!==e)return{type:"environment",mode:n.mode,name:o,nameGroup:i};if(!kl.hasOwnProperty(o))throw new Wo("No such environment: "+o,i);t=kl[o];var r=(e=n.parseArguments("\\begin{"+o+"}",t)).args,s={mode:n.mode,envName:o,parser:n};if(t=t.handler(s,r,e.optArgs),n.expect("\\end",!1),s=n.nextToken,(r=ns(n.parseFunction(),"environment")).name!==o)throw new Wo("Mismatch: \\begin{"+o+"} matched by \\end{"+r.name+"}",s);return t}}),{"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"}),Cl=(Sr({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(e,t){var n=e.parser;return t=Dr(t[0]),e=e.funcName,{type:"font",mode:n.mode,font:(e=e in _l?_l[e]:e).slice(1),body:t}},htmlBuilder:ll,mathmlBuilder:cl}),Sr({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(e,t){e=e.parser,t=t[0];var n=Xo.isCharacterBox(t);return{type:"mclass",mode:e.mode,mclass:ps(t),body:[{type:"font",mode:e.mode,font:"boldsymbol",body:t}],isCharacterBox:n}}}),Sr({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.parser,i=e.funcName,o=n.mode;return e=n.parseExpression(!0,e.breakOnTokenText),{type:"font",mode:o,font:"math"+i.slice(1),body:{type:"ordgroup",mode:n.mode,body:e}}},htmlBuilder:ll,mathmlBuilder:cl}),Sr({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(e,t){var n,i=e.parser,o=(e=e.funcName,t[0]),a=(t=t[1],null),r=null,s="auto";switch(e){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,a="(",r=")";break;case"\\\\bracefrac":n=!1,a="\\{",r="\\}";break;case"\\\\brackfrac":n=!1,a="[",r="]";break;default:throw new Error("Unrecognized genfrac command")}switch(e){case"\\dfrac":case"\\dbinom":s="display";break;case"\\tfrac":case"\\tbinom":s="text"}return{type:"genfrac",mode:i.mode,continued:!1,numer:o,denom:t,hasBarLine:n,leftDelim:a,rightDelim:r,size:s,barSize:null}},htmlBuilder:ul,mathmlBuilder:pl}),Sr({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(e,t){e=e.parser;var n=t[0];return{type:"genfrac",mode:e.mode,continued:!0,numer:n,denom:t[1],hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Sr({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t,n=e.parser,i=e.token;switch(e.funcName){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:i}}}),["display","text","script","scriptscript"]),Tl=(Sr({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){e=e.parser;var n,i=t[4],o=t[5],a="atom"===(a=Dr(t[0])).type&&"open"===a.family?hl(a.text):null,r="atom"===(r=Dr(t[1])).type&&"close"===r.family?hl(r.text):null,s=null,l=!!(l=ns(t[2],"size")).isBlank||0<(s=l.value).number,c="auto";return"ordgroup"===(t=t[3]).type?0<t.body.length&&(n=ns(t.body[0],"textord"),c=Cl[Number(n.text)]):(t=ns(t,"textord"),c=Cl[Number(t.text)]),{type:"genfrac",mode:e.mode,numer:i,denom:o,continued:!1,hasBarLine:l,barSize:s,leftDelim:a,rightDelim:r,size:c}},htmlBuilder:ul,mathmlBuilder:pl}),Sr({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var n=e.parser;return e=e.token,{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:ns(t[0],"size").value,token:e}}}),Sr({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){e=e.parser;var n=t[0],i=function(e){if(e)return e;throw new Error("Expected non-null, but got "+String(e))}(ns(t[1],"infix").size),o=0<i.number;return{type:"genfrac",mode:e.mode,numer:n,denom:t[2],continued:!1,hasBarLine:o,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ul,mathmlBuilder:pl}),Sr({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var n=e.parser;return e=e.funcName,{type:"horizBrace",mode:n.mode,label:e,isOver:/^\\over/.test(e),base:t[0]}},htmlBuilder:ml,mathmlBuilder:function(e,t){var n=es(e.label);return new Xr.MathNode(e.isOver?"mover":"munder",[Jr(e.base,t),n])}}),Sr({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){e=e.parser;var n=t[1];return t=ns(t[0],"url").url,e.settings.isTrusted({command:"\\href",url:t})?{type:"href",mode:e.mode,href:t,body:Er(n)}:e.formatUnsupportedCmd("\\href")},htmlBuilder:function(e,t){var n=Br(e.body,t,!1);return xr.makeAnchor(e.href,[],n,t)},mathmlBuilder:function(e,t){return(t=(t=qr(e.body,t))instanceof Vr?t:new Vr("mrow",[t])).setAttribute("href",e.href),t}}),Sr({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){e=e.parser;var n=ns(t[0],"url").url;if(!e.settings.isTrusted({command:"\\url",url:n}))return e.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<n.length;o++){var a=n[o];i.push({type:"textord",mode:"text",text:a="~"===a?"\\textasciitilde":a})}return t={type:"text",mode:e.mode,font:"\\texttt",body:i},{type:"href",mode:e.mode,href:n,body:Er(t)}}}),Sr({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(e,t){return{type:"hbox",mode:e.parser.mode,body:Er(t[0])}},htmlBuilder:function(e,t){return e=Br(e.body,t,!1),xr.makeFragment(e)},mathmlBuilder:function(e,t){return new Xr.MathNode("mrow",Ur(e.body,t))}}),Sr({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(e,t){var n=e.parser,i=(e=e.funcName,ns(t[0],"raw").string);t=t[1],n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,a={};switch(e){case"\\htmlClass":o={command:"\\htmlClass",class:a.class=i};break;case"\\htmlId":o={command:"\\htmlId",id:a.id=i};break;case"\\htmlStyle":o={command:"\\htmlStyle",style:a.style=i};break;case"\\htmlData":for(var r=i.split(","),s=0;s<r.length;s++){var l=r[s].split("=");if(2!==l.length)throw new Wo("Error parsing key-value for \\htmlData");a["data-"+l[0].trim()]=l[1].trim()}o={command:"\\htmlData",attributes:a};break;default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:a,body:Er(t)}:n.formatUnsupportedCmd(e)},htmlBuilder:function(e,t){var n,i=Br(e.body,t,!1),o=["enclosing"],a=(e.attributes.class&&o.push.apply(o,u(e.attributes.class.trim().split(/\s+/))),xr.makeSpan(o,i,t));for(n in e.attributes)"class"!==n&&e.attributes.hasOwnProperty(n)&&a.setAttribute(n,e.attributes[n]);return a},mathmlBuilder:function(e,t){return qr(e.body,t)}}),Sr({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:Er(t[0]),mathml:Er(t[1])}},htmlBuilder:function(e,t){return e=Br(e.html,t,!1),xr.makeFragment(e)},mathmlBuilder:function(e,t){return qr(e.mathml,t)}}),Sr({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(e,t,n){e=e.parser;var i={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},r="";if(n[0])for(var s=ns(n[0],"raw").string.split(","),l=0;l<s.length;l++){var c=s[l].split("=");if(2===c.length){var d=c[1].trim();switch(c[0].trim()){case"alt":r=d;break;case"width":i=fl(d);break;case"height":o=fl(d);break;case"totalheight":a=fl(d);break;default:throw new Wo("Invalid key: '"+c[0]+"' in \\includegraphics.")}}}return n=ns(t[0],"url").url,""===r&&(r=(r=(r=n).replace(/^.*[\\/]/,"")).substring(0,r.lastIndexOf("."))),e.settings.isTrusted({command:"\\includegraphics",url:n})?{type:"includegraphics",mode:e.mode,alt:r,width:i,height:o,totalheight:a,src:n}:e.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(e,t){var n=ba(e.height,t),i=0,o=(0<e.totalheight.number&&(i=ba(e.totalheight,t)-n),0);return 0<e.width.number&&(o=ba(e.width,t)),t={height:Sa(n+i)},(0<o&&(t.width=Sa(o)),0<i&&(t.verticalAlign=Sa(-i)),o=new Aa(e.src,e.alt,t)).height=n,o.depth=i,o},mathmlBuilder:function(e,t){var n=new Xr.MathNode("mglyph",[]),i=(n.setAttribute("alt",e.alt),ba(e.height,t)),o=0;return 0<e.totalheight.number&&(o=ba(e.totalheight,t)-i,n.setAttribute("valign",Sa(-o))),n.setAttribute("height",Sa(i+o)),0<e.width.number&&(i=ba(e.width,t),n.setAttribute("width",Sa(i))),n.setAttribute("src",e.src),n}}),Sr({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(e,t){var n,i,o=e.parser;return e=e.funcName,t=ns(t[0],"size"),o.settings.strict&&(n="m"===e[1],i="mu"===t.value.unit,n?(i||o.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+e+" supports only mu units, not "+t.value.unit+" units"),"math"!==o.mode&&o.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+e+" works only in math mode")):i&&o.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+e+" doesn't support mu units")),{type:"kern",mode:o.mode,dimension:t.value}},htmlBuilder:function(e,t){return xr.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){return e=ba(e.dimension,t),new Xr.SpaceNode(e)}}),Sr({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var n=e.parser;return e=e.funcName,t=t[0],{type:"lap",mode:n.mode,alignment:e.slice(5),body:t}},htmlBuilder:function(e,t){var n="clap"===e.alignment?(n=xr.makeSpan([],[jr(e.body,t)]),xr.makeSpan(["inner"],[n],t)):xr.makeSpan(["inner"],[jr(e.body,t)]),i=xr.makeSpan(["fix"],[]);return e=xr.makeSpan([e.alignment],[n,i],t),(n=xr.makeSpan(["strut"])).style.height=Sa(e.height+e.depth),e.depth&&(n.style.verticalAlign=Sa(-e.depth)),e.children.unshift(n),e=xr.makeSpan(["thinbox"],[e],t),xr.makeSpan(["mord","vbox"],[e],t)},mathmlBuilder:function(e,t){return t=new Xr.MathNode("mpadded",[Jr(e.body,t)]),"rlap"!==e.alignment&&(e="llap"===e.alignment?"-1":"-0.5",t.setAttribute("lspace",e+"width")),t.setAttribute("width","0px"),t}}),Sr({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var n=e.funcName,i=(e=e.parser).mode,o=(e.switchMode("math"),n="\\("===n?"\\)":"$",e.parseExpression(!1,n));return e.expect(n),e.switchMode(i),{type:"styling",mode:e.mode,style:"text",body:o}}}),Sr({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new Wo("Mismatched "+e.funcName)}}),Sr({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:Er(t[0]),text:Er(t[1]),script:Er(t[2]),scriptscript:Er(t[3])}},htmlBuilder:function(e,t){return e=gl(e,t),e=Br(e,t,!1),xr.makeFragment(e)},mathmlBuilder:function(e,t){return qr(e=gl(e,t),t)}}),["\\smallint"]),Sl={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"},Ml=(Sr({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(e,t){var n=e.parser;return 1===(e=e.funcName).length&&(e=Sl[e]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:e}},htmlBuilder:bl,mathmlBuilder:yl}),Sr({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(e,t){return e=e.parser,t=t[0],{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Er(t)}},htmlBuilder:bl,mathmlBuilder:yl}),{"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"});function Dl(e,t,n){for(var i=Br(e,t,!1),o=t.sizeMultiplier/n.sizeMultiplier,a=0;a<i.length;a++){var r=i[a].classes.indexOf("sizing");r<0?Array.prototype.push.apply(i[a].classes,t.sizingClasses(n)):i[a].classes[r+1]==="reset-size"+t.size&&(i[a].classes[r+1]="reset-size"+n.size),i[a].height*=o,i[a].depth*=o}return xr.makeFragment(i)}function El(){var e=new Xr.MathNode("mtd",[]);return e.setAttribute("width","50%"),e}function Al(e,t){return(e=e.font)?Nl[e]?t.withTextFontFamily(Nl[e]):zl[e]?t.withTextFontWeight(zl[e]):"\\emph"===e?"textit"===t.fontShape?t.withTextFontShape("textup"):t.withTextFontShape("textit"):t.withTextFontShape(jl[e]):t}function Fl(e,t,n){var i=e.consumeArg().tokens;if(1!==i.length)throw new Wo("\\newcommand's first argument must be a macro name");var o=i[0].text,a=e.isDefined(o);if(a&&!t)throw new Wo("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!a&&!n)throw new Wo("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");if(t=0,1===(i=e.consumeArg().tokens).length&&"["===i[0].text){for(var r="",s=e.expandNextToken();"]"!==s.text&&"EOF"!==s.text;)r+=s.text,s=e.expandNextToken();if(!r.match(/^\s*[0-9]+\s*$/))throw new Wo("Invalid number of arguments: "+r);t=parseInt(r),i=e.consumeArg().tokens}return e.macros.set(o,{tokens:i,numArgs:t}),""}function Il(e){return function(t){function n(t){return function(n){e&&(n.macros.set("|",s),a.length)&&n.macros.set("\\|",l);var i=t;return!t&&a.length&&"|"===n.future().text&&(n.popToken(),i=!0),{tokens:i?a:o,numArgs:0}}}var i=t.consumeArg().tokens,o=t.consumeArg().tokens,a=t.consumeArg().tokens,r=t.consumeArg().tokens,s=t.macros.get("|"),l=t.macros.get("\\|"),c=(t.macros.beginGroup(),t.macros.set("|",n(!1)),a.length&&t.macros.set("\\|",n(!0)),t.consumeArg().tokens);return r=t.expandTokens([].concat(u(r),u(c),u(i))),t.macros.endGroup(),{tokens:r.reverse(),numArgs:0}}}Sr({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){return{type:"op",mode:e.parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:e.funcName}},htmlBuilder:bl,mathmlBuilder:yl}),Sr({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){return{type:"op",mode:e.parser.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:e.funcName}},htmlBuilder:bl,mathmlBuilder:yl}),Sr({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(e){var t=e.parser;return 1===(e=e.funcName).length&&(e=Ml[e]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:e}},htmlBuilder:bl,mathmlBuilder:yl}),Sr({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(e,t){var n=e.parser;return t=t[0],{type:"operatorname",mode:n.mode,body:Er(t),alwaysHandleSupSub:"\\operatornamewithlimits"===e.funcName,limits:!1,parentIsSupSub:!1}},htmlBuilder:xl,mathmlBuilder:function(e,t){for(var n=Ur(e.body,t.withFont("mathrm")),i=!0,o=0;o<n.length;o++){var a=n[o];if(!(a instanceof Xr.SpaceNode))if(a instanceof Xr.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var r=a.children[0];1===a.children.length&&r instanceof Xr.TextNode?r.text=r.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break;default:i=!1}else i=!1}i&&(t=n.map(function(e){return e.toText()}).join(""),n=[new Xr.TextNode(t)]);var s=((t=new Xr.MathNode("mi",n)).setAttribute("mathvariant","normal"),new Xr.MathNode("mo",[Gr("⁡","text")]));return e.parentIsSupSub?new Xr.MathNode("mrow",[t,s]):Xr.newDocumentFragment([t,s])}}),Qs("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Mr({type:"ordgroup",htmlBuilder:function(e,t){return e.semisimple?xr.makeFragment(Br(e.body,t,!1)):xr.makeSpan(["mord"],Br(e.body,t,!0),t)},mathmlBuilder:function(e,t){return qr(e.body,t,!0)}}),Sr({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){return e=e.parser,t=t[0],{type:"overline",mode:e.mode,body:t}},htmlBuilder:function(e,t){e=jr(e.body,t.havingCrampedStyle());var n=xr.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness;return e=xr.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:e},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t),xr.makeSpan(["mord","overline"],[e],t)},mathmlBuilder:function(e,t){var n=new Xr.MathNode("mo",[new Xr.TextNode("‾")]);return(n.setAttribute("stretchy","true"),e=new Xr.MathNode("mover",[Jr(e.body,t),n])).setAttribute("accent","true"),e}}),Sr({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return e=e.parser,t=t[0],{type:"phantom",mode:e.mode,body:Er(t)}},htmlBuilder:function(e,t){return e=Br(e.body,t.withPhantom(),!1),xr.makeFragment(e)},mathmlBuilder:function(e,t){return e=Ur(e.body,t),new Xr.MathNode("mphantom",e)}}),Sr({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return e=e.parser,t=t[0],{type:"hphantom",mode:e.mode,body:t}},htmlBuilder:function(e,t){var n=xr.makeSpan([],[jr(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=xr.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),xr.makeSpan(["mord"],[n],t)},mathmlBuilder:function(e,t){return e=Ur(Er(e.body),t),t=new Xr.MathNode("mphantom",e),(e=new Xr.MathNode("mpadded",[t])).setAttribute("height","0px"),e.setAttribute("depth","0px"),e}}),Sr({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return e=e.parser,t=t[0],{type:"vphantom",mode:e.mode,body:t}},htmlBuilder:function(e,t){e=xr.makeSpan(["inner"],[jr(e.body,t.withPhantom())]);var n=xr.makeSpan(["fix"],[]);return xr.makeSpan(["mord","rlap"],[e,n],t)},mathmlBuilder:function(e,t){return e=Ur(Er(e.body),t),t=new Xr.MathNode("mphantom",e),(e=new Xr.MathNode("mpadded",[t])).setAttribute("width","0px"),e}}),Sr({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(e,t){e=e.parser;var n=ns(t[0],"size").value;return{type:"raisebox",mode:e.mode,dy:n,body:t[1]}},htmlBuilder:function(e,t){var n=jr(e.body,t);return e=ba(e.dy,t),xr.makeVList({positionType:"shift",positionData:-e,children:[{type:"elem",elem:n}]},t)},mathmlBuilder:function(e,t){return t=new Xr.MathNode("mpadded",[Jr(e.body,t)]),e=e.dy.number+e.dy.unit,t.setAttribute("voffset",e),t}}),Sr({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler:function(e){return{type:"internal",mode:e.parser.mode}}}),Sr({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,n){e=e.parser,n=n[0];var i=ns(t[0],"size");return t=ns(t[1],"size"),{type:"rule",mode:e.mode,shift:n&&ns(n,"size").value,width:i.value,height:t.value}},htmlBuilder:function(e,t){var n=xr.makeSpan(["mord","rule"],[],t),i=ba(e.width,t),o=ba(e.height,t);return e=e.shift?ba(e.shift,t):0,n.style.borderRightWidth=Sa(i),n.style.borderTopWidth=Sa(o),n.style.bottom=Sa(e),n.width=i,n.height=o+e,n.depth=-e,n.maxFontSize=1.125*o*t.sizeMultiplier,n},mathmlBuilder:function(e,t){var n=ba(e.width,t),i=ba(e.height,t),o=(e=e.shift?ba(e.shift,t):0,t=t.color&&t.getColor()||"black",new Xr.MathNode("mspace"));return o.setAttribute("mathbackground",t),o.setAttribute("width",Sa(n)),o.setAttribute("height",Sa(i)),t=new Xr.MathNode("mpadded",[o]),0<=e?t.setAttribute("height",Sa(e)):(t.setAttribute("height",Sa(e)),t.setAttribute("depth",Sa(-e))),t.setAttribute("voffset",Sa(e)),t}});var Ol=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Ll=(Sr({type:"sizing",names:Ol,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var n=e.breakOnTokenText,i=e.funcName;return n=(e=e.parser).parseExpression(!1,n),{type:"sizing",mode:e.mode,size:Ol.indexOf(i)+1,body:n}},htmlBuilder:function(e,t){var n=t.havingSize(e.size);return Dl(e.body,n,t)},mathmlBuilder:function(e,t){return t=t.havingSize(e.size),e=Ur(e.body,t),(e=new Xr.MathNode("mstyle",e)).setAttribute("mathsize",Sa(t.sizeMultiplier)),e}}),Sr({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,n){e=e.parser;var i=!1,o=!1,a=n[0]&&ns(n[0],"ordgroup");if(a)for(var r,s=0;s<a.body.length;++s)if("t"===(r=a.body[s].text))i=!0;else{if("b"!==r){o=i=!1;break}o=!0}else o=i=!0;return n=t[0],{type:"smash",mode:e.mode,body:n,smashHeight:i,smashDepth:o}},htmlBuilder:function(e,t){var n=xr.makeSpan([],[jr(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;return e=xr.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),xr.makeSpan(["mord"],[e],t)},mathmlBuilder:function(e,t){return t=new Xr.MathNode("mpadded",[Jr(e.body,t)]),e.smashHeight&&t.setAttribute("height","0px"),e.smashDepth&&t.setAttribute("depth","0px"),t}}),Sr({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,n){return e=e.parser,n=n[0],t=t[0],{type:"sqrt",mode:e.mode,body:t,index:n}},htmlBuilder:function(e,t){0===(n=jr(e.body,t.havingCrampedStyle())).height&&(n.height=t.fontMetrics().xHeight);var n=xr.wrapFragment(n,t),i=o=t.fontMetrics().defaultRuleThickness,o=(i=o+(i=t.style.id<ia.TEXT.id?t.fontMetrics().xHeight:i)/4,n.height+n.depth+i+o),a=(o=Hs.sqrtImage(o,t)).span,r=o.ruleWidth,s=((s=a.height-r)>n.height+n.depth+i&&(i=(i+s-n.height-n.depth)/2),a.height-n.height-i-r);return n.style.paddingLeft=Sa(o.advanceWidth),i=xr.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+s)},{type:"elem",elem:a},{type:"kern",size:r}]},t),e.index?(o=t.havingStyle(ia.SCRIPTSCRIPT),n=jr(e.index,o,t),s=.6*(i.height-i.depth),a=xr.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:n}]},t),r=xr.makeSpan(["root"],[a]),xr.makeSpan(["mord","sqrt"],[r,i],t)):xr.makeSpan(["mord","sqrt"],[i],t)},mathmlBuilder:function(e,t){var n=e.body;return(e=e.index)?new Xr.MathNode("mroot",[Jr(n,t),Jr(e,t)]):new Xr.MathNode("msqrt",[Jr(n,t)])}}),{display:ia.DISPLAY,text:ia.TEXT,script:ia.SCRIPT,scriptscript:ia.SCRIPTSCRIPT}),Pl=(Sr({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e,t){var n=e.breakOnTokenText,i=e.funcName;return n=(e=e.parser).parseExpression(!0,n),i=i.slice(1,i.length-5),{type:"styling",mode:e.mode,style:i,body:n}},htmlBuilder:function(e,t){var n=Ll[e.style];return n=t.havingStyle(n).withFont(""),Dl(e.body,n,t)},mathmlBuilder:function(e,t){var n=Ll[e.style];return t=t.havingStyle(n),n=Ur(e.body,t),t=new Xr.MathNode("mstyle",n),n={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style],t.setAttribute("scriptlevel",n[0]),t.setAttribute("displaystyle",n[1]),t}}),Mr({type:"supsub",htmlBuilder:function(e,t){if(s=t,s=(r=(a=e).base)?"op"===r.type?r.limits&&(s.style.size===ia.DISPLAY.size||r.alwaysHandleSupSub)?bl:null:"operatorname"===r.type?r.alwaysHandleSupSub&&(s.style.size===ia.DISPLAY.size||r.limits)?xl:null:"accent"===r.type?Xo.isCharacterBox(r.base)?as:null:"horizBrace"===r.type&&!a.sub===r.isOver?ml:null:null)return s(e,t);var n,i,o,a=e.base,r=e.sup,s=e.sub,l=jr(a,t),c=t.fontMetrics(),d=0,u=0;if(a=a&&Xo.isCharacterBox(a),r&&(o=t.havingStyle(t.style.sup()),n=jr(r,o,t),a||(d=l.height-o.fontMetrics().supDrop*o.sizeMultiplier/t.sizeMultiplier)),s&&(r=t.havingStyle(t.style.sub()),i=jr(s,r,t),a||(u=l.depth+r.fontMetrics().subDrop*r.sizeMultiplier/t.sizeMultiplier)),o=t.style===ia.DISPLAY?c.sup1:t.style.cramped?c.sup3:c.sup2,s=t.sizeMultiplier,a=Sa(.5/c.ptPerEm/s),r=null,i&&(s=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name),l instanceof Ia||s)&&(r=Sa(-l.italic)),n&&i){d=Math.max(d,o,n.depth+.25*c.xHeight),u=Math.max(u,c.sub2),e=4*c.defaultRuleThickness,d-n.depth-(i.height-u)<e&&(u=e-(d-n.depth)+i.height,0<(s=.8*c.xHeight-(d-n.depth)))&&(d+=s,u-=s);var p=xr.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u,marginRight:a,marginLeft:r},{type:"elem",elem:n,shift:-d,marginRight:a}]},t)}else if(i)u=Math.max(u,c.sub1,i.height-.8*c.xHeight),p=xr.makeVList({positionType:"shift",positionData:u,children:[{type:"elem",elem:i,marginLeft:r,marginRight:a}]},t);else{if(!n)throw new Error("supsub must have either sup or sub.");d=Math.max(d,o,n.depth+.25*c.xHeight),p=xr.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:n,marginRight:a}]},t)}return e=zr(l,"right")||"mord",xr.makeSpan([e],[l,xr.makeSpan(["msupsub"],[p])],t)},mathmlBuilder:function(e,t){var n,i=!1,o=(e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(i=!0,n=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0),[Jr(e.base,t)]);return e.sub&&o.push(Jr(e.sub,t)),e.sup&&o.push(Jr(e.sup,t)),n=i?n?"mover":"munder":e.sub?e.sup?(i=e.base)&&"op"===i.type&&i.limits&&t.style===ia.DISPLAY||i&&"operatorname"===i.type&&i.alwaysHandleSupSub&&(t.style===ia.DISPLAY||i.limits)?"munderover":"msubsup":(n=e.base)&&"op"===n.type&&n.limits&&(t.style===ia.DISPLAY||n.alwaysHandleSupSub)||n&&"operatorname"===n.type&&n.alwaysHandleSupSub&&(n.limits||t.style===ia.DISPLAY)?"munder":"msub":(i=e.base)&&"op"===i.type&&i.limits&&(t.style===ia.DISPLAY||i.alwaysHandleSupSub)||i&&"operatorname"===i.type&&i.alwaysHandleSupSub&&(i.limits||t.style===ia.DISPLAY)?"mover":"msup",new Xr.MathNode(n,o)}}),Mr({type:"atom",htmlBuilder:function(e,t){return xr.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var n=new Xr.MathNode("mo",[Gr(e.text,e.mode)]);return"bin"===e.family?"bold-italic"===(t=Wr(e,t))&&n.setAttribute("mathvariant",t):"punct"===e.family?n.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||n.setAttribute("stretchy","false"),n}}),{mi:"italic",mn:"normal",mtext:"normal"}),Bl=(Mr({type:"mathord",htmlBuilder:function(e,t){return xr.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var n=new Xr.MathNode("mi",[Gr(e.text,e.mode,t)]);return(e=Wr(e,t)||"italic")!==Pl[n.type]&&n.setAttribute("mathvariant",e),n}}),Mr({type:"textord",htmlBuilder:function(e,t){return xr.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var n=Gr(e.text,e.mode,t);return t=Wr(e,t)||"normal",e="text"===e.mode?new Xr.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new Xr.MathNode("mn",[n]):"\\prime"===e.text?new Xr.MathNode("mo",[n]):new Xr.MathNode("mi",[n]),t!==Pl[e.type]&&e.setAttribute("mathvariant",t),e}}),{"\\nobreak":"nobreak","\\allowbreak":"allowbreak"}),$l={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}},Nl=(Mr({type:"spacing",htmlBuilder:function(e,t){var n,i;if($l.hasOwnProperty(e.text))return n=$l[e.text].className||"","text"===e.mode?((i=xr.makeOrd(e,t,"textord")).classes.push(n),i):xr.makeSpan(["mspace",n],[xr.mathsym(e.text,e.mode,t)],t);if(Bl.hasOwnProperty(e.text))return xr.makeSpan(["mspace",Bl[e.text]],[],t);throw new Wo('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if($l.hasOwnProperty(e.text))return new Xr.MathNode("mtext",[new Xr.TextNode(" ")]);if(Bl.hasOwnProperty(e.text))return new Xr.MathNode("mspace");throw new Wo('Unknown type of space "'+e.text+'"')}}),Mr({type:"tag",mathmlBuilder:function(e,t){return(e=new Xr.MathNode("mtable",[new Xr.MathNode("mtr",[El(),new Xr.MathNode("mtd",[qr(e.body,t)]),El(),new Xr.MathNode("mtd",[qr(e.tag,t)])])])).setAttribute("width","100%"),e}}),{"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"}),zl={"\\textbf":"textbf","\\textmd":"textmd"},jl={"\\textit":"textit","\\textup":"textup"},Rl=(Sr({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(e,t){var n=e.parser;return t=t[0],{type:"text",mode:n.mode,body:Er(t),font:e.funcName}},htmlBuilder:function(e,t){return t=Al(e,t),e=Br(e.body,t,!0),xr.makeSpan(["mord","text"],e,t)},mathmlBuilder:function(e,t){return t=Al(e,t),qr(e.body,t)}}),Sr({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){e=jr(e.body,t);var n=xr.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness;return n=xr.makeVList({positionType:"top",positionData:e.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:e}]},t),xr.makeSpan(["mord","underline"],[n],t)},mathmlBuilder:function(e,t){var n=new Xr.MathNode("mo",[new Xr.TextNode("‾")]);return(n.setAttribute("stretchy","true"),e=new Xr.MathNode("munder",[Jr(e.body,t),n])).setAttribute("accentunder","true"),e}}),Sr({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(e,t){return{type:"vcenter",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){e=jr(e.body,t);var n=t.fontMetrics().axisHeight;return n=.5*(e.height-n-(e.depth+n)),xr.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:e}]},t)},mathmlBuilder:function(e,t){return new Xr.MathNode("mpadded",[Jr(e.body,t)],["vcenter"])}}),Sr({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,n){throw new Wo("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var n=Rl(e),i=[],o=t.havingStyle(t.style.text()),a=0;a<n.length;a++){var r=n[a];"~"===r&&(r="\\textasciitilde"),i.push(xr.makeSymbol(r,"Typewriter-Regular",e.mode,o,["mord","texttt"]))}return xr.makeSpan(["mord","text"].concat(o.sizingClasses(t)),xr.tryCombineChars(i),o)},mathmlBuilder:function(e,t){return e=new Xr.TextNode(Rl(e)),(e=new Xr.MathNode("mtext",[e])).setAttribute("mathvariant","monospace"),e}}),function(e){return e.body.replace(/ /g,e.star?"␣":" ")}),Gl=_r,Hl=(Je="[̀-ͯ]",new RegExp(Je+"+$")),Wl=a(function e(t,n){i(this,e),this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp("([ \r\n        ]+)|\\\\(\n    |[ \r\t]+\n    ?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n        ]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14,"~":13}},[{key:"setCatcode",value:function(e,t){this.catcodes[e]=t}},{key:"lex",value:function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Ho("EOF",new Go(this,t,t));if(null===(i=this.tokenRegex.exec(e))||i.index!==t)throw new Wo("Unexpected character: '"+e[t]+"'",new Ho(e[t],new Go(this,t,t+1)));var n,i=i[6]||i[3]||(i[2]?"\\ ":" ");return 14===this.catcodes[i]?(-1===(n=e.indexOf("\n    ",this.tokenRegex.lastIndex))?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=n+1,this.lex()):new Ho(i,new Go(this,t,this.tokenRegex.lastIndex))}}]),Ul=a(function e(t,n){i(this,e),void 0===t&&(t={}),void 0===n&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]},[{key:"beginGroup",value:function(){this.undefStack.push({})}},{key:"endGroup",value:function(){if(0===this.undefStack.length)throw new Wo("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e,t=this.undefStack.pop();for(e in t)t.hasOwnProperty(e)&&(null==t[e]?delete this.current[e]:this.current[e]=t[e])}},{key:"endGroups",value:function(){for(;0<this.undefStack.length;)this.endGroup()}},{key:"has",value:function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}},{key:"get",value:function(e){return(this.current.hasOwnProperty(e)?this.current:this.builtins)[e]}},{key:"set",value:function(e,t,n){if(n=void 0!==n&&n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];0<this.undefStack.length&&(this.undefStack[this.undefStack.length-1][e]=t)}else(n=this.undefStack[this.undefStack.length-1])&&!n.hasOwnProperty(e)&&(n[e]=this.current[e]);null==t?delete this.current[e]:this.current[e]=t}}]),ql=Zs,Vl=(Qs("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),Qs("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),Qs("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),Qs("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),Qs("\\@ifnextchar",function(e){var t=e.consumeArgs(3);return e.consumeSpaces(),e=e.future(),1===t[0].length&&t[0][0].text===e.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),Qs("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Qs("\\TextOrMath",function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}),{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}),Yl=(Qs("\\char",function(e){var t,n,i=e.popToken(),o="";if("'"===i.text)t=8,i=e.popToken();else if('"'===i.text)t=16,i=e.popToken();else if("`"===i.text)if("\\"===(i=e.popToken()).text[0])o=i.text.charCodeAt(1);else{if("EOF"===i.text)throw new Wo("\\char` missing argument");o=i.text.charCodeAt(0)}else t=10;if(t){if(null==(o=Vl[i.text])||t<=o)throw new Wo("Invalid base-"+t+" digit "+i.text);for(;null!=(n=Vl[e.future().text])&&n<t;)o=o*t+n,e.popToken()}return"\\@char{"+o+"}"}),Qs("\\newcommand",function(e){return Fl(e,!1,!0)}),Qs("\\renewcommand",function(e){return Fl(e,!0,!1)}),Qs("\\providecommand",function(e){return Fl(e,!0,!0)}),Qs("\\message",function(e){return e=e.consumeArgs(1)[0],""}),Qs("\\errmessage",function(e){return e=e.consumeArgs(1)[0],""}),Qs("\\show",function(e){return e.popToken().text,""}),Qs("\\bgroup","{"),Qs("\\egroup","}"),Qs("~","\\nobreakspace"),Qs("\\lq","`"),Qs("\\rq","'"),Qs("\\aa","\\r a"),Qs("\\AA","\\r A"),Qs("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),Qs("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Qs("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),Qs("ℬ","\\mathscr{B}"),Qs("ℰ","\\mathscr{E}"),Qs("ℱ","\\mathscr{F}"),Qs("ℋ","\\mathscr{H}"),Qs("ℐ","\\mathscr{I}"),Qs("ℒ","\\mathscr{L}"),Qs("ℳ","\\mathscr{M}"),Qs("ℛ","\\mathscr{R}"),Qs("ℭ","\\mathfrak{C}"),Qs("ℌ","\\mathfrak{H}"),Qs("ℨ","\\mathfrak{Z}"),Qs("\\Bbbk","\\Bbb{k}"),Qs("·","\\cdotp"),Qs("\\llap","\\mathllap{\\textrm{#1}}"),Qs("\\rlap","\\mathrlap{\\textrm{#1}}"),Qs("\\clap","\\mathclap{\\textrm{#1}}"),Qs("\\mathstrut","\\vphantom{(}"),Qs("\\underbar","\\underline{\\text{#1}}"),Qs("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Qs("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),Qs("\\ne","\\neq"),Qs("≠","\\neq"),Qs("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),Qs("∉","\\notin"),Qs("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),Qs("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),Qs("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),Qs("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),Qs("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),Qs("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),Qs("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),Qs("⟂","\\perp"),Qs("‼","\\mathclose{!\\mkern-0.8mu!}"),Qs("∌","\\notni"),Qs("⌜","\\ulcorner"),Qs("⌝","\\urcorner"),Qs("⌞","\\llcorner"),Qs("⌟","\\lrcorner"),Qs("©","\\copyright"),Qs("®","\\textregistered"),Qs("️","\\textregistered"),Qs("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Qs("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Qs("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Qs("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Qs("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),Qs("⋮","\\vdots"),Qs("\\varGamma","\\mathit{\\Gamma}"),Qs("\\varDelta","\\mathit{\\Delta}"),Qs("\\varTheta","\\mathit{\\Theta}"),Qs("\\varLambda","\\mathit{\\Lambda}"),Qs("\\varXi","\\mathit{\\Xi}"),Qs("\\varPi","\\mathit{\\Pi}"),Qs("\\varSigma","\\mathit{\\Sigma}"),Qs("\\varUpsilon","\\mathit{\\Upsilon}"),Qs("\\varPhi","\\mathit{\\Phi}"),Qs("\\varPsi","\\mathit{\\Psi}"),Qs("\\varOmega","\\mathit{\\Omega}"),Qs("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Qs("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),Qs("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Qs("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Qs("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Qs("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),{",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"}),Xl=(Qs("\\dots",function(e){var t="\\dotso";return(e=e.expandAfterFuture().text)in Yl?t=Yl[e]:("\\not"===e.slice(0,4)||e in za.math&&Xo.contains(["bin","rel"],za.math[e].group))&&(t="\\dotsb"),t}),{")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0}),Jl=(Qs("\\dotso",function(e){return e.future().text in Xl?"\\ldots\\,":"\\ldots"}),Qs("\\dotsc",function(e){return(e=e.future().text)in Xl&&","!==e?"\\ldots\\,":"\\ldots"}),Qs("\\cdots",function(e){return e.future().text in Xl?"\\@cdots\\,":"\\@cdots"}),Qs("\\dotsb","\\cdots"),Qs("\\dotsm","\\cdots"),Qs("\\dotsi","\\!\\cdots"),Qs("\\dotsx","\\ldots\\,"),Qs("\\DOTSI","\\relax"),Qs("\\DOTSB","\\relax"),Qs("\\DOTSX","\\relax"),Qs("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Qs("\\,","\\tmspace+{3mu}{.1667em}"),Qs("\\thinspace","\\,"),Qs("\\>","\\mskip{4mu}"),Qs("\\:","\\tmspace+{4mu}{.2222em}"),Qs("\\medspace","\\:"),Qs("\\;","\\tmspace+{5mu}{.2777em}"),Qs("\\thickspace","\\;"),Qs("\\!","\\tmspace-{3mu}{.1667em}"),Qs("\\negthinspace","\\!"),Qs("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Qs("\\negthickspace","\\tmspace-{5mu}{.277em}"),Qs("\\enspace","\\kern.5em "),Qs("\\enskip","\\hskip.5em\\relax"),Qs("\\quad","\\hskip1em\\relax"),Qs("\\qquad","\\hskip2em\\relax"),Qs("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Qs("\\tag@paren","\\tag@literal{({#1})}"),Qs("\\tag@literal",function(e){if(e.macros.get("\\df@tag"))throw new Wo("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Qs("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Qs("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Qs("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Qs("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Qs("\\newline","\\\\\\relax"),Qs("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}"),Qs("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+(f=Sa(ua["Main-Regular"][84][1]-.7*ua["Main-Regular"][65][1]))+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),Qs("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+f+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),Qs("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Qs("\\@hspace","\\hskip #1\\relax"),Qs("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Qs("\\ordinarycolon",":"),Qs("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Qs("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Qs("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Qs("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Qs("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Qs("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Qs("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Qs("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Qs("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Qs("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Qs("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Qs("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Qs("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Qs("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Qs("∷","\\dblcolon"),Qs("∹","\\eqcolon"),Qs("≔","\\coloneqq"),Qs("≕","\\eqqcolon"),Qs("⩴","\\Coloneqq"),Qs("\\ratio","\\vcentcolon"),Qs("\\coloncolon","\\dblcolon"),Qs("\\colonequals","\\coloneqq"),Qs("\\coloncolonequals","\\Coloneqq"),Qs("\\equalscolon","\\eqqcolon"),Qs("\\equalscoloncolon","\\Eqqcolon"),Qs("\\colonminus","\\coloneq"),Qs("\\coloncolonminus","\\Coloneq"),Qs("\\minuscolon","\\eqcolon"),Qs("\\minuscoloncolon","\\Eqcolon"),Qs("\\coloncolonapprox","\\Colonapprox"),Qs("\\coloncolonsim","\\Colonsim"),Qs("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Qs("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Qs("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Qs("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Qs("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),Qs("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Qs("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Qs("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Qs("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Qs("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Qs("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Qs("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Qs("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Qs("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),Qs("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),Qs("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),Qs("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),Qs("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),Qs("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),Qs("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),Qs("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),Qs("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),Qs("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),Qs("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),Qs("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),Qs("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),Qs("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),Qs("\\imath","\\html@mathml{\\@imath}{ı}"),Qs("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),Qs("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),Qs("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),Qs("⟦","\\llbracket"),Qs("⟧","\\rrbracket"),Qs("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),Qs("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),Qs("⦃","\\lBrace"),Qs("⦄","\\rBrace"),Qs("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),Qs("⦵","\\minuso"),Qs("\\darr","\\downarrow"),Qs("\\dArr","\\Downarrow"),Qs("\\Darr","\\Downarrow"),Qs("\\lang","\\langle"),Qs("\\rang","\\rangle"),Qs("\\uarr","\\uparrow"),Qs("\\uArr","\\Uparrow"),Qs("\\Uarr","\\Uparrow"),Qs("\\N","\\mathbb{N}"),Qs("\\R","\\mathbb{R}"),Qs("\\Z","\\mathbb{Z}"),Qs("\\alef","\\aleph"),Qs("\\alefsym","\\aleph"),Qs("\\Alpha","\\mathrm{A}"),Qs("\\Beta","\\mathrm{B}"),Qs("\\bull","\\bullet"),Qs("\\Chi","\\mathrm{X}"),Qs("\\clubs","\\clubsuit"),Qs("\\cnums","\\mathbb{C}"),Qs("\\Complex","\\mathbb{C}"),Qs("\\Dagger","\\ddagger"),Qs("\\diamonds","\\diamondsuit"),Qs("\\empty","\\emptyset"),Qs("\\Epsilon","\\mathrm{E}"),Qs("\\Eta","\\mathrm{H}"),Qs("\\exist","\\exists"),Qs("\\harr","\\leftrightarrow"),Qs("\\hArr","\\Leftrightarrow"),Qs("\\Harr","\\Leftrightarrow"),Qs("\\hearts","\\heartsuit"),Qs("\\image","\\Im"),Qs("\\infin","\\infty"),Qs("\\Iota","\\mathrm{I}"),Qs("\\isin","\\in"),Qs("\\Kappa","\\mathrm{K}"),Qs("\\larr","\\leftarrow"),Qs("\\lArr","\\Leftarrow"),Qs("\\Larr","\\Leftarrow"),Qs("\\lrarr","\\leftrightarrow"),Qs("\\lrArr","\\Leftrightarrow"),Qs("\\Lrarr","\\Leftrightarrow"),Qs("\\Mu","\\mathrm{M}"),Qs("\\natnums","\\mathbb{N}"),Qs("\\Nu","\\mathrm{N}"),Qs("\\Omicron","\\mathrm{O}"),Qs("\\plusmn","\\pm"),Qs("\\rarr","\\rightarrow"),Qs("\\rArr","\\Rightarrow"),Qs("\\Rarr","\\Rightarrow"),Qs("\\real","\\Re"),Qs("\\reals","\\mathbb{R}"),Qs("\\Reals","\\mathbb{R}"),Qs("\\Rho","\\mathrm{P}"),Qs("\\sdot","\\cdot"),Qs("\\sect","\\S"),Qs("\\spades","\\spadesuit"),Qs("\\sub","\\subset"),Qs("\\sube","\\subseteq"),Qs("\\supe","\\supseteq"),Qs("\\Tau","\\mathrm{T}"),Qs("\\thetasym","\\vartheta"),Qs("\\weierp","\\wp"),Qs("\\Zeta","\\mathrm{Z}"),Qs("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Qs("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Qs("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Qs("\\bra","\\mathinner{\\langle{#1}|}"),Qs("\\ket","\\mathinner{|{#1}\\rangle}"),Qs("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Qs("\\Bra","\\left\\langle#1\\right|"),Qs("\\Ket","\\left|#1\\right\\rangle"),Qs("\\bra@ket",Il(!1)),Qs("\\bra@set",Il(!0)),Qs("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),Qs("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),Qs("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),Qs("\\angln","{\\angl n}"),Qs("\\blue","\\textcolor{##6495ed}{#1}"),Qs("\\orange","\\textcolor{##ffa500}{#1}"),Qs("\\pink","\\textcolor{##ff00af}{#1}"),Qs("\\red","\\textcolor{##df0030}{#1}"),Qs("\\green","\\textcolor{##28ae7b}{#1}"),Qs("\\gray","\\textcolor{gray}{#1}"),Qs("\\purple","\\textcolor{##9d38bd}{#1}"),Qs("\\blueA","\\textcolor{##ccfaff}{#1}"),Qs("\\blueB","\\textcolor{##80f6ff}{#1}"),Qs("\\blueC","\\textcolor{##63d9ea}{#1}"),Qs("\\blueD","\\textcolor{##11accd}{#1}"),Qs("\\blueE","\\textcolor{##0c7f99}{#1}"),Qs("\\tealA","\\textcolor{##94fff5}{#1}"),Qs("\\tealB","\\textcolor{##26edd5}{#1}"),Qs("\\tealC","\\textcolor{##01d1c1}{#1}"),Qs("\\tealD","\\textcolor{##01a995}{#1}"),Qs("\\tealE","\\textcolor{##208170}{#1}"),Qs("\\greenA","\\textcolor{##b6ffb0}{#1}"),Qs("\\greenB","\\textcolor{##8af281}{#1}"),Qs("\\greenC","\\textcolor{##74cf70}{#1}"),Qs("\\greenD","\\textcolor{##1fab54}{#1}"),Qs("\\greenE","\\textcolor{##0d923f}{#1}"),Qs("\\goldA","\\textcolor{##ffd0a9}{#1}"),Qs("\\goldB","\\textcolor{##ffbb71}{#1}"),Qs("\\goldC","\\textcolor{##ff9c39}{#1}"),Qs("\\goldD","\\textcolor{##e07d10}{#1}"),Qs("\\goldE","\\textcolor{##a75a05}{#1}"),Qs("\\redA","\\textcolor{##fca9a9}{#1}"),Qs("\\redB","\\textcolor{##ff8482}{#1}"),Qs("\\redC","\\textcolor{##f9685d}{#1}"),Qs("\\redD","\\textcolor{##e84d39}{#1}"),Qs("\\redE","\\textcolor{##bc2612}{#1}"),Qs("\\maroonA","\\textcolor{##ffbde0}{#1}"),Qs("\\maroonB","\\textcolor{##ff92c6}{#1}"),Qs("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Qs("\\maroonD","\\textcolor{##ca337c}{#1}"),Qs("\\maroonE","\\textcolor{##9e034e}{#1}"),Qs("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Qs("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Qs("\\purpleC","\\textcolor{##aa87ff}{#1}"),Qs("\\purpleD","\\textcolor{##7854ab}{#1}"),Qs("\\purpleE","\\textcolor{##543b78}{#1}"),Qs("\\mintA","\\textcolor{##f5f9e8}{#1}"),Qs("\\mintB","\\textcolor{##edf2df}{#1}"),Qs("\\mintC","\\textcolor{##e0e5cc}{#1}"),Qs("\\grayA","\\textcolor{##f6f7f7}{#1}"),Qs("\\grayB","\\textcolor{##f0f1f2}{#1}"),Qs("\\grayC","\\textcolor{##e3e5e6}{#1}"),Qs("\\grayD","\\textcolor{##d6d8da}{#1}"),Qs("\\grayE","\\textcolor{##babec2}{#1}"),Qs("\\grayF","\\textcolor{##888d93}{#1}"),Qs("\\grayG","\\textcolor{##626569}{#1}"),Qs("\\grayH","\\textcolor{##3b3e40}{#1}"),Qs("\\grayI","\\textcolor{##21242c}{#1}"),Qs("\\kaBlue","\\textcolor{##314453}{#1}"),Qs("\\kaGreen","\\textcolor{##71B307}{#1}"),{"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0}),Kl=a(function e(t,n,o){i(this,e),this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new Ul(ql,n.macros),this.mode=o,this.stack=[]},[{key:"feed",value:function(e){this.lexer=new Wl(e,this.settings)}},{key:"switchMode",value:function(e){this.mode=e}},{key:"beginGroup",value:function(){this.macros.beginGroup()}},{key:"endGroup",value:function(){this.macros.endGroup()}},{key:"endGroups",value:function(){this.macros.endGroups()}},{key:"future",value:function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}},{key:"popToken",value:function(){return this.future(),this.stack.pop()}},{key:"pushToken",value:function(e){this.stack.push(e)}},{key:"pushTokens",value:function(e){var t;(t=this.stack).push.apply(t,u(e))}},{key:"scanArgument",value:function(e){if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;n=this.popToken(),t=(e=this.consumeArg(["]"])).tokens,i=e.end}else var t=(e=this.consumeArg()).tokens,n=e.start,i=e.end;return this.pushToken(new Ho("EOF",i.loc)),this.pushTokens(t),n.range(i,"")}},{key:"consumeSpaces",value:function(){for(;" "===this.future().text;)this.stack.pop()}},{key:"consumeArg",value:function(e){var t,n=[],i=e&&0<e.length,o=(i||this.consumeSpaces(),this.future()),a=0,r=0;do{if(t=this.popToken(),n.push(t),"{"===t.text)++a;else if("}"===t.text){if(-1==--a)throw new Wo("Extra }",t)}else if("EOF"===t.text)throw new Wo("Unexpected end of input in a macro argument, expected '"+(e&&i?e[r]:"}")+"'",t);if(e&&i)if((0===a||1===a&&"{"===e[r])&&t.text===e[r]){if(++r===e.length){n.splice(-r,r);break}}else r=0}while(0!==a||i);return"{"===o.text&&"}"===n[n.length-1].text&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:o,end:t}}},{key:"consumeArgs",value:function(e,t){if(t){if(t.length!==e+1)throw new Wo("The length of delimiters doesn't match the number of args!");for(var n=t[0],i=0;i<n.length;i++){var o=this.popToken();if(n[i]!==o.text)throw new Wo("Use of the macro doesn't match its definition",o)}}for(var a=[],r=0;r<e;r++)a.push(this.consumeArg(t&&t[r+1]).tokens);return a}},{key:"countExpansion",value:function(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Wo("Too many expansions: infinite loop or need to increase maxExpand setting")}},{key:"expandOnce",value:function(e){var t=this.popToken(),n=t.text,i=t.noexpand?null:this._getExpansion(n);if(null==i||e&&i.unexpandable){if(e&&null==i&&"\\"===n[0]&&!this.isDefined(n))throw new Wo("Undefined control sequence: "+n);return this.pushToken(t),!1}this.countExpansion(1);var o=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs)for(var r=(o=o.slice()).length-1;0<=r;--r){var s=o[r];if("#"===s.text){if(0===r)throw new Wo("Incomplete placeholder at end of macro body",s);if("#"===(s=o[--r]).text)o.splice(r+1,1);else{if(!/^[1-9]$/.test(s.text))throw new Wo("Not a valid argument number",s);o.splice.apply(o,[r,2].concat(u(a[+s.text-1])))}}}return this.pushTokens(o),o.length}},{key:"expandAfterFuture",value:function(){return this.expandOnce(),this.future()}},{key:"expandNextToken",value:function(){for(;;){var e;if(!1===this.expandOnce())return(e=this.stack.pop()).treatAsRelax&&(e.text="\\relax"),e}throw new Error}},{key:"expandMacro",value:function(e){return this.macros.has(e)?this.expandTokens([new Ho(e)]):void 0}},{key:"expandTokens",value:function(e){var t,n=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)!1===this.expandOnce(!0)&&((t=this.stack.pop()).treatAsRelax&&(t.noexpand=!1,t.treatAsRelax=!1),n.push(t));return this.countExpansion(n.length),n}},{key:"expandMacroAsText",value:function(e){return(e=this.expandMacro(e))&&e.map(function(e){return e.text}).join("")}},{key:"_getExpansion",value:function(e){var t=this.macros.get(e);if(null==t)return t;if(1!==e.length||null==(e=this.lexer.catcodes[e])||13===e){if("string"!=typeof(e="function"==typeof t?t(this):t))return e;var n=0;if(-1!==e.indexOf("#"))for(var i=e.replace(/##/g,"");-1!==i.indexOf("#"+(n+1));)++n;for(var o=new Wl(e,this.settings),a=[],r=o.lex();"EOF"!==r.text;)a.push(r),r=o.lex();return a.reverse(),{tokens:a,numArgs:n}}}},{key:"isDefined",value:function(e){return this.macros.has(e)||Gl.hasOwnProperty(e)||za.math.hasOwnProperty(e)||za.text.hasOwnProperty(e)||Jl.hasOwnProperty(e)}},{key:"isExpandable",value:function(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:Gl.hasOwnProperty(e)&&!Gl[e].primitive}}]),Zl=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Ql=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g","ʰ":"h","ⁱ":"i","ʲ":"j","ᵏ":"k","ˡ":"l","ᵐ":"m","ⁿ":"n","ᵒ":"o","ᵖ":"p","ʳ":"r","ˢ":"s","ᵗ":"t","ᵘ":"u","ᵛ":"v","ʷ":"w","ˣ":"x","ʸ":"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),ec={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},tc={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","ḉ":"ḉ","č":"č","ĉ":"ĉ","ċ":"ċ","ç":"ç","ď":"ď","ḋ":"ḋ","ḑ":"ḑ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ḝ":"ḝ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ȩ":"ȩ","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ģ":"ģ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","ḩ":"ḩ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ķ":"ķ","ĺ":"ĺ","ľ":"ľ","ļ":"ļ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ņ":"ņ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ŗ":"ŗ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ş":"ş","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ţ":"ţ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Ḉ":"Ḉ","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ç":"Ç","Ď":"Ď","Ḋ":"Ḋ","Ḑ":"Ḑ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ḝ":"Ḝ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ȩ":"Ȩ","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ģ":"Ģ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Ḩ":"Ḩ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ķ":"Ķ","Ĺ":"Ĺ","Ľ":"Ľ","Ļ":"Ļ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ņ":"Ņ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ŗ":"Ŗ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ş":"Ş","Ť":"Ť","Ṫ":"Ṫ","Ţ":"Ţ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"};function nc(){return{enter:{mathFlow:function(e){this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[{type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]}]}},e)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(e){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},e),this.buffer()}},exit:{mathFlow:function(e){var t=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),n=this.stack[this.stack.length-1];(n.type,this.exit(e),n.value=t,e=n.data.hChildren[0]).type,e.children.push({type:"text",value:t}),this.data.mathFlowInside=void 0},mathFlowFence:function(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)},mathFlowFenceMeta:function(){var e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.meta=e},mathFlowValue:e,mathText:function(e){var t=this.resume(),n=this.stack[this.stack.length-1];n.type,this.exit(e),n.value=t,n.data.hChildren.push({type:"text",value:t})},mathTextData:e}};function e(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}}(function(){function e(t,n){i(this,e),this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Kl(t,n,this.mode),this.settings=n,this.leftrightDepth=0}return a(e,[{key:"expect",value:function(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new Wo("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}},{key:"consume",value:function(){this.nextToken=null}},{key:"fetch",value:function(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}},{key:"switchMode",value:function(e){this.mode=e,this.gullet.switchMode(e)}},{key:"parse",value:function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}},{key:"subparse",value:function(e){var t=this.nextToken;return this.consume(),this.gullet.pushToken(new Ho("}")),this.gullet.pushTokens(e),e=this.parseExpression(!1),this.expect("}"),this.nextToken=t,e}},{key:"parseExpression",value:function(t,n){for(var i=[];;){"math"===this.mode&&this.consumeSpaces();var o=this.fetch();if(-1!==e.endOfExpression.indexOf(o.text)||n&&o.text===n||t&&Gl[o.text]&&Gl[o.text].infix)break;if(!(o=this.parseAtom(n)))break;"internal"!==o.type&&i.push(o)}return"text"===this.mode&&this.formLigatures(i),this.handleInfixNodes(i)}},{key:"handleInfixNodes",value:function(e){for(var t,n,i,o=-1,a=0;a<e.length;a++)if("infix"===e[a].type){if(-1!==o)throw new Wo("only one infix operator per group",e[a].token);t=e[o=a].replaceWith}return-1!==o&&t?(n=e.slice(0,o),i=e.slice(o+1),n=1===n.length&&"ordgroup"===n[0].type?n[0]:{type:"ordgroup",mode:this.mode,body:n},i=1===i.length&&"ordgroup"===i[0].type?i[0]:{type:"ordgroup",mode:this.mode,body:i},["\\\\abovefrac"===t?this.callFunction(t,[n,e[o],i],[]):this.callFunction(t,[n,i],[])]):e}},{key:"handleSupSubscript",value:function(e){var t=this.fetch(),n=t.text;if(this.consume(),this.consumeSpaces(),e=this.parseGroup(e))return e;throw new Wo("Expected group after '"+n+"'",t)}},{key:"formatUnsupportedCmd",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]}}},{key:"parseAtom",value:function(e){var t,n,i=this.parseGroup("atom",e);if("text"===this.mode)return i;for(;;){this.consumeSpaces();var o=this.fetch();if("\\limits"===o.text||"\\nolimits"===o.text){if(i&&"op"===i.type){var a="\\limits"===o.text;i.limits=a,i.alwaysHandleSupSub=!0}else{if(!i||"operatorname"!==i.type)throw new Wo("Limit controls must follow a math operator",o);i.alwaysHandleSupSub&&(i.limits="\\limits"===o.text)}this.consume()}else if("^"===o.text){if(t)throw new Wo("Double superscript",o);t=this.handleSupSubscript("superscript")}else if("_"===o.text){if(n)throw new Wo("Double subscript",o);n=this.handleSupSubscript("subscript")}else if("'"===o.text){if(t)throw new Wo("Double superscript",o);var r={type:"textord",mode:this.mode,text:"\\prime"},s=[r];for(this.consume();"'"===this.fetch().text;)s.push(r),this.consume();"^"===this.fetch().text&&s.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:s}}else{if(!Ql[o.text])break;var l=Zl.test(o.text),c=[];for(c.push(new Ho(Ql[o.text])),this.consume();;){var d=this.fetch().text;if(!Ql[d]||Zl.test(d)!==l)break;c.unshift(new Ho(Ql[d])),this.consume()}a=this.subparse(c),l?n={type:"ordgroup",mode:"math",body:a}:t={type:"ordgroup",mode:"math",body:a}}}return t||n?{type:"supsub",mode:this.mode,base:i,sup:t,sub:n}:i}},{key:"parseFunction",value:function(e,t){var n=this.fetch(),i=n.text,o=Gl[i];if(!o)return null;if(this.consume(),t&&"atom"!==t&&!o.allowedInArgument)throw new Wo("Got function '"+i+"' with no arguments"+(t?" as "+t:""),n);if("text"===this.mode&&!o.allowedInText)throw new Wo("Can't use function '"+i+"' in text mode",n);if("math"===this.mode&&!1===o.allowedInMath)throw new Wo("Can't use function '"+i+"' in math mode",n);return o=(t=this.parseArguments(i,o)).args,this.callFunction(i,o,t.optArgs,n,e)}},{key:"callFunction",value:function(e,t,n,i,o){var a=Gl[e];if(a&&a.handler)return a.handler({funcName:e,parser:this,token:i,breakOnTokenText:o},t,n);throw new Wo("No function handler for "+e)}},{key:"parseArguments",value:function(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var i=[],o=[],a=0;a<n;a++){var r=t.argTypes&&t.argTypes[a],s=a<t.numOptionalArgs;if((t.primitive&&null==r||"sqrt"===t.type&&1===a&&null==o[0])&&(r="primitive"),r=this.parseGroupOfType("argument to '"+e+"'",r,s),s)o.push(r);else{if(null==r)throw new Wo("Null argument, please report this as a bug");i.push(r)}}return{args:i,optArgs:o}}},{key:"parseGroupOfType",value:function(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":var i=this.parseArgumentGroup(n,"text");return null!=i?{type:"styling",mode:i.mode,body:[i],style:"text"}:null;case"raw":return null!=(i=this.parseStringGroup("raw",n))?{type:"raw",mode:"text",string:i.text}:null;case"primitive":if(n)throw new Wo("A primitive argument cannot be optional");if(null==(i=this.parseGroup(e)))throw new Wo("Expected group as "+e,this.fetch());return i;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Wo("Unknown group type as "+e,this.fetch())}}},{key:"consumeSpaces",value:function(){for(;" "===this.fetch().text;)this.consume()}},{key:"parseStringGroup",value:function(e,t){if(null==(t=this.gullet.scanArgument(t)))return null;for(var n,i="";"EOF"!==(n=this.fetch()).text;)i+=n.text,this.consume();return this.consume(),t.text=i,t}},{key:"parseRegexGroup",value:function(e,t){for(var n,i=this.fetch(),o=i,a="";"EOF"!==(n=this.fetch()).text&&e.test(a+n.text);)a+=(o=n).text,this.consume();if(""===a)throw new Wo("Invalid "+t+": '"+i.text+"'",i);return i.range(o,a)}},{key:"parseColorGroup",value:function(e){if(null==(e=this.parseStringGroup("color",e)))return null;var t=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(e.text);if(t)return t=t[0],/^[0-9a-f]{6}$/i.test(t)&&(t="#"+t),{type:"color-token",mode:this.mode,color:t};throw new Wo("Invalid color: '"+e.text+"'",e)}},{key:"parseSizeGroup",value:function(e){var t,n=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;if(e||0!==t.text.length||(t.text="0pt",n=!0),!(e=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text)))throw new Wo("Invalid size: '"+t.text+"'",t);if(va(e={number:+(e[1]+e[2]),unit:e[3]}))return{type:"size",mode:this.mode,value:e,isBlank:n};throw new Wo("Invalid unit: '"+e.unit+"'",t)}},{key:"parseUrlGroup",value:function(e){return this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12),e=this.parseStringGroup("url",e),this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==e?null:(e=e.text.replace(/\\([#$%&~_^{}])/g,"$1"),{type:"url",mode:this.mode,url:e})}},{key:"parseArgumentGroup",value:function(e,t){var n,i;return null==(e=this.gullet.scanArgument(e))?null:(n=this.mode,t&&this.switchMode(t),this.gullet.beginGroup(),i=this.parseExpression(!1,"EOF"),this.expect("EOF"),this.gullet.endGroup(),e={type:"ordgroup",mode:this.mode,loc:e.loc,body:i},t&&this.switchMode(n),e)}},{key:"parseGroup",value:function(e,t){var n=this.fetch(),i=n.text;if("{"===i||"\\begingroup"===i){this.consume();var o="{"===i?"}":"\\endgroup",a=(this.gullet.beginGroup(),this.parseExpression(!1,o)),r=this.fetch();this.expect(o),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:Go.range(n,r),body:a,semisimple:"\\begingroup"===i||void 0}}else if(null==(o=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===i[0]&&!Jl.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Wo("Undefined control sequence: "+i,n);o=this.formatUnsupportedCmd(i),this.consume()}return o}},{key:"formLigatures",value:function(e){for(var t=e.length-1,n=0;n<t;++n){var i=e[n],o=i.text;"-"===o&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:Go.range(i,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Go.range(i,e[n+1]),text:"--"}),--t)),"'"!==o&&"`"!==o||e[n+1].text!==o||(e.splice(n,2,{type:"textord",mode:"text",loc:Go.range(i,e[n+1]),text:o+o}),--t)}}},{key:"parseSymbol",value:function(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n="*"===(o=t.slice(5)).charAt(0);if((o=n?o.slice(1):o).length<2||o.charAt(0)!==o.slice(-1))throw new Wo("\\verb assertion failed --\n                        please report what input caused this bug");return{type:"verb",mode:"text",body:o=o.slice(1,-1),star:n}}tc.hasOwnProperty(t[0])&&!za[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=tc[t[0]]+t.slice(1));var i=Hl.exec(t);if(i&&("i"===(t=t.substring(0,i.index))?t="ı":"j"===t&&(t="ȷ")),za[this.mode][t]){this.settings.strict&&"math"===this.mode&&0<="ÐÞþ".indexOf(t)&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var o=za[this.mode][t].group,a=(n=Go.range(e),$a.hasOwnProperty(o)?{type:"atom",mode:this.mode,family:o,loc:n,text:t}:{type:o,mode:this.mode,loc:n,text:t})}else{if(!(128<=t.charCodeAt(0)))return null;this.settings.strict&&(ra(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),a={type:"textord",mode:"text",loc:Go.range(e),text:t}}if(this.consume(),i)for(var r=0;r<i[0].length;r++){var s=i[0][r];if(!ec[s])throw new Wo("Unknown accent ' "+s+"'",e);var l=ec[s][this.mode]||ec[s].text;if(!l)throw new Wo("Accent "+s+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:Go.range(e),label:l,isStretchy:!1,isShifty:!0,base:a}}return a}}])}()).endOfExpression=["}","\\endgroup","\\end","\\right","&"],("undefined"==typeof document?"undefined":h(document))<"u"&&"CSS1Compat"!==document.compatMode&&("undefined"==typeof console||h(console));var ic=a(function e(t,n,o){var a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];i(this,e),this.createNode=t||this.emptyFn,this.setNodeValue=n||this.emptyFn,this.saveNodeText=o||this.emptyFn,this.images=[],this.isStream=a},[{key:"emptyFn",value:function(){}},{key:"init",value:function(){}},{key:"getAstByMarkdown",value:function(e){return on(e,{extensions:[ce(),{flow:{36:$o},text:{36:zo()}}],mdastExtensions:[Ei(),nc()]})}},{key:"getMarkdownByMindData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.def;return{output:To(e=this.getAstByDef(JSON.parse(e)),{extensions:[{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:xn,notInConstruct:wn},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:xn,notInConstruct:wn},{character:":",before:"[ps]",after:"\\/",inConstruct:xn,notInConstruct:wn}]},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:Gn,footnoteReference:Rn}},{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Wn}],handlers:{delete:Vn}},Ti(),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Di}}]}],mdastExtensions:[Ei()],bullet:"-",listItemIndent:"mixed"}).replace(/^(?:[^\n]*\n){1}((?:  .*\n)*)/gm,function(e){return e.replace(/^    /gm,"")}),originTree:e}}},{key:"getAstByDef",value:function(e){var t={type:"root",children:[{type:"heading",depth:1,id:"root",children:[{type:"text",value:"1"}]}]},n=t.children;return function e(t,i,o){for(var a=0;a<t.length;a++){var r=t[a],s={},l=r.code,c=r.link,d=r.title,u={type:"list",ordered:!1,spread:!1,children:[]};l&&u.children.push({type:"listItem",children:[{type:"code",lang:l.curLanguage,meta:null,value:l.text}]}),c&&u.children.push({type:"listItem",children:[{type:"paragraph",children:[{type:"link",title:null,url:c.value,children:[{type:"text",value:c.title}]}]}]}),l=null,6<i?(l={type:"listItem",id:r.id,children:[{type:"paragraph",children:[{type:"text",value:d}]}]},o.children.push(l)):(s.type="heading",s.depth=i,s.id=r.id,s.children=[{type:"text",value:d}],n.push(s)),6<=i?(6===i?n:l.children).push(u):0<u.children.length&&n.push(u),r.children.length&&(6<=i?e(r.children,i+1,u):e(r.children,i+1))}}(e=[].concat(u(e.children),u(e.leftChildren)),2),t}},{key:"handlerList",value:function(e,t){var n=this;return t=t||{title:"",id:this.getId()},e.children.forEach(function(e){var i,o,a;e.children.forEach(function(e,r){"list"===e.type?i=r:"table"===e.type?o=r:"text"===(r=n.getBlockContent(e,!0)).type?(t.children||(t.children=[]),r.parent=t.id,a=n.handlerTopicData(r,"topic"),t.children.push(a)):"link"===r.type?t.link=n.handlerTopicData(r,r.type):"code"===r.type?t.code=n.handlerTopicData(r,r.type):"image"===r.type&&(t.image=n.handlerTopicData(r,r.type))}),a=a||{title:"",parent:t.id,children:[]},void 0!==i&&(n.handlerList(e.children[i],a),i=void 0),void 0!==o&&(n.handlerTable(e.children[o],a),o=void 0)}),t}},{key:"handlerTable",value:function(e,t){var n=this,i=(t=t||{title:"",id:this.getId()},[]);return e.children&&e.children.forEach(function(e,o){t.children||(t.children=[]),e.children.forEach(function(e,a){var r;0===o?(r=n.getBlockContent(e),i.push(r),r.parent=t.id,t.children.push(n.handlerTopicData(r,"topic"))):(r=n.getBlockContent(e),(e=i[a])&&r&&(e.children||(e.children=[]),r.parent=e.id,e.children.push(n.handlerTopicData(r,"topic"))))})}),t}},{key:"getBlockContent",value:function(e){var t,n=this,i={title:"",type:"text",valueKey:"title"},o=this;function a(e,t){return t?("link"===t.type||"code"===t.type||"image"===t.type?e[t.type]=o.handlerTopicData(t,t.type):e.title=t[t.valueKey],e):{}}return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]||"heading"!==e.type||(i.depth=e.depth),e.children&&1<e.children.length?(e.children.forEach(function(e){var t,r,s,l;(e=n.getNodeContent(e))&&("link"===e.type?i.title+='<a href="'.concat(e[e.valueKey],'">').concat(e.title,"</a>"):"image"===e.type?(s=e,(t=i)[r="image"]?(l=t[r],delete t[r],t.children||(t.children=[]),l.type=r,t.children.push(o.handlerTopicData(a({title:"",type:"text",valueKey:"title"},l),"topic")),t.children.push(o.handlerTopicData(a({title:"",type:"text",valueKey:"title"},s),"topic"))):t.children?t.children.push(o.handlerTopicData(a({title:"",type:"text",valueKey:"title"},s),"topic")):t[r]=o.handlerTopicData(s,s.type)):i.title+=e[e.valueKey])}),i):e.children&&1===e.children.length?(t=this.getNodeContent(e.children[0]),a(i,t)):(t=this.getNodeContent(e),a(i,t))}},{key:"handlerText",value:function(e){return e.replace(/:(\+1|[-\w]+):/g,function(e){return Io[e.replace(/(^\:|\:$)/g,"")]||e})}},{key:"mdastToHtml",value:function(e){var t=this,n=function(e){switch(e.type){case"strong":return"<b>".concat(i(e.children),"</b>");case"emphasis":return"<i>".concat(i(e.children),"</i>");case"delete":return"<strike>".concat(i(e.children),"</strike>");case"text":return t.handlerText(e.value);case"html":return"<u>"===e.value||"</u>"===e.value?e.value:e.value.replace(/</g,"&lt;").replace(/>/g,"&gt;");default:return e.value}};function i(e){return e.map(n).join("")}return n(e)}},{key:"getNodeContent",value:function(e){switch(e.type){case"code":n={curLanguage:e.lang,text:e.value,valueKey:"text",type:"code",width:560,height:152};break;case"inlineCode":n=r({title:e.value.replace(/</g,"&lt;"),valueKey:"title",type:"text"},"valueKey","title");break;case"link":n={value:e.url,title:e.children&&e.children[0]&&e.children[0].value,valueKey:"value",type:"link"};break;case"image":n={url:e.url,title:e.children&&e.children[0]&&e.children[0].text,valueKey:"url",type:"image"},this.images.push(n);break;case"text":case"strong":case"delete":case"emphasis":case"html":n=r({title:this.mdastToHtml(e),valueKey:"title",type:"text"},"valueKey","title");break;case"math":var t=e.value.replace(/[\r\n]+/g," ").trim(),n=r({title:'<span class="equation-text" contenteditable="false" data-index="'.concat(0,'" data-equation="',t,'"><span></span><span></span></span>'),valueKey:"title",type:"text"},"valueKey","title");t.includes("{align*}")&&(n.title=t);break;case"inlineMath":n=r({title:'<span class="equation-text" contenteditable="false" data-index="'.concat(0,'" data-equation="',e.value.trim(),'"><span></span><span></span></span>'),valueKey:"title",type:"text"},"valueKey","title");break;case"paragraph":return this.getBlockContent(e)}return n}},{key:"getNormalProp",value:function(e){return"root"===e?{root:"true",showWatermark:!1,structure:"mind_free",theme:"basic"}:"code"===e?{fold:"false",lineNumbers:!0,width:560.4,theme:"base16-light",id:"6b9021515ed09486",lineWrapping:!0,height:82.4}:"link"===e?{type:"url",title:"23232323",value:"http://www.baidu.com2323"}:"image"===e?{w:82,h:57,originalUrl:"",direction:"up"}:{}}},{key:"getId",value:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+""+e()+e()+e()}},{key:"setDataId",value:function(e){var t=this;e.children&&e.children.length&&e.children.forEach(function(n){n.parent=e.id,t.setDataId(n)})}},{key:"handlerTopicData",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return delete e.type,delete e.valueKey,"topic"===t?(n&&(e.id=this.getId()),e.children?this.setDataId(e):e.children=[],e.title||(e.title="")):"root"===t?(e.id="root",e.children||(e.children=[]),e.children.forEach(function(e){e.parent="root"}),e.title||(e.title="")):"code"===t&&Oo.forEach(function(t){e.curLanguage||(e.curLanguage="Plain Text"),t.name.toLocaleLowerCase()===e.curLanguage.toLocaleLowerCase()&&(e.curLanguage=t.name,e.language=t.name)}),l(l({},this.getNormalProp(t)),e)}},{key:"judgeIsAnalysis",value:function(e,t){return!(-1<["thematicBreak","break"].indexOf(e.type))}},{key:"filterAstChildren",value:function(e){var t=this;return e&&e.length?e.filter(function(e){return t.judgeIsAnalysis(e)}):e}},{key:"getUpadteParams",value:function(e,t){var n,i,o,a,r,s,l={};return!e&&t?{isAdd:!0}:e&&!t?{isDelete:!0}:(n=e.title,i=e.image,o=e.code,e=e.link,a=t.title,r=t.image,t=t.code,s=!1,n!==a&&(l.updateTitle=s=!0),!i&&r&&(l.updateTitle=s=!0),!o&&t&&(l.updateCode=s=!0),!e&&e&&(l.updateLink=s=!0),l.isChange=s,l)}},{key:"compareNode",value:function(e,t,n){var i,o,a=this,r=this.getUpadteParams(e,t);r.isAdd?(n&&(t.parent=n),this.createNode(t)):r.isDelete||(r.isChange?(t.id=e.id,t.parent=e.parent,this.setNodeValue(t,r)):(t.id=e.id,t.parent=e.parent)),e&&t&&(n=e.children,o=t.children||[],((i=void 0===n?[]:n).length>o.length?i:o).forEach(function(e,n){a.compareNode(i[n],o[n],t.id)}))}},{key:"setDefForStream",value:function(e){this.def=e,e=!1;var t,n=(this.stack||(this.stack=[],this.preCurrentTree=[],this.currentLevelNode=null,this.currentMostLevel=null,this.currentIndex=void 0),this.filterAstChildren(this.getAstByMarkdown(this.def).children));void 0===this.currentIndex&&(t=this.handlerAstItem({isRoot:!0,origin:n[0]}),this.currentIndex=0,this.stack.push(t.currentLevelNode),this.flag="add",e=!0),this.preCurrentTreeLength&&(this.preCurrentTreeLength<n.length?(this.currentIndex=n.length-1,this.flag="add",this.currentLevelLength=void 0):this.flag="edit",e=0===this.currentIndex,t=this.handlerAstItem({flag:this.flag,origin:n[this.currentIndex],stack:this.stack,currentLevelNode:$.extend(!0,{},this.currentLevelNode),currentMostLevel:$.extend(!0,{},this.currentMostLevel),isRoot:e}),e)&&(this.stack[0]=t.currentLevelNode),t.currentNode?"add"===this.flag?((0!==this.currentIndex||this.currentNode&&this.currentNode.title&&-1<this.currentNode.title.indexOf("[DONE]"))&&this.saveNodeText(this.currentNode),this.createNode(t.currentNode,e)):this.setNodeValue(t.currentNode):this.compareNode(this.currentLevelNode,t.currentLevelNode),this.currentLevelNode=t.currentLevelNode,this.currentMostLevel=t.currentMostLevel,this.currentNode=$.extend(!0,{},t.currentNode),this.preCurrentTreeLength=n.length}},{key:"handlerAstItem",value:function(){var e,t=(r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).origin,n=r.stack,i=r.currentLevelNode,o=r.currentMostLevel,a=r.isRoot,r=void 0===(r=r.flag)?"add":r;if(void 0!==a&&a)return a={},(a="list"===t.type?this.handlerList(t):"table"===t.type?this.handlerTable(t):"code"===(s=this.getBlockContent(t)).type?(a.code=this.handlerTopicData(s,s.type),this.handlerTopicData(a,"topic")):"link"===s.type?(a.link=this.handlerTopicData(s,s.type),this.handlerTopicData(a,"topic")):"image"===s.type?(a.image=this.handlerTopicData(s,s.type),this.handlerTopicData(a,"topic")):this.handlerTopicData(s,"topic")||{}).id="add"===r?this.getId():i.id,(i=o=a).depth||(i.depth=0),a.title=a.title||"",{currentLevelNode:i,currentMostLevel:o,currentNode:a};if("list"===t.type)"add"===r?i.children?this.currentLevelLength=i.children.length:this.currentLevelLength=0:i.children&&(i.children=i.children.slice(0,this.currentLevelLength)),this.handlerList(t,i);else if("table"===t.type)"add"===r?i.children?this.currentLevelLength=i.children.length:this.currentLevelLength=0:"edit"===r&&void 0===this.currentLevelLength&&(i.children.pop(),this.currentLevelLength=i.children?i.children.length:0),i.children&&(i.children=i.children.slice(0,this.currentLevelLength)),this.handlerTable(t,i);else if(e=this.getBlockContent(t))if(e.depth){if("add"===r){if(e.depth>i.depth)i.children||(i.children=[]),(e=this.handlerTopicData(e,"topic")).parent=i.id,i.children.push(e);else{for(;0<n.length&&e.depth<=n[n.length-1].depth;)1===n.length?o=n.pop():n.pop();0===n.length?(o={title:"",depth:e.depth-1,children:[this.handlerTopicData(o,"topic",!1)],id:this.getId()},n.push(o)):n[n.length-1].children||(n[n.length-1].children=[]);var s=n[n.length-1];e.parent=s.id,e=this.handlerTopicData(e,"topic"),s.children.push(e)}n.push(e)}else e.parent=i.parent,e.id=i.id,o.depth===e.depth&&(o=e),n[n.length-1]=e;i=e}else"code"===e.type?(i.code=this.handlerTopicData(e,e.type),e=null):"link"===e.type?(i.link=this.handlerTopicData(e,e.type),e=null):"image"===e.type?(i.image=this.handlerTopicData(e,e.type),e=null):(i.children||(i.children=[]),e.parent=i.id,e=this.handlerTopicData(e,"topic"),"add"===r?i.children.push(e):(a=i.children[i.children.length-1],e.id=a.id,i.children[i.children.length-1]=e)),n[n.length-1]=i;return{currentLevelNode:i,currentMostLevel:o,currentNode:e}}},{key:"getDefByAst",value:function(e){if(e&&0!==e.length){for(var t=e.shift();!this.judgeIsAnalysis(t,!0);)t=e.shift();for(var n=this.handlerAstItem({origin:t,isRoot:!0}),i=n.currentLevelNode,o=n.currentMostLevel,a=[i],r=0;r<e.length;r++){var s=e[r];this.judgeIsAnalysis(s)&&(i=(s=this.handlerAstItem({origin:s,stack:a,currentLevelNode:i,currentMostLevel:o})).currentLevelNode,o=s.currentMostLevel)}return o.title||(o.title="中心主题"),this.handlerTopicData(o,"root")}}}]);return function(e){var n=e.value,i=void 0===(e=e.type)?"text":e;return new Promise(function(){e=c().mark(function e(t,o){var a,r;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=3;var s={value:n,type:i},l=s.value,c=void 0===(s=s.type)?"text":s;return new Promise(function(e,t){var n;"text"===c?e(l):((n=new FileReader).onload=function(t){t=t.target.result,e(t)},n.onerror=function(e){t(e.target.error)},n.readAsText(l))});case 3:a=e.sent,r=new ic,a=r.getAstByMarkdown(a),r=r.getDefByAst(a.children),t({elements:r,page:{name:"画布1"}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),o(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])});var e,o=function(){var n=this,i=arguments;return new Promise(function(o,a){var r=e.apply(n,i);function s(e){t(r,o,a,s,l,"next",e)}function l(e){t(r,o,a,s,l,"throw",e)}s(void 0)})};return function(e,t){return o.apply(this,arguments)}}())}}()},51051:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.MindTipUI=void 0;var o=i(n(32483));n(45437),t.MindTipUI={init:function(){var e=this;editorGlobal.mindMap.on("showCanvasTip",function(t,n){e.showCanvasTip(t,n)}),editorGlobal.mindMap.on("hideCanvasTip",function(){e.hideCanvasTip()}),editorGlobal.mindMap.on("switchMultTopicTip",this.switchMultTopicTip.bind(this)),editorGlobal.mindMap.on("topic_selected",function(){var t,n=$("#switch-mult-topic");0!=n.length&&n.attr("data-topicId")!==(null===(t=editorGlobal.mindMap.renderer.getSelectedTopic())||void 0===t?void 0:t.id)&&e.hideMultTopicTip()}),editorGlobal.mindMap.on("view_data_change_real_time",function(){0!=$("#switch-mult-topic").length&&e.updateMultTopicTipPos()})},showCanvasTip:function(e,t){var n=this,i=$("#canvas-tip");0===i.length?(i=$('<div id="canvas-tip"/>'),$("body").append(i)):i.show(),i.attr("data-title",t),i.css({left:e.x,top:e.y}),$(document).off("click.canvas-tip").on("click.canvas-tip",function(){n.hideCanvasTip()})},hideCanvasTip:function(){$("#canvas-tip").hide()},switchMultTopicTip:function(e,t,n){var i=t[0].id,a=$("#switch-mult-topic");0==a.length&&(a=$('<div id="switch-mult-topic" data-topicId='.concat(i,' class="menu" style="position: absolute;display: none;"><div id="splitTopic-btn">').concat(o.default.t("js.Split_into_themes"),"</div></div>")).appendTo($("body"))),this.updateMultTopicTipPos(i),$("#splitTopic-btn").off("mousedown").on("mousedown",function(i){i.stopPropagation(),editorGlobal.mindMap.execCommand("SWITCH_MULTIPLE_TOPIC",e,t,n),$("#switch-mult-topic").remove()})},updateMultTopicTipPos:function(e){var t=$("#switch-mult-topic");if(0!=t.length&&(e=e||t.attr("data-topicId"))){var n=editorGlobal.mindMap.renderer.getCacheTopic(e).getRectInSvg(),i=t.outerWidth(),o=n.left-0+(n.width-i)/2,a=n.bottom-0;t.css({left:o,top:a}).show()}},hideMultTopicTip:function(){$("#switch-mult-topic").remove()}}},64794:function(e,t,n){n(61894),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.boundaryStyle=void 0;var o=i(n(66603));n(4790),n(69268),n(58500),n(86837),n(54938);var a=i(n(32483)),r=n(47306),s=n(15240);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.boundaryStyle={init:function(){editorGlobal.mindMap.on("boundaryDotMouseover",this.showBoundaryTip.bind(this)),editorGlobal.mindMap.on("view_data_change_real_time",this.hideBoundaryTip.bind(this)),editorGlobal.mindMap.on("mousedown",this.hideBoundaryTip.bind(this))},initEvent:function(e){var t=$(".mind-boundary-menu");t.find(".selected").removeClass("selected");var n=e.getBoundStyle(),i=n.fill,o=n.lineColor,a=n.dasharray,s=n.lineWidth,l=n.lineType,c={1:"0",2:"6,3"};for(var d in o&&o.indexOf("rgb")>=0&&(o="#"+r.Util.getHexColor(o).hex),i&&i.indexOf("rgb")>=0&&(i="#"+r.Util.getHexColor(i).hex),t.find("[alt=line_color] > [ac="+o+"]").addClass("selected"),t.find("[alt=bg_color] > [ac="+i+"]").addClass("selected"),t.find("[alt=type] > [ac="+l+"]").addClass("selected"),c)c[d]==a&&t.find("[alt=line_style] > [ac="+d+"]").addClass("selected");var u=this;$("#mind-connection-w").spinner({min:1,max:5,step:1,unit:"px",width:100,onChange:function(t){u.setBoundaryStyle(e,"width",t)}}),$("#mind-connection-w").spinner("setValue",s+"px"),t.find("div[alt]").children().off("click").on("click",function(){var t=$(this),n=t.parent(),i=t.attr("ac"),o=n.attr("alt");t.addClass("selected").siblings().removeClass("selected"),u.setBoundaryStyle(e,o,i)}),$(".del-boundary-box").off().on("click",function(t){t.stopPropagation(),editorGlobal.mindMap.execCommand("REMOVE_BOUNDARY",e.getData()),u.hideBoundaryTip()}),this.isShowResetStyleBtn(e.getPureData(),e)},initDom:function(){var e='<div class="mind-boundary-menu">\n                <div class="mind-connection-menu-con">\n                    <div class="mind-connection-menu-title">\n                        <span>'.concat(a.default.t("Outer_Frame_Settings"),'</span> <div class="po-tool-button del-boundary-box"><span class="text">').concat(a.default.t("Remove_frame"),'</span><span class="po-diagraming-icons"></span></div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(a.default.t("Line_Style"),'</span>\n                        <div id="mind-connection-w" class="po-spinner-other small" style="flex:none"></div>\n                        <div alt="line_style">\n                        <span ac="1" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                        </span>\n                            <span ac="2" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                        </span>\n                            \x3c!-- <div ac="3" class="mind-connection-block">\n                                <hr style="border:0px;border-bottom: 4px dotted #000;">\n                            </div> --\x3e\n                        </div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(a.default.t("Fill_color"),'</span>\n                        <div alt="bg_color" class="mind-box-color">\n                            <span ac="#bf1e1b" class="default-color" style="background:#bf1e1b"></span>\n                            <span ac="#63abf7" class="default-color" style="background:#63abf7"></span>\n                            <span ac="#71cb2d" class="default-color" style="background:rgb(113, 203, 45)"></span>\n                            <span class="default-color" ac="#ff9f1a" style="background:#ff9f1a"></span>\n                            <span class="default-color" ac="#30bfbf" style="background:#30bfbf"></span>\n                            <span class="default-color" ac="#000000" style="background:#000"></span>\n                            <span ac="#fff" class="colourless default-color"></span>\n                        </div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(a.default.t("Line_color"),'</span>\n                        <div alt="line_color" class="mind-box-color">\n                            <span ac="#bf1e1b" class="default-color" style="background:#bf1e1b"></span>\n                            <span ac="#63abf7" class="default-color" style="background:#63abf7"></span>\n                            <span ac="#71cb2d" class="default-color" style="background:rgb(113, 203, 45)"></span>\n                            <span class="default-color" ac="#ff9f1a" style="background:#ff9f1a"></span>\n                            <span class="default-color" ac="#30bfbf" style="background:#30bfbf"></span>\n                            <span class="default-color" ac="#000000" style="background:#000"></span>\n                            <span ac="transparent" class="colourless default-color"></span>\n                        </div>\n                    </div>\n\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(a.default.t("Outer_frame_style"),'</span>\n                        <div alt="type">\n                            <span ac="1" class="po-tool-button other">\n                                    <span class="po-diagraming-icons"></span>\n                                </span>\n                            <span ac="2" class="po-tool-button other">\n                                    <span class="po-diagraming-icons"></span>\n                                </span>\n                            <span ac="3" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                            <span ac="4" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                        </div>\n                    </div>\n                    <div full-title="').concat(a.default.t("Apply_All_Boundary"),'" style="display: none; margin-top: 8px" class="apply-all-boundary-btn po-button text-overflow">\n                        ').concat(a.default.t("Apply_All_Boundary"),'\n                    </div>\n                    <div full-title="').concat(a.default.t("Restore_Default_Settings"),'" style="display: none; margin-top: 8px" class="reset-boundary-btn po-button text-overflow">\n                        ').concat(a.default.t("Restore_Default_Settings"),"\n                    </div>\n                </div>\n            </div>");return $(e).appendTo("body"),$(e)},isShowResetStyleBtn:function(e,t){var n=this,i=$(".mind-boundary-menu"),o=i.find(".reset-boundary-btn"),a=i.find(".apply-all-boundary-btn");e&&e.style?(o.css("display","block"),a.css("display","block"),o.off("click").on("click",C(k().mark(function i(){var o;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return delete(o=t.getData()).style,i.next=4,editorGlobal.mindMap.execCommand("UPDATE_BOUNDARY",o,e);case 4:n.initEvent(t),editorGlobal.mindMap.emit("recordBoundaryDefaultStyle",c({},t.getBoundStyle()));case 6:case"end":return i.stop()}},i)}))),a.off("click").on("click",function(){var t=Object.values(editorGlobal.mindMap.renderer.topicsList).filter(function(t){return t.boundary&&t.id!==e.id}),n=(0,s.copyTopicsData)(t),i=t.map(function(t){return c(c({},t),{},{style:c({},e.style)})});editorGlobal.mindMap.emit("recordBoundaryDefaultStyle",c({},e.style)),editorGlobal.mindMap.execCommand("UPDATE_BOUNDARY",i,n)})):(o.hide(),a.hide(),o.off("click"),a.off("click"))},setBoundaryStyle:function(e,t,n){var i=e.getData(),o=e.getPureData(),a=i.style||{};if("width"==t){if(a.lineWidth==n)return;i.style=c(c({},a),{lineWidth:n}),editorGlobal.mindMap.emit("recordBoundaryDefaultStyle",{lineWidth:n})}else if("line_color"==t){if(a.lineColor==n)return;i.style=c(c({},a),{lineColor:n}),editorGlobal.mindMap.emit("recordBoundaryDefaultStyle",{lineColor:n})}else if("bg_color"==t){if(a.fill==n)return;i.style=c(c({},a),{fill:n}),editorGlobal.mindMap.emit("recordBoundaryDefaultStyle",{fill:n})}else if("line_style"==t){var r={1:"0",2:"6,3"}[n];if(a.dasharray==r)return;i.style=c(c({},a),{dasharray:r}),editorGlobal.mindMap.emit("recordBoundaryDefaultStyle",{dasharray:r})}else if("type"==t){if(a.lineType==n)return;i.style=c(c({},a),{lineType:n}),editorGlobal.mindMap.emit("recordBoundaryDefaultStyle",{lineType:n})}editorGlobal.mindMap.execCommand("UPDATE_BOUNDARY",i,o),this.isShowResetStyleBtn(c({},i),e)},showBoundaryTip:function(e,t){var n=$("#boundary-dot-"+t.id);if(n.length>0){var i=$(".mind-boundary-menu"),o=n.offset();i.length||(i=this.initDom());var a=o.left+20,r=o.top+8;"left"===t.part&&(a=o.left-16),a<10&&(a=10);var s={left:a,top:r},l=this.showMenuPos(s,i,n)||s;i.css({left:l.left,top:l.top}).show(),this.initEvent(t)}},showMenuPos:function(e,t){if(e){var n=$(window).height(),i=$(window).width(),o=t.outerWidth(),a=t.outerHeight();e.left<10&&(e.left+=o+20),e.left+o>i&&(e.left-=o+20),e.top<$("header").height()&&(e.top=$("header").height()+20),e.top+a>n&&(e.top=n-a-20)}return e},hideBoundaryTip:function(){$(".mind-boundary-menu").hide()}}},57160:function(e,t,n){n(61894),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.summaryStyle=void 0;var o=i(n(66603));n(69268),n(86837);var a=i(n(32483)),r=n(47306);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.summaryStyle={init:function(){editorGlobal.mindMap.on("summaryDotMouseover",this.showSummaryTip.bind(this)),editorGlobal.mindMap.on("view_data_change_real_time",this.hideSummaryTip.bind(this)),editorGlobal.mindMap.on("mousedown",this.hideSummaryTip.bind(this))},initEvent:function(e){var t=$(".mind-summary-menu");t.find(".selected").removeClass("selected");var n=e.getStyle("summaryLineColor"),i=e.getStyle("summaryLineWidth"),o=e.getStyle("summaryLineType");n.indexOf("rgb")>=0&&(n="#"+r.Util.getHexColor(n).hex),t.find("[alt=color] > [ac="+n+"]").addClass("selected"),t.find("[alt=width] > [ac="+i+"]").addClass("selected"),t.find("[alt=type] > [ac="+o+"]").addClass("selected");var a=this;$("#mind-summary-w").spinner({min:1,max:4,step:1,unit:"px",width:100,onChange:function(t){a.setSummaryStyle(e,"width",t)}}),$("#mind-summary-w").spinner("setValue",i+"px"),t.find("div[alt]").children().off("click").on("click",function(){var t=$(this),n=t.parent(),i=t.attr("ac"),o=n.attr("alt");t.addClass("selected").siblings().removeClass("selected"),a.setSummaryStyle(e,o,i)}),$(".del-summary-box").off().on("click",function(t){t.stopPropagation(),editorGlobal.mindMap.execCommand("REMOVE_TOPIC",e.getData()),a.hideSummaryTip()})},initDom:function(){var e='<div class="mind-summary-menu">\n                <div class="mind-connection-menu-con">\n                    <div class="mind-connection-menu-title">\n                        <span>'.concat(a.default.t("Profile_Settings"),'</span><div class="po-tool-button del-summary-box"><span class="text">').concat(a.default.t("Delete_summary"),'</span><span class="po-diagraming-icons"></span></div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(a.default.t("Outline_Width"),'</span>\n                        <div id="mind-summary-w" class="po-spinner-other small" style="flex:none"></div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(a.default.t("Summary_Color"),'</span>\n                        <div alt="color" class="mind-box-color">\n                            <span ac="#bf1e1b" class="default-color" style="background:#bf1e1b"></span>\n                            <span ac="#63abf7" class="default-color" style="background:#63abf7"></span>\n                            <span ac="#71cb2d" class="default-color" style="background:rgb(113, 203, 45)"></span>\n                            <span class="default-color" ac="#ff9f1a" style="background:#ff9f1a"></span>\n                            <span class="default-color" ac="#30bfbf" style="background:#30bfbf"></span>\n                            <span class="default-color" ac="#000000" style="background:#000"></span>\n                        </div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(a.default.t("Summary_Style"),'</span>\n                        <div alt="type">\n                            <span ac="broken" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                            <span ac="straight" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                            <span ac="curve" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                            <span ac="curve_complex" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>');return $(e).appendTo("body"),$(e)},setSummaryStyle:function(e,t,n){var i=e.getData(),o=e.getPureData(),a=i.style||{};if("color"==t){if(a.summaryLineColor==n)return;i.style=l(l({},a),{summaryLineColor:n}),editorGlobal.mindMap.emit("recordSummaryDefaultStyle",{summaryLineColor:n})}else if("width"==t){if(a.summaryLineWidth==n)return;i.style=l(l({},a),{summaryLineWidth:n}),editorGlobal.mindMap.emit("recordSummaryDefaultStyle",{summaryLineWidth:n})}else if("type"==t){if(a.summaryLineType==n)return;i.style=l(l({},a),{summaryLineType:n}),editorGlobal.mindMap.emit("recordSummaryDefaultStyle",{summaryLineType:n})}editorGlobal.mindMap.execCommand("UPDATE_SUMMARY",i,o)},showSummaryTip:function(e,t){var n=$("#summary-dot-"+t.id);if(n.length>0){var i=$(".mind-summary-menu"),o=n.offset();i.length||(i=this.initDom());var a=o.left+20,r=o.top+8;"left"===t.part&&(a=o.left-16),a<10&&(a=10);var s={left:a,top:r},l=this.showMenuPos(s,i,n)||s;i.css({left:l.left,top:l.top}).show(),this.initEvent(t)}},showMenuPos:function(e,t){if(e){var n=$(window).height(),i=$(window).width(),o=t.outerWidth(),a=t.outerHeight();e.left<10&&(e.left+=o+20),e.left+o>i&&(e.left-=o+20),e.top<$("header").height()&&(e.top=$("header").height()+20),e.top+a>n&&(e.top=n-a-20)}return e},hideSummaryTip:function(){$(".mind-summary-menu").hide()}}},29878:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.utilContainerUI=void 0;var o=i(n(32483)),a=n(15240);t.utilContainerUI={init:function(){this.renderContainer(),this.renderMenu()},renderContainer:function(){(0,a.querySelector)(".mind-util-container")||$("body").append($('\n            <div class="mind-util-container"></div>\n        '))},renderMenu:function(){var e='\n            \n        \x3c!--协作人员列表--\x3e\n        <div id="po-clb-user-menu" class="po-clb-user-menu po-menu">\n            <div class="title">\n                <span class="text"><span>'.concat(o.default.t("Current_number_of_collaborators"),'</span>6</span>\n                <div class="po-clb-admin">').concat(o.default.t("Rights_Management"),'</div>\n            </div>\n            <ul class="po-clb-user-list">\n            </ul>\n        </div>\n        \x3c!--调色器--\x3e\n        <div id="color_picker" class="po-menu color_picker" style="display: none;">\n            <div class="color_change">\n                <div type="select">\n                    <span class="text-content">').concat(o.default.t("System_color"),'</span>\n                    <ul id="color_menu" class="po-menu-small">\n                        \x3c!--<li class="po-menu-item" ac="系统色">\n                            <div class="po-menu-item-box"><span class="text">系统色</span></div>\n                        </li>--\x3e\n                    </ul>\n                </div>\n            </div>\n            <div class="color_transparent">').concat(o.default.t("js.NO_Fill"),'</div>\n            <div class="color_group"></div>\n            <div class="color_base"></div>\n            <div class="history">\n                <div class="history_title">').concat(o.default.t("Recently_used"),'</div>\n                <div class="history_color"></div>\n            </div>\n            <div class="color_options">\n                <div class="color_draw po-diagraming-icons" title="').concat(o.default.t("Color_absorption"),'"></div>\n                <div class="color_edit">\n                    <div class="hex">\n                        <div class="input_change">Hex<span class="po-diagraming-icons"></span></div>\n                        <div class="input_box"><input class="input_hex" type="text" maxlength="6"></div>\n                    </div>\n                    <div class="rgb">\n                        <div class="input_change">RGB<span class="po-diagraming-icons"></span></div>\n                        <div class="input_box">\n                            <input class="input_r" type="text" maxlength="3">\n                            <input class="input_g" type="text" maxlength="3">\n                            <input class="input_b" type="text" maxlength="3">\n                        </div>\n                    </div>\n                </div>\n                <div class="color_show">\n                    <span class="color_show_now" title="').concat(o.default.t("Current_color"),'"></span>\n                    <span class="color_show_history" style="display: none;"></span>\n                </div>\n            </div>\n            <div class="color_sep"></div>\n            <div class="color_more">\n                <img class="color_more_bg" src="').concat(staticBasePath,'/images/color_picker/more.png">\n                <span>').concat(o.default.t("More_colors"),'</span>\n                <span class="extend-icon po-diagraming-icons"></span>\n                <div class="more_panel">\n                    <div class="color_panel">\n                        <div class="saturation_white">\n                            <div class="saturation_black"></div>\n                        </div>\n                        <div class="picker_pin"></div>\n                    </div>\n                    <div class="hue_horizontal">\n                        <div class="picker_pin"></div>\n                    </div>\n                    <div class="alpha_horizontal alpha_bg" style="display:none;">\n                        <div class="picker_pin"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="color_extend"></div>\n        </div>\n        <ul id="mind-icons-priority-list" class="po-menu-small auto-target" style="display: none;">\n            <li class="po-menu-item">\n                <div class="po-menu-item-box">\n                    <span n="priority" class="po-diagraming-icons  po-menu-icon"></span>\n                    <span>').concat(o.default.t("None"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="1">\n                <div class="po-menu-item-box">\n                    <span ico="301" n="priority" class="expression-icons  po-menu-icon" style="color:#F85767"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 1</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="2">\n                <div class="po-menu-item-box">\n                    <span ico="302" n="priority" class="expression-icons  po-menu-icon" style="color:#FF863C"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 2</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="3">\n                <div class="po-menu-item-box">\n                    <span ico="303" n="priority" class="expression-icons  po-menu-icon" style="color:#FFB60A"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 3</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="4">\n                <div class="po-menu-item-box">\n                    <span ico="304" n="priority" class="expression-icons  po-menu-icon" style="color:#28BF5A"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 4</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="5">\n                <div class="po-menu-item-box">\n                    <span ico="305" n="priority" class="expression-icons  po-menu-icon" style="color:#21B1DF"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 5</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="6">\n                <div class="po-menu-item-box">\n                    <span ico="306" n="priority" class="expression-icons po-menu-icon" style="color:#1E90F4"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 6</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="7">\n                <div class="po-menu-item-box">\n                    <span ico="307" n="priority" class="expression-icons  po-menu-icon" style="color:#135CEA"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 7</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="8">\n                <div class="po-menu-item-box">\n                    <span ico="308" n="priority" class="expression-icons  po-menu-icon" style="color:#7F68DA"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 8</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="9">\n                <div class="po-menu-item-box">\n                    <span ico="309" n="priority" class="expression-icons  po-menu-icon" style="color:#6D7E9E"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 9</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="10">\n                <div class="po-menu-item-box">\n                    <span ico="394" n="priority" class="expression-icons  po-menu-icon" style="color:#6D7E9E"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 10</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="11">\n                <div class="po-menu-item-box">\n                    <span ico="395" n="priority" class="expression-icons  po-menu-icon" style="color:#6D7E9E"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 11</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="12">\n                <div class="po-menu-item-box">\n                    <span ico="396" n="priority" class="expression-icons  po-menu-icon" style="color:#6D7E9E"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 12</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="13">\n                <div class="po-menu-item-box">\n                    <span ico="397" n="priority" class="expression-icons  po-menu-icon" style="color:#6D7E9E"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 13</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="14">\n                <div class="po-menu-item-box">\n                    <span ico="398" n="priority" class="expression-icons  po-menu-icon" style="color:#6D7E9E"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 14</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="">\n                <div class="po-menu-item-box">\n                    <span ico="399" n="priority" class="expression-icons  po-menu-icon" style="color:#6D7E9E"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 15</span>\n                </div>\n            </li>\n            <li class="po-menu-item" priority="16">\n                <div class="po-menu-item-box">\n                    <span ico="400" n="priority" class="expression-icons  po-menu-icon" style="color:#6D7E9E"></span>\n                    <span><span>').concat(o.default.t("Priority"),'</span> 16</span>\n                </div>\n            </li>\n        </ul>\n        <ul id="mind-icons-completion-list" class="po-menu-small auto-target" style="display: none;">\n            <li class="po-menu-item"><div class="po-menu-item-box">\n                <span n="completion" class="po-diagraming-icons  po-menu-icon"></span>\n                <span>').concat(o.default.t("None"),'</span>\n            </div></li>\n            <li class="po-menu-item" completion="1"><div class="po-menu-item-box">\n                <span ico="310" n="completion" class="expression-icons po-menu-icon" style="color:#F85767"></span>\n                <span>10%</span></div></li>\n            <li class="po-menu-item" completion="2"><div class="po-menu-item-box">\n                <span ico="311" n="completion" class="expression-icons po-menu-icon" style="color:#FF6610"></span>\n                <span>25%</span></div></li>\n            <li class="po-menu-item" completion="3"><div class="po-menu-item-box">\n                <span ico="312" n="completion" class="expression-icons po-menu-icon" style="color:#FF900D"></span>\n                <span>35%</span>\n            </div></li>\n            <li class="po-menu-item" completion="4"><div class="po-menu-item-box">\n                <span ico="313" n="completion" class="expression-icons po-menu-icon" style="color:#FFBC0F"></span>\n                <span>50%</span></div></li>\n            <li class="po-menu-item" completion="5"><div class="po-menu-item-box">\n                <span ico="314" n="completion" class="expression-icons po-menu-icon" style="color:#7ECC00"></span>\n                <span>65%</span></div></li>\n            <li class="po-menu-item" completion="6"><div class="po-menu-item-box">\n                <span ico="315" n="completion" class="expression-icons po-menu-icon" style="color:#35CB00"></span>\n                <span>75%</span></div></li>\n            <li class="po-menu-item" completion="7"><div class="po-menu-item-box">\n                <span ico="316" n="completion" class="expression-icons po-menu-icon" style="color:#00BA3F"></span>\n                <span>90%</span></div></li>\n            <li class="po-menu-item" completion="8"><div class="po-menu-item-box">\n                <span ico="317" n="completion" class="expression-icons po-menu-icon" style="color:#00BA4A"></span>\n                <span>100%</span></div></li>\n        </ul>\n        \n        \n        <ul id="mind-toolbar-link-menu" class="po-menu po-menu-icon">\n            <li class="po-menu-item" tit="url">\n                <div class="po-menu-item-box">\n                    <span class="po-diagraming-icons po-menu-icon"></span>\n                    <span class="text">').concat(o.default.t("Hyperlink"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" tit="file">\n                <div class="po-menu-item-box">\n                    <span class="po-diagraming-icons po-menu-icon"></span>\n                    <span class="text">').concat(o.default.t("Attachment"),'</span>\n                </div>\n            </li>\n        </ul>\n        <ul id="sliders-export-menu" class="po-menu-icon po-menu" style="width:160px">\n            <li class="po-menu-item" tit="ppt">\n                <div class="po-menu-item-box">\n                    <span class="po-menu-icon po-diagraming-icons"></span>\n                    <span class="text"><span>').concat(o.default.t("Export"),'</span>PDF</span>\n                </div>\n            </li>\n            <li class="po-menu-item" tit="png">\n                <div class="po-menu-item-box">\n                    <span class="po-menu-icon po-diagraming-icons"></span>\n                    <span class="text"><span>').concat(o.default.t("Export"),'</span>PNG</span>\n                </div>\n            </li>\n        </ul>\n        \x3c!--字体menu--\x3e\n        <ul id="mind-font-list" class="po-menu-small" style="width:162px">\n            \x3c!--外侧配置--\x3e\n        </ul>\n        <ul id="mind-font-direction-list" class="po-menu">\n            <li class="po-menu-item" title="').concat(o.default.t("Horizontal_text"),'" ac="initial">\n                <div class="po-menu-item-box">\n                    <span class="text mind-icons"></span>\n                </div>\n            </li>\n            <li class="po-menu-item" title="').concat(o.default.t("Vertical_text_from_right_to_left"),'" ac="row-reverse">\n                <div class="po-menu-item-box">\n                    <span class="text mind-icons"></span>\n                </div>\n            </li>\n            <li class="po-menu-item" title="').concat(o.default.t("Vertical_text_from_left_to_right"),'" ac="row">\n                <div class="po-menu-item-box">\n                    <span class="text mind-icons"></span>\n                </div>\n            </li>\n        </ul>\n        <ul id="mind-customise-borderw" class="po-menu-small auto-target" style="display: none;">\n            <li class="po-menu-item" ac="0">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("None"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" ac="1">\n                <div class="po-menu-item-box">\n                    <span class="text">1px</span>\n                </div>\n            </li>\n            <li class="po-menu-item" ac="2">\n                <div class="po-menu-item-box">\n                    <span class="text">2px</span>\n                </div>\n            </li>\n            <li class="po-menu-item" ac="3">\n                <div class="po-menu-item-box">\n                    <span class="text">3px</span>\n                </div>\n            </li>\n            <li class="po-menu-item" ac="4">\n                <div class="po-menu-item-box">\n                    <span class="text">4px</span>\n                </div>\n            </li>\n            <li class="po-menu-item" ac="5">\n                <div class="po-menu-item-box">\n                    <span class="text">5px</span>\n                </div>\n            </li>\n        </ul>\n\n\n        <ul id="conn-arrow-start-list" class="po-menu small" style="display: none;">\n            <li class="po-menu-item" tp="1"><div class="po-menu-item-box"><span class="po-diagraming-icons"></span></div></li>\n            <li class="po-menu-item" tp="2"><div class="po-menu-item-box"><span class="po-diagraming-icons"></span></div></li>\n            <li class="po-menu-item" tp="3"><div class="po-menu-item-box"><span class="po-diagraming-icons"></span></div></li>\n        </ul>\n        <ul id="conn-arrow-end-list" class="po-menu small" style="display: none;">\n            <li class="po-menu-item" tp="1"><div class="po-menu-item-box"><span class="po-diagraming-icons"></span></div></li>\n            <li class="po-menu-item" tp="2"><div class="po-menu-item-box"><span class="po-diagraming-icons"></span></div></li>\n            <li class="po-menu-item" tp="3"><div class="po-menu-item-box"><span class="po-diagraming-icons"></span></div></li>\n        </ul>\n        <ul id="mind-canvas-color-type" class="po-menu-small auto-target" style="display: none;">\n            <li class="po-menu-item" ac="noFill">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("js.NO_Fill"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" ac="color">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Solid_Color_Fill"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" ac="image">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Picture_Fill_all"),'</span>\n                </div>\n            </li>\n        </ul>\n        <ul id="background-fill-type-list" class="po-menu-small" style="display: none;">\n            <li class="po-menu-item" tp="repeat">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Tiled"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" tp="repeat-x">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Horizontal_tiling"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" tp="repeat-y">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Tiled_lengthwise"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" tp="no-repeat">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Centered"),'</span>\n                </div>\n            </li>\n        </ul>\n        <ul id="mind-customise-theme-list" class="po-menu-small" style="display: none;">\n            <li class="po-menu-item" tp="edit_theme">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Edit"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" tp="delete_theme">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Delete_this_style"),'</span>\n                </div>\n            </li>\n            <li class="po-menu-item" tp="set_def_theme">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Set_as_default_style"),'</span>\n                </div>\n            </li>\n        </ul>\n        <ul id="mind-outline-type" class="po-menu-small" style="display: none;">\n            <li class="po-menu-item" ac="">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Theme"),'</span>\n                </div>\n            </li>\n        <li class="po-menu-item" ac="mention">\n                <div class="po-menu-item-box">\n                    <span class="text">@<span>').concat(o.default.t("Tabulation"),'</span></span>\n                </div>\n            </li><li class="po-menu-item" ac="tag">\n                <div class="po-menu-item-box">\n                    <span class="text">').concat(o.default.t("Label"),'</span>\n                </div>\n            </li>\n        </ul>\n        <div class="mind-watermark watermark-pop" id="mind-watermark" style="display: none;">\n               <div class="po-watermark-con" style="width:100%"></div>\n        </div>\n        ');$(".mind-util-container").append($(e));var t='\n            <div class="mind-summary-menu">\n                <div class="mind-connection-menu-con">\n                    <div class="mind-connection-menu-title">\n                        <span>'.concat(o.default.t("Profile_Settings"),'</span><div class="po-tool-button del-summary-box"><span class="text">').concat(o.default.t("Delete_summary"),'</span><span class="po-diagraming-icons"></span></div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(o.default.t("Outline_Width"),'</span>\n                        <div id="mind-summary-w" class="po-spinner-other small" style="flex:none"></div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(o.default.t("Summary_Color"),'</span>\n                        <div alt="color" class="mind-box-color">\n                            <span ac="#bf1e1b" class="default-color" style="background:#bf1e1b"></span>\n                            <span ac="#63abf7" class="default-color" style="background:#63abf7"></span>\n                            <span ac="#71cb2d" class="default-color" style="background:rgb(113, 203, 45)"></span>\n                            <span class="default-color" ac="#ff9f1a" style="background:#ff9f1a"></span>\n                            <span class="default-color" ac="#30bfbf" style="background:#30bfbf"></span>\n                            <span class="default-color" ac="#000000" style="background:#000"></span>\n                        </div>\n                    </div>\n                    <div class="mind-connection-menu-item">\n                        <span>').concat(o.default.t("Summary_Style"),'</span>\n                        <div alt="type">\n                            <span ac="broken" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                            <span ac="straight" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                            <span ac="curve" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                            <span ac="curve_complex" class="po-tool-button other">\n                                <span class="po-diagraming-icons"></span>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="mind-exists-dlg po-dialog">\n                <div class="po-dialog-header">').concat(o.default.t("Hint"),'</div>\n                <div class="mind-context-menu-content" style="padding:0px 24px;">\n                    <div style="font-size:14px;">').concat(o.default.t("You_set_the_style_manually_before"),'</div>\n                    <div style="font-size:12px;margin-top:8px;">').concat(o.default.t("You_can_use_the_new_style_to_completely"),'</div>\n                </div>\n                <div class="po-buttons" style="padding:20px 24px;white-space: nowrap">\n                    <span id="btn-style-overwrite" style="width:110px;" class="po-button primary">').concat(o.default.t("Cover"),'</span>&nbsp;&nbsp;&nbsp;\n                    <span id="btn-style-remain" style="width:128px;" class="po-button gray">').concat(o.default.t("Keep_manually_set_styles"),'</span>&nbsp;\n                    <span id="btn-style-cancel" style="width:32px;" class="po-button gray">').concat(o.default.t("Cancel"),'</span>\n                </div>\n            </div>\n\n            <div id="mind-brash-tip"><div class="mind-tip-text"><span>').concat(o.default.t("Click_the_theme_directly"),"</span> ESC <span>").concat(o.default.t("Exit"),'</span></div><div class="mind-tip-close mind-icons"></div></div>\n            <div id="mind-history-tip"><div class="mind-tip-text"></div></div>\n        \n        ');$("body").append($(t))}}},97708:function(e,i,a){var r=a(9712);Object.defineProperty(i,"__esModule",{value:!0}),i.MindFooterBar=void 0,a(27531),a(38887),a(69268),a(86837),a(54938),a(14237);var s=a(34678),l=a(70790),c=a(77320),d=a(75613),u=a(3578),p=r(a(32483)),m=function(e){t(a,s.CrateFooterBar);var i=n(a);function a(){var e;T(this,a);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=i.call(this)).mindMap=t.mindMap,e.toolbarBgColor="#ffffff",e.footerBarLeft=[],e.footerBarRight=[],e.footerBar=d.MindAllFooterBarList,e.bindEvent(),e.mindMap.on("hideElements",e.hideElements.bind(o(e))),e.mindMap.on("showElements",e.showElements.bind(o(e))),e.mindMap.on("openHistoryVersion",e.openHistoryVersion.bind(o(e))),e.mindMap.on("exitHistoryVersion",e.exitHistoryVersion.bind(o(e))),editorGlobal.mindMap.on("readonly_change",function(e){["outline","template","pageBox"].forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){var n=null;switch(t){case"outline":n=$("#link-to-outline");break;case"template":n=$("#open-insert-temp");break;case"pageBox":n=$("#page_box")}e[t]?n.removeClass("disabled"):n.addClass("disabled")}})}),e}return M(a,[{key:"bindEvent",value:function(){this.mindMap.on("poFooter",this.init.bind(this)),this.mindMap.on("resetToolbarStyle",this.resetToolbarStyle.bind(this))}},{key:"init",value:function(e){e&&(e.footerBarLeft&&(this.footerBarLeft=e.footerBarLeft),e.footerBarRight&&(this.footerBarRight=e.footerBarRight)),this.render()}},{key:"onRenderComplete",value:function(){var e=this,t=[].concat(h(this.footerBarLeft),h(this.footerBarRight));if(t.includes("mindCanvas")||this.mindNavigator){var n=$("#mind-footer-nav");this.mindNavigator=this.renderMindNavigator(this.mindMap),this.mindNavigator.init(n)}if(t.includes("fullPage")||this.FullScreen){var i=$("#mind-footer-full-btn"),o=this;this.FullScreen=this.renderFullScreen(),this.mindMap.on("enterFullScreen",function(){i.trigger("click")}),this.mindMap.on("exitFullScreen",function(){i.trigger("click")}),this.FullScreen.init(i,function(t){if("resize"==t){if(u.presenter.presenting)return;if(u.presenter.beforeSelecting)return;return e.showElements(),void $("#exitBtn").remove()}if(!u.presenter.beforeSelecting){e.hideElements();var n=document.createElement("div");n.id="exitBtn",n.textContent=p.default.t("js.Exit_Full_screen"),n.style.cssText="position: absolute;right: 24px;top:24px;transition:1s;border-radius: 4px;border: 1px solid #e9edf2;background: #fff;box-shadow: 0 1px 5px 0 #2129301a;padding: 5px 15px;align-items: center;display: flex;cursor:pointer";var i=null;n.addEventListener("mouseenter",function(){clearTimeout(i),n.style.boxShadow="0 4px 10px 0 #0000001a",n.style.opacity=1}),n.addEventListener("mouseleave",function(){n.style.boxShadow="0 1px 5px 0 #2129301a",i=setTimeout(function(){n.style.opacity=0},5e3)}),document.body.appendChild(n),n.addEventListener("click",function(){n.remove(),clearTimeout(i),o.FullScreen.exitFullScreen(),e.showElements(),o.FullScreen.resetBtnVal()}),i=setTimeout(function(){n.style.opacity=0},5e3)}})}this.navBarFnArr.map(function(t){var n;null===(n=e.footerBar[t])||void 0===n||n.fn(e.mindMap)}),editorGlobalConfig.showPage&&editorGlobal.poPagination.pageSlither("select"),$(".po-footer").css({background:this.toolbarBgColor}).addClass(editorGlobal.toolbarBgModel)}},{key:"renderMindNavigator",value:function(e){return new c.MindNavigator(e)}},{key:"renderFullScreen",value:function(){return new l.FullScreen}},{key:"resetFooterElement",value:function(){var e=this.footer,t=e.outerWidth();if(t<1100&&editorGlobalConfig.showPage?(e.find(".progress-text-mini").show(),e.find(".progress-text-normal").hide(),e.find(".po-progress").hide()):(e.find(".progress-text-mini").hide(),e.find(".progress-text-normal").show(),e.find(".po-progress").show()),t<950&&editorGlobalConfig.showPage?$(".statistics").hide():$(".statistics").show(),editorGlobalConfig.showPage){var n=$(".po-footer-left "),i=$(".po-footer-right ").outerWidth();n.css({"max-width":t-i-100}),t-i-100<250?($(".page_tab_opt").addClass("opt_limit"),$(".page_tab_box").removeClass("max_width"),t-i-100<130?$("#page_box").css("width",0):$("#page_box").css("width","100%")):($("#page_box").css("width","100%"),$(".page_tab_opt").removeClass("opt_limit"),$(".page_tab_box").addClass("max_width")),editorGlobal.poPagination.pageSlither("select")}}},{key:"initEvent",value:function(){var e=$(".po-footer").children(".po-footer-right");e.children().off("mousedown.navigation").on("mousedown.navigation",function(){var e,t;switch($(document).on("selectstart.navigation",function(){return!1}),$(this).attr("tit")){case"isBoxChoose":null===(e=this.footerBar)||void 0===e||e.boxChoose.onClick();break;case"helper":null===(t=this.footerBar)||void 0===t||t.helper.onClick($(this))}}),e.children().off("mouseup.navigation").on("mouseup.navigation",function(){$(document).off("selectstart.navigation")})}},{key:"resetToolbarStyle",value:function(){}},{key:"hideElements",value:function(){$(".po-footer").css("width","100%"),editorGlobal.mindMap.emit("hideCorner","left"),editorGlobal.mindMap.emit("hideCorner","right"),$("header, .mind-toolbar, .po-footer,.mind-context-menu, .po-mind-more-menu, .mind-toolbar-right,.right-help-con").hide(),$(".po-guide").remove(),editorGlobal.mindMap.emit("blurConnection"),$("#right-help-con").addClass("remove"),$("#brain-power").removeClass("selected"),$(editorGlobal.mindMap.el).css({height:"100%"})}},{key:"showElements",value:function(){$("header, .mind-toolbar, .po-footer").show(),$("#brain-power, #open-insert-temp, #po-box-choose, .mind-toolbar-right, .right-help-con").show(),$(".mind-slide-selection").remove(),editorGlobal.mindMap.emit("hideCornerPos","right,left"),$(".mind-slider-con, .topic-selected").removeClass("active"),$(editorGlobal.mindMap.el).css({height:"calc(100% - 24px)"})}},{key:"openHistoryVersion",value:function(){$(".po-footer-left ").css({pointerEvents:"none",opacity:".6"}),this.mindMap.emit("viewReset")}},{key:"exitHistoryVersion",value:function(){$(".po-footer-left").removeAttr("style")}}]),a}();i.MindFooterBar=m,m.instanceName="mindFooterBar"},75613:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.MindAllFooterBarList=void 0;var o=i(n(66603)),a=n(59584),r=n(30282),s=i(n(32483)),l=n(84701),c=n(83316),d=n(62937),u=M(function e(){T(this,e)});t.MindAllFooterBarList=u,(0,o.default)(u,"devider",{html:'<div class="po-tool-devider"></div>'}),(0,o.default)(u,"devider_hide",{html:'<div class="po-tool-devider statistics"></div>'}),(0,o.default)(u,"outline",{getHtml:function(){return'<div id="link-to-outline" tit="outline" class="link-to-outline">\n                  <div style="display: '.concat("v1"===editorGlobal.config.uiType?"block":"flex",';align-items: center;">\n                      <span class="po-diagraming-icons" style="font-size: 14px; margin-right: 3px;">&#xe6ec;</span>\n                      <span class="text-overflow" style="max-width:60px">').concat(s.default.t("js.Outline_mode"),'</span>\n                  </div>\n                  <span class="outline-thumbnail" style="width: 220px;min-height:212px;font-weight:400">\n                      <span>').concat(s.default.t("js.Switch_to_Outline_mode"),'</span>\n                      <p style="color: #727E96;font-size: 12px;white-space: pre-wrap;">').concat(s.default.t("js.Focus_on_content_writing"),'</p>\n                      <img style="width:100%" src="').concat(window.staticBasePath,"/wps/images/mind/").concat("v1"===editorGlobal.config.uiType?"outline-nav.svg":"outline-nav.png",'"/>\n                  </span>\n              </div>')},onClick:function(){(0,c.$poCollect)("mind_click",{button:"to_outline_mode",btn_pos:"bottom-tool",power:"切换到大纲模式"}),injectExtraAsynCall("onLinkToOutline",{},function(){editorGlobal.readonly&&editorGlobal.controllers&&editorGlobal.controllers.pageInit?editorGlobal.controllers.pageInit("outline"):(sessionStorage.setItem("ur_resource_outline","po_mind_left_tool_menu"),location.href="/outline/"+editorGlobal.chartId)})},fn:function(){var e=this;$("#link-to-outline").button({onClick:function(){e.onClick()}})}}),(0,o.default)(u,"textsNums",{html:'<div class="texts-nums statistics"><div class="selected-texts-num"><span>'.concat(s.default.t("js.Selected_word_count"),'：<span class="top-num" >0</span></span><span>').concat(s.default.t("js.Total_word_count"),'：<span class="bottom-num">20</span></span></div>').concat(s.default.t("js.Word_count"),'：<span class="texts_details_len">1</span></div>'),updateNumber:function(e,t){$(".selected-texts-num .top-num").text(t),$(".selected-texts-num .bottom-num").text(e),t&&(e=t+"/"+e),$(".po-footer .texts_details_len").html(e)},fn:function(e){e.on("updateTopicsTextLen",this.updateNumber)}}),(0,o.default)(u,"topicNums",{html:'<div class="topics-nums statistics"><div class="selected-topics-num"><span>'.concat(s.default.t("js.Number_of_selected_topics"),'：<span class="top-num" >0</span></span><span>').concat(s.default.t("js.Total_number_of_topics"),'：<span class="bottom-num">20</span></span></div>').concat(s.default.t("js.Subject_number"),'：<span class="topics_details_len">1</span></div>'),updateNumber:function(e,t){$(".selected-topics-num .top-num").text(t),$(".selected-topics-num .bottom-num").text(e),t&&(e=t+"/"+e),$(".po-footer .topics_details_len").html(e)},fn:function(e){e.on("updateTopicsLen",this.updateNumber)}}),(0,o.default)(u,"pageBox",{html:'<div id="page_box" class="page_box"></div>',fn:function(){window.editorGlobal.poPagination.renderInit("select",$("#page_box"))}}),(0,o.default)(u,"limitTopicNums",{html:'<div id="mind_topics_details" class="po_footer_details"><div class="ceiling_details_len">'.concat(s.default.t("js.Subject_Cap"),"：<span>150</span>").concat(s.default.t("js.A"),'<label id="bottom-wps-upgrade-btn" class="bottom-wps-upgrade-btn">').concat(s.default.t("js.Open_super_membership_without"),'</label></div>\n        <span class="bottom_limit_tip_icon mind-icons" title="').concat(s.default.t("js.Member_Benefits_Statement"),'" title-pos="top">&#xe77b;</span><span class="vip-limit-label">').concat(s.default.t("js.Benefits_Statement"),"</span></div>"),fn:function(){$(".bottom_limit_tip_icon").off("click").on("click",function(){d.vipState.limit({type:null,pos:"top_contrast"})}),$(".vip-limit-label").off("click").on("click",function(){d.vipState.limit({type:null,pos:"top_contrast"})}),$("#bottom-wps-upgrade-btn").off("click").on("click",function(){d.vipState.limit({type:null,pos:"bottomleft"})})}}),(0,o.default)(u,"boxChoose",{show:!0,html:'<div title-pos="top" id="po-box-choose" tit="isBoxChoose" original-title="'.concat(s.default.t("js.Click_Toggle_left_button"),'" class=" po-tool-button isBoxChoose"><span class="po-diagraming-icons">&#xe9b6;</span></div>'),fn:function(e){var t=$("#po-box-choose");function n(){var n,i=null===(n=e.opt)||void 0===n?void 0:n.leftButton,o="select"===i?s.default.t("js.Click_Toggle_left_button"):s.default.t("js.Click_toggle_left_button_on"),a="select"===i?"&#xe9b6;":"&#xe9b7;";t.attr("original-title",o).children(".po-diagraming-icons").html(a)}t.off("click.isBoxChoose").on("click.isBoxChoose",function(){var i=e.opt.leftButton&&"select"===e.opt.leftButton?"move":"select";e.updateConfig({leftButton:i}),a.Server.setConfig("leftButton",i),n(),t.trigger("mouseover"),(0,c.$poCollect)("mind_click",{button:"config_mouse",btn_pos:"bottom-tool",power:"切换鼠标左键功能"})}),n()}}),(0,o.default)(u,"insertTemp",{html:'<div id="open-insert-temp" class="po-tool-button" tit="temp" original-title="'.concat(s.default.t("js.Template"),'" title-pos="top"><span class="po-diagraming-icons">&#xe809;</span></div>'),fn:function(){$("#open-insert-temp").button({onClick:function(e,t){t.hasClass("selected")?(r.insertTemplate.hide(),sessionStorage.setItem("temp_topic_len","true")):(sessionStorage.removeItem("temp_topic_len"),r.insertTemplate.show())}})}}),(0,o.default)(u,"focus",{html:'<div class="po-tool-button" id = "po-footer-focus" original-title="'.concat(s.default.t("js.Locate_to_central_theme"),'" title-pos="top" tit="focus"><span class="po-diagraming-icons">&#xe6c24;</span></div>'),fn:function(e){$("#po-footer-focus").off("click.po-footer-focus").on("click.po-footer-focus",function(){e.emit("move_topic_to_center"),(0,c.$poCollect)("mind_click",{button:"focus_root",btn_pos:"bottom-tool",power:"​​定位到中心主题​​"})})}}),(0,o.default)(u,"mindCanvas",{html:'<div id="mind-footer-nav" class="po-mind-nav po-tool-button" original-title="'.concat(s.default.t("js.Turn_off_View_navigation"),'" title-pos="top" tit="close"><span class="po-diagraming-icons">&#xe6c25;</span></div>')}),(0,o.default)(u,"zoomPage",{html:'<div class="po-page-zoom"></div>',onClick:function(e,t){e.view.setScale(t/100)},scaleChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Math.round(100*e);$(".po-page-zoom").progress("setValue",t+"%")},fn:function(e){var t=this,n=100*(e.view.scale||1);$(".po-footer .po-page-zoom").progress({min:20,max:400,step:20,onChange:function(n){t.onClick(e,n)}}),$(".po-footer .po-page-zoom").progress("setValue",n+"%"),e.on("scale",this.scaleChange)}}),(0,o.default)(u,"fullPage",{html:'<div id="mind-footer-full-btn" class="po-tool-button" tit="full" original-title="'.concat(s.default.t("js.Full_screen"),'" title-pos="top"><span class="po-diagraming-icons">&#xe71d;</span></div>')}),(0,o.default)(u,"helper",{html:'<div id="brain-power" tit="helper" class="po-tool-button mind-help-menu brainpower" title-pos="top" original-title="'.concat(s.default.t("js.Help"),'"><span  class="po-diagraming-icons">&#xe9f4;</span></div>'),fn:function(){$("#brain-power").off("click.isBoxChoose").on("click.isBoxChoose",function(){$(this).hasClass("selected")?void 0!==l.smartAiHelpCon&&l.smartAiHelpCon.close():($(this).addClass("selected"),l.helpCon.init(),(0,c.$poCollect)("mind_click",{button:"switch-helper-pannel",btn_pos:"bottom-tool",power:"帮助"}))})}})},77320:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.MindNavigator=void 0,n(65528),n(82403),n(33809),n(6284),n(69268),n(86837),n(84889),n(51902);var o=n(59584),a=i(n(32483)),r=n(83316);t.MindNavigator=function(){function e(t,n,i){var o=this;T(this,e),this.resetCanvas=!0,n||($(".mind-canvas").length||($(".po-footer").length?$(".po-footer").append(this.canvasBox()):$("body").append(this.canvasBox())),n=$(".mind-canvas")),this.canvasContainer=n,this.globalPos=null,this.mindMap=t||editorGlobal.mindMap,this.foucesRendered=i||!1,this.mindMap.on("rendered",function(){o.rendered=!0,o.canvasContainer.is(":hidden")||o.render()}),this.dragIng=!1;var a=this.handleRenderViewport.bind(this);this.mindMap.on("view_data_change",a),this.mindMap.on("mind_navigator_show",this.showCanvas.bind(this)),this.mindMap.on("mind_navigator_hide",this.hideCanvas.bind(this))}return M(e,[{key:"resetCanvasSize",value:function(){this.canvasW=250,this.canvasH=110}},{key:"handleRenderViewport",value:function(){var e=this;this.canvasContainer.is(":hidden")||this.dragIng||setTimeout(function(){e.renderViewport()},100)}},{key:"showCanvas",value:function(){this.canvasContainer.is(":hidden")&&this.canvasContainer.show(),this.render()}},{key:"hideCanvas",value:function(){this.canvasContainer.hide()}},{key:"canvasBox",value:function(){return'<div class="mind-canvas-wrap"><div class="mind-canvas"><canvas></canvas></div></div>'}},{key:"init",value:function(e){this.hideCanvas(),this.root=this.mindMap.renderer||this.mindMap.renderer.mindTree._topic,this.container=$(this.mindMap.el),this.designer=$(this.mindMap.svg.node),e&&this.navBtnEvent(e),this.canvasFn(e)}},{key:"canvasFn",value:function(e){var t,n=null===(t=window.editorGlobal)||void 0===t?void 0:t.mindCanvas,i="true"===n?a.default.t("js.Turn_off_View_navigation"):a.default.t("js.Show_View_Navigation"),o="true"===n?"&#xe76d;":"&#xe770;";"true"===n?this.showCanvas():this.hideCanvas(),e&&(e.attr("original-title",i),e.children(".mind-icons").html(o),"true"===n?e.addClass("selected"):e.removeClass("selected"))}},{key:"navBtnEvent",value:function(e){var t=this;e.off("click.navigator").on("click.navigator",function(){var n;"true"===(null===(n=window.editorGlobal)||void 0===n?void 0:n.mindCanvas)?window.editorGlobal.mindCanvas="false":window.editorGlobal.mindCanvas="true",t.canvasFn(e),o.Server.setConfig("canvas",window.editorGlobal.mindCanvas),e.trigger("mouseover"),(0,r.$poCollect)("mind_click",{button:"switch-nav",btn_pos:"bottom-tool",power:"视图导航"})})}},{key:"render",value:function(){var e=this;if(this.foucesRendered||this.rendered&&this.resetCanvas&&!this.foucesRendered){var t=this.calcPos();this.globalPos=t,this.startPos=t,this.resetCanvasSize(),this.calcCanvasSize(t),this.setCanvasStyle();var n=this.canvasContainer.children("canvas")[0],i=n.getContext("2d");i.clearRect(0,0,n.width,n.height);var o=this.canvasW/t.w;this.baseCalc=o,this.zoom=this.mindMap.view.scale;var a=editorGlobal.mindMap.renderer.getLruPool(),r=this.mindMap.getMapBackground();"initial"==r||"transparent"==r?r="#ffffff":r.indexOf("rgb")>=0&&(r="#"+this.getHexColor(r).hex),a.forEach(function(n){if(n.getRectInSvg&&!n.isHideSelf()){var a=n.getRectInSvg(),r=a.left,s=a.top,l=a.width,c=a.height,d=l*o,u=c*o,p=(r-t.x)*o,h=(s-t.y)*o;if(i.save(),n.isRoot){var m=n.style.getSelfStyle("background")||n.style.getBackgroundColor();"initial"==m||"transparent"==m?m="#067bef":m.indexOf("rgb")>=0&&(m="#"+e.getHexColor(m).hex),"#ffffff"===m.toLowerCase()&&(m="#067bef"),i.fillStyle=m}else i.fillStyle="#DFE2E5";i.fillRect(p,h,d,u),i.restore()}}),this.renderViewport()}}},{key:"renderViewport",value:function(){var e,t;if(this.resetCanvas){var n=this.canvasContainer,i=n.children("canvas");if(0!=i.length){var o=this.canvasW,a=this.canvasH,r=this.calcPos();this.globalPos=r;var s=i.position().left,l=i.position().top,c=null===(e=this.container)||void 0===e?void 0:e.width(),d=null===(t=this.container)||void 0===t?void 0:t.height(),u=0,p=0,h=o,m=a;r.x<0&&(u=-r.x/r.w*o,h=o-u),r.x+r.w>c&&(h-=(r.x+r.w-c)/r.w*o),r.y<0&&(p=-r.y/r.h*a,m=a-p),r.y+r.h>d&&(m-=(r.y+r.h-d)/r.h*a),h>o&&(h=o),m>a&&(m=a);var f=n.children(".viewport");0==f.length&&(f=$('<div class="viewport"></div>'),n.append(f)),function(){var e=h,t=m,n=u+s,i=p+l;n>o+s&&(n=o+s),i>a+l&&(i=a+l),e>o&&(e=o),t>a&&(t=a),f.css({left:n,top:i,width:e,height:t})}(),this.initViewportEvent()}}}},{key:"initViewportEvent",value:function(){var e=this,t=this.canvasContainer,n=t.find("canvas"),i=n.position().left,o=n.position().top,a=this.canvasW,r=this.canvasH,s=a+i,l=r+o,c=i,d=o,u=t.children(".viewport"),p=this,h=$(document);u.on("mousedown",function(t){e.dragIng=!0;var n=t.pageX,i=t.pageY,o=u.position().left,s=u.position().top,l=e.mindMap.view.x,c=e.mindMap.view.y;h.off("mousemove.nav").on("mousemove.nav",function(t){var d=t.pageX,p=t.pageY,h=d-n,m=p-i,f=o+h,g=s+m;u.css({left:f,top:g}),e.mindMap.view.translateXTo(l+-h/a*e.globalPos.w),e.mindMap.view.translateYTo(c+-m/r*e.globalPos.h),t.stopPropagation()}),h.off("mouseup.nav").on("mouseup.nav",function(t){e.dragIng=!1,h.off("mousemove.nav"),h.off("mouseup.nav"),t.stopPropagation()}),t.stopPropagation()}),t.off("mousedown").on("mousedown",function(n){var i=e.mindMap.view.x,o=e.mindMap.view.y,u=t.children(".viewport"),p=u.position().left,h=u.position().top,m=u.width(),f=u.height(),g=n.offsetX-m/2,v=n.offsetY-f/2;g>s?g=s:g<c&&(g=c-m),v>l?v=l:v<d&&(v=d-f);var b=g-p,y=v-h;e.mindMap.view.translateXTo(i+-b/a*e.globalPos.w),e.mindMap.view.translateYTo(o+-y/r*e.globalPos.h),n.stopPropagation()}),t.off("mouseup").on("mouseup",function(){h.off("mousemove.nav"),h.off("mouseup.nav"),h.off("selectstart"),e.dragIng=!1,p.renderViewport()})}},{key:"setCanvasStyle",value:function(){var e=this.canvasContainer.children("canvas")[0];e.width=this.canvasW,e.height=this.canvasH}},{key:"calcCanvasSize",value:function(e){var t=this.canvasW,n=this.canvasH,i=e.w/e.h*n,o=n;i>t&&(i=t,o=e.h*t/e.w),this.canvasW=parseInt(i),this.canvasH=parseInt(o)}},{key:"calcPos",value:function(){var e=editorGlobal.mindMap.renderer.getLruPool(),t=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,i=-Number.MAX_SAFE_INTEGER,o=-Number.MAX_SAFE_INTEGER;return e.forEach(function(e){if(e.getRectInSvg&&!e.isHideSelf()){var a=e.getRectInSvg(),r=a.left,s=a.top,l=a.right,c=a.bottom;t=Math.min(t,r),n=Math.min(n,s),i=Math.max(i,l),o=Math.max(o,c)}}),{x:t,y:n,w:i-t,h:o-n}}},{key:"getHexColor",value:function(e){var t={};if("transparent"!=e){var n=function(e){return("0"+parseInt(e).toString(16)).slice(-2)},i=e.replace(/[^\d,.]/g,"");return t.rgb=i,e=n((e=e.replace(/[^\d,.]/g,"").split(","))[0])+n(e[1])+n(e[2]),t.hex=e,t}return null}}]),e}()},7101:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(61894),n(65534),n(5682),n(82403),n(12638),n(4829),n(69268),n(86837),n(84889),n(54938);var i=n(47306),o=n(15240),a={init:function(e){this.buildEvent(e)},controller:{mobiPosId:"",changeRealTime:!1,prevLevel:0,countNum:0,prev:null,next:null,list:[],idx:0,topicId:"root",currentTopicId:"root",levels:{},creating:!1,render:function(){var e=this,t=this.list,n=this.idx-1;!function(t,n,o){if(t.indexOf("@")>=0&&e.countNum++,e.countNum>=1){var a=0;if(t.indexOf("@")>=0&&o&&o.indexOf("@")>=0)return;if(t.indexOf("@")>=0&&n&&n.indexOf("@")>=0?a=t.lastIndexOf("@")+1+(n.lastIndexOf("@")+1):t.indexOf("@")>=0&&(a=t.lastIndexOf("@")+1),a>0)0==e.prevLevel||e.prevLevel>0&&e.prevLevel==a?e.createNode(a,t):a>e.prevLevel?e.createNode(a,t,!0):a<e.prevLevel&&e.createNode(a,t),e.prevLevel=a;else{if(t.indexOf("[DONE]")>=0){editorGlobal.isFlowRender=!1,editorGlobal.leafNodes=null,e.setNodeText("",e.currentTopicId,!1,!0),e.clearVar();var r=editorGlobal.mindMap.mindData._topic.getPureData(),s=i.Util.getDepth(r),l=JSON.parse(JSON.stringify(r)),c=t.slice(6);return injectExtraAsynCall("onServerApi",{apiName:"mindGuidInfoSend",params:{eventName:"mind_guide_save",definition:JSON.stringify(l),depth:s,extra:c}}),void(!e.changeRealTime&&e.isMobi()&&e.mobiMoveToViewable("root","backTop"))}if(t.indexOf("[LAST_TOPIC]")>=0)return editorGlobal.leafNodes=editorGlobal.leafNodes||[],void editorGlobal.leafNodes.push(e.currentTopicId);e.setNodeText(t)}}}(t[n],t[n-1],t[n+1])},moveToViewable:function(e){if(!this.changeRealTime){var t=editorGlobal.mindMap.renderer.getTopicById(e)._topic;editorGlobal.mindMap.renderer.moveTopicToClientView(t)}},moveTopic:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.leftOffset,i=void 0===n?0:n,o=t.topOffset,a=void 0===o?0:o,r=(e||editorGlobal.mindMap.renderer.getTopicById("root"))._topic,s=-r.left+i,l=-r.top+a;editorGlobal.mindMap.view.translateXYTo(s,l)},mobiMoveToViewable:function(e,t){var n=editorGlobal.mindMap,i=n.renderer.getTopicById(e)._topic,o=i.parentIds.reverse(),a=[];o.map(function(t){var i=n.renderer.getTopicById(t);if(!i||"root"==i.id)return!1;1==i.collapsed&&a.push(e)}),n.execCommand("SHOW_TOPICS",a);var r=i.left,s=i.top,l=i.width,c=i.height;if("backTop"==t){var d=-r,u=50-s;n.view.translateXYTo(d,u)}else"init"==t?n.renderer.moveTopicToCenter({left:r,top:s,width:l,height:c}):(n.view.translateXTo(-r+n.width/2-n.width/3),n.view.translateYTo(-s+n.height/2-c/2));n.renderer.clearSelectedTopicList(),n.renderer.addTopicsToSelectedList([i])},isMobi:function(){return/Android|iPhone|SymbianOS|Windows\sPhone|iPad|iPod|iOS/i.test(navigator.userAgent)},clearVar:function(){this.mobiPosId="",this.changeRealTime=!1,this.prevLevel=0,this.countNum=0,this.prev=null,this.next=null,this.list=[],this.idx=0,this.topicId="root",this.currentTopicId="root",this.levels={}},createNode:function(e,t,n){this.setNodeText("",this.currentTopicId,!1,!0);var i=this.levels,a=this.topicId;if(null!=a){var r={},s=(0,o.newId)();return r.id=s,r.title="",r.parent=i[e]||a,n&&(r.parent=this.currentTopicId),r.children=[],editorGlobal.mindMap.execCommand("ADD_TOPIC_MULTI",[r],null,{},!1,{},!0),i[e]=r.parent,this.currentTopicId=s,r}},valArr:[],setNodeText:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentTopicId,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this;if(this.valArr.length<(editorGlobal.guideWordCount||5)&&!i)this.valArr.push(e);else if(e=this.valArr.join("")+e,this.valArr=[],e.endsWith("[DONE]")&&(e=e.substring(0,e.length-6)),e){var a=editorGlobal.mindMap.renderer.getTopicById(t);if(a.title=n?e:a.title+e,a._topic)if(a._topic.isRerender=!0,editorGlobal.mindMap.execCommand("UPDATE_TOPIC_NODE",a,a,"title",!0),this.isMobi()){if(this.mobiPosId==t)return;if(this.mobiPosId=t,this.changeRealTime)return;setTimeout(function(){o.mobiMoveToViewable(t)})}else setTimeout(function(){o.moveToViewable(t)})}},getCentreDomId:function(){var e,t=editorGlobal.mindMap,n=t.width,i=t.height,o=n/2,a=i/2,r=Number.MAX_VALUE,s=editorGlobal.mindMap.view,l=s.x,c=s.y,d=editorGlobal.mindMap.renderer.topicsList;return Object.keys(d).forEach(function(t){var n=d[t]._topic,i=n.left,s=n.top,u=n.width,p=n.height,h=i+u/2+l,m=s+p/2+c,f=Math.sqrt(Math.pow(a-h,2)+Math.pow(o-m,2));f<r&&(r=f,e=t)}),e}},buildEvent:function(e){var t=this;e.on("drag",function(){t.controller.changeRealTime=!0}),e.on("mousewheel",function(){t.controller.changeRealTime=!0}),e.on("mouseup",function(){editorGlobal.mindMap.otherDraw.find(".guide-con").hide()}),e.on("scale",function(e){injectExtraAsynCall("onServerApi",{apiName:"mindGuidInfoSend",params:{eventName:"mind_guide_progress_change",zoomVal:e}})})},renderGuide:function(e){if(e){editorGlobal.isFlowRender=!0;var t=e.msg;if(""!=t){var n=t;this.controller.list.push(n),2==this.controller.list.length&&(this.controller.idx=2),this.controller.list.length>2&&(this.controller.idx++,this.controller.render(),e.guide&&e.guide.length>0)&&editorGlobal.mindMap.renderer.getTopicById(this.controller.currentTopicId)._topic.setGuideInfo({items:e.guide,index:-1})}}}};t.default=a,editorGlobal.guideRender=a},31062:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.iconsUI=void 0,n(69268),n(86837);var o=i(n(32483));t.iconsUI={init:function(e){this.renderPanel(e),editorGlobal.mindMap.on("readonly_change",function(t){Object.prototype.hasOwnProperty.call(t,"icon")&&(t.icon?$(e).find("div[tit='icon'] .con").removeClass("mind-disable"):$(e).find("div[tit='icon'] .con").addClass("mind-disable"))})},renderPanel:function(e){var t=editorGlobal.mindMap.opt.readonlyList.icon?"":"mind-disable",n='\n            <div tit="icon">\n                <div class="title">'.concat(o.default.t("Icon"),'</div>\n                <div class="con ').concat(t,'">\n            \n                    <div class="mind-right-detail-icons mind-detail-icons">\n                        <span class="title">').concat(o.default.t("Priority"),'</span>\n                        <span class="title">').concat(o.default.t("Progress"),'</span>\n                        <span class="title">').concat(o.default.t("Expression"),'</span>\n                        <span class="title">').concat(o.default.t("Arrow"),'</span>\n                        <span class="title">').concat(o.default.t("Flag"),'</span>\n                        <span class="title">').concat(o.default.t("Star"),'</span>\n                        <span class="title">').concat(o.default.t("Time"),'</span>\n                        <div>\n                        <span class="title s-title">').concat(o.default.t("Month"),'</span>\n                        <span class="title s-title">').concat(o.default.t("Week"),'</span>\n                        </div>\n                        <span class="title" style="display:inline-flex;"><span>').concat(o.default.t("Symbol"),"</span>（<span>").concat(o.default.t("Other"),"</span>）</span>\n                    </div>\n                </div>\n            </div>\n        ");e&&(e.children('div[tit="icon"]').length>0&&e.children('div[tit="icon"]').remove(),$(e).append(n))},initTagsEvent:function(){}}},98601:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.mindImageUi=void 0,n(4790),n(82403),n(12638),n(13253),n(6284);var o=i(n(32483)),a=n(7031),r=n(28181),s=n(62937);t.mindImageUi={init:function(){var e=this;this.mindMap=editorGlobal.mindMap,this.mindMap.on("topic_img_click",this.topicImgClick.bind(this)),editorGlobal.mindMap.on("selected_change",function(t){$(".img-dot[topic_id=".concat(t.id,"]")).length&&e.topicImgClick(t)}),this.mindMap.on("topic_mouseup",this.mouseUp.bind(this)),this.mindMap.on("view_data_change_real_time",this.viewDataChange.bind(this)),r.previewImage.fn("mind"),this.mindMap.on("topic_selected",this.topicChange.bind(this)),this.mindMap.on("close_topic_image_opmenu",this.removeImageBox.bind(this)),this.mindMap.on("topic_image_unselected",this.removeImageBox.bind(this)),this.mindMap.on("interceptGestureNarrow",function(e){var t=!1;$("#img-preview").is(":visible")&&(t=!0,r.previewImage.zoomFn(-1)),e&&e(t)}),this.mindMap.on("interceptGestureEnlarge",function(e){var t=!1;$("#img-preview").is(":visible")&&(t=!0,r.previewImage.zoomFn(1)),e&&e(t)})},renderImageBox:function(){this.removeImageBox();var e=1==s.vipState.test("OCR")?"".concat(staticBasePath,"/images/vip-tip.svg"):editorGlobalConfig.freeLimitedImage?editorGlobalConfig.freeLimitedImage[0]:"".concat(staticBasePath,"/images/free-limited.svg"),t='<div class="insert-img-item po-tool-button other"  tit="OCR"  title-pos="top" title="'.concat(o.default.t("js.Extract_text"),'" >\n            <span class="po-diagraming-icons text_content">&#xe8f2;</span><img class="aigc-vip-icon" src="').concat(e,'" alt="">\n            </div><div class="po-tool-devider" style="margin: 0 6px 0 2px; vertical-align: middle;"></div>');return'<div id="insert-img-toolbar" class="insert-img-toolbar po-dropdown posT"><div class="insert-img-item po-tool-button other" tit="up" title-pos="top" title="'+o.default.t("js.Picture_on_top")+'"><span class="po-diagraming-icons text_content">&#xe7e06;</span></div><div class="insert-img-item po-tool-button other" tit="down" title-pos="top" title="'+o.default.t("js.Picture_below")+'"><span class="po-diagraming-icons text_content">&#xe7e07;</span></div><div class="insert-img-item po-tool-button other" tit="right" title-pos="top" title="'+o.default.t("js.Picture_on_the_right")+'"><span class="po-diagraming-icons text_content">&#xe7e08;</span></div><div class="insert-img-item po-tool-button other" tit="left" title-pos="top" title="'+o.default.t("js.Picture_on_the_left")+'"><span class="po-diagraming-icons text_content">&#xe7e09;</span></div><div class="po-tool-devider" style="margin: 0 6px 0 2px; vertical-align: middle;"></div><div class="insert-img-item po-tool-button other" tit="rotate" title-pos="top" title="'+o.default.t("js.Rotate_left")+'" style="display:none"><span class="po-diagraming-icons text_content">&#xea05;</span></div>'+(editorGlobalConfig.showOCR?t:"")+'<div class="insert-img-item po-tool-button other" tit="del" title-pos="top" title="'+o.default.t("js.Delete_picture")+'"><span class="po-diagraming-icons text_content">&#xe7b7;</span></div></div>'},showImageBox:function(e,t){var n=this;if(t){var i=this.renderImageBox(),s=$(i);s.appendTo("body"),$.fn.showPanel({target:t,panel:s,position:"top"}),this.resetImgOptUi(e,t),$(".insert-img-item").off("click").on("click",function(){var t=n.mindMap.renderer.getCacheTopic(e.id),i=$(this).attr("tit");if($(".topic-image .img-dot").remove(),$(".po-hover-tip").remove(),"del"==i)return $("#insert-img-toolbar").remove(),void n.mindMap.emit("remove_topic_img",t);if("OCR"==i){a.ocrTranslate.OCRInitialize(!0);var s=e.image.url;return s&&(s=s.replace("http://","https://")),void fetch(s).then(function(e){return e.blob()}).then(function(t){var n=new FileReader;n.onloadend=function(){$(".mind-ocr-dlg").dialog({closable:!1}),$("#ocr-con").show(),$("#ocr-upload-con").hide();var t=n.result.match(/^data:([a-zA-Z]+\/[a-zA-Z]+);base64,/);a.ocrTranslate.ocrObj.image=n.result,a.ocrTranslate.ocrObj.fileType=t?t[1]:null,a.ocrTranslate.ocrObj.insertId=e.id,r.previewImage.renderPreviewToClient("ocr-left",n.result,function(){},a.ocrTranslate.OCRInitialize)},n.readAsDataURL(t)}).catch(function(){return $.toast({type:"error",text:o.default.t("js.Image_loading_failure")})})}n.mindMap.emit("set_topic_img",t,{direction:i}),n.removeImageBox()})}},removeImageBox:function(){$("#insert-img-toolbar").length>0&&$("#insert-img-toolbar").remove(),$(".img-dot").length>0&&$(".img-dot").remove()},topicImgClick:function(e){var t,n,i=this,a=e.getData(),r=$("#topic-image-"+e.id),s=r.width(),l=r.height();if(!this.mindMap.opt.readonly){this.showImageBox(a,r),$(".img-dot").remove();var c=$("<span title='".concat(o.default.t("js.Resize_picture"),"' class='img-dot po-diagraming-icons' topic_id=\"").concat(e.id,"\" style='cursor:nwse-resize;width:13px;height:13px;line-height:13px;font-size:12px;border:1px solid #fff;border-radius:50%;background:#067bef;color:#ffffff'>&#xe99f;</span>"));$("body").append(c);var d=r.offset().top,u=r.offset().left,p=editorGlobal.mindMap.view.scale;c.css({position:"absolute",top:d+l*p-c.height()+2,left:u+s*p-c.width()}).show(),$(".img-dot").off("mousedown").on("mousedown",function(o){o.stopPropagation();var a=o.pageX,h=o.pageY;i.isMousedown=!0,p=editorGlobal.mindMap.view.scale,d=r.offset().top,u=r.offset().left,$(document).off("mousemove.img-dot").on("mousemove.img-dot",function(e){e.preventDefault(),e.stopPropagation();var o=e.pageX,m=e.pageY,f=o-a,g=m-h;(Math.abs(f)>5||Math.abs(g)>5)&&(n=(t=s+f/p)*l/s,t>20&&(r.width(t),r.height(n),c.css({top:d+n*p-c.height()+2,left:u+t*p-c.width()}).show())),i.imageW=r.width(),i.imageH=r.height()}),$(document).off("mouseup.img-dot").on("mouseup.img-dot",function(){s=r.width(),l=r.height(),editorGlobal.mindMap.emit("set_topic_img",e,{w:s,h:l}),$(document).off("mouseup.img-dot"),$(document).off("mousemove.img-dot"),$(".po-hover-tip").remove(),c.hide(),$("#insert-img-toolbar").hide()})})}},mouseUp:function(){this.isMousedown&&($(document).trigger("mouseup.img-dot"),this.isMousedown=!1)},viewDataChange:function(){var e=this.mindMap.renderer.getSelectedTopic();if(e){var t=$(".topic-image.active");t.length&&(this.resetImgOptUi(e.getPureData(),$(t)),$("#insert-img-toolbar").hide())}},resetImgOptUi:function(e,t){var n;if(e&&e.image){var i=e.image.direction||"up";t||(t=$(".topic-image.active"));var o=editorGlobal.mindMap.view.scale;$.fn.showPanel({target:t,panel:$("#insert-img-toolbar"),position:"top",zoom:o});var a=$(".img-dot"),r=t.offset().top,s=t.offset().left,l=t.width(),c=t.height();a.css({position:"absolute",top:r+c*o-a.height()+2,left:s+l*o-a.width()}).show(),$(".insert-img-item[tit="+i+"]").addClass("selected").siblings(".insert-img-item").removeClass("selected"),$(".insert-img-item[tit]").removeClass("disabled");var d=null===(n=e.style)||void 0===n?void 0:n["flex-direction"];d&&"initial"!==d&&($(".insert-img-item[tit]").addClass("disabled"),$(".insert-img-item[tit=rotate]").removeClass("disabled"),$(".insert-img-item[tit=OCR]").removeClass("disabled"),$(".insert-img-item[tit=del]").removeClass("disabled"))}else this.removeImageBox()},topicChange:function(){var e,t=this.mindMap.renderer.getSelectedTopic(),n=null===(e=$(".topic-image.active").attr("id"))||void 0===e?void 0:e.replace("topic-image-","");t&&n&&t.id===n||this.removeImageBox()}}},22169:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.noteUI=void 0,n(69268),n(86837);var o=i(n(32483)),a=n(15240);t.noteUI={init:function(e){this.renderPanel(e),this.eventinit(),editorGlobal.mindMap.on("topic_selected",this.topicNoteEcho.bind(this,e)),editorGlobal.mindMap.on("readonly_change",function(t){t.hasOwnProperty("note")&&(t.icon?$(e).find("[tit='note'] .con").removeClass("mind-disable"):$(e).find("[tit='note'] .con").addClass("mind-disable"))})},renderPanel:function(e){var t=editorGlobal.mindMap.opt.readonlyList.note?"":"mind-disable",n='\n        <div tit="note">\n            <div class="title">'.concat(o.default.t("Remarks"),'</div>\n            <div class="con ').concat(t,'" style="padding:10px 10px 0">\n                <div class="mind-dock-right-mg">\n                    <textarea spellcheck="false" id="mind-topic-note" class="mind-note"></textarea>\n                </div>\n            </div>\n            <div class="note-title-des">').concat(o.default.t("Click_Edit_Remarks"),'</div>\n            <div class="remark-dragable">\n                <div class="dragable_line"></div>\n            </div>\n        </div>\n        ');e&&(e.children('div[tit="note"]').length>0&&e.children('div[tit="note"]').remove(),$(e).append(n))},eventinit:function(){var e=null;$("#mind-topic-note").off().on("blur",function(){var t=$(this).val();editorGlobal.mindMap.note.setNote(t,e)}).on("focus",function(){e=editorGlobal.mindMap.renderer.getSelectedTopic()}).on("keydown",function(e){!e.ctrlKey&&!e.metaKey||"82"!=e.keyCode&&"70"!=e.keyCode||e.preventDefault()})},topicNoteEcho:function(e,t,n){if(!$("#mind-topic-note").is(":focus")){if(1!=n.length)return $(e).find("[tit='note'] .con").addClass("mind-disable"),void $("#mind-topic-note").val("");$(e).find("[tit='note'] .con").removeClass("mind-disable");var i=n[0].getData("note");if(i){var o=(0,a.htmlDecode)(i);$("#mind-topic-note").val(o)}else $("#mind-topic-note").val("")}}}},9969:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.shortcutUI=void 0;var o=i(n(32483)),a=n(63898);t.shortcutUI={init:function(e){editorGlobal.mindMap.command.add("OPEN_SHORTCUT_PANNEL",this.showPannel.bind(this)),this.renderPanel(e),this.eventinit()},renderPanel:function(e){var t='\n        <div tit="shortcut" class="mind-corner-content">\n            <div class="title">'.concat(o.default.t("Shortcut_Key_List"),'</div>\n            <div class="con">\n                <div class="container title">').concat(o.default.t("Universal"),"</div>\n                <div>\n                    <span>").concat(o.default.t("Add_a_Peer_topic"),'</span>\n                    <label><span keys="">Enter</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Add_pre_a_Peer_topic"),'</span>\n                    <label><span keys="">Shift</span>+<span keys="">Enter</span></label>\n                </div>\n                <div> \n                    <span>').concat(o.default.t("New_Subtopic"),'</span>\n                    <label><span keys="">Tab</span>/<span keys="">Insert</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Add_parent_theme"),'</span>\n                    <label><span keys="" class="ct">Shift</span>+<span keys="">Tab</span>/<span keys="">Insert</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Delete_topic"),'</span>\n                    <label><span keys="">Delete</span></label>\n                </div>\n                <div id="shortcut-history">\n                    <span>').concat(o.default.t("Historical_record"),'</span> \n                    <label><span keys="" class="ct">Shift</span>+<span keys="">R</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Enter_focus_mode"),'</span> \n                    <label><span keys="" class="ct focus">Ctrl</span>+<span keys="">`</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Box_selection"),'</span> \n                    <label><span keys="" class="ct">Ctrl</span>+<span keys="">').concat(o.default.t("Drag"),"</span></label>\n                </div>\n                <div>\n                    <span>").concat(o.default.t("Multiple_choices"),'</span>\n                    <label><span keys="" class="ct">Ctrl</span>+<span keys="">').concat(o.default.t("Click_on_Theme"),"</span></label>\n                </div>\n                <div>\n                    <span>").concat(o.default.t("Select_and_All"),'</span>\n                    <label><span keys="" class="ct">Ctrl</span>+<span keys="">A</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Format_brush"),'</span> <label>\n                    <span keys="" class="ct">Ctrl</span>+<span keys="">Shift</span>+<span keys="">C</span></label>\n                </div>\n                <div class="container title">').concat(o.default.t("Formatting_and_Editing"),"</div>\n                <div>\n                    <span>").concat(o.default.t("Edit_text"),'</span> \n                    <label><span keys="">Space</span></label>\n                </div>\n                <div>\n                    <span style="width: 70px;">').concat(o.default.t("Text_wrap"),'</span> \n                    <label style="width: 190px;">（<span>').concat(o.default.t("Edit_Status"),'</span>）<span keys="">Shift</span>/<span keys="">Alt</span>+<span keys="">Enter</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Bold"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">B</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Italics"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">I</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Underline"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">U</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Look_for"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">F</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Replication"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">C</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Cut"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">X</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Paste"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">V</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Save_pic"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">S</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Undo"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">Z</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Return_to"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">Y</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Insert_note"),"</span> <label>（<span>").concat(o.default.t("Select_Topic"),'</span>）<span keys="" class="ct">Ctrl</span>+<span keys="">R</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Insert_link"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">K</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Insert_picture"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">Shift</span>+<span keys="">I</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Connection_line"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">Shift</span>+<span keys="">R</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Insert_formula"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys=""> E </span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Add_tag"),'</span> <label><span keys="">Alt</span>+<span keys=""> R </span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Add_Icon"),'</span> <label><span keys="">Alt</span>+<span keys=""> C </span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Add_Task"),'</span> <label><span keys="">Alt</span>+<span keys=""> L </span></label>\n                </div>\n                <div><span>').concat(o.default.t("Insert_Comment"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">Alt</span>+<span keys=""> M </span></label></div>\n                <div class="container title">').concat(o.default.t("Navigation_and_Selection"),"</div>\n                <div>\n                    <span>").concat(o.default.t("Subject_Navigation"),'</span> <label><span keys="">←</span><span keys="">↑</span><span keys="">↓</span><span keys="">→</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Canvas_moves"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">←</span><span keys="">↑</span><span keys="">↓</span><span keys="">→</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Set_Priority_icon"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">1~9</span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Expand_or_close_subtopics"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">/</span></label>\n                </div>\n                <div id="shortcut-style-corn">\n                    <span>').concat(o.default.t("Open_the_Styles_Panel"),'</span> <label><span keys="">Shift</span>+<span keys=""> I </span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Magnification"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys=""> + </span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Downsizing"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys=""> - </span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Reset_scale"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys=""> 0 </span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Canvas_Scaling"),'</span> <label><span keys="" class="ct">Ctrl</span>+<span keys="">').concat(o.default.t("Roller"),"</span></label>\n                </div>\n                <div>\n                    <span>").concat(o.default.t("Locate_to_the_central_theme"),'</span> <label><span keys="">1</span>或<span keys=""> F6 </span></label>\n                </div>\n                <div>\n                    <span>').concat(o.default.t("Choose_a_theme_regardless"),'</span> <label><span keys="">Shift</span>+<span keys="">').concat(o.default.t("Point_and_click"),"</span></label>\n                </div>\n            </div>\n        </div>\n        ");e&&(e.children('div[tit="shortcut"]').length>0&&e.children('div[tit="shortcut"]').remove(),$(e).append(t))},eventinit:function(){},showPannel:function(){a.mindCorner.showCorner("shortcut")}}},40588:function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.STRUCTURE_ICON_CONFIG=void 0;var o=n(80214).CONSTANTS.LAYOUT;t.STRUCTURE_ICON_CONFIG=(x(i={},o.MINDMAP,{i18n:"Mind_Map",structIconMap:[{ac:"mind_free",icon:"icon-jichusiweidaotu"},{ac:"mind_right",dir:"right",part:"right",icon:"icon-siweidaotuyouce"},{ac:"mind_left",dir:"left",part:"left",icon:"icon-siweidaotuzuoce"}]}),x(i,o.LOGIC,{i18n:"Logical_Diagram",structIconMap:[{ac:"mind_logic_right",dir:"right",icon:"icon-siweidaotubianjiqi"},{ac:"mind_logic_left",dir:"left",icon:"icon-siweidaotubianjiqi-1"}]}),x(i,o.TREE_ORG,{i18n:"Tree_Structure",structIconMap:[{ac:"mind_tree",icon:"icon-siweidaotubianjiqi-2"}]}),x(i,o.ORG,{i18n:"Organization_Chart",structIconMap:[{ac:"mind_org",dir:"right,left",icon:"icon-zuzhijiegoutu"},{ac:"mind_tree",icon:"icon-shuzhuangzuzhijiegoutu"}]}),x(i,o.FISHBONE,{i18n:"Fishbone_Diagram",structIconMap:[{ac:"mind_ishikawa_left",dir:"right",icon:"icon-yutouzaizuo"},{ac:"mind_ishikawa_right",dir:"left",icon:"icon-yutouzaiyou"}]}),x(i,o.TIMELINE,{i18n:"js.TimeLine",structIconMap:[{ac:"mind_timeline_h",dir:"right,left",icon:"icon-shuangceshijianzhou"},{ac:"mind_timeline_h_up",dir:"right,left",icon:"icon-dancexiangshangshijianzhou"},{ac:"mind_timeline_h_down",dir:"right,left",icon:"icon-dancexiangxiashijianzhou"}]}),x(i,o.TREE,{i18n:"Tree_Diagram",structIconMap:[{ac:"mind_tree_free",dir:"right,left",part:"free",icon:"icon-shuangceshuxingtu"},{ac:"mind_tree_right",dir:"right,left",part:"right",icon:"icon-youceshuxingtu"},{ac:"mind_tree_left",dir:"right,left",part:"left",icon:"icon-zuoceshuxingtu"},{ac:"mind_tree_right_mobi",icon:"icon-APPshuxingtu1",part:"right"}]}),x(i,o.MOBI_TREE,{i18n:"js.Right_side_tree_mobi",structIconMap:[{ac:"mind_tree_free",dir:"right,left",part:"free",icon:"icon-shuangceshuxingtu"},{ac:"mind_tree_right",dir:"right,left",part:"right",icon:"icon-youceshuxingtu"},{ac:"mind_tree_left",dir:"right,left",part:"left",icon:"icon-zuoceshuxingtu"},{ac:"mind_tree_right_mobi",icon:"icon-APPshuxingtu1",part:"right"}]}),x(i,o.BRACE,{i18n:"Bracket_Diagram",structIconMap:[{ac:"mind_brace_right",dir:"right",icon:"icon-zuocekuohaotu"},{ac:"mind_brace_left",dir:"left",icon:"icon-youcekuohaotu"}]}),i)},38648:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.structure=void 0,n(31039),n(27531),n(61894),n(4790),n(52465),n(38887),n(69268),n(86837),n(84889),n(54938),n(14237);var o=n(15240),a=n(80214),r=i(n(32483)),s=n(97128),l=n(40588),c=n(83316);n(12014);var d=a.CONSTANTS.LAYOUT;t.structure={init:function(e){var t=this;editorGlobal.mindMap.on("topic_selected",this.topicStructureEcho.bind(this)),editorGlobal.mindMap.on("topic_style_echo",this.topicStructureEcho.bind(this)),editorGlobal.mindMap.on("curLayoutEcho",function(){t.topicStructureEcho(null,editorGlobal.mindMap.renderer.selectedTopicList)}),editorGlobal.mindMap.on("structurePageInit",function(){t.topicStructureEcho(null,editorGlobal.mindMap.renderer.selectedTopicList)}),this.pdom=e,this.renderDom(e),this.initEvent(),editorGlobal.mindMap.on("readonly_change",function(){t.handlerReadOnly()})},handlerReadOnly:function(){var e=$("#structure-content");if(editorGlobal.mindMap.opt.readonlyList.structure){e.removeClass("mind-disable");var t=editorGlobal.mindMap.renderer.selectedTopicList;if(0==t.length)return e.find(".des").hide(),!1;if(t.length>1){e.find(".des").hide();var n=!1;if(t.forEach(function(e){e.isRoot&&(n=!0)}),!n)return e.addClass("mind-disable"),!0}else{if(t[0].summary)return e.addClass("mind-disable"),e.find(".des").hide(),!0;e.find(".des").show()}return!1}return e.addClass("mind-disable"),e.find(".des").hide(),!0},handlerInheritParentStructure:function(){var e=$("#inherit-parent-structure-btn");if(editorGlobal.mindMap.opt.readonlyList.structure){var t=editorGlobal.mindMap.renderer.selectedTopicList,n=!1;t.forEach(function(e){!e.isRoot&&e.getData("layout")&&(n=!0)}),n?e.show():e.hide()}else e.hide()},renderDom:function(e){e.append(' <div class="mind-right-style structure-pannel" tit="structure">\n        '.concat("v1"===editorGlobal.config.uiType?"":'<div class="title">'.concat(r.default.t("Structure"),"</div>"),'\n        <div id="structure-content">\n            ').concat("v1"===editorGlobal.config.uiType?"":'<div class="des">'.concat(r.default.t("Switch_Structure"),"</div>"),'\n            \n            <div class="con thick-scrollbar">\n                <div id="mind-customise-structureList">\n                    <div class="content"></div>\n                </div>\n            </div>\n        </div>\n        <div id="inherit-parent-structure-btn" style="display:none;" class="po-button shadow">').concat(r.default.t("Reset_Structure"),"</div>\n    </div>")),this.handlerReadOnly()},initEvent:function(){var e=this;$("#mind-customise-structureList .content").off("click").on("click",function(){var t=C(k().mark(function t(n){var i,o,a;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=$(n.target),o=(i.closest("[ac]")||i).attr("ac")){t.next=3;break}return t.abrupt("return");case 3:if((0===(a=editorGlobal.mindMap.renderer.selectedTopicList).length||a.length>1)&&(a=[editorGlobal.mindMap.renderer.getCacheTopic("root")]),!a[0].isRoot){t.next=13;break}return editorGlobal.mindMap.renderer.currentRoot&&editorGlobal.mindMap.execCommand("FOCUS",editorGlobal.mindMap.renderer.mindTree.id),$("#mind-themes").is(":visible")?editorGlobal.mindMap.emit("themePageInit",{structure:o}):s.setThemeUI.clearThemeList(),t.next=10,editorGlobal.mindMap.execCommand("CHANGE_STRUCTURE",o);case 10:editorGlobal.mindMap.emit("curThemeEcho"),t.next=15;break;case 13:return t.next=15,editorGlobal.mindMap.execCommand("CHANGE_TOPIC_STRUCTURE",a,o);case 15:e.setStructureMenu(a[0]),$.toast({type:"success",text:r.default.t("js.Structural_successful")}),(0,c.$poCollect)("mind_stru_function",{structure:o}),setTimeout(function(){$("#mind-customise-structureList").find(".po-menu-group-item").removeClass("selected"),$("#mind-customise-structureList").find(".po-menu-group-item[ac=".concat(o,"]")).addClass("selected")});case 19:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),$("#inherit-parent-structure-btn").off("click").on("click",function(){editorGlobal.mindMap.renderer.selectedTopicList.forEach(function(){var e=C(k().mark(function e(t){var n,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isRoot||!t.getData("layout")){e.next=6;break}return n=(0,o.copyTopicData)(t),delete(i=t.topicData).layout,e.next=6,editorGlobal.mindMap.execCommand("UPDATE_TOPIC_NODE",i,n,"layout");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())})},topicStructureEcho:function(e,t){if(this.handlerInheritParentStructure(),(!this.handlerReadOnly()||($("#mind-customise-structureList").find(".selected").removeClass("selected"),!editorGlobal.mindMap.opt.readonlyList.structure))&&(e=t.length>1||0===t.length?editorGlobal.mindMap.renderer.getCacheTopic("root"):t[0])){this.setStructureMenu(e);var n=e.getData("layout");if(e.isRoot&&(n=e.getData("structure")),!n){var i=e.layout;i===d.LOGIC&&(i=d.MINDMAP);var o=l.STRUCTURE_ICON_CONFIG[i].structIconMap.find(function(t){return t.part?t.part.includes(e.part):t.dir&&t.dir.includes(e.part)});n=o.ac}n=this.change(e,n),setTimeout(function(){$("#mind-customise-structureList").find(".po-menu-group-item").removeClass("selected"),$("#mind-customise-structureList").find(".po-menu-group-item[ac=".concat(n,"]")).addClass("selected")})}},change:function(e,t){var n={"mind_brace_left-right":"mind_brace_right","mind_brace_right-left":"mind_brace_left","mind_left-right":"mind_right","mind_right-left":"mind_left","mind_ishikawa_right-right":"mind_ishikawa_left","mind_ishikawa_left-left":"mind_ishikawa_right","mind_logic_left-right":"mind_logic_right","mind_logic_right-left":"mind_logic_left"},i="".concat(t,"-").concat(e.part);return n[i]?n[i]:t},setStructureMenu:function(e){if(e.summary)$("#mind-customise-structure").button("disable");else{var t=new Map,n=(0,o.getLayoutConfig)(e.isRoot?e.layout:e.parent.layout).tpLayot.canSet,i=[];if(e.isRoot)i=n[0];else if(e.free)i=a.freeTopicLayout.canSet;else{var s=e.parent.layoutIndex+1;1===s?i=n[1]:s>=2&&(i=n[s]||n[Object.keys(n).at(-1)])}if(0!==i.length){i.forEach(function(n){var i=editorGlobal.mindMap.getLayoutByStructure(n);"mind_tree_right_mobi"===n&&(i=d.TREE),"mind_tree"===n&&(i=d.ORG);var o=t.get(i);if(o){var r=l.STRUCTURE_ICON_CONFIG[i].structIconMap.find(function(e){return e.ac===n});if(!r||!e.isRoot&&!e.free&&!r.dir.includes(e.part))return;o.children.push(r)}else{var s=a.layoutList.find(function(e){return e.value===i}).name,c=l.STRUCTURE_ICON_CONFIG[i],u=c.structIconMap.find(function(e){return e.ac===n});if(!u||!e.isRoot&&!e.free&&!u.dir.includes(e.part))return;t.set(i,{text:s,i18n:c.i18n,children:[u]})}});var c=Array.from(t.values());$("#mind-customise-structureList .content").empty();var u=c.map(function(e){return'<div class="po-menu-group">\n                    <div class="po-menu-group-title">'.concat(r.default.t(e.i18n),'</div>\n                    <ul class="po-menu-group-content">\n                        ').concat(e.children.map(function(e){return'<li class="po-menu-group-item" ac="'.concat(e.ac,'"><div class="po-menu-item-box"><div class="svg-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#').concat(e.icon,'"></use></svg></div></div></li>')}).join(""),"\n                    </ul>\n                <div>")});0===u.length?$("#mind-customise-structure").button("disable"):$("#mind-customise-structure").button("enable"),$("#mind-customise-structureList .content").append(u.join("")),this.preCanList=i}else $("#structure-content").addClass("mind-disable")}}}},62752:function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.LINE_STYLE_ICON_MAP=t.LINE_STYLE_CAN_SET=void 0;var o=n(80214).CONSTANTS.LAYOUT,a=t.LINE_STYLE_ICON_MAP={curve:"&#xea99;",roundBroken:"&#xea9d;",broken:"&#xea9e;",slant:"&#xea9a;",bight:"&#xea9b;",straight:"&#xea9c;"};t.LINE_STYLE_CAN_SET=(x(i={},o.MINDMAP,{0:a,1:a,2:a}),x(i,o.LOGIC,{0:a,1:a,2:a}),x(i,o.ORG,{0:{roundBroken:"&#xeaa5;",broken:"&#xeaa4;",slant:"&#xeaa2;"},1:{roundBroken:"&#xeaa5;",broken:"&#xeaa4;",slant:"&#xeaa2;"},2:{roundBroken:"&#xeaa5;",broken:"&#xeaa4;",slant:"&#xeaa2;"}}),x(i,o.FISHBONE,{2:a}),x(i,o.TREE,{0:{roundBroken:"&#xeaa3;",broken:"&#xeaa1;"},1:{roundBroken:"&#xeaa3;",broken:"&#xeaa1;"},2:{roundBroken:"&#xeaa3;",broken:"&#xeaa1;"}}),x(i,o.TIMELINE,{1:{roundBroken:"&#xeaa3;",broken:"&#xeaa1;"},2:a}),i)},88693:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.setBackgroundImageUI=void 0,n(83403),n(28293),n(95313),n(33488),n(70116),n(33152),n(65528),n(82403),n(12638),n(6284),n(20005),n(13552),n(42712),n(42211),n(20306),n(32209),n(68801),n(18097),n(62495),n(72216),n(63061),n(81475),n(57895),n(77439);var o=i(n(32483));t.setBackgroundImageUI={data:{repeat:"repeat",url:$(".mind-designer").css("background-image")},init:function(){this.initEvent()},initEvent:function(){var e=this;$("#background-fill-opacity").spinner("setValue","100%"),$("#background-img-upload-input").off("change").on("change",function(){e.cleanData();var t=this.files[0];if($(this).val(""),!/image\/\w+/.test(t.type))return $.toast({type:"warning",text:o.default.t("js.Upload_picture_format_only")}),!1;if(t.size>2097152)return $.toast({type:"warning",text:o.default.t("js._The_picture_size_should_not_exceed_2M")}),!1;var n=new FileReader;n.readAsDataURL(t),n.onload=function(){e.data.imgBaes64=this.result,e.data.url=this.result,e.uploadImg()}}),$("#background-fill-type").button({onClick:function(t,n){$("#background-fill-type-list").dropdown({target:n,zindex:3,onSelect:function(t){var i=t.attr("tp");n.attr("tp",i),n.button("setText",t.text()),e.backgroundImageShow(i)}})}})},cleanData:function(){this.data.url=$(".mind-designer").css("background-image"),this.data.repeat="repeat"},base64ToBlob:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([i],{type:n})},showSize:function(e){var t=e.replace("data:image/png;base64,",""),n=t.indexOf("=");t.indexOf("=")>0&&(t=t.substring(0,n));var i,o=t.length,a=(i=(parseInt(o-o/8*2)/1024).toFixed(2))+"",r=a.indexOf(".");return"00"==a.substr(r+1,2)?a.substring(0,r)+a.substr(r+3,2):i},backgroundImageShow:function(e){var t=(e=e||$("#background-fill-type").attr("tp"))||"repeat";"cover"==t&&(t="content-box");var n=$("#background-img-upload .img-bg").css("background-image")+" "+t+" center center";editorGlobal.mindMap.execCommand("SET_BACKGROUND",n,"backgroundImg",!0)},uploadImg:function(){var e=this,t=new FormData,n=e.base64ToBlob(e.data.url);t.append("image",n),t.append("isSaveAs",!1),injectExtraAsynCall("onServerApi",{apiName:"uploadImageForm",params:t},function(t){var n=t.result,i=t.data;"error"==n?$.toast({type:"error",text:o.default.t("js.Upload_failed")}):(e.data.url=i.url,$("#background-img-upload").addClass("image"),$("#background-img-upload .img-bg").css("background-image","url("+e.data.url+")"),$("#background-img-con").show(),e.backgroundImageShow())})}}},2473:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.setStyleUI=void 0,n(27531),n(65528),n(4790),n(64518),n(14544),n(23801),n(66096),n(63551),n(40724),n(81006),n(38887),n(47958),n(69268),n(58500),n(86837),n(54938),n(14237);var o=n(83316);n(76162);var a=n(80214),r=n(15240),s=n(62752),l=i(n(32483)),c=n(97128),d=n(59628),u=a.CONSTANTS,p=u.SHAPE,h=u.LAYOUT;t.setStyleUI={init:function(e){var t=this;this.renderMenu(),this.renderStylePanel(e),this.initEvent(),this.initCurPanel(),editorGlobal.mindMap.on("topic_selected",this.topicSelectedInit.bind(this)),editorGlobal.mindMap.on("topicStyleEnable",this.setEnable.bind(this)),editorGlobal.mindMap.on("topicStyleDisable",this.setDisable.bind(this)),editorGlobal.mindMap.on("updatePageStyle",function(){d.setPageStyleUI.pageStyleEcho()}),editorGlobal.mindMap.on("curLayoutEcho",function(){d.setPageStyleUI.pageStyleEcho()}),editorGlobal.mindMap.on("curThemeEcho",function(){d.setPageStyleUI.pageStyleEcho()}),editorGlobal.mindMap.on("init_full_data",function(){c.setThemeUI.clearThemeList(),d.setPageStyleUI.pageStyleEcho()}),editorGlobal.mindMap.on("topic_style_echo",this.topicPanelStyleEcho.bind(this)),editorGlobal.mindMap.on("rendered",d.setPageStyleUI.hideCenterTopicEcho.bind(this)),editorGlobal.mindMap.on("freesub_status_echo",d.setPageStyleUI.freeSubtopicEcho.bind(this)),editorGlobal.mindMap.on("readonly_change",function(e){e.hasOwnProperty("pageStyle")&&(e.pageStyle?$("#mind-style-page").removeClass("mind-disable"):$("#mind-style-page").addClass("mind-disable")),e.hasOwnProperty("topicStyle")&&(e.topicStyle&&editorGlobal.mindMap.renderer.selectedTopicList.length?$("#mind-style-topic").removeClass("mind-disable"):$("#mind-style-topic").addClass("mind-disable"))}),editorGlobal.mindMap.on("number-change",this.topicNumberEcho.bind(this)),editorGlobal.mindMap.on("topicStyleChange",function(e){var n=editorGlobal.mindMap.renderer.selectedTopicList[0];n&&e.includes(n)&&t.resetStyleEcho(n)}),editorGlobal.mindMap.on("topic_mousedown",function(){$(".po-dropdown-menu").each(function(){$(this).dropdown("close")})})},observerDisplay:function(){var e=this,t=(0,r.querySelector)(".mind-corner .mind-right-style");new MutationObserver(function(n){var i,o=v(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;"attributes"===a.type&&"style"===a.attributeName&&("block"==window.getComputedStyle(t).display?(e.panelShow=!0,e.initCurPanel()):e.panelShow=!1)}}catch(r){o.e(r)}finally{o.f()}}).observe(t,{attributes:!0,attributeFilter:["style"]})},panelShow:!1,initCurPanel:function(){editorGlobal.mindMap.opt.readonlyList.pageStyle||$("#mind-style-page").addClass("mind-disable"),editorGlobal.mindMap.opt.readonlyList.topicStyle||$("#mind-style-topic").addClass("mind-disable");var e="mind-style-topic";0==editorGlobal.mindMap.renderer.selectedTopicList.length&&(e="mind-style-page",$("#mind-style-topic").addClass("mind-disable")),this.stylePanelSwitch(e),this.styleEchoSwitch(e)},topicSelectedInit:function(e,t){this._selectedTopicList=t,0!=t.length&&editorGlobal.mindMap.opt.readonlyList.topicStyle?$("#mind-style-topic").removeClass("mind-disable"):$("#mind-style-topic").addClass("mind-disable");var n="mind-style-topic";0==t.length&&(n="mind-style-page"),this.stylePanelSwitch(n),this.topicPanelStyleEcho(e,t)},changeStylePannel:function(){var e="mind-style-topic";0==editorGlobal.mindMap.renderer.selectedTopicList.length&&(e="mind-style-page"),this.stylePanelSwitch(e)},initEvent:function(){var e=this,t=this;$(".mind-right-style>.title span").on("click",function(){var e=$(this).attr("tit");t.stylePanelSwitch(e),t.styleEchoSwitch(e),(0,o.$poCollect)("mind_click",{tit:e,pos:"right-panel"})}),d.setPageStyleUI.initPageStyleEvent(),this.initTopicStyleEvent(),editorGlobal.mindMap.on("setWaterMark",this.setWaterMark.bind(this)),editorGlobal.mindMap.on("topic_mousedown",this.hideList.bind(this)),$(document).on("mousedown",function(){e.hideList()}),editorGlobal.mindMap.on("mousedown",function(){e.changeStylePannel()})},hideList:function(){$("#mind-watermark").hide()},setWaterMark:function(e){var t=e.watermark;e.showWatermark||(t=l.default.t("js.No_watermark")),$("#set-watermark").find(".text-content").html(t),$("#mind-watermark").hide()},curPanel:"mind-style-topic",stylePanelSwitch:function(e){if(e!=this.curPanel){this.curPanel=e;var t=$('.mind-right-style [tit="'+e+'"]');t.addClass("selected").siblings().removeClass("selected"),0==t.index()?$(".mind-right-style>.title").addClass("n"):$(".mind-right-style>.title").removeClass("n"),$("#"+e).show().siblings().hide(),"mind-style-page"===e&&setTimeout(function(){c.setThemeUI.haveTheme()||editorGlobal.mindMap.emit("themePageInit")},100)}},styleEchoSwitch:function(e){"mind-style-page"==e?d.setPageStyleUI.pageStyleEcho():this.topicPanelStyleEcho(null,editorGlobal.mindMap.renderer.selectedTopicList)},initTopicStyleEvent:function(){var e=this;$("#mind-customise-bs").button({onClick:function(t,n){var i=n.attr("ac");$("#mind-customise-bsl").dropdown({target:n,zindex:3,position:"right",onSelect:function(t){var i=t.attr("ac"),o=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",o,{shape:i}),n.button("setText",t.find(".po-diagraming-icons").html()),n.attr("ac",i),e.updateWidthSettingStatusByShape(i)}}),$("#mind-customise-bsl [ac='"+i+"']").menuitem("select"),(0,o.$poCollect)("mind_click",{tit:"mind-customise-bs",pos:"right-panel"})}}),$("#mind-topic-cuswidth-show").parent(".po-checkbox-group").off("click.check").on("click.check",function(){var e=editorGlobal.mindMap.renderer.selectedTopicList.filter(function(e){return!e.getFlexDirection()});if(0!=e.length){var t=$("#mind-topic-cuswidth-show"),n="auto";t.checkbox("isChecked")?(t.checkbox("uncheck"),n="auto",$("#mind-customise-topicw_").parent().addClass("disabled")):(t.checkbox("check"),n=0,$("#mind-customise-topicw_").parent().removeClass("disabled")),editorGlobal.mindMap.execCommand("UPDATE_TOPIC_WIDTH",e,n)}});var t=function(e){editorGlobal.mindMap.renderer.textEdit.popEditor.isShow()&&(e.preventDefault(),e.stopPropagation())};$("#mind-select-font").button({onClick:function(e,t){var n=t.text().trim();$("#mind-font-list").dropdown({target:t,zindex:3,stopPropagation:!0,onSelect:function(e){if(n=e.attr("ac"),editorGlobal.mindMap.renderer.textEdit.popEditor.isShow())editorGlobal.mindMap.emit("setSelectionStyle","f",n);else{var i=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",i,{"font-family":n}),t.button("setText",n),t.attr("ac",n)}}}),$("#mind-font-list [ac='"+n+"']").menuitem("select"),$("#mind-font-list").find(".label").hover(function(){this.scrollWidth>this.clientWidth&&this.setAttribute("original-title",this.textContent)})}}),$("#mind-select-font").on("mousedown",t),$("#mind-customise-topicw_").spinner({min:30,max:900,step:1,unit:"px",width:70,onChange:function(e){if(!isNaN(e)){var t=editorGlobal.mindMap.renderer.selectedTopicList.filter(function(e){return!e.getFlexDirection()});editorGlobal.mindMap.execCommand("UPDATE_TOPIC_WIDTH",t,e)}}}),$("#mind-number-size").spinner({min:12,max:100,step:1,unit:"px",width:70,onChange:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",t,{"font-size":e})}}),$("#mind-font-color").colorButton({position:"right",type:"hex",stopPropagation:!0,trans:!1,onSelect:function(e){if(editorGlobal.mindMap.renderer.textEdit.popEditor.isShow())editorGlobal.mindMap.emit("setSelectionStyle","ForeColor",e);else{var t=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",t,{color:e})}}}),$("#mind-font-color").on("mousedown",t),$("#mind-font-b").on("click",function(e){var t=$(this),n=t.hasClass("selected");if(editorGlobal.mindMap.renderer.textEdit.popEditor.isShow()){var i=t.data("key");return editorGlobal.mindMap.emit("setSelectionStyle",i),e.stopPropagation(),void e.preventDefault()}var o=editorGlobal.mindMap.renderer.selectedTopicList;n?(t.removeClass("selected"),editorGlobal.mindMap.execCommand("SET_STYLE",o,{"font-weight":"normal"})):(t.addClass("selected"),editorGlobal.mindMap.execCommand("SET_STYLE",o,{"font-weight":"bold"}))}),$("#mind-font-b").on("mousedown",t),$("#mind-font-i").on("click",function(e){var t=$(this),n=t.hasClass("selected");if(editorGlobal.mindMap.renderer.textEdit.popEditor.isShow()){var i=t.data("key");return editorGlobal.mindMap.emit("setSelectionStyle",i),e.stopPropagation(),void e.preventDefault()}var o=editorGlobal.mindMap.renderer.selectedTopicList;n?(t.removeClass("selected"),editorGlobal.mindMap.execCommand("SET_STYLE",o,{"font-style":"normal"})):(t.addClass("selected"),editorGlobal.mindMap.execCommand("SET_STYLE",o,{"font-style":"italic"}))}),$("#mind-font-i").on("mousedown",t),$("#mind-font-ul").on("click",function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList,n=$(this),i=n.hasClass("selected");if(editorGlobal.mindMap.renderer.textEdit.popEditor.isShow()){var o=n.data("key");return editorGlobal.mindMap.emit("setSelectionStyle",o),e.stopPropagation(),void e.preventDefault()}i?(n.removeClass("selected"),editorGlobal.mindMap.execCommand("SET_STYLE",t,{"text-decoration":"none","text-decoration-type":"underline"})):(n.addClass("selected"),editorGlobal.mindMap.execCommand("SET_STYLE",t,{"text-decoration":"underline","text-decoration-type":"underline"}),n.siblings("[line]").removeClass("selected"))}),$("#mind-font-ul").on("mousedown",t),$("#mind-font-ml").on("click",function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList,n=$(this),i=n.hasClass("selected");if(editorGlobal.mindMap.renderer.textEdit.popEditor.isShow()){var o=n.data("key");return editorGlobal.mindMap.emit("setSelectionStyle",o),e.stopPropagation(),void e.preventDefault()}i?(n.removeClass("selected"),editorGlobal.mindMap.execCommand("SET_STYLE",t,{"text-decoration":"none","text-decoration-type":"line-through"})):(n.addClass("selected"),editorGlobal.mindMap.execCommand("SET_STYLE",t,{"text-decoration":"line-through","text-decoration-type":"line-through"}),n.siblings("[line]").removeClass("selected"))}),$("#mind-font-ml").on("mousedown",t),$("#mind-font-lr, #mind-font-rl, #mind-font-tb").on("click",function(){var t=editorGlobal.mindMap.renderer.selectedTopicList,n=$(this);if(!n.hasClass("selected")){var i={"flex-direction":n.attr("flex")},o="mind-font-tb"!=n.attr("id");e.renderDirectionIcon(o),editorGlobal.mindMap.execCommand("SET_STYLE",t,i),n.addClass("selected"),n.siblings("[flex]").removeClass("selected")}}),$("#mind-font-left").on("click",function(){var e=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",e,{"text-align":"left"});var t=$(this);t.addClass("selected"),t.siblings("[align]").removeClass("selected")}),$("#mind-font-center").on("click",function(){var e=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",e,{"text-align":"center"});var t=$(this);t.addClass("selected"),t.siblings("[align]").removeClass("selected")}),$("#mind-font-right").on("click",function(){var e=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",e,{"text-align":"right"});var t=$(this);t.addClass("selected"),t.siblings("[align]").removeClass("selected")}),$("#mind-customise-bc_").colorButton({position:"right",type:"hex",onSelect:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",t,{"border-color":e})}}),$("#mind-customise-bst_").button({onClick:function(e,t){var n=t.attr("ac");$("#mind-customise-borderst").dropdown({target:t,zindex:5,position:"right",onSelect:function(e){var n=e.attr("ac"),i=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",i,{"border-style":n}),t.button("setText",e.find(".po-diagraming-icons").html()),t.attr("ac",n)}}),$("#mind-customise-borderst [ac='"+n+"']").menuitem("select")}}),$("#mind-border-show").parent(".po-checkbox-group").off("click.check").on("click.check",function(e){e.stopPropagation();var t={},n=$("#mind-border-show");n.checkbox("isChecked")?(n.checkbox("uncheck"),t["border-width"]="0px",$("#mind-customise-bst_,#mind-customise-bw_,#mind-customise-bc_").button("disable")):(n.checkbox("check"),$("#mind-customise-bst_,#mind-customise-bw_,#mind-customise-bc_").button("enable"),t["border-width"]="1px");var i=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",i,t)}),$("#mind-customise-bw_").spinner({min:1,max:5,step:1,unit:"px",width:"100%",onChange:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",t,{"border-width":e})}}),$("#mind-fill-show").parent(".po-checkbox-group").off("click.check").on("click.check",function(e){e.stopPropagation();var t=$("#mind-fill-show"),n="";t.checkbox("isChecked")?(t.checkbox("uncheck"),n="transparent",$("#mind-topic-bg").button("disable")):(t.checkbox("check"),$("#mind-topic-bg").button("enable"),n=$("#mind-topic-bg").find(".po-tool-color-button").css("background-color"));var i=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",i,{background:n})}),$("#mind-topic-bg").colorButton({position:"right",type:"hex",trans:!1,onSelect:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",t,{background:e})}}),$("#mind-customise-linec_").colorButton({position:"right",type:"hex",trans:!1,onSelect:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",t,{"line-color":e})}}),$("#mind-customise-linet_").button({onClick:function(e,t){var n=t.attr("ac");$("#mind-customise-linet-list_").dropdown({target:t,zindex:4,position:"right",onSelect:function(e){var n=e.attr("ac"),i=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",i,{"line-type":n}),t.button("setText",e.text()),t.attr("ac",n)}}),$("#mind-customise-linet-list_ [ac='"+n+"']").menuitem("select")}}),$("#mind-customise-linew_").spinner({min:1,max:5,step:1,unit:"px",width:164,onChange:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",t,{"line-width":e})}}),$("#mind-number-select-btn").button({onClick:function(e,t){var n,i=editorGlobal.mindMap.renderer.selectedTopicList;if($("#mind-number-select-list").dropdown({target:t,zindex:4,position:"center",onSelect:function(e){var n=e.attr("ac");"number"===n?($("#mind-number-select-list [ac=number]").removeClass("selected"),t.html(e.html()),"none"===e.attr("type")?$("#mind-number-select-list [ac=level]").button("disable"):$("#mind-number-select-list [ac=level]").button("enable")):"level"===n&&$("#mind-number-select-list [ac=level]").removeClass("selected"),e.addClass("selected");var o=$("#mind-number-select-list [ac=number].selected").attr("type"),a=$("#mind-number-select-list [ac=level].selected").attr("type");return"number"===n&&($("#mind-number-select-list [ac=number]").menuitem("unselect"),$("#mind-number-select-list [ac=number][type="+o+"]").menuitem("select")),"level"===n&&($("#mind-number-select-list [ac=level]").menuitem("unselect"),$("#mind-number-select-list [ac=level][type="+a+"]").menuitem("select")),editorGlobal.mindMap.emit("setNumber",i,o,a),!1}}),i[0].getData("number")){var a=i[0].getData("number").type;$("#mind-number-select-list [ac=number][type="+a+"]").menuitem("select"),$("#mind-number-select-list [ac=level]").button("enable")}else $("#mind-number-select-list [ac=number][type=none]").menuitem("select"),$("#mind-number-select-list [ac=level]").button("disable");var r=(null===(n=i[0].getData("number"))||void 0===n?void 0:n.level)||"1";void 0!==r&&($("#mind-number-select-list [ac=level][type="+r+"]").menuitem("select"),$("#mind-number-select-list [ac=level][type="+r+"]").addClass("selected")),(0,o.$poCollect)("mind_click",{tit:"mind-number-select-btn",pos:"right-panel"})}}),$(".pre-topic").off("click").on("click",function(){var e=$(this),t=e.css("backgroundColor"),n=e.css("color"),i=e.css("border-width"),a=e.css("border-color"),r=e.css("border-style"),s={background:t,color:n,"border-radius":e.css("border-radius"),"text-decoration":e.css("text-decoration")};delete s.border,s["border-style"]=r,s["border-color"]=a,s["border-width"]=i;var l=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",l,s),(0,o.$poCollect)("mind_click",{button:"use-topic-reserve-style",btn_pos:"right-panel",power:"主题样式"})}),$("#reset-style-btn").on("click",C(k().mark(function t(){var n;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=editorGlobal.mindMap.renderer.selectedTopicList,t.next=3,editorGlobal.mindMap.execCommand("CLEAR_STYLE",n);case 3:$(this).hide().parent().prev().hide(),e.topicPanelStyleEcho(n[0],n);case 5:case"end":return t.stop()}},t,this)})))},updateWidthSettingStatusByShape:function(e){a.disabledShape.includes(e)?$("#topic-width-container").addClass("mind-disable"):$("#topic-width-container").removeClass("mind-disable")},renderStylePanel:function(e){var t=d.setPageStyleUI.getPageStylePanel(),n=this.getTopicStylePanel(),i=$('\n        <div class="mind-right-style" tit="style">\n            <div class="title" style="padding: 0 40px 0 16px">\n            <span tit="mind-style-page" class="text-overflow" full-title="'.concat(l.default.t("Page_Style"),'" style="margin-right: 24px;">').concat(l.default.t("Page_Style"),'</span>\n            <span class="selected text-overflow" full-title="').concat(l.default.t("Page_Style"),'" tit="mind-style-topic">').concat(l.default.t("Theme_Style"),'</span>\n            </div>\n            <div class="con thick-scrollbar">\n            </div>\n        </div>\n        '));i.find(".con").append(t).append(n),e&&$(e).append($(i))},renderMenu:function(){var e='\n\t\t        \x3c!--主题形状--\x3e\n\t\t\t\t<ul id="mind-customise-bsl" class="po-menu-grid" style="display: none;">\n\t\t\t\t\t<li class="po-menu-item" ac="'.concat(p.RECTANGLE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea94;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.RADIAN_RECTANGLE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea92;</span></div></li>\n                    <li class="po-menu-item" ac="').concat(p.LARGE_RADIAN_RECTANGLE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xe925;</span></div></li>\n                    <li class="po-menu-item" ac="').concat(p.RECTANGLEDOUBLE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xe92b;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.RADIAN_RECTANGLEDOUBLE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xe929;</span></div></li>\n                    <li class="po-menu-item" ac="').concat(p.LARGE_RADIAN_RECTANGLEDOUBLE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xe92a;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.ROUNDED_RECTANGLE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea95;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.UNDERLINE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea98;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.DBLUNDERLINE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea96;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.OVERLAP,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea8e;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.ELLIPSE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea93;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.RHOMBUS,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea90;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.PARALLELOGRAM,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea91;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.OUTER_TRIANGULAR_RECTANGLE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea97;</span></div></li>\n\t\t\t\t\t<li class="po-menu-item" ac="').concat(p.CIRCLE,'"><div class="po-menu-item-box"><span class="po-diagraming-icons">&#xea8f;</span></div></li>\n\t\t\t\t\t\n\t\t\t\t</ul>\n\t\t\t\t\x3c!--边框样式--\x3e\n\t\t\t\t<ul id="mind-customise-borderst" class="po-menu-grid" style="display: none;">\n\t\t\t\t\t<li class="po-menu-item" ac="solid">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons">&#xe989;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="po-menu-item" ac="dashed">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons">&#xe98a;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="po-menu-item" ac="dotted">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons">&#xeaa6;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t\x3c!-- <li class="po-menu-item" ac="double">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons">&#xea96;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li> --\x3e\n\t\t\t\t</ul>\n\t\t\t\t\x3c!--主题连线类型--\x3e\n\t\t\t\t<ul id="mind-customise-linet-list_" class="po-menu-grid" style="display: none;"></ul>\n\t\t\t\t\x3c!--编号--\x3e\n\t\t\t\t<ul id="mind-number-select-list" class="po-menu" style="display: none; min-width: 150px;">\n\t\t\t\t    <li ac="number" type="none" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("js.None_no"),'</span></div></li>\n\t\t\t\t\t<li class="devider"></li>\n\t\t\t\t    <li ac="number" type="1" class="po-menu-item"><div class="po-menu-item-box"><span class="text">1, 2, 3, ...</span></div></li>\n\t\t\t\t\t<li ac="number" type="2" class="po-menu-item"><div class="po-menu-item-box"><span class="text">I, II, III, ...</span></div></li>\n\t\t\t\t\t<li ac="number" type="3" class="po-menu-item"><div class="po-menu-item-box"><span class="text">a, b, c, ...</span></div></li>\n\t\t\t\t\t<li ac="number" type="4" class="po-menu-item"><div class="po-menu-item-box"><span class="text">A, B, C, ...</span></div></li>\n\t\t\t\t\t<li ac="number" type="5" class="po-menu-item">\n                        <div class="po-menu-item-box">\n                            <span class="text">\n                                <i style="padding:0px 6px;margin-right:2px;border-radius:20px;background:#444;line-height:12px;font-size:10px;color:#fff;font-style:normal">1</i>,\n                                <i style="padding:0px 5px;margin-right:2px;border-radius:20px;background:#444;line-height:12px;font-size:10px;color:#fff;font-style:normal">2</i>\n                            </span>\n                        </div>\n                    </li>\n                    <li class="devider"></li>\n\t\t\t\t\t<li ac="level" type="1" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("First_Layer_Numbering"),'</span></div></li>\n\t\t\t\t\t<li ac="level" type="2" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("First_Two_Layers_Numbering"),'</span></div></li>\n\t\t\t\t\t<li ac="level" type="3" class="po-menu-item"><div class="po-menu-item-box"><span class="text">').concat(l.default.t("First_Three_Layers_Numbering"),"</span></div></li>\n\t\t\t\t</ul>\n\n\n\n\t\t\t\t\n\t\t");$("body").append(e)},getTopicStylePanel:function(){return'\n        <div id="mind-style-topic">\n\t\t\t<div class="block-title-con">'.concat(l.default.t("Text_version"),'</div>\n            <div class="block-container">\n            <div id="mind-select-font" class="po-tool-select-button">\n                <span class="text-content">微软雅黑</span>\n            </div>\n\t\t\t<div id="mind-font-color" class="color-con color-con-big" title="').concat(l.default.t("Text_color"),'">\n\t\t\t\t<div class="content">\n\t\t\t\t    <div class="po-tool-color-button-box mind-canvas-bg-btn"><div class="po-tool-color-button color"></div></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="po-tool-select-button"></div>\n\t\t\t</div>\n            \n            </div>\n            <div class="block-container font-style">\n            <div id="mind-number-size" class="po-spinner-small mind-number-box"></div>\n            <div class="po-tool-group">\n                <span title="').concat(l.default.t("Bold"),'" data-key="bold" id="mind-font-b" class="po-tool-button-small bg"><span class="po-diagraming-icons"></span></span>\n                <span title="').concat(l.default.t("Italics"),'" data-key="italic" id="mind-font-i" class="po-tool-button-small bg"><span class="po-diagraming-icons"></span></span>\n                <span title="').concat(l.default.t("Underline"),'" data-key="underline" id="mind-font-ul" line="b" class="po-tool-button-small bg"><span class="po-diagraming-icons"></span></span>\n                <span title="').concat(l.default.t("Middle_line"),'" data-key="strikeThrough" id="mind-font-ml" line="m" class="po-tool-button-small bg"><span class="po-diagraming-icons"></span></span>\n            </div>\n            </div>\n            <div class="block-container left samall-container">\n            <div class="po-tool-group" style="margin-left:0">\n                <span title="').concat(l.default.t("Horizontal_text"),'" id="mind-font-tb" flex="initial" class="po-tool-button-small"><span class="po-diagraming-icons"></span></span>\n                <span title="').concat(l.default.t("Vertical_text_from_left_to_right"),'" id="mind-font-lr" flex="row" class="po-tool-button-small "><span class="po-diagraming-icons"></span></span>\n                <span title="').concat(l.default.t("Vertical_text_from_right_to_left"),'" id="mind-font-rl" flex="row-reverse" class="po-tool-button-small"><span class="po-diagraming-icons"></span></span>\n            </div>\n            <div class="po-tool-group">\n                <span title="').concat(l.default.t("Align_left"),'" id="mind-font-left" align="left" class="po-tool-button-small"><span class="po-diagraming-icons"></span></span>\n                <span title="').concat(l.default.t("Center_align"),'" id="mind-font-center" align="center" class="po-tool-button-small"><span class="po-diagraming-icons"></span></span>\n                <span title="').concat(l.default.t("Align_right"),'" id="mind-font-right" align="right" class="po-tool-button-small"><span class="po-diagraming-icons"></span></span>\n            </div>\n            </div>\n\t\t\t<div class="po-dock-devider no-margin-bottom"></div>\n\t\t\t<div class="block-container block-container-big">\n             <span class="block-title">').concat(l.default.t("Shape"),'</span>\n\t\t\t <div id="mind-customise-bs" class="po-tool-select-button-new"><span class="text-content po-diagraming-icons"></span></div>\n            </div>\n\t\t\t<div class="block-container">\n\t\t\t\t<div class="po-checkbox-group">\n\t\t\t\t\t<div id="mind-fill-show" class="po-checkbox checked"></div>\n\t\t\t\t\t<span class="small-title">').concat(l.default.t("Fill"),'</span>\n\t\t\t\t</div>\n\t\t\t\t<div id="mind-topic-bg" class="color-con color-con-big" title="').concat(l.default.t("Fill_color"),'">\n\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t<div class="po-tool-color-button-box mind-canvas-bg-btn"><div class="po-tool-color-button color"></div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-select-button"></div>\n\t\t\t\t</div>\n            </div>\n\t\t\t<div class="block-container">\n\t\t\t\t<div class="po-checkbox-group" style="flex: 1">\n\t\t\t\t\t<div id="mind-border-show" class="po-checkbox checked"></div>\n\t\t\t\t\t<span class="small-title">').concat(l.default.t("Border"),'</span>\n\t\t\t\t</div>\n\t\t\t\t<div id="mind-customise-bst_" class="po-tool-select-button-new" style="display: inline-block;margin-right:8px"><span class="text-content po-diagraming-icons"></span></div>\n\t\t\t\t<div id="mind-customise-bc_" class="color-con color-con-big" title="').concat(l.default.t("Border_Color"),'">\n\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t<div class="po-tool-color-button-box mind-canvas-bg-btn"><div class="po-tool-color-button color"></div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-select-button"></div>\n\t\t\t\t</div>\n            </div>\n\t\t\t<div class="block-container">\n\t\t\t    <div id="mind-customise-bw_" class="po-spinner-small"></div>\n\t\t\t</div>\n            <div id="topic-width-container" class="block-container">\n            <div class="po-checkbox-group">\n                <div id="mind-topic-cuswidth-show" class="po-checkbox checked"></div><span class="small-title">').concat(l.default.t("Fixed_width"),'</span>\n            </div>\n            <div class="po-spinner-group-inside" style="overflow: visible;">\n                <div id="mind-customise-topicw_" class="po-spinner-small" style="flex: 1;"></div>\n            </div>\n            </div>\n\t\t\t<div class="po-dock-devider"></div>\n            <div class="block-container">\n            \t<span class="block-title">').concat(l.default.t("Wired"),'</span>\n                <div title="').concat(l.default.t("Connection_Type"),'" id="mind-customise-linet_" class="po-tool-select-button-new"><span class="text-content po-diagraming-icons"></span></div>\n            </div>\n            <div class="block-container">\n\t\t\t    \x3c!--   <div  title="线条变体" id="mind-customise-linet_" class="po-tool-select-button-new"><span class="text-content po-diagraming-icons">&#xeaa0;</span></div>--\x3e\n\t\t\t\t<div id="mind-customise-linew_" title="').concat(l.default.t("Line_width"),'" class="po-spinner-small" style="flex:1; margin-right: 8px"></div>\n\t\t\t\t<div id="mind-customise-linec_" class="color-con color-con-big" title="').concat(l.default.t("Wired_Color"),'">\n\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t<div class="po-tool-color-button-box mind-canvas-bg-btn"><div class="po-tool-color-button color"></div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-select-button"></div>\n\t\t\t\t</div>\n            </div>\n\t\t\t<div class="block-container">\n\t\t\t   <span class="small-title">').concat(l.default.t("Number"),'</span>\n\t\t\t   <div title="').concat(l.default.t("Number"),'" id="mind-number-select-btn" style="width: 150px" class="po-tool-select-button-new"><span class="text-content"></span></div>\n\t\t\t</div>\n            <div class="po-dock-devider no-margin-bottom"></div>\n\t\t\t<div class="block-title-con">').concat(l.default.t("Preset_Theme_Style"),'</div>\n            <div class="block-container theme-style">\n            <div class="pre-topic-con">\n                <span class="pre-topic text-overflow" full-title="').concat(l.default.t("The_point"),'" style="background:#E95B56;color:#ffffff;border-radius: var(--border-radius-middle, 6px);">').concat(l.default.t("The_point"),'</span>\n            </div>\n            <div class="pre-topic-con">\n                <span class="pre-topic text-overflow" full-title="').concat(l.default.t("To_be_determined"),'" style="background:#EDAF41;color:#ffffff;border-radius: var(--border-radius-middle, 6px)">').concat(l.default.t("To_be_determined"),'</span>\n            </div>\n            <div class="pre-topic-con">\n                <span class="pre-topic text-overflow" full-title="').concat(l.default.t("Done"),'" style="background:#75C13F;color:#ffffff;border-radius: var(--border-radius-middle, 6px);">').concat(l.default.t("Done"),'</span>\n            </div>\n            <div class="pre-topic-con">\n                <span class="pre-topic text-overflow" full-title="').concat(l.default.t("Prominent"),'" style="background:#488FF7;color:#ffffff;border-radius: var(--border-radius-middle, 6px);border: 1px solid #F2F2F2;">').concat(l.default.t("Prominent"),'</span>\n            </div>\n            <div class="pre-topic-con">\n                <span class="pre-topic text-overflow" full-title="').concat(l.default.t("Delete"),'" style="background:rgba(33, 41, 48, 0.25);color:#ffffff;border-radius: var(--border-radius-middle, 6px);text-decoration:line-through">').concat(l.default.t("Delete"),'</span>\n            </div>\n            <div class="pre-topic-con">\n                <span class="pre-topic text-overflow" full-title="').concat(l.default.t("Secondary"),'" style="background:#FFFFFF;color:#EDAF41;border-radius: var(--border-radius-middle, 6px);border:1px dotted #EDAF41">').concat(l.default.t("Secondary"),'</span>\n            </div>\n            </div>\n            <div class="po-dock-devider mid-top small-bottom"></div>\n            <div class="block-container"><div id="reset-style-btn" class="reset-style-btn po-button">').concat(l.default.t("Reset_Style"),"</div></div>\n        </div>\n        ")},getPageStylePanel:function(){var e=editorGlobal.mindMap.opt.readonlyList.themes?"":"mind-disable",t=$('\n\t\t\t<div id="mind-style-page"  style="display:none;" >\n\t\t\t</div>\n\t\t\t');return c.setThemeUI.init(t),t.append('<div class="item-title item-title-container">'.concat(l.default.t("Canvas_background"),'</div>\n            <div class="item-title-container">\n           \n            <div id="canvas-fill-type" class="po-tool-select-button" style="flex:1;margin-right:8px"><span class="text-content">').concat(l.default.t("Solid_Color_Fill"),'</span></div>\n\t\t\t<div id="mind-canvas-bg" class="color-con">\n\t\t\t\t<div class="content">\n\t\t\t\t    <div class="po-tool-color-button-box mind-canvas-bg-btn"><div class="po-tool-color-button color"></div></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="po-tool-select-button"></div>\n\t\t\t</div>\n\t\t\t<div class="color-con" id="background-img-upload" style="display:none">\n\t\t\t\t<div class="content">\n\t\t\t\t\t<div class="mind-canvas-img-btn"><div class="img-bg"></div><div class="po-diagraming-icons"></div><input type="file" id="background-img-upload-input" title=""></div>\n\t\t\t\t</div>\n\t\t\t</div>\n            </div>\n           <div id="background-img-con" style="display: none">\n            <div class="container" style="padding-top:4px">\n                <span class="po-select-lable">').concat(l.default.t("Fill_mode"),'</span>\n                <div id="background-fill-type" class="po-tool-select-button"><span class="text-content">').concat(l.default.t("Tiled"),'</span></div>\n            </div>\n            <canvas id="canvas-opacity" style="display:none;"></canvas>\n            </div>\n            <div class="po-dock-devider"></div>\n\t\t\t<div class="item-title-container title">').concat(l.default.t("Layout"),'</div>\n            <div class="item-container">\n\t\t\t\t<div class="po-checkbox-group" style="display:flex;align-items:center;overflow:hidden">\n\t\t\t\t\t<div id="mind-topic-align" class="po-checkbox"></div><div class="text-overflow" full-title="').concat(l.default.t("Topic_align"),'" style="flex:1;">').concat(l.default.t("Topic_align"),'</div>\n\t\t\t\t</div>\n            </div>\n\t\t\t<div class="item-container">\n\t\t\t    <div class="po-checkbox-group" style="display:flex;align-items:center;overflow:hidden">\n\t\t\t\t\t<div id="mind-centerTopic-hide" class="po-checkbox"></div><div class="text-overflow" full-title="').concat(l.default.t("Hide_Central_Topic"),'" style="flex:1;">').concat(l.default.t("Hide_Central_Topic"),'</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="item-container">\n\t\t\t    <div class="po-checkbox-group" style="display:flex;align-items:center;overflow:hidden">\n\t\t\t\t\t<div id="mind-free-subtopic" class="po-checkbox"></div><div class="text-overflow" full-title="').concat(l.default.t("Branch_Free_Layout"),'" style="flex:1;">').concat(l.default.t("Branch_Free_Layout"),'</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t <div class="item-container topic-space item-container-with-padding">\n\t\t\t \t<div style="flex: 1;" class="text-overflow" full-title="').concat(l.default.t("Topic_spacing"),'">').concat(l.default.t("Topic_spacing"),'</div>\n\t\t\t\t<div id="set-topic-margin" style="flex:none;" class="po-tool-select-button" tit="').concat(l.default.t("Custom"),'"><span class="text-content text-overflow" full-title="').concat(l.default.t("Custom"),'" style="color:var(--color-text-primary);width: 62px">').concat(l.default.t("Custom"),'</span></div>\n\t\t\t</div>\n            <div class="po-dock-devider"></div>\n\t\t\t<div class="item-title item-title-container">').concat(l.default.t("Watermark"),'</div>\n\t\t\t<div class="item-cotainer" id="set-watermark">\n\t\t\t\t<div class="po-tool-select-button item-content">\n\t\t\t\t\t<span class="text-content"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="po-dock-devider"></div>\n\t\t\t<div class="mind-theme-customise">\n\t\t\t\t<div id="mind-theme-customise" full-title="').concat(l.default.t("Add_theme_Style"),'" class="po-button text-overflow ').concat(e,'">').concat(l.default.t("Add_theme_Style"),'</div>\n\t\t\t\t<div id="mind-theme-list" class="po-button text-overflow ').concat(e,'" full-title="').concat(l.default.t("Custom_theme_Style"),'">').concat(l.default.t("Custom_theme_Style"),"</div>\n\t\t\t</div>\n           ")),t},setLineTypeMenu:function(e){var t=e.isRoot?editorGlobal.mindMap.getLayoutByStructure(e.getData("structure")):e.layout,n=s.LINE_STYLE_CAN_SET[t];if(n){var i,o=e.layoutIndex;i=o<=1?n[o]:n[2],$("#mind-customise-linet-list_").empty();var a=Object.keys(i||{}).map(function(e){return'<li class="po-menu-item" ac="'.concat(e,'"><div class="po-menu-item-box"><span class="text-content po-diagraming-icons">').concat(i[e],"</span></li>")});$("#mind-customise-linet-list_").append(a.join("")),0===a.length?$("#mind-customise-linet_").button("disable"):$("#mind-customise-linet_").button("enable")}else $("#mind-customise-linet_").button("disable")},getTopicStructure:function(e){e.layout,h.FREE},topicPanelStyleEcho:function(e,t){if(e=t[0]){this.resetStyleEcho(e),this.topicTextStyleEcho(e),this.topicCustomWidthEcho(e,t);var n=e.getStyle("border-style"),i=e.style.getActualBorderColor(n),o=e.style.getActualBorderWidth(n);o&&"0px"!=o?($("#mind-border-show").checkbox("check"),$("#mind-customise-bst_,#mind-customise-bw_,#mind-customise-bc_").button("enable"),"double"==n&&(o=parseInt(o)/3),$("#mind-customise-bw_").spinner("setValue",parseInt(o)+"px")):($("#mind-border-show").checkbox("uncheck"),$("#mind-customise-bst_,#mind-customise-bw_,#mind-customise-bc_").button("disable"),$("#mind-customise-bw_").spinner("setValue","1px")),n&&"none"!=n||(n="solid");var a=$("#mind-customise-borderst").children("[ac="+n+"]").text();$("#mind-customise-bst_").children("span").text(a),$("#mind-customise-bst_").attr("ac",n),i&&$("#mind-customise-bc_").colorButton("setColor",i);var r=e.style.getLineWidth("lineWidth");$("#mind-customise-linew_").spinner("setValue",(r||2)+"px");var s=e.style.getLineColor();$("#mind-customise-linec_").colorButton("setColor",s);var l=e.getShape();if(l){$("#mind-customise-bs").attr("ac",l);var c=$("#mind-customise-bsl [ac='"+l+"']").find(".po-diagraming-icons").html();$("#mind-customise-bs").button("setText",c),this.updateWidthSettingStatusByShape(l)}var d=e.style.getStyle("background");"autoColor"===d&&(d=e.style.getAutoColor()),$("#mind-fill-show").checkbox("uncheck"),$("#mind-topic-bg").button("disable"),d&&"transparent"!==d&&($("#mind-fill-show").checkbox("check"),$("#mind-topic-bg").button("enable")),d=e.style.getBackgroundColor(!0),$("#mind-topic-bg").colorButton("setColor",d),this.lineTypeEcho(e),this.topicNumberEcho(e)}},topicCustomWidthEcho:function(e,t){var n=t.filter(function(e){return!e.getFlexDirection()});n.filter(function(e){return e.getData("customWidth")}).length>0?($("#mind-customise-topicw_").parent().removeClass("disabled"),$("#mind-topic-cuswidth-show").addClass("checked")):($("#mind-topic-cuswidth-show").removeClass("checked"),$("#mind-customise-topicw_").parent().addClass("disabled"));var i=t.map(function(e){return e.width}),o=new Set(i).size>1?null:Math.floor(i[0])+"px";$("#mind-customise-topicw_").spinner("setValue",o),0===n.length?($("#mind-topic-cuswidth-show").parent().addClass("disabled"),$("#mind-customise-topicw_").parent().addClass("disabled")):$("#mind-topic-cuswidth-show").parent().removeClass("disabled")},topicTextStyleEcho:function(e){"bold"==e.getStyle("font-weight")?$("#mind-font-b").addClass("selected"):$("#mind-font-b").removeClass("selected"),"italic"==e.getStyle("font-style")?$("#mind-font-i").addClass("selected"):$("#mind-font-i").removeClass("selected"),"underline"==e.getStyle("text-decoration")||e.getStyle("underline")?$("#mind-font-ul").addClass("selected"):$("#mind-font-ul").removeClass("selected"),e.getStyle("text-decoration")&&-1!=e.getStyle("text-decoration").indexOf("line-through")||e.getStyle("middleline")?$("#mind-font-ml").addClass("selected"):$("#mind-font-ml").removeClass("selected");var t=e.getStyle("font-family");t&&t.indexOf("微软雅黑");var n=e.getStyle("font-size");$("#mind-select-font").children("span").text(t||injectExtraAsynCall("fontFamily")&&injectExtraAsynCall("fontFamily").defaults||"微软雅黑"),$("#mind-number-size").spinner("setValue",n+"px");var i=e.style.getTextColor();$("#mind-font-color").colorButton("setColor",i);var o=e.getStyle("flex-direction");$("#mind-style-topic [flex="+(o||"initial")+"]").addClass("selected").siblings("[flex]").removeClass("selected"),$("#mind-style-topic [align="+e.getStyle("text-align")+"]").addClass("selected").siblings("[align]").removeClass("selected");var a=!(!o||"initial"==o);this.renderDirectionIcon(a)},resetStyleEcho:function(e){var t=e.getData(),n=!1;if(t.customWidth&&(n=!0),!n){var i=t.style;if(i&&Object.keys(i).length>0&&(n=!0),!n){var o=t.lineStyle;if(o&&Object.keys(o).length>0)for(var a in o)if("randomLineColor"!=a){n=!0;break}}}var r=$("#reset-style-btn");n?(r.hide().parent().prev().show(),r.show()):(r.hide().parent().prev().hide(),r.hide())},topicNumberEcho:function(e){var t=e.getData("number");if($("#mind-number-select-list").dropdown("close"),t){var n=$("#mind-number-select-list [ac=number][type="+t.type+"]").html();$("#mind-number-select-btn").html(n)}else $("#mind-number-select-btn").button("setText",l.default.t("js.None_no"))},lineTypeEcho:function(e){var t=e.isRoot?editorGlobal.mindMap.getLayoutByStructure(e.getData("structure")):e.layout;this.setLineTypeMenu(e);var n=e.style.getStyle("lineType");if(n){(h.TREE===t||h.TIMELINE===t&&1===e.layoutIndex)&&"roundBroken"!==n&&(n="broken"),$("#mind-customise-linet_").attr("ac",n);var i=$("#mind-customise-linet-list_ [ac='"+n+"']").find(".po-diagraming-icons").html();$("#mind-customise-linet_").button("setText",i)}},setDisable:function(){},setEnable:function(){},renderDirectionIcon:function(e){e?($("#mind-font-left").attr("title",l.default.t("js.Top_align")).find(".po-diagraming-icons").html("&#xe70c;"),$("#mind-font-center").attr("title",l.default.t("js.Center_vertically")).find(".po-diagraming-icons").html("&#xe70d;"),$("#mind-font-right").attr("title",l.default.t("js.Bottom_align")).find(".po-diagraming-icons").html("&#xe70e;")):($("#mind-font-left").attr("title",l.default.t("js.Align_left")).find(".po-diagraming-icons").html("&#xe6de;"),$("#mind-font-center").attr("title",l.default.t("js.Center_align")).find(".po-diagraming-icons").html("&#xe70a;"),$("#mind-font-right").attr("title",l.default.t("js.Align_right")).find(".po-diagraming-icons").html("&#xe709;"))}}},59628:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.setPageStyleUI=void 0,n(27531),n(38887),n(69268),n(86837);var o=n(83316);n(76162);var a=n(88693),r=n(80214),s=n(15240),l=i(n(32483)),c=n(97128),d=n(64458),u=i(n(39091));t.setPageStyleUI={initPageStyleEvent:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).updateCompactCb;this.updateCompactCb=t,editorGlobal.mindMap.on("updatePageMargin",function(){u.default.updateTopicMargin(),e.updateCompactCb&&e.updateCompactCb()}),a.setBackgroundImageUI.init(),$("#canvas-fill-type").button({onClick:function(e,t){$("#mind-canvas-color-type").find("[ac=noFill]").show(),$("#mind-canvas-color-type").dropdown({target:t,zindex:3,onSelect:function(e){var n,i=e.attr("ac");if(t.button("setText",e.text()),t.attr("tp",i),"image"==i){if(n=editorGlobal.mindMap.renderer.mindTree.backgroundImg){$("#background-img-con").show();var o=n.split(" ");$("#background-img-upload .img-bg").attr({style:"background-image:".concat(o[0])})}else $("#background-img-upload .img-bg").removeAttr("style");$("#background-img-upload").show(),$("#mind-canvas-bg").hide()}else"noFill"===i?($("#background-img-con").hide(),editorGlobal.mindMap.execCommand("SET_BACKGROUND",!1,"isBackground",!0)):($("#mind-canvas-bg").show(),"rgba(0, 0, 0, 0)"==(n=$("#mind-canvas-bg").css("background-color"))&&(n="transparent"));n&&editorGlobal.mindMap.execCommand("SET_BACKGROUND",n,"background",!0,null,!0)}}),(0,o.$poCollect)("mind_click",{tit:"canvas-fill-type",pos:"right-panel"})}}),$("#mind-canvas-bg").colorButton({position:"right",type:"hex",onClick:function(){(0,o.$poCollect)("mind_click",{tit:"mind-canvas-bg",pos:"right-panel"})},onSelect:function(e){"transparent"===e?editorGlobal.mindMap.execCommand("SET_BACKGROUND",!1,"isBackground",!0):editorGlobal.mindMap.execCommand("SET_BACKGROUND",e,"backgroundColor",!0,null,!0)}}),$("#mind-theme-customise").on("click",function(){d.themeCustomise.customiseDlg(editorGlobal.mindMap.themeConfig),(0,o.$poCollect)("mind_click",{tit:"mind-theme-customise",pos:"right-panel"})}),$("#mind-theme-list").on("mousedown",function(){setTimeout(function(){c.setThemeUI.renderThemePannel(),(0,o.$poCollect)("mind_click",{tit:"mind-theme-list",pos:"right-panel"})},10)}),$("#mind-canvas-fill-show").off("click.check").on("click.check",function(e){var t;e.stopPropagation(),$(this).checkbox("isChecked")?($(this).checkbox("uncheck"),t=!1,$("#canvas-fill-type").button("disable"),$("#mind-canvas-bg").button("disable"),$("#mind-background-img").button("disable"),$("#background-fill-type").button("disable")):($(this).checkbox("check"),t=!0,$("#canvas-fill-type").button("enable"),$("#mind-canvas-bg").button("enable"),$("#mind-background-img").button("enable"),$("#background-fill-type").button("enable")),editorGlobal.mindMap.execCommand("SET_BACKGROUND",t,"isBackground",!0)}),$("#set-watermark").on("mouseup",function(e){e.stopPropagation();var t=$("#mind-watermark");if(t.is(":visible"))t.hide();else{var n=$("#set-watermark")[0].getBoundingClientRect();t.show(),t.css({top:n.y-t[0].offsetHeight-20})}t.off("mousedown.mind-watermark").on("mousedown.mind-watermark",function(e){e.stopPropagation()}),(0,o.$poCollect)("mind_click",{tit:"set-watermark",pos:"right-panel"})}),u.default.initMarginEvent(),$("#mind-topic-align").parent().off("click.check").on("click.check",function(e){e.stopPropagation();var t=!$(this).find(".po-checkbox").hasClass("checked");t?$(this).find(".po-checkbox").addClass("checked"):$(this).find(".po-checkbox").removeClass("checked"),editorGlobal.mindMap.execCommand("UPDATE_SAME_LEVEL_TOPIC_ALIGN",t),(0,o.$poCollect)("mind_click",{tit:"mind-topic-align",pos:"right-panel","功能选择":t?"使用":"取消"})}),$("#mind-centerTopic-hide").parent().off("click.check").on("click.check",function(e){e.stopPropagation();var t=!$(this).find(".po-checkbox").hasClass("checked");t?$(this).find(".po-checkbox").addClass("checked"):$(this).find(".po-checkbox").removeClass("checked");var n=editorGlobal.mindMap.renderer.mindTree._topic,i=(0,s.copyTopicData)(n),a=n.topicData;a.hideSelf=t,editorGlobal.mindMap.execCommand("UPDATE_TOPIC_NODE",a,i,"hideSelf"),(0,o.$poCollect)("mind_click",{tit:"mind-centerTopic-hide",pos:"right-panel","功能选择":t?"使用":"取消"})}),$("#one-button-compact-header").parent().off("click.check").on("click.check",function(e){e.stopPropagation(),u.default.updateCompact($(this))}),$("#mind-free-subtopic").parent().off("click.check").on("click.check",function(e){e.stopPropagation();var t=!$(this).find(".po-checkbox").hasClass("checked");t?$(this).find(".po-checkbox").addClass("checked"):$(this).find(".po-checkbox").removeClass("checked");var n=editorGlobal.mindMap.renderer.mindTree._topic,i=(0,s.copyTopicData)(n),a=n.topicData;t?a.enableFreeDrag=!0:delete a.enableFreeDrag,editorGlobal.mindMap.execCommand("UPDATE_TOPIC_NODE",a,i,"enableFreeDrag"),(0,o.$poCollect)("mind_click",{tit:"mind-free-subtopic",pos:"right-panel","功能选择":t?"使用":"取消"})})},getPageStylePanel:function(){var e=editorGlobal.mindMap.opt.readonlyList.themes?"":"mind-disable",t=$('\n\t\t\t<div id="mind-style-page"  style="display:none;" >\n\t\t\t</div>\n\t\t\t');return c.setThemeUI.init(t),t.append('\n            <div class="item-title item-title-container">'.concat(l.default.t("Canvas_background"),'</div>\n            <div class="item-title-container">\n           \n            <div id="canvas-fill-type" class="po-tool-select-button" style="flex:1;margin-right:8px"><span class="text-content">').concat(l.default.t("Solid_Color_Fill"),'</span></div>\n\t\t\t<div id="mind-canvas-bg" class="color-con">\n\t\t\t\t<div class="content">\n\t\t\t\t    <div class="po-tool-color-button-box mind-canvas-bg-btn"><div class="po-tool-color-button color"></div></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="po-tool-select-button"></div>\n\t\t\t</div>\n\t\t\t<div class="color-con" id="background-img-upload" style="display:none">\n\t\t\t\t<div class="content">\n\t\t\t\t\t<div class="mind-canvas-img-btn"><div class="img-bg"></div><div class="po-diagraming-icons"></div><input type="file" id="background-img-upload-input" title=""></div>\n\t\t\t\t</div>\n\t\t\t</div>\n            </div>\n           <div id="background-img-con" style="display: none">\n            <div class="container" style="padding-top:4px">\n                <span class="po-select-lable">').concat(l.default.t("Fill_mode"),'</span>\n                <div id="background-fill-type" class="po-tool-select-button"><span class="text-content">').concat(l.default.t("Tiled"),'</span></div>\n            </div>\n            <canvas id="canvas-opacity" style="display:none;"></canvas>\n            </div>\n            <div class="po-dock-devider"></div>\n\t\t\t<div class="item-title-container title">').concat(l.default.t("Layout"),'</div>\n            <div class="item-container">\n\t\t\t\t<div class="po-checkbox-group" style="display:flex;align-items:center;overflow:hidden">\n\t\t\t\t\t<div id="mind-topic-align" class="po-checkbox"></div><div class="text-overflow" full-title="').concat(l.default.t("Topic_align"),'" style="flex:1;">').concat(l.default.t("Topic_align"),'</div>\n\t\t\t\t</div>\n            </div>\n           \n\n            \n\t\t\t<div class="item-container">\n\t\t\t    <div class="po-checkbox-group" style="display:flex;align-items:center;overflow:hidden">\n\t\t\t\t\t<div id="mind-centerTopic-hide" class="po-checkbox"></div><div class="text-overflow" full-title="').concat(l.default.t("Hide_Central_Topic"),'" style="flex:1;">').concat(l.default.t("Hide_Central_Topic"),'</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="item-container">\n\t\t\t    <div class="po-checkbox-group" style="display:flex;align-items:center;overflow:hidden">\n\t\t\t\t\t<div id="mind-free-subtopic" class="po-checkbox"></div><div class="text-overflow" full-title="').concat(l.default.t("Branch_Free_Layout"),'" style="flex:1;">').concat(l.default.t("Branch_Free_Layout"),'</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t <div class="item-container topic-space item-container-with-padding">\n\t\t\t \t<div style="flex: 1;" class="text-overflow" full-title="').concat(l.default.t("Topic_spacing"),'">').concat(l.default.t("Topic_spacing"),'</div>\n\t\t\t\t<div id="set-topic-margin" style="flex:none;" class="po-tool-select-button" tit="').concat(l.default.t("Custom"),'"><span class="text-content text-overflow" full-title="').concat(l.default.t("Custom"),'" style="color:var(--color-text-primary);width: 62px">').concat(l.default.t("Custom"),'</span></div>\n\t\t\t</div>\n           <div class="po-dock-devider"></div>\n\t\t\t<div class="item-title item-title-container">').concat(l.default.t("Watermark"),'</div>\n\t\t\t<div class="item-cotainer" id="set-watermark">\n\t\t\t\t<div class="po-tool-select-button item-content">\n\t\t\t\t\t<span class="text-content"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="po-dock-devider"></div>\n\t\t\t<div class="mind-theme-customise">\n\t\t\t\t<div id="mind-theme-customise" full-title="').concat(l.default.t("Add_theme_Style"),'" class="po-button text-overflow ').concat(e,'">').concat(l.default.t("Add_theme_Style"),'</div>\n\t\t\t\t<div id="mind-theme-list" class="po-button text-overflow ').concat(e,'" full-title="').concat(l.default.t("Custom_theme_Style"),'">').concat(l.default.t("Custom_theme_Style"),"</div>\n\t\t\t</div>\n           ")),u.default.render(),t},pageStyleEcho:function(){u.default.updateTopicMargin(),setTimeout(function(){var e,t=editorGlobal.mindMap.renderer.mindTree.isBackground,n=editorGlobal.mindMap.renderer.getBackgroundColor(),i="";!1!==t?i=(e=n.includes("url"))?"image":"color":i="noFill";var o=$("#canvas-fill-type"),a=$("#mind-canvas-color-type [ac='"+i+"']");if(o.button("setText",a.find(".text").html()),a.menuitem("select"),o.attr("ac",i),e){$("#background-img-upload").show(),$("#mind-canvas-bg").hide(),$("#background-img-con").show();var r=n.split(" "),s=r[1]||"repeat",l=$("#background-fill-type-list [tp='"+s+"']"),c=$("#background-fill-type");c.attr("tp",s),c.button("setText",l.text()),$("#background-img-upload .img-bg").attr({style:"background-image:".concat(r[0])})}else{$("#background-img-con").hide(),$("#background-img-upload").hide(),$("#mind-canvas-bg").show();var d=n;$("#mind-canvas-bg").colorButton("setColor",d)}}),editorGlobal.mindMap.mindData.topicAlign?$("#mind-topic-align").addClass("checked"):$("#mind-topic-align").removeClass("checked"),this.hideCenterTopicEcho(),this.freeSubtopicEcho(),this.updateCompactCb&&this.updateCompactCb()},freeSubtopicEcho:function(){editorGlobal.mindMap.mindData.enableFreeDrag?$("#mind-free-subtopic").addClass("checked"):$("#mind-free-subtopic").removeClass("checked");var e=editorGlobal.mindMap.mindData.structure,t=(0,s.querySelector)("#mind-free-subtopic").parentElement.parentElement;t.classList.remove("mind-disable"),("mind_free"!=e||editorGlobal.mindMap.renderer.currentRoot)&&t.classList.add("mind-disable")},hideCenterTopicEcho:function(){var e=editorGlobal.mindMap.renderer.mindTree,t=[e.structure,e.layout].includes("mind_org_multistage"),n=(0,s.getRootLayout)(e),i=(e.hideSelf||t)&&n!==r.CONSTANTS.LAYOUT.FISHBONE,o=0===e.children.length||n===r.CONSTANTS.LAYOUT.FISHBONE||t||editorGlobal.mindMap.renderer.currentRoot;e.hideSelf&&o&&0===e.children.length&&(o=!1),i?($("#mind-centerTopic-hide").addClass("checked"),editorGlobal.mindMap.renderer.removeNodeFromSelectedList(e._topic)):$("#mind-centerTopic-hide").removeClass("checked"),o?$("#mind-centerTopic-hide").parent().addClass("disabled"):$("#mind-centerTopic-hide").parent().removeClass("disabled")}}},39091:function(e,t,n){n(61894),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66603));n(82403),n(12638),n(69268),n(86837);var a=i(n(32483)),r=n(80214),s=n(83316),l=n(62937);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u={render:function(){if(!($("#mind-set-topic-margin").length>0)){var e=editorGlobal.vipIcons.default&&"v1"===editorGlobal.config.uiType?'<img style="margin-left: 4px;" src="'.concat(editorGlobal.vipIcons.default,'">'):"",t='\x3c!--主题间距--\x3e\n\t\t\t\t<div id="mind-set-topic-margin" class="mind-set-topic-margin-dlg">\n\t\t\t\t\t\x3c!--设置分支主题间距--\x3e\n\t\t\t\t\t<div class="topic-margin-content">\n\t\t\t\t\t\t<div class="mind-subtopic-tit">\n\t\t\t\t\t\t\t<span>'.concat(a.default.t("Subtopics"),'</span>\n\t\t\t\t\t\t\t<div class="change-margin-layout">\n\t\t\t\t\t\t\t\t<span  pos="x" class="selected">').concat(a.default.t("Level"),'</span>\n\t\t\t\t\t\t\t\t<span  pos="y">').concat(a.default.t("Vertical"),'</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!--水平间距--\x3e\n\t\t\t\t\t\t<div id="mind-subtopic-x" class="po-spinner-group-inside mind-subtopic-x">\n\t\t\t\t\t\t\t<div class="po-margin-progress"></div>\n\t\t\t\t\t\t\t<div class="po-spinner-small"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!--垂直间距--\x3e\n\t\t\t\t\t\t<div id="mind-subtopic-y" class="po-spinner-group-inside mind-subtopic-y" style="display:none;">\n\t\t\t\t\t\t\t<div class="po-margin-progress"></div>\n\t\t\t\t\t\t\t<div class="po-spinner-small"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\x3c!--设置子主题间距--\x3e\n\t\t\t\t\t<div class="topic-margin-content" style="margin-top:20px">\n\t\t\t\t\t\t<div class="mind-subtopic-tit">\n\t\t\t\t\t\t\t<span>').concat(a.default.t("js.Subtopic"),'</span>\n\t\t\t\t\t\t\t<div class="change-margin-layout">\n\t\t\t\t\t\t\t\t<span pos="x" class="selected">').concat(a.default.t("Level"),'</span>\n\t\t\t\t\t\t\t\t<span pos="y">').concat(a.default.t("Vertical"),'</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!--水平间距--\x3e\n\t\t\t\t\t\t<div id="mind-subtopic-children-x" class="po-spinner-group-inside mind-subtopic-x">\n\t\t\t\t\t\t\t<div class="po-margin-progress"></div>\n\t\t\t\t\t\t\t<div class="po-spinner-small"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!--垂直间距--\x3e\n\t\t\t\t\t\t<div id="mind-subtopic-children-y" class="po-spinner-group-inside mind-subtopic-y"  style="display:none;">\n\t\t\t\t\t\t\t<div class="po-margin-progress"></div>\n\t\t\t\t\t\t\t<div class="po-spinner-small"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div  id="one-button-compact" class="po-checkbox-group" style="display: flex;align-items: center;">\n\t\t\t\t\t\t<div class="po-checkbox" ></div><div class="text-overflow" full-title="').concat(a.default.t("One_Click_Compact_Layout"),'">').concat(a.default.t("One_Click_Compact_Layout"),"</div>\n\t\t\t\t\t\t").concat(e,'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="reset-subtopic-margin" class="po-tool-button reset-subtopic-margin">\n\t\t\t\t\t\t<span class="text-overflow" full-title="').concat(a.default.t("Restore_Default"),'">').concat(a.default.t("Restore_Default"),'</span>\n\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n\t\t\t\t\t\t\t<path d="M13.6378 7.99781C13.6378 4.88415 11.1137 2.36003 8.00001 2.36003C6.15283 2.36003 4.51275 3.24821 3.48407 4.62215H4.80626C5.02434 4.62215 5.20112 4.79894 5.20112 5.01701C5.20112 5.23509 5.02434 5.41188 4.80626 5.41188H2.67709C2.45902 5.41188 2.28223 5.23509 2.28223 5.01701V2.88785C2.28223 2.66977 2.45902 2.49299 2.67709 2.49299C2.89517 2.49299 3.07195 2.66977 3.07195 2.88785V3.87126C4.25061 2.46517 6.02069 1.57031 8.00001 1.57031C11.5498 1.57031 14.4275 4.448 14.4275 7.99781C14.4275 11.5476 11.5498 14.4253 8.00001 14.4253C4.4502 14.4253 1.57251 11.5476 1.57251 7.99781C1.57251 7.77974 1.7493 7.60295 1.96737 7.60295C2.18545 7.60295 2.36223 7.77974 2.36223 7.99781C2.36223 11.1115 4.88635 13.6356 8.00001 13.6356C11.1137 13.6356 13.6378 11.1115 13.6378 7.99781Z" fill="#9AA5B8"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>');$("body").append(t)}},initMarginEvent:function(e,t,n){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"right-panel";e||(e=$("#set-topic-margin")),this.pos=o,e.on("mouseup",function(i){if(!n||!1!==n()){i.stopPropagation();var a=$("#mind-set-topic-margin");if(e.addClass("selected"),a.is(":visible"))e.removeClass("selected"),a.hide();else{var r,l=e[0].getBoundingClientRect();a.show(),r="bottom"===t?l.y+l.height+5:l.y-a[0].offsetHeight-5,a.css({top:r,left:l.left+l.width-a.outerWidth()})}a.off("mousedown.set-topic-margin").on("mousedown.set-topic-margin",function(e){e.stopPropagation()}),(0,s.$poCollect)("mind_click",{tit:"set-topic-margin",pos:o}),$(document).off("mousedown.set-topic-margin").on("mousedown.set-topic-margin",function(t){e[0].contains(t.target)||t.target===e[0]||(e.removeClass("selected"),$("#mind-set-topic-margin").hide())}),$("#mind-set-topic-margin").off("mousedown").on("mousedown",function(e){e.stopPropagation()})}});var a=editorGlobal.mindMap.renderer.mindTree,l=(0,r.getDefMargin)(a,editorGlobal.mindMap).min,c=l.marginW,d=l.marginH,u=l.childMarginW,p=l.childMarginH,h=$("#mind-subtopic-x .po-margin-progress"),m=$("#mind-subtopic-x .po-spinner-small");h.progress({min:c,max:200,step:20,onChange:function(e){m.find("input").val(e+"px").blur()}}),m.spinner({min:c,max:200,step:1,unit:"px",width:68,onChange:function(e){editorGlobal.mindMap.execCommand("UPDATE_TOPIC_MARGIN",{marginW:e,layoutMode:null}),h.progress("setValue",e)}});var f=$("#mind-subtopic-y .po-margin-progress"),g=$("#mind-subtopic-y .po-spinner-small");f.progress({min:d,max:200,step:20,onChange:function(e){g.find("input").val(e+"px").blur()}}),g.spinner({min:d,max:200,step:1,unit:"px",width:68,onChange:function(e){editorGlobal.mindMap.execCommand("UPDATE_TOPIC_MARGIN",{marginH:e,layoutMode:null}),f.progress("setValue",e)}});var v=$("#mind-subtopic-children-x .po-margin-progress"),b=$("#mind-subtopic-children-x .po-spinner-small");v.progress({min:u,max:200,step:20,onChange:function(e){b.find("input").val(e+"px").blur()}}),b.spinner({min:u,max:200,step:1,unit:"px",width:68,onChange:function(e){editorGlobal.mindMap.execCommand("UPDATE_TOPIC_MARGIN",{childMarginW:e,layoutMode:null}),v.progress("setValue",e)}});var y=$("#mind-subtopic-children-y .po-margin-progress"),x=$("#mind-subtopic-children-y .po-spinner-small");y.progress({min:p,max:200,step:20,onChange:function(e){x.find("input").val(e+"px").blur()}}),x.spinner({min:p,max:200,step:1,unit:"px",width:68,onChange:function(e){editorGlobal.mindMap.execCommand("UPDATE_TOPIC_MARGIN",{childMarginH:e,layoutMode:null}),y.progress("setValue",e)}}),$(".topic-margin-content .change-margin-layout").on("click","span",function(){"x"===$(this).attr("pos")?$(this).parents(".topic-margin-content").find(".mind-subtopic-x").show().siblings(".mind-subtopic-y").hide():$(this).parents(".topic-margin-content").find(".mind-subtopic-y").show().siblings(".mind-subtopic-x").hide(),$(this).addClass("selected").siblings().removeClass("selected")}),$("#reset-subtopic-margin").off().on("click",function(e){e.stopPropagation(),editorGlobal.mindMap.execCommand("UPDATE_TOPIC_MARGIN"),i.updateTopicMargin(),(0,s.$poCollect)("mind_click",{tit:"reset-subtopic-margin",pos:o})});var w=this;$("#one-button-compact").off("click.check").on("click.check",function(e){e.stopPropagation(),w.updateCompact($(this),o)})},updateCompact:function(e,t){if(l.vipState.test("compact")){var n=!(e=e||$("#one-button-compact")).find(".po-checkbox").hasClass("checked"),i="";n?(i="compact",e.find(".po-checkbox").addClass("checked"),editorGlobal.mindMap.execCommand("UPDATE_TOPIC_MARGIN",{layoutMode:i})):(editorGlobal.mindMap.execCommand("UPDATE_TOPIC_MARGIN"),this.updateTopicMargin(),e.find(".po-checkbox").removeClass("checked")),(0,s.$poCollect)("mind_click",{tit:"one-button-compact",pos:t,"功能选择":n?"使用":"取消"})}else l.vipState.limit({type:"compact",pos:"mind_compact_layout"})},updateTopicMargin:function(){var e=editorGlobal.mindMap.renderer.mindTree.margin,t=editorGlobal.mindMap.renderer.mindTree,n=(0,r.getDefMargin)(t,editorGlobal.mindMap),i=n.compact,o=d(d({},n.fit),e||{}),s=o.marginW,l=o.marginH,c=o.childMarginW,u=o.childMarginH;"compact"===o.layoutMode?(s=i.marginW,l=i.marginH,c=i.childMarginW,u=i.childMarginH,$("#one-button-compact").find(".po-checkbox").addClass("checked"),$(".po-spinner-group-inside").addClass("disabled"),$("#set-topic-margin").children(".text-content").text(a.default.t("Compact_Layout"))):($("#one-button-compact").find(".po-checkbox").removeClass("checked"),$(".po-spinner-group-inside").removeClass("disabled"),$("#set-topic-margin").children(".text-content").text(a.default.t("Custom")));var p=$("#mind-subtopic-x .po-margin-progress"),h=$("#mind-subtopic-x .po-spinner-small");p.progress("setValue",s+"px"),h.spinner("setValue",s+"px");var m=$("#mind-subtopic-y .po-margin-progress"),f=$("#mind-subtopic-y .po-spinner-small");m.progress("setValue",l+"px"),f.spinner("setValue",l+"px");var g=$("#mind-subtopic-children-x .po-margin-progress"),v=$("#mind-subtopic-children-x .po-spinner-small");g.progress("setValue",c+"px"),v.spinner("setValue",c+"px");var b=$("#mind-subtopic-children-y .po-margin-progress"),y=$("#mind-subtopic-children-y .po-spinner-small");b.progress("setValue",u+"px"),y.spinner("setValue",u+"px")}};t.default=u},47675:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.tagsUI=void 0,n(61894),n(96909),n(5682),n(47958),n(69268),n(86837);var o=n(47306),a=n(15240),r=i(n(32483));t.tagsUI={myTags:[],tagDom:null,init:function(e){var t=this;editorGlobal.mindMap.on("renderMyTag",this.renderMindTags),editorGlobal.mindMap.on("renderRecentTags",this.renderRecentTags),editorGlobal.mindMap.on("renderCurTags",this.renderCurTags),editorGlobal.mindMap.on("showTagsBox",this.showTagsBox.bind(this)),editorGlobal.mindMap.on("topic_selected",function(e,n){t.renderCurTags(n)}),this.renderOptsPanel(e),this.renderRecentTags(),this.initTagsEvent(),editorGlobal.mindMap.on("readonly_change",function(t){t.hasOwnProperty("tag")&&(t.tag?$(e).find("[tit='tag'] .con").removeClass("mind-disable"):$(e).find("[tit='tag'] .con").addClass("mind-disable"))}),editorGlobal.mindMap.on("view_data_change_real_time",this.closeTagsBox)},renderOptsPanel:function(e){if(e){var t=editorGlobal.mindMap.opt.readonlyList.tag?"":"mind-disable";if(0==e.find("#mind-right-detail-tags").length){var n='<div tit="tag" class="mind-corner-right-item">\n                <div class="title">'.concat(r.default.t("Label"),'</div>\n                <div class="con ').concat(t,'">\n                    <div id="mind-right-detail-tags" class="mind-right-detail-tags mind-topic-box">\n                        <div class="mind-tags-curr">\n                            <div class="container title">').concat(r.default.t("Current_TAB"),'</div>\n                            <div id="mind-tags-curr-list" style="margin-top:9px"></div>\n                        </div>\n                        <div class="container title">').concat(r.default.t("New_Label"),'</div>\n                        <div class="container">\n                            <div id="tag-fill-color-btn" class="tag-fill-color-btn"><span class="tag-fill-color"></span></div>\n                            <input id="mind-topic-tag" class="po-input-other-small mind-topic-tag" autocomplete="off" style="flex:1" placeholder="').concat(r.default.t("No_more_than_20_words"),'" type="text">\n                        </div>\n                        <span class="error-tip">').concat(r.default.t("Labels_should_not_exceed_20_words"),'</span>\n                        <div class="mind-tags-default">\n                            <div style="color:#6C7D8F;font-size:12px;padding:22px 0 14px 0">').concat(r.default.t("Recent_Tags"),'</div>\n                            <div id="mind-tags-recent"></div>\n                        </div>\n                        <div class="mind-tags-con">\n                            <div style="color:#6C7D8F;font-size:12px;padding:14px 0 14px 0">').concat(r.default.t("My_label"),'</div>\n                            <div id="mind-tags" class="mind-tags"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>');e.append($(n))}}},initTagsEvent:function(){var e=this,t=this,n=!1;$(document).off("mousedown.tag").on("mousedown.tag",".mind-tags-curr .tags, .mind-tags-default .tags",function(e){n=!0;var i=e.pageX,o=e.pageY,r=$(this),s=null,l=editorGlobal.mindMap.renderer.selectedTopicList,c=-2,d=[],u=!1,p=null,h=-2;if(r.parent().parent().hasClass("mind-tags-curr")&&1==l.length){c=r.index(),u=!0;var m=[];r.addClass("tag-drag");var f=r.siblings(".tags"),g=l[0];d=(0,a.deepClone)(g.getData("tags")),p=d.splice(c,1)[0];for(var v=0;v<f.length;v++){var b=$(f[v]),y=b.offset();m.push({x:y.left,y:y.top,h:b.outerHeight(),w:b.outerWidth()})}}var x=$("#mind-tags"),w=x.offset().left,k=x.offset().top,_=x.height();t.tagDom=r,$(document).off("mousemove.tag").on("mousemove.tag",function(e){if(n){var t=e.pageX,a=e.pageY,l=t-i,c=a-o,d=Math.abs(l),p=Math.abs(c);if((d>8||p>8)&&(null==s&&(s=r.clone(!1).appendTo("body").addClass("tag-moving")).find(".po-diagraming-icons").remove(),s.css({left:t-s.width()/2,top:a-s.height()/2}),x.removeClass("on"),t>=w&&t<=w+214&&a>=k&&a<=k+_&&x.addClass("on")),u&&void 0!==m&&m.length>0){var f=$(".mind-tags-curr"),g=f.offset(),v=f.outerHeight(),b=f.outerWidth();if(t>g.left&&a>g.top&&t<g.left+b&&a<g.top+v){var y=$(".tag-draw");h=-2;var C="right";y.length||(y=$("<div class='tag-draw'></div>").appendTo("body"));for(var T=0;T<m.length;T++){var S=m[T];a>S.y&&a<S.y+S.h&&t>S.x&&(h=t>S.x+S.w/2?T:T-1,C=t>S.x+S.w/2?"right":"left")}if(h>-2){var M="left"==C?m[h+1]:m[h];M&&y.css({left:"left"==C?M.x-5:M.x+M.w+3,top:M.y+(M.h-y.outerHeight())/2})}}else $(".tag-draw").remove()}e.preventDefault()}}),$(document).off("mouseup.tag").on("mouseup.tag",function(){if(n=!1,null!=s&&s.remove(),x.hasClass("on")){var e=t.getTagInfoFromDom(t.tagDom);t.addToTags(e),$("#mind-tags").removeClass("on")}else if(u&&1==l.length&&(r.removeClass("tag-drag"),h>-2&&c>-2&&h!=c-1&&p)){var i=l[0],o=i.getPureData();d.splice(h+1,0,p),i.topicData.tags=d,editorGlobal.mindMap.execCommand("UPDATE_TOPIC_NODE",[i],[o],"tag"),t.renderCurTags()}$(".tag-draw").length&&$(".tag-draw").remove(),$(document).off("mouseup.tag"),$(document).off("mousemove.tag")}),e.stopPropagation(),e.preventDefault()}),$("#mind-right-detail-tags").off("click.tagclick").on("click.tagclick","#mind-tags .tags, #mind-tags-recent .tags",function(e){delete t.tagDom;var n=$(this),i=n.children("span:eq(0)").text(),o=n.css("background-color"),a=n.css("color");t.saveTag(editorGlobal.mindMap.renderer.selectedTopicList,{text:i,background:o,color:a}),e.stopPropagation()}),$("#tag-fill-color-btn").off().on("mousedown",function(e){e.stopPropagation(),e.preventDefault()}).on("click",function(e){e.stopPropagation(),0==$(".tag-fill-color-con").length&&($(".mind-right-con").append('<div class="tag-fill-color-con">'+t.renderColors($(".tag-fill-color").css("background-color"))+"</div>"),$(".tag-fill-color-con").css({top:$(this).offset().top-60+"px"}),t.newTagColorEvent())}),$(".tag-fill-color-con").on("click",function(e){e.stopPropagation()}),$(document).off("mouseup.color").on("mouseup.color",function(e){e.stopPropagation(),$(".tag-fill-color-con").remove()}),$("#mind-right-detail-tags").off("click.tagedit").on("click.tagedit",".po-diagraming-icons",function(e){var n=$(this).parent();t.tagDom=n;var i=n.parent().attr("id");t.showTagsBox(n,void 0,void 0,i),n.addClass("active").siblings().removeClass("active"),e.stopPropagation()}),$(document).off("blur.taginput"),$(document).off("focus.taginput"),$(document).off("input.taginput"),$(document).off("keyup.taginput").on("focus","#mind-topic-tag",function(){e.editSourceTagDom=e.getTagDom()}).on("blur",".mind-topic-tag",function(){var e=$(this);t.inputSearch(e)}).on("input",".mind-topic-tag",function(){var e=$(this),t=null;t=e.parent().hasClass("mind-tags-box")?e.next():e.parents(".mind-topic-box").find(".error-tip"),(0,a.getStringLength)(e.val())>40?(e.addClass("error"),t.show()):(e.removeClass("error"),t.hide())}).on("keyup",".mind-topic-tag",function(e){var n=$(this);13==e.keyCode&&(t.inputSearch(n),n.focus())}).on("keydown",".mind-topic-tag",function(e){e.stopPropagation()})},saveTag:function(e,t,n,i){if(!(0,a.shallowEqual)(t,i||{})){n&&this.setToLocal(t),editorGlobal.mindMap.tags.setTags(e,t,i);var o=this.getTagSourceByDom(this.tagDom);this.renderMindTags(),this.renderRecentTags(),$("#mind-topic-tag").val(""),this.renderCurTags(e),this.selectTag(t.text,o)}},inputSearch:function(e){var t,n=this,i=e.parent().attr("data-topicId"),o=i?[editorGlobal.mindMap.renderer.getCacheTopic(i)]:editorGlobal.mindMap.renderer.selectedTopicList;if(0!=o.length&&e){var r=null,s=this.getInputType(e);this.hideTagErrorDom(e,s);var l=e.val();l=$.trim((0,a.htmlEncode)(l));var c=this.editSourceTagDom||this.tagDom;if("edit"==s&&(r=this.getTagInfoFromDom(c)),""!=l&&l!==(null===(t=r)||void 0===t?void 0:t.text))if("topic"!=this.getTagSourceByDom(c)&&c&&c.parents("#mind-tags").length>0){var d=c.index(),u={background:c.css("background-color"),color:c.css("color"),text:l},p=this.checkTagExists(l,u.background);if("exit"==p)return;if(null==p){n.myTags.splice(d,1,JSON.stringify(u));var h=this.getTagSourceByDom(this.tagDom);n.saveMindConfig(void 0,function(){n.selectTag(l,h)})}}else{var m={};"new"==s?(this.tagDom=null,m=this.getStyleByTagFillColor()):m=this.getTagInfoFromDom(c),this.saveTag(o,{text:l,background:m.background,color:m.color},!0,r)}}},getInputType:function(e){var t="new";return e&&e.parent().hasClass("mind-tags-box")&&(t="edit"),t},hideTagErrorDom:function(e,t){var n=null;n="edit"==t?e.next():e.parents(".mind-topic-box").find(".error-tip"),e.removeClass("error"),n.hide()},getStyleByTagDom:function(e){var t={};return e&&(t.background=e.css("background-color"),t.color=e.css("color")),t},getStyleByTagFillColor:function(){var e=$(".tag-fill-color").css("background-color"),t="#fff",n=(0,a.getRgbFromHex)(e);return n&&.299*n.r+.578*n.g+.114*n.b>=192&&(t="#333"),"#d6f0f8"==e&&(t="#276F86"),{background:e,color:t}},setTagColor:function(e){var t=this;(0,a.selColor)(e,function(n){if(1!=e.parents(".tag-fill-color-con").length){var i,o=t.getTagDom(),r={};r=t.getTagInfoFromDom(o),i=(0,a.deepClone)(r);var s=t.getagColorByBgcolor(n),l=t.getTagSourceByDom(o),c=editorGlobal.mindMap.renderer.selectedTopicList;if(r.background=n,r.color=s,"curTag"==l)return o.css({background:n,color:s}),void editorGlobal.mindMap.tags.setTags(c,r,i);if("myTag"!=l)"topic"==l&&(editorGlobal.mindMap.tags.setTags(c,r,i),t.renderCurTags());else{var d=t.checkTagExists(r.text,r.background);t.myTags.splice(d,1,JSON.stringify(r));var u=t.getTagSourceByDom(t.tagDom);t.saveMindConfig(void 0,function(){t.selectTag(r.text,u)})}}else $(".tag-fill-color").css("background",n)})},getagColorByBgcolor:function(e){var t="#333";null!=e&&e.indexOf("rgb")>=0&&(e="#"+o.Util.getHexColor(e).hex);var n=(0,a.getRgbFromHex)(e);return t=n&&.299*n.r+.578*n.g+.114*n.b>=192?"#333":"#fff","#d6f0f8"==e&&(t="#276F86"),t},renderMindTags:function(e){if(!1!==editorGlobal.config.mindTags){if(e||(e=this.myTags),e.length>0){for(var t="",n=null,i=0;i<e.length;i++)"string"==typeof(n=e[i])&&(n=JSON.parse(n)),t+='<span class="tags" data-tag="'.concat(i,'" style="background:')+n.background+";color:"+n.color+';"><span class="mind-tags-text">'+n.text+'</span><span class="po-diagraming-icons">&#xe6ae;</span></span>';$("#mind-tags").html(t).removeAttr("style")}else $("#mind-tags").html('<div style="color: #9AA5B8;font-size:12px;line-height:80px;text-align:center">'+r.default.t("js.Drag_or_add_a_label_here")+"</div>").css("border"," 1px solid #E5E5E5");this.myTags=e}else injectExtraAsynCall("hideMyTagOptDom",{},function(e){e||$("#mind-tags").parent(".mind-tags-con").remove()})},renderRecentTags:function(){var e=localStorage.getItem("recentTags");if(null!=e&&""!=e&&"[]"!=e){for(var t=JSON.parse(e),n="",i=0;i<t.length;i++){var o={};t[i].text?o=t[i]:(o.color="#276F86",o.background="#d6f0f8",o.text=t[i]),n+='<span class="tags" data-tag="'.concat(i,'" style="background:')+o.background+";color:"+o.color+';"><span class="mind-tags-text">'+o.text+'</span><span class="po-diagraming-icons">&#xe6ae;</span></span>'}$("#mind-tags-recent").html(n)}else $("#mind-tags-recent").html('<div style="color:#9AA5B8;font-size:12px;margin-bottom:8px">'+r.default.t("js.No_recently_added_labels")+"</div>")},setToLocal:function(e){var t=localStorage.getItem("recentTags"),n=(0,a.subStringSlice)((0,a.htmlEncode)(e.text),0,40);if(e.text=n,null!=t){for(var i=JSON.parse(t),o=0;o<i.length;o++){var r=i[o];if(r.text==n||r==n){var s=o;break}}null==s?(i.length>9&&i.splice(-1,1),i.unshift(e)):(i[s]={},i[s].background=e.background,i[s].color=e.color,i[s].text=e.text),localStorage.setItem("recentTags",JSON.stringify(i)),this.renderRecentTags()}else localStorage.setItem("recentTags","[]"),this.setToLocal(e)},removeLocal:function(e){e=(0,a.htmlEncode)(e);var t=localStorage.getItem("recentTags");if(null!=t)for(var n=JSON.parse(t),i=0;i<n.length;i++)n[i].text!=e&&n[i]!=e||(n.splice(i,1),localStorage.setItem("recentTags",JSON.stringify(n)),this.renderRecentTags())},renderCurTags:function(e){var t=e||editorGlobal.mindMap.renderer.selectedTopicList;if(0!=t.length){for(var n,i=$("#mind-right-detail-tags").children(".mind-tags-curr"),o=[],a=[],s=0,l=t.length;s<l;s++){var c=t[s].getData("tags");if(null!=c&&c.length>0)for(var d=0;d<c.length;d++)n=c[d],a.indexOf(n.text)<0&&(a.push(n.text),o.push(n))}if(null!=o&&o.length>0){for(var u=[],p=0;p<o.length;p++){var h=o[p],m="";0==p&&(m=" active"),u.push("<span data-tag=".concat(p," class='tags")+m+"' style='background:"+h.background+";color:"+h.color+";'><span class='mind-tags-text'>"+h.text+"</span><span class='po-diagraming-icons'>&#xe6ae;</span></span>")}i.children().eq(1).html(u.join(""))}else i.children().eq(1).html("<span style='font-size:12px;color:#9AA5B8;'>"+r.default.t("js.There_is_no_label_yet")+"</span>")}},addToTags:function(e){if(e){e.text=(0,a.htmlEncode)(e.text);var t=this.checkTagExists(e.text,e.background);"exit"!=t&&(this.myTags.length>=15?$.toast({type:"warning",text:r.default.t("js.Need_to_add_new_labels")}):((null==this.myTags||$.isEmptyObject(this.myTags))&&(this.myTags=[]),t>=0?this.myTags.splice(t,1,JSON.stringify(e)):this.myTags.push(JSON.stringify(e)),this.saveMindConfig()))}},saveMindConfig:function(e,t){var n=this,i={mindConfig:JSON.stringify({tags:n.myTags})};injectExtraAsynCall("onServerApi",{apiName:"saveMindMyTags",params:i},function(o){"error"!==o&&("del"!=e&&$.toast({type:"success",text:r.default.t("js.Add_success")}),o&&"{}"!=JSON.stringify(o)||(o=i),o.mindConfig&&(o.mindConfig=JSON.parse(o.mindConfig)),n.myTags=o.mindConfig.tags,n.renderMindTags(n.myTags),null==t||t())})},checkTagExists:function(e,t){var n,i,o=this.myTags;t&&t.indexOf("rgb")>=0&&(t="#"+(0,a.getHexColor)(t).hex);for(var s=0;s<o.length;s++)if(n=JSON.parse(o[s]),$.trim(n.text)==$.trim(e)){i=s;var l=n.background;l.indexOf("rgb")>=0&&(l="#"+(0,a.getHexColor)(l).hex),t&&l==t&&($.toast({type:"warning",text:r.default.t("js.Tag_already_exists")}),i="exit");break}return i},checkExists:function(e,t){var n=null;if(null!=e&&e.length>0)for(var i=0;i<e.length;i++)if(e[i].text==t){n=i;break}return n},showTagsBox:function(e,t,n,i){if(editorGlobal.mindMap.opt.readonlyList.tag&&e){this.tagDom=e,this.tagDomIndex=$(e).attr("data-tag"),this.tagDomParentId=i,t||(t=this.getTagInfoFromDom(e));var o=this.renderTagsBox(e,t,n),a=$(o);a.appendTo("body"),$.fn.showPanel({target:this.getTagDom(),panel:a});var r=this.getTagSourceByDom(e);"topic"!==r&&this.selectTag(e.text(),r),this.initTagsBoxEvent()}},closeTagsBox:function(){$("#mind-tags-box").length>0&&$("#mind-tags-box").remove()},renderTagsBox:function(e,t,n){$("#mind-tags-box").length>0&&$("#mind-tags-box").remove();var i=this.getTagSourceByDom(e),o='<div id="mind-tags-box" '.concat(n?"data-topicId=".concat(n||""):"",' class="mind-tags-box po-dropdown">'),a=this.renderColors(t.background),s="";return"myTag"!=i&&(s='<span class="add-to-tag">'+r.default.t("js.Add_to_my_tags")+"</span>"),"recentTag"!=i&&(o+='<input id="mind-topic-tag" class="mind-topic-tag po-input-other" type="text"  autocomplete="off" placeholder="'.concat(r.default.t("Character_Limit"),"20").concat(r.default.t("Chinese_Count"),"，").concat(r.default.t("Enter_Add"),'" value="')+t.text+'"><span class="error-tip">'.concat(r.default.t("Tag_Character_Limit"),"20").concat(r.default.t("Chinese_Count"),"</span>")+a),o+"<div>"+("v1"===editorGlobal.config.uiType?"":s)+'<span class="del-tag">'+r.default.t("js.Remove_this_tag")+"</span></div>"},getTagDom:function(){var e;if(!this.tagDom)return this.tagDom;var t=$("#".concat(this.tagDomParentId)).find('[data-tag="'.concat(this.tagDomIndex,'"]')).first();return"g"===(null===(e=t[0])||void 0===e?void 0:e.tagName.toLowerCase())?t[0]:t},initTagsBoxEvent:function(){var e=$("#mind-tags-box"),t=this;e.off("click.deltag").on("click.deltag",".del-tag",function(e){e.stopPropagation();var n=t.getTagDom(),i=t.getTagSourceByDom(n);$("#mind-tags-box").remove();var o=$.trim(t.getTagInfoFromDom(n).text),r=editorGlobal.mindMap.renderer.selectedTopicList;if("curTag"==i)return n.remove(),void editorGlobal.mindMap.tags.removeTag(r,o);if("recentTag"!=i){if("myTag"==i){o=(0,a.htmlEncode)(o);var s=t.checkTagExists(o);return s>=0&&(t.myTags.splice(s,1),delete t.tagDom),void t.saveMindConfig("del")}delete t.tagDom,"topic"==i&&(editorGlobal.mindMap.tags.removeTag(r,o),t.renderCurTags())}else t.removeLocal(o)}),e.off("click.tagcolors").on("click.tagcolors",".mind-box-color>span",function(e){e.stopPropagation();var n=$(this);n.hasClass("selected")||(n.addClass("selected").siblings(".selected").removeClass("selected"),t.setTagColor(n))}),e.off("click.addMyTag").on("click.addMyTag",".add-to-tag",function(){var e=t.getTagDom(),n=t.getTagInfoFromDom(e);t.addToTags(n)})},renderColors:function(e){var t=injectExtraAsynCall("mindTagColors");t&&0!==t.length||(t=["#e75e5b","#e78f49","#5ab7af","#52aaee","#6e4dbe","#d6f0f8"]);var n="<div class='mind-box-color'>";e?e.indexOf("rgb")>=0&&(e=(0,a.getHexColor)(e).hex):e="d6f0f8","#"==e[0]&&(e=e.substring(1)),e=e.toLowerCase();for(var i=0,o=t.length;i<o;i++){var r=t[i].toLowerCase(),s="",l="#fff;";"#d6f0f8"==r&&(l="#276F86"),"#"+e==r&&(s="selected"),n+="<span class='default-color "+s+"' style='background:"+r+";color:"+l+";'></span>"}return(n+='<span  class="mind-color-box po-tool-button"><label class="po-diagraming-icons">&#xe6df;</label><span class="po-tool-button-color" style="background-color:#'+e+'"></span></span>')+"</div>"},newTagColorEvent:function(){var e=this;$(".tag-fill-color-con").off("mousedown.colors").on("mousedown.colors",".mind-box-color>span",function(t){t.stopPropagation();var n=$(this);n.hasClass("selected")||(n.addClass("selected").siblings().removeClass("selected"),e.setTagColor(n))}).off("mouseup.colors").on("mouseup.colors",".tag-fill-color-con .mind-box-color>span",function(e){e.stopPropagation()})},getTagInfoFromDom:function(e){var t=null;if(e instanceof jQuery)t=this.getTagInfoFromJqDom(e);else{if("G"==e.tagName.toUpperCase()){var n=e.getAttribute("data-topicId"),i=e.getAttribute("data-index");return editorGlobal.mindMap.renderer.getTopicById(n).tags[i]}e=$(e),t=this.getTagInfoFromJqDom(e)}return t},getTagInfoFromSvgDom:function(e){if(e){var t=e.querySelector("rect"),n=e.querySelector("text"),i=t.getAttribute("fill"),o=n.getAttribute("fill");return{text:n.querySelector("tspan").textContent.trim(),background:i,color:o}}},getTagInfoFromJqDom:function(e){var t=e.text();return e.children(".po-diagraming-icons").length>0&&(t=e.find("span:eq(0)").text()),{text:t,background:e.css("background-color"),color:e.css("color")}},getTagSourceByDom:function(e){var t="topic";return e?(e instanceof jQuery?t=this.getTagSourceByJqDom(e):"G"!=e.tagName.toUpperCase()&&(e=$(e),t=this.getTagSourceByJqDom(e)),t):t},getTagSourceByJqDom:function(e){var t="";return e.parents("#mind-tags").length>0&&(t="myTag"),e.parents("#mind-tags-recent").length>0&&(t="recentTag"),e.parents(".mind-tags-curr").length>0&&(t="curTag"),t},selectTag:function(e,t){var n=this,i="myTag"===t?$("#mind-tags"):$(".mind-tags-curr");i.find(".active").removeClass("active"),i.find(".tags").each(function(t,i){var o=$(i);o.children().eq(0).text()==e&&(o.addClass("active"),n.tagDom=o)})}}},59745:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.taskUI=void 0,n(47958),n(69268),n(86837);var o=i(n(32483)),a=n(83316);t.taskUI={init:function(e){this.renderPanel(e),this.eventinit(),editorGlobal.mindMap.emit("renderIconsList",$(".mind-right-detail-icons")),editorGlobal.mindMap.on("topic_selected",this.topicTaskEcho.bind(this)),editorGlobal.mindMap.on("readonly_change",function(t){t.hasOwnProperty("task")&&(t.icon?$(e).find("div[tit='task'] .con").removeClass("mind-disable"):$(e).find("div[tit='task'] .con").addClass("mind-disable"))})},renderPanel:function(e){var t=editorGlobal.mindMap.opt.readonlyList.task?"":"mind-disable",n='\n        <div tit="task">\n            <div class="title">'.concat(o.default.t("Mission"),'</div>\n            <div class="con ').concat(t,'">\n                <div class="container title">\n                    <span>').concat(o.default.t("Mission_Information"),'</span><span id="remove_task" style="font-size:12px">').concat(o.default.t("Delete_task"),'</span>\n                </div>\n                <div class="container">\n                    <span class="po-select-lable">').concat(o.default.t("Priority"),'</span>\n                    <div id="mind-task-priority" class="po-tool-select-button mind-task-priority"> \n                        <span class="text-content">').concat(o.default.t("None"),'</span>\n                    </div>\n                </div>\n                <div class="container">\n                    <span class="po-select-lable">').concat(o.default.t("Complete_progress"),'</span>\n                    <div id="mind-task-completion" class="po-tool-select-button mind-task-completion"> \n                        <span class="text-content">').concat(o.default.t("None"),'</span>\n                    </div>\n                </div>\n                <div class="container">\n                    <span class="po-select-lable">').concat(o.default.t("Start_time"),'</span>\n                    <div id="mind-task-start" class="po-tool-select-button mind-date-select mind-task-start"> \n                        <span class="text-content">').concat(o.default.t("None"),'</span>\n                    </div>\n                </div>\n                <div class="container">\n                    <span class="po-select-lable">').concat(o.default.t("Deadline"),'</span>\n                    <div id="mind-task-end" class="po-tool-select-button mind-date-select mind-task-end"> \n                        <span class="text-content">').concat(o.default.t("None"),'</span>\n                    </div>\n                </div>\n                <div class="container">\n                    <span class="po-select-lable">').concat(o.default.t("In_charge"),'</span>\n                    <input id="mind-task-assigned" class="po-input-other-small mind-task-assigned" placeholder="').concat(o.default.t("Enter_add"),'" type="text">\n                </div>\n            </div>\n        </div>\n        ');e&&(e.children('div[tit="task"]').length>0&&e.children('div[tit="task"]').remove(),$(e).append(n))},eventinit:function(){$("#remove_task").off().on("click",function(e){editorGlobal.mindMap.emit("removeTask"),$("#mind-task-assigned").val(""),$(".mind-right-con [tit=task]").find(".text-content").text(o.default.t("js.None")),e.stopPropagation()}),$("#mind-task-priority").button({onClick:function(e,t){$("#mind-icons-priority-list").dropdown({target:t,zindex:3,position:"right",onSelect:function(e){var n=e.clone(),i=n.find("span:eq(1)").text(),o=n.attr("priority"),r=e.find(".expression-icons").css("color"),s=n.find(".expression-icons");null==o?editorGlobal.mindMap.emit("removeIcon","priority"):editorGlobal.mindMap.emit("setIcon",s,{priority:o},r),t.button("setText",i),t.attr("priority",o),n.remove(),(0,a.$poCollect)("task_function")}})}}),$("#mind-task-completion").button({onClick:function(e,t){$("#mind-icons-completion-list").dropdown({target:t,zindex:3,onSelect:function(e){var n=e.clone(),i=n.find("span:eq(1)").text(),o=n.attr("completion"),r=e.find(".expression-icons").css("color"),s=n.find(".expression-icons");null==o?editorGlobal.mindMap.emit("removeIcon","completion"):editorGlobal.mindMap.emit("setIcon",s,{completion:o},r),t.button("setText",i),t.attr("completion",o),n.remove(),(0,a.$poCollect)("task_function")}})}}),$(".mind-task-start").on("click",function(e){$(".calendar").hide();var t=$(this);t.datePicker({dateFormat:"yyyy-MM-dd",selected:function(e){var n=t.parent().next().find(".mind-task-end").find("span:first").text();n!=o.default.t("js.None")&&new Date(n)<new Date(e)&&(e=n),t.find("span").text(e),editorGlobal.mindMap.emit("setTask",{start:e})}}),e.stopPropagation()}),$(".mind-task-end").off("click").on("click",function(e){$(".calendar").hide();var t=$(this);t.datePicker({dateFormat:"yyyy-MM-dd",selected:function(e){var n=t.parent().prev().find(".mind-task-start").find("span:first").text();if(n!=o.default.t("js.None")){var i=new Date(n);new Date(e)<i&&(e=n)}t.find("span").text(e),editorGlobal.mindMap.emit("setTask",{end:e})}}),e.stopPropagation()});var e=null;$(".mind-task-assigned").off().on("blur",function(t){var n=$(this),i=$.trim(n.val());""!=i&&i.length<20?editorGlobal.mindMap.emit("setTask",{assigned:i},e):""==i&&editorGlobal.mindMap.emit("setTask",{assigned:null},e),t.stopPropagation()}).on("keyup",function(e){13==e.keyCode&&$(".mind-task-assigned").trigger("blur")}).off("focus").on("focus",function(){var t=editorGlobal.mindMap.renderer.getSelectedTopic();e=t?t.id:null})},topicTaskEcho:function(e,t){if(1==t.length){var n=t[0].getData("task");if(n){var i,a=$("#mind-icons-priority-list"),r=$("#mind-icons-completion-list"),s=null===(i=a.find("li[priority="+n.priority+"] span:not(.expression-icons)").first())||void 0===i?void 0:i.clone(),l=r.find("li[completion="+n.completion+"] span:not(.expression-icons)").clone(),c=s.text(),d=l.text();""!=c?$("#mind-task-priority").children("span").text(c):$("#mind-task-priority").children("span").text(o.default.t("js.None")),""!=d?$("#mind-task-completion").children("span").text(d):$("#mind-task-completion").children("span").text(o.default.t("js.None")),$(".mind-task-start").children("span").text(n.start||o.default.t("js.None")),$(".mind-task-end").children("span").text(n.end||o.default.t("js.None")),$(".mind-task-assigned").val(n.assigned)}else $("#mind-task-priority").children("span").text(o.default.t("js.None")),$("#mind-task-completion").children("span").text(o.default.t("js.None")),$(".mind-task-start").children("span").text(o.default.t("js.None")),$(".mind-task-end").children("span").text(o.default.t("js.None")),$(".mind-task-assigned").val("")}}}},85254:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.customMindmapView=void 0,n(5682),n(4790),n(27251),n(5263);var o=i(n(49853)),a=n(39646),r=i(n(32483));t.customMindmapView={currDef:{customise:{children:[{children:[{children:[{children:[],title:"Sub Topic"},{children:[],title:"Sub Topic"}],title:"Sub Topic"},{children:[],title:"Sub Topic"}],title:"Main Topic"},{children:[{children:[{children:[],title:"Sub Topic"},{children:[],title:"Sub Topic"}],title:"Sub Topic"},{children:[],title:"Sub Topic"}],title:"Main Topic"}],structure:"mind_right",freeChildren:[],data:{"right-content-index":2},root:!0,title:"Central"},themeView:{id:"root",title:r.default.t("js.Central_Theme"),leftChildren:[{id:"bb06f4a9d170",title:r.default.t("js.Subtopics"),parent:"root",children:[]},{id:"240b4599dbac",title:r.default.t("js.Subtopics"),parent:"root",children:[]},{id:"bd6966cae428",title:r.default.t("js.Subtopics"),parent:"root",children:[]}],structure:"mind_free",root:!0,theme:"default",freeChildren:[],boundaries:[{id:"db5f0366cdc4",title:r.default.t("js.Outer_frame"),range:"2,2",style:{lineType:"1",dasharray:"6,3",opacity:"0.1",lineWidth:"2"},parent:"root",children:[],part:"right",boundary:!0}],children:[{id:"e7c985ce3ef9",title:r.default.t("js.Subtopics"),parent:"root",children:[]},{id:"c17212bc84f2",title:r.default.t("js.Subtopics"),parent:"root",children:[]},{id:"68e3bcbe95df",title:r.default.t("js.Subtopics"),parent:"root",children:[{id:"73ec47757471",title:r.default.t("js.Subtopic"),parent:"68e3bcbe95df",children:[]},{id:"dfbc01834d86",title:r.default.t("js.Subtopic"),parent:"68e3bcbe95df",children:[]}]}],summaries:[{summary:!0,id:"2ec0ca8beb0a",title:r.default.t("js.Summary"),range:"0,1",style:{lineType:"curve_complex",lineColor:"#bf1e1b",lineWidth:"1"},parent:"root",children:[],part:"left"}],lines:{d5d2857b3bfc:{id:"d5d2857b3bfc",to:"e7c985ce3ef9",realStart:{y:9906,x:9854.2},start:{index:2,y:"0.0",x:"0.8"},styles:{lineType:"dashed",lineColor:"rgb(113, 203, 45)",color:"#ffffff",lineWidth:2},realEnd:{y:9889,x:10155.2},from:"bb06f4a9d170",points:[{y:9808,x:9976.5},{y:9852,x:10115}],end:{index:1,y:"0.0",x:"0.3"},angle:225.2417529092681,pts:[{y:-120.5,x:150.5},{y:-59.5,x:-59}]}}}},createMind:function(e,t,n){this.customMindmap||(this.customMindmap=new a.MindMap({el:n,readonly:!0,fillTheCanvasData:{paddingX:20,paddingY:20,scale:!1},partialLoad:!1,neverShowExpandBtn:!0,onlyThumbnail:!0}));var i=this.currDef[t];i.theme=e,this.customMindmap.setFullData(i),i.theme.version=this.customMindmap.opt.version,"customise"==t?$(".mind-container").css({height:"100%",border:"none"}):"themeView"==t&&$(".mind-container").css({height:"246px"})},getcustomDef:function(e,t){t&&t(this.currDef[e])},createBase64:function(e,t,n){var i,o={def:this.currDef[t],theme:e};null===(i=window.parent)||void 0===i||i.injectExtraAsynCall("onServerApi",{apiName:"mindThemeImage",params:{def:JSON.stringify(o)}},function(e){var t=null;null!=e&&(t=e),n&&n(t)})},initEvent:function(e){var t="centerTopic";$(document).off().on("mousedown",".topic-box",function(n){n.stopPropagation();var i=$(this).attr("sub"),o=$(this).attr("id");t="root"==o?"centerTopic":i?"secTopic":"childTopic",e&&e(t)})},customToImg:function(){var e=this;return C(k().mark(function t(){var n;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return 0==$("#custom_svg_exporter").length&&$('<div id="custom_svg_exporter" style="display:none;position:fixed;z-index:-10;"></div>').appendTo("body"),t.next=3,e.customMindmap.poExport.getSvgData();case 3:return n=t.sent,t.next=6,o.default.drawCanvas(n,1,"png");case 6:return t.abrupt("return",t.sent.canvas);case 7:case"end":return t.stop()}},t)}))()}}},97128:function(e,t,n){n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.setThemeUI=void 0;var o=i(n(66603));n(27531),n(61894),n(5682),n(4790),n(82403),n(12638),n(38887),n(69268),n(86837),n(84889),n(14237);var a=i(n(32483));n(75576);var s=n(64458),l=n(80214),c=n(54690),d=n(83316),u=n(62937);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=["mindmap_draw_all-border","org_vertical-text","org_multistage","fishbone_fish_fill","fishbone_fish_border","mobi-right-tree","timeline_big-circle","brace_big-circle"],f={mindmap:[{name:a.default.t("Both_Sides"),d:"mind_free"},{name:a.default.t("Right_Direction"),d:"mind_right"},{name:a.default.t("Left_Direction"),d:"mind_left"}],logic:[{name:a.default.t("Right_Direction"),d:"mind_logic_right"},{name:a.default.t("Left_Direction"),d:"mind_logic_left"}],org:[],tree_org:[],fishbone:[{name:a.default.t("Fish_Head_Left"),d:"mind_ishikawa_left"},{name:a.default.t("Fish_Head_Right"),d:"mind_ishikawa_right"}],timeline:[{name:a.default.t("Both_Sides"),d:"mind_timeline_h"},{name:a.default.t("Up_Direction"),d:"mind_timeline_h_up"},{name:a.default.t("Down_Direction"),d:"mind_timeline_h_down"}],tree:[{name:a.default.t("Both_Sides"),d:"mind_tree_free"},{name:a.default.t("Right_Direction"),d:"mind_tree_right"},{name:a.default.t("Left_Direction"),d:"mind_tree_left"}],brace:[{name:a.default.t("Right_Direction"),d:"mind_brace_right"},{name:a.default.t("Left_Direction"),d:"mind_brace_left"}],mobi_tree:[{name:a.default.t("Right_Direction"),d:"mind_tree_right_mobi"},{name:a.default.t("Left_Direction"),d:"mind_tree_left_mobi"}]},g=t.setThemeUI={init:function(e){this.rootDom=$(e),this.renderPanel(e),this.initEvent(),editorGlobal.mindMap.on("curLayoutEcho",this.curLayoutEcho.bind(this)),editorGlobal.mindMap.on("curColorCardEcho",this.curColorCardEcho.bind(this)),editorGlobal.mindMap.on("curThemeEcho",this.curThemeEcho.bind(this)),editorGlobal.mindMap.on("recordThemeDom",function(e){g.themeDom=e}),editorGlobal.mindMap.on("themePageInit",this.themePageInit.bind(this)),editorGlobal.mindMap.on("topic_mousedown",this.hideList.bind(this)),editorGlobal.mindMap.on("showThemeOperate",s.themeCustomise.showThemeOperate),editorGlobal.mindMap.on("readonly_change",function(t){t.hasOwnProperty("theme")&&(t.theme?($(e).find("[tit='themes'] .con").removeClass("mind-disable"),$(e).find("#mind-theme-customise").removeClass("mind-disable")):($(e).find("[tit='themes'] .con").addClass("mind-disable"),$(e).find("#mind-theme-customise").addClass("mind-disable")))})},initEvent:function(){var e=this,t=this.rootDom.find("#current-structure-thumb");t.on("click",function(t){t.stopPropagation(),$("#skeleton-list").is(":visible")?($(this).removeClass("selected"),$("#skeleton-list").hide()):($(this).addClass("selected"),e.showList($(this))),(0,d.$poCollect)("mind_click",{tit:"current-structure-thumb",pos:"right-panel"})}).on("mousedown",function(e){$(document).trigger("mousedown.equation"),editorGlobal.mindMap.emit("draw_click"),t[0].contains(e.target)||t[0]===e.target||e.stopPropagation()}),this.rootDom.find("#mind-structures").children().off("mousedown").on("mousedown",function(){}),this.rootDom.find(".mind-themes-tab").off().on("click","span",function(e){e.stopPropagation();var t=$(this).attr("tp"),n=$(".mind-themes-list-con");n.children().hide(),n.find("#"+t).show(),$(this).addClass("selected").siblings().removeClass("selected")}),$(document).on("mousedown.hideList",function(n){t[0].contains(n.target)||t[0]===n.target||e.hideList()}),this.rootDom.find("#mind-theme-color .theme-color-con").button({onClick:function(t,n){var i=$(n).attr("ac"),o=e.createColorCardList();$(o).dropdown({target:n,zindex:9,position:"right",isSelect:!0,width:"v1"===editorGlobal.config.uiType?$("#mind-theme-color").outerWidth():"",onSelect:function(t){var n=t.attr("ac");i!=n&&e.themePageInit({colorCard:n}),(0,d.$poCollect)("mind_theme_color_function",{colorCard:n})}}),$(o).children("li[ac=".concat(i,"]")).menuitem("select"),(0,d.$poCollect)("mind_click",{tit:"mind-theme-color",pos:"right-panel"})}}),this.rootDom.find("#structure-dirction-con").button({onClick:function(t,n){var i=[],o=editorGlobal.mindMap.getLayout();(f[o]||[]).forEach(function(e){i.push({ac:e.d,type:"default",text:e.name})}),new c.DropDownList({target:n,size:"v1"===editorGlobal.config.uiType?null:"auto-target",type:["default","nullable"],zindex:24,selectAc:editorGlobal.mindMap.renderer.mindTree.structure,list:i,width:"v1"===editorGlobal.config.uiType?108:"auto",position:"right",onSelect:function(t){var n=t;editorGlobal.mindMap.setLayout(n),e.themePageInit({structure:n}),editorGlobal.mindMap.emit("createMap",{structure:n}),e.structureDirctionEcho(t)}})}});var n=0,i=null;$("#mind-themes .item-title").on("click",function(){i?++n>5&&alert("".concat(a.default.t("Excessive_Clicks"),"！")):(i=setTimeout(function(){n=0,i=null},2e3),n=1)})},getStructureDirName:function(e){var t="",n=editorGlobal.mindMap.getLayout();return(f[n]||[]).forEach(function(n){n.d==e&&(t=n.name)}),t},renderPanel:function(e){var t=editorGlobal.mindMap.opt.readonlyList.themes?"":"mind-disable",n=editorGlobal.mindMap.renderer.mindTree.structure,i=this.getStructureDirName(n),o="display:none";i&&(o="");var r='\n\t\t<div class="mind-right-theme active" tit="themes">\n\t\t\t<div class="'.concat(t,'">\n\t\t\t\x3c!--            <div class="con-detail">--\x3e\n            <div class="item-title first item-title-container">').concat(a.default.t("Skeleton"),'</div>\n\t\t\t<div id="mind-structures" class="mind-right-struct">\n\t\t\t\t<div class="structure-con">\n\t\t\t\t\t<div class="current-structure-title des-title">\n\t\t\t\t\t\t思维导图\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="current-structure-thumb" class="current-structure-thumb">\n\t\t\t\t\t\t<div class="current-structure-thumb-img">\n\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="69" height="31" viewBox="0 0 69 31" fill="none">\n\t\t\t\t\t\t\t<path d="M15.3281 15.4883H34.2865" stroke="#9AA5B8"></path>\n\t\t\t\t\t\t\t<path d="M53.245 15.4883H34.2866" stroke="#9AA5B8"></path>\n\t\t\t\t\t\t\t<path d="M53.2461 27.7161C46.5629 27.7161 41.145 22.2415 41.145 15.4883" stroke="#9AA5B8"></path>\n\t\t\t\t\t\t\t<path d="M41.145 15.4895C41.145 8.7363 46.5629 3.26172 53.2461 3.26172" stroke="#9AA5B8"></path>\n\t\t\t\t\t\t\t<path d="M15.3286 27.7161C22.0118 27.7161 27.4297 22.2415 27.4297 15.4883" stroke="#9AA5B8"></path>\n\t\t\t\t\t\t\t<path d="M27.4297 15.4895C27.4297 8.7363 22.0118 3.26172 15.3286 3.26172" stroke="#9AA5B8"></path>\n\t\t\t\t\t\t\t<rect x="22.5898" y="10.5977" width="23.3954" height="9.78226" rx="1.78864" fill="#9AA5B8"></rect>\n\t\t\t\t\t\t\t<rect x="53.2456" width="15.328" height="6.5215" rx="1.78864" fill="#DDE0E4"></rect>\n\t\t\t\t\t\t\t<rect width="15.328" height="6.5215" rx="1.78864" fill="#DDE0E4"></rect>\n\t\t\t\t\t\t\t<rect x="53.2456" y="12.2266" width="15.328" height="6.5215" rx="1.78864" fill="#DDE0E4"></rect>\n\t\t\t\t\t\t\t<rect y="12.2266" width="15.328" height="6.5215" rx="1.78864" fill="#DDE0E4"></rect>\n\t\t\t\t\t\t\t<rect x="53.2456" y="24.4531" width="15.328" height="6.5215" rx="1.78864" fill="#DDE0E4"></rect>\n\t\t\t\t\t\t\t<rect y="24.4531" width="15.328" height="6.5215" rx="1.78864" fill="#DDE0E4"></rect>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class="po-tool-select-button"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n            ').concat("v1"===editorGlobal.config.uiType?'<div class="item-container item-container-with-padding">\n\t\t\t \t<span class="item-title" id="dirction-label" style="'.concat(o,';margin-bottom:0">').concat(a.default.t("Direction"),'</span>\n\t\t\t\t<div id="structure-dirction-con" class="po-tool-select-button" id="dirction-label" style="').concat(o,'">\n\t\t\t\t\t<span class="text-content">').concat(i,"</span>\n\t\t\t\t</div>\n\t\t\t</div>"):'<div class="item-title item-title-container" id="dirction-label" style="'.concat(o,'">方向</div>\n\t\t\t<div class="item-cotainer">\n\t\t\t\t<div id="structure-dirction-con" class="po-tool-select-button" style="width:100%; ').concat(o,'">\n\t\t\t\t\t<span class="text-content">').concat(i,"</span>\n\t\t\t\t</div>\n\t\t\t</div>"),'\n\t\t\t\n\t\t\t<div class="po-dock-devider"></div>\n\t\t\t<div class="mind-themes-list-con">\n\t\t\t\t<div id="mind-themes" class="mind-themes">\n\t\t\t\t\t\t<div class="item-title">').concat(a.default.t("Color_Matching"),'</div>\n\t\t\t\t\t\t<div id="mind-theme-color" class="mind-theme-color">\n\t\t\t\t\t\t\t<div class="theme-color-card">\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="theme-color-con po-tool-select-button">\n\t\t\t\t\t\t\t\t<span class="theme-color-name">幻彩</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<ul class="theme_list"></ul>\n\t\t\t\t</div>\n\t\t\t\t<div style="clear: both;"></div>\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul id="" class="po-menu-small auto-target" style="display: none;">\n\t\t\t\t<li class="po-menu-item" ac="color">\n\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t<span class="text">').concat(a.default.t("Solid_Color_Fill"),'</span>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t\t<li class="po-menu-item" ac="image">\n\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t<span class="text">').concat(a.default.t("Picture_Fill_all"),'</span>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="po-dock-devider small-top"></div>\n\t\t</div>\n        ');e&&$(e).append($(r))},clearThemeList:function(){$("#mind-themes .theme_list").empty()},haveTheme:function(){return 0!==$("#mind-themes .theme_list").children().length},themePageInit:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.rootDom.find("#mind-themes").is(":hidden")){this.haveTheme()||(i=!0);var o=n.skeleton,a=n.layout,r=n.structure,s=n.colorCard;s=s||editorGlobal.mindMap.getThemeConfig("colorCardId")||"system";var l=null===(e=editorGlobal.mindMap)||void 0===e||null===(e=e.skeletonStyle)||void 0===e?void 0:e.getcolorCardList(),c=l[s].viewColors;r=r||editorGlobal.mindMap.renderer.mindTree.structure;var d=o||editorGlobal.mindMap.getThemeConfig("skeletonId")||"mindmap_curve_green-default";a=a||editorGlobal.mindMap.getLayout();var u="";c.forEach(function(e){u+='<span style="background:'.concat(e,'"></span>')}),this.rootDom.find(".theme-color-card").html(u),this.rootDom.find(".theme-color-name").text(l[s].title),this.rootDom.find(".theme-color-con").attr("ac",s),setTimeout(function(){t.renderSkeleton()}),editorGlobal.mindMap.emit("createMap",h(h({},n),{},{colorCard:s,skeleton:d,layout:a,structure:r,focus:i}))}},renderSkeleton:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.skeletonId,o=n.structure;o=o||editorGlobal.mindMap.renderer.mindTree.structure;var a=editorGlobal.mindMap.getLayout();i=i||editorGlobal.mindMap.getThemeConfig("skeletonId");var s=null===(e=editorGlobal.mindMap)||void 0===e||null===(e=e.skeletonStyle)||void 0===e?void 0:e.getSkeletonList();if(s){var l,c=s[a].list||[],d="free";if(s[a].valueList.forEach(function(e){var t=r(Object.entries(e),2),n=r(t[0],1)[0],i=r(t[1],2)[1];n!==o||(d=i)}),c.forEach(function(e){e.title===i&&(l=i)}),a&&d&&i&&l)fetch("".concat(staticBasePath,"/skeleton/").concat(a,"/").concat(d,"/").concat(l,".svg")).then(function(e){return e.text()}).then(function(e){e&&t.rootDom.find("#current-structure-thumb .current-structure-thumb-img").html(e)}).catch(function(e){});else{var u,p=this.rootDom.find("#current-structure-thumb .current-structure-thumb-img");p.is(":visible")&&(null===(u=editorGlobal.mindMap)||void 0===u||u.skeletonStyle.renderCurrentMiniMap(p))}this.rootDom.find(".current-structure-title").text(s[a].name)}},createColorCardList:function(){var e,t=null===(e=editorGlobal.mindMap)||void 0===e||null===(e=e.skeletonStyle)||void 0===e?void 0:e.getcolorCardList(),n=$("#color-card-list");if(0===n.length){var i='<ul id="color-card-list" class="color-card-list po-menu-small">';for(var o in t){var a=t[o].viewColors;i+='<li ac="'.concat(o,'" class="po-menu-item">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t');var r='<div style="width: 96px;display: flex;">';a.forEach(function(e){r+='<span  class="text" style="background:'.concat(e,";").concat("",'">\n\t\t\t\t\t\t\t</span>')}),i+=r+"</div>",i+='<span class="text-overflow" full-title="'.concat(t[o].title,'"  style="margin-left:20px; max-width: 150px">').concat(t[o].title,"</span></div></li>")}i+="</ul>",n=$(i).appendTo("body")}return n},skeList:{},renderThemePannel:function(){var e=$("#theme-pannel");if(0===e.length){var t=editorGlobal.vipIcons.default?'<img style="margin-left: 6px;" src="'.concat(editorGlobal.vipIcons.default,'">'):"",n=$('<div class="theme-pannel" id="theme-pannel">\n\t\t\t\t<div class="mind-themes-list-con">\n\t\t\t\t\t\t<div class="tabs">\n\t\t\t\t\t\t   <div class="tab selected text-overflow" full-title="'.concat(a.default.t("My_Style"),'" tit="customise-theme">').concat(a.default.t("My_Style"),'</div>\n\t\t\t\t\t\t   <div class="tab text-overflow" full-title="').concat(a.default.t("Classics_Style"),'" tit="v5-theme">').concat(a.default.t("Classics_Style"),' </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id="mind-customise-themes" class="mind-themes">\n\t\t\t\t\t\t\t<ul class="theme_list thick-scrollbar"></ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id="mind-v5-themes-con" class="mind-v5-themes-con" style="display:none">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t    <div class="po-button text-overflow" full-title="').concat(a.default.t("Create_Custom_theme_Style"),'" tit="createCustomer">').concat(a.default.t("Create_Custom_theme_Style")).concat(t,"</div>\n\t\t\t\t</div>\n\t\t\t</div>"));n.off().on("mousedown",function(e){e.stopPropagation();var t=$(e.target).closest("[tit]")||$(this),i=t.attr("tit");"customise-theme"===i?($("#mind-customise-themes").show(),$("#mind-v5-themes-con").hide(),t.addClass("selected").siblings().removeClass("selected")):"v5-theme"===i?($("#mind-v5-themes-con").show(),$("#mind-customise-themes").hide(),t.addClass("selected").siblings().removeClass("selected")):"createCustomer"===i&&(s.themeCustomise.customiseDlg(editorGlobal.mindMap.themeConfig),n.hide())}),$("body").append(n),n.show(),s.themeCustomise.loadPoThemes(editorGlobal.authObj.mindTheme),s.themeCustomise.loadCustomiseThemesOn()}else e.show()},renderSkeletonList:function(){var e=[{title:a.default.t("Basic_Mind_Map"),pathList:[{path:"free",layout:l.CONSTANTS.LAYOUT.MINDMAP,title:"mindmap_curve_green-default",selectStructure:"mind_free"},{path:"free",layout:l.CONSTANTS.LAYOUT.MINDMAP,title:"mindmap_curve_gradient-text-online",selectStructure:"mind_free"},{path:"free",layout:l.CONSTANTS.LAYOUT.MINDMAP,title:"mindmap_vertical_text-online",selectStructure:"mind_free"},{path:"free",layout:l.CONSTANTS.LAYOUT.MINDMAP,title:"mindmap_oblique_text-online",selectStructure:"mind_free"},{path:"free",layout:l.CONSTANTS.LAYOUT.MINDMAP,title:"mindmap_draw_all-border",selectStructure:"mind_free"},{path:"right",layout:l.CONSTANTS.LAYOUT.MINDMAP,title:"mindmap_curve_bg-opacity",selectStructure:"mind_right"},{path:"right",layout:l.CONSTANTS.LAYOUT.LOGIC,title:"logic_vertical_round-rectangle",selectStructure:"mind_logic_right"},{path:"right",layout:l.CONSTANTS.LAYOUT.LOGIC,title:"logic_curve_text-online",selectStructure:"mind_logic_right"},{path:"left",layout:l.CONSTANTS.LAYOUT.LOGIC,title:"logic_curve_text-embed",selectStructure:"mind_logic_left"}]},{title:a.default.t("js.Organization_Chart"),pathList:[{path:"free",layout:l.CONSTANTS.LAYOUT.ORG,title:"org_bg-opacity",selectStructure:"mind_org"},{path:"free",layout:l.CONSTANTS.LAYOUT.ORG,title:"org_all-border",selectStructure:"mind_org"},{path:"free",layout:l.CONSTANTS.LAYOUT.ORG,title:"org_vertical-text",selectStructure:"mind_org"},{path:"free",layout:l.CONSTANTS.LAYOUT.TREE_ORG,title:"org_tree_bg-opacity",selectStructure:"mind_tree"},{path:"free",layout:l.CONSTANTS.LAYOUT.TREE_ORG,title:"org_tree_mix-border",selectStructure:"mind_tree"},{path:"free",layout:l.CONSTANTS.LAYOUT.ORG,title:"org_multistage",selectStructure:"mind_org"}]},{title:a.default.t("Fishbone_Diagram"),pathList:[{path:"left",layout:l.CONSTANTS.LAYOUT.FISHBONE,title:"fishbone_bg-opacity",selectStructure:"mind_ishikawa_left"},{path:"left",layout:l.CONSTANTS.LAYOUT.FISHBONE,title:"fishbone_text-online",selectStructure:"mind_ishikawa_left"},{path:"right",layout:l.CONSTANTS.LAYOUT.FISHBONE,title:"fishbone_mix-border",selectStructure:"mind_ishikawa_right"},{path:"left",layout:l.CONSTANTS.LAYOUT.FISHBONE,title:"fishbone_fish_fill",selectStructure:"mind_ishikawa_left"},{path:"left",layout:l.CONSTANTS.LAYOUT.FISHBONE,title:"fishbone_fish_border",selectStructure:"mind_ishikawa_left"}]},{title:a.default.t("js.Tree_Diagram"),pathList:[{path:"free",layout:l.CONSTANTS.LAYOUT.TREE,title:"tree_bg-opactiy",selectStructure:"mind_tree_free"},{path:"free",layout:l.CONSTANTS.LAYOUT.TREE,title:"tree_text-online",selectStructure:"mind_tree_free"},{path:"left",layout:l.CONSTANTS.LAYOUT.TREE,title:"tree_shadow-border",selectStructure:"mind_tree_left"},{path:"right",layout:l.CONSTANTS.LAYOUT.TREE,title:"tree_all-border",selectStructure:"mind_tree_right"},{path:"right",layout:l.CONSTANTS.LAYOUT.MOBI_TREE,title:"mobi-right-tree",selectStructure:"mind_tree_right_mobi"}]},{title:a.default.t("js.TimeLine"),pathList:[{path:"h",layout:l.CONSTANTS.LAYOUT.TIMELINE,title:"timeline_bg-opacity",selectStructure:"mind_timeline_h"},{path:"h",layout:l.CONSTANTS.LAYOUT.TIMELINE,title:"timeline_big-circle",selectStructure:"mind_timeline_h"},{path:"up",layout:l.CONSTANTS.LAYOUT.TIMELINE,title:"timeline_mix-border",selectStructure:"mind_timeline_h_up"},{path:"down",layout:l.CONSTANTS.LAYOUT.TIMELINE,title:"timeline_text-online",selectStructure:"mind_timeline_h_down"}]},{title:a.default.t("Bracket_Diagram"),pathList:[{path:"right",layout:l.CONSTANTS.LAYOUT.BRACE,title:"brace_bg-opacity",selectStructure:"mind_brace_right"},{path:"right",layout:l.CONSTANTS.LAYOUT.BRACE,title:"brace_text-online",selectStructure:"mind_brace_right"},{path:"left",layout:l.CONSTANTS.LAYOUT.BRACE,title:"brace_big-circle",selectStructure:"mind_brace_left"}]}],t=editorGlobal.mindMap.getThemeConfig("skeletonId"),n=$("#skeleton-list"),i=editorGlobal.mindMap.renderer.mindTree.structure;if(0===n.length){var o=0;"v1"===editorGlobal.config.uiType&&(o=$(".mind-header").outerHeight()+20+"px");var r=$("<ul></ul>");e.forEach(function(e){var n=e.title,o=e.pathList,a=$('<li class="ske-list">\n\t\t\t\t\t\t\t\t<div class="ske-header">\n\t\t\t\t\t\t\t\t\t<span class="ske-title">'.concat(n,"</span>\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<ul></ul></li>")),s=a.find("ul");o.forEach(function(e,n){var o=e.title,a=e.path,r=e.layout,l=e.selectStructure,c=s.children("li").eq(n);0==c.length&&(c=$('<li class="ske-image" tit="'.concat(o,'" layout="').concat(r,'" selectStructure="').concat(l,'"></li>')).appendTo(s)),t===o&&l===i?c.addClass("selected"):c.removeClass("selected"),r&&a&&o&&fetch("".concat(staticBasePath,"/skeleton/").concat(r,"/").concat(a,"/").concat(o,".svg")).then(function(e){return e.text()}).then(function(e){if(c.html(e),o.includes("draw")){var t='<span class="draw_tag">\n\t\t\t\t\t\t\t\t\t<img src="'.concat(staticBasePath,'/skeleton/draw_tip.svg"/>\n\t\t\t\t\t\t\t\t</span>');c.append(t)}if(m.includes(o)){var n=editorGlobal.vipIcons.default?'<img src="'.concat(editorGlobal.vipIcons.default,'">'):"",i='<span class="vip_tag">\n\t\t\t\t\t\t\t\t\t'.concat(n,"\n\t\t\t\t\t\t\t\t</span>");c.append(i)}}).catch(function(e){})}),r.append(a)}),r.append('<div class="bottom-padding"></div>');var s=$('<div id = "skeleton-list" class = "skeleton-list thick-scrollbar" '.concat(o?'style="top:'.concat(o,'"'):"",'><div class="container-ske"></div></div>'));r.appendTo(s.find(".container-ske")),s.appendTo("body"),this.listInitEvent()}else n.find("[tit][selectStructure]").removeClass("selected"),n.find("[tit=".concat(t,"][selectStructure=").concat(i,"]")).addClass("selected")},loadImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0!==e.length){var n=e.children("ul"),i=e.attr("data-img-path"),o=e.attr("layout"),a=editorGlobal.mindMap.getThemeConfig("skeletonId"),r=n.parent(".ske-list").attr("tit"),s=editorGlobal.mindMap.renderer.mindTree.structure;t.forEach(function(e,t){var l=n.children("li").eq(t);0==l.length&&(l=$('<li class="ske-image" tit="'.concat(e.title,'"></li>')).appendTo(n)),a===e.title&&r===s?l.addClass("selected"):l.removeClass("selected"),o&&i&&e.title&&fetch("".concat(staticBasePath,"/skeleton/").concat(o,"/").concat(i,"/").concat(e.title,".svg")).then(function(e){return e.text()}).then(function(t){if(l.html(t),e.title.includes("draw")){var n='<span class="draw_tag">\n\t\t\t\t\t\t\t<img src="'.concat(staticBasePath,'/skeleton/draw_tip.svg"/>\n\t\t\t\t\t\t</span>');l.append(n)}}).catch(function(e){})})}},listInitEvent:function(){var e=this;$("#skeleton-list .ske-select-btn").button({onClick:function(t,n){var i=$(n).siblings(".po-menu-small"),o=$(n).parents(".ske-list"),a=o.attr("data-img-path"),r=o.attr("layout");$(i).dropdown({target:n,zindex:6,position:"left",isSelect:!0,onSelect:function(t){var n=t.attr("ac"),i=t.attr("tit");if(a!==n&&o.length>0){o.attr("data-img-path",n),o.attr("tit",i);var s=e.skeList[r];e.loadImage(o,s)}}})}}),$("#skeleton-list .ske-image").on("click",function(){var e=$(this).attr("tit"),t=$(this).attr("layout"),n=$(this).attr("selectStructure");if($(".ske-image.selected").removeClass("selected"),$(this).addClass("selected"),u.vipState.test("skeleton")||!m.includes(e)){var i=editorGlobal.mindMap.skeletonStyle.savaTheme({skeleton:e,structure:n,layout:t});editorGlobal.mindMap.setSkeleton(n,JSON.stringify(i))}else u.vipState.limit({type:"skeleton",pos:"mind_skeleton_".concat(e)})}),$("#skeleton-list").on("mousedown",function(e){e.stopPropagation()})},showList:function(){this.renderSkeletonList(),$("#skeleton-list").show()},hideList:function(){$("#theme-pannel").hide(),$("#skeleton-list").hide(),this.rootDom.find("#current-structure-thumb").removeClass("selected"),this.rootDom.find("#set-topic-margin").removeClass("selected")},curThemeEcho:function(e){var t=this;$(".mind-themes-list-con li.selected").removeClass("selected"),setTimeout(function(){var n=editorGlobal.mindMap.themeConfig,i=n.id,o=n.colorMinorId,r=n.colorCardId;i?($(".mind-themes-list-con div[themeid=".concat(i,"]")).parent().addClass("selected"),$(".mind-themes-list-con div[tit=".concat(i,"]")).parent().addClass("selected"),t.themePageInit()):o&&r&&($(".mind-themes-list-con [colorminorid=".concat(o,"]")).parent().addClass("selected"),setTimeout(function(){t.renderSkeleton()})),"setTheme"===e&&$.toast({text:a.default.t("Style_Applied_Success"),type:"success"})})},curLayoutEcho:function(e){var t=this;e||(e=editorGlobal.mindMap.getThemeConfig("skeletonId")),this.rootDom.find("#skeleton-list .ske-image[tit]").removeClass("selected"),this.rootDom.find("#skeleton-list").find(".ske-image[tit="+e+"]").addClass("selected"),setTimeout(function(){t.renderSkeleton(),t.themePageInit({},!0)}),this.structureDirctionEcho()},curColorCardEcho:function(e){var t=this;e&&e.forEach(function(e){t.rootDom.find("#mind-theme-color .theme-color-card").append($(e))})},structureDirctionEcho:function(e){e||(e=editorGlobal.mindMap.renderer.mindTree.structure);var t=this.getStructureDirName(e),n=$("#structure-dirction-con"),i=$("#dirction-label");t?(n.show().children("span").text(t),i.show()):(n.hide().find("span").text(""),i.hide())}}},20157:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomiseDlgHtml=void 0;var o=i(n(32483));t.getCustomiseDlgHtml=function(){var e="",t="";return"v1"===editorGlobal.config.uiType?(e=editorGlobal.vipIcons.primaryBtn?'<img src="'.concat(editorGlobal.vipIcons.primaryBtn,'">'):"",t='<div id="btn-customise-save" class="btn-customise-svip po-button"><span>'.concat(o.default.t("Create_and_apply"),"</span>").concat(e,"</div>")):t='<div id="btn-customise-save" class="btn-customise-save po-button primary"><span>'.concat(o.default.t("Create_and_apply"),"</span></div>"),'<div class="mind-theme-customise-dlg po-dialog" style="height:auto; display: none;">\n    <div class="po-dialog-header page-title">'.concat(o.default.t("Create_a_Custom_Style"),'</div>\n    <div class="mind-dlg-content" customise = "set_style">\n        <div tit="mind-tabs-styles">\n            <div class="container" style="align-items: flex-start;padding:20px 24px;">\n                <div id="previewTopic" >\n                    <div class="preview-custom">\n                        <div class="view-custom-loading">\n                            <img src="').concat(staticBasePath,'/images/insert-loading.gif" />\n                        </div>\n                        <div id= "customView-con" class="customView-con"></div>\n                    </div>\n                    <div>\n                        <div class="custom-tip">').concat(o.default.t("Default_is_modified_based"),'</div>\n                        <div class="custom-change-theme">').concat(o.default.t("Choose_Other_styles"),'</div>\n                    </div>\n                </div>\n                <div class="custom-setstyle-content" style="flex:1;">\n                    <div class="container left">\n                        <div class="po-select-lable" style="width:75px;text-align:right;">').concat(o.default.t("Canvas_background"),'</div>\n                        <form class="container left" id="upload_customise_img_bg">\n                            <div id="canvas-fill-type-customise" class="po-select" style="width:130px;"><span class="text-content">').concat(o.default.t("Solid_Color_Fill"),'</span></div>\n                            <div class="po-tool-color-button-box mind-canvas-bg-customise other"><div id="mind-canvas-bg-customise" class="po-tool-color-button"></div></div>\n                            <div id="mind-customise-imgbg" class="mind-canvas-img-btn other"><div class="img-bg"></div><div class="po-diagraming-icons">&#xe988;</div><input type="file" id="mind-customise-imgbg-input" name="image" title=""></div>\n                        </form>\n                    </div>\n                    <div style="display:flex;align-items:baseline;">\n                        <span class="po-select-lable" style="width:75px;text-align:right;">').concat(o.default.t("Select_Node"),'</span>\n                        <div style="display:inline-block;margin-top:20px">\n                            <span id="mind-customise-topic"><span tp="centerTopic" class="selected">').concat(o.default.t("Central_Theme"),'</span><span tp="secTopic">').concat(o.default.t("Subtopics"),'</span><span tp="childTopic">').concat(o.default.t("Subtopic"),'</span></span>\n                        </div>\n                    </div>\n                    <div class="container left" style="margin-top:20px">\n                        <span class="po-select-lable" style="width:75px;text-align:right;">').concat(o.default.t("Text_Style"),'</span>\n                        <div class="container">\n                            <div id="mind-customise-font" class="po-select" title="').concat(o.default.t("Font"),'" style="width:92px">\n                                <span class="text-content">').concat(o.default.t("Microsoft_Yahei"),'</span>\n                            </div>\n                            <div id="mind-customise-size" class="po-spinner-other"></div>\n                            <div id="mind-customise-b" class="po-tool-button other"><span class="po-diagraming-icons">&#xe6bf;</span></div>\n                            <div id="mind-customise-i" class="po-tool-button other"><span class="po-diagraming-icons">&#xe6da;</span></div>\n                            <div class="po-tool-color-button-box other" title="').concat(o.default.t("Text_color"),'"><div id="mind-font-color-customise" class="po-tool-color-button"></div></div>\n                        </div>\n                    </div>\n                    <div class="container" style="margin-top:20px">\n                        <span class="po-select-lable" style="width:75px;text-align:right;">').concat(o.default.t("Border_Style"),'</span>\n                        <div class="container customise-bdstyle">\n                            <div id="mind-customise-bw" class="po-select" style="width:112px"><span class="text-content">').concat(o.default.t("None"),'</span></div>\n                            <div class="mind-button-group">\n\t\t\t                    <div id="mind-customise-shape" style="width:56px" class="mind-customise-shape po-select po-spinner-other"><span class="text-content po-diagraming-icons">&#xe763;</span></div>\n                            </div>\n                            <div class="po-tool-color-button-box  other" title="').concat(o.default.t("Border_Color"),'"><div  id="mind-customise-bc" class="po-tool-color-button"></div></div>\n                        </div>\n                    </div>\n                    <div class="container left" style="margin-top:20px">\n                        <span class="po-select-lable" style="width:75px;text-align:right;">').concat(o.default.t("Topic_margin"),'</span>\n                        <div class="customise-padding">\n                            <div class="po-spinner-group-inside-other">\n                                <span class="po-spinner-lable">').concat(o.default.t("Up"),'</span>\n                                <div id="mind-customise-paddingt" class="po-spinner-other padding"></div>\n                            </div>\n                            <div class="po-spinner-group-inside-other">\n                                <span class="po-spinner-lable">').concat(o.default.t("Right"),'</span>\n                                <div id="mind-customise-paddingr" class="po-spinner-other padding"></div>\n                            </div>\n                            <div class="po-spinner-group-inside-other">\n                                <span class="po-spinner-lable">').concat(o.default.t("Down"),'</span>\n                                <div id="mind-customise-paddingb" class="po-spinner-other padding"></div>\n                            </div>\n                            <div class="po-spinner-group-inside-other">\n                                <span class="po-spinner-lable">').concat(o.default.t("Left"),'</span>\n                                <div id="mind-customise-paddingl" class="po-spinner-other padding"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="container left" style="margin-top:20px; display:none">\n                        <span class="po-select-lable" style="width:75px;text-align:right;">').concat(o.default.t("Topic_margin"),'</span>\n                        <div class="customise-padding">\n                            <div class="po-spinner-group-inside-other">\n                                <span class="po-spinner-lable">').concat(o.default.t("Up"),'</span>\n                                <div id="mind-customise-paddingt" class="po-spinner-other padding"></div>\n                            </div>\n                            <div class="po-spinner-group-inside-other">\n                                <span class="po-spinner-lable">').concat(o.default.t("Right"),'</span>\n                                <div id="mind-customise-paddingr" class="po-spinner-other padding"></div>\n                            </div>\n                            <div class="po-spinner-group-inside-other">\n                                <span class="po-spinner-lable">').concat(o.default.t("Down"),'</span>\n                                <div id="mind-customise-paddingb" class="po-spinner-other padding"></div>\n                            </div>\n                            <div class="po-spinner-group-inside-other">\n                                <span class="po-spinner-lable">').concat(o.default.t("Left"),'</span>\n                                <div id="mind-customise-paddingl" class="po-spinner-other padding"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="container left" style="margin-top:20px">\n                        <span class="po-select-lable" style="width:75px;text-align:right;">').concat(o.default.t("Theme_Fill"),'</span>\n                        <div class="container left">\n                            <div class="po-tool-color-button-box  other"  title="').concat(o.default.t("Theme_Color"),'"><div id="mind-customise-fill" class="po-tool-color-button"></div></div>\n                            <div id="mind-customise-sd" class="po-tool-button other" title="').concat(o.default.t("Theme_Shadow"),'"><span class="po-diagraming-icons">&#xe767;</span></div>\n                        </div>\n                    </div>\n                    <div id="linestylecon"  class="container left" style="margin-top:20px">\n                        <div class="po-select-lable" style="width:75px;text-align:right;">').concat(o.default.t("Wired_Style"),'</div>\n                        <div class="container left">\n                            <div  title="').concat(o.default.t("Line_and_width"),'" id="mind-customise-linew" class="po-spinner-other"></div>\n                            <div  title="').concat(o.default.t("Connection_Type"),'" id="mind-customise-linet" class="mind-customise-linet po-select po-spinner-other"><span class="text-content po-diagraming-icons">&#xea99;</span></div>\n                            <div class="po-tool-color-button-box other" title="').concat(o.default.t("Wired_Color"),'"><div id="mind-customise-linec" class="po-tool-color-button"></div></div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n            <div class="po-buttons customise-buttons">\n                <span id="btn-customise-restore" class="po-button" style="float:left">').concat(o.default.t("Reset"),'</span>\n                <div id="btn-customise-close" class="po-button" style="margin-right:12px;">').concat(o.default.t("Cancel"),"</div>\n                ").concat(t,'\n            </div>\n        </div>\n    </div>\n    <div class="custom-change-themes" customise = "change_themes" style="display: none;">\n        <div class="custom-themes-list-con">\n            <div id="mind-change-themes">\n            </div>\n            <div id="mind-change-customise-themes" style="width:100%;display: none;">\n            </div>\n        </div>\n        <div class="po-buttons customise-buttons">\n            <div id="bnt-change-back" class="po-button" style="margin-right:12px;">').concat(o.default.t("Cancel_and_return"),'</div>\n            <div id="btn-change-restore" class="po-button primary">').concat(o.default.t("Identify_apply"),'</div>\n        </div>\n    </div>\n    <a id="theme-upgrade-link" style="display: none;"></a>\n</div>')}},64458:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.themeCustomise=void 0,n(61894),n(83403),n(28293),n(95313),n(33488),n(70116),n(5682),n(65528),n(4790),n(82403),n(12638),n(47958),n(20005),n(13552),n(42712),n(42211),n(20306),n(32209),n(68801),n(18097),n(62495),n(72216),n(63061),n(69268),n(86837),n(54938),n(81475),n(57895),n(77439),n(2718);var o=n(54690),a=n(20157),r=n(15240),s=n(27251),l=n(52525),c=n(59584),d=i(n(32483)),u=n(47306),p=n(85254),h=n(83316),m=n(62937),f=n(80214),g=t.themeCustomise={themeDlgTitle:d.default.t("js.Create_a_Custom_Style"),saveTheme:function(e,t,n){if(""!=editorGlobal.chartId&&null!=editorGlobal.chartId){var i=e.id;void 0!==n&&(e.aiFree=n);var o={id:i,theme:JSON.stringify(e)};(0,s.injectExtraAsynCall)("onServerApi",{apiName:"saveMindCustomTheme",params:o},function(e){if("over"==e.result){if("wps"==window.source)return 3==m.vipState.test("themesCustomise")?m.vipState.limit({type:"themenew_svip",pos:"themenew"}):m.vipState.limit({type:"themenew",pos:"themenew"}),void $("#btn-customise-save").button("enable")}else"error"==e.result?$.toast({type:"error",text:d.default.t("js.Save_failed")}):e.result&&"success"!=e.result||($.toast({type:"success",text:d.default.t("js.Saved_successfully")}),t());$("#btn-customise-save").button("enable")})}},customiseDlg:function(e,t){var n=$(".mind-theme-customise-dlg"),i="edit"==t?d.default.t("js.Modify_Custom_Style"):d.default.t("js.Create_a_Custom_Style"),o="edit"==t?d.default.t("js.Save_changes_and_apply"):d.default.t("js.Create_and_apply");n.length||(n=$((0,a.getCustomiseDlgHtml)()).appendTo($("body"))),"v1"===editorGlobal.config.uiType&&m.vipState.test("themesCustomise")===1/0&&n.find("#btn-customise-save").find("img").hide(),g.themeDlgTitle=i,t&&"edit"==t||(g.editCustomiseId=null),n.dialog(),$(this).removeClass("selected"),n.children("[customise]").hide(),n.children("[customise=set_style]").show(),n.find(".page-title").text(i),n.find("#btn-customise-save span").text(o),$("#btn-customise-save").button("enable"),$(".mind-theme-customise-dlg").off("keydown").on("keydown",function(e){e.stopPropagation(),e.preventDefault()}),g.initCustomise(e),!window.deviceType||"wpsyun"!=window.deviceType&&"wpsclient"!=window.deviceType||window.operationPos&&window.operationPos.getOperateData&&window.operationPos.getOperateData("PRGNMB1001")},initCustomise:function(e){var t=this;$(".mind-theme-customise-dlg").css("height","auto"),p.customMindmapView.customMindmap&&(e=p.customMindmapView.customMindmap.getThemeObject(e)),this.customiseTheme=$.extend(!0,{},e);var n="centerTopic";$("#mind-customise-topic span[tp=centerTopic]").trigger("click"),$("#mind-customise-topic").off().on("click","span",function(){var e=$(this);n=e.attr("tp"),e.hasClass("selected")||(null==t.customiseTheme[n]&&(t.customiseTheme[n]=$.extend({},t.customiseTheme.secTopic)),e.addClass("selected").siblings().removeClass("selected"),t.renderTopic(n))}),$("#btn-customise-close").off("click").on("click",function(){$(".mind-theme-customise-dlg").dialog("close")}),$("#btn-customise-restore").off().on("click",function(){t.customiseTheme=$.extend(!0,{},e),t.renderTopic(),$("#mind-customise-topic [tp=centerTopic]").addClass("selected").siblings().removeClass("selected"),$.toast({type:"success",text:d.default.t("js.Reset_successful")})}),$("#btn-customise-new").off().on("click",function(){$("#mind-tabs-styles").trigger("click"),t.editCustomiseId=null,t.customiseTheme=null,n=null,t.renderTopic()});var i="";function a(){var e=$(".po-spinner-other.padding").map(function(){return $(this).find("input").val()}).get().join(" ");t.customiseTheme[n].padding=e,t.renderTopic(n)}$(".custom-change-theme").on("click",function(){var e=$(".mind-theme-customise-dlg"),t=$(".custom-themes-list-con");i=i||editorGlobal.mindMap.mindData.theme;var n=$("[customise=set_style]").outerHeight();if(e.children("[customise]").hide(),e.children("[customise=change_themes]").css({height:n}).show(),!$("#mind-change-themes").find(".themes_con").length){for(var o=l.configure_theme.themes_ids,a=["<ul class='themes_con'>"],r=0;r<o.length;r++){var s=o[r],c=l.themesDepot[s];if(c){var p="<li><div tit='"+s+"'><img src='"+c.thumbUrl+"'/></div></li>";a.push(p)}}a.push("</ul>"),$("#mind-change-themes").html(a.join(" "))}if(e.find(".page-title").html("<div style='display:inline-block;cursor:pointer'><div class='po-tool-button other' style='margin-right:10px;vertical-align: middle;line-height:20px;cursor:pointer'><span class='po-diagraming-icons' style='font-size:20px;'>&#xe973;</span></div>"+d.default.t("js.Custom_Style")+"</div>"),e.find(".page-title>div").off().on("click",function(e){e.stopPropagation(),$("#bnt-change-back").trigger("click")}),$(".custom-tab").off().on("click",".tab-item",function(){var e=$(this).attr("tp");$(this).addClass("selected").siblings().removeClass("selected"),t.children().hide(),$("#"+e).show()}),!u.Util.isJSONString(i)){var h=t.find("div[tit="+i+"]");h.length&&h.parent().trigger("click")}var m=t.find("li");m.off("click").on("click",function(){var e=$(this).children("div[tit]").attr("tit");m.removeClass("selected"),$(this).addClass("selected"),i=e}),m.off("dblclick").on("dblclick",function(){var e=$(this).children("div[themeid]").attr("themeid")||$(this).children("div[tit]").attr("tit");m.removeClass("selected"),$(this).addClass("selected"),i=e,$("#btn-change-restore").trigger("click")}),$("#btn-change-restore").off().on("click",function(){var e=l.themesDepot.theme3;if(i.indexOf("customise_")>-1){var t=g.getcustomTheme(i);return t&&(g.customiseTheme=t,g.initCustomise(t)),void $("#bnt-change-back").trigger("click")}e=l.themesDepot[i]||l.themesDepot.delicate_caihong2,g.initCustomise(e),$("#bnt-change-back").trigger("click")}),!window.deviceType||"wpsyun"!=window.deviceType&&"wpsclient"!=window.deviceType||window.operationPos&&window.operationPos.getOperateData&&window.operationPos.getOperateData("PRGNMB1001")}),$("#bnt-change-back").off().on("click",function(){var e=$(".mind-theme-customise-dlg");e.children("[customise]").hide(),e.children("[customise=set_style]").show(),e.find(".page-title").text(g.themeDlgTitle)}),$("#btn-customise-save").off().on("click",C(k().mark(function e(){var n,i,o,a,s,l,c,u,h;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.customiseTheme,i=$(this),null==n){e.next=25;break}if(o=function(e){e&&(n.thumbUrl=e,n.colorCardId&&delete n.colorCardId,n.colorMinorId&&delete n.colorMinorId,t.saveTheme(n,function(){$(".mind-theme-customise-dlg").dialog("close"),editorGlobal.mindMap.emit("recordThemeDom",null),editorGlobal.mindMap.setThemeConfig(n),t.customiseTheme=null,t.loadCustomiseThemesOn(),i.button("enable")}))},i.button("disable"),a=sessionStorage.getItem("customiseThemes"),s=JSON.parse(a)||[],null==t.editCustomiseId){e.next=17;break}l=0,c=0;case 7:if(!(c<s.length)){e.next=14;break}if(s[c].id!=t.editCustomiseId){e.next=11;break}return l=c,e.abrupt("break",14);case 11:c++,e.next=7;break;case 14:n.id=t.editCustomiseId,s.splice(l,l,n),sessionStorage.setItem("customiseThemes",JSON.stringify(s)),e.next=21;break;case 17:if(!(m.vipState.test("themesCustomise")<=s.length)){e.next=19;break}return e.abrupt("return","wps"!=window.source?($(".mind-theme-customise-dlg").dialog("close"),m.vipState.limit({title:d.default.t("js.Upgrade_members_to_enjoy_unlimited_number_of_custom_styles"),pointsSource:"设置自定义风格"}),void i.button("enable")):(3==m.vipState.test("themesCustomise")?m.vipState.limit({type:"themenew_svip",pos:"themenew"}):m.vipState.limit({type:"themenew",pos:"themenew"}),void i.button("enable")));case 19:u=(0,r.newId)(),n.id="customise_"+u,s.push(n),sessionStorage.setItem("customiseThemes",JSON.stringify(s));case 21:return e.next=23,p.customMindmapView.customToImg();case 23:(h=e.sent)?o(h.toDataURL()):$.toast({type:"error",text:d.default.t("js.Custom_style_creation_failed")});case 25:case"end":return e.stop()}},e,this)}))),$("#mind-customise-size").spinner({min:12,max:100,step:1,unit:"px",width:72,onChange:function(e){t.customiseTheme[n]["font-size"]=e+"px",t.renderTopic(n)}}),$("#mind-customise-paddingt").spinner({min:2,max:100,step:1,unit:"px",width:65,onChange:function(e){$("#mind-customise-paddingb").find("input").val(e),a()}}),$("#mind-customise-paddingr").spinner({min:2,max:100,step:1,unit:"px",width:65,onChange:function(e){$("#mind-customise-paddingl").find("input").val(e),a()}}),$("#mind-customise-paddingb").spinner({min:2,max:100,step:1,unit:"px",width:65,onChange:function(e){$("#mind-customise-paddingt").find("input").val(e),a()}}),$("#mind-customise-paddingl").spinner({min:2,max:100,step:1,unit:"px",width:65,onChange:function(e){$("#mind-customise-paddingr").find("input").val(e),a()}}),$("#mind-customise-font").button({onClick:function(e,i){var a=i.text().trim();new o.DropDownList({target:i,menu:$("#mind-font-list"),size:"normal",selectAc:a,zindex:24,onSelect:function(e){t.customiseTheme[n].family=e,i.button("setText",e),i.attr("ac",e),t.renderTopic(n)}}),$("#mind-font-list").find(['ac="'.concat(a,'"')]).menuitem("select")}}),$("#mind-font-color-customise").colorButton({position:"right",type:"hex",zindex:24,onSelect:function(e){t.customiseTheme[n].color=e,t.renderTopic(n)}}),$("#mind-customise-b").off().on("click",function(){$(this).hasClass("selected")?t.customiseTheme[n].bold=!1:t.customiseTheme[n].bold=!0,t.renderTopic(n)}),$("#mind-customise-i").off().on("click",function(){$(this).hasClass("selected")?t.customiseTheme[n].italic=!1:t.customiseTheme[n].italic=!0,t.renderTopic(n)}),$("#mind-customise-bw").button({onClick:function(e,i){var a=t.customiseTheme[n]["border-width"]||0;new o.DropDownList({target:i,name:"MIND_WIDTH",size:"small",width:"auto",type:["default","nullable"],zindex:24,selectAc:0===a?"0":a+"".concat(-1===(a+"").indexOf("px")?"px":""),onSelect:function(e){var o=parseInt(e);t.customiseTheme[n]["border-width"]=o,t.customiseTheme[n]["border-style"]="solid",t.renderTopic(n),i.button("setText","".concat(0==o?d.default.t("None"):e))}})}}),$("#mind-customise-bc").colorButton({position:"right",type:"hex",zindex:24,onSelect:function(e){t.customiseTheme[n]["border-color"]=e,t.renderTopic(n)}}),$("#canvas-fill-type-customise").button({onClick:function(e,i){$("#mind-canvas-color-type").find("[ac=noFill]").hide(),$("#mind-canvas-color-type").dropdown({target:i,zindex:24,onSelect:function(e){var o=e.attr("ac");if(i.button("setText",e.text()),"image"==o){$("#mind-customise-imgbg").show(),$(".mind-canvas-bg-customise").hide();var a=$("#mind-customise-imgbg .img-bg").prop("style")["background-image"];a&&(t.customiseTheme.background=a,t.renderTopic(n))}else{$("#mind-customise-imgbg").hide(),$(".mind-canvas-bg-customise").show();var r=$("#mind-canvas-bg-customise").colorButton("getHexColor");r&&(t.customiseTheme.background="#"+r,t.renderTopic(n))}}})}}),$("#mind-canvas-bg-customise").colorButton({position:"right",type:"hex",zindex:24,onSelect:function(e){t.customiseTheme.background=e,t.renderTopic(n)}}),$("#mind-customise-linec").colorButton({position:"right",type:"hex",zindex:24,onSelect:function(e){null==t.customiseTheme[n].lineStyle&&(t.customiseTheme[n].lineStyle={}),t.customiseTheme[n].lineStyle.lineColor=e,t.renderTopic(n)}}),$("#mind-customise-linet").button({onClick:function(e,i){var o=i.attr("ac");$("#mind-customise-linet-list_").dropdown({target:i,zindex:99,position:"left",onSelect:function(e){var o=e.attr("ac");null==t.customiseTheme[n].lineStyle&&(t.customiseTheme[n].lineStyle={}),t.customiseTheme[n].lineStyle.lineType=o,t.renderTopic(n,o),i.button("setText",e.text()),i.attr("ac",o)}}),$("#mind-customise-linet-list_ [ac='"+o+"']").menuitem("select")}}),$("#mind-customise-linew").spinner({min:1,max:5,step:1,unit:"px",width:70,onChange:function(e){null==t.customiseTheme[n].lineStyle&&(t.customiseTheme[n].lineStyle={}),t.customiseTheme[n].lineStyle.lineWidth=e,t.renderTopic(n)}}),$("#mind-customise-shape").button({onClick:function(e,i){var o=i.attr("ac");$("#mind-customise-bsl").dropdown({target:i,zindex:99,position:"right",onSelect:function(e){var i;i=e.attr("ac"),t.customiseTheme[n].shape=i,t.renderTopic(n)}}),$("#mind-customise-bsl [ac='"+o+"']").menuitem("select")}}),$("#mind-customise-fill").colorButton({position:"right",type:"hex",zindex:24,onSelect:function(e){t.customiseTheme[n].backgroundColor=e,t.customiseTheme[n].background=e,t.renderTopic(n)}}),$("#mind-customise-sd").off().on("click",function(){var e=$(this),i="none";e.hasClass("selected")?e.removeClass("selected"):(i="scriptures",e.addClass("selected")),function(e){"none"==e?delete t.customiseTheme[n].glassEffect:t.customiseTheme[n].glassEffect=e,t.renderTopic(n)}(i)}),t.renderTopic(),$("#mind-customise-imgbg-input").off("change").on("change",function(){var e=$(this),i=this.files[0],o=i.type;if(""!=$.trim($(this).val()))if(o.indexOf("image")>=0){if(!/image\/\w+/.test(o))return $.toast({type:"error",text:d.default.t("js.You_can_upload_image_files")}),e.val(""),!1;if(i.size>2097152)return $.toast({type:"error",text:d.default.t("js._The_picture_size_should_not_exceed_2M")}),e.val(""),!1;$.loading({text:d.default.t("js.Uploading_now")});var a=document.getElementById("upload_customise_img_bg"),r=new FormData(a),l=new FileReader;l.readAsDataURL(i),l.onload=function(){(0,s.injectExtraAsynCall)("onServerApi",{apiName:"uploadImageForm",params:r},function(e){var i=e.data;if(i.url){var o=new Image;o.src=i.url,o.onload=function(){$("#mind-customise-imgbg").addClass("image"),$("#mind-customise-imgbg .img-bg").css("background-image","url("+i.url+")"),t.customiseTheme.background="url("+i.url+")",t.renderTopic(n),$.loading("close"),$.toast({type:"success",text:d.default.t("js.Upload_successful")})}}else $.loading("close"),$.toast({type:"error",text:d.default.t("js.Upload_failed")})})}}else $.toast({type:"warning",text:d.default.t("js.Only_support_picture_format")})})},customiseTheme:null,editCustomiseId:null,renderTopic:function(e,t){null==this.customiseTheme&&(this.customiseTheme=$.extend(!0,{},l.themesDepot.theme3));var n=0,i={},o=this.customiseTheme;if("centerTopic"==e||null==e?i=o.centerTopic:"secTopic"==e?(n=1,i=o.secTopic):"childTopic"==e?(n=2,i=o.childTopic):"freeTopic"==e&&(n=1,i=o.freeTopic?o.freeTopic:o.secTopic),i["font-family"]=i.family||d.default.t("Microsoft_Yahei"),i["font-weight"]=i.bold?"bold":"normal",i["font-style"]=i.italic?"italic":"normal",i.border){var a=i.border.split(" "),r=a[0],s=a[2];i["border-width"]||(i["border-width"]=r),i["border-color"]||(i["border-color"]=s)}var c=$.extend(!0,{},o);!t||"roundBroken"!=t&&"broken"!=t||delete c.thinner,p.customMindmapView.createMind(c,"customise",document.querySelector("#customView-con")),$(".view-custom-loading").length&&$(".view-custom-loading").remove(),$(".mind-theme-customise-dlg").find(".color_line").removeAttr("style"),$(".po-tool-color-button-box").find(".po-tool-color-button:not(#mind-canvas-bg-customise)").removeAttr("style"),$(".mind-theme-customise-dlg").find("#mind-customise-fill").removeAttr("style"),$("#mind-customise-bw .text-content").text("".concat(d.default.t("None"))),o.background&&(o.background.indexOf("url")>=0?($("#canvas-fill-type-customise").attr("tp","image").children("span").text(d.default.t("js.Picture_Fill")),$("#mind-customise-imgbg").show().addClass("image"),$(".mind-canvas-bg-customise").hide(),$("#mind-customise-imgbg .img-bg").css("background-image",o.background)):($("#canvas-fill-type-customise").attr("tp","color").children("span").text(d.default.t("Solid_Color_Fill")),$("#mind-customise-imgbg").hide(),$(".mind-canvas-bg-customise").show(),$("#mind-canvas-bg-customise").colorButton("setColor",o.background))),this.initStyles(i,n)},initStyles:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;$("#mind-customise-font").children("span").text(e["font-family"]),$("#mind-customise-size").spinner("setValue",e["font-size"]);var n=e.shape||"radiansRectangle",i=2,o=2;if(null!=e.padding){var a,r,s=e.padding.split(" "),l=s.length;4===l&&(a=Math.floor((parseInt(s[1])+parseInt(s[3]))/2),r=Math.floor((parseInt(s[0])+parseInt(s[2]))/2)),i=r||parseInt(s[0]),o=a||(1===l?parseInt(s[0]):parseInt(s[1]))}else{var c=f.SHAPEPADDING[n].fit[t];o=(null==c?void 0:c.paddingX)||2,i=(null==c?void 0:c.paddingY)||2}if($("#mind-customise-paddingt").spinner("setValue",i+"px"),$("#mind-customise-paddingr").spinner("setValue",o+"px"),$("#mind-customise-paddingb").spinner("setValue",i+"px"),$("#mind-customise-paddingl").spinner("setValue",o+"px"),null!=e.lineStyle){var u=e.lineStyle.lineColor,p=e.lineStyle.lineWidth,h=e.lineStyle.lineType;$("#mind-customise-linew").spinner("setValue",p+"px"),$("#mind-customise-linec").colorButton("setColor",u),$("#mind-customise-linet").attr("ac",h);var m=$("#mind-customise-linet-list_ [ac='"+h+"']").find(".po-diagraming-icons").html();$("#mind-customise-linet").button("setText",m)}if(n){$("#mind-customise-shape").attr("ac",n);var g=$("#mind-customise-bsl [ac='"+n+"']").find(".po-diagraming-icons").html();$("#mind-customise-shape").button("setText",g)}if("bold"==e["font-weight"]?$("#mind-customise-b").addClass("selected"):$("#mind-customise-b").removeClass("selected"),"italic"==e["font-style"]?$("#mind-customise-i").addClass("selected"):$("#mind-customise-i").removeClass("selected"),$("#mind-font-color-customise").colorButton("setColor",e.color),null==e.border&&null==e["border-width"]||0==e["border-width"])$("#mind-customise-bw").children("span").text(d.default.t("None")),$("#mind-customise-bc").button("disable");else if(null!=e["border-width"])$("#mind-customise-bw .text-content").text(e["border-width"]+"".concat(-1===(e["border-width"]+"").indexOf("px")?"px":"")),$(".customise-bdstyle").find(".mind-color-box").removeClass("mind-disable"),$("#mind-customise-bc").button("enable").colorButton("setColor",e["border-color"]||"#000");else{var v=e.border.split(" ")[0],b=e.border.split(" ")[2];null!=v&&($("#mind-customise-bw").spinner("setValue",v),$("#mind-customise-bc").button("enable").colorButton("setColor",b),$(".customise-bdstyle").find(".mind-color-box").removeClass("mind-disable"))}null!=e.glassEffect?$("#mind-customise-sd").addClass("selected"):$("#mind-customise-sd").removeClass("selected"),$("#mind-customise-fill").colorButton("setColor",e.background||e.backgroundColor)},initEvent:function(){var e=$("#customView-iframe");g.iframeViewFn(e[0]).then(function(e){e.initEvent(function(e){$("#mind-customise-topic").children("span[tp="+e+"]").trigger("click")})})},showThemeOperate:function(e,t){$(".mind-theme-dlg").dialog("close"),$(".mind-theme-customise-dlg").dialog("close");var n=$(".mind-exists-dlg");0===n.length&&(n=$('\n                <div class="mind-exists-dlg mind-dlg" style="height:190px;">\n                    <h3 po-i18n=\'Change_Theme_Style\'>'.concat(d.default.t("Change_Theme_Style"),'</h3>\n                    <div class="mind-context-menu-content" style="margin-top: 10px;">\n                        <div style="font-size:14px;" po-i18n=\'Holiday_style_manually_before\'>').concat(d.default.t("Holiday_style_manually_before"),"</div>\n                        <div style=\"font-size:12px;margin-top:8px;\" po-i18n='Completely_override_the_current_style'>").concat(d.default.t("Completely_override_the_current_style"),'</div>\n                    </div>\n                    <div class="mind-dlg-buttons" style="padding:0; margin-top: 15px;">\n                        <span id="btn-style-overwrite" style="width:50px; float: left;" class="mind-button" po-i18n=\'Cover\'>').concat(d.default.t("Cover"),'</span>&nbsp;&nbsp;&nbsp;\n                        <span id="btn-style-remain" style="width:128px;color:#888;" class="mind-button gray" po-i18n=\'Keep_manually_set_styles\'>').concat(d.default.t("Keep_manually_set_styles"),"</span>&nbsp;\n                    </div>\n                </div>\n            ")),$("body").append(n)),n.dialog(),$("#btn-style-overwrite").off("click").on("click",function(){t&&t(!0),$(".mind-exists-dlg").dialog("close")}),$("#btn-style-remain").off("click").on("click",function(){t&&t(!1),$(".mind-exists-dlg").dialog("close")}),$("#btn-style-cancel").off("click").on("click",function(){$(".mind-exists-dlg").dialog("close")})},emptyCusThemesTip_wps:"<div class='upgrade-theme-tip' style='text-align:center'>".concat(d.default.t("js.Current_user_does_not_support"),"<br><a class='theme-upgrade-link' style='color:#54B783;cursor: pointer;display:inline-block;margin-top:8px' target='_blank'>").concat(d.default.t("js.To_upgrade"),"</a></div>"),emptyCusThemesTip_po:'<div><span style="font-size:36px;" class="po-diagraming-icons">&#xe692;</span></div><div style="font-size:14px;margin-top:14px;">'.concat(d.default.t("js.No_custom_style_yet"),'</div><div class="mind-corner-des">').concat(d.default.t("js.Click_on_Customize_Theme_Style_below"),"</div>"),renderCustomiseEmpty:function(){var e="wps"===window.source&&m.vipState.test("themesCustomise")!==1/0?this.emptyCusThemesTip_wps:this.emptyCusThemesTip_po,t=[];t.push("<div class='themes_empty'>"+e+"</div>"),$("#mind-customise-themes").html(t.join("")),$("#mind-change-customise-themes").html(t.join("")),$(".theme-upgrade-link").off().on("click",function(e){e.stopPropagation(),m.vipState.limit({type:"theme-upgrade-link",pos:"theme-upgrade-link"})}),sessionStorage.removeItem("customiseThemes")},renderCustomiseThemes:function(e){if(0!=e.length){for(var t=["<ul class='theme_list thick-scrollbar'>"],n=$("#mind-customise-themes"),i=0;i<e.length;i++){var o=e[i],a=JSON.parse(o.theme);if(null!=a){var r=a.thumbUrl||"../images/delicate-dark.png",s=o.themeId,l=editorGlobal.authObj.mindTheme,c="";l&&s==l&&(c='<span class="user-theme-tip"><label>'+d.default.t("js.Default")+"</label></span>");var p="<li><div cid = '"+o.id+"' themeid='"+s+"' tit='"+s+"'><img src='"+r+"'/>"+c+"</div><div class='theme-item-op po-diagraming-icons'>&#xe904;</div></li>";t.push(p)}}t.push("</ul>"),n.html(t.join(""));var m=editorGlobal.mindMap.mindData.theme;m&&!u.Util.isJSONString(m)&&$("div[themeid="+m+"]").length&&$("div[themeid="+m+"]").parent().addClass("selected"),m&&u.Util.isJSONString(m)&&$("div[themeid="+JSON.parse(m).id+"]").parent().addClass("selected"),n.find("div[themeId]").off().on({click:function(){var e=$(this).attr("themeId");if(!$(this).parent().hasClass("selected")){$(this).parent().siblings().removeClass("selected");var t=f(e);editorGlobal.mindMap.emit("recordThemeDom",$(this).parent()),editorGlobal.mindMap.setThemeConfig(t),(0,h.$poCollect)("mind_click",{button:"change-theme",btn_pos:"right-panel",power:"风格"})}},mouseover:function(){var e,t=f($(this).attr("themeId"));null===(e=editorGlobal.mindMap)||void 0===e||e.skeletonStyle.viewTheme("",t)},mouseout:function(){var e;null===(e=editorGlobal.mindMap)||void 0===e||e.skeletonStyle.viewTheme("close")}})}else this.renderCustomiseEmpty();function f(e){var t=null,n=window.sessionStorage.getItem("customiseThemes");if(null!=n&&""!=n){var i=JSON.parse(n);if(i.length>0)for(var o=0;o<i.length;o++){var a=i[o];if(a.id==e){t=a;break}}}return t}},getcustomTheme:function(e){var t=sessionStorage.getItem("customiseThemes"),n=null;if(null!=t)for(var i=JSON.parse(t),o=0;o<i.length;o++){var a=i[o];if(a.id==e){n=a;break}}return n},removeCustomiseTheme:function(e,t){(0,s.injectExtraAsynCall)("onServerApi",{apiName:"deleteMindTheme",params:{id:e}},function(e){"error"!=e.result?($.toast({type:"success",text:d.default.t("js.Deleted_successfully")}),t()):$.toast({type:"error",text:d.default.t("js.Delete_failed")})})},loadCustomiseThemesOn:function(e){var t=this;if(!1===editorGlobal.config.customiseTheme)return $(".mind-themes-tab [tp=mind-customise-themes]").remove(),$("#mind-theme-customise").remove(),void $(".mind-right-theme .con").css("height","calc(100% - 54px)");(0,s.injectExtraAsynCall)("onServerApi",{apiName:"getMindCustomTheme",params:{}},function(n){if(null==n)t.renderCustomiseEmpty(),e&&e();else{for(var i=[],o=0;o<n.length;o++){var a=n[o],r="object"==w(a.theme)?a.theme:JSON.parse(a.theme);i.push(r)}t.renderCustomiseThemes(n),sessionStorage.setItem("customiseThemes",JSON.stringify(i))}})},themeTopArr:[],loadThemes:function(e,t){var n=this;if(null!=e){t||(t=editorGlobal.authObj.mindTheme||"theme3");var i=$("#mind-themes"),o=l.configure_theme.wps.theme_tags,a=l.configure_theme.wps.themes_def;i.children("ul").length&&i.children("ul").remove();var r="<ul class='theme_list'>";if(o){var s="";$.each(o,function(e,n){var i=n.list;if(i)for(var o=0;o<i.length;o++){var r=i[o],c=l.themesDepot[r];if(c){var u="",p="";-1==a.indexOf(r)&&(u='<img class="member-tip" src="'+staticBasePath+'/wps/images/wps_vip_icon_corner.svg" />'),t&&r==t&&(p='<span class="user-theme-tip"><label>'+d.default.t("js.Default")+"</label></span>");var h="";(u||p)&&(h='<div class="info-tip">\n                               '.concat(p,"\n                               ").concat(u,"\n                            </div>")),s+="<li><div tit='"+r+"'><img src='"+c.thumbUrl+"'/></div><div class='theme-item-op po-diagraming-icons'>&#xe904;</div>"+h+"</li>"}}}),r+=s}r+="<div style='height:220px'></div></ul>",i.append(r);var p=editorGlobal.mindMap.mindData.theme;p&&!u.Util.isJSONString(p)&&$("div[tit="+p+"]").length&&$("div[tit="+p+"]").parent().addClass("selected"),$(".theme-tag[tag_id=basic]").addClass("selected"),$("#mind-v5-themes-con").find("div[tit]").off("click").on({click:function(e){var t=$(this),n=t.attr("tit");t.parent().hasClass("selected")||(m.vipState.test("mindTheme")||-1!=a.indexOf(n)?(editorGlobal.mindMap.emit("recordThemeDom",$(this).parent()),editorGlobal.mindMap.setThemeConfig(n),e.stopPropagation()):(0,h.$poCollect)("触发会员功能",{function_name:"style_"+n}))},mouseover:function(){var e=$(this).attr("tit");void 0!==window.removeViewTimer&&clearTimeout(window.removeViewTimer),void 0!==window.showViewTimer&&clearTimeout(window.showViewTimer),window.showViewTimer=setTimeout(function(){n.themePreview(e)},200)},mouseout:function(){window.removeViewTimer=setTimeout(function(){n.closePreview()},200)}}),$(".themes_con").off().on("scroll",function(){for(var e=$(this).scrollTop(),t=0;t<n.themeTopArr.length;t++)e>n.themeTopArr[t]-50&&!$(".theme-tag").eq(t).hasClass(".selected")&&($(".theme-tag.selected").removeClass("selected"),$(".theme-tag").eq(t).addClass("selected"))}),$(".mind-themes-list-con").off("click").on("click",".theme-item-op",function(e){e.stopPropagation();var t=$(this);$("#mind-customise-theme-list").children().hide(),t.prev().attr("cid")?$("#mind-customise-theme-list").children("[tp=edit_theme], [tp=delete_theme], [tp=set_def_theme]").show():$("#mind-customise-theme-list").children("[tp=set_def_theme]").show(),$("#mind-customise-theme-list").dropdown({target:t,position:"right",zindex:11,onSelect:function(e){var i=e.attr("tp");if("edit_theme"==i){var o=t.prev().attr("themeId"),a=n.getcustomTheme(o);a&&(n.editCustomiseId=a.id,n.customiseTheme=a,n.renderTopic(),n.customiseDlg(a,"edit"))}else if("set_def_theme"==i){var r=t.prev().attr("tit");if(!l.themesDepot[r]&&-1==r.indexOf("customise_"))return void $.toast({type:"error",text:d.default.t("js.Default_style_setting_failed")});if(t.parent().find(".member-tip").length>0&&!m.vipState.test("mindTheme"))return void n.themeUpload(r);c.Server.setConfig("theme",r,function(e){if(null!=e){editorGlobal.authObj.mindTheme=r;var t=$("#mind-themes, #mind-customise-themes").find("li [tit="+r+"]").parent,n=t.find(".info-tip");n.length||(n=$("<div class='info-tip'></div>"),t.append(n));var i='<span class="user-theme-tip"><label>'+d.default.t("js.Default")+"</label></span>";return $(".user-theme-tip").remove(),n.prepend(i),void $.toast({type:"success",text:d.default.t("js.Setting_successful")})}$.toast({type:"error",text:d.default.t("js.Default_style_setting_failed")})})}}});var i=t.prev().attr("themeid"),o=d.default.t("js.Delete_the_current_style");i&&t.parent().find(".user-theme-tip").length>0&&(o=d.default.t("js.This_style_is_set")),$("[tp=delete_theme]").popconfirm({title:o,success:function(){n.removeCustomiseTheme(i,function(){n.loadCustomiseThemesOn(),n.editCustomiseId=null,t.parent().find(".user-theme-tip").length>0&&($("[tit=theme3]").append('<span class="user-theme-tip"><label>'+d.default.t("js.Default")+"</label></span>"),editorGlobal.authObj.mindTheme="theme3")})}})})}},loadPoThemes:function(e){e||(e="theme3");var t=!0;$.isEmptyObject(editorGlobal.authObj)&&void 0===editorGlobal.authObj.mindTheme&&(t=!1);var n=$("#mind-v5-themes-con"),i=l.configure_theme.theme_tags,o=l.configure_theme.themes_svip,a=null;"v1"===editorGlobal.config.uiType&&(t=!0,o=[],i=l.configure_theme.wps.theme_tags,a=l.configure_theme.wps.themes_def),n.children("ul").length&&n.children("ul").remove();var r="<ul class='theme_list thick-scrollbar'>";i&&$.each(i,function(n,i){var s=i.list;if(s)for(var c=0;c<s.length;c++){var u=s[c],p=l.themesDepot[u];if(p){var h="",m="";(o.indexOf(u)>-1||a&&-1===a.indexOf(u))&&t&&(h=editorGlobal.vipIcons.default?'<img class="member-tip" src="'.concat(editorGlobal.vipIcons.default,'">'):""),e&&u==e&&(m='<span class="user-theme-tip"><label>'+d.default.t("js.Default")+"</label></span>");var f=t?"<div class='theme-item-op po-diagraming-icons'>&#xe904;</div>":"",g="";(h||m)&&(g='<div class="info-tip">\n                                '.concat(m,"\n                                ").concat(h,"\n                            </div>")),r+="<li><div tit='"+u+"'><img src='"+p.thumbUrl+"'/></div>"+f+g+"</li>"}}}),r+="</ul>",n.append(r),$(".theme_list").each(function(e,t){var n=parseInt($(t).position().top);g.themeTopArr.push(n)});var s=editorGlobal.mindMap.themeConfig;s&&!u.Util.isJSONString(s)&&$("div[tit="+s+"]").length&&$("div[tit="+s+"]").parent().addClass("selected"),s&&"object"==w(s)&&s.id&&$("div[tit="+s.id+"]").parent().addClass("selected"),$(".theme-tag[tag_id=hot]").addClass("selected"),$("#mind-v5-themes-con").find("div[tit]").off("click").on("click",function(e){var t=$(this),n=t.attr("tit");t.parent().hasClass("selected")||(t.parent().find(".member-tip").length>0&&!m.vipState.test("mindTheme")?m.vipState.limit({title:d.default.t("js.Unlock_all_official_theme_styles"),pointsSource:"设置主题风格",pos:"mindTheme",type:"mindTheme"}):($(this).parent().siblings().removeClass("selected"),editorGlobal.mindMap.emit("recordThemeDom",$(this).parent()),editorGlobal.mindMap.setThemeConfig(n),(0,h.$poCollect)("mind_click",{button:"change-theme",btn_pos:"right-panel",power:"风格"}),e.stopPropagation()))}).on("mouseover",function(){var e,t=$(this).attr("tit"),n=editorGlobal.mindMap.getThemeObject(t);null===(e=editorGlobal.mindMap)||void 0===e||e.skeletonStyle.viewTheme("",n)}).on("mouseout",function(){var e;null===(e=editorGlobal.mindMap)||void 0===e||e.skeletonStyle.viewTheme("close")}),$(".mind-themes-list-con").off("click").on("click",".theme-item-op",function(e){e.stopPropagation();var t=$(this);$("#mind-customise-theme-list").children().hide(),t.prev().attr("cid")?$("#mind-customise-theme-list").children("[tp=edit_theme], [tp=delete_theme], [tp=set_def_theme]").show():$("#mind-customise-theme-list").children("[tp=set_def_theme]").show(),$("#mind-customise-theme-list").dropdown({target:t,zindex:11,position:"right",onSelect:function(e){var n=e.attr("tp");if("edit_theme"==n){var i=t.prev().attr("themeId"),o=g.getcustomTheme(i);o&&(g.editCustomiseId=o.id,g.customiseTheme=o,g.customiseDlg(o,"edit"))}else if("set_def_theme"==n){var a=t.prev().attr("tit");if(t.parent().find(".member-tip").length>0&&!m.vipState.test("mindTheme"))return void g.themeUpload();var r=t.prev().attr("themeConfig"),s=r?decodeURIComponent(r):a;c.Server.setConfig("theme",s,function(e){if(null!=e){editorGlobal.authObj.mindTheme=a;var t=$("#mind-themes, #mind-v5-themes-con, #mind-customise-themes").find("li [tit="+a+"]").parent(),n=t.find(".info-tip");n.length||(n=$("<div class='info-tip'></div>"),t.append(n));var i='<span class="user-theme-tip"><label>'+d.default.t("js.Default")+"</label></span>";return $(".user-theme-tip").remove(),n.prepend(i),void $.toast({type:"success",text:d.default.t("js.Setting_successful")})}$.toast({type:"error",text:d.default.t("js.Default_style_setting_failed")})})}}});var n=t.prev().attr("themeid"),i=d.default.t("js.Delete_the_current_style");n&&t.parent().find(".user-theme-tip").length>0&&(i=d.default.t("js.This_style_is_set")),$("[tp=delete_theme]").popconfirm({title:i,success:function(){g.removeCustomiseTheme(n,function(){g.loadCustomiseThemesOn(),g.editCustomiseId=null,t.parent().find(".user-theme-tip").length>0&&($("[tit=theme3]").append('<span class="user-theme-tip"><label>'+d.default.t("js.Default")+"</label></span>"),editorGlobal.authObj.mindTheme="theme3")})}})})},previewThemeId:"",themePreview:function(e){var t=l.themesDepot[e];if(this.previewThemeId!=e){if(this.previewThemeId=e,e.indexOf("customise_")>-1){var n=window.sessionStorage.getItem("customiseThemes");if(null!=n&&""!=n){var i=JSON.parse(n);if(i.length>0)for(var o=0;o<i.length;o++){var a=i[o];if(a.id==e){(t=a).title=d.default.t("js.Custom_Style");break}}}}if(t){var r=$("#mind-theme-preview");if(r.length<1){var c="<span class='preview-theme-SVIP'><img src='"+staticBasePath+"/wps/images/new_svip_icon.svg' />"+d.default.t("js.Super_Member_Only")+"</span>";r=$("<div id='mind-theme-preview' class='mind-theme-preview'>"+"<div class='view-header'><span class='view-title'>".concat(d.default.t("js.Default_Theme_Style"),"</span>")+c+"</div><div></div><div class='view-content'><iframe id = 'preview-iframe' name='preview' class= 'preview-iframe' frameborder='0'></iframe><div class='view-theme-loading'><img src='"+staticBasePath+"/wps/images/insert-loading1.gif' /></div></div></div>").appendTo("body")}var u=$(".mind-theme-dlg").position(),p=u.top,h=u.left;r.css({top:p+50,left:h-r.outerWidth()-10}).show(),l.configure_theme.wps.themes_def.indexOf(e)>-1||e.indexOf("customise_")>-1?$(".preview-theme-SVIP").hide():$(".preview-theme-SVIP").show(),t.title&&$(".view-title").html(t.title),$(".view-theme-loading").show();var m=$("#preview-iframe");if(null==m.attr("src")){var f="/mindmap/custom_view?chartId="+editorGlobal.chartId+"&t="+Math.round(new Date/1e3);(0,s.injectExtraAsynCall)("onServerApi",{apiName:"getMindCustomThemesUrl",params:{}},function(e){f="string"==typeof e?e:f,m.attr("src",f)})}g.iframeViewFn(m[0]).then(function(e){e.createMind(t,"themeView"),$(".view-theme-loading").hide()})}}},iframeLoadStatus:{},iframeViewFn:function(e){var t=this;return C(k().mark(function n(){var i;return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t,!e){n.next=5;break}return n.next=4,function(e){var t=e.id;return i.iframeLoadStatus[t]||(i.iframeLoadStatus[t]={isLoaded:!1,loadPromise:new Promise(function(n){e.addEventListener("load",function(){i.iframeLoadStatus[t].isLoaded=!0,n()})})}),i.iframeLoadStatus[t].loadPromise}(e);case 4:return n.abrupt("return",e.contentWindow);case 5:case"end":return n.stop()}},n)}))()},closePreview:function(){$("#mind-theme-preview").hide(),this.previewThemeId=""},base64ToBlob:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([i],{type:n})},themeUpload:function(){m.vipState.limit({title:d.default.t("js.Unlock_all_official_theme_styles"),pointsSource:"设置主题风格"})}};window.themeCustomise=g},46346:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.loadOutline=t.Outline=void 0,n(27531),n(61894),n(65534),n(82403),n(33809),n(38887),n(6284),n(96038),n(69268),n(58500),n(86837),n(84889),n(54938);var o=n(41295),a=n(72011),r=n(15240),s=n(63898),l=n(56276),c=i(n(32483)),d=t.Outline={dataList:[],nodeList:{},data:{},visible:!1,renderDom:function(e){var t,n='<div id="outline-dlg" style="display:none;" tit="search">\n\t\t\t\t<div class="corner-title">\n\t\t\t\t\t<div class="label">'.concat(c.default.t("Directory"),'</div>\n\t\t\t\t\t<div id="outline-type" class="po-tool-select-button" style="display: none"><span class="text-content">').concat(c.default.t("Theme"),'</span></div>\n\t\t\t\t\t<div class="top-op-btn">\n\t\t\t\t\t<div class="po-tool-button change-btn" title="').concat(c.default.t("Look_for"),'"><span class="po-diagraming-icons"></span></div>\n\t\t\t\t\t<div class="po-tool-button change-btn" title="').concat(c.default.t("Replace"),'"><span class="po-diagraming-icons"></span></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="outline-search po-search-con">\n\t\t\t\t\t<div class="outline-retrieval">\n\t\t\t\t\t<div style="position: relative;"><input id="outline-search-ipt" autocomplete="off" type="text" class="po-input-other" value="" placeholder="').concat(c.default.t("Enter_what_to_find"),'"><div class="search-del" style="display:none"><i class="po-diagraming-icons"></i></div></div>\n\t\t\t\t\t<div style="margin-top: 8px; position: relative; display: none;"><input id="outline-replace-ipt" autocomplete="off" type="text" class="po-input-other replace-input" value="" placeholder="').concat(c.default.t("Enter_replacement_content"),'"><div class="search-del" style="display:none"><i class="po-diagraming-icons"></i></div></div>\n\t\t\t\t\t<div class="replace-con" style="display: none;"><span class="po-button-small primary dis-current">').concat(c.default.t("Replace"),'</span><span class="po-button-small primary dis-total">').concat(c.default.t("Replace_and_all"),'</span></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="overflow: hidden;height: calc(100% - 82px)">\n\t\t\t\t\t<div class="outline-wrapper scroll">\n\t\t\t\t\t<div class="outline-curt-bg"></div>\n\t\t\t\t\t<div class="outline-hover-bg"></div>\n\t\t\t\t\t<div style="margin:16px 20px 8px 20px;font-size:14px;line-height: 28px;cursor:pointer"></div>\n\t\t\t\t\t<div id="outline-container" style="padding-bottom: 50px;"></div>\n\t\t\t\t\t<div id="outline-container-search" style="padding-bottom: 50px;"></div>\n\t\t\t\t\t<div class="outline-dragable"><div class="dragable_line"></div></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n'),i='<div id="outline-dlg" style="display:none;" tit="search">\n\t\t\t\t\t<div class="corner-title">\n\t\t\t\t\t<div id="outline-type" class="po-tool-select-button" style="display: none"><span class="text-content" >'.concat(c.default.t("Theme"),'</span></div>\n\t\t\t\t\t<div class="top-op-btn">\n\t\t\t\t\t\t<div class="po-tool-button change-btn" >').concat(c.default.t("Look_for"),'</div>\n\t\t\t\t\t\t<div class="po-tool-button change-btn" >').concat(c.default.t("Replace"),'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="outline-search po-search-con">\n\t\t\t\t\t<div class="outline-retrieval">\n\t\t\t\t\t\t<div style="position: relative;"><input id="outline-search-ipt" autocomplete="off" type="text" class="po-input-other" value="" placeholder="').concat(c.default.t("Enter_what_to_find"),'" /><div class=\'search-del\' style=\'display:none\'><i class=\'po-diagraming-icons\'>&#xe995;</i></div><div class="search-icon"><i class=\'mind-icons\'>&#xe79b;</i></div></div>\n\t\t\t\t\t\t<div style="margin-top: 8px; position: relative; display: none;"><input id="outline-replace-ipt" autocomplete="off" type="text" class="po-input-other replace-input" value="" placeholder="').concat(c.default.t("Enter_replacement_content"),'"/><div class=\'search-del\' style=\'display:none\'><i class=\'po-diagraming-icons\'>&#xe995;</i></div></div>\n\t\t\t\t\t\t<div class="replace-con" style="display: none;"><span class="po-button-small primary dis-current" >').concat(c.default.t("Replace"),'</span><span class="po-button-small primary dis-total">').concat(c.default.t("Replace_and_all"),'</span></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="overflow: hidden;height: calc(100% - 92px);margin-top: 24px;">\n\t\t\t\t\t<div class="outline-wrapper scroll">\n\t\t\t\t\t\t<div class="outline-curt-bg"></div>\n\t\t\t\t\t\t<div class="outline-hover-bg"></div>\n\t\t\t\t\t\t<div style="font-size:14px;line-height: 22px;cursor:pointer;padding-top: 4px; padding-bottom: 4px; margin-bottom: 2px;"></div>\n\t\t\t\t\t\t<div id="outline-container" style="padding-bottom: 50px;"></div>\n\t\t\t\t\t\t<div id="outline-container-search" style="padding-bottom: 50px;"></div>\n\t\t\t\t\t\t<div class="outline-dragable"><div class="dragable_line"></div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>'),o='<div id="outline-dlg" style="display:none;" tit="search">\n\t\t\t\t\t<div class="corner-title">\n\t\t\t\t\t<div id="outline-type" class="po-tool-select-button" style="display: none"><span class="text-content" >'.concat(c.default.t("Theme"),'</span></div>\n\t\t\t\t\t<div class="top-op-btn">\n\t\t\t\t\t\t<div class="po-tool-button change-btn">').concat(c.default.t("Look_for"),'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="outline-search po-search-con">\n\t\t\t\t\t<div class="outline-retrieval">\n\t\t\t\t\t\t<div style="position: relative;"><input id="outline-search-ipt" autocomplete="off" type="text" class="po-input-other" value="" placeholder="').concat(c.default.t("Enter_what_to_find"),'"  /><div class=\'search-del\' style=\'display:none\'><i class=\'po-diagraming-icons\'>&#xe995;</i></div><div class="search-icon"><i class=\'mind-icons\'>&#xe79b;</i></div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="overflow: hidden;height: calc(100% - 92px);margin-top: 24px;">\n\t\t\t\t\t<div class="outline-wrapper scroll">\n\t\t\t\t\t\t<div class="outline-curt-bg"></div>\n\t\t\t\t\t\t<div class="outline-hover-bg"></div>\n\t\t\t\t\t\t<div style="font-size:14px;line-height: 22px;cursor:pointer;padding-top: 4px; padding-bottom: 4px; margin-bottom: 2px;"></div>\n\t\t\t\t\t\t<div id="outline-container" style="padding-bottom: 50px;"></div>\n\t\t\t\t\t\t<div id="outline-container-search" style="padding-bottom: 50px;"></div>\n\t\t\t\t\t\t<div class="outline-dragable"><div class="dragable_line"></div></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>');t="v1"===editorGlobal.config.uiType?editorGlobal.readonly?o:i:editorGlobal.readonly?o:n,$(e).append($(t))},initEvent:function(){var e=this;editorGlobal.mindMap.keyCommand.addShortcut("Cmd+f|Control+f",function(){s.mindCorner.showCorner("search","left",function(){u.init()})},{ignoreReadonly:!0}),editorGlobal.mindMap.on("load-outline",function(){s.mindCorner.showCorner("search","left",function(){u.init()})}),editorGlobal.mindMap.on("outline-prebuild",function(t){e.visible&&d.controller.updateNodeById(t)}),editorGlobal.mindMap.on("topic_selected",function(){e.updateSelectedBg()})},updateSelectedBg:function(){var e=editorGlobal.mindMap.renderer.selectedTopicList;if(this.visible&&!d.opts.linkSearch){var t=e.length;if(t>0){$(".outline-curt-bg").show();var n=e[t-1].id;d.controller.selectNodeById(n)}else $(".outline-curt-bg").hide()}},hide:function(){this.visible=!1},init:function(e,t){this.visible=!0,this.data=t,this.opts=$.extend({listType:"dot",indent:"default",target:"outline-con",line:{show:!1}},e),this.designer=document.getElementById(e.target),this.searchDesigner=document.getElementById(e.searchTarget),this.searchIpt=document.getElementById(e.searchIpt),this.searchDesigner.innerHTML="",this.designer.style.display="block",this.searchDesigner.style.display="none",this.dataList=this.topicList.resetTopicList(),this.resetNodeList(),"link-list-container"==e.target&&$(".node-element").remove(),$(this.searchIpt).focus().val(""),null!=t?this.controller.renderAll():this.controller.add(),this.controller.initEvent()},initNodeEvent:function(e){var t=this,n=$(e).children(".node-self");n.off("mouseenter").on("mouseenter.outline",function(e){t.controller.posNodeBg(n[0],"hover"),e.stopPropagation()}),n.off("mouseleave").on("mouseleave.outline",function(e){t.controller.posNodeBg(void 0,"hover"),e.stopPropagation()}),n.off("click").on("click.outline",function(){var n=$(e).attr("id").replace("ol_","").replace("search_",""),i=t.util.getParentId(n);d.controller.selectNodeById(n),editorGlobal.mindMap.renderer.showTopics(i,!0),editorGlobal.mindMap.renderer.selectByIds([n])}),injectExtraAsynCall("openMention")&&(o.mention.filterId?n.find(".mention").addClass("dis"):(n.find(".mention").removeClass("dis"),n.off("dblclick.mention").on("dblclick.mention",".mention[data-type=0]",function(){var e=$(this);o.mention.curMention=e,o.mention.focusFilter(e)}))),$("#ol_root").off().on("click",function(){d.controller.selectNodeById("root"),editorGlobal.mindMap.renderer.getTopicById("root")._topic.selected()}),this.opts.readonly},controller:{setTitle:function(e){var t=$(d.designer).prev();t.html('<div class="node-self"><div class="node-title">'.concat(e,"</div></div>")).attr("id","ol_root"),editorGlobal.mindMap.emit("renderEquation",t.get(0)),editorGlobal.mindMap.emit("renderTopicRichTexts",t.get(0),!0)},renderAll:function(e){var t,n,i=d.data,o=d.designer,a="";if(e&&Object.keys(e).length>0){if(document.querySelector("#ol_"+e.id).innerHTML="",this.add(null,e),e.summaries&&e.summaries.length>0){for(var r=0;r<e.children.length;r++)!0===e.children[r].summary&&delete e.children[r];e.children=e.children.concat(e.summaries)}(a=e.children.concat(e.freeChildren||[]))&&!e.collapsed&&this.renderChild(a)}else{a=i.children||[],t=i.leftChildren||[],n=i.summaries||[],this.setTitle(i.title),o.innerHTML="";var s=a.concat(t,n,i.freeChildren||[]);0!=s.length&&this.renderChild(s,o)}},renderChild:function(e,t){for(var n=0,i=e.length;n<i;n++){var o=e[n];if(o.children=o.children.concat(o.freeChildren||[]),o.summaries&&o.summaries.length>0&&(o.children=o.children.concat(o.summaries),delete o.summaries),this.add(null,o,t),o.children.length>0){var a=o.children;this.renderChild(a)}}},add:function(e,t,n){var i=document,o=d.opts,r=t?t.id:d.util.newId();e=e||0;var s=null,l=i.querySelector("#ol_"+r);l?s=l:(s=i.createElement("div"),"wider"==o.indent?s.setAttribute("class","node-element wider"):s.setAttribute("class","node-element"),s.setAttribute("id","ol_"+r),null!=t&&(null==n&&(n=i.getElementById("ol_"+t.parent).querySelector(".node-children")),n.appendChild(s)));var c=i.createElement("div");c.setAttribute("class","node-self"),s.appendChild(c);var u=i.createElement("span");c.appendChild(u);var p=i.createElement("span");u.appendChild(p);var h=i.createElement("div");h.setAttribute("class","node-title"),o.readonly||h.setAttribute("contenteditable",!0),h.setAttribute("spellcheck","false"),h.setAttribute("autocapitalize","off");var m=t?t.title:"";h.innerHTML=m.replace(/<br>/g,"&nbsp;&nbsp;"),c.appendChild(h);var f=t?t.tags:"";if(null!=f){var g=i.createElement("div");g.setAttribute("class","node-tags"),f.map(function(e){if(null!=e){var t=i.createElement("div");t.setAttribute("class","po-diagraming-icons node-tag"),t.innerHTML=e.text,g.appendChild(t)}}),c.appendChild(g)}editorGlobal.config.showComment&&a.comment.Controller.search.renderCommentList(c,t.id);var v=i.createElement("div"),b="node-children";o.line.show&&(b+=" line"),o.line.dashed&&(b+=" dashed"),v.setAttribute("class",b),s.appendChild(v),"num"==o.listType?u.setAttribute("class","node-type num"):u.setAttribute("class","node-type dot"),null!=t?this.addStateIcon(t,s):h.focus(),d.initNodeEvent(s),editorGlobal.mindMap.emit("renderEquation",$(s).get(0)),editorGlobal.mindMap.emit("renderTopicRichTexts",$(s).get(0),!0)},addStateIcon:function(e,t){var n=document,i=t.querySelector(".node-state"),o=t.querySelector(".node-self");if(e.summaries=e.summaries?e.summaries:[],e.children.length>0||e.summaries.length>0&&null==i){(i=n.createElement("div")).setAttribute("class","node-state");var a=n.createElement("span");a.setAttribute("class","collapse-icon openIcon"),i.appendChild(a),o.appendChild(i)}},selectNodeById:function(e){var t=document.querySelector("#ol_"+e),n=null;$(d.searchDesigner).is(":visible")&&(t=document.querySelector("#search_ol_"+e)),t?(n="root"==e?t:t.querySelector(".node-self"),this.selectNode(n)):this.posNodeBg(void 0,"current")},updateNodeById:function(e){for(var t=e.topics,n=e.insertChild,i=$(d.searchIpt).val(),s=[],l=0;l<t.length;l++){var c,u,p=t[l],h=p.id;if((i.length>0||d.dataType||injectExtraAsynCall("openMention")&&o.mention.filterId)&&(d.util.resetDataList().forEach(function(e){if(e.tags&&0!=e.tags.length&&e.tags.map(function(t){t.text.indexOf(i)>-1&&-1==s.indexOf(e)&&s.push(e)}),injectExtraAsynCall("openMention")){var t=$("#"+"".concat(e.summary?"summary-":"topic-")+e.id).find(".mention");t.length>0&&t.each(function(t,n){if($(n).html().indexOf(i)>-1)return-1==s.indexOf(e)&&s.push(e),!1})}a.comment.Controller.search.filterComments(e.id,i)&&-1==s.indexOf(e)&&s.push(e),e.title.replace(/<\/?[^>]*>/g,"").toUpperCase().includes(i.toUpperCase())&&""!=i&&-1==s.indexOf(e)&&s.push(e)}),this.searchNode(s)),"root"==h)return d.data=(0,r.copyTopicData)(editorGlobal.mindMap.renderer.root),void this.renderAll();if(n||"current"==e.rebuild){var m=document.querySelector("#ol_"+h),f=this.getNodeById(h);if(null==m)return;var g=m.querySelector(".node-children");return g&&(g.innerHTML=""),void this.renderAll(f)}var v=editorGlobal.mindMap.renderer.getTopicById(p.parent);if("root"==(null===(c=v)||void 0===c?void 0:c.id))return d.data=(0,r.copyTopicData)(editorGlobal.mindMap.renderer.root),void this.renderAll();var b=null===(u=document.querySelector("#ol_"+v.id))||void 0===u?void 0:u.querySelector(".node-children");b&&(b.innerHTML=""),this.renderAll(v)}},foldNodeById:function(e){var t=e.type,n=e.id;"show"!=t?this.closeChildren("ol_"+n):this.openChildren("ol_"+n)},nodePosUpdate:function(e){var t=e.id,n=e.target;if("root"==n)this.renderAll();else{var i=document.querySelector("#ol_"+n),o=this.getNodeById(n),a=i.querySelector(".node-children");a&&(a.innerHTML=""),this.renderChild(o.children)}if(t!=n)if("root"==t)this.renderAll();else{var r=this.getNodeById(t),s=document.querySelector("#ol_"+t).querySelector(".node-children");s&&(s.innerHTML=""),this.renderChild(r.children)}},openChildren:function(e){var t=this.getNodeById(e.replace("ol_","")),n=document.querySelector("#"+e),i=n.querySelector(".node-children");i&&(i.innerHTML=""),t.children.length>0&&this.renderChild(t.children),t.summaries&&t.summaries.length>0&&this.renderChild(t.summaries),$(i).slideDown("fast");var o=n.querySelector(".collapse-icon");o&&(o.classList.remove("closeIcon"),o.classList.remove("openIcon"),o.classList.add("openIcon"))},closeChildren:function(e){var t=document.getElementById(e),n=t.querySelector(".node-children");$(n).slideUp("fast");var i=t.querySelector(".collapse-icon");i&&(i.classList.remove("openIcon"),i.classList.remove("closeIcon"),i.classList.add("closeIcon"))},selectNode:function(e){this.posNodeBg(e,"current"),this.selectNodeDom=e;var t=$(e).parent().attr("id");t&&t.indexOf("search")>-1?(l.publicSearchEvent.selectId=t.split("search_ol_")[1],$(".outline-search .dis-current").button("enable")):$(".outline-search .dis-current").button("disable")},selectNodeDom:null,posNodeBg:function(e,t){var n=null;if("hover"==t&&(n=document.querySelector(".outline-hover-bg")),"current"==t&&(n=document.querySelector(".outline-curt-bg")),e){var i=e.getBoundingClientRect(),o=$("#outline-dlg").parent().scrollTop();n.style.top=i.top-$("#outline-dlg").parent()[0].offsetTop+o+"px",n.style.display="block",n.style.height=e.offsetHeight+"px",i=null}else n.style.display="none"},getNodeById:function(e){return d.opts.linkSearch?d.topicList.data[e]:editorGlobal.mindMap.renderer.topicsList[e]},getParentNodeById:function(e){if(null==e)return this.getNodeById("root");e=e.replace("ol_","");var t=this.getNodeById(e);return this.getNodeById(t.parent)},hideDesigner:function(){o.mention.filterId&&($("#outline-type").hide(),$("#outline-dlg[tit=search] .corner-title").children(".label").show().html('<div class="back po-tool-button"><span class="po-diagraming-icons">&#xe973;</span></div>@'+o.mention.filterName+c.default.t("js.The_theme"))),$(d.searchIpt).focus().val(""),$(".top-op-btn").hide(),$(".outline-retrieval").children("div").not(":first").hide(),$(".top-op-btn .change-btn:eq(0)").addClass("on").siblings().removeClass("on"),d.dataList=d.util.resetDataList(),d.designer.style.display="none",d.searchDesigner.style.display="block",$(".outline-curt-bg").hide(),$(".outline-hover-bg").hide(),d.controller.searchNode(d.dataList,this.searchVal)},showDesigner:function(){$(".top-op-btn").show(),$(d.searchIpt).focus().val(""),d.designer.style.display="block",d.searchDesigner.style.display="none",$(".outline-search .dis-total").button("disable"),$(".outline-search .dis-current").button("disable"),d.updateSelectedBg()},initEvent:function(){var e=this;if($(document).off("click.node-state").on("click.node-state",".node-state",function(t){var n=$(this),i=n.parent().parent().attr("id"),o=$(n.children()[0]);o.hasClass("openIcon")?(e.closeChildren(i),o.removeClass("openIcon").addClass("closeIcon")):(e.openChildren(i),o.removeClass("closeIcon").addClass("openIcon")),t.stopPropagation()}),injectExtraAsynCall("openMention")){var t=$("#outline-type");(d.dataType||o.mention.filterId)&&(d.opts.linkSearch||e.hideDesigner()),o.mention.filterId||($("#outline-dlg[tit=search] .corner-title .label").hide(),"v1"!==editorGlobal.config.uiType&&t.show()),$("#outline-dlg").off().on("click",".back",function(){var e=t.attr("tp");d.dataType=e,editorGlobal.mindMap.emit("exitFilter")}),t.button({onClick:function(t,n){$("#mind-outline-type").dropdown({target:n,zindex:5,onSelect:function(t){var i=t.attr("ac");n.button("setText",t.text()),n.attr("tp",i),d.dataType=i,i?e.hideDesigner():e.showDesigner()}})}})}l.publicSearchEvent.init(function(t){var n=[];if(d.dataList=d.util.resetDataList(),""!=t&&t.length>0||!d.opts.linkSearch&&d.dataType||injectExtraAsynCall("openMention")&&o.mention.filterId){d.designer.style.display="none",d.searchDesigner.style.display="block",d.searchDesigner.innerHTML="";for(var i=0;i<d.dataList.length;i++){if(d.dataList[i].tags&&d.dataList[i].tags.map(function(e){e.text.indexOf(t)>-1&&-1==n.indexOf(d.dataList[i])&&n.push(d.dataList[i])}),injectExtraAsynCall("openMention")){var r=$("#"+"".concat(d.dataList[i].summary?"summary-":"topic-")+d.dataList[i].id).find(".mention");r.length>0&&r.each(function(e,o){if($(o).html().indexOf(t)>-1)return-1==n.indexOf(d.dataList[i])&&n.push(d.dataList[i]),!1})}a.comment.Controller.search.filterComments(d.dataList[i].id,t)&&-1==n.indexOf(d.dataList[i])&&n.push(d.dataList[i]),"root"!=d.dataList[i].id&&d.dataList[i].title.replace(/<\/?[^>]*>/g,"").toUpperCase().includes(t.toUpperCase())&&-1==n.indexOf(d.dataList[i])&&n.push(d.dataList[i])}$(".outline-curt-bg").hide(),e.searchNode(n,t),"link-list-container-search"!=d.searchDesigner.id&&$(d.searchIpt).focus()}else d.designer.style.display="block",d.searchDesigner.style.display="none",$(".outline-search .dis-total").button("disable"),$(".outline-search .dis-current").button("disable"),editorGlobal.mindMap.renderer.getSelectedTopic()&&$(".outline-curt-bg").show()})},searchNode:function(e,t){var n=document,i=d.opts;if(d.searchDesigner.innerHTML="",e.length>0){for(var o=0;o<e.length;o++)if("root"!=e[o].id){var r=null;(r=n.createElement("div")).setAttribute("class","node-element wider"),r.setAttribute("id","search_ol_"+e[o].id),d.searchDesigner.appendChild(r);var s=n.createElement("div");s.setAttribute("class","node-self"),r.appendChild(s);var l=n.createElement("span");s.appendChild(l);var u=n.createElement("span");l.appendChild(u);var p=n.createElement("div");p.setAttribute("class","node-title"),i.readonly||p.setAttribute("contenteditable",!0),p.setAttribute("spellcheck","false"),p.setAttribute("autocapitalize","off");var h=e[o]?e[o].title:"",m=$("#search-temp");m.length<1&&(m=$("<div id='search-temp' style='position: absolute;display:none;'>"+h+"</div>").css("z-index","-1").appendTo("body")),0==m.html(h).find("span.equation-text").length&&0==m.html(h).find("span.mention").length&&(h=h.replace(t,"<font color='#067bef'>"+t+"</font>")),p.innerHTML=h.replace(/<br>/g,"&nbsp;&nbsp;"),s.appendChild(p);var f=e?e[o].tags:"";if(null!=f){var g=n.createElement("div");g.setAttribute("class","node-tags"),f.map(function(e){if(null!=e){var i=n.createElement("div");i.setAttribute("class","po-diagraming-icons node-tag"),i.innerHTML=e.text.replace(t,"<font color='#2C78FF'>"+t+"</font>"),g.appendChild(i)}}),s.appendChild(g)}editorGlobal.config.showComment&&a.comment.Controller.search.renderCommentList(s,e[o].id),"num"==i.listType?l.setAttribute("class","node-type num"):l.setAttribute("class","node-type dot"),editorGlobal.mindMap.emit("renderEquation",$(r)),editorGlobal.mindMap.emit("renderTopicRichTexts",$(r),!0),d.initNodeEvent(r)}$(".outline-search .dis-total").button("enable"),"v1"===editorGlobal.config.uiType&&$("#link-list-container-search").removeClass("empty")}else{var v=n.createElement("p");if(v.innerHTML=c.default.t("js.No_results_yet"),v.style.color="#666666","v1"===editorGlobal.config.uiType){var b=n.createElement("img");b.setAttribute("src","".concat(staticBasePath,"/wps/images/search_outline_empty.svg")),d.searchDesigner.appendChild(b)}else v.style.paddingLeft="20px";d.searchDesigner.appendChild(v),$(".outline-search .dis-total").button("disable"),$(".outline-search .dis-current").button("disable"),"v1"===editorGlobal.config.uiType&&$("#link-list-container-search").addClass("empty")}}},resetNodeList:function(){var e=this;e.nodeList={};var t=e.data;if(null!=t){!function t(n){e.nodeList[n.id]=n;var i=(n.children||[]).concat(n.freeChildren||[]),o=n.leftChildren||[],a=i.length,r=o.length;if(a>0)for(var s=0;s<a;s++)t(i[s]);if(r>0)for(var l=0;l<r;l++)t(o[l]);var c=n.summaries;if(null!=c&&c.length>0)for(var d=0,u=c.length;d<u;d++)t(c[d])}(t)}},topicList:{parentTopics:{},data:{},build:function(e){var t=this;t.data[e.id]=e;var n=e.children.concat(e.freeChildren||[]),i=n.length;if(i>0)for(var o=0;o<i;o++){var a=n[o];t.build(a)}var r=e.leftChildren;if(null!=r)for(var s=0,l=r.length;s<l;s++){var c=r[s];t.build(c)}var d=e.summaries;if(null!=d)for(var u=0,p=d.length;u<p;u++){var h=d[u];t.build(h)}},resetTopicList:function(){var e=d.topicList,t=d.data;return e.data={},e.build(t),e.data}},util:{newId:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+""+e()+e()+e()},copy:function(e){return $.extend({},e)},resetDataList:function(){var e=[],t=Object.values(editorGlobal.mindMap.renderer.topicsList);t=t.filter(function(e){return!e.boundary}),d.opts.linkSearch&&(t=Object.values(d.topicList.data));for(var n=0;n<t.length;n++){var i=t[n];if(!d.opts.linkSearch&&injectExtraAsynCall("openMention"))if(o.mention.filterId){if(!editorGlobal.mindMap.mindMention.topicIsIncludeMention(i,o.mention.filterId))continue}else if("tag"==d.dataType){if(!i.tags||0==i.tags.length)continue}else if("mention"==d.dataType){if(!i.title.includes('class="mention'))continue}else if("comment"==d.dataType&&!a.comment.Controller.search.filterComments(i.id,void 0))continue;e.push(i)}return e},getParentId:function(e){var t=[],n=d.opts.linkSearch?d.topicList.data:editorGlobal.mindMap.renderer.topicsList;return function e(i){var o=n[i].parent;"root"!=o&&(1==n[o].collapsed&&t.push(o),e(o))}(e),t.reverse()},getElementIndex:function(e){return $(e).index()},getCurrentDate:function(){var e=new Date,t=[],n=[];return t.push(e.getFullYear()),t.push(e.getMonth()+1),t.push(e.getDate()),n.push(e.getHours()),n.push(e.getMinutes()),n.push(e.getSeconds()),t.join("-")+" "+n.join(":")},moveToEnd:function(e){document.getElementById(e).setSelectionRange(1,1)},removeAttribute:function(e,t){if(e&&t)for(var n=0,i=e.length;n<i;n++)e[n].removeAttribute(t)},setCursorPosition:function(e,t){var n=document.getElementById("ol_"+e);if(null!=n){var i=n.querySelector(".node-title");null==t&&(t=i.innerText.length);var o=i.childNodes[0];if(null!=o){var a=document.createRange(),r=window.getSelection();a.setStart(o,t),a.setEnd(o,t),a.collapse(!0),r.removeAllRanges(),r.addRange(a),i.focus()}else i.focus()}}},loadOutline:function(){$("#outline-dlg").parent().off("scroll").on("scroll",function(e){e.stopPropagation();var t=$(this);$(".outline-dragable").css("top",t.scrollTop())});var e=null;$(".outline-wrapper").off("scroll").on("scroll",function(){d.controller.selectNodeDom&&($(".outline-curt-bg").hide(),e&&clearTimeout(e),e=setTimeout(function(){d.controller.posNodeBg(d.controller.selectNodeDom,"current")},100))}),$(".outline-dragable").off("mousedown").on("mousedown",function(e){s.mindCorner.dlgDragLine.call(this,e,$(".mind-corner.left"),302,"left")}),$(".outline-retrieval").children("div").not(":first").hide(),$(".top-op-btn .change-btn:eq(0)").addClass("on").siblings().removeClass("on"),$(".top-op-btn").removeClass("on");var t=editorGlobal.mindMap.renderer.selectedTopicList;t&&0!=t.length?this.controller.selectNodeById(t.id):$(".outline-curt-bg").hide()}},u=t.loadOutline={init:function(){var e=(0,r.copyTopicData)(editorGlobal.mindMap.renderer.mindTree);d.init({target:"outline-container",searchTarget:"outline-container-search",searchIpt:"outline-search-ipt",line:{show:!0},readonly:!0,indent:"wider"},e),$("#outline-dlg").parent().off("scroll").on("scroll",function(e){e.stopPropagation();var t=$(this);$(".outline-dragable").css("top",t.scrollTop())});var t=null;$(".outline-wrapper").off("scroll").on("scroll",function(){d.controller.selectNodeDom&&($(".outline-curt-bg").hide(),t&&clearTimeout(t),t=setTimeout(function(){d.controller.posNodeBg(d.controller.selectNodeDom,"current")},100))}),$(".outline-dragable").off("mousedown").on("mousedown",function(e){s.mindCorner.dlgDragLine.call(this,e,$(".mind-corner.left"),302,"left")}),$(".outline-retrieval").children("div").not(":first").hide(),$(".top-op-btn .change-btn:eq(0)").addClass("on").siblings().removeClass("on"),$(".top-op-btn").removeClass("on");var n=editorGlobal.mindMap.renderer.getSelectedIds()[0];n?d.controller.selectNodeById(n):$(".outline-curt-bg").hide()}}},1332:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mindPagination=void 0,n(5682),t.mindPagination={resetCanvasInfo:function(){var e=editorGlobal.mindMap.view.getTransformData();sessionStorage.setItem("page_"+editorGlobal.poPagination.pageId,JSON.stringify(e)),$(".textarea_topic").hide(),$(".pop-editor").hide(),editorGlobal.mindMap.emit("hideCorner","left"),editorGlobal.mindMap.emit("hideCorner","right"),editorGlobal.isView||($(".po-hover-tip").remove(),editorGlobal.mindMap.emit("clearHistory")),editorGlobal.mindMap.emit("clearStack"),editorGlobal.mindMap.emit("blurConnection")}}},3578:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.presenter=void 0,n(61894),n(83403),n(28293),n(95313),n(33488),n(70116),n(5682),n(4790),n(64518),n(14544),n(23801),n(66096),n(63551),n(40724),n(81006),n(20005),n(13552),n(42712),n(42211),n(20306),n(32209),n(68801),n(18097),n(62495),n(72216),n(63061),n(69268),n(58500),n(86837),n(84889),n(54938),n(14237),n(81475),n(57895),n(77439),n(24812),n(56980),n(97316),n(92439),n(16610),n(19301);var o=n(15240),a=n(59081),r=n(72011),s=i(n(32483)),l=n(47306),c=i(n(53010)),d=i(n(78013)),u=i(n(23624)),p=n(59584),h=n(83316),m=t.presenter={sliders:[],sliderIndex:0,selecting:!1,presenting:!1,presentingIndex:0,beforeSelecting:!1,beforeSelectingRoot:null,beforePresentingRoot:null,presentState:!1,urlInfo:[],showIds:[],curVersion:null,maxZoom:3,minZoom:.8,mindMap:"",renderer:"",slideDrag:!1,slideFirst:!0,slidesCon:null,slideTimer:{},slidersCopy_:null,leftButton:"move",slideIframe:null,container:"",showCommentIcon:!1,sliderFnList:{leftFn:function(e){this.presenting&&(e.preventDefault(),this.prevSlide())},rightFn:function(e){this.presenting&&(e.preventDefault(),this.nextSlide())},addFn:function(e){e.preventDefault(),editorGlobal.mindMap.view.enlarge()},subFn:function(e){e.preventDefault(),editorGlobal.mindMap.view.narrow()},escFn:function(e){e.preventDefault(),this.presenting?this.exitPresenting():this.exitSlideSet()},delFn:function(e){e.preventDefault(),this.deleteOneSlider()},signFn:function(e,t){t.target.classList.contains("expandHoverBtn")||this.sliderControl.find("[tit=sign]").hasClass("selected")&&this.signSlider(e)},updateFn:function(){for(var e=this.sliders,t=0;t<e.length;t++){var n=$(".mind-slide-selection[idx = "+t+"]"),i=this.resetSelectionByTopics(null,n,e[t].ids);e[t].pos=i}}},init:function(){var e=C(k().mark(function e(){var t,n,i,a,s,l,c;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this).container=$(".mind-container"),t.designer=$(editorGlobal.mindMap.el),this.mindMap=editorGlobal.mindMap,this.renderer=editorGlobal.mindMap.renderer,t.curVersion=sessionStorage.getItem("slide_v"),editorGlobal.sendMessage.version!=t.curVersion&&sessionStorage.setItem("slide_v",editorGlobal.sendMessage.version),t.beforeSelecting=!0,t.presentState=!0,n=this.mindMap.getData(),t.beforeSelectingRoot=(0,o.copyTopicData)(n),editorGlobal.mindMap.renderer.filterTopicIds.length&&editorGlobal.mindMap.renderer.focusTopic("root"),editorGlobal.mindMap.emit("enter_presenting"),e.next=8,editorGlobal.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL","all","expand",!0,function(e){t.showIds=e.showIds},!0);case 8:return this.leftButton=editorGlobal.mindMap.opt.leftButton,editorGlobal.mindMap.updateConfig({showBoundaryMark:!1,enableAutoMoveTopicToCenter:!1,unfoldNodeNotMoveCenter:!1,minZoom:.2,maxZoom:3,partialLoad:!1,enableShowGlobalMenu:!1,leftButton:"move",enableLinkToPage:!1}),e.next=12,editorGlobal.mindMap.render();case 12:if(this.slidesCon||($("body").append(f.panel),this.slidesCon=$(".sliders-list-con")),this.slideIframe||($("body").append(f.iframe),this.slideIframe=$(".slide-iframe-con")),!this.sliders||0==this.sliders.length){e.next=24;break}if(editorGlobal.sendMessage.version==t.curVersion){e.next=21;break}for(i=!0,a=(0,o.copyTopicsData)(t.sliders),s=0;s<a.length;s++)l=a[s],this.updateSlider(l,s);for(a=this.sliders,c=0;c<a.length;c++)a[c].index=c;if(0!=this.sliders.length){e.next=21;break}return e.abrupt("return",(this.noneSlide(),this.slidersLoadingClose(),$(".mind-slider-con").addClass("active"),void this.saveSliders()));case 21:this.addRenderIntoSliders(),this.renderSelections(i),$(".mind-slider-con").addClass("active"),this.renderSlidesCon(),e.next=25;break;case 24:this.noneSlide(),this.slidersLoadingClose(),$(".mind-slider-con").addClass("active");case 25:this.initSlideEvent(),$(".slide-expand").show().off().on("click",function(){$(".mind-slider-con").toggleClass("active")}),editorGlobal.mindMap.setReadonly(!0,{file:!0,url:!0,image:!0}),(0,o.isSafari)()&&this.mindMap.on("scale",function(e){document.querySelectorAll(".mind-slide-selection.po-safari-fixed").forEach(function(t){t.style.transform="scale(".concat(e,")"),t.style.transformOrigin="left top"})}),r.comment.editorIconCon.showCommentIcon&&(r.comment.View.editPannel.renderCommentIcon(!0,!1),t.showCommentIcon=!0),t.updateFn=t.sliderFnList.updateFn.bind(t),this.mindMap.on("rendered",t.updateFn);case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),saveSliders:function(){var e,t,n=this.sliders,i={chartId:editorGlobal.chartId,canvasId:null!==(e=null===(t=editorGlobal.poPagination.data[editorGlobal.poPagination.pageId])||void 0===t?void 0:t.canvasId)&&void 0!==e?e:"",def:JSON.stringify(n)};injectExtraAsynCall("onServerApi",{apiName:"saveSliders",params:i},function(){})},getSliders:function(e){var t,n,i=this,o={chartId:editorGlobal.chartId,canvasId:null!==(t=null===(n=editorGlobal.poPagination.data[editorGlobal.poPagination.pageId])||void 0===n?void 0:n.canvasId)&&void 0!==t?t:""};injectExtraAsynCall("onServerApi",{apiName:"getSliders",params:o},function(t){null!=t&&"[]"!=t.def&&null!=t.def?i.sliders=JSON.parse(t.def):i.sliders=[],e()})},renderSlidesCon:function(){$(".slider-none").remove(),$.toast("close","slide"),this.renderSlides()},getIdsInfo:function(e){var t=this;(e=e.split(",#"))[0]=e[0].split("#")[1];for(var n,i,a={},r=0,s=e.length;r<s;r++){var l;n=e[r];var c=null===(l=this.renderer.getTopicById(n))||void 0===l?void 0:l._topic;i=g.getNextChildrenIds(n);var d=c.getData().parent;d&&-1==e.indexOf(d)&&u(d),u(n)}function u(n){var r,s=null===(r=t.renderer.getTopicById(n))||void 0===r?void 0:r._topic,l=s.getData(),c=l.parent,d=(i=g.getNextChildrenIds(s.id)).filter(function(t){return e.indexOf(t)>-1});0==d.length&&i.length>0&&(d=0),d.length==i.length&&(d=1),0==i.length&&"root"==n&&(d=0),a[n]={parId:c||null,childId:d},l.free&&(a[n].free=!0);var u=(0,o.copyTopicsData)(l.summaries);u&&u.length>0&&(a[n].sums=u.filter(function(e){return e.id}))}return a},addRenderIntoSliders:function(){this.sliders.map(function(e){1==Object.keys(e.idsInfo).length&&"#root"==e.ids&&editorGlobal.mindMap.renderer.getCacheTopic(editorGlobal.mindMap.renderer.mindTree.id).isHideSelf()?e.render="notShow":e.render="normal"})},getSliderIds:function(){for(var e=this.sliders,t=[],n=0;n<e.length;n++){var i=e[n].ids.split(",#");i[0]=i[0].split("#")[1],t=t.concat(i)}return Array.from(new Set(t))},initSlideEvent:function(){var e=this;e.renderSlideMenu();var t=e.slidesCon,n=$(".sliders-list-context-menu");$(".con-top-btn [tit]").off().on("mousedown",function(e){e.stopPropagation()}).on("click",function(t){t.stopPropagation();var n=$(this);switch(n.attr("tit")){case"present":$(".code-fold").addClass("disabled"),$(".code-fold").css("opacity",.4),e.startPreview(0),(0,h.$poCollect)("mind_click",{button:" present-auto-slide",btn_pos:"present-right-panel",power:"演示"});break;case"down":$("#sliders-export-menu").dropdown({target:n,zindex:4,position:"right",onSelect:function(t){if(e.slidesCon.find("img").length>0)$.toast({type:"warning",text:s.default.t("js.Demo_page_is_being_generated")});else{var n=t.attr("tit");e.getSlideUrl(),"ppt"==n?e.exportPdf():"png"==n&&e.exportPng()}}});break;case"del":e.deleteSliders();break;case"exit":e.exitSlideSet()}}),t.off().on("contextmenu","li",function(i){var o=i.pageX,a=i.pageY,r=$("body").width(),s=$("body").height();o>r-146&&(o=r-146),a>s-210&&(a=s-210),n.css({top:a,left:o,"z-index":3}).show(),e.opIndex=$(this).index(),n.find("[op=up], [op=down], [op=export], [op=present]").button("enable"),0==e.opIndex&&n.find("[op=up]").button("disable"),e.opIndex==t.find("li").length-1&&n.find("[op=down]").button("disable"),e.sliders[e.opIndex].render&&"notShow"==e.sliders[e.opIndex].render&&(n.find("[op=export]").button("disable"),n.find("[op=present]").button("disable")),i.stopPropagation(),i.preventDefault()}).on("click","li",function(t){var i=$(this),o=i.index();i.addClass("active").siblings().removeClass("active"),e.previewSlide($(".mind-slide-selection[idx ="+o+"]")),n.hide(),t.stopPropagation()}).on("click",".preview",function(t){var n=$(this).parent().index();e.startPreview(n),t.stopPropagation()}).on("mousedown","li",function(n){var i=$(this),o=i.index(),a=null,r=$("body").height(),s=n.pageY,l=i.parent().find("li:not(.slide)"),c=[];l.each(function(e,t){c.push($(t).offset().top)}),e.slideDrag=!0;var d=l.length,u=e.slidesCon.scrollTop();$(document).off("mousemove.slideDrag").on("mousemove.slideDrag",function(t){var n=t.pageY,o=n-s,p=Math.abs(o),h=e.slidesCon.scrollTop();if(p>4&&e.slideDrag){e.slideMove=!0,null==a&&((a=i.clone(!1).appendTo("body").addClass("slide-drag")).find(".preview, canvas").remove(),a.prepend(i.find("canvas")),a.clone(!1).appendTo(e.slidesCon).removeClass("slide-drag").addClass("slide")),a.css({right:16,top:n-60});for(var m=0;m<d;m++)o>0&&n>c[m]-h+u||o<0&&n-107>c[m]-h+u?l.eq(m).removeClass("trans"):l.eq(m).addClass("trans");i.addClass("hide"),setTimeout(function(){l.css("transition","transform 0.2s cubic-bezier(0.2, 0, 0, 1)")}),n<=153&&o<0?e.slidesCon.scrollTop(h-10):n>=r-60&&o>0&&e.slidesCon.scrollTop(h+10)}t.stopPropagation(),t.preventDefault()}),$(document).off("mouseup.slideDrag").on("mouseup.slideDrag",function(){if(e.slidesCon.find(".slide").remove(),e.slideMove){var n=t.find("li.trans:eq(0)").index();-1==n&&(n=t.find("li").length),i.removeClass("hide"),t.find("li").removeClass("trans").removeAttr("style"),i.prepend($(".slide-drag").find("canvas")),$(".slide-drag").remove(),(o>n||n-o>1)&&e.sortSlide(o,n-1),e.slideMove=!1,$(document).off("mousemove.slideDrag"),$(document).off("mouseup.slideDrag")}e.slideDrag=!1}),n.stopPropagation(),n.preventDefault()}),n.off().on("click","li",function(t){var i,o,a,r,l=$(this).attr("op"),c=e.opIndex;switch(l){case"present":e.startPreview(c);break;case"up":if(0==c)return;e.sortSlide(c-1,c);break;case"down":if(c==$(".sliders-list-con li").length-1)return;e.sortSlide(c,c+1);break;case"del":e.deleteSlider(c);break;case"delall":e.deleteSliders();break;case"export":var d=$(".sliders-list-con li:eq("+c+")").find("canvas");if(0==d.length)return void $.toast({type:"warning",text:s.default.t("js.Demo_page_is_being_generated")});var u=d.get(0).toDataURL(),p="slider"+(Number(c)+1);i=URL.createObjectURL(function(e){for(var t=atob(e.split(",")[1]),n=t.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=t.charCodeAt(o);return new Blob([i],{type:"image/png"})}(u)),o=p+".jpg",a=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),(r=document.createElement("a")).setAttribute("download",o),r.setAttribute("href",i),r.setAttribute("target","_blank"),r.dispatchEvent(a)}n.hide(),t.stopPropagation()}).on("mousedown",function(e){e.stopPropagation()}),$(".mind-container").off("mousedown.contextmenu").on("mousedown.contextmenu",function(){n.hide()}),$(".slide-iframe-con, .slide-iframe-con .close-btn").off("click").on("click",function(){var e=$(".slide-iframe-con");e.find(".iframe,.iframe iframe, .img").hide(),e.hide().removeAttr("src"),e.find(".img img").removeAttr("src")}),$(".slide-iframe-con img, .slide-iframe-con iframe").off("click").on("click",function(e){e.stopPropagation()}),this.escFn=this.sliderFnList.escFn.bind(this),this.delFn=this.sliderFnList.delFn.bind(this),editorGlobal.mindMap.keyCommand.addShortcut("Esc",this.escFn,{ignoreReadonly:!0}),editorGlobal.mindMap.keyCommand.addShortcut("Del|Backspace",this.delFn,{ignoreReadonly:!0})},getSlideUrl:function(){var e=this;this.urlInfo=[],$(".sliders-list-con li").each(function(t,n){var i=$(n).find("canvas").get(0),o=i.toDataURL("image/png");e.sliders[t].render&&"notShow"==e.sliders[t].render||e.urlInfo.push({url:o,w:i.width,h:i.height})})},exportPdf:function(){for(var e=this.urlInfo,t=new c.default("I","pt",[960,540]),n=0;n<e.length;n++){var i=e[n].url,o=e[n].w,a=e[n].h,r=o,s=r/o*a;s>480&&(s=480,r=480/a*o);var l=editorGlobal.mindMap.opt.topicMaxWidth;r>l&&(r=l,s=l/o*a);var d=(540-s)/2,u=(960-r)/2;if(t.addImage(i,"JPEG",u,d,r,s),t.addPage(),n==e.length-1){var p=$("#header-title").text(),h=t.internal.getNumberOfPages();t.deletePage(h),t.save(p+".pdf")}}this.urlInfo=[]},exportPng:function(){for(var e=new d.default,t=$("#header-title").text(),n=e.folder(t),i=this.urlInfo,o=[],a=0;a<i.length;a++)if(o.push(i[a].url.substring(22)),o.length===i.length&&o.length>0){for(var r=0;r<o.length;r++)n.file("slider"+r+".png",o[r],{base64:!0});e.generateAsync({type:"blob"}).then(function(e){u.default.saveAs(e,t+".zip")})}this.urlInfo=[]},exportPPT:function(){for(var e=new window.pptxgen,t=this.urlInfo,n=0;n<t.length;n++){var i=e.addSlide(),o=t[n].url,a=t[n].w,r=t[n].h,l=a,c=l/a*r;c>640&&(c=640,l=640/r*a);var d=(720-c)/2,u=(1280-l)/2;i.addImage({x:u/128,y:d/128,h:c/128,w:l/128,sizing:{type:"contain"},path:o})}var p=$("#header-title").text();e.writeFile({fileName:p+".pptx"}).then(function(){$.toast({type:"success",text:s.default.t("js.Export_success")})})},renderSlideMenu:function(){0==$(".sliders-list-context-menu").length&&$("body").append(f.menu)},slidersLoading:function(e){var t=s.default.t("js.Automatic_generation");e&&(t=s.default.t("js.Loading")),$("body").append("<div class='po-dialog slide-loading'><img src='"+staticBasePath+"/images/loading_logo.gif'>"+t+"</div></div>"),$(".slide-loading").dialog({closable:!1})},slidersLoadingClose:function(){$(".slide-loading").dialog("close").remove()},noneSlide:function(e){var t=this;for(var n in t.slideTimer)clearTimeout(t.slideTimer[n]);t.slideTimer={},t.slideTime=500,e||$.toast({type:"secondary",text:s.default.t("Hold_down")+'<span class="ct">Ctrl</span>'+s.default.t("js.Direct_box_selection")+'<span style="color:#067BEF;cursor:pointer" class="auto-slide">'+s.default.t("js.automatic_generation")+"</span>"+s.default.t("js.esc_exits_this_slide_setup"),name:"slide",autoClose:!1,onClose:function(){}}),l.Util.isMac()&&$("#po_toast .ct").html("<span class='po-diagraming-icons' style='color:#212930;font-size:14px;margin:0'>&#xe795;</span>"),$(".slider-none").remove(),$(".con-top-btn [tit]:not([tit=exit])").button("disable"),$(".sliders-list-con").html(""),$(".mind-slider-con").append(f.none),$(".auto-slide").off().on("click",function(){var e;e=$(this).hasClass("auto-slide-in-right-panel")?"present-right-panel":"present-top-tip",(0,h.$poCollect)("mind_click",{button:" present-auto-slide",btn_pos:e,power:"演示"}),t.slidersLoading(),$.toast("close","slide"),setTimeout(function(){$(".slider-none").remove(),$(".con-top-btn [tit]").button("enable"),t.autoSlide()},100)})},sortSlide:function(e,t){var n=-1==t?0:t,i=$(".sliders-list-con li:eq("+e+")"),o=$(".sliders-list-con li:eq("+n+")");if(-1==t?i.insertBefore(o):i.insertAfter(o),e>t){var a=t+1,r=e;$(".mind-slide-selection").each(function(e,t){var n=$(t).attr("idx")-0;if(!(n<a))if(n==r)$(t).attr("idx",a).find(".selection-index").text(a+1);else if(a<=n&&n<r)$(t).attr("idx",n+1).find(".selection-index").text(n+1+1);else if(n>r)return})}else{var s=e,l=-1==t?0:t;$(".mind-slide-selection").each(function(e,t){var n=$(t).attr("idx");if(!(n<s))if(n==s)$(t).attr("idx",l).find(".selection-index").text(l+1);else if(s<n&&n<=l)$(t).attr("idx",n-1).find(".selection-index").text(n);else if(n>l)return})}$(".sliders-list-con li").each(function(e,t){$(t).find(".number").text(e+1)});var c=$.extend(!0,[],this.sliders);for(var d in e-t>1&&(n=t+1),c.splice(n,0,c.splice(e,1)[0]),c)c[d].index=d;this.sliders=c,this.saveSliders()},previewSlide:function(){var e=C(k().mark(function e(t){var n,i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.renderer.clearSelectedTopic(),n=this,(i=this.designer).css({transition:"none"}),1==editorGlobal.mindMap.view.scale||!t.hasClass("active")){e.next=6;break}i.css({transition:"all .2s"}),n.slideTimer.transition||(n.slideTimer.transition=setTimeout(function(){n.slideTimer.transition=null,i.css({transition:"none"})},800)),editorGlobal.mindMap.view.setScale(1),this.renderer.moveTopicToCenter(this.renderer.getTopicById("root")._topic),editorGlobal.mindMap.view.fillTheCanvas(),e.next=11;break;case 6:return this.focusSelection(t),o=t.attr("idx"),e.next=10,this.changeExpandStatus(o,!0);case 10:this.previewScale(o,null,!0);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),previewScale:function(e,t){var n=this,i=this.designer,o=this.sliders[e].pos,a=this.calcScale(o);a>n.maxZoom?a=n.maxZoom:a<n.minZoom&&(a=n.minZoom),editorGlobal.mindMap.view.setScale(a),this.renderer.moveTopicToCenter({height:o.h,width:o.w,top:o.y,left:o.x}),t?i.css({transition:"all .2s"}):i.css({transition:"all .2s linear"}),n.slideTimer.transition||(n.slideTimer.transition=setTimeout(function(){n.slideTimer.transition=null,i.css({transition:"none"})},800))},startPreview:function(e){var t=this;editorGlobal.mindMap.emit("enterFullScreen");var n=editorGlobal.mindMap.getData();t.beforePresentingRoot=(0,o.copyTopicData)(n);var i=0;this.sliders[0].render&&"notShow"==this.sliders[0].render?(0==$(".slider-nav").length&&e>1&&$("body").append("<div class='slider-nav'>".concat(s.default.t("Cur_Num"),"<span class='num'>")+Number(e)+"</span>".concat(s.default.t("Page_Navigation"),"？<span class='y' data-index='1'>").concat(s.default.t("js.Yes"),"</span><span class='n'>").concat(s.default.t("js.No"),"</span></div>")),i=1,0==e&&e++):0==$(".slider-nav").length&&e>0&&$("body").append("<div class='slider-nav'>".concat(s.default.t("Cur_Num"),"<span class='num'>")+(Number(e)+1)+"</span>".concat(s.default.t("Page_Navigation"),"？<span class='y' data-index='0'>").concat(s.default.t("js.Yes"),"</span><span class='n'>").concat(s.default.t("js.No"),"</span></div>")),t.ready(),t.toSlide(e,!0),$.toast("close"),$.toast({type:"secondary",text:s.default.t("js.Key_switch_ESC_Exit"),delay:"4500"});var a=$(".slider-nav");setTimeout(function(){a.remove()},4e3),a.off("click.y").on("click",".y",function(e){e.stopPropagation(),a.remove(),t.toSlide(i)}),a.off("click.n").on("click.n",".n",function(e){e.stopPropagation(),a.remove()}),a.find(".num").text(Number(e)+1)},ready:function(){this.clearSlideTimer(),$(".mind-slide-selection").parent().hide(),$(".mind-slider-con, .sliders-list-context-menu").hide(),$(".topic-selected").remove(),this.beforeSelecting=!1,this.presenting=!0,this.renderShowControls(),this.registerShortcutKeys(),editorGlobal.mindMap.renderer.selectTopicPos=null},slideIdsLen:40,autoSlide:function(){var e,t,n=this,i=editorGlobal.mindMap,a=i.getData(),r=a.children.concat(a.freeChildren);injectExtraAsynCall("openMention")&&(r=i.filterChildren(r));var s,l=[],c=[];r.map(function(e){var t=e.id;e.free?c.push(t):l.push(t)});var d=l.concat(c);if(i.renderer.getCacheTopic(i.renderer.mindTree.id).isHideSelf()&&0!=l.length)v(s=l,e=0);else for(var u=0;u<2;u++){if(e=u,0==u)s=["root"];else if(1==u){if(0==l.length)continue;(s=l).push("root")}v(s,e)}for(var p=0;p<d.length;p++){e++;var h=this.renderer.getTopicById(d[p])._topic;f(g.getChildrenIds(h),h.id)}function f(t,i){if(t.length>n.slideIdsLen){v(t=(t=[i]).concat(g.getNextChildrenIds(i)),e);for(var o=n.renderer.getTopicById(i),a=0;a<o.children.length;a++){e++;var r=o.children[a];f(g.getChildrenIds(r),r.id)}}else v(t,e)}function v(e,i){for(var a=n.renderSelection(),r=0,s=e.length;r<s;r++){var l=n.renderer.getTopicById(e[r])._topic;if(l.parent){var c=l.parent,d=c.summaries;if(null!=d&&d.length>0)for(var u=l.part,p=(0,o.getTopicIndexInTopicList)(l,c.children),h=0;h<d.length;h++){var f=d[h],v=f.getData("range").split(",")[0];if(f.part==u&&p==v){var b=g.getChildrenIds(f);e=e.concat(b)}}}}t={index:i},a.attr("idx",i),a.children(".selection-index").text(i+1),m.sliders.push(t),e[0]="#"+e[0],e=e.join(",#");var y=m.resetSelectionByTopics(null,a,e);m.sliders[i].idsInfo=m.getIdsInfo(e),m.sliders[i].pos=y,m.sliders[i].ids=e}m.saveSliders(),$(".selection-index").fadeIn(),this.slidersLoadingClose(),m.renderSlidesCon(),this.initDotEvent(),this.sliderIndex=this.sliders.length-1},calcScale:function(e){var t=$(window).width()-80,n=$(window).height()-40,i=t/e.w,o=n/e.h;return i<=o?i:o},registerShortcutKeys:function(){this.leftFn=this.sliderFnList.leftFn.bind(this),this.rightFn=this.sliderFnList.rightFn.bind(this),this.addFn=this.sliderFnList.addFn.bind(this),this.subFn=this.sliderFnList.subFn.bind(this),editorGlobal.mindMap.keyCommand.addShortcut("Left|Up",this.leftFn,{ignoreReadonly:!0}),editorGlobal.mindMap.keyCommand.addShortcut("Right|Down",this.rightFn,{ignoreReadonly:!0}),editorGlobal.mindMap.keyCommand.addShortcut("Control+=|Control+numpad=",this.addFn,{ignoreReadonly:!0}),editorGlobal.mindMap.keyCommand.addShortcut("Control+-|Control+numpad-",this.subFn,{ignoreReadonly:!0})},cancelShortcutKeys:function(){editorGlobal.mindMap.keyCommand.removeShortcut("Left|Up",this.leftFn,{ignoreReadonly:!0}),editorGlobal.mindMap.keyCommand.removeShortcut("Right|Down",this.rightFn,{ignoreReadonly:!0}),editorGlobal.mindMap.keyCommand.removeShortcut("Control+=|Control+numpad=",this.addFn,{ignoreReadonly:!0}),editorGlobal.mindMap.keyCommand.removeShortcut("Control+-|Control+numpad-",this.subFn,{ignoreReadonly:!0})},nextSlide:function(){if(this.presentingIndex!=this.sliders.length-1){if(this.presentingIndex++,this.sliders[this.presentingIndex].render&&"notShow"==this.sliders[this.presentingIndex].render){if(this.presentingIndex==this.sliders.length-1)return void this.presentingIndex--;this.presentingIndex++}this.toSlide(this.presentingIndex)}},toSlideByTopicId:function(e){var t=this;return this.sliders.map(function(n,i){if(n.ids.indexOf(e)>-1)return"notShow"==n.render?($.toast({type:"error",text:s.default.t("js.You_cannot_jump_to_a_hidden_central_node_slice")}),!1):(t.toSlide(i),!0)}),!1},prevSlide:function(){if(0!=this.presentingIndex){if(this.presentingIndex--,this.sliders[this.presentingIndex].render&&"notShow"==this.sliders[this.presentingIndex].render){if(0==this.presentingIndex)return void this.presentingIndex++;this.presentingIndex--}this.toSlide(this.presentingIndex)}},toSlide:function(){var e=C(k().mark(function e(t,n){var i,o,a,r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,o=$("#img-preview"),a=$(".slide-iframe-con"),o.length>0&&o.is(":visible")?o.find(".close-btn").trigger("click"):a.length>0&&a.is(":visible")&&a.find(".close-btn").trigger("click"),e.next=4,i.changeExpandStatus(t);case 4:return e.next=6,i.changeTopicStatus(t);case 6:$(".sign-section").remove(),null!=(r=this.sliders)[t]?(this.presentingIndex=t,this.previewScale(t,n),$(".mind-slide-controls").children().removeClass("active").eq(t).addClass("active"),i.sliderControl.find("[tit=prev], [tit=next]").button("enable"),0==t?i.sliderControl.find("[tit=prev]").button("disable"):t==r.length-1&&i.sliderControl.find("[tit=next]").button("disable"),$(".topic-link[target-id]").css({visibility:"hidden","pointer-events":"none"})):t>=r.length?this.presentingIndex=r.length-1:t<0&&(this.presentingIndex=0);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),signSlider:function(e){var t=$(".mind-present-control-sign div.active").index(),n=$(e.group.node).find(".po-richtext-node-wrap");n.hasClass("mind-present-sign-topic")?(n.removeClass("mind-present-sign-topic"),n.css({background:""})):(n.css({background:{0:"rgba(237,32,32,.5)",1:"rgba(248,229,64,.5)",2:"rgb(72,178,254,.5)"}[t]}),n.addClass("mind-present-sign-topic"))},exitSlideSet:function(){var e=C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.clearSlideTimer(),editorGlobal.mindMap.emit("showElements"),editorGlobal.mindMap.resize(),$(".mind-slider-con").removeClass("active"),$.toast("close","slide"),$(".slide-expand").hide(),editorGlobal.mindMap.keyCommand.removeShortcut("Esc",this.escFn,{ignoreReadonly:!0}),editorGlobal.mindMap.keyCommand.removeShortcut("Del|Backspace",this.delFn,{ignoreReadonly:!0}),this.slidersCopy_=this.sliders,this.curVersion!=editorGlobal.sendMessage.version?injectExtraAsynCall("onServerApi",{apiName:"getDefById",params:{definitionId:editorGlobal.poPagination.pageId}},function(){var e=C(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null!=(n=JSON.parse(t.def))&&n.theme&&!(0,o.isJSONString)(n.theme)&&n.theme.indexOf("customise_")>=0?p.Server.getThemeById(n.theme,function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.theme=t,editorGlobal.mindMap.setFullData(n);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()):editorGlobal.mindMap.setFullData(n);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()):editorGlobal.mindMap.setFullData(this.beforeSelectingRoot),editorGlobal.mindMap.setReadonly(!1),editorGlobal.mindMap.view.setScale(1),this.beforeSelecting=!1,this.presentState=!1,editorGlobal.mindMap.updateConfig({showBoundaryMark:!0,enableAutoMoveTopicToCenter:!0,unfoldNodeNotMoveCenter:!0,minZoom:.05,maxZoom:4,partialLoad:!0,enableShowGlobalMenu:!0,leftButton:this.leftButton,enableLinkToPage:!0}),this.showCommentIcon&&r.comment.View.editPannel.renderCommentIcon(!1,!1),editorGlobal.mindMap.emit("exit_presenting");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),clearSlideTimer:function(){var e=this;for(var t in e.slideTimer)clearTimeout(e.slideTimer[t]);e.slideTimer={},e.slideTime=500},showSlideTime:null,exitPresenting:function(){var e=this;this.beforeSelecting=!0,this.presenting=!1,this.cancelShortcutKeys();var t=$("#img-preview"),n=$(".slide-iframe-con");t.length>0&&t.is(":visible")?t.find(".close-btn").trigger("click"):n.length>0&&n.is(":visible")&&n.find(".close-btn").trigger("click"),(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)&&editorGlobal.mindMap.emit("exitFullScreen"),$.toast("close"),$(".mind-slider-con").show(),$(".mind-slide-selection").parent().show(),e.sliderControl.find("[tit=sign]").removeClass("selected"),$("body").css("cursor","default"),e.sliderControl.removeClass("on"),$(".mind-slide-controls, .sign-section, .slider-nav").remove(),editorGlobal.mindMap.view.setScale(1),editorGlobal.mindMap.setFullData(e.beforePresentingRoot),$(".mind-connection-label").removeAttr("contenteditable"),e.showSlideTime=setTimeout(function(){clearTimeout(e.showSlideTime),e.beforeSelecting&&(e.renderSelections(),e.reloadSlide(),$(".code-title").css({display:"block"}),$(".code-title #code-right").css({display:"none"}),$(".code-title #po-tool-select-button1").addClass("disabled"))},1e3),e.mindMap.off("topic_mousedown",e.signFn),e.mindMap.off("rendered",e.updateFn)},reloadSlide:function(){var e=this;this.slidesCon.find("li").each(function(t,n){0==$(n).find("canvas").length&&e.getCanvas(t)})},changeTopicStatus:function(e){var t=this.sliders;$(".po-mind-line-container,.po-mind-generalize-container, .po-mind-node-container, .po-mind-associative-line-container").children("g").css({opacity:"0.06","pointer-events":"none"});var n=t[e];if(n)for(var i=n.ids,a=i.split(","),r=0,s=a.length;r<s;r++){var l=a[r].substring(1),c=this.renderer.getCacheTopic(l);if(c&&c.group&&$(c.group.node).css({opacity:1,"pointer-events":"auto"}),c&&c.summary&&$(c._summaryLinesGroup.node).css({opacity:1}),c&&c.parent&&i.indexOf(c.parent.id)>-1&&!c.free){var d,u=(0,o.getTopicIndexInTopicList)(c,c.parent.children);null!==(d=c)&&void 0!==d&&null!==(d=d.parent)&&void 0!==d&&null!==(d=d._linesGroup[u])&&void 0!==d&&d.node&&$(c.parent._linesGroup[u].node).css({opacity:1})}}},changeExpandStatus:function(){var e=C(k().mark(function e(t,n){var i,o,a,r,s,l,c,d,u,p,h,m;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=this.sliders[t].ids,o=i.split(","),a=[],r=[],$(".expand_box.hide").css({opacity:"1","pointer-events":"auto"}),s=0,l=o.length;case 3:if(!(s<l)){e.next=21;break}if(c=!0,d=o[s].substring(1),!(u=this.renderer.getTopicById(d))||(u.root||(a=a.concat(this.renderer.getParentTopicIds(d)),a=Array.from(new Set(a))),n)){e.next=18;break}if(0==(p=g.getNextChildrenIds(d)).length){e.next=18;break}h=0,m=p.length;case 10:if(!(h<m)){e.next=17;break}if(!(i.indexOf(p[h])>-1)){e.next=14;break}return c=!1,e.abrupt("break",17);case 14:h++,e.next=10;break;case 17:c&&"root"!=d&&(r.push(d),$("#"+d).find(".expand_box").css({opacity:"0.2","pointer-events":"none"}));case 18:s++,e.next=3;break;case 21:if(e.t0=a.length>0,!e.t0){e.next=25;break}return e.next=25,editorGlobal.mindMap.renderer.showTopics(a,!0);case 25:if(e.t1=r.length>0,!e.t1){e.next=29;break}return e.next=29,editorGlobal.mindMap.renderer.hideTopics(r,!0);case 29:this.updateSlidersPos(t);case 30:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),renderSelections:function(e){var t=this,n=(0,o.copyTopicsData)(t.sliders),i=n.length,r="";if($(".mind-slide-selection").remove(),i>0){for(var s=0;s<i;s++){var l=n[s];r=l.render&&"notShow"==l.render?$("<div style='display:none' idx="+l.index+" class='mind-slide-selection'><span class='selection-index'>"+(Number(l.index)+1)+"</span></div>"):$("<div idx="+l.index+" class='mind-slide-selection'><span class='selection-index'>"+(Number(l.index)+1)+"</span></div>"),(0,o.isSafari)()&&r.addClass("po-safari-fixed");var c=new a.G;c.attr("class","mind-slide-selection-group");var d=new a.ForeignObject;d.add(r.get(0)),c.add(d),editorGlobal.mindMap.otherDraw.add(c);var u=t.resetSelectionByTopics(null,r,l.ids);u&&t.setSelectionPos(r,u),r.find(".selection-index").show(),t.sliders[s].pos=u}e&&t.saveSliders(),t.slidersLoadingClose(),$(document).off("click.mss",".mind-slide-selection").on("click.mss",".mind-slide-selection",function(e){e.stopPropagation();var n=$(this);t.focusSelection(n)}),$(document).off("dblclick.mss",".mind-slide-selection").on("dblclick.mss",".mind-slide-selection",function(e){e.stopPropagation();var n=$(this);t.previewSlide(n)}),t.initDotEvent()}return i},renderShowControls:function(){for(var e=this,t=this.sliders,n="<div class='mind-slide-controls'>",i=0;i<t.length;i++)this.sliders[i].render&&"notShow"==this.sliders[i].render?n+="<span style='display:none;' idx='"+i+"'></span>":n+="<span idx='"+i+"'></span>";n+="</div>",$(n).appendTo("body").css({left:"50%"}),e.sliderControl||($("body").append(f.control),e.sliderControl=$(".mind-present-control")),e.sliderControl.addClass("on"),$(document).off("click.slidecontrols",".mind-slide-controls > span").on("click.slidecontrols",".mind-slide-controls > span",function(){var t=$(this).attr("idx");e.toSlide(t)}),$(".mind-present-control-sign .control-inner>div").off().on("click",function(t){var n=$(this);n.addClass("active").siblings().removeClass("active"),e.sliderControl.find(".sign").css("background",n.find("span").css("background")),e.sliderControl.find("[tit=sign]").addClass("selected"),$.toast({type:"secondary",text:s.default.t("js.Left_click_on_the_topic")});var i=$(".mind-present-control-sign div.active").index();$("body").css("cursor","url("+staticBasePath+"/assets/images/designer/sign"+i+".svg) 6 6,auto"),t.stopPropagation()}),e.sliderControl.find("[tit]").off("click").on("click",function(){var t="";switch($(this).attr("tit")){case"sign":if($(this).toggleClass("selected"),$(this).hasClass("selected")){var n=$(".mind-present-control-sign div.active").index();$("body").css("cursor","url("+staticBasePath+"/assets/images/designer/sign"+n+".svg) 6 6,auto"),$.toast({type:"secondary",text:s.default.t("js.Left_click_on_the_topic")})}else $("body").css("cursor","default");break;case"zoomout":t=100*editorGlobal.mindMap.view.scale,t+=20,editorGlobal.mindMap.view.setScale(t/100);break;case"zoomin":if(t=100*editorGlobal.mindMap.view.scale,(t-=20)<0)return;editorGlobal.mindMap.view.setScale(t/100);break;case"prev":e.prevSlide();break;case"next":e.nextSlide();break;case"exit":e.exitPresenting()}}),$("body").off("mouseenter.slide, mouseleave.slide").on("mouseenter.slide",function(){e.presenting&&e.sliderControl.addClass("on")}).on("mouseleave.slide",function(){e.sliderControl.removeClass("on")}),e.signFn=e.sliderFnList.signFn.bind(e),this.mindMap.on("topic_mousedown",e.signFn)},renderSelection:function(){var e=this,t=$("<div class='mind-slide-selection'><span class='selection-index'></span></div>");(0,o.isSafari)()&&t.addClass("po-safari-fixed");var n=new a.G;n.attr("class","mind-slide-selection-group");var i=new a.ForeignObject;return i.add(t.get(0)),n.add(i),editorGlobal.mindMap.otherDraw.add(n),this.focusSelection(t),$(document).off("click.mss",".mind-slide-selection").on("click.mss",".mind-slide-selection",function(){var t=$(this);e.focusSelection(t)}),$(document).off("dblclick.mss",".mind-slide-selection").on("dblclick.mss",".mind-slide-selection",function(){var t=$(this);e.previewSlide(t)}),t},focusSelection:function(e){var t=this;$(".selection-dot").remove(),$(".selection-del").remove();var n=$(editorGlobal.mindMap.otherDraw.node);n.find(".mind-slide-selection").removeClass("active"),e.addClass("active"),e.parent().parent().appendTo(n);var i=$("<span class='selection-del po-diagraming-icons'>&#xe6b9;</span><span class='selection-dot lt'></span><span class='selection-dot rt'></span><span class='selection-dot lb'></span><span class='selection-dot rb'></span>");this.sliderIndex=e.attr("idx"),i.appendTo(e),e.find(".selection-del").click(function(e){e.stopPropagation(),t.deleteOneSlider()});var o=this.slidesCon.find("li:eq("+this.sliderIndex+")");if(o.length>0){var a=o.offset().top;(a<93||a>$(window).height()-93)&&this.slidesCon.scrollTop(115*this.sliderIndex),o.addClass("active").siblings().removeClass("active")}},blurSelection:function(){$(".mind-slide-selection").removeClass("active"),$(".selection-dot").remove(),$(".selection-del").remove(),this.sliderIndex=null,$(".sliders-list-con li").removeClass("active")},setSelectionPos:function(e,t){Math.abs(t.w+t.h)<15?e.hide():e.show(),e.parent().parent().attr({transform:"translate("+t.x+", "+t.y+")"}),e.parent().attr({width:t.w,height:t.h,overflow:"visible"}),e.css({width:t.w,height:t.h})},deleteOneSlider:function(){var e=this.sliderIndex;null!=e&&(this.deleteSlider(e),$(".po-hover-tip").remove())},deleteSlider:function(e){var t=this;$(".mind-slide-selection[idx="+e+"]").parent().parent().remove(),$(".sliders-list-con li:eq("+e+")").remove(),clearTimeout(t.slideTimer[e]),t.slideTimer[e]=null,t.slideTime>500&&(t.slideTime-=500),this.sliders.splice(e,1);for(var n=this.sliders.length,i=0;i<n;i++)i>=e&&(this.sliders[i].index-=1,$(".mind-slide-selection[idx="+(i+1)+"]").attr("idx",i),$(".mind-slide-selection[idx="+i+"]").children(".selection-index").text(i+1),$(".sliders-list-con li:eq("+i+") .number").text(i+1));0==this.sliders.length&&this.noneSlide(),1==this.sliders.length&&this.sliders[0].render&&"notShow"==this.sliders[0].render&&$(".con-top-btn .po-button[tit=present]").addClass("disabled"),this.sliderIndex=null,this.saveSliders()},deleteSliders:function(){var e=this;l.Util.confirm({content:s.default.t("js.Delete_all_presentation_pages")+"？",onConfirm:function(){$(".mind-slide-selection, .mind-slide-selection-group, .po-hover-tip").remove(),e.noneSlide(),e.sliders=[],e.saveSliders()},onCancel:function(){}})},resetSelectionByTopics:function(e,t,n){(n=n.split(",#"))[0]=n[0].split("#")[1];var i="",o="",a="",r="";null==e?(i=null,o=null,a=null,r=null):(i=e.x,o=e.y,a=e.x+e.w,r=e.y+e.h);for(var s=0,l=n.length;s<l;s++){var c,d=null===(c=this.renderer.getTopicById(n[s]))||void 0===c?void 0:c._topic;if(editorGlobal.mindMap.renderer.hasCacheTopic(n[s])){var u=d.width,p=d.height,h=d.left,m=d.top;(null==i||0+h<i)&&(i=0+h),(null==a||0+h+u>a)&&(a=0+h+u),(null==o||0+m<o)&&(o=0+m),(null==r||0+m+p>r)&&(r=0+m+p)}}var f={x:i-3,y:o-3,w:a-i+6,h:r-o+6};return this.presenting||this.setSelectionPos(t,f),f},setSelectedRealTime:function(e){var t={x:e.x,y:e.y,w:e.w,h:e.h},n=this.checkInNodes(t);if(0==n.length)return n;n[0]="#"+n[0];var i=n.join(",#");return $(".topic-box").removeClass("selected"),$(i).addClass("selected"),i},checkInNodes:function(e){var t=[],n=e.x,i=e.y,a=e.x+e.w,r=e.y+e.h;return this.renderer.getLruPool().forEach(function(e){if(!e.getData("boundary")){var s=e.left,l=e.top,c=s+e.width,d=l+e.height;(0,o.checkTwoRectIsOverlap)(n,a,i,r,s,c,l,d)&&t.push(e.id)}}),t},resetSlide:function(e,t){t&&1==this.sliders.length&&($(".slider-none").remove(),$.toast("close","slide"),this.slideTime=500),this.renderOneSlide_(e)},renderOneSlide_:function(e){var t=this.slidesCon,n=t.find("li:eq("+e+")");0==n.length?($(".con-top-btn [tit]").button("enable"),this.sliders[e].render&&"notShow"==this.sliders[e].render?t.append('<li class="disable"><img src="'+staticBasePath+'/images/loading_logo.gif" style="margin:20px auto 0;width:80px;display:block">'+s.default.t("js.Under_update")+'<span class="preview po-diagraming-icons">&#xe813;</span><span class="number">'+(Number(e)+1)+"</span></li>"):t.append('<li><img src="'+staticBasePath+'/images/loading_logo.gif" style="margin:20px auto 0;width:80px;display:block">'+s.default.t("js.Under_update")+'<span class="preview po-diagraming-icons">&#xe813;</span><span class="number">'+(Number(e)+1)+"</span></li>"),this.getCanvas(e)):this.sliders[e].render&&"notShow"==this.sliders[e].render?n.addClass("disable"):(n.removeClass("disable"),n.html('<img src="'+staticBasePath+'/images/loading_logo.gif" style="margin:20px auto 0;width:80px;display:block">'+s.default.t("js.Under_update")+'<span class="preview po-diagraming-icons">&#xe813;</span><span class="number">'+(Number(e)+1)+"</span>"),this.getCanvas(e))},getCanvas:function(e){var t=this,n=t.sliders[e].ids.split(",#");n[0]=n[0].substring(1);var i=$(".mind-slide-selection").eq(e);t.slideTimer[e]=setTimeout(C(k().mark(function e(){var o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.presentState){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,editorGlobal.mindMap.poExport.partExport({filterTopicIds:n,imageType:"jpg"});case 4:"success"===(o=e.sent).status&&t.slideLoaded(i,o.canvas);case 6:case"end":return e.stop()}},e)})),t.slideTime),t.slideTime+=500},renderSlides:function(){var e=this,t=$(".mind-slide-selection");e.slideTime=500,t.each(function(t){e.slidersCopy_&&e.slidersCopy_[t]&&e.slidersCopy_[t].ids==e.sliders[t].ids&&editorGlobal.sendMessage.version==e.curVersion?0==$(".sliders-list-con li:eq("+t+")").find("canvas").length&&e.renderOneSlide_(t):(0==t&&e.slidesCon.html(""),e.renderOneSlide_(t))})},slideLoadFlag:function(e){return!!this.slideTimer[e]||($("#export_definition").val(""),$("#svg-wrap_"+e).remove(),$(".katex-box").remove(),!1)},slideLoaded:function(e,t){var n=this,i=this.slidesCon,o=e.attr("idx");if(n.slideTimer[o]){n.slideTime>500&&(n.slideTime-=500),$(t).removeAttr("id");var a=editorGlobal.mindMap.poExport.svgBg;i.find("li:eq("+o+")").css("background",a).html(t).append('<span class="preview po-diagraming-icons">&#xe813;</span><span class="number">'+(Number(o)+1)+"</span>")}},initSelect:function(){this.selecting=!0},endSelect:function(e){var t=this.renderSelection();if(this.selecting=!1,(!e||0!=e.length)&&e){var n="";e.map(function(e){n+="#"+e.id+","}),n=n.substring(0,n.length-1);var i=this.sliders.length,o={index:i};this.sliders.push(o),this.sliderIndex=i,t.attr("idx",i),t.children(".selection-index").text(i+1);var a=this.resetSelectionByTopics(null,t,n);this.sliders[this.sliderIndex].pos=a,this.sliders[this.sliderIndex].ids=n,this.sliders[this.sliderIndex].idsInfo=this.getIdsInfo(n),this.saveSliders(),this.resetSlide(this.sliderIndex,!0),$(".selection-index").fadeIn(),this.initDotEvent()}},initDotEvent:function(){var e=this,t=null;e.container.off("mousedown.selectiondot",".selection-dot").on("mousedown.selectiondot",".selection-dot",function(n){n.stopPropagation(),e.selecting=!0;var i=$(this).attr("class");e.mindMap.opt.isDisableDrag=!0;var o=n.pageX,a=n.pageY;t=$(".mind-slide-selection[idx="+e.sliderIndex+"]");var r=e.sliders[e.sliderIndex].ids,s=JSON.parse(JSON.stringify(e.sliders[e.sliderIndex].pos)),l=JSON.parse(JSON.stringify(s)),c=0,d=0;e.container.off("mousemove.selectiondot").on("mousemove.selectiondot",function(n){if(null!=i){var r=editorGlobal.mindMap.view.scale;c=(n.pageX-o)/r,d=(n.pageY-a)/r,i.indexOf("rt")>0?(l.y=s.y+d,l.w=s.w+c,l.h=s.h-d):i.indexOf("lt")>0?(l.y=s.y+d,l.x=s.x+c,l.w=s.w-c,l.h=s.h-d):i.indexOf("rb")>0?(l.w=s.w+c,l.h=s.h+d):i.indexOf("lb")>0&&(l.x=s.x+c,l.w=s.w-c,l.h=s.h+d),e.setSelectionPos(t,l),n.stopPropagation()}}),e.container.off("mouseup.selectiondot").on("mouseup.selectiondot",function(n){e.selecting=!1,e.mindMap.opt.isDisableDrag=!1,e.container.off("mouseup.selectiondot"),e.container.off("mousemove.selectiondot"),e.mindMap.emit("mouseup",n);var i=e.checkInNodes(l),o="";i&&0==i.length||!i?o=r:(i.map(function(e){o+="#"+e+","}),o=o.substring(0,o.length-1));var a=e.resetSelectionByTopics(null,t,o);e.sliders[e.sliderIndex].pos=a,e.sliders[e.sliderIndex].ids=o,e.sliders[e.sliderIndex].idsInfo=e.getIdsInfo(o),e.saveSliders(),e.resetSlide(e.sliderIndex)}),n.stopPropagation()})},updateSlider:function(e,t){var n,i=this,a=e.ids.split(",#");if(a[0]=a[0].substring(1),!e.idsInfo){for(var r=[],s=0;s<a.length;s++){var l;n=a[s],(null===(l=i.renderer.getTopicById(n))||void 0===l?void 0:l._topic.getData())&&r.push(n)}return r.length>0?(r[0]="#"+r[0],void(this.sliders[t].ids=r.join(",#"))):void this.sliders.splice(t,1)}for(var c=[],d={},u=[],p=[],h=0;h<a.length;h++){var m;if(n=a[h],!e.idsInfo[n])break;var f=e.idsInfo[n].parId,v=null===(m=i.renderer.getTopicById(n))||void 0===m?void 0:m._topic.getData();if(v&&v.free&&!e.idsInfo[n].free){var b=e.idsInfo[f].childId;b.length>0&&(e.idsInfo[f].childId=b.filter(function(e){return e!=n}))}else if((!(a.indexOf(f)>-1&&v)||v.summary||v.free)&&v&&v.parent==f){if(f&&!v.summary&&!v.free){p.push(f);continue}var y=e.idsInfo[n].childId;C(n,y)}}if(p.length>0){p=Array.from(new Set(p));for(var x=0;x<p.length;x++)if(e.idsInfo[p[x]]){var w=e.idsInfo[p[x]].childId;C(p[x],w,!0)}}for(var k=0;k<u.length;k++)_(u[k]);function _(t){var n=i.renderer.getTopicById(t),r=(0,o.copyTopicsData)(null==n?void 0:n.summaries);if(r&&r.length>0)for(var s=n.children,l=0;l<r.length;l++){var u=r[l];if(!(a.indexOf(u.id)>-1||e.idsInfo[t]&&e.idsInfo[t].sums&&e.idsInfo[t].sums[l])){for(var p=[],h=u.range,m=Number(h.indexOf(",")>0?h.split(",")[0]:h),f=Number(h.indexOf(",")>0?h.split(",")[1]:h),v=0;v<s.length;v++)if(v<=f&&v>=m){var b=s[v];p=p.concat(g.getChildrenIds(b))}for(var y=0;y<p.length;y++)if(-1==c.indexOf(p[y])){var x=!0;break}if(!x){d[t].sums?d[t].sums.push(u.id):d[t].sums=u.id;for(var w=g.getChildrenIds(u),k=0;k<w.length;k++){var _=w[k];c.push(_);var C=i.renderer.getTopicById(_)._topic.getData(),T=C.parent;d[_]={parId:T||null,childId:1};var S=C.summaries;S&&S.length>0&&(d[t].sums=S.map(function(e){return e.id}))}}}}}function C(t,n,a){var r=i.renderer.getTopicById(t)._topic.getData(),s=r.parent;u.push(t),(!a||r.summary||r.free)&&c.push(t),d[t]={parId:s||null,childId:n},r.free&&(d[t].free=!0);var l=r.summaries;l&&l.length>0&&(d[t].sums=l.map(function(e){return e.id}));var p=g.getNextChildrenIds(t);if(0!=p.length)if(1==n)for(var h,m=0;m<p.length;m++){var f=p[m],v=i.renderer.getTopicById(f)._topic.getData();if(e.idsInfo[f]&&v.parent==t)h=e.idsInfo[f].childId;else{if(v.free)continue;h=1,"root"==v.parent&&(h=0)}C(f,h)}else if(n){var b=(0,o.copyTopicData)(d[t]),y=[],x=null,w=null;b&&(b.childId=[]);for(var k=p,_=0;_<p.length;_++){var T=p[_],S=i.renderer.getTopicById(T)._topic,M=S.getData();if(n.indexOf(T)>-1&&M.parent==t){var D=e.idsInfo[T].childId;if(b){b.childId.push(t);var E=S.part,A=i.getTopicIndex(M,r,E);y.push(A),x=Math.max.apply(null,y),w=Math.min.apply(null,y)}C(T,D),k.splice($.inArray(T,k),1)}}for(var F=0;F<k.length;F++){var I=k[F],O=i.renderer.getTopicById(I)._topic,L=O.getData(),P=O.part,B=i.getTopicIndex(L,r,P);if(B>w&&B<x){if(L.free)continue;h=1,"root"==L.parent&&(h=0),b&&b.childId.push(t),C(I,h)}}}}for(var T=this.sliders,S=t,M=0;M<T.length;M++)T[M].index==t&&(S=M);0!=c.length?(T[S].idsInfo=d,c[0]="#"+c[0],T[S].ids=c.join(",#")):T.splice(S,1)},getTopicIndex:function(e,t){if(e.root)return null;for(var n=t.children,i=n.length,o=-1,a=0;a<i;a++)if(n[a].id==e.id){o=a;break}return o},updateSlidersPos:function(e){var t,n,i,o=this,a=this.sliders;if(e||0==e)s(e);else for(var r=0;r<a.length;r++)s(r);function s(e){t=a[e],n=t.ids;var r=$(".mind-slide-selection[idx = "+e+"]");i=o.resetSelectionByTopics(null,r,n),t.pos=i}}},f={panel:'<div class="mind-slider-con"><div class="title" style="padding-left:54px">'.concat(s.default.t("js.Demo"),'</div><div class="po-tool-button other slide-expand"><span class="po-diagraming-icons">&#xe742;</span></div>\n          <div class="con-top-btn">\n          <div class="po-button primary disabled" tit="present">').concat(s.default.t("js.Play"),'</div>\n          <div class="po-tool-button other disabled" tit="down" title="').concat(s.default.t("js.Export_to"),'"><span class="po-diagraming-icons">&#xe939;</span></div>\n          <div class="po-tool-button other disabled" tit="del" title="').concat(s.default.t("js.Delete"),'"><span class="po-diagraming-icons">&#xe7b7;</span></div>\n          <div class="po-tool-button other" tit="exit" title="Esc').concat(s.default.t("js.Quit"),'" ><div style="max-width:30px" class="text text-overflow">').concat(s.default.t("js.Quit"),'</div></div>\n          </div>\n          <ul class="sliders-list-con">\n          </ul>\n          </div>'),none:'<div class="slider-none"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-shubiaozuojian"></use></svg>'.concat(s.default.t("js.Box_option_to_set_the_slide_content"),"<br/>").concat(s.default.t("js.or_key"),'<span class="auto-slide auto-slide-in-right-panel">').concat(s.default.t("js.automatic_generation"),"</span></div>"),menu:'<ul class="sliders-list-context-menu po-menu po-menu-icon" style="width:140px">\n             <li op="present" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons">&#xe813;</span> <span class="text">'.concat(s.default.t("js.Play"),'</span></div></li>\n             <li op="up" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons">&#xe815;</span> <span class="text">').concat(s.default.t("js.Sort_up"),'</span></div></li>\n             <li op="down" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons">&#xe816;</span> <span class="text">').concat(s.default.t("js.Sort_down"),'</span></div></li>\n             <li op="del" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons">&#xe96e;</span> <span class="text">').concat(s.default.t("js.Delete_current"),'</span></div></li>\n             <li op="delall" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons">&#xe80c;</span> <span class="text">').concat(s.default.t("js.Delete_all"),'</span></div></li>\n             <li op="export" class="po-menu-item"><div class="po-menu-item-box"><span class="po-menu-icon po-diagraming-icons">&#xe939;</span> <span class="text">').concat(s.default.t("js.Export"),"</span></div></li>\n         </ul>"),control:'<div class="mind-present-control">\n        <div class="po-tool-button other" tit="sign"><span class="sign"></span><span class="text">'.concat(s.default.t("js.Highlight_the_mark"),'</span><div class="mind-present-control-sign"><div class="control-inner">\n        <div class="po-tool-button other active"><span></span></div>\n        <div class="po-tool-button other"><span></span></div>\n        <div class="po-tool-button other"><span></span></div>\n         </div></div></div>\n        <div class="po-tool-devider"></div>\n        <div class="po-tool-button other" tit="zoomout" ><span class="po-diagraming-icons">&#xe6ee;</span></div>\n        <div class="po-tool-button other" tit="zoomin" ><span class="po-diagraming-icons">&#xe6ed;</span></div>\n        <div class="po-tool-devider"></div>\n        <div class="po-tool-button other" tit="prev" ><span class="po-diagraming-icons">&#xe6cf;</span></div>\n        <div class="po-tool-button other" tit="next" ><span class="po-diagraming-icons">&#xe6cd;</span></div>\n        <div class="po-tool-devider"></div>\n        <div class="po-tool-button other" tit="exit" ><span class="text">').concat(s.default.t("js.Quit"),"</span></div>\n        </div>"),iframe:'<div class="slide-iframe-con">\n\t\t\t<div class="iframe"><iframe src="" frameborder="no"></iframe></div>\n\t\t\t<div class="img"><img src=""></div>\n\t\t\t<div class="error">'.concat(s.default.t("The_current_page_does_not_support"),'</div>\n\t\t\t<img class="loading" src="').concat(window.staticBasePath,'/assets/images/login/loading.gif">\n\t\t\t<div class="close-btn" title="').concat(s.default.t("Close_it"),'"><span class="po-diagraming-icons"></span></div>\n\t\t</div>')},g={getChildrenIds:function(e){var t=[];return function e(n){var i="",o=n.children,a=o.length;if(t.push(n.id),null!=o&&a>0)for(i=0;i<a;i++)e(o[i]);if(null!=n.summaries&&n.summaries.length>0)for(i=0;i<n.summaries.length;i++)e(n.summaries[i])}(e),t},getNextChildrenIds:function(e){return editorGlobal.mindMap.renderer.getTopicById(e)._topic.getData().children.map(function(e){return e.id})}}},85935:function(e,t,n){n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.rToolbar=void 0,n(61894),n(69642),n(5682),n(82403),n(12638),n(69268),n(58500),n(86837);var o=i(n(66603)),a=n(83316),r=n(5263),s=n(15240),l=n(63898),c=i(n(32483)),d=n(72011),u=n(59666),p=n(62937);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={icon:{index:0,type:"show"},image:{index:1,type:"show"},tag:{index:2,type:"show"},note:{index:0,type:"hide"},comment:{index:1,type:"hide"},task:{index:2,type:"hide"},url:{index:3,type:"hide"},file:{index:4,type:"hide"},equation:{index:5,type:"hide"},code:{index:6,type:"hide"},markdown:{index:7,type:"hide"}},g=t.rToolbar={toolList:["icon","image"],init:function(){var e=this;try{var t=JSON.parse(localStorage.getItem("rightTollabarList"))||{};f=m(m({},f),t)}catch(n){}"string"==typeof f&&(f=JSON.parse(f));var n={url:"",file:"",equation:"",code:"",style:"",structure:""};for(var i in n)editorGlobal.mindMap.opt.readonlyList[i]||(n[i]="disabled");this.renderToolbar(n),this.renderMoreMenu(n),this.initRightPos(),(0,s.replaceHotkey)($("#po-mind-more-list")),this.initEvent(),editorGlobal.mindMap.on("openUrlLinkDlg",this.openUrlLinkDlg.bind(this)),editorGlobal.mindMap.on("openInsertImageDlg",this.openInsertImageDlg.bind(this)),editorGlobal.mindMap.on("openEquationDlg",this.triggerEquation.bind(this)),editorGlobal.mindMap.on("readonly_change",function(e){["icon","image","tag","note","task","url","file","equation","code","comment","markdown","themes","style","structure"].forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){var n=$("#po-mind-more-list li[tit=".concat(t,"], .op-toolbar-right-list [tit=").concat(t,"]"));e[t]?n.removeClass("disabled"):n.addClass("disabled")}})}),0===editorGlobal.mindMap.renderer.getSelectedIds().length&&this.toggleToolsDisable("none"),editorGlobal.mindMap.on("topic_selected",function(t,n){1==n.length?e.toggleToolsDisable("single"):n.length>=1?e.toggleToolsDisable("multiple"):e.toggleToolsDisable("none")}),editorGlobal.mindMap.on("focus_topic",function(e){var t=!e||e===editorGlobal.mindMap.renderer.mindTree.id;["themes"].forEach(function(e){var n=$(".mind-toolbar-right [tit=".concat(e,"]"));t?n.removeClass("disabled"):n.addClass("disabled")})})},toggleToolsDisable:function(e){["icon","image","tag","note","task","url","file","equation","code","comment","markdown"].forEach(function(t){var n=$("#po-mind-more-list li[tit=".concat(t,"], .mind-toolbar-right [tit=").concat(t,"]"));"none"==e?n.addClass("disabled"):"multiple"==e?"icon"==t||"tag"==t?editorGlobal.mindMap.opt.readonlyList[t]&&n.removeClass("disabled"):n.addClass("disabled"):editorGlobal.mindMap.opt.readonlyList[t]&&n.removeClass("disabled")})},initEvent:function(){var e=this,t=$("#po-mind-more-list"),n=$(".mind-toolbar-right .po-tool-button[tit=add]");n.off("click.paneladd").on("click.paneladd",function(n){var i=$(".po-mind-more-menu"),o=$(".po-list-empty");if(i.is(":visible"))return i.hide(),void $(this).removeClass("selected");i.show(),t.children(".po-menu-item").is(":visible")?(t.removeClass("hide-list"),o.hide()):(t.addClass("hide-list"),o.show()),$(this).addClass("selected"),e.rightDragInit.renderMoreMenuPos(),n.stopPropagation()}),$(document).off("mousedown.more-list").on("mousedown.more-list",function(){}),$(".po-mind-more-menu").off("click.close").on("click.close",".close",function(){$(".po-mind-more-menu").hide(),n.removeClass("selected")}),$(window).resize(function(){e.renderRightListheight()}),$("#po-mind-more-list [tit], .mind-toolbar-right [tit]").off("click.action").on("click.action",function(t){var n=$(this),i=n.attr("tit"),o=editorGlobal.mindMap,s=o.renderer.getSelectedTopic(),h=s?s.getData():{};if("add"!=i&&o.emit("hideRightMoreList"),!n.hasClass("disabled")&&i){switch(i){case"structure":editorGlobal.mindMap.emit("structurePageInit"),editorGlobal.mindMap.emit("openCorner",i);break;case"style":editorGlobal.mindMap.emit("openCorner",i),editorGlobal.mindMap.emit("themePageInit");break;case"expand":$(".mind-header, .mind-corner").toggleClass("fold");var m="&#xe9b2;",f=c.default.t("js.Fold");$(".mind-header, .mind-corner").hasClass("fold")&&(m="&#xe9b3;",f=c.default.t("js.Unfold")),n.attr("title",f).trigger("mouseover").find(".po-diagraming-icons").html(m),$(".po-guide-quot").length>0?setTimeout(function(){r.searchGuide.show(r.searchGuide.tool)},300):$(".po-guide-arrow").length>0&&setTimeout(function(){r.PoGuide.show(r.PoGuide.step)},300);break;case"icon":editorGlobal.mindMap.emit("openCorner",i),editorGlobal.mindMap.emit("renderIconsList",$(".mind-right-detail-icons"));break;case"image":e.openInsertImageDlg();break;case"tag":case"note":case"task":editorGlobal.mindMap.emit("openCorner",i);break;case"url":e.openUrlLinkDlg(s);break;case"file":if(!p.vipState.test("uploadFile"))return void p.vipState.limit({title:c.default.t("js.Upgrade_member_unlock_upload"),pointsSource:"插入附件"});var g=h.file;h.link&&"file"==h.link.type&&(g=h.link),r.insert.link.render({target:$(s.group.node),link:g,type:"file"},function(e,t){"remove"==t?editorGlobal.mindMap.emit("removeLink","file",s):editorGlobal.mindMap.emit("setLink",e,s,t)});break;case"equation":if(!s)return;e.triggerEquation(s);break;case"code":editorGlobal.mindMap.emit("hideRightMoreList"),editorGlobal.codeblock.needFocus=!0;var v=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_CODEBLOCK",{type:"add",data:v});break;case"aigc":l.mindCorner.showCorner(i);break;case"more":var b=$(".mind-toolbar"),y=$(".po-tool-more-list").html("<span class='toolbar-filling'></span>");if(y.children("[tit]").hide(),b.find("[tit]").each(function(e,t){var n=$(t),i=n.clone(!0);n.is(":visible")||y.append(i)}),y.is(":visible"))return void y.hide();y.css("display","flex").off().on("mousedown",function(e){e.stopPropagation()}),$(document).off("mousedown.moretool").on("mousedown.moretool",function(e){e.stopPropagation(),y.hide()});break;case"comment":editorGlobal.mindMap.emit("openCorner","comment"),d.comment.Controller.editPannel.render("toolbar");break;case"markdown":u.MarkdownImport.showPanel()}t.isTrigger||(0,a.$poCollect)("mind_click",{tit:i,pos:"right-tool"})}}),this.rightDragInit.init()},renderToolbar:function(e){var t='<div class="po-tool-button '.concat(e.code,'" tit="code" style="display:none;" title-pos="left" title="').concat(c.default.t("Code_block"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>');!1===editorGlobal.config.showCodeBlock&&(t="");var n='\n\t\t\t<div class="po-tool-button" tit="comment" title-pos="left" original-title="'.concat(c.default.t("js.Comment"),'" style="display:none;">\n\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t</div>\n\t\t');!1===editorGlobal.config.showComment&&(n="");var i='\n\t\t<div class="mind-toolbar-right mind-set-background">\n\t\t\t<span class="toolbar-filling"></span>\n\t\t\t<div class="po-tool-button" tit="move-up">\n\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t</div>\n\t\t\t<div class="op-toolbar-right-list">\n\t\t\t\t<div class="po-tool-button '.concat(e.code,'" tit="style" title-pos="left" title="').concat(c.default.t("Style"),'">\n\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class="po-tool-button ').concat(e.code,'" tit="structure" title-pos="left" title="').concat(c.default.t("Structure"),'">\n\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class="po-tool-devider"></div>\n\t\t\t\t<div class="mind-custom-toolbar">\n\t\t\t\t\t<div class="po-tool-button" tit="icon" title-pos="left" title="').concat(c.default.t("Icon"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button" tit="image" title-pos="left" title="').concat(c.default.t("Picture"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button" tit="tag" title-pos="left" title="').concat(c.default.t("Label"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button" tit="note" title-pos="left" title="').concat(c.default.t("Remarks"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button" tit="task" title-pos="left" title="').concat(c.default.t("Mission"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button ').concat(e.url,'" tit="url" title-pos="left" title="').concat(c.default.t("Link"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button ').concat(e.file,'" tit="file" title-pos="left" title="').concat(c.default.t("Attachment"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="po-tool-button ').concat(e.equation,'" tit="equation" title-pos="left" title="').concat(c.default.t("Equation"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t').concat(t,'\n                    <div class="po-tool-button" tit="markdown"  title-pos="left" title="').concat(c.default.t("js.Markdown"),'">\n\t\t\t\t\t\t<span class="po-diagraming-icons">&#xe903;</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t').concat(n,'\n\t\t\t\t\t<div class="po-tool-button drag-blank-btn" style="width: 22px; height: 22px;"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="po-tool-button" tit="add">\n\t\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="po-tool-button" tit="move-down">\n\t\t\t\t<span class="po-diagraming-icons"></span>\n\t\t\t</div>\n\t\t</div>\n\t    ');$("body").append($(i))},initRightPos:function(){var e=$(".mind-toolbar-right .mind-custom-toolbar"),t=$("#po-mind-more-list"),n=e.children(".po-tool-button").outerHeight(!0),i=0,o=0;for(var a in f){var r=f[a],s=r.index,l=0;"show"==r.type?(l=s*n,i+=n,e.children(".po-tool-button[tit="+a+"]").css("top",l).show()):(l=36*s,o+=36,t.children(".po-menu-item[tit="+a+"]").css("top",l).show()),r.top=l}e.css("height",i),t.css("height",o),this.renderRightListheight(),this.checkRightList()},renderRightListheight:function(){var e=$(".mind-toolbar-right").position().top+8+25+20,t=$(window).height()-e-80,n=$(".mind-toolbar-right .mind-custom-toolbar").outerHeight()+155,i=$(".mind-toolbar-right").children("[tit=move-up],[tit=move-down]");if($(window).height()-n<e){var o=function(){i.removeClass("disabled"),$(".op-toolbar-right-list").scrollTop()<1&&$(".mind-toolbar-right").children("[tit=move-up]").addClass("disabled"),$(".op-toolbar-right-list").scrollTop()+t>=n&&$(".mind-toolbar-right").children("[tit=move-down]").addClass("disabled")};return $(".op-toolbar-right-list").height(t),i.show(),$(".op-toolbar-right-list").off("scroll").on("scroll",function(){o()}),i.off("click.scroll").on("click.scroll",function(){var e=$(this).attr("tit"),t=$(".op-toolbar-right-list").scrollTop();"move-down"==e?$(".op-toolbar-right-list").animate({scrollTop:t+100},200):$(".op-toolbar-right-list").animate({scrollTop:t-100},200),o()}),void o()}i.is(":visible")&&($(".op-toolbar-right-list").height("auto"),i.hide())},checkRightList:function(){for(var e=$.extend({},f),t=Object.values(e).sort(function(e,t){var n=e.index,i=t.index;return n<i?-1:n>i?1:0}),n=[],i=[],o=!1,a=0;a<t.length;a++){var r=t[a],s=r.index,l=[],c=(l="show"==r.type?n:i)[l.length-1];-1==l.indexOf(s)?(l.length?s!=c+1&&(s=r.index=c+1,o=!0):0!=r.index&&(s=r.index=0,o=!0),l.push(s)):(o=!0,s=r.index=c+1,l.push(s))}o&&(f=$.extend({},e),localStorage.setItem("rightTollabarList",JSON.stringify(f)),this.initRightPos())},rightDragInit:{customConPos:{},moreListPos:{},showItemsArray:[],showItemsTopArray:[],moreItemsArray:[],moreItemsTopArray:[],dragDomIdx:-1,createTo:null,startx:-1,starty:-1,rightTollbar:null,customCon:null,moreMenu:null,moreList:null,blankDom:null,blankDomH:null,isChange:!1,init:function(){var e=this;this.rightTollbar=$(".op-toolbar-right-list"),this.customCon=$(".mind-toolbar-right .mind-custom-toolbar"),this.moreMenu=$(".po-mind-more-menu"),this.moreList=$("#po-mind-more-list"),this.blankDom=$(".drag-blank-btn"),this.blankDomH=$(".drag-blank-btn").outerHeight(!0)+("rightCon"==this.createTo?0:2),this.customCon.off("mousedown.tool_dragging").on("mousedown.tool_dragging",".po-tool-button",function(t){editorGlobal.mindMap.opt.readonly||e.mouseStart(t,$(this),"clone-tool-btn")}),this.moreList.off("mousedown.tool_dragging").on("mousedown.tool_dragging",".po-menu-item",function(t){editorGlobal.mindMap.opt.readonly||e.mouseStart(t,$(this),"clone-tool-btn text")})},mouseStart:function(e,t,n){var i=this;i.dragDomIdx=-1,i.startx=e.pageX,i.starty=e.pageY,$(".clone-tool-btn").length>0&&$(".clone-tool-btn").remove();var o=t.attr("tit"),a=t.offset().left-this.startx,r=t.offset().top-this.starty,s=!1;$(document).off("mousemove.tool_dragging").on("mousemove.tool_dragging",function(e){var l=e.pageX,c=e.pageY;if(s||Math.abs(l-i.startx)>5||Math.abs(c-i.starty)>5){var d=$(".clone-tool-btn");d.length||(d=t.clone().removeAttr("original-title").removeClass("po-tool-button").addClass(n).appendTo("body")),d.css({pointerEvent:"none",top:c+r,left:l+a});var u=$(".mind-toolbar-right .po-tool-button[tit=add]");if(i.moreMenu.is(":visible")||u.trigger("click"),!s){var p=[],h=[],m=[],g=[];for(var v in f){var b=f[v],y=b.index,x=b.top;v!=o&&("show"==b.type?(p[y]=v,h[y]=x+20):(m[y]=v,g[y]=x+20))}i.showItemsArray=p.filter(function(e){return e}),i.showItemsTopArray=h.filter(function(e){return e}),i.moreItemsArray=m.filter(function(e){return e}),i.moreItemsTopArray=g.filter(function(e){return e}),s=!0}t.is(":visible")&&(t.hide(),t.siblings(".drag-blank-btn").css({top:f[o].top}).show()),i.addShape(l,c,o);var w=i.moreMenu.offset(),k=i.rightTollbar.offset();i.customConPos={minX:k.left,maxX:k.left+i.rightTollbar.outerWidth(),minY:k.top,maxY:k.top+i.rightTollbar.outerHeight()},i.moreListPos={minX:w.left,maxX:w.left+i.moreMenu.outerWidth(),minY:w.top,maxY:w.top+i.moreMenu.outerHeight()},i.originDom=i.createTo}}),$(document).off("mouseup.tool_dragging").on("mouseup.tool_dragging",function(){i.moveEnd(t,o)})},moveEnd:function(e,t){$(document).off("mousemove.tool_dragging"),$(document).off("mouseup.tool_dragging"),$(".clone-tool-btn").remove(),$(".dragging").removeClass("dragging"),this.dragEndCreateDom(e,t),this.blankDom.hide(),this.dragDomIdx=-1,this.createTo=null,this.isChange=!1},addShape:function(e,t,n){var i=this,o=0;if(e>i.customConPos.minX&&e<i.customConPos.maxX&&t>i.customConPos.minY&&t<i.customConPos.maxY){o=t-i.customConPos.minY-(80-$(".op-toolbar-right-list").scrollTop());var a=i.showItemsTopArray.filter(function(e){return e<=o}).length;"rightCon"!=i.createTo&&("moreCon"==i.createTo&&i.dragDomIdx>-1&&(i.changeDomProp(i.moreList,n,"show"),i.moreList.children(":visible").length<1&&(i.moreList.addClass("hide-list"),$(".po-list-empty").show())),i.createTo="rightCon",i.getListAndBlankDom(i.customCon,n,a)),i.dragDomIdx!=a&&i.dragImpactItems(a,n)}if(e>i.moreListPos.minX&&e<i.moreListPos.maxX&&t>i.moreListPos.minY&&t<i.moreListPos.maxY){o=t-i.moreListPos.minY-i.moreMenu.children(".po-list-title").outerHeight();var r=i.moreItemsTopArray.filter(function(e){return e<=o}).length;"moreCon"!=i.createTo&&("rightCon"==i.createTo&&i.dragDomIdx>-1&&i.changeDomProp(i.customCon,n,"hide"),i.createTo="moreCon",i.getListAndBlankDom(i.moreList,n),i.moreList.hasClass("hide-list")&&(i.moreList.removeClass("hide-list"),$(".po-list-empty").hide())),i.dragDomIdx!=r&&this.dragImpactItems(r,n),$(".clone-tool-btn").css({color:"#000"})}else $(".clone-tool-btn").css({color:"tint"==editorGlobal.toolbarBgModel?"#000":"#fff"})},dragEndCreateDom:function(e,t){if(this.createTo&&0!=this.isChange){var n=f[t];if(n){var i=n.type,o=n.index,a=!1,r=[];for(var s in f)f[s].type==i&&r.push(s);if(r.length>0){o<0&&(o=0,a=!0),o>r.length-1&&(o=r.length,a=!0);for(var l=0;l<r.length;l++){var c=r[l];o==f[c].index&&c!=t&&(o+=1,a=!0)}}a&&(f[t].index=o);var d="rightCon"==this.createTo?this.customCon:this.moreList;n.top=n.index*this.blankDomH,d.children("[tit="+t+"]").css({top:n.top}).show(),localStorage.setItem("rightTollabarList",JSON.stringify(f)),this.renderMoreMenuPos(),g.renderRightListheight(),g.checkRightList()}}else e.show()},renderMoreMenuPos:function(){var e=this.rightTollbar.find("[tit=add]").offset(),t={top:e.top,right:$(window).width()-e.left+12};t.top+this.moreMenu.outerHeight()>$(window).height()&&(t.top=$(window).height()-this.moreMenu.outerHeight()-10),this.moreMenu.css({top:t.top,right:t.right})},changeDomProp:function(e,t,n){var i=this;i.blankDom=e.find(".drag-blank-btn"),i.blankDomH=i.blankDom.outerHeight(!0)+("rightCon"==i.createTo?0:2),i.blankDom.hide(),i.setToolbarType(t,n);for(var o=i.getItemsArray().slice(i.dragDomIdx),a=0;a<o.length;a++){var r=o[a],s=f[r].index;i.setToolbarIndex(r,s-1),i.setToolbarTop(r,-1),i.setTopArr(r),i.moveTo(r)}e.css({height:e.children("[tit]:visible").length*i.blankDomH})},getListAndBlankDom:function(e,t){var n=this,i=this.getItemsArray();n.blankDom=e.find(".drag-blank-btn"),n.blankDomH=n.blankDom.outerHeight(!0)+("rightCon"==this.createTo?0:2),n.blankDom.is(":visible")?n.dragDomIdx=f[t].index:(n.dragDomIdx=i.length+1,n.blankDom.show()),e.css({height:e.children(":visible").length*n.blankDomH}).addClass("dragging")},dragImpactItems:function(e,t){var n=this,i=this.getItemsArray(),o=-1,a=0,r=0;n.dragDomIdx>e?(o=1,a=e,r=n.dragDomIdx):(o=-1,a=n.dragDomIdx,r=e);var s=i.slice(a,r);n.cyclicItemArr(s,o,e),n.blankDom.css({top:e*n.blankDomH}),n.dragDomIdx=e,n.setToolbarIndex(t,e)},getItemsArray:function(){return"moreCon"==this.createTo?this.moreItemsArray:this.showItemsArray},cyclicItemArr:function(e,t,n){for(var i=this,o=0;o<e.length;o++){var a=e[o];i.setToolbarIndex(a,f[a].index+t),i.setToolbarTop(a,t),i.setTopArr(a,n),i.moveTo(a)}},setTopArr:function(e,t){var n="moreCon"==this.createTo?this.moreItemsTopArray:this.showItemsTopArray,i=f[e].index;n.splice(i>t?i-1:i,1,f[e].top+20)},setToolbarIndex:function(e,t){f[e].index=t,this.isChange=!0},setToolbarType:function(e,t){f[e].type=t,this.isChange=!0},setToolbarTop:function(e,t){f[e].top+=t*this.blankDomH,this.isChange=!0},moveTo:function(e){("moreCon"==this.createTo?this.moreList:this.customCon).find("[tit = "+e+"]").css({top:f[e].top})}},renderMoreMenu:function(e){var t='<li class="po-menu-item '.concat(e.code,'" tit="code" style="display:none;">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon">&#xe89f;</span>\n\t\t\t\t\t\t\t<span class="text">').concat(c.default.t("js.Code_block"),"</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>");!1===editorGlobal.config.showCodeBlock&&(t="");var n='\n\t\t\t<li class="po-menu-item '.concat(e.comment||"",'"  tit="comment">\n\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon"></span>\n\t\t\t\t\t<span class="text">').concat(c.default.t("js.Comment"),'</span>\n\t\t\t\t\t<span class="po-menu-hotkey">Alt+Ctrl+M</span>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t');!1===editorGlobal.config.showComment&&(n="");var i='\n\t\t\t<div class="po-mind-more-menu">\n\t\t\t\t<div class="po-list-title">\n\t\t\t\t\t<span style="line-height: 22px;">'.concat(c.default.t("More_Features"),'</span>\n\t\t\t\t\t<span class="po-diagraming-icons close"></span>\n\t\t\t\t\t<div class="po-lower-tip">').concat(c.default.t("Drag_the_icon_to_add_functionality"),'</div>\n\t\t\t\t</div>\n\t\t\t\t<ul id="po-mind-more-list" class="po-mind-more-list po-menu-small">\n\t\t\t\t\t<li class="po-menu-item" tit="icon">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon"></span>\n\t\t\t\t\t\t\t<span class="text">').concat(c.default.t("Icon"),'</span>\n\t\t\t\t\t\t\t<span class="po-menu-hotkey">Alt+C</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="po-menu-item" tit="tag">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon"></span>\n\t\t\t\t\t\t\t<span class="text">').concat(c.default.t("Label"),'</span>\n\t\t\t\t\t\t\t<span class="po-menu-hotkey">Alt+R</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="po-menu-item" tit="task">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon"></span>\n\t\t\t\t\t\t\t<span class="text">').concat(c.default.t("Mission"),'</span>\n\t\t\t\t\t\t\t<span class="po-menu-hotkey">Alt+L</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="po-menu-item" tit="note">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon"></span>\n\t\t\t\t\t\t\t<span class="text">').concat(c.default.t("Remarks"),'</span>\n\t\t\t\t\t\t\t<span class="po-menu-hotkey">（<span>').concat(c.default.t("Select_Topic"),"</span>）Ctrl+R</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t").concat(n,'\n\t\t\t\t\t<li class="po-menu-item" tit="image">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon"></span>\n\t\t\t\t\t\t\t<span class="text">').concat(c.default.t("Picture"),'</span>\n\t\t\t\t\t\t\t<span class="po-menu-hotkey">Ctrl+Shift+I</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="po-menu-item ').concat(e.url,'" tit="url">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon"></span>\n\t\t\t\t\t\t\t<span class="text">').concat(c.default.t("Link"),'</span>\n\t\t\t\t\t\t\t<span class="po-menu-hotkey">Ctrl+K</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="po-menu-item ').concat(e.file,'" tit="file">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon"></span>\n\t\t\t\t\t\t\t<span class="text vip-tip">').concat(c.default.t("Attachment"),'</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="po-menu-item ').concat(e.equation,'" tit="equation">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon"></span>\n\t\t\t\t\t\t\t<span class="text vip-tip">').concat(c.default.t("Equation"),'</span>\n\t\t\t\t\t\t\t<span class="po-menu-hotkey">Ctrl+E</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t').concat(t,'\n                    <li class="po-menu-item" tit="markdown">\n\t\t\t\t\t\t<div class="po-menu-item-box">\n\t\t\t\t\t\t\t<span class="po-diagraming-icons po-menu-icon">&#xe903;</span>\n\t\t\t\t\t\t\t<span class="text">').concat(c.default.t("js.Markdown"),'</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="po-menu-item drag-blank-btn" style="height: 34px;"></li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="po-list-empty">\n\t\t\t\t\t<img src="').concat(staticBasePath,'/images/add_list_empty.svg">\n\t\t\t\t\t<div class="po-lower-tip">').concat(c.default.t("Toolbar_too_full"),'</div>\n\t\t\t\t\t<div class="po-lower-tip">').concat(c.default.t("You_can_drag_infrequently"),"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\n\t\t"),o=(0,s.querySelector)(".mind-util-container");if(!o){$("body").append($('\n\t\t\t\t<div class="mind-util-container"></div>\n\t\t\t'))}o=$(".mind-util-container"),(0,s.querySelector)(".po-mind-more-menu")||o.append($(i))},openUrlLinkDlg:function(e){if(e||(e=editorGlobal.mindMap.renderer.selectedTopicList[0]),e){var t=e.getData()||{},n=null;t.link&&"url"==t.link.type&&(n=t.link),editorGlobal.mindMap.emit("checkLink",t,"url",function(){r.insert.link.render({target:$(e.group.node),link:n,type:"url"},function(t,n){"remove"==n?editorGlobal.mindMap.emit("removeLink","url",e):editorGlobal.mindMap.emit("setLink",t,e,n)})})}},openInsertImageDlg:function(){r.insert.image.init(function(e,t,n){editorGlobal.mindMap.emit("set_topic_img",null,{url:e,originalUrl:n},t)})},triggerEquation:function(e){r.insert.equation.isLimit()||(e||(e=editorGlobal.mindMap.renderer.selectedTopicList[0]),editorGlobal.mindMap.emit("to_edit_status",null,e,!1,function(){var e=$(".area_box div[contenteditable]");e.find("li").length>0?e.find("li").textMoveToEnd():e.textMoveToEnd(),r.insert.equation.equationInit(e)}))}}},56276:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.publicSearchEvent=void 0,n(61894),n(82403),n(33809),n(6284),n(37006),n(47958),n(69268),n(58500),n(86837),n(54938);var o=n(15240),a=n(46346),r=i(n(32483)),s=n(47306);t.publicSearchEvent={searchDataList:[],currentPage:0,totalPage:0,selectId:"",searchVal:"",replaceVal:"",init:function(e){var t=this;t.callback=e;var n=$(".po-search-con"),i=$(a.Outline.searchIpt),o=$("#outline-replace-ipt"),r=n.find(".dis-current"),l=n.find(".search-del"),c=n.find(".dis-total"),d=null;i.focus().val(""),o.val(""),r.button("disable"),c.button("disable"),l.hide(),i.off().on("input",function(){t.searchVal=s.Util.filterXss($(this).val()),d&&clearTimeout(d),d=setTimeout(function(){e&&e(t.searchVal),t.searchNode()},500),""!=t.searchVal?$(this).next(".search-del").show():$(this).next(".search-del").hide()}).on("keydown",function(e){e.stopPropagation(),!e.ctrlKey&&!e.metaKey||"82"!=e.keyCode&&"70"!=e.keyCode||e.preventDefault()}),o.off().on("input",function(){t.replaceVal=s.Util.filterXss($(this).val().trim()),""!=t.replaceVal?$(this).next(".search-del").show():$(this).next(".search-del").hide()}).on("keydown",function(e){e.stopPropagation(),!e.ctrlKey&&!e.metaKey||"82"!=e.keyCode&&"70"!=e.keyCode||e.preventDefault()}),l.off().on("click",function(e){e.stopPropagation(),$(this).prev("input").val("").trigger("input"),$(this).hide()}),$(".top-op-btn .change-btn").off("click").on("click",function(){var e=$(this);e.hasClass("on")||($(".outline-hover-bg").hide(),e.addClass("on").siblings().removeClass("on"),1==e.index()?(e.parent().addClass("on"),$(".outline-retrieval").children("div").show()):(e.parent().removeClass("on"),$(".outline-retrieval").children("div").not(":first").hide()),a.Outline.updateSelectedBg())}),r.off("click").on("click",function(){t.replaceVal==t.searchVal||$(this).hasClass("disable")||t.replacePage()}),c.off("click").on("click",function(){t.replaceVal==t.searchVal||$(this).hasClass("disable")||t.replacePage("all")})},searchNode:function(){var e=this;e.searchDataList=[];var t=e.getTopicList();if(""!=this.searchVal&&this.searchVal.length>0)for(var n=0;n<t.length;n++){var i=t[n];i.title.toUpperCase().indexOf(e.searchVal.toUpperCase())>-1&&e.searchDataList.push(i.id)}},replacePage:function(e){if($(".outline-curt-bg").hide(),"all"!=e){var t=this.selectId,n=this.getTopicById(t);this.updateTopicNode(n)}else this.updateTopicNodes()},updateTopicNodes:function(){var e=this,t=[],n=[],i=!1;this.searchDataList.map(function(a){var s=e.getTopicById(a),l=(0,o.copyTopicData)(s);n.push(l),e.searchVal=function(e){if(""!=$.trim(e)){e=e.split(",");for(var t=0;t<e.length;t++)"* . ? + $ ^ [ ] ( ) { } | \\ /".indexOf(e[t])>=0&&e.splice(t,1,"\\"+e[t]);return e.toString()}}(e.searchVal);var c=s.title.replace(/([^<>"=]+)(?![^<>]*>)/g,function(t){return t.replaceAll(e.searchVal,e.replaceVal)});if(s.title=c,!i){var d=$("#"+a.id).find(".mention");d.length>0&&d.each(function(){if($(this).html().indexOf(e.searchVal)>-1)return i=!0,void $.toast({type:"secondary",text:r.default.t("js.Components_do_not_support_content_replacement"),delay:"3000"})})}t.push(s)}),editorGlobal.mindMap.execCommand("UPDATE_TOPIC_NODE",t,n,"title"),e.searchNode()},updateTopicNode:function(e){if(e){var t=(0,o.copyTopicData)(e),n=this.searchDataList.indexOf(e.id);this.searchDataList.splice(n,1);var i=this.searchVal,a=this.replaceVal;e.title=e.title.replace(/([^<>"=]+)(?![^<>]*>)/g,function(e){return e.replaceAll(i,a)});var s=$("#"+e.id).find(".mention");s.length>0&&s.each(function(){$(this).html().indexOf(i)>-1&&$.toast({type:"secondary",text:r.default.t("js.Components_do_not_support_content_replacement"),delay:"3000"})}),editorGlobal.mindMap.execCommand("UPDATE_TOPIC_NODE",[e],[t],"title"),n>this.searchDataList.length&&(n=1);var l=this.searchDataList[n-1];l||(l=this.searchDataList[n]),this.selectDom(l)}},getTopicList:function(){return Object.values(editorGlobal.mindMap.renderer.topicsList).filter(function(e){return!e.boundary})},getTopicById:function(e){return editorGlobal.mindMap.renderer.getTopicById(e)},selectDom:function(e){e&&$("#search_ol_"+e).find(".node-title").trigger("click")}}},81560:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getFontBlobUrl",{enumerable:!0,get:function(){return o.getFontBlobUrl}}),Object.defineProperty(t,"getFontMenuHtml",{enumerable:!0,get:function(){return o.getFontMenuHtml}}),Object.defineProperty(t,"initFontList",{enumerable:!0,get:function(){return o.initFontList}}),t.loadFont=function(e,t){t&&a.push(t),(0,o.loadFont)(e,function(){i&&clearTimeout(i),i=setTimeout(function(){a.forEach(function(e){e.isRerender=!0}),editorGlobal.mindMap.renderer.setNeedResetTopicList(a),a=[],editorGlobal.mindMap.render()},1e3)})},Object.defineProperty(t,"loadedFonts",{enumerable:!0,get:function(){return o.loadedFonts}}),n(61894),n(69268),n(84889);var i,o=n(36960),a=[]},18881:function(e,t,n){n(61894),n(58500),n(84889);var i=n(9712),o=i(n(66603));n(4790),n(82403),n(6284),n(69268),n(86837),n(10960);var a=i(n(6535)),r=n(47306),s=n(31396);n(29646);var l=n(49749);n(71037),n(25131),n(34253),n(97826),n(83910);var c=n(62937),d=n(42596);n(64458);var u=i(n(50661)),p=n(47675),h=n(85935),m=n(63898),f=n(42832),g=n(97708),v=n(27251),b=n(59584),y=n(88318),x=n(91602),_=n(31915),S=n(24949),D=n(29878),E=n(97891),A=n(64794),F=n(57160),I=n(98601),O=n(51051),L=n(81560);n(71052);var P=n(31618),B=n(41295),N=n(7031),z=n(15240),j=n(72011),R=n(62242);n(78738);var G=n(14783),H=n(83316),W=n(83492),U=n(30282);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}editorGlobal.config={showPage:!1,showCodeBlock:!0,showComment:!0,searchIcon:!0,networkImage:!0,userImages:!0,watermark:!0,myWatermark:!0,curWaterMark:"",waterMarks:[],insertTemp:!0,helper:!1,customiseTheme:!0,mindTags:!1,present:!0,mindCanvas:!1,leftButton:"move",userThemeDefault:"",mindTutorial:!0,mindGuide:!0,history:!0,mindAIGC:!0,notNeedJudgeSave:!0,mindToolbarConfig:{topToolbar:"show",footerBarLeft:["outline","devider","pageBox"],footerBarRight:["textsNums","topicNums","devider","devider","boxChoose","insertTemp","devider","focus","devider","mindCanvas","devider","zoomPage","fullPage"]},supportSearch:!0},window.fileType=editorGlobal.fileType="mind",window.editorGlobal.codeblock=y.codeblock,$(document).ready(function(){window.addEventListener("resize",function(){editorGlobal.mindMap.resize()})}),window.mindUI={},editorGlobal.chartCategory=function(e){var t="";switch(e){case"mind_free":case"mind":t=a.default.t("Mind_Map");break;case"flow":case"designer":t=a.default.t("Flow_Chart");break;case"outline":t=a.default.t("Mind_Notes");break;case"ui":t=a.default.t("Prototype_drawing");break;case"uml":t="UML";break;case"mind_org":t=a.default.t("Organization_Chart");break;case"bpmn":t="BPMN"}return t},editorGlobal.mindUI={isOperated:!1,beforeInit:function(){var e;f.headerUI.init();var t=null===(e=window.editorGlobalConfig)||void 0===e?void 0:e.fontFamily;(0,L.initFontList)(t)},initToolbarStyle:function(){var e=editorGlobal.mindMap.renderer.getBackgroundColor();(e&&e.indexOf("url")>-1||"transparent"==e)&&(e="rgb(255,255,255)");var t=e;try{var n=(0,G.rgbToHsb)((0,G.getRgbFromHex)(e));$(".mind-set-background").removeClass("tint").addClass("deep").css({background:e}),$(".bottom_temp_wrap").removeClass("deep"),n.b>=40&&(e="#fff",$(".mind-set-background").removeClass("deep").addClass("tint").css({background:e})),(0,G.isLightColor)(e)?$(".mind-set-background").removeClass("deep").addClass("tint"):($(".bottom_temp_wrap").addClass("deep"),$(".mind-set-background").addClass("deep")),$(".po-footer, .po-footer .po-progress .po-progress-cursor").removeClass("tint").addClass("deep").css({background:t}),(0,G.isLightColor)(t)&&$(".po-footer, .po-footer .po-progress .po-progress-cursor").removeClass("deep").addClass("tint")}catch(e){}},init:function(){if(x.configCollaSave.init("",editorGlobal.fileType),editorGlobal.mindMap.on("saveOnline",x.sendMessage.saveOnline.bind(x.sendMessage)),editorGlobal.mindMap.on("toast",$.toast),editorGlobal.mindMap.on("initToolbarStyle",this.initToolbarStyle),D.utilContainerUI.init(),E.insertUI.init(),_.connectionLineStyleUI.init(),P.brashUI.init(),A.boundaryStyle.init(),F.summaryStyle.init(),sessionStorage.removeItem("temp_topic_len"),h.rToolbar.init(),m.mindCorner.init(),!1!==(0,v.injectExtraAsynCall)("showAIGC")&&l.AIDraw.init(),N.ocrTranslate.renderOCRPanel("mind"),(0,W.pointTS)("vip.start"),c.vipState.init(function(){(0,W.pointTS)("vip.end")}),I.mindImageUi.init(),S.focusUI.init(),O.MindTipUI.init(),window.deviceType.indexOf("mobi")<0&&(editorGlobal.mindFooterBar=new g.MindFooterBar({mindMap:editorGlobal.mindMap}),editorGlobal.mindFooterBar.init(editorGlobal.config.mindToolbarConfig)),U.insertTemplate.init(editorGlobal.mindMap),editorGlobal.mindMap.emit("initWaterMark"),editorGlobal.authObj.mindConfig){if(editorGlobal.config.mindTags=editorGlobal.authObj.mindConfig,editorGlobal.config.mindTags){var e=editorGlobal.config.mindTags?JSON.parse(editorGlobal.config.mindTags):{};p.tagsUI.myTags=e.tags||[]}p.tagsUI.renderMindTags()}editorGlobal.authObj.mindConfig&&"string"==typeof editorGlobal.authObj.mindConfig&&(window.mindConfig=JSON.parse(editorGlobal.authObj.mindConfig)),r.Util.isMac()&&$(".mind-corner").children("[tit=shortcut]").find("span").each(function(e,t){var n=$(t),i=n.html().replace(/Ctrl/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe795;</span>");n.hasClass("focus")&&(i=n.html().replace(/Ctrl/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe9ee;</span>")),n.html(i.replace(/Alt/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe9e0;</span>"))}),$("#mind-font-list").html((0,L.getFontMenuHtml)()),$(".mind-to-icons").off().on("click",function(){$(".mind-toolbar [tit=icon]").trigger("click")}),$(document).off("click.icon").on("click.icon",".mind-right-detail-icons .icon-n",function(){var e=$(this),t=e.css("color");editorGlobal.mindMap.emit("setIcon",e,null,t)}),$(".outline-dragable, .remark-dragable").off("mouseover").on("mouseover",function(){var e=$(this).children(".dragable_line");window.dragLineTimer&&(clearTimeout(window.dragLineTimer),window.dragLineTimer=null),window.dragOutTimer&&(clearTimeout(window.dragOutTimer),window.dragOutTimer=null),window.dragLineTimer=setTimeout(function(){e.fadeIn(300)},300)}).on("mouseout",function(){window.dragLineTimer&&(clearTimeout(window.dragLineTimer),window.dragLineTimer=null);var e=$(this).children(".dragable_line");window.dragOutTimer=setTimeout(function(){e.fadeOut(300)},300)}),this.initToolbarStyle()},setDisable:function(){$(".mind-toolbar [tit], header [tit=present], header [tit=publish], .ai-button-con, .mind-corner.right .close").button("disable"),$("#header-history, .op-toolbar-right-list, #po-mind-more-list,.po-navigation, .po-comment-toptool, .po-comment-icon-ifShow, .comment-list-wrap").button("disable"),$("#header-title").removeAttr("contenteditable"),$(".po-footer-left ").css({pointerEvents:"none",opacity:".6"})},setEnable:function(){$(".mind-toolbar [tit], header [tit=present], header [tit=publish], .ai-button-con, .mind-corner.right .close").button("enable"),$("#header-history, .op-toolbar-right-list, #po-mind-more-list, .po-navigation, .po-comment-toptool, .po-comment-icon-ifShow, .comment-list-wrap").button("enable"),$("#header-title").attr("contenteditable",!0),$(".po-footer-left").removeAttr("style")},guideAndAiTip:function(){},initDock:function(){}},editorGlobal.outerConfig={init:function(e,t){var n;editorGlobal.deviceType=editorGlobal.device=e.deviceType||(null===(n=window.deviceType)||void 0===n?void 0:n.device),editorGlobal.showPage=e.showPage||!1,editorGlobal.toolbarBgModel="tint",editorGlobal.vipImgUrl="".concat(staticBasePath,"/images/vip-tip.svg"),editorGlobal.vipIcons=e.vipIcons||{primaryBtn:"",default:"",corner:""},editorGlobal.noteCornerW=240,window.chartTitle=editorGlobal.chartTitle=a.default.t("js.Unnamed_file"),editorGlobal.tutorial=!0,t.tutorial&&(editorGlobal.tutorial=editorGlobal.config.mindTutorial=t.tutorial),v.bigPipe.render({js:[staticBasePath+"/assets/iconfont/font_2081284/iconfont.js"]}),editorGlobal.userObj=t.userObj||{},editorGlobal.authObj=t.authObj||{};var i=editorGlobal.chartObj=t.chartObj;editorGlobal.chartId=editorGlobal.pageInfo.chartId=t.chartId||t.chartObj.chartId,editorGlobal.mindCanvas=editorGlobal.authObj.mindCanvas||!1,editorGlobal.mindMap.opt.leftButton=editorGlobal.authObj.leftButton||"move",editorGlobal.readonly=!1,"viewer"==i.collaRole&&(editorGlobal.readonly=!0),editorGlobal.readonlyList=e.readonlyList||{},editorGlobal.config.mindToolbarConfig=this.handleFooterBarData(e.mindToolbarConfig),editorGlobal.vipColorCardStyleMap=e.vipColorCardStyleMap||null},handleFooterBarData:function(e){var t={};return e&&(t=V(V({},t),e)),t=V(V({},{topToolbar:"show",footerBarLeft:["outline","devider","pageBox"],footerBarRight:["textsNums","topicNums","devider","boxChoose","insertTemp","devider","focus","devider","mindCanvas","devider","zoomPage","fullPage"]}),t)}},window.mindEditor=function(){function e(t){T(this,e),this.config=t}return M(e,[{key:"bulid",value:function(e){var t=this;$("body").append('<div><span class="katex"></span></div>'),editorGlobal.mindMap=new u.default({el:e.el}),editorGlobal.mindMap[R.Shortcutmenu.instanceName]=new R.Shortcutmenu({mindMap:editorGlobal.mindMap}),editorGlobal.vipState=c.vipState,editorGlobal.mindUI.beforeInit(),(0,W.pointTS)("xhr.start"),(0,v.injectExtraAsynCall)("onInitInfo",{},function(){var n=C(k().mark(function n(i){var o,a,r,l,c,u;return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){editorGlobal.mindUI.init(),B.mention.bindEvent({mindMap:editorGlobal.mindMap,el:e.el}),editorGlobal.config.showComment&&j.comment.Controller.init({userObj:V(V({},editorGlobal.userObj),{},{collaRole:editorGlobal.chartObj.collaRole}),owner:editorGlobal.chartObj.owner}),(0,H.$poCollect)("edit_page_theme_show",{pageName:i.mainCanvasId,theme:l.theme,structure:l.structure,topicCount:editorGlobal.mindMap.renderer.getTopicLength(),canvasCount:r.length,configMouse:editorGlobal.mindMap.opt.leftButton})},"object"!=w(o=i.def)&&(o=JSON.parse(o)),n.next=5,(0,s.testEditorVersion)(o.editorVersion,"mind");case 5:if("boolean"!=typeof(a=n.sent)||!1!==a){n.next=8;break}return n.abrupt("return");case 8:editorGlobal.outerConfig.init(t.config,i),r=null!=i&&i.chartDefIds?i.chartDefIds:[],editorGlobal.poPagination=d.poPagination.init(r,{pageId:i.mainCanvasId,isView:"undefined"!=typeof isView||editorGlobal.readonly,config:i}),l=JSON.parse(i.def),c={chartId:editorGlobal.chartId,readonly:editorGlobal.readonly,readonlyList:editorGlobal.readonlyList},editorGlobal.mindMap.on("init_data_start",function(){(0,W.pointTS)("event.init.start")}),editorGlobal.mindMap.on("init_data_end",function(){(0,W.pointTS)("event.init.end")}),editorGlobal.mindMap.on("render_start",function(){(0,W.pointTS)("shape.render.start")}),editorGlobal.mindMap.on("loadsuccess",function(){(0,W.pointTS)("shape.render.end"),(0,W.pointTS)("render.end"),(0,v.injectExtraAsynCall)("onRanderComplete")}),editorGlobal.mindMap.on("topic_link_open",function(e,t){var n=t.url,i=t.type,o=t.title;(0,v.injectExtraAsynCall)("openFileUrl",{url:n,type:i,title:o},function(){}),e.stopPropagation(),e.preventDefault()}),null!=l&&l.theme&&!(0,z.isJSONString)(l.theme)&&l.theme.indexOf("customise_")>=0?b.Server.getThemeById(l.theme,function(e){(0,W.pointTS)("xhr.customise.theme"),(0,W.pointTS)("xhr.end"),l.theme=e,editorGlobal.mindMap.updateConfig(c),editorGlobal.mindMap.setFullData(l),u()}):((0,W.pointTS)("xhr.end"),editorGlobal.mindMap.updateConfig(c),editorGlobal.mindMap.setFullData(l),u());case 14:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()),(0,H.$poCollect)("mind_page_visit",{pageName:"编辑页"})}}]),e}()},39886:function(e,t,n){n(61894),n(69268),n(58500),n(84889);var i=n(9712);n(4790);var o=i(n(66603));n(10960);var a=i(n(6535));n(29646),n(71037),n(43542),n(34253),n(97826),n(83910);var r=n(62937);n(64458);var s=i(n(50661)),l=n(47306),c=n(27251),d=n(59584),u=n(88318),p=n(91602),h=n(24949),m=n(97891),f=n(7436),g=n(59322),v=n(97644),b=n(68700),y=n(41295);n(71052);var x=n(21837),_=n(15240);n(78738);var S=n(5263),D=n(83316),E=n(31396),A=n(72011),F=n(31618),I=n(18236);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}editorGlobal.config={showPage:!1,showCodeBlock:!0,searchIcon:!1,networkImage:!1,userImages:!1,watermark:!0,curWaterMark:"",waterMarks:[],insertTemp:!1,helper:!1,customiseTheme:!1,mindTags:!1,present:!1,mindCanvas:!1,leftButton:"move",userThemeDefault:"",mindTutorial:!0,mindGuide:!0,history:!0,showComment:!0,mindToolbarConfig:{topToolbar:"show",footerBarLeft:["outline","devider","pageBox"],footerBarRight:["textsNums","topicNums","devider","devider","boxChoose","insertTemp","devider","focus","devider","mindCanvas","devider","zoomPage","fullPage"]}},window.fileType=editorGlobal.fileType="mind",$("body").append('<div><span class="katex"></span></div>'),window.editorGlobal.codeblock=u.codeblock,window.mindUI={},editorGlobal.chartCategory=function(e){var t="";switch(e){case"mind_free":case"mind":t=a.default.t("Mind_Map");break;case"flow":case"designer":t=a.default.t("Flow_Chart");break;case"outline":t=a.default.t("Mind_Notes");break;case"ui":t=a.default.t("Prototype_drawing");break;case"uml":t="UML";break;case"mind_org":t=a.default.t("Organization_Chart");break;case"bpmn":t="BPMN"}return t},editorGlobal.mindUI={isOperated:!1,init:function(){r.vipState.init(),p.configCollaSave.init("mobi",editorGlobal.fileType),editorGlobal.mindMap.on("saveOnline",p.sendMessage.saveOnline.bind(p.sendMessage)),g.toolContainerUI.init(),v.popControlBar.init(),m.insertUI.init(),h.focusUI.init(),f.mindTipUI.init(),b.mindImageUI.init(),F.brashUI.init(),editorGlobal.mindMap.emit("initWaterMark")}},editorGlobal.outerConfig={init:function(e){var t,n;editorGlobal.deviceType=editorGlobal.device=e.deviceType||window.deviceType||window.device,editorGlobal.isGuide=e.isGuide,editorGlobal.showPage=(null===(t=editorGlobalConfig)||void 0===t?void 0:t.showPage)||!1,editorGlobal.toolbarBgModel="tint",editorGlobal.vipImgUrl="".concat(staticBasePath,"/images/vip-tip.svg"),editorGlobal.noteCornerW=240,window.chartTitle=editorGlobal.chartTitle=a.default.t("js.Unnamed_file"),editorGlobal.tutorial=!0,e.tutorial&&(editorGlobal.tutorial=editorGlobal.config.mindTutorial=e.tutorial),c.bigPipe.render({js:[staticBasePath+"/assets/iconfont/font_2081284/iconfont.js"]}),editorGlobal.userObj=e.userObj||{},editorGlobal.authObj=e.authObj||{};var i=editorGlobal.chartObj=e.chartObj;editorGlobal.pageInfo=e.pageInfo||{},editorGlobal.chartId=editorGlobal.pageInfo.chartId=e.chartId||e.chartObj.chartId,editorGlobal.mindCanvas=editorGlobal.authObj.mindCanvas||!1,editorGlobal.leftButton=editorGlobal.authObj.leftButton||"move",editorGlobal.readonly=!1,"viewer"==i.collaRole&&(editorGlobal.readonly=!0),editorGlobal.readonlyList=(null===(n=editorGlobalConfig)||void 0===n?void 0:n.readonlyList)||{},editorGlobal.config.mindToolbarConfig=this.handleFooterBarData(e.mindToolbarConfig),!1!==editorGlobal.config.watermark&&setTimeout(function(){S.insert.watermark.init({con:$(".po-watermark-con"),watermark:editorGlobal.mindMap.renderer.mindTree.watermark,showWatermark:editorGlobal.mindMap.renderer.mindTree.showWatermark,userName:editorGlobal.userObj.fullName,change:function(e){editorGlobal.mindMap.emit("setWaterMark",e)}});var e={showWatermark:editorGlobal.mindMap.renderer.mindTree.showWatermark,watermark:editorGlobal.mindMap.renderer.mindTree.watermark};editorGlobal.mindMap.emit("setWaterMark",e,!0)},300)},handleFooterBarData:function(e){var t={};return e&&(t=L(L({},t),{},{data:e})),t=L(L({},{topToolbar:"show",footerBarLeft:["outline","devider","pageBox"],footerBarRight:["textsNums","topicNums","devider","boxChoose","insertTemp","devider","focus","devider","mindCanvas","devider","zoomPage","fullPage"]}),t)}},window.mindEditor=function(){function e(t){T(this,e),this.config=t}return M(e,[{key:"bulid",value:function(e){editorGlobal.mindMap=new s.default({el:e.el}),I.mobiKeyboard.init(),y.mention.bindEvent({mindMap:editorGlobal.mindMap}),(0,c.injectExtraAsynCall)("onInitInfo",{},function(){var e=C(k().mark(function e(t){var n,i,o,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"object"!=w(n=t.def)&&(n=JSON.parse(n)),e.next=4,(0,E.testEditorVersion)(n.editorVersion,"mind");case 4:"boolean"==typeof(i=e.sent)&&!1===i||(editorGlobal.outerConfig.init(t),"viewer"!=editorGlobal.chartObj.collaRole||editorGlobal.chartObj.orgId?(o=null!=t&&t.chartDefIds?t.chartDefIds:[],editorGlobal.poPagination=x.poMobiPagination.init(o,{pageId:t.mainCanvasId,isView:"undefined"!=typeof isView||editorGlobal.readonly,config:t}),editorGlobal.poPagination.renderInit(!editorGlobal.readonly),null!=(a=JSON.parse(t.def))&&a.theme&&!(0,_.isJSONString)(a.theme)&&a.theme.indexOf("customise_")>=0?d.Server.getThemeById(a.theme,function(e){a.theme=e,editorGlobal.mindMap.updateConfig({chartId:editorGlobal.chartId,readonly:editorGlobal.readonly,selectTopicFocusVirtualDom:!1,alwaysShowExpandBtn:!0}),editorGlobal.mindMap.setFullData(a)}):(editorGlobal.mindMap.updateConfig({chartId:editorGlobal.chartId,readonly:editorGlobal.readonly,selectTopicFocusVirtualDom:!1,alwaysShowExpandBtn:!0}),editorGlobal.mindMap.setFullData(a)),editorGlobal.mindUI.init(),$("#link-to-outline").click(function(e){(0,c.injectExtraAsynCall)("onLinkToOutline",{event:e},function(){})}),editorGlobal.mindMap.on("loadsuccess",function(){(0,c.injectExtraAsynCall)("onRanderComplete")}),editorGlobal.mindMap.once("loadsuccess",function(){editorGlobal.config.showComment&&A.comment.Controller.init({userObj:L(L({},editorGlobal.userObj),{},{collaRole:editorGlobal.chartObj.collaRole}),owner:editorGlobal.chartObj.owner,isMobi:!0})}),editorGlobal.mindMap.on("topic_link_open",function(e,t){var n=t.url,i=t.type,o=t.title;(0,c.injectExtraAsynCall)("openFileUrl",{url:n,type:i,title:o},function(){}),e.stopPropagation(),e.preventDefault()}),(0,D.$poCollect)("edit_page_theme_show",{pageName:t.mainCanvasId,theme:a.theme,structure:a.structure,topicCount:editorGlobal.mindMap.renderer.getTopicLength(),canvasCount:o.length})):"app"==l.Util.getUrlParams("sourceType")?window.location.href="/preview/"+editorGlobal.chartId+"?device=app":window.location.href="/preview/"+editorGlobal.chartId);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),(0,D.$poCollect)("mind_page_visit",{pageName:"编辑页"})}}]),e}()},59584:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0,n(5682);var i=n(31396);t.Server={getDef:function(e){injectExtraAsynCall("onServerApi",{apiName:"getDefById",params:{chartId:editorGlobal.chartId}},function(t){e(t.def)})},getThemeById:function(e,t){injectExtraAsynCall("onServerApi",{apiName:"getMindTheme",params:{id:e}},function(e){e&&e.theme?t(e.theme):t(null)})},setConfig:function(e,t,n){injectExtraAsynCall("onServerApi",{apiName:"setMindConfig",params:{field:e,value:t}},function(e){null!=n&&n(e)})},collaInit:function(){window.configCollaSave&&window.configCollaSave.init(window.deviceType,window.fileType)},updatedef:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{def:"",chartId:"",isV5Def:!1},o=arguments.length>1?arguments[1]:void 0,a=n.isV5Def;n={canvasId:null!==(e=null===(t=editorGlobal.poPagination.data[editorGlobal.poPagination.pageId])||void 0===t?void 0:t.canvasId)&&void 0!==e?e:"",def:n.def},injectExtraAsynCall("onServerApi",{apiName:"updateMindDef",params:n},function(e){if(a){var t=10;!function e(){if(window.poWebSocket&&1===window.poWebSocket.readyState)window.poWebSocket.send(JSON.stringify({type:"_s@deliver",content:{type:"editor_version",data:i.VERSION.mind}}));else{if(!t)return;t--,setTimeout(e,1e3)}}()}"function"==typeof o&&o(e)})}}},83910:function(e,t,n){var i=n(9712);n(5682),n(4790),n(82403),n(6284),n(14237),n(24812),n(56980),n(97316),n(92439),n(16610),n(19301);var o=i(n(49853)),a=null;function r(e){void 0!==a&&clearTimeout(a);var t='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+$("#svg-wrap_").html().replace(/&nbsp;/g," "),n=new FormData;n.append("svg",t),window.Util.ajax({url:"/api/personal/user_image/upload_svg",data:n,processData:!1,contentType:!1,timeout:6e4,type:"post",success:function(t){window.parent.postMessage(JSON.stringify({eventName:"returnSVG",data:t.url,chartId:e}),"*")},error:function(){window.parent.postMessage(JSON.stringify({eventName:"returnSVG",data:"error",chartId:e}),"*")}})}function s(e){if(!e){if(e.data&&"object"==w(e.data))return!1;if(!e.data||"v5"===e.data.substr(0,2))return!1;try{var t=JSON.parse(e.data);if("getSVG"==t.eventName){var n=t.chartId;setTimeout(C(k().mark(function e(){var t,i,s,l,c;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.init({type:"svg",fileType:"mind"});case 2:i=e.sent,(s=$("#svg-wrap_")).length||(s=$('<div id="svg-wrap_" style="opacity:0;z-index:-1;position:absolute;"></div>').appendTo("body")),s.append(i.content),0!=(l=(null===(t=s[0])||void 0===t?void 0:t.querySelectorAll("image"))||[]).length?(c=0,Array.prototype.forEach.call(l,function(e){var t=e.getAttribute("xlink:href")||e.getAttribute("href");if(!t)return(c+=1)>=l.length&&r(n),!0;!function(e,t){window.URL=window.URL||window.webkitURL;var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="blob",n.onload=function(){if(200==this.status){var e=this.response,n=new FileReader;n.onloadend=function(e){var n=e.target.result;t(n)},n.readAsDataURL(e)}},n.send()}(t,function(t){var i=t;e.setAttribute("xlink:href",i),(c+=1)==l.length&&r(n)})}),a=setTimeout(function(){c<l.length&&r(n)},6e3)):r(n);case 7:case"end":return e.stop()}},e)})),300)}if("updateViewUI"==t.eventName){var i=document.querySelector("#mind-designer-back");i&&(i.style.display="none");var s=document.querySelector(".mind-header-right");s&&$(s).addClass("hide-best")}}catch(e){}}}window.removeEventListener("message",s),window.addEventListener("message",s,!1)},83316:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PoCollect=t.$poCollect=void 0,n(14237);var i=n(15240),o=n(31396),a=n(51504);function r(){var e=d(Array,Array.prototype.slice.call(arguments));e[1]||(e[1]={}),"mind_click"!==e[0]&&"mind_page_visit"!==e[0]&&(e[1].pageName="思维导图"),"mind_click"===e[0]&&(e[1]=(0,a.getMindClickPoint)(e[1])),"edit_page_theme_show"===e[0]&&function(e){try{var t=e.theme;if(t)if((0,i.isJSONString)(t)){var n={};"string"==typeof t&&(t=JSON.parse(t));var o=t,a=o.skeletonId,r=o.colorMinorId,s=o.colorCardId,l=o.colorList,c=o.id;a&&(n.skeletonId=a),r&&(n.colorMinorId=r),s&&(n.colorCardId=s),l&&(n.colorList=l),c&&(n.id=c),e.theme=n}else e.theme={id:t}}catch(e){}}(e[1]),e[1].pc_mobi=(0,i.isMobile)()?"mobi":"pc",e[1].mind_editor_verion=o.VERSION.mind,injectExtraAsynCall("collect",e)}function s(e,t,n){var i;switch(e){case"icons":if(function(e,t){if(1===(null==e?void 0:e.length)&&1===(null==t?void 0:t.length)){var n=e[0].task,i=t[0].task;return(null==n?void 0:n.priority)!==(null==i?void 0:i.priority)||(null==n?void 0:n.completion)!==(null==i?void 0:i.completion)}return!1}(t,n))return;i="icon_function";break;case"image":i="image_function";break;case"tags":i="tag_function";break;case"note":i="remark_function";break;case"link":i="link_function";break;case"task":i="task_function";break;case"file":i="file_function";break;case"code":i="code_block_function";break;case"comment":i="comment_function";break;case"mention":i="mind_at_function"}i&&r(i)}var l=M(function e(t){T(this,e),t.mindMap.on("updateTopicNode",function(e,t,n){s(e,t,n)}),t.mindMap.on("setTopicComment",function(e){s(e)}),t.mindMap.on("editComment",function(){s("comment")}),t.mindMap.on("addMention",function(){s("mention")}),t.mindMap.on("deleteMention",function(){s("mention")}),t.mindMap.on("setThemeConfig",function(e){"skeletonTheme"===e&&r("mind_click",{button:"change-theme",btn_pos:"right-panel",power:"风格"})})});t.PoCollect=l,l.instanceName="poCollect",t.$poCollect=r},51504:function(e,t,n){n(61894),n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.pointMap=t.getMindClickPoint=void 0;var o=i(n(66603));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=t.pointMap={"top-tool":{present:{button:"present",power:"演示"},undo:{button:"undo",power:"撤销"},redo:{button:"redo",power:"恢复"},brash:{button:"brush",power:"格式刷"},child:{button:"insert-child",power:"新增子主题"},conn:{button:"insert-connection",power:"插入关联线"},summary:{button:"insert-summary",power:"概要"},boundary:{button:"insert-boundary",power:"外框"}},"right-tool":{style:{button:"show-style-pannel",power:"样式面板"},structure:{button:"show-structure-pannel",power:"结构面板"},icon:{button:"insert-icon",power:"图标"},url:{button:"insert-image",power:"链接"},tag:{button:"insert-tag",power:"标签"},task:{button:"insert-task",power:"任务"},note:{button:"insert-note",power:"备注"},file:{button:"insert-file",power:"附件"},equation:{button:"insert-equation",power:"方程式"},image:{button:"insert-image",power:"图片"},code:{button:"insert-code",power:"代码块"},comment:{button:"insert-comment",power:"评论"},aigc:{button:"start-aigc",power:"AI"}},"right-panel":{"mind-style-page":{button:"switch-style-page",power:"样式面板"},"mind-style-topic":{button:"switch-style-topic",power:"样式面板"},"current-structure-thumb":{button:"switch-skeleton",power:"风格"},"mind-theme-color":{button:"switch-theme-color",power:"风格"},"canvas-fill-type":{button:"switch-canvas-fill-type",power:"画布背景-类型"},"mind-canvas-bg":{button:"switch-canvas-fill-color",power:"画布背景-颜色"},"mind-topic-align":{button:"mind-topic-align",power:"同级主题对齐"},"mind-centerTopic-hide":{button:"mind-center-topic-hide",power:"隐藏中心主题"},"mind-free-subtopic":{button:"mind-free-subtopic",power:"分支自由布局"},"set-topic-margin":{button:"show-topic-margin-pannel",power:"主题间距-自定义"},"one-button-compact":{button:"one-button-compact",power:"主题间距"},"reset-subtopic-margin":{button:"reset-subtopic-margin",power:"主题间距"},"set-watermark":{button:"set-watermark",power:"水印"},"mind-theme-customise":{button:"show-theme-customise-dialog",power:"风格"},"mind-theme-list":{button:"show-theme-list",power:"风格"},"mind-customise-bs":{button:"switch-customise-bs",power:"主题样式"},"mind-number-select-btn":{button:"siwcth-number",power:"编号"},"use-topic-reserve-style":{button:"use-topic-reserve-style",power:"主题样式"}},"bottom-tool":{"mind-footer-full-btn":{button:"full-screen",power:"全屏"},helper:{button:"switch-helper-pannel",power:"帮助"},"link-to-outline":{button:"to_outline_mode",power:"切换到大纲模式"}},"present-top-tip":{"present-auto-slide":{button:"present-auto-slide",power:"演示"}},"present-right-panel":{"present-auto-slide":{button:"present-auto-slide",power:"演示"},"present-play":{button:"present-play",power:"演示"}},"ai-dialog":{stop:{button:"aigc-stop",power:"AI"},continue:{button:"aigc-continue",power:"AI"},delete:{button:"aigc-delete",power:"AI"},reload:{button:"aigc-reload",power:"AI"},success:{button:"aigc-use",power:"AI"}},"v1-ui-header":{search:{button:"search",power:"查找替换"},undo:{button:"redo",power:"撤销"},redo:{button:"undo",power:"恢复"},brash:{button:"brush",power:"格式刷"},mind_hide_topics:{button:"mind_hide_topics",power:"收起"},mind_show_topics:{button:"mind_show_topics",power:"展开"},mind_topic_font:{button:"mind_topic_font",power:"主题样式"},mind_topic_font_size:{button:"mind_topic_font_size",power:"主题样式"},mind_topic_b:{button:"mind_topic_b",power:"主题样式"},mind_topic_i:{button:"mind_topic_i",power:"主题样式"},mind_topic_font_color:{button:"mind_topic_font_color",power:"主题样式"},mind_topic_align_l:{button:"mind_topic_align_l",power:"主题样式"},mind_topic_align_c:{button:"mind_topic_align_c",power:"主题样式"},mind_topic_align_r:{button:"mind_topic_align_r",power:"主题样式"},mind_insert_child:{button:"insert-child",power:"新增子主题"},mind_insert_brother:{button:"insert-siblings",power:"新增同级主题"},mind_insert_parent:{button:"insert-parent",power:"新增父主题"},mind_summary:{button:"insert-summary",power:"概要"},mind_boundary:{button:"insert-boundary",power:"外框"},image:{button:"insert-image",power:"图片"},link:{button:"insert-link",power:"链接"},mind_watermark:{button:"mind_watermark",power:"水印"},mind_canvas_bgcolor:{button:"mind_canvas_bgcolor",power:"画布背景"},mind_themes:{button:"switch-style-pannel",power:"样式面板"},"mind-theme-customise":{button:"show-theme-customise-dialog",power:"风格"},mind_equation:{button:"insert-equation",power:"方程式"},mind_structure:{button:"switch-structure-pannel",power:"结构面板"},mind_ppt:{button:"mind_ppt",power:"脑图PPT"},mind_topic_style:{button:"switch-topic-reserve-style",power:"主题样式"},mind_topic_shape:{button:"switch-customise-bs",power:"主题样式"},mind_topic_bgcolor:{button:"mind_topic_bgcolor",power:"主题样式"},mind_topicline_color:{button:"mind_topicline_color",power:"主题样式"},mind_topic_line_type:{button:"mind_topicline_type",power:"主题样式"},mind_topicline_width:{button:"mind_topicline_width",power:"主题样式"},mind_topic_border_w:{button:"mind_topic_border_w",power:"主题样式"},mind_topic_border_c:{button:"mind_topic_border_c",power:"主题样式"},mind_topic_border_t:{button:"mind_topic_border_t",power:"主题样式"},mind_clear_style:{button:"clear-topic-style",power:"主题样式"},mind_topic_space:{button:"show-topic-margin-pannel",power:"主题间距"},mind_topic_width:{button:"mind_topic_width",power:"主题宽度"},mind_connection:{button:"insert-connection",power:"关联线"},tag:{button:"insert-tag",power:"标签"},task:{button:"insert-task",power:"任务"},note:{button:"insert-note",power:"备注"},comment:{button:"insert-comment",power:"评论"},icon:{button:"insert-icon",power:"图标"},code:{button:"insert-code",power:"代码块"},mind_inserttemp:{button:"insert-template",power:"模板"},"export-image":{button:"export-image",power:"导出"},"export-pdf":{button:"export-pdf",power:"导出"},"export-pos":{button:"export-pos",power:"导出"},"export-word":{button:"export-word",power:"导出"},"export-ppt":{button:"export-ppt",power:"导出"},"export-excel":{button:"export-excel",power:"导出"},"export-fmind":{button:"export-fmind",power:"导出"},nav:{button:"switch-nav",power:"视图导航"},mind_mode:{button:"to_mind_mode",power:"切换到脑图模式"},focus_mode:{button:"to_focus_mode",power:"聚焦"},focus_root:{button:"focus_root",power:"定位到中心主题"},outline:{button:"to_outline_mode",power:"切换到大纲模式"},start:{button:"to-start-tab",power:"选项卡切换"},view:{button:"to-view-tab",power:"选项卡切换"},edit:{button:"to-edit-tab",power:"选项卡切换"},style:{button:"to-style-tab",power:"选项卡切换"},export:{button:"to-export-tab",power:"选项卡切换"},"set-topic-margin":{button:"show-topic-margin-pannel",power:"主题间距-自定义"},"one-button-compact":{button:"one-button-compact",power:"主题间距"},"reset-subtopic-margin":{button:"reset-subtopic-margin",power:"主题间距"}},"right-click-topic-menu":{"insert-child":{button:"insert-child",power:"新增子主题"},"insert-siblings":{button:"insert-siblings",power:"新增同级主题"},"insert-parent":{button:"insert-parent",power:"新增父主题"},number:{button:"set-number-style",power:"编号"},level:{button:"set-number-level",power:"编号"},expand:{button:"expand-cur",power:"展开"},collapsed:{button:"collapsed-cur",power:"收起"},"expand-all":{button:"expand-level-all",power:"展开"},"collapsed-all":{button:"collapsed-level-all",power:"收起"},"sel-level-cur":{button:"sel-level-cur",power:"选择"},"sel-level-all":{button:"sel-level-all",power:"选择"},copy:{button:"copy",power:"复制"},cut:{button:"cut",power:"剪切"},past:{button:"paste",power:"黏贴"},delete:{button:"del-node-include-children",power:"删除"},"delete-self":{button:"delete-current-node",power:"删除"},focus:{button:"to_focus_mode",power:"聚焦"},"download-copy":{button:"download-copy",power:"导出"},"insert-connection":{prop:"insert-connection",power:"关联线"},image:{prop:"insert-image",power:"图片"},icon:{prop:"insert-icon",power:"图标"},tag:{prop:"insert-tag",power:"标签"},note:{prop:"insert-note",power:"备注"},url:{prop:"insert-link",power:"链接"},"topic-link":{prop:"insert-topic-link",power:"主题链接"},task:{prop:"insert-task",power:"任务"},equation:{prop:"insert-equation",power:"方程式"},code:{prop:"insert-code",power:"代码块"},comment:{prop:"insert-comment",power:"评论"},insertTemplate:{prop:"insert-template",power:"模板"},markdown:{prop:"insert-markdown",power:"markdown"},deltext:{button:"del-text",power:"删除"},delicon:{button:"del-icon",power:"删除"},deltag:{button:"del-tag",power:"删除"},delurl:{button:"del-link",power:"删除"},delnote:{button:"del-note",power:"删除"},mention:{button:"del-mention",power:"删除"}},"right-click-page-menu":{tocenter:{button:"focus_root",power:"定位到中心主题"},hideall:{button:"collapsed-all",power:"收起"},openall:{button:"expand-all",power:"展开"},selall:{button:"sel-all",power:"选择"},selsum:{button:"sel-sum",power:"选择"},selfloat:{button:"sel-float",power:"选择"},showLevel:{button:"expand-selected-level",power:"展开"},torefresh:{button:"refresh",power:"刷新"},insertTemplate:{button:"insert-template",power:"插入模板"}},"mobi-top-menu":{redo:{button:"redo",power:"恢复"},undo:{button:"undo",power:"撤销"},search:{button:"search",power:"搜索"},themes:{button:"switch-theme-structure-pannel",power:"样式面板"}},"mobi-bottom-menu":{child:{button:"insert-child",power:"新增子主题"},style:{button:"show-topic-style-pannel",power:"样式面板"},relate:{button:"insert-connection",power:"关联线"},add:{button:"switch-insert-pannel",power:"插入面板"},sub:{button:"insert-parent",power:"新增父主题"}},"mobi-insert-panel":{icon:{button:"insert-icon",power:"图标"},image:{button:"insert-image",power:"图片"},link:{button:"insert-link",power:"链接"},profile:{button:"insert-summary",power:"概要"},remark:{button:"insert-note",power:"备注"}},"mobi-context-panel":{del:{button:"del-node-include-children",power:"删除"},copy:{button:"copy",power:"复制"},brush:{button:"brush",power:"格式刷"},cut:{button:"cut",power:"剪切"},paste:{button:"paste",power:"黏贴"},focus:{button:"to_focus_mode",power:"聚焦"},hide:{button:"collapsed-cur",power:"收起"},show:{button:"expand-cur",power:"展开"},clear:{button:"clear-topic-style",power:"主题样式"}}};t.getMindClickPoint=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tit,n=e.pos;if(e.button)return e;if(t&&n){var i=s[n]&&s[n][t];return i?(e.btn_pos=n,delete(i=r(r({},e),i)).tit,delete i.pos,i):{button:t,btn_pos:n}}return{}}},10960:function(e,t,n){var i=n(96871);window.$=window.jQuery=n(34683),window.editorGlobal||(window.editorGlobal={}),window.editorGlobal.isView=!1,window.editorGlobal.pageInfo={},window.staticBasePath=window.staticBasePath?window.staticBasePath:"/static",window.deviceType=window.device="",window.fileType="mind",window.source="",i.javaScriptXssFix.init()},76880:function(e,t,n){n(58500);var i=n(9712);n(27531),n(61894),n(4790),n(82403),n(38887),n(6284),n(69268),n(86837),n(84889);var o=i(n(66603)),a=i(n(32483));n(10960),n(71037),n(25131),n(67246),n(29646);var r=n(27251);n(64458);var s=n(70329),l=i(n(50661)),c=n(97708),d=n(42596),u=n(88318),p=n(41295),h=n(98601),m=n(24949),f=n(31708);n(71052);var g=n(47306),v=n(56683);n(78738);var b=n(59584),y=n(83316),x=n(83492),_=n(14783),S=n(31396),D=i(n(7101));function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}editorGlobal.config={showCodeBlock:!0},window.editorGlobal.codeblock=u.codeblock,editorGlobal.outerConfig={init:function(e){var t;editorGlobal.deviceType=editorGlobal.device=e.deviceType||window.deviceType||window.device,editorGlobal.showPage=(null===(t=editorGlobalConfig)||void 0===t?void 0:t.showPage)||!1,editorGlobal.toolbarBgModel="tint",editorGlobal.vipImgUrl="".concat(staticBasePath,"/images/vip-tip.svg"),editorGlobal.noteCornerW=240,editorGlobal.tutorial=!0,e.tutorial&&(editorGlobal.tutorial=editorGlobal.config.mindTutorial=e.tutorial),r.bigPipe.render({js:[staticBasePath+"/assets/iconfont/font_2081284/iconfont.js"]}),editorGlobal.userObj=e.userObj||{},editorGlobal.authObj=e.authObj||{},editorGlobal.chartObj=e.chartObj,editorGlobal.chartId=e.chartId||e.chartObj.chartId,editorGlobal.mindCanvas=editorGlobal.authObj.mindCanvas||!1,editorGlobal.leftButton=editorGlobal.authObj.leftButton||"move",editorGlobal.readonly=!0,editorGlobal.config.mindToolbarConfig=this.handleFooterBarData(e.mindToolbarConfig),editorGlobal.isTemp=e.isTemp},handleFooterBarData:function(e){var t={};return e&&(t=A(A({},t),{},{data:e})),t=A(A({},{topToolbar:"show",footerBarLeft:["outline","devider","pageBox"],footerBarRight:["textsNums","topicNums","devider","boxChoose","insertTemp","devider","focus","devider","mindCanvas","devider","zoomPage","fullPage"]}),t)}};var F=function(e){"temp"===e&&function(){var e=$('<div class="controlls-top controlls-view" style="display: none;">\n    <div>\n        <div id="mindmap" title="'.concat(a.default.t("Mind_Map_pic"),'" class="po-tool-button other item selected" style="margin-right: 4px;">\n            <div class="ico_box"><span class="po-diagraming-icons"></span></div>\n        </div>\n        <div id="outline" title="').concat(a.default.t("Mind_Notes"),'" class="po-tool-button other item">\n            <div class="ico_box"><span class="po-diagraming-icons"></span></div>\n        </div>\n    </div>\n</div>\n<div class="controlls-right controlls-view" style="display: none;">\n    <div class="controlls-view-right">\n        <div id="mindmap-right" title="').concat(a.default.t("Mind_Map_pic"),'" title-pos="left" class="po-tool-button other item">\n            <div class="ico_box"><span class="po-diagraming-icons"></span></div>\n        </div>\n        <div id="outline-right" title="').concat(a.default.t("Mind_Notes"),'" title-pos="left" class="po-tool-button other item selected">\n            <div class="ico_box"><span class="po-diagraming-icons"></span></div>\n        </div>\n    </div>\n    <div class="theme-item">\n        <div id="expand" title="').concat(a.default.t("Node_Operation"),'" title-pos="left" class="po-tool-button other item">\n            <div class="ico_box"><span class="po-diagraming-icons"></span></div>\n        </div>\n    </div>\n    <div class="controlls-temp-right">\n        <div id="fullscreen" title="').concat(a.default.t("Go_to_full_screen"),'" title-pos="left" class="po-tool-button other item">\n            <div class="ico_box"><span class="po-diagraming-icons"></span></div>\n        </div>\n        <div id="exitFullscreen" title="').concat(a.default.t("Exit_Full_screen"),'" title-pos="left" class="po-tool-button other item" style="display: none">\n            <div class="ico_box"><span class="po-diagraming-icons"></span></div>\n        </div>\n        <div id="movecenter" title="').concat(a.default.t("Locate_to_the_center"),'" title-pos="left" class="po-tool-button other item">\n            <div class="ico_box"><span class="po-diagraming-icons"></span></div>\n        </div>\n        <div id="zoomin" title="').concat(a.default.t("Magnification"),'" title-pos="left" class="po-tool-button other item">\n            <div class="ico_box"><span class="po-diagraming-icons"></span></div>\n        </div>\n        <div id="zoomout" title="').concat(a.default.t("Downsizing"),'" title-pos="left" class="po-tool-button other item">\n            <div class="ico_box"><span class="po-diagraming-icons"></span></div>\n        </div>\n    </div>\n</div>')),t=$('  <div class="mind-expand-dlg mind-dropdown po-menu-icon po-menu">\n        <ul>\n            <li class="po-menu-item">\n                <div class="po-menu-item-box">\n                    <span class="text"></span>\n                </div>\n            </li>\n        </ul>\n    </div>');$("body").append(e),$("body").append(t),e.off().on("click",".item",function(e){var t=$(this);switch(t.attr("id")){case"mindmap":case"mindmap-right":I.pageInit("mindmap");break;case"outline":case"outline-right":I.pageInit("outline");break;case"themes":var n=$(".mind-theme-dlg");if(t.hasClass("selected"))return void I.closeMenu();I.loadThemes(editorGlobal.mindMap),I.initStructure(editorGlobal.mindMap),I.loadedThemes=!0,I.showMenu(t,n);break;case"expand":var i=$(".mind-expand-dlg");if(t.hasClass("selected"))return void I.closeMenu();I.loadExpand(),I.loadedExpand=!0,I.showMenu(t,i);break;case"fullscreen":case"exitFullscreen":break;case"movecenter":editorGlobal.mindMap.emit("move_topic_to_center");break;case"zoomin":I.resizeMax();break;case"zoomout":I.resizeMin()}e.stopPropagation()})}(),"embed"==e&&function(){var e=$('<div class="po-embed-controlls">\n    <canvas id="support_canvas" style="display: none;"></canvas>\n    <span class="embed_title" title="'.concat(a.default.t("Click_to_open_source_file_in_new_page"),'" title_pos="right"><span><a target="_blank" href=""></a></span></span>\n    <div class="embed_canvas_bar">\n\t\t<div class="embed_resize">\n\t\t\t<span class="pro-btn zoom-in" tit="zoom-in"><span class="po-diagraming-icons"></span></span>\n\t\t\t<span class="pro-btn zoom-out" tit="zoom-out"><span class="po-diagraming-icons"></span></span>\n\t\t</div>\n\t</div>\n</div>'));$("body").append(e),e.off().on("click",".pro-btn",function(e){switch($(this).attr("tit")){case"zoom-in":I.resizeMin();break;case"zoom-out":I.resizeMax()}e.stopPropagation()})}(),"viewMenu"===e&&function(){var e="<div class=\"mind-view-menu\">\n        <ul>\n            <li op = 'expand'>".concat(a.default.t("Unfold"),"/").concat(a.default.t("Drop_the_node"),"</li>\n            <li op = 'focus'>").concat(a.default.t("js.Focus"),"</li>\n        </ul>\n    </div>");$("body").append(e)}()};window.mindEditor=function(){function e(t){T(this,e),this.config=t}return M(e,[{key:"bulid",value:function(){$("body").append('<div><span class="katex"></span></div>'),editorGlobal.mindMap=new l.default({el:document.querySelector("#mind_con"),readonly:!0,partialLoad:!1}),p.mention.bindEvent({mindMap:editorGlobal.mindMap}),(0,x.pointTS)("xhr.start"),(0,r.injectExtraAsynCall)("onInitInfo",{},function(){var e=C(k().mark(function e(t){var i,o,a,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"object"!=w(i=t.def)&&(i=JSON.parse(i)),e.next=4,(0,S.testEditorVersion)(i.editorVersion,"mind");case 4:"boolean"==typeof(o=e.sent)&&!1===o||(editorGlobal.outerConfig.init(t),a=null!=t&&t.chartDefIds?t.chartDefIds:[],editorGlobal.poPagination=d.poPagination.init(a,{pageId:t.mainCanvasId,isView:"undefined"!=typeof isView||editorGlobal.readonly,config:t,isEmbed:t.isEmbed||!1}),s=JSON.parse(t.def),editorGlobal.mindMap.on("init_data_start",function(){(0,x.pointTS)("event.init.start")}),editorGlobal.mindMap.on("init_data_end",function(){(0,x.pointTS)("event.init.end")}),editorGlobal.mindMap.on("render_start",function(){(0,x.pointTS)("shape.render.start")}),null!=s&&s.theme&&!(0,v.isJSONString)(s.theme)&&s.theme.indexOf("customise_")>=0?b.Server.getThemeById(s.theme,function(e){(0,x.pointTS)("xhr.customise.theme"),(0,x.pointTS)("xhr.end"),s.theme=e,editorGlobal.mindMap.updateConfig({chartId:editorGlobal.chartId}),editorGlobal.mindMap.setFullData(s)}):((0,x.pointTS)("xhr.end"),editorGlobal.mindMap.updateConfig({chartId:editorGlobal.chartId}),editorGlobal.mindMap.setFullData(s)),editorGlobal.mindMap.on("loadsuccess",function(){(0,x.pointTS)("shape.render.end"),(0,x.pointTS)("render.end")}),editorGlobal.mindMap.on("topic_link_open",function(e,t){var n=t.url,i=t.type,o=t.title;(0,r.injectExtraAsynCall)("openFileUrl",{url:n,type:i,title:o},function(){}),e.stopPropagation(),e.preventDefault()}),editorGlobal.mindview.init(t),"undefined"!=typeof editorGlobalConfig&&editorGlobalConfig.showComment&&(editorGlobal.comment||(editorGlobal.comment=n(72011).comment),editorGlobal.comment.Controller.init({userObj:A(A({},editorGlobal.userObj),{},{collaRole:editorGlobal.chartObj.collaRole}),owner:editorGlobal.chartObj.owner})),(0,y.$poCollect)("edit_page_theme_show",{pageName:t.mainCanvasId,theme:s.theme,structure:s.structure,topicCount:editorGlobal.mindMap.renderer.getTopicLength(),canvasCount:a.length}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),(0,y.$poCollect)("mind_page_visit",{pageName:"预览页"})}}]),e}(),editorGlobal.mindview={init:function(e){var t=this;!1!==editorGlobal.config.watermark&&setTimeout(function(){var e={showWatermark:editorGlobal.mindMap.renderer.mindTree.showWatermark,watermark:editorGlobal.mindMap.renderer.mindTree.watermark};editorGlobal.mindMap.emit("setWaterMark",e,!0)},300),$("#po-global-loading-wrap").fadeOut(200,function(){$(this).remove()}),$("body").append('<div id="viewobject-outline" class="viewobject-outline" style="display:none;" tit="outline">\n        <iframe src=""  frameborder="0" style="width: 100%;height: 100%;" id="outline-ifram"></iframe>\n    </div>'),F("temp"),F("embed"),F("viewMenu"),f.previewCornerRight.init(),editorGlobal.mindMap.on("loadsuccess",function(){$(".po-footer [tit=temp]").hide(),e.isTemp?($(".controlls-view").show(),$(".po-embed-controlls").remove(),$(".controlls-view-right").hide(),editorGlobalConfig.showPage&&(editorGlobal.mindFooterBar=new c.MindFooterBar({mindMap:editorGlobal.mindMap}),editorGlobal.mindFooterBar.init({footerBarLeft:["outline","devider","pageBox"],footerBarRight:[]}))):e.isEmbed?($(".embed_title a").text(g.Util.restoreXss(e.chartObj.title)).attr("href","/view/link/"+e.chartObj.viewLinkId),editorGlobal.poPagination.renderInit("select",$("#page_box")),$(".controlls-view").hide(),$("#page_tab_menu_list").css("bottom","40px"),$(".po-embed-controlls").show(),I.computeSize()):e.isPure?($(".po-footer").hide(),$(".controlls-view").hide(),$(".po-embed-controlls").remove()):e.isGuide?($(".po-footer").hide(),$(".controlls-view").hide(),$(".po-embed-controlls").remove(),D.default.init(editorGlobal.mindMap)):(editorGlobalConfig.showPage?(editorGlobal.mindFooterBar=new c.MindFooterBar({mindMap:editorGlobal.mindMap}),editorGlobal.mindFooterBar.init({footerBarLeft:["outline","devider","pageBox"],footerBarRight:["textsNums","topicNums","devider","focus","mindCanvas","zoomPage","fullPage"]})):(editorGlobal.mindFooterBar=new c.MindFooterBar({mindMap:editorGlobal.mindMap}),editorGlobal.mindFooterBar.init({footerBarLeft:["outline","devider","textsNums","topicNums","devider"],footerBarRight:["focus","mindCanvas","devider","zoomPage","fullPage"]})),$(".po-footer").show(),$(".controlls-view").hide(),$(".po-embed-controlls").remove()),"#outline"===window.location.hash&&I.pageInit("outline"),(0,r.injectExtraAsynCall)("openMention")&&p.mention.init($("#mind_con"),!0),h.mindImageUi.init(),m.focusUI.init(),t.initToolbarStyle(),(0,r.injectExtraAsynCall)("onRanderComplete")}),editorGlobal.mindMap.on("initToolbarStyle",this.initToolbarStyle),$(document).off("keydown.hotkey").on("keydown.hotkey",function(e){if(27===e.keyCode){var t=$("#img-preview");if(t.length>0&&t.is(":visible"))return void t.find(".close-btn").trigger("click")}else 49!==e.keyCode&&117!==e.keyCode||editorGlobal.mindMap.emit("move_topic_to_center")}),$(document).off("click.doc").on("click.doc",function(e){e.stopPropagation(),$(".theme-item .item").removeClass("selected"),$(".mind-dropdown").removeClass("visible")}),$(document).off("mousedown.doc").on("mousedown.doc",function(e){e.stopPropagation(),$(".mind-view-menu").hide()});var n=!1;$(document).off("mousedown.view1").on("mousedown.view1",function(e){var t=e.pageX,i=e.pageY;$(document).on("mousemove.view1",function(e){(Math.abs(e.pageX-t)>15||Math.abs(e.pageY-i)>15)&&(n=!0)}),$(document).on("mouseup.view1",function(){$(document).off("mousemove.view1"),$(document).off("mouseup.view1"),n=!1})}),$(document).off("mousedown.view").on("mousedown.view",".po-mind-topic:not(.free)",function(e){e.stopPropagation()}).off("mouseup.view").on("mouseup.view",".po-mind-topic:not(.free)",function(e){if(!n&&!$(e.target).closest(".expand-btn").length){var t=$(this);if(t.attr("class").includes("po-mind-topic")){var i=t.attr("id").replace("topic-","").replace("summary-","");if(i&&"root"!==i){var o=editorGlobal.mindMap.renderer.getCacheTopic(i),a=$(".mind-view-menu"),r=editorGlobal.mindMap.view.scale;a.css({left:t.offset().left+o.width*r/2-a.outerWidth()/2,top:t.offset().top-a.outerHeight()-10}).show(),a.off("click").on("mousedown","li",function(e){e.stopPropagation()}).on("click","li",function(){a.hide(),"expand"===$(this).attr("op")?editorGlobal.mindMap.execCommand("TOGGLE_TOPIC_EXPAND",o):editorGlobal.mindMap.execCommand("FOCUS",i)})}}}}),$(window).off("resize.view").on("resize.view",function(){editorGlobal.mindMap.resize()});var i=$("#mind_con").parent()[0],o=i.requestFullScreen||i.webkitRequestFullScreen||i.mozRequestFullScreen||i.msRequestFullScreen,s=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.exitFullScreen;o?($("#mind_con").parent().unbind("webkitfullscreenchange").bind("webkitfullscreenchange",function(){d()}),$(document).unbind("mozfullscreenchange").unbind("fullscreenchange").bind("mozfullscreenchange",function(){d()}).bind("fullscreenchange",function(){d()}),$("#fullscreen").bind("click",function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}),$("#exitFullscreen").bind("click",function(){s.call(document)}),$(window).bind("keydown",function(e){122===e.keyCode&&(o.call(i),e.preventDefault())})):$("#fullscreen").bind("click",function(){$.showTip(a.default.t("Current_browser_does_not_support_full"),2e3)});var l=!1;function d(e){l=!l;var t=$("#fullscreen"),n=$("#exitFullscreen");editorGlobal.mindMap.emit("move_topic_to_center"),l?void 0!==e?(t.show(),n.hide()):(t.hide(),n.show()):(t.show(),n.hide())}},initToolbarStyle:function(){var e=editorGlobal.mindMap.renderer.getBackgroundColor();(e&&e.indexOf("url")>-1||"transparent"==e)&&(e="rgb(255,255,255)");var t=e;try{$(".po-footer, .po-progress .po-progress-cursor").removeClass("tint").addClass("deep").css({background:t}),(0,_.isLightColor)(t)&&$(".po-footer, .po-progress .po-progress-cursor").removeClass("deep").addClass("tint")}catch(e){}}};var I={loadedThemes:!1,loadedExpand:!1,opening:!1,closeMenu:function(){$(".mind-dropdown").removeClass("visible"),$(".controlls-right .item.selected").removeClass("selected"),setTimeout(function(){$(".mind-dropdown").css("z-index",-1),I.opening=!1},300);var e=document.activeElement;null!=e&&$(e).length>0&&$(e).hasClass("mind-topic-remark")&&$(e).trigger("blur")},showMenu:function(e,t,n){var i=this;if(!i.opening)if(i.opening=!0,$(".mind-dropdown").removeClass("visible").hide(),e.hasClass("selected"))this.closeMenu();else{var o;$(".controlls-right .item.selected").removeClass("selected"),e.addClass("selected"),o="themes"===e.attr("id")?478:t.height();var a=e.offset().top-o/2;a+o>$(window).height()&&(a=$(window).height()-o),t.addClass("visible"),t.css({top:a,right:e.outerHeight()+28,zIndex:12}),null!=n&&n(),setTimeout(function(){i.opening=!1},300)}},loadThemes:function(e){if(null!=e&&!this.loadedThemes){var t=s.configure_theme.theme_tags,n=$("#mind-themes"),i=["<ul>"];$.each(t,function(e,t){var n="",o=t.list;if(o)for(var a=0;a<o.length;a++){var r=o[a],l=s.themesDepot[r];if(l&&"delicate_caihong"!==r&&!1!==l.show){l.member&&(n='<img class="member-tip" src="'+staticBasePath+'/images/vip-tip.svg" alt="" />');var c="<li tit='"+r+"'><div ><img src='"+l.thumbUrl+"'  alt=''/></div>"+n+"</li>";i.push(c)}}}),i.push("</ul>"),n.prepend(i.join(""));var o=e.getTheme();o&&$("div[tit="+o+"]").length&&$("div[tit="+o+"]").parent().addClass("selected"),$("#mind-themes").find("[tit]").off("click").on("click",function(e){var t=$(this),n=t.attr("tit");t.hasClass("selected")||(t.addClass("selected").siblings().removeClass("selected"),editorGlobal.mindMap.setThemeConfig(n),I.closeMenu(),e.stopPropagation())})}},initStructure:function(e){function t(e){var t=$(".header-item[tit=structure]");"mind_right"===e?t.find(".mind-icons").html("&#xe6fb;"):"mind_org"===e?t.find(".mind-icons").html("&#xe6fd;"):"mind_left"===e?t.find(".mind-icons").html("&#xe6fc;"):"mind_tree"===e?t.find(".mind-icons").html("&#xe6fd;"):"mind_free"===e&&t.find(".mind-icons").html("&#xe6fe;"),$("#mind-structures").children("[tp="+e+"]").addClass("active")}this.loadedThemes||(null!=e&&t(e.mindData.structure),$("#mind-structures").children().off("mousedown").on("mousedown",function(){var e=$(this),n=e.attr("tp");editorGlobal.mindMap.setLayout(n),e.addClass("active").siblings().removeClass("active"),I.closeMenu(),t(n)}))},loadExpand:function(){if(!this.loadedExpand){for(var e=$(".mind-expand-dlg"),t=this.getDepth(editorGlobal.mindMap.renderer.mindTree),n=1;n<=t&&!(n>3);n++)e.find("ul").append('<li class="po-menu-item"><div class="po-menu-item-box"><span class="text">'.concat(a.default.t("js.Expand"))+n+"".concat(a.default.t("js.Level"),"</span></div></li>"));var i=!0;$(".expand-btn").length?(e.find(".po-menu-item:eq(0) .text").text(a.default.t("js.All_unfolded")),i=!1):e.find(".po-menu-item:eq(0) .text").text(a.default.t("js.Put_it_all_away")),e.off("click").on("click","li",function(){var t=$(this),n=t.index();if(0===n)return i?(t.find(".text").text(a.default.t("js.All_unfolded")),editorGlobal.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL","all","collapaed",!0)):(t.find(".text").text(a.default.t("js.Put_it_all_away")),editorGlobal.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL","all","expand",!0)),void(i=!i);e.removeClass("expand"),n>3&&(n=5),editorGlobal.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL",n,"collapaed")})}},getDepth:function(e){var t=0,n=0,i=0;return function e(o,a){n=Math.max(n,a),i=Math.max(i,a),t=Math.max(n,i),o.children&&o.children.length>0&&o.children.forEach(function(t){e(t,a+1)}),o.leftChildren&&o.leftChildren.length>0&&o.leftChildren.forEach(function(t){e(t,a+1)})}(e,1),t},resizeMax:function(){var e=editorGlobal.mindMap.view.scale;e>2.8||(e+=.2,editorGlobal.mindMap.view.setScale(e))},resizeMin:function(){var e=editorGlobal.mindMap.view.scale;e<.4||(e-=.2,editorGlobal.mindMap.view.setScale(e))},computeSize:function(){var e=editorGlobal.mindMap.draw.bbox().w,t=$("body").outerWidth(),n=Math.round(t/e*100)/100;n=n>1?1.2:n,editorGlobal.mindMap.view.setScale(n)},pageInit:function(e){var t,n=$(".controlls-view").find("#"+e);n=n.length?n:$(".controlls-view").find("#"+e+"-right");var i=window.top.document.documentElement.scrollTop;if("mindmap"===e){if(n.hasClass("selected"))return;$(".mind-util-container").show(),window.location.hash="",editorGlobal.isTemp&&s(),editorGlobal.isTemp?$(".controlls-right").show():$(".controlls-right").hide(),$(".theme-item").show(),$(".controlls-temp-right").show(),$(".viewobject-outline").css("display","none")}else{if(n.hasClass("selected"))return;$(".mind-util-container").hide(),window.location.hash="outline";var o=window.location.href;g.Util.getUrlParams("cate"),o=o.replace("mind","outline"),editorGlobal.isTemp||$(".controlls-right").show(),$(".viewobject-outline").css("display","block"),$(".theme-item").hide(),$(".controlls-temp-right").hide(),$("#outline-ifram").attr("src",o);var a=document.getElementById("outline-ifram"),r=a.contentWindow;r.editorGlobal&&r.editorGlobal.poPagination.pageId!==editorGlobal.poPagination.pageId&&setTimeout(function(){a.contentWindow.location.reload()}),s()}function s(){!function e(){t=window.requestAnimationFrame(function(){window.top.document.documentElement.scrollTop=i,e()})}();var e=setTimeout(function(){window.cancelAnimationFrame(t)},1e3);$("#outline-ifram").on("load",function(){window.cancelAnimationFrame(t),clearTimeout(e),window.top.document.documentElement.scrollTop=i,window.requestAnimationFrame(function(){window.top.document.documentElement.scrollTop=i})})}n.addClass("selected").siblings().removeClass("selected")}};editorGlobal.controllers=I},43793:function(e,t,n){n(61894),n(58500),n(84889);var i=n(9712);n(4790),n(82403),n(6284),n(69268),n(86837);var o=i(n(66603));n(10960),n(85837),n(71037),n(43542),n(67246),n(29646);var a=n(27251);n(64458);var r=i(n(50661)),s=n(88318),l=n(41295),c=n(98601),d=n(21837),u=n(56683);n(71052),n(78738);var p=n(59584),h=n(5263),m=n(83316),f=n(31396),g=i(n(32483)),v=i(n(7101));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}$("body").append('<div><span class="katex"></span></div>'),editorGlobal.config={showCodeBlock:!0},window.editorGlobal.codeblock=s.codeblock,editorGlobal.outerConfig={init:function(e){var t,n;editorGlobal.deviceType=editorGlobal.device=e.deviceType||window.deviceType||window.device,editorGlobal.config.uiType=e.uiType||"v0",editorGlobal.showPage=(null===(t=editorGlobalConfig)||void 0===t?void 0:t.showPage)||!1,editorGlobal.toolbarBgModel="tint",editorGlobal.vipImgUrl="".concat(staticBasePath,"/images/vip-tip.svg"),editorGlobal.noteCornerW=240,editorGlobal.tutorial=!0,e.tutorial&&(editorGlobal.tutorial=editorGlobal.config.mindTutorial=e.tutorial),a.bigPipe.render({js:[staticBasePath+"/assets/iconfont/font_2081284/iconfont.js"]}),editorGlobal.userObj=e.userObj||{},editorGlobal.authObj=e.authObj||{},editorGlobal.chartObj=e.chartObj,editorGlobal.chartId=e.chartId||e.chartObj.chartId,editorGlobal.mindCanvas=editorGlobal.authObj.mindCanvas||!1,editorGlobal.leftButton=editorGlobal.authObj.leftButton||"move",editorGlobal.readonly=!0,editorGlobal.readonlyList=(null===(n=editorGlobalConfig)||void 0===n?void 0:n.readonlyList)||{},editorGlobal.config.mindToolbarConfig=this.handleFooterBarData(e.mindToolbarConfig),editorGlobal.isGuide=e.isGuide},handleFooterBarData:function(e){var t={};return e&&(t=y(y({},t),{},{data:e})),t=y(y({},{topToolbar:"show",footerBarLeft:["outline","devider","pageBox"],footerBarRight:["textsNums","topicNums","devider","boxChoose","insertTemp","devider","focus","devider","mindCanvas","devider","zoomPage","fullPage"]}),t)}};window.mindEditor=function(){function e(t){T(this,e),this.config=t}return M(e,[{key:"bulid",value:function(){var e;editorGlobal.mindMap=new r.default({el:document.querySelector("#mind_con"),readonly:!0,readonlyList:(null===(e=window.editorGlobalConfig)||void 0===e?void 0:e.readonlyList)||{},partialLoad:!1}),l.mention.bindEvent({mindMap:editorGlobal.mindMap}),(0,a.injectExtraAsynCall)("onInitInfo",{},function(){var e=C(k().mark(function e(t){var n,i,o,r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"object"!=w(n=t.def)&&(n=JSON.parse(n)),e.next=4,(0,f.testEditorVersion)(n.editorVersion,"mind");case 4:"boolean"==typeof(i=e.sent)&&!1===i||(editorGlobal.outerConfig.init(t),t.isGuide&&(editorGlobal.mindMap.opt.textAutoWrapWidth=252),o=null!=t&&t.chartDefIds?t.chartDefIds:[],editorGlobal.poPagination=d.poMobiPagination.init(o,{pageId:t.mainCanvasId,isView:"undefined"!=typeof isView||editorGlobal.readonly,config:t}),editorGlobal.poPagination.renderInit(!0),null!=(r=JSON.parse(t.def))&&r.theme&&!(0,u.isJSONString)(r.theme)&&r.theme.indexOf("customise_")>=0?p.Server.getThemeById(r.theme,function(e){r.theme=e,editorGlobal.mindMap.updateConfig({chartId:editorGlobal.chartId,readonly:editorGlobal.readonly,readonlyList:editorGlobal.readonlyList,alwaysShowExpandBtn:!0}),editorGlobal.mindMap.setFullData(r)}):(editorGlobal.mindMap.updateConfig({chartId:editorGlobal.chartId,readonly:editorGlobal.readonly,readonlyList:editorGlobal.readonlyList,alwaysShowExpandBtn:!0}),editorGlobal.mindMap.setFullData(r)),editorGlobal.mindview.init(t),editorGlobal.mindMap.on("topic_link_open",function(e,t){var n=t.url,i=t.type;(0,a.injectExtraAsynCall)("openFileUrl",{url:n,type:i},function(){}),e.stopPropagation(),e.preventDefault()}),editorGlobal.mindMap.on("topic_note_click",function(e){editorGlobal.mindMap.note.renderMobiPreviewBox(e.topicData)}),(0,m.$poCollect)("edit_page_theme_show",{pageName:t.mainCanvasId,theme:r.theme,structure:r.structure,topicCount:editorGlobal.mindMap.renderer.getTopicLength(),canvasCount:o.length}),(0,m.$poCollect)("mind_page_visit",{pageName:"预览页"}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}]),e}(),editorGlobal.mindview={init:function(e){e.isGuide||e.isPure?e.isGuide&&v.default.init(editorGlobal.mindMap):function(){"#outline"==window.location.hash||$.showTip(g.default.t("js.Click_on_a_topic_to_expand"),4e3),window.configCollaSave&&window.configCollaSave.init(window.deviceType,"mind");var e=$('<div class="bottomBar">\n\t\t<div class="viewText">\n\t\t\t<span class="po-diagraming-icons" tit="outline">&#xe9b9;</span>\x3c!--&#xe9c1;--\x3e\n\t\t</div>\n\t</div>');e.find(".viewText span").on("click",function(){var e,t,n;e=$(this).attr("tit"),n=$(".bottomBar .viewText span"),"mindmap"==e?n.html("&#xe9b9;").attr("tit","outline"):(t=(t=window.location.href).replace("mind","outline"),window.location.href=t+(t.indexOf("#outline")>-1?"":"#outline")),$(".viewobject-outline").fadeToggle(200,"swing",function(){var e=$("#po-global-loading-wrap");e.length&&e.fadeOut().remove()})}),$("body").append(e)}(),$("#po-global-loading-wrap").fadeOut(200,function(){$(this).remove()}),$(document).off("click.h3",".op-con-detail h3").on("click.h3",".op-con-detail h3",function(e){if("label"==e.target.tagName.toLowerCase()){var t=$(e.target).parent().parent();t.hasClass("mind-remark-panel")?t.css("bottom",-240).remove():(t.css("bottom",-240).hide(),$.mask("close"))}}),editorGlobal.mindMap.on("loadsuccess",function(){x.getHandle(),(0,a.injectExtraAsynCall)("openMention")&&l.mention.init($("#mind_con"),!0),c.mindImageUi.init(),(0,a.injectExtraAsynCall)("onRanderComplete")}),!1!==editorGlobal.config.watermark&&setTimeout(function(){h.insert.watermark.init({con:$(".po-watermark-con"),watermark:editorGlobal.mindMap.renderer.mindTree.watermark,showWatermark:editorGlobal.mindMap.renderer.mindTree.showWatermark,userName:editorGlobal.userObj.fullName,change:function(e){editorGlobal.mindMap.emit("setWaterMark",e)}});var e={showWatermark:editorGlobal.mindMap.renderer.mindTree.showWatermark,watermark:editorGlobal.mindMap.renderer.mindTree.watermark};editorGlobal.mindMap.emit("setWaterMark",e,!0)},300)}};var x={getHandle:function(){},triggerEvent:function(e,t){if((e+="").length>0&&"topic"==e){var n=t.parent().attr("id");if(null==n||"root"==n)return}else if(e.length>0&&"topic-box"==e){var i=t.attr("id");if(null==i||"root"==i)return}else{if(e.length>0&&e.indexOf("topic-note")>=0)return;if(e.indexOf("topic-link")>=0){var o=t.attr("href")||"";location.href=o}else e.indexOf("expand_box")}}}},43627:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessDef=void 0,n(27531),n(61894),n(5682),n(82403),n(38887),n(6284),n(69268),n(58500),n(84889),n(54938),n(14237);var o=n(59584),a=n(15240),s=n(31396),l=i(n(32483)),c=function(){function e(){var t=this;T(this,e);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=n.mindMap,this.mindMap.on("loadsuccess",function(){t.isIncomplete&&!t.mindMap.opt.readonly&&t.save(t.mindMap.getData(),!0)})}return M(e,[{key:"getCustomWidthForPadding",value:function(e){e.customWidth&&(e.customWidthV5=!0,this.isIncomplete=!0)}},{key:"getNewDef",value:function(e){var t=this,n=this,i=(0,a.deepClone)(e);i.root&&i.theme;var o,s,c=!1,d=!1,u=!1;if("mind"==i.structure&&(null==i.root||i.classic)){i.leftChildren=[],s=(o=i.children).length-1;for(var p=Math.floor(s/2),m=[],f=p;f<s;f++){var g=o[f];m.push(g)}o.splice(p,s-p),i.leftChildren=i.leftChildren.concat(m),i.structure="mind_free"}if(i.classic){var v=i.classic;v.indexOf("defaultClassic")>=0&&(v="theme3"),delete i.classic,i.theme=v}i.theme&&"null"!=i.theme||(i.theme="theme3"),null==i.root&&(i.root=!0);var b=!1;if((!i.freeChildren||!i.data||(0,a.isUndef)(i.data["right-content-index"])||i.leftChildren&&i.leftChildren.length>0)&&(b=!0),b){var y,x,k,_;if(i.lineStyle&&delete i.lineStyle,i.background&&i.background.indexOf("url(")>-1){var C=i.background;if(C.indexOf("url(")>-1){var T=C.split(" ");7==T.length&&(T[1]=T[1].replace("px",""),T[2]=T[2].replace("px",""),T[1]-=1e4,T[2]-=1e4,T[1]=T[1]+"px",T[2]=T[2]+"px"),i.background=T.join(" ")}}i.freeChildren||(i.freeChildren=[],i.textAutoWrapWidth=900),editorGlobal.isGuide&&(0,a.isMobile)()&&(i.textAutoWrapWidth=252),("mind_left"===i.structure&&(null===(x=i.children)||void 0===x?void 0:x.length)>0||"mind_right"===i.structure&&(null===(k=i.leftChildren)||void 0===k?void 0:k.length)>0)&&(i.structure="mind_free");for(var S=i.children,M=S.length-1;M>=0;M--)if(S[M].free){var D=S.splice(M,1)[0];i.freeChildren.push(D)}var E=i.children.filter(function(e){return!e.free});i.data&&Object.keys(i.data).length||(i.data={"right-content-index":i.children.length>0?i.children.length:0}),i.leftChildren&&((y=i.children).push.apply(y,h(i.leftChildren||[])),delete i.leftChildren),function e(t,o){var a=t.summaries||[];a.length>0&&(t.summaries=a.map(function(e){var t=E.length;if(e.style&&(e.style.lineColor&&(e.style.summaryLineColor=e.style.lineColor,delete e.style.lineColor),e.style.lineWidth&&(e.style.summaryLineWidth=e.style.lineWidth,delete e.style.lineWidth),e.style.lineType&&(e.style.summaryLineType=e.style.lineType,delete e.style.lineType)),o&&"left"===e.part&&t>0){var n=e.range.split(",");e.range="".concat(1*n[0]+t,", ").concat(1*n[1]+t)}return e}));var r=t.boundaries||[];o&&r.length>0&&(i.boundaries=i.boundaries.map(function(e){var t=E.length;if("left"===e.part&&t>0){var n=e.range.split(",");e.range="".concat(1*n[0]+t,", ").concat(1*n[1]+t)}return e})),r.forEach(function(e){var t;null!==(t=e.remarks)&&void 0!==t&&t.content&&(e.remarks.content=e.remarks.content.replace(/<div>/g,"<br>").replace(/<\/div>/g,""))}),n.getCustomWidthForPadding(t),[].concat(h(t.children),h(t.freeChildren||[]),h(t.summaries||[])).forEach(function(t){e(t)})}(i,!0);var A=i.structure;if("mind_free_layout"===A?(i.structure="mind_free",i.enableFreeDrag=!0):"mind_org_multistage"===A&&(i.structure="mind_org",i.hideSelf=!0),(null===(_=i.freeChildren)||void 0===_?void 0:_.length)>0&&i.freeChildren.forEach(function(e){switch("mind_org_multistage"!==A&&"mind_org"!==A||(e.layout="mind_org"),A){case"mind_org_multistage":case"mind_org":case"mind_tree_free":case"mind_tree_right":case"mind_tree_left":case"mind_tree":case"mind_brace_right":case"mind_brace_left":break;default:e.layout="mind_right"}}),i.freeChildren.forEach(function(e){n.getCustomWidthForPadding(e),e.versionV5=!0,t.isIncomplete=!0}),i.children.forEach(function(e){e.pos&&(e.versionV5=!0,t.isIncomplete=!0)}),!$.isEmptyObject(i.lines)){var F=function(e){var t=i.lines[e];isNaN(t.endAngle)&&(t.endAngle=1),isNaN(t.startAngle)&&(t.startAngle=1),t.points&&t.points.length>0&&t.points.forEach(function(e){e&&(isNaN(e.x)||isNaN(e.x)?t.points=[]:(e.x=e.x-1e4,e.y=e.y-1e4))}),!t.styles||null!==(O=t.styles)&&void 0!==O&&O.lineType||(t.styles.lineType="solid")};for(var I in i.lines){var O;F(I)}}u=!0}if($.isEmptyObject(i.lines))delete i.lines;else{var L=i.lines;for(var P in L)if("null"!==P){var B=i.lines[P],N=B.start,z=B.end;if(B.from===B.to&&delete i.lines[P],(N.p||z.p)&&null!=B.canvasPos){for(var j=0;j<B.points.length;j++)if(B.points[j].x>2e3){B.points=[],c=!0;break}"bottom"==N.p?N={x:.5,y:1}:"top"==N.p?N={x:.5,y:0}:"left"==N.p?N={x:0,y:.5}:"right"==N.p&&(N={x:1,y:.5}),"bottom"==z.p?z={x:.5,y:1}:"top"==z.p?z={x:.5,y:0}:"left"==z.p?z={x:0,y:.5}:"right"==z.p&&(z={x:1,y:.5}),null==N.x&&(N.x=0,N.y=0),null==z.x&&(z.x=0,z.y=0),N.x>2e3&&(N.x=1),z.x>2e3&&(z.x=1),N.y>2e3&&(N.y=1),z.y>2e3&&(z.y=1)}if(B.canvasPos&&B.start.p){var R=B.canvasPos;null!=B.points&&B.points.length>0&&(null!=B.points[0].x&&null!=B.points[0].y&&(B.points[0].x+=R.x,B.points[0].y+=R.y),null!=B.points[0].x&&null!=B.points[0].y&&(B.points[1].x+=R.x,B.points[1].y+=R.y)),(Math.abs(B.start.x)>1||Math.abs(B.start.y)>1)&&(B.realStart={},B.realStart.x=B.canvasPos.x+N.x,B.realStart.y=B.canvasPos.y+N.y,B.start.x=B.start.x/B.canvasPos.w,B.start.y=B.start.y/B.canvasPos.h),(Math.abs(B.end.x)>1||Math.abs(B.end.y)>1)&&(B.realEnd={},B.realEnd.x=B.canvasPos.x+z.x,B.realEnd.y=B.canvasPos.y+z.y,B.end.x=B.end.x/B.canvasPos.w,B.end.y=B.end.y/B.canvasPos.h),delete B.canvasPos}}}function G(e,t){if(null!=e.summaries&&e.summaries.length>0)for(var n=0;n<e.summaries.length;n++){var i=e.summaries[n],o=i.range+"";if(null!=i.range&&o.indexOf(",")<0){var s=$.extend(!0,{},i);i.range="0,0",t&&(s.part="right"),d=!0}i.range&&i.range.indexOf("-1")>-1&&(i.range="0,0",d=!0);var l=r((0,a.getRange)(i.range),2),c=l[0],u=l[1],p=e.children.length-1;isNaN(c)&&(c=0),isNaN(u)&&(u=0),c=Math.max(0,Math.min(p,c)),u=Math.max(0,Math.min(p,u)),i.range=c>u?u+","+c:c+","+u}}(""==i.background||null==i.background||"string"==typeof i.background&&i.background.includes("null")||i.background.indexOf("niupizhi.png")>0)&&delete i.background,function e(t){if(null!=t.tag){var i=[],o={text:t.tag,color:"#276F86",background:"#d6f0f8"};i.push(o),t.tags=i,delete t.tag}if(null!=t.task&&(""==t.task.start&&delete t.task.start,""==t.task.end&&delete t.task.end),null!=t.link&&""==t.link.value&&delete t.link,null!=t.file&&""==t.file.value&&delete t.file,null!=t.icons&&n.mindMap.icons){var a=n.mindMap.icons.icons;if(null!=a)for(var r=0,s=t.icons.length;r<s;r++){var l=t.icons[r];if(null!=l){var c=a[l.name];if(null!=c)for(var d=0;d<c.length;d++){var u=c[l.index];if(null==u){u=c[c.length-1],l.text=u.text;break}if(u.index==l.index){l.text=u.text;break}}}}}for(var p=t.children,h=p.length,m=0;m<h;m++){e(p[m])}}(i),function e(t){t.free&&G(t),null!=t.summaries&&t.root?G(t,!0):null!=t.summaries&&G(t);for(var n=t.children,i=0;i<n.length;i++){var o=n[i],r=!1;if("root"==o.parent&&(r=!0),o.summary&&(delete o.summary,delete o.range),null!=o.summaries&&o.summaries.length>0)for(var s=0;s<o.summaries.length;s++){var c=o.summaries[s],u=c.range+"";if(null!=c.range&&u.indexOf(",")<0){var p=$.extend(!0,{},c);if(o.free){var h=c.children.length;if(c.range="0,"+(h-1)<0?0:h-1,0==o.children.length){c.range="0,0";var m={id:(0,a.createId)(),parent:o.id,children:[],title:l.default.t("js.Subtopic")};o.children.push(m)}}else p.parent=t.id,p.range=i+","+i;if(r&&(p.part="right"),d=!0,!o.free){if(o.summaries.splice(s,1),null==t.summaries){t.summaries=[],t.summaries.push(p),e(t);break}t.summaries.push(p)}}e(c)}e(o)}var f=t.leftChildren||[];if(f.length>0)for(var g=0;g<f.length;g++){var v=f[g],b=!1;if("root"==v.parent&&(b=!0),null!=v.summaries&&v.summaries.length>0)for(var y=0;y<v.summaries.length;y++){var x=v.summaries[y],w=x.range+"";if(null!=x.range&&w.indexOf(",")<0){var k=$.extend(!0,{},x);if(k.parent=t.id,k.range=g+","+g,b&&(k.part="left"),d=!0,v.summaries.splice(y,1),!v.free){if(v.summaries.splice(y,1),null==t.summaries){t.summaries=[],t.summaries.push(k),e(t);break}t.summaries.push(k)}}e(x)}e(v)}}(i);try{!function e(t){if(t){for(var n=t.boundaries||[],i=t.children,o=t.leftChildren||[],s=i.concat(o),l=s.length-1;l>=0;l--)s[l].free&&s.splice(l,1);for(var c=0;c<n.length;c++){var d=n[c],u=r((0,a.getRange)(d.range),2),p=u[0],h=u[1],m=t.children.length-1;isNaN(p)&&(p=0),isNaN(h)&&(h=0),p=Math.max(0,Math.min(m,p)),h=Math.max(0,Math.min(m,h)),d.range=p>h?h+","+p:p+","+h}for(var f=0;f<s.length;f++)e(s[f])}}(i)}catch(H){}return this.mindMap.opt.readonly||this.isIncomplete||(c||d||u)&&("object"==w(i.theme)&&(i.theme=JSON.stringify(i.theme)),this.save(i,!0,u)),i}},{key:"save",value:function(e,t,n){t&&(s.VERSION.mind&&(!e.editorVersion||s.VERSION.mind.slice(1)-e.editorVersion.slice(1))&&(e.editorVersion=s.VERSION.mind),o.Server.updatedef({def:JSON.stringify(e),chartId:this.mindMap.opt.chartId,isV5Def:n}))}}]),e}();t.ProcessDef=c,c.instanceName="processDef"},49602:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0,n(61894),n(24932),n(69268),n(84889),n(19268),n(14237);var o=n(59081),a=n(15240),s=i(n(20990));t.Base=function(){function e(){T(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.renderer=this.mindMap.renderer,this.otherDraw=this.mindMap.otherDraw,this.currentStart=0,this.currentEnd=0,this.controlGroup=null,this.mouseDownX=0,this.mouseDownY=0,this.resizeOpDraging=null}return M(e,[{key:"getResizeBoundaryPos",value:function(e){var t=e.parent.children,n=r((0,a.getRange)(e.getData("range")),2),i=n[0],o=n[1],s=(0,a.getTopicsInTopicList)(i,o,t),l=s.reduce(function(e,t){return Math.max(e,t.getRight())},-1/0);return{left:s.reduce(function(e,t){return Math.min(e,t.getLeft())},1/0)-2,top:s.reduce(function(e,t){return Math.min(e,t.getTop())},1/0)-2,right:l+2,bottom:s.reduce(function(e,t){return Math.max(e,t.getBottom())},-1/0)+2}}},{key:"renderOpShape",value:function(e){var t=r((0,a.getRange)(e.getData("range")),2),n=t[0],i=t[1];this.currentStart=n,this.currentEnd=i,this.controlGroup=new o.G,this.controlGroup.attr("class","boundary-control-group"),this.resizePath=this.controlGroup.path(),this.resizeOpRect1=this.controlGroup.path(),this.resizeOpRect2=this.controlGroup.path(),this.resizeBoundaryPos=this.getResizeBoundaryPos(e),this.resizeOp1=this.createResizeOpPath(),this.resizeOp2=this.createResizeOpPath();var s=(0,a.createRectPath)(this.resizeBoundaryPos);this.resizePath.plot(s).attr({"pointer-events":"none"})}},{key:"createResizeOpPath",value:function(){return this.controlGroup.path().stroke("none").fill("transparent")}},{key:"bindResizeEvents",value:function(e,t,n){var i=this;e.on("mouseover",function(){return e.css({cursor:t})}),e.on("mouseout",function(){return e.css({cursor:"auto"})}),e.on("mousedown",function(o){i.resizeOpDraging=e,i.resizeOpPos=n,document.body.style.cursor=t,i.onMousedown(o)})}},{key:"renderOpShapeGeneric",value:function(e,t,n){this.renderOpShape(e);var i="vertical"===t?"top":"left",o="vertical"===t?"bottom":"right",a="vertical"===t?"ns-resize":"ew-resize";this.resizeOp1Path(this.resizeBoundaryPos,i),this.resizeOp2Path(this.resizeBoundaryPos,o),this.setOpStyle(e,n),this.otherDraw.add(this.controlGroup),this.bindResizeEvents(this.resizeOp1,a,i),this.bindResizeEvents(this.resizeOp2,a,o)}},{key:"renderOpShape1",value:function(e,t){this.renderOpShapeGeneric(e,"vertical",t)}},{key:"renderOpShape2",value:function(e,t){this.renderOpShapeGeneric(e,"horizontal",t)}},{key:"setOpStyle",value:function(e,t){var n=this.mindMap.opt.selectedColor;"summary"==t&&(n=this.mindMap.renderer.getCacheTopic(e.id).getStyle("summaryLineColor")),this.resizePath.stroke({width:1,color:n}).fill("transparent"),this.resizeOpRect1.stroke({width:2,color:n}).fill("#ffffff"),this.resizeOpRect2.stroke({width:2,color:n}).fill("#ffffff")}},{key:"resizeOp1Path",value:function(e,t){var n=e.left,i=e.right,o=e.top,a=e.bottom,r=n+(i-n)/2,s=o+(a-o)/2;"top"===t?(this.resizeOp1.plot("M".concat(n," ").concat(o," v-6 L ").concat(i," ").concat(o," v6")).stroke("none").fill("transparent"),this.resizeOpRect1.plot("M".concat(r-4," ").concat(o-4,", L").concat(r+4," ").concat(o-4,",  L").concat(r+4," ").concat(o+4,", L").concat(r-4," ").concat(o+4," Z"))):"left"===t&&(this.resizeOp1.plot("M".concat(n," ").concat(o," h-6 L ").concat(n," ").concat(a," h6")).stroke("none").fill("transparent"),this.resizeOpRect1.plot("M".concat(n-4," ").concat(s-4,", L").concat(n+4," ").concat(s-4,",  L").concat(n+4," ").concat(s+4,", L").concat(n-4," ").concat(s+4," Z")))}},{key:"resizeOp2Path",value:function(e,t){var n=e.left,i=e.right,o=e.top,a=e.bottom,r=n+(i-n)/2,s=o+(a-o)/2;"bottom"===t?(this.resizeOp2.plot("M".concat(n," ").concat(a," v-6 L ").concat(i," ").concat(a," v6")).stroke("none").fill("transparent"),this.resizeOpRect2.plot("M".concat(r-4," ").concat(a-4,", L").concat(r+4," ").concat(a-4,",  L").concat(r+4," ").concat(a+4,", L").concat(r-4," ").concat(a+4," Z"))):"right"===t&&(this.resizeOp2.plot("M".concat(i," ").concat(o," h-6 L ").concat(i," ").concat(a," h6")).stroke("none").fill("transparent"),this.resizeOpRect2.plot("M".concat(i-4," ").concat(s-4,", L").concat(i+4," ").concat(s-4,",  L").concat(i+4," ").concat(s+4,", L").concat(i-4," ").concat(s+4," Z")))}},{key:"onMousedown",value:function(e){e.stopPropagation();var t=this.mindMap.toPos(e.clientX,e.clientY),n=t.x,i=t.y;this.mouseDownX=n,this.mouseDownY=i}},{key:"mousePin",value:function(e){var t=document.querySelector("#mousepin");t||((t=document.createElement("DIV")).style.width="20px",t.style.height="20px",t.style.position="fixed",t.style.zIndex=9999,t.setAttribute("id","mousepin"),document.body.appendChild(t));var n=e.clientY-10,i=e.clientX-10;t.style.top=n+"px",t.style.left=i+"px"}},{key:"removePin",value:function(){var e=document.querySelector("#mousepin");e&&e.remove()}},{key:"onMousemove",value:function(e){var t=this;if(this.resizeOpDraging){var n=this.mindMap.toPos(e.clientX,e.clientY),i=n.x,o=n.y;if(this.mouseMoveX=i,this.mouseMoveY=o,!(Math.abs(i-this.mouseDownX)<=10&&Math.abs(o-this.mouseDownY)<=10)&&this._topic){var s=this._topic.parent.children,l=r((0,a.getRange)(this._topic.getData("range")),2),c=l[0],d=l[1],u=s[c],p=s[d];(0,a.mapAutoMove)(this.mindMap,e.clientX,e.clientY,function(){var e=t.mindMap.draw.transform(),n=e.scaleX,i=e.scaleY,o=t.resizeBoundaryPos,r=o.top,l=o.bottom,c=o.left,d=o.right,m=(0,a.getPartChildren)(t._topic.parent),f=m.leftChildren,g=m.rightChildren,v="mind_free"===t.mindMap.renderer.mindTree.structure&&t._topic.parent.isRoot,b="fishbone"===t._topic.parent.layout&&1===t._topic.parent.layoutIndex&&"down"===t._topic.parent.dir;if(t.resizeBoundaryPos){var y=t.mouseMoveX-t.mouseDownX,x=t.mouseMoveY-t.mouseDownY;if("top"===t.resizeOpPos){r+=x/i;var w=h(s);v&&(w="left"===t._topic.part?f:g);var k=w[0].getTop(),_=p.getTop();b&&(k=w[w.length-1].getTop(),_=u.getTop()),r<k?r=k:r>_&&(r=_),t.resizeOp1Path({top:r,left:c,right:d,bottom:l},"top")}if("bottom"===t.resizeOpPos){l+=x/i;var C=h(s);v&&(C="left"===t._topic.part?f:g);var T=u.getBottom(),S=C[C.length-1].getBottom();b&&(T=p.getBottom(),S=C[0].getBottom()),l<T?l=T:l>S&&(l=S),t.resizeOp2Path({top:r,left:c,right:d,bottom:l},"bottom")}if("left"===t.resizeOpPos){c+=y/n;var M=s[0].getLeft(),D=p.getLeft();c<M?c=M:c>D&&(c=D),t.resizeOp1Path({top:r,left:c,right:d,bottom:l},"left")}if("right"===t.resizeOpPos){d+=y/n;var E=u.getRight(),A=s[s.length-1].getRight();d<E?d=E:d>A&&(d=A),t.resizeOp2Path({top:r,left:c,right:d,bottom:l},"right")}var F=(0,a.createRectPath)({top:r,bottom:l,left:c,right:d});t.resizePath.plot(F)}t.checkInNodes(r,l,c,d,s,t.resizeOpPos)},function(e,n){switch(e){case"left":t.mouseDownX+=n;break;case"top":t.mouseDownY+=n;break;case"right":t.mouseDownX-=n;break;case"bottom":t.mouseDownY-=n}}),this.mousePin(e)}}}},{key:"onMouseup",value:function(){var e=this;if(this.removePin(),this.resizeOpDraging){this.resizeOpDraging=null,document.body.style.cursor="auto";var t=this.mindMap.opt.toast,n=r((0,a.getRange)(this._topic.getData("range")),2),i=n[0],o=n[1];if(Math.abs(this.currentStart)!==1/0&&Math.abs(this.currentEnd)!==1/0)if(i!==this.currentStart||o!==this.currentEnd){var s,l=this._topic.parent,c=this.getTopics(l),d=!0;if(c.forEach(function(t){if(t.id!==e._topic.id){var n=r((0,a.getRange)(t.getData("range")),2),i=n[0],o=n[1];i!==e.currentStart||o!==e.currentEnd||(d=!1)}}),!d)return null!==(s=this._topic)&&void 0!==s&&s.summary?this.mindMap.emit("toast",{type:"warning",text:t.Cannot_modify_the_profile}):this.mindMap.emit("toast",{type:"warning",text:t.Cannot_modify_the_outer_frame}),void this.controlGroup.remove();var u=this._topic.getPureData(),p=this._topic.getData();p.range=this.currentStart+","+this.currentEnd,this.update(p,u)}else this.renderOp(this._topic)}}},{key:"getTopics",value:function(e){return e}},{key:"renderOp",value:function(){}},{key:"update",value:function(){}},{key:"checkInNodes",value:function(e,t,n,i,o,r){var s=n,l=e,c=i,d=t,u=[];o.forEach(function(e,t){var n=e.getTop(),i=e.getBottom(),o=e.getLeft(),p=e.getRight();"fishbone"===e.layout&&2===e.layoutIndex&&("top"!==r&&"bottom"!==r||(o=-1/0,p=1/0),"left"!==r&&"right"!==r||(n=-1/0,i=1/0)),(0,a.checkTwoRectIsOverlap)(s,c,l,d,o,p,n,i)&&u.push(t)}),this.currentStart=Math.min.apply(Math,u),this.currentEnd=Math.max.apply(Math,u)}},{key:"getRemovedGeneralizes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(!t)return e;t=(0,a.deepClone)(t);var i={},o={},l=this.renderer.getTopicById(n);for(var c in t){var d=t[c],u=d.beginId,p=d.generalize,h=(0,a.copyTopicData)(p),m=r((0,a.getRange)(p.range),2),f=m[0],g=m[1];if(u){var v=this.renderer.getTopicById(u),b=(0,a.getTopicIndexInTopicList)(v,l.children);if(!(b<0)){var y=g-f;p.range=b+","+(b+y),p.parent=l.id,p.removed,this.getGeneralizes(l).push(p),i[l.id]||(i[l.id]=[]),i[l.id].push((0,a.copyTopicData)(p)),this.mindMap.renderer.addTopicToList((0,a.copyTopicData)(p)),o[l.id]||(o[l.id]=[]),h.removed?o[l.id].push((0,a.copyTopicData)(p)):o[l.id].push((0,a.copyTopicData)(h))}}}return e=(0,s.default)(e,{updates:i,original:o})}}]),e}()},14051:function(e,i,o){o(58500);var a=o(9712);Object.defineProperty(i,"__esModule",{value:!0}),i.Boundary=void 0;var s=a(o(66603));o(26149),o(27531),o(61894),o(24932),o(69642),o(68174),o(4790),o(38887),o(69268),o(84889),o(19268),o(14237);var l=o(59081),c=o(99365),d=o(15240),u=o(49602);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e){t(o,u.Base);var i=n(o);function o(){var e;return T(this,o),(e=i.call(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}))._topic=null,e.defaultStyle={},e.registerShortcutKeys(),e.bindEvent(),e}return M(o,[{key:"bindEvent",value:function(){var e=this;this.cumputerBoundarySpace=this.cumputerBoundarySpace.bind(this),this.mindMap.on("cumputerBoundarySpace",this.cumputerBoundarySpace),this.renderBoundaryShape=this.renderBoundaryShape.bind(this),this.mindMap.on("renderBoundaryShape",this.renderBoundaryShape),this.mindMap.on("topic_selected",this.checkIsremoveOpGroup.bind(this)),this.mindMap.on("rendered",this.renderBoundaryOp.bind(this)),this.mindMap.on("svg_mousedown",this.getBoundariesPos.bind(this)),this.mindMap.on("mousemove",this.onMousemove.bind(this)),this.mindMap.on("mouseup",this.onMouseup.bind(this)),this.mindMap.on("boundarySelected",this.renderBoundaryOp.bind(this)),this.mindMap.on("updateBoundary",this.updateBoundary.bind(this)),this.mindMap.on("recordBoundaryDefaultStyle",this.recordBoundaryDefaultStyle.bind(this)),this.mindMap.on("getRemovedSums",this.getRemovedGeneralizes.bind(this)),this.mindMap.on("getUpdatedBoundaries",this.getUpdatedBoundaries.bind(this)),this.mindMap.keyCommand.addShortcut("Del|Backspace",function(){e._topic&&e.mindMap.execCommand("REMOVE_BOUNDARY",e._topic.getData())})}},{key:"registerShortcutKeys",value:function(){this.mindMap.command.add("INSERT_BOUNDARY",this.insertBoundary.bind(this)),this.mindMap.command.add("ADD_BOUNDARY",this.addBoundary.bind(this)),this.mindMap.command.add("REMOVE_BOUNDARY",this.removeBoundary.bind(this)),this.mindMap.command.add("UPDATE_BOUNDARY",this.updateBoundary.bind(this))}},{key:"unBindEvent",value:function(){}},{key:"renderBoundary",value:function(e,t){var n,i=this,o=e.getData();if(o&&(null===(n=o.boundaries)||void 0===n?void 0:n.length)>0){var a=this.mindMap.renderer.getTopicLayout(e.layout).getMargin(e),s=a.marginY,l=a.marginX,c=o.boundaries;c.sort(function(e,t){var n=r((0,d.getRange)(e.range),2),i=n[0],o=n[1],a=r((0,d.getRange)(t.range),2),s=a[0],l=a[1];return o-i==l-s?i-s:o-i-(l-s)}),c.forEach(function(n){var o,a,c,u,p=r((0,d.getRange)(n.range),2),h=p[0],m=p[1],f=e.children||[];if(f[h]&&f[m]){var g=i.createBoundary(n,e);g.part=(null===(c=g.parent)||void 0===c||null===(c=c.children[h])||void 0===c?void 0:c.part)||"right",g.dir=null===(u=g.parent)||void 0===u||null===(u=u.children[h])||void 0===u?void 0:u.dir,g.layout=g.parent.layout;var v=(0,d.getTopicsInTopicList)(h,m,f);if(0!==v.length){var b,y;o="vertical"===t?v.reduce(function(e,t){var n=r(e,2),i=n[0],o=n[1];return i=Math.max(i,t.fullHeight),0!=o&&(o+=l),[i,o+=t.fullWidth]},[0,0]):v.reduce(function(e,t){var n=r(e,2),i=n[0],o=n[1];return o=Math.max(o,t.fullWidth),0!=i&&(i+=s),[i+=t.fullHeight,o]},[0,0]),b=(a=r(o,2))[0],y=a[1],g.orientation=t,g.childrenChunkFullHeight=b,g.childrenChunkFullWidth=y,g.setBoundarySpace()}}else n._topic&&n._topic.destroy()})}}},{key:"createBoundary",value:function(e,t){var n=null,i=e.id;if(this.mindMap.renderer.hasCacheTopic(i)&&!this.mindMap.renderer.reRender)(n=this.mindMap.renderer.getCacheTopic(i)).reset(),n.boundaryData=n.handleData(e||{}),e._topic=n,this.mindMap.renderer.cacheTopic(i,n);else{var o=i||(0,d.createId)();(n=new c.BoundaryNode({data:e,id:o,renderer:this.mindMap.renderer,mindMap:this.mindMap})).id=o,e._topic=n,this.mindMap.renderer.cacheTopic(o,n)}return n.parent=t,t.addBoundary(n),n}},{key:"removeBoundary",value:function(e,t){var n=this;e=(0,d.formatDataToArray)(e);var i={};e.forEach(function(e){var t=n.mindMap.renderer.getTopicById(e.parent),o=(0,d.getTopicIndexInTopicList)(e,t.boundaries);i[e.id]=o,t.boundaries.splice(o,1);var a=n.mindMap.renderer.getCacheTopic(e.id);a&&(n.removeOpGrout(a),a.destroy(),n.mindMap.renderer.removeCacheTopic(e.id))}),t||this.mindMap.emit("sendMessage","deleteBoundary",{content:(0,d.copyTopicsData)(e),index:i}),this.mindMap.renderer.setNeedResetTopicList(e),this.mindMap.render()}},{key:"createNewBoundary",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={children:[],id:(0,d.createId)(),boundary:!0},n=m(m({},e),t);return(0,d.isEmptyObject)(this.defaultStyle)||(n.style=this.defaultStyle),n}},{key:"insertBoundary",value:function(){var e=this,t=this.mindMap.renderer.selectedTopicList,n=this.mindMap.opt.toast||{};if(t&&0!=t.length){if(!(this.mindMap.renderer.getSelectedIds().join(",").indexOf("root")>=0)){var i=(0,d.getChunks)(this.mindMap,t,"boundary"),o=i.length;if(0!=o){var a=0,r=[];i.forEach(function(t){var n=e.mindMap.renderer.getCacheTopic(t.parent).topicData,i=n.boundaries||[];if("fishbone"!==n.layout&&"timeline"!==n.layout||0!==n.layoutIndex){var o,s=!1,l=v(i);try{for(l.s();!(o=l.n()).done;){if(o.value.range==t.range){s=!0;break}}}catch(d){l.e(d)}finally{l.f()}if(!s){var c=e.createNewBoundary(t);r.push(c)}}else a++}),a!=o?0!=r.length?this.addBoundary(r):this.mindMap.emit("toast",{type:"warning",text:n.Cannot_modify_the_outer_frame}):this.mindMap.emit("toast",{type:"warning",text:n.Cannot_add_an_outer_frame})}else this.mindMap.emit("toast",{type:"warning",text:n.Cannot_add_an_outer_frame})}}else this.mindMap.emit("toast",{type:"warning",text:n.Please_choose_a_topic_first})}},{key:"addBoundary",value:function(e,t){var n=this,i=[];(e=(0,d.formatDataToArray)(e)).forEach(function(e){var t=n.mindMap.renderer.getCacheTopic(e.parent).topicData;t.boundaries||(t.boundaries=[]),i.push(t),t.boundaries.push(e),n.mindMap.renderer.addTopicToList(e)}),i&&i.length>0&&this.mindMap.emit("outline-prebuild",{topics:i,insertChild:!0}),t||this.mindMap.emit("sendMessage","addBoundary",{content:(0,d.copyTopicsData)(e)}),this.mindMap.renderer.setNeedResetTopicList(e),this.mindMap.render()}},{key:"getUpdatedBoundaries",value:function(e,t,n,i){var o={},a={},s={};if(null!=i){for(var l in i){var c=this.mindMap.renderer.getTopicById(l),u=i[l];if(null!=u&&u.length>0)for(var p=0;p<u.length;p++){var h=u[p],m=(0,d.copyTopicData)(h);if(h.boundary)if(h.removed)if("delete"==n){for(var f=0;f<c.boundaries.length;f++)if(c.boundaries[f].id==h.id){m.removed=!0,s[m.id]=!0,c.boundaries.splice(f,1),J(m,m,c.id);break}var g=this.mindMap.renderer.getCacheTopic(m.id);this.mindMap.renderer.destroyRemoveTopicsInstance([g])}else{null==c.boundaries&&(c.boundaries=[]);var v=(0,d.copyTopicData)(m);delete v.removed,c.boundaries.push(v),this.mindMap.renderer.addTopicToList(v),s[h.id]=!0,J(m,m,c.id)}else for(var b=0;b<c.boundaries.length;b++){var y=c.boundaries[b],x=(0,d.copyTopicData)(y);y.id==h.id&&(y.range=h.range,this.mindMap.renderer.addTopicToList(y),s[y.id]=!0,J(m,x,c.id))}}}return{updates:o,original:a}}for(var w=[],k=0,_=e.length;k<_;k++){var C=e[k];(C.boundary||C.free)&&w.push(C.id)}for(var T=0,S=e.length;T<S;T++){var M=e[T],D=t[M.id],E=this.mindMap.renderer.getTopicById(M.parent);if(!(M.boundary||M.summary||M.free)&&null!=E&&E.boundaries&&E.boundaries.length>0)for(var A=E.boundaries,F=0,I=A.length;F<I;F++){var O=A[F];if(!(w.indexOf(O.id)>=0)){var L=K(O,D,n);if(null!=L)if(null==s[O.id])s[O.id]=L;else{var P=s[O.id].r1,B=s[O.id].r2;s[O.id].r1=P+L.r1,s[O.id].r2=B+L.r2}}}}if(!$.isEmptyObject(s))for(var N in s){var z=s[N],j=this.mindMap.renderer.getTopicById(N);if(null!=j){var R=this.mindMap.renderer.getTopicById(j.parent),G=(0,d.copyTopicData)(j);if("delete"==n){var H=r((0,d.getRange)(j.range),2),W=H[0],U=H[1];if((W+=z.r1)>(U+=z.r2)||W<0||U<0){G.removed=!0;for(var q=R.boundaries,V=q.length,Y=0;Y<V;Y++)if(q[Y].id==j.id){R.boundaries.splice(Y,1),J(G,G,R.id);break}var X=this.mindMap.renderer.getTopicById(G.id);this.mindMap.renderer.destroyRemoveTopicsInstance([X])}else Z.call(this,j,z),J(j,G,R.id)}else Z.call(this,j,z),J(j,G,R.id)}}return{updates:o,original:a};function J(e,t,n){null==o[n]&&(o[n]=[]),o[n].push((0,d.copyTopicData)(e)),null==a[n]&&(a[n]=[]),a[n].push((0,d.copyTopicData)(t))}function K(e,t,n){var i=r((0,d.getRange)(e.range),2),o=i[0],a=i[1],s=0,l=0;if("delete"==n)if(t<o)s=-1,l=-1;else{if(!(t>=o&&t<=a))return null;l=-1}else if(t<=o)s=1,l=1;else{if(!(t>o&&t<=a))return null;l=1}return{r1:s,r2:l}}function Z(e,t){var n=r((0,d.getRange)(e.range),2),i=n[0],o=n[1];e.range=i+t.r1+","+(o+t.r2),this.mindMap.renderer.addTopicToList(e)}}},{key:"cumputerBoundarySpace",value:function(e,t){var n=e.boundaries||[];if(n.length>0){var i=e.children,o={},a={},s={},l={},c="fishbone"===e.layout&&1===e.layoutIndex&&"down"===e.dir;n.forEach(function(e){var n=r((0,d.getRange)(e.getData("range")),2),u=n[0],p=n[1],h=i[u],m=i[p];c&&(h=i[p],m=i[u]);var f=(0,d.getTopicsInTopicList)(u,p,i);function g(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}"org"===t?(g(o,h.id,e.leftSpace),g(a,m.id,e.rightSpace),f.forEach(function(t){g(l,t.id,e.topSpace+e.remarkHeight),g(s,t.id,e.bottomSpace)})):(g(l,h.id,e.topSpace+e.remarkHeight),g(s,m.id,e.bottomSpace),f.forEach(function(t){g(o,t.id,e.leftSpace),g(a,t.id,e.rightSpace)}))}),i.forEach(function(e){l[e.id]&&(e.topSpace=Math.max.apply(Math,[e.topSpace].concat(h(l[e.id])))),s[e.id]&&(e.bottomSpace=Math.max.apply(Math,[e.bottomSpace].concat(h(s[e.id])))),o[e.id]&&(e.leftSpace=Math.max.apply(Math,[e.leftSpace].concat(h(o[e.id])))),a[e.id]&&(e.rightSpace=Math.max.apply(Math,[e.rightSpace].concat(h(a[e.id]))))})}}},{key:"renderBoundaryShape",value:function(e){if(e&&(0==this.renderer.filterTopicIds.length||this.renderer.filterTopicIds.includes(e.id))){var t=e.boundaries||[];0!==t.length&&(t.sort(function(e,t){var n=r((0,d.getRange)(e.getData("range")),2),i=n[0],o=n[1],a=r((0,d.getRange)(t.getData("range")),2),s=a[0],l=a[1];return o-i==l-s?i-s:l-s-(o-i)}),t.forEach(function(e){e.updates()}))}}},{key:"checkIsremoveOpGroup",value:function(e,t){(e||!t||t.length)&&this.removeOpGrout()}},{key:"removeOpGrout",value:function(){this.controlGroup&&(this.controlGroup.remove(),this._topic=null)}},{key:"getBoundariesPos",value:function(e){var t=this,n=this.mindMap.view.scale,i={x:(e.clientX-this.mindMap.view.x)/n,y:(e.clientY-this.mindMap.view.y)/n};this.removeOpGrout();var o=[];(0,d.walk)(this.mindMap.renderer.root,null,function(e){e.boundaries.length>0&&e.boundaries.forEach(function(e){-1!=t.pointerInBoundary(i,e)&&o.push(e)})});var a=o.length;if(a>0){for(var r=[[0],[0],[0],[0]],s=0,l=0,c=0,u=0,p=0;p<a;p++){var h=o[p].pos,m=Math.abs(i.x-h.minx),f=Math.abs(i.x-h.maxX),g=Math.abs(i.y-h.miny),v=Math.abs(i.y-h.maxY);0!=p?(g<l?(l=g,r[0]=[p]):g==l&&r[0].push(p),v<u?(u=v,r[1]=[p]):v==u&&r[1].push(p),m<s?(s=m,r[2]=[p]):m==s&&r[2].push(p),f<c?(c=f,r[3]=[p]):f==c&&r[3].push(p)):(s=m,l=g,c=f,u=v)}r=r.flat();var b=(0,d.getMaxLen)(r).item;null!=b&&(this._topic=this.mindMap.renderer.getCacheTopic(o[b].id),this.renderBoundaryOp(o[b]))}}},{key:"pointerInBoundary",value:function(e,t){var n=e.x,i=e.y,o=t.getLeft(),a=t.getTop()-t.remarkHeight,r=t.getRight(),s=t.getBottom();return n>=o&&n<=r&&i>=a&&i<=s?(t.pos={minx:o,miny:a,maxX:r,maxY:s},t):-1}},{key:"getGeneralizes",value:function(e){return e.boundaries||(e.boundaries=[]),e.boundaries}},{key:"updateBoundary",value:function(){var e=C(k().mark(function e(t,n,i){var o,a,r,s,l=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Array.isArray(t)?t:[t],a=Array.isArray(n)?n:[n],r=[],s=[],o.forEach(function(e,t){e=(0,d.copyTopicData)(e);var n=(0,d.copyTopicData)(a[t]),i=l.renderer.getTopicById(e.id);null!=e.style?i.style=e.style:delete i.style,e.range!=n.range&&(i.range=e.range),e.remarks!=n.remarks&&(e.remarks?i.remarks=e.remarks:delete i.remarks),r.push(e),s.push(n)}),this.mindMap.renderer.setNeedResetTopicList(o),e.next=5,this.mindMap.render();case 5:i||(this.mindMap.emit("sendMessage","updateBoundary",{content:r,original:s}),this.renderBoundaryOp(this._topic)),this.mindMap.emit("updateSummaryOp");case 7:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"update",value:function(e,t){this.mindMap.execCommand("UPDATE_BOUNDARY",e,t)}},{key:"renderBoundaryOp",value:function(e){if(this.removeOpGrout(),e&&e.boundary&&!this.mindMap.opt.readonly&&(0==this.renderer.filterTopicIds.length||this.renderer.filterTopicIds.includes(e.parent.id))){this._topic=e,"org"===e.layout?this.renderOpShape2(e):this.renderOpShape1(e);var t=this.getResizeBoundaryPos(e),n=t.left,i=t.right,o=t.top,a=this.controlGroup.group();a.transform({translateX:i-10,translateY:o-10}),a.add(this.renderBoundaryDot(e));var r=this.controlGroup.group(),s=this.renderBoundaryMark(e);s&&(r.add(s),r.transform({translateX:n+10,translateY:o-16}))}}},{key:"renderOp",value:function(e){this.renderBoundaryOp(e)}},{key:"getTopics",value:function(e){return e.boundaries||[]}},{key:"getResizeBoundaryPos",value:function(e){return{left:e.getLeft()-2,right:e.getRight()+2,top:e.getTop()-2-e.remarkHeight,bottom:e.getBottom()+2}}},{key:"renderBoundaryDot",value:function(e){var t=this;if(this.controlGroup){var n=(new l.SVG).size(16,16);n.circle(16).fill("#ffffff"),n.circle(14).fill(this.mindMap.opt.selectedColor).transform({tx:1,ty:1});var i=n.group().transform({tx:1,ty:1}),o=(0,l.SVG)('<svg t="1718590209755" width= "'.concat(14,'" height="',14,'" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="88178" width="200" height="200">\n\t\t\t\t<path d="M263.459391 437.252599c-40.090067 0-72.590272 32.601512-72.590272 72.817446 0 40.216957 32.500205 72.817446 72.590272 72.817446s72.591295-32.600489 72.591295-72.817446C336.049662 469.855134 303.549457 437.252599 263.459391 437.252599zM510.267543 437.252599c-40.090067 0-72.591295 32.601512-72.591295 72.817446 0 40.216957 32.500205 72.817446 72.591295 72.817446s72.591295-32.600489 72.591295-72.817446C582.858838 469.855134 550.35761 437.252599 510.267543 437.252599zM757.076718 437.252599c-40.092114 0-72.592318 32.600489-72.592318 72.817446 0 40.216957 32.500205 72.817446 72.592318 72.817446 40.090067 0 72.591295-32.600489 72.591295-72.817446C829.66699 469.853088 797.166785 437.252599 757.076718 437.252599z" p-id="88179"></path></svg>'));return o.css({color:"#fff"}),i.add(o),i.attr("id","boundary-dot-".concat(e.id)),n.on("mouseover",function(i){n.css({cursor:"pointer"}),t.mindMap.emit("boundaryDotMouseover",i,e)}),n.on("mouseout",function(i){n.css({cursor:"auto"}),t.mindMap.emit("boundaryDotMouseout",i,e)}),n.on("mousedown",function(n){n.stopPropagation(),t.mindMap.emit("boundaryDotMousedown",n,e)}),n}}},{key:"renderBoundaryMark",value:function(e){if(e.getData("remarks"))return null;var t=(new l.SVG).size(16,16);t.path((0,d.createRectPath)({left:0,top:0,right:16,bottom:16},2)).fill(this.mindMap.opt.selectedColor);var n=t.group().transform({tx:2,ty:2}),i=(0,l.SVG)('<svg t="1718696199816" width= "'.concat(12,'" height="',12,'" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="119107" width="200" height="200"><path d="M120.106667 466.773333m32 0l719.786666 0q32 0 32 32l0 0q0 32-32 32l-719.786666 0q-32 0-32-32l0 0q0-32 32-32Z" p-id="119108"></path><path d="M480 106.88m32 0l0 0q32 0 32 32l0 719.786667q0 32-32 32l0 0q-32 0-32-32l0-719.786667q0-32 32-32Z" p-id="119109"></path></svg>'));return i.css({color:"#fff"}),n.add(i),t.on("mouseover",function(){t.css({cursor:"pointer"})}),t.on("mouseout",function(){t.css({cursor:"auto"})}),t.on("mousedown",function(e){e.stopPropagation()}),t.on("mouseup",function(t){t.stopPropagation(),e.editorBoundaryMark()}),t}},{key:"recordBoundaryDefaultStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.defaultStyle=m(m({},this.defaultStyle),e)}}]),o}();i.Boundary=f,f.instanceName="boundary"},99365:function(e,t,n){n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.BoundaryNode=void 0,n(27531),n(61894),n(24932),n(65534),n(65528),n(82403),n(38887),n(6284),n(47958),n(69268),n(84889),n(19268),n(14237);var o=i(n(66603)),a=n(59081),s=n(15240);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.BoundaryNode=function(){function e(){T(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.renderer=t.renderer,this.generalizeLineDraw=this.mindMap.generalizeLineDraw,this.id=null,this.parent=null,this.childrenChunkFullHeight=0,this.childrenChunkFullWidth=0,this.children=[],this.width=0,this.height=0,this.part=null,this.range="",this.leftSpace=0,this.rightSpace=0,this.topSpace=0,this.bottomSpace=0,this.orientation=null,this.boundary=!0,this.layout=null,this.defaultBoundarySpace=this.mindMap.opt.defaultBoundarySpace||10,this.boundaryData=this.handleData(t.data||{}),this.markNode=null,this.remarkHeight=0,this.remarkSpace=20,this.remarkTextPadding=3,this.bindEvent()}return M(e,[{key:"handleData",value:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"getData",value:function(e){return e?this.boundaryData[e]:this.boundaryData}},{key:"getStyle",value:function(){var e=c(c({},(this.mindMap.themeConfig||{}).boundaryStyle||{}),this.getData("style")||{});return e.lineWidth&&(e.lineWidth=parseInt(e.lineWidth)),e}},{key:"getPureData",value:function(){return(0,s.copyTopicData)(this.getData())}},{key:"bindEvent",value:function(){}},{key:"unBindEvent",value:function(){}},{key:"updates",value:function(){this.drawBoundaryLine()}},{key:"getBoundStyle",value:function(){var e={lineColor:"#bf1e1b",lineWidth:2,lineType:2,dasharray:"6,3",fill:"#50C28B",opacity:.1},t=this.mindMap.themeConfig,n=this.mindMap.renderer.mindTree.theme,i=t.centerTopic||{},o=i.backgroundColor||i.background;o&&"transparent"!==o||(o=i["border-color"]&&"transparent"!=i["border-color"]?i["border-color"]:(this.renderer.root||this.renderer.mindTree._topic).style.get3AColor());var a=this.renderer.getBackgroundColor();("transparent"===a||a.includes("url")||(0,s.areColorsSimilar)(o,a))&&(o=e.fill);var r={},l=o;return"jianbihua_1"!=n&&"jianbihua"!=n||(l="#333333"),"black_and_white1"!=n&&"jianbihua_1"!=n&&"jianbihua"!=n&&"paper"!=n&&"paper_1"!=n||(r.opacity="0.05"),r.lineColor=r.fill=l,r=c(c(c({},e),r),this.getStyle())}},{key:"getBoundaryD",value:function(e){var t=[],n=e.type,i=e.part,o=e.layout,a=e.minx,l=e.miny,c=e.maxX,d=e.maxY;null==n&&(n="1"),"fishbone"!==o&&"org"!=o&&"treeOrg"!=o||4!=n||(n="1");var u=this;switch(n+=""){case"1":default:t.push(" M "+a+" "+l),t.push(" L "+c+" "+l),t.push(" L "+c+" "+d),t.push(" L "+a+" "+d),t.push(" L "+a+" "+l);break;case"2":var p=a+10,h=c-10;t.push(" M "+a+" "+(l+10)),t.push(" C "+a+" "+(l+10)+" "+a+" "+l+" "+p+" "+l),t.push(" L "+h+" "+l),t.push(" C "+h+" "+l+" "+c+" "+l+" "+c+" "+(l+10)),t.push(" L "+c+" "+(d-10)),t.push(" C "+c+" "+(d-10)+" "+c+" "+d+" "+h+" "+d),t.push(" L "+p+" "+d),t.push(" C "+p+" "+d+" "+a+" "+d+" "+a+" "+(d-10)),t.push(" L "+a+" "+(l+10));break;case"3":t.push(" M "+a+" "+l),t.push(g(a,c,l,"hori")),t.push(g(l,d,c,"vert")),t.push(g(a,c,d,"hori_back")),t.push(g(l,d,a,"vert_back")),t.push(" L "+a+" "+l);break;case"4":var m=i&&i.indexOf("right")>-1?c:a;v(t,n,"min",{x:m,y:l}),t.push(" L "+m+" "+l),t.push(" L "+m+" "+d),v(t,n,"max",{x:m,y:d});var f=t[0].replace(" M "," L ");t.push(f);case"5":}return t;function g(e,t,n,i){var o=[],a=15,r=Math.abs(Math.floor((t-e)/a));a+=(t-e-r*a)/r;for(var s=0;s<r;s++){var l=s*a;if(i.indexOf("vert")>-1){var c=n,d=i.indexOf("back")>-1?n-6:n+6,u=i.indexOf("back")>-1?t-l:e+l,p=i.indexOf("back")>-1?t-(s+1)*a:e+(s+1)*a,h=i.indexOf("back")>-1?u-a/2:u+a/2;p=p>t?t:p<e?e:p,o.push(" C "+c+" "+u+" "+d+" "+h+" "+c+" "+p)}else if(i.indexOf("hori")>-1){var m=i.indexOf("back")>-1?t-l:e+l,f=i.indexOf("back")>-1?t-(s+1)*a:e+(s+1)*a,g=i.indexOf("back")>-1?m-a/2:m+a/2,v=n,b=i.indexOf("back")>-1?n+6:n-6;f=f>t?t:f<e?e:f,o.push(" C "+m+" "+v+" "+g+" "+b+" "+f+" "+v)}}return o.join("")}function v(e,t,n,i){var o=u.parent.children,a=r((0,s.getRange)(u.getData("range")),2),l=a[0],c=a[1],d=o[l],p=o[c],h=[],m=[];function f(e,t){var i=function(e,t){var n;return n="max"==t?e.top+e.height+u.defaultBoundarySpace:e.top-u.defaultBoundarySpace,{x:"left"==e.part?e.left+e.width+u.defaultBoundarySpace:e.left-u.defaultBoundarySpace,y:n}}(e,n);-1==m.indexOf(i.y)&&(h.push(i),m.push(i.y));var o=e.children;o.length>0&&!e.collapsed&&f("top"===t?o[0]:o[o.length-1],t);var a=e.summaries;if(a.length>0){"min"===n?f(a.reduce(function(e,t){return t.getTop()<e.getTop()?t:e},a[0]),t):f(a.reduce(function(e,t){return t.getBottom()>e.getBottom()?t:e},a[0]),t)}}"min"==n?f(d,"top"):f(p,"bottom");var g=[];!function e(t){for(var o=h.length,a=[h[t],i],r=t;r<o;r++){var s=h[r];y(s,a,n)||-1==h.indexOf(s)||-1==g.indexOf(s)&&g.push(s)}t<o-1&&e(++t)}(0);for(var v=h.concat([]),x=0;x<g.length;x++){var w=g[x],k=v.indexOf(w);k>-1&&v.splice(k,1)}for(var _=v.concat([]),C=1,T=v.length;C<T&&C!=T-1;C++){var S=[v[C-1],v[C+1]],M=v[C];if(!y(M,S,n)){var D=_.indexOf(M);-1!=D&&_.splice(D,1)}}"max"==n&&_.reverse();for(var E=0;E<_.length;E++){var A=_[E];0!=E||"min"!=n?b(A,e,t):b(A,e,t,0)}}function b(e,t,n,i){return 0==i?(t.push(" M "+e.x+" "+e.y),t):(4==n?t.push(" L "+e.x+" "+e.y):5==n&&(t.push(" L "+(e.x-10)+" "+e.y),t.push(" C "+e.x+" "+e.y)),t)}function y(e,t,n){(t=t.slice()).push(t[0]);var o=t[0],a=t[1],r=a.x-o.x,s=(a.y-o.y)/r*(e.x-o.x)+o.y;if(e.x==o.x&&e.y==o.y||e.x==a.x&&e.y==a.y)return!0;if("left"==i){if("max"==n){if(r<0&&e.y<s)return!1}else if(r<0&&e.y>s)return!1;return!0}if("max"==n){if(r>0&&e.y<s)return!1}else if(r>0&&e.y>s)return!1;return!0}}},{key:"reset",value:function(){this.leftSpace=0,this.rightSpace=0,this.topSpace=0,this.bottomSpace=0,this.orientation=null,this.width=0,this.height=0}},{key:"setBoundarySpace",value:function(){var e=this,t=this.parent,n=t.boundaries||[],i=this.defaultBoundarySpace,o="fishbone"===t.layout&&1===t.layoutIndex&&"down"===t.dir,a=0,l=0,c=0,d=0,u=r((0,s.getRange)(this.getData("range")),2),p=u[0],h=u[1];n.length>1&&p!=h&&n.forEach(function(t){if(t.id!==e.id){var n=r((0,s.getRange)(t.getData("range")),2),i=n[0],u=n[1];(p<=i&&h>=u||p<=u&&h>=u)&&function(e,t,n,i){if("vertical"===t.orientation){if("down"===t.dir){c=Math.max(c,e.topSpace+e.remarkHeight);var r=e.childrenChunkFullHeight+e.bottomSpace-t.childrenChunkFullHeight;r>0&&(d=r)}else{d=Math.max(d,e.bottomSpace);var s=e.childrenChunkFullHeight+e.topSpace+e.remarkHeight-t.childrenChunkFullHeight;s>0&&(c=s)}p===n?a=Math.max(a,e.leftSpace):h===i&&(l=Math.max(l,e.rightSpace))}else{if("right"===t.part){a=Math.max(a,e.leftSpace);var u=e.childrenChunkFullWidth+e.rightSpace-t.childrenChunkFullWidth;u>0&&(l=u)}else{l=Math.max(l,e.rightSpace);var m=e.childrenChunkFullWidth+e.leftSpace-t.childrenChunkFullWidth;m>0&&(a=m)}p===n?o?d=Math.max(d,e.bottomSpace):c=Math.max(c,e.topSpace+e.remarkHeight):h===i&&(o?c=Math.max(c,e.topSpace+e.remarkHeight):d=Math.max(d,e.bottomSpace))}}(t,e,i,u)}}),this.leftSpace=a+i,this.rightSpace=l+i,this.topSpace=c+i,this.bottomSpace=d+i,this.markNode=this.createBoundaryMark()}},{key:"setBoundaryRank",value:function(){}},{key:"drawBoundaryLine",value:function(){if(this._boundaryLinesGroup?this._boundaryLinesGroup.clear():this._boundaryLinesGroup=this.generalizeLineDraw.group().attr("boundary",this.id),this.renderBoundaryShape(),this.markNode){this.boundaryMarkStyle();var e=this.getBoundStyle().lineWidth,t=this.markNode.bbox().height;this.markNode.transform({translateX:this.getLeft()+10,translateY:this.getTop()-t-e}),this._boundaryLinesGroup.add(this.markNode)}}},{key:"renderBoundaryShape",value:function(){var e=this.getBoundStyle(),t=e.lineType,n=e.lineWidth,i={type:t,layout:this.layout,part:this.part,minx:this.getLeft()-n/2,miny:this.getTop()-n/2,maxX:this.getRight()+n/2,maxY:this.getBottom()+n/2},o=this.getBoundaryD(i),a=this._boundaryLinesGroup.path(o.join(""));this.boundaryLineStyle(a)}},{key:"boundaryLineStyle",value:function(e){var t=this.getBoundStyle();e.stroke({color:t.lineColor,width:t.lineWidth,dasharray:t.dasharray}).fill({color:t.fill,opacity:t.opacity})}},{key:"createBoundaryMark",value:function(){var e=this;if(this.getData("remarks")&&""!==this.getData("remarks").content&&this.mindMap.opt.showBoundaryMark){var t=new a.G,n=this.getRight()-this.getLeft()-this.remarkSpace-2*this.remarkTextPadding,i=this.getData("remarks").content.replace(/&nbsp;/g," "),o=(0,s.createTextWithTspan)(this.mindMap.otherDraw,(0,s.restoreXss)(i),n,{"font-size":"12px"});o.x(this.remarkTextPadding).y(this.remarkTextPadding).css({width:100,"white-space":"pre"});var r=o.bbox(),l=r.height,c=r.width,d=(new a.Rect).size(c+2*this.remarkTextPadding,l+2*this.remarkTextPadding).rx(2).ry(2);return t.add(d).add(o),this.remarkHeight=t.bbox().height,t.on("mousedown",function(t){t.stopPropagation(),e.mindMap.emit("boundarySelected",e)}),t.on("dblclick",function(t){t.stopPropagation(),e.editorBoundaryMark(t)}),t}this.remarkHeight=0}},{key:"boundaryMarkStyle",value:function(){var e=this.getBoundStyle(),t=e.lineColor,n=e.fill,i=t&&"transparent"!=t?t:n&&"transparent"!=n?n:this.renderer.getBackgroundColor(),o=this.markNode.findOne("text");this.markNode.findOne("rect").fill(i),o.fill((0,s.getColorBasedOnBackground)(i))}},{key:"editorBoundaryMark",value:function(){var e,t=this,n=this.getBoundStyle(),i=n.lineColor,o=n.fill,r=i&&"transparent"!=i?i:o&&"transparent"!=o?o:this.renderer.getBackgroundColor(),l=new a.ForeignObject,c=this.getRight()-this.getLeft()-this.remarkSpace,d=this.remarkHeight||this.remarkSpace,u=(null===(e=this.getData("remarks"))||void 0===e?void 0:e.content)||"",p=document.createElement("DIV");function h(){var e=p.getBoundingClientRect(),t=e.width,n=e.height;l.width(t),l.height(n)}p.setAttribute("contenteditable",!0),p.setAttribute("spellcheck",!1),p.innerHTML=u||"123",p.style.width=c+"px",p.style.minHeight=d+"px",p.style.background=r,p.style.borderRadius="3px",p.style.padding="".concat(this.remarkTextPadding,"px"),p.style.boxSizing="border-box",p.style.color=(0,s.getColorBasedOnBackground)(r),p.style.fontSize="12px",p.style.setProperty("-webkit-user-select","text","important"),p.style.setProperty("user-select","text","important"),l.x(this.getLeft()+10).y(this.getTop()-d).fill(r),l.add(p),this.mindMap.otherDraw.add(l),p.focus(),p.innerHTML=u,(0,s.setCursorEnd)(p),h(),p.addEventListener("mousedown",function(e){e.stopPropagation()}),p.addEventListener("keydown",function(e){e.stopPropagation();var t=p.innerHTML;if((e.altKey||e.shiftKey)&&"<br>"!==t.substring(t.length-4,t.length)&&(p.innerHTML+="<br>",(0,s.setCursorEnd)(p)),(e.altKey||e.shiftKey)&&13==e.keyCode){e.preventDefault(),(0,s.setBrNode)(p);var n=new Event("input",{bubbles:!0});p.dispatchEvent(n)}else e.altKey||e.shiftKey||13!=e.keyCode||p.blur()}),p.addEventListener("input",function(){h()}),p.addEventListener("blur",function(){var e=t.getPureData(),n=t.getData(),i=p.innerHTML;n.remarks||""!=$.trim(i)&&"<br>"!=$.trim(i)?n.remarks&&i==n.remarks.content?l.remove():(!n.remarks||""!=$.trim(i)&&"<br>"!=$.trim(i)?n.remarks={content:i.replace(/\n/g,"<br>")}:delete n.remarks,l.remove(),t.mindMap.emit("updateBoundary",n,e)):l.remove()})}},{key:"checkChange",value:function(){}},{key:"getSize",value:function(){}},{key:"destroy",value:function(){this._boundaryLinesGroup&&(this._boundaryLinesGroup.remove(),this._boundaryLinesGroup=null)}},{key:"getTop",value:function(){var e=this.parent.children||[],t=r((0,s.getRange)(this.getData("range")),2),n=t[0],i=t[1];return(0,s.getTopicsInTopicList)(n,i,e).reduce(function(e,t){return Math.min(e,t.getTop())},1/0)-this.topSpace}},{key:"getRight",value:function(){var e=this.parent.children||[],t=r((0,s.getRange)(this.getData("range")),2),n=t[0],i=t[1];return(0,s.getTopicsInTopicList)(n,i,e).reduce(function(e,t){return Math.max(e,t.getRight())},-1/0)+this.rightSpace}},{key:"getLeft",value:function(){var e=this.parent.children||[],t=r((0,s.getRange)(this.getData("range")),2),n=t[0],i=t[1];return(0,s.getTopicsInTopicList)(n,i,e).reduce(function(e,t){return Math.min(e,t.getLeft())},1/0)-this.leftSpace}},{key:"getBottom",value:function(){var e=this.parent.children||[],t=r((0,s.getRange)(this.getData("range")),2),n=t[0],i=t[1];return(0,s.getTopicsInTopicList)(n,i,e).reduce(function(e,t){return Math.max(e,t.getBottom())},-1/0)+this.bottomSpace}}]),e}()},31621:function(e,i,o){o(58500);var a=o(9712);Object.defineProperty(i,"__esModule",{value:!0}),i.Summary=void 0;var s=a(o(66603));o(61894),o(24932),o(4790),o(69268),o(84889),o(19268),o(14237);var l=o(49602),c=o(59081),d=o(15240),u=a(o(32483));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e){t(o,l.Base);var i=n(o);function o(){var e;return T(this,o),(e=i.call(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})).generalizeLineDraw=e.mindMap.generalizeLineDraw,e._topic=null,e.defaultStyle={},e.currentStyle=null,e.registerShortcutKeys(),e.bindEvent(),e}return M(o,[{key:"bindEvent",value:function(){this.drawSummaryLine=this.drawSummaryLine.bind(this),this.mindMap.on("drawSummaryLine",this.drawSummaryLine),this.updateSummaries=this.updateSummaries.bind(this),this.renderSummaryOp=this.renderSummaryOp.bind(this),this.updateSummaryOp=this.updateSummaryOp.bind(this),this.mindMap.on("topic_selected",this.renderSummaryOp),this.mindMap.on("rendered",this.updateSummaryOp),this.onMousemove=this.onMousemove.bind(this),this.mindMap.on("mousemove",this.onMousemove),this.onMouseup=this.onMouseup.bind(this),this.mindMap.on("mouseup",this.onMouseup),this.getUpdatedSummaries=this.getUpdatedSummaries.bind(this),this.mindMap.on("getUpdatedSummaries",this.getUpdatedSummaries),this.insertSummary=this.insertSummary.bind(this),this.mindMap.on("addSummaries",this.insertSummary),this.mindMap.on("recordSummaryDefaultStyle",this.recordSummaryDefaultStyle.bind(this))}},{key:"registerShortcutKeys",value:function(){this.mindMap.command.add("INSERT_SUMMARY",this.insertSummary.bind(this)),this.mindMap.command.add("ADD_SUMMARY",this.addSummary.bind(this)),this.mindMap.command.add("UPDATE_SUMMARY",this.updateSummary.bind(this))}},{key:"unBindEvent",value:function(){this.mindMap.off("drawSummaryLine",this.drawSummaryLine),this.mindMap.off("topic_selected",this.renderSummaryOp),this.mindMap.off("mousemove",this.onMousemove),this.mindMap.off("mouseup",this.onMouseup),this.mindMap.off("getUpdatedSummaries",this.getUpdatedSummaries)}},{key:"drawSummaryLine",value:function(e){e&&(e._summaryLinesGroup||(e._summaryLinesGroup=this.generalizeLineDraw.group(),e._summaryLinesGroup.attr("summary",e.id)),this.renderSummariesShape(e,e._summaryLinesGroup))}},{key:"renderSummariesShape",value:function(e,t){var n=e.getStyle("summaryLineType")||"curve_complex",i=e.top+e.height/2,o=e.left+e.width/2,a={type:n,middleY:i,x:e.left,x1:e.left+e.fullWidth,minY:i-e.chunkFullHeight/2,maxY:i+e.chunkFullHeight/2,middleX:o,y:e.top,y1:e.top+e.fullHeight,minX:o-e.chunkFullWidth/2,maxX:o+e.chunkFullWidth/2};"left"===e.part&&(a.x=e.left+e.width),"up"===e.dir&&(a.y=e.top+e.height);var r="org"===e.layout?this.getOrgSummaryD(e,a):this.getLogicSummaryD(e,a);t.clear();var s=t.path(this.transformPath(r.join("")));this.summaryLineStyle(e,s)}},{key:"summaryLineStyle",value:function(e,t){var n={summaryLineColor:"#bf1e1b",summaryLineWidth:"1",summaryLineType:"curve_complex"},i=this.mindMap.themeConfig.centerTopic||{},o=i.backgroundColor||i.background;o&&"transparent"!==o||(o=i["border-color"]&&"transparent"!=i["border-color"]?i["border-color"]:this.renderer.root.style.get3AColor()),o&&(n.summaryLineColor=o),t.stroke({width:e.getStyle("summaryLineWidth")||n.summaryLineWidth,color:e.getStyle("summaryLineColor")||n.summaryLineColor}).fill("none")}},{key:"updateSummaries",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logic",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=e.summaries||[];if(o.length>0){var a=e.children,s=0,l=0,c=0,u=0,p=(this.mindMap.opt||20).defaultSummaryMargin,m={},f={},g={},v={},b="fishbone"===e.layout&&1===e.layoutIndex&&"down"===e.dir;o.forEach(function(e){var o=r((0,d.getRange)(e.getData("range")),2),h=o[0],y=o[1],x=(0,d.getTopicsInTopicList)(h,y,a);s="org"===t?x.reduce(function(e,t){return Math.max(e,t.fullHeight)},0):x.reduce(function(e,t){return 0!=e&&(e+=i),e+t.fullHeight},0),l="org"===t?x.reduce(function(e,t){return 0!=e&&(e+=n),e+t.fullWidth},0):x.reduce(function(e,t){return Math.max(e,t.fullWidth)},0);var w=a[h],k=a[y];if(b&&(w=a[y],k=a[h]),"org"===t){var _,C,T=l/2;C=e.topicLeftHalfWidth+e.horizontalPointPosition()+e.leftSpace,_=e.getRightHalfWidth(e.horizontalPointPosition())+e.rightSpace,c=Math.max(0,C-T),u=Math.max(0,_-T),F(g,w.id,c),F(v,k.id,u),"down"===e.dir?x.forEach(function(t){F(f,t.id,e.fullHeight+p)}):x.forEach(function(t){F(m,t.id,e.fullHeight+p)})}else{var S,M,D=s/2;M=e.topicTopHalfHeight+e.height/2+e.topSpace,S=e.getBottomHalfHeight(e.height/2)+e.bottomSpace;var E=Math.max(0,M-D),A=Math.max(0,S-D);F(m,w.id,E),F(f,k.id,A),"right"===e.part?x.forEach(function(t){F(v,t.id,e.fullWidth+p)}):x.forEach(function(t){F(g,t.id,e.fullWidth+p)})}function F(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}}),a.forEach(function(e){m[e.id]&&(e.topSpace=Math.max.apply(Math,[e.topSpace].concat(h(m[e.id])))),f[e.id]&&(e.bottomSpace=Math.max.apply(Math,[e.bottomSpace].concat(h(f[e.id])))),g[e.id]&&(e.leftSpace=Math.max.apply(Math,[e.leftSpace].concat(h(g[e.id])))),v[e.id]&&(e.rightSpace=Math.max.apply(Math,[e.rightSpace].concat(h(v[e.id]))))})}}},{key:"getLogicSummaryD",value:function(e,t){var n,i=[],o=t.type,a=t.x,r=t.maxY,s=t.minY,l=0,c=0,d=0,u=this.mindMap.opt,p=u.defaultSummarySpace,h=u.defaultSummaryMargin,m=(h-p)/2;l=a-p-m,c=a-m,n=(s+r)/2,d=a-h/2,"left"===e.part&&(c=a+m,l=a+p+m,d=a+h/2);var f=6;switch(o){case"straight":i.push(" M "+l+" "+s),i.push(" L "+c+" "+n),i.push(" L "+l+" "+r);break;case"curve":f=6,"left"==e.part&&(f=-6),i.push(" M "+l+" "+s),i.push(" Q "+a+" "+n+" "+l+" "+r),i.push(" M "+c+" "+n),i.push(" L "+(c-f)+" "+n);break;case"broken":f=12,"left"==e.part&&(f=-12),i.push(" M "+l+" "+s),i.push(" L "+(l+f)+" "+s),i.push(" L "+(l+f)+" "+n),i.push(" L "+c+" "+n),i.push(" L "+(l+f)+" "+n),i.push(" L "+(l+f)+" "+r),i.push(" L "+l+" "+r);break;case"curve_complex":var g=2,v=4;r-s<=40&&(g=5,v=2.6);var b=l+g,y=l+v+g,x=d+v;"left"===e.part&&(b=l-g,y=l-v-g,x=d-v),i.push("M ".concat(l," ").concat(s)),i.push("L ".concat(b," ").concat(s)),i.push("C ".concat(y," ").concat(s," ").concat(d," ").concat(s+v," ").concat(d," ").concat(s+2*v)),i.push("L ".concat(d," ").concat(n-2*v)),i.push("C ".concat(d," ").concat(n-v," ").concat(x," ").concat(n," ").concat(c," ").concat(n)),i.push("M ".concat(l," ").concat(r)),i.push("L ".concat(b," ").concat(r)),i.push("C ".concat(y," ").concat(r," ").concat(d," ").concat(r-v," ").concat(d," ").concat(r-2*v)),i.push("L ".concat(d," ").concat(n+2*v)),i.push("C ".concat(d," ").concat(n+v," ").concat(x," ").concat(n," ").concat(c," ").concat(n))}return i}},{key:"getOrgSummaryD",value:function(e,t){var n,i=[],o=t.type,a=t.y,r=t.maxX,s=t.minX,l=0,c=0,d=0,u=this.mindMap.opt,p=u.defaultSummarySpace,h=u.defaultSummaryMargin,m=(h-p)/2;l=a-p-m,c=a-m,d=a-h/2,n=(s+r)/2,"up"===e.dir&&(c=a+m,l=a+p+m,d=a+h/2);var f=6;switch(o){case"straight":i.push(" M "+s+" "+l),i.push(" L "+n+" "+c),i.push(" L "+r+" "+l);break;case"curve":f=6,"up"==e.dir&&(f=-6),i.push(" M "+s+" "+l),i.push(" Q "+n+" "+a+" "+r+" "+l),i.push(" M "+n+" "+c),i.push(" L "+n+" "+(c-f));break;case"broken":f=12,"up"==e.dir&&(f=-12),i.push(" M "+s+" "+l),i.push(" L "+s+" "+(l+f)),i.push(" L "+n+" "+(l+f)),i.push(" L "+n+" "+c),i.push(" L "+n+" "+(l+f)),i.push(" L "+r+" "+(l+f)),i.push(" L "+r+" "+l);break;case"curve_complex":var g=2,v=4;r-s<=40&&(g=5,v=2.6);var b=l+g,y=l+v+g,x=d+v;"up"==e.dir&&(b=l-g,y=l-v-g,x=d-v),i.push("M ".concat(s," ").concat(l)),i.push("L ".concat(s," ").concat(b)),i.push("C ".concat(s," ").concat(y," ").concat(s+v," ").concat(d," ").concat(s+2*v," ").concat(d)),i.push("L ".concat(n-2*v," ").concat(d)),i.push("C ".concat(n-v," ").concat(d," ").concat(n," ").concat(x," ").concat(n," ").concat(c)),i.push("M ".concat(r," ").concat(l)),i.push("L ".concat(r," ").concat(b)),i.push("C ".concat(r," ").concat(y," ").concat(r-v," ").concat(d," ").concat(r-2*v," ").concat(d)),i.push("L ".concat(n+2*v," ").concat(d)),i.push("C ".concat(n+v," ").concat(d," ").concat(n," ").concat(x," ").concat(n," ").concat(c))}return i}},{key:"createNewSummary",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.mindMap.opt.defaultInsertSummaryText||u.default.t("js.Summary_on"),n={children:[],id:(0,d.createId)(),title:t,summary:!0},i=m(m({},e),n);return(0,d.isEmptyObject)(this.defaultStyle)||(i.style=this.defaultStyle),i}},{key:"insertSummary",value:function(){var e=this,t=this.mindMap.renderer.selectedTopicList,n=this.mindMap.opt.toast||{};if(t&&0!=t.length){if(!(this.mindMap.renderer.getSelectedIds().join(",").indexOf("root")>=0)){var i=(0,d.getChunks)(this.mindMap,t,"summary"),o=i.length;if(0!=o){var a=0,r=[];i.forEach(function(t){var n=e.mindMap.renderer.getCacheTopic(t.parent).topicData,i=n.summaries||[];if("fishbone"!==n.layout&&"timeline"!==n.layout||0!==n.layoutIndex){var o,s=!1,l=v(i);try{for(l.s();!(o=l.n()).done;){if(o.value.range==t.range){s=!0;break}}}catch(d){l.e(d)}finally{l.f()}if(!s){var c=e.createNewSummary(t);r.push(c)}}else a++}),a!=o?0!=r.length?this.mindMap.execCommand("ADD_SUMMARY",r,!0):this.mindMap.emit("toast",{type:"warning",text:n.The_same_profile_already_exists}):this.mindMap.emit("toast",{type:"warning",text:n.The_current_location})}else this.mindMap.emit("toast",{type:"warning",text:n.The_current_location})}}else this.mindMap.emit("toast",{type:"warning",text:n.Please_choose_a_topic_first})}},{key:"addSummary",value:function(){var e=C(k().mark(function e(t,n,i){var o,a,r=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],(t=(0,d.formatDataToArray)(t)).forEach(function(e){var t=r.renderer.getTopicById(e.parent);t.summaries||(t.summaries=[]),o.push(t),t.summaries.push(e),n&&(e.isSelected=!0),r.mindMap.renderer.addTopicToList(e)}),o&&o.length>0&&this.mindMap.emit("outline-prebuild",{topics:o,insertChild:!0}),i||this.mindMap.emit("sendMessage","addSummary",{content:(0,d.copyTopicsData)(t)}),n&&this.mindMap.renderer.clearSelectedTopic(),this.mindMap.renderer.setNeedResetTopicList(t),e.next=8,this.mindMap.render();case 8:if(i){e.next=11;break}a=null,1===t.length&&(a=this.renderer.getCacheTopic(t[0].id)),this.renderer.emitTopicSelectEvent(a);case 11:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"getUpdatedSummaries",value:function(e,t,n,i){var o={},a={},s={};if(null!=i){for(var l in i){var c=this.mindMap.renderer.getTopicById(l),u=i[l];if(null!=u&&u.length>0)for(var p=0;p<u.length;p++){var h=u[p],m=(0,d.copyTopicData)(h);if(h.summary)if(h.removed)if("delete"==n){for(var f=0;f<c.summaries.length;f++)if(c.summaries[f].id==h.id){m.removed=!0,s[m.id]=!0,c.summaries.splice(f,1),J(m,m,c.id);break}var g=this.mindMap.renderer.getTopicById(m.id);this.mindMap.renderer.destroyRemoveTopicsInstance([g])}else{null==c.summaries&&(c.summaries=[]);var v=(0,d.copyTopicData)(m);delete v.removed,c.summaries.push(v),this.mindMap.renderer.addTopicToList(v),s[h.id]=!0,J(m,m,c.id)}else for(var b=0;b<c.summaries.length;b++){var y=c.summaries[b],x=(0,d.copyTopicData)(y);y.id==h.id&&(y.range=h.range,this.mindMap.renderer.addTopicToList(y),s[y.id]=!0,J(m,x,c.id))}}}return{updates:o,original:a}}for(var w=[],k=0,_=e.length;k<_;k++){var C=e[k];(C.summary||C.free)&&w.push(C.id)}for(var T=0,S=e.length;T<S;T++){var M=e[T],D=t[M.id],E=this.mindMap.renderer.getTopicById(M.parent);if(!(M.boundary||M.summary||M.free)&&null!=E&&E.summaries&&E.summaries.length>0)for(var A=E.summaries,F=0,I=A.length;F<I;F++){var O=A[F];if(!(w.indexOf(O.id)>=0)){var L=K(O,D,n);if(null!=L)if(null==s[O.id])s[O.id]=L;else{var P=s[O.id].r1,B=s[O.id].r2;s[O.id].r1=P+L.r1,s[O.id].r2=B+L.r2}}}}if(!$.isEmptyObject(s))for(var N in s){var z=s[N],j=this.mindMap.renderer.getTopicById(N);if(null!=j){var R=this.mindMap.renderer.getTopicById(j.parent),G=(0,d.copyTopicData)(j);if("delete"==n){var H=r((0,d.getRange)(j.range),2),W=H[0],U=H[1];if((W+=z.r1)>(U+=z.r2)||W<0||U<0){G.removed=!0;for(var q=R.summaries,V=q.length,Y=0;Y<V;Y++)if(q[Y].id==j.id){R.summaries.splice(Y,1),J(G,G,R.id);break}var X=this.mindMap.renderer.getTopicById(G.id);this.mindMap.renderer.destroyRemoveTopicsInstance([X])}else Z.call(this,j,z),J(j,G,R.id)}else Z.call(this,j,z),J(j,G,R.id)}}return{updates:o,original:a};function J(e,t,n){null==o[n]&&(o[n]=[]),o[n].push((0,d.copyTopicData)(e)),null==a[n]&&(a[n]=[]),a[n].push((0,d.copyTopicData)(t))}function K(e,t,n){var i=r((0,d.getRange)(e.range),2),o=i[0],a=i[1],s=0,l=0;if("delete"==n)if(t<o)s=-1,l=-1;else{if(!(t>=o&&t<=a))return null;l=-1}else if(t<=o)s=1,l=1;else{if(!(t>o&&t<=a))return null;l=1}return{r1:s,r2:l}}function Z(e,t){var n=r((0,d.getRange)(e.range),2),i=n[0],o=n[1];e.range=i+t.r1+","+(o+t.r2),this.mindMap.renderer.addTopicToList(e)}}},{key:"getGeneralizes",value:function(e){return e.summaries||(e.summaries=[]),e.summaries}},{key:"updateSummary",value:function(){var e=C(k().mark(function e(t,n,i){var o,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,d.copyTopicData)(t),n=(0,d.copyTopicData)(n),o=this.renderer.getTopicById(t.id),null!=t.style?o.style=t.style:delete o.style,t.range!=n.range&&(o.range=t.range),t.range===n.range){e.next=8;break}return this.mindMap.renderer.setNeedResetTopicList(t),e.next=6,this.mindMap.render();case 6:e.next=10;break;case 8:a=this.renderer.getCacheTopic(t.id),this.drawSummaryLine(a);case 10:i||(t.children=[],n.children=[],this.mindMap.emit("sendMessage","updateSummary",{content:t,original:n}),this.mindMap.renderer.getCacheTopic(t.id).selected(),this.renderSummaryOp(this._topic));case 11:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"update",value:function(e,t){this.mindMap.execCommand("UPDATE_SUMMARY",e,t)}},{key:"getSummaryByTopic",value:function(e){var t=null;return function e(n){if(!n.isRoot){var i,o=n.parent,a=v(o.summaries||[]);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=(0,d.getTopicIndexInTopicList)(n,o.children),c=r((0,d.getRange)(s.getData("range")),2),u=c[0],p=c[1];if(l>=u&&l<=p){t=s;break}}}catch(h){a.e(h)}finally{a.f()}t||e(o)}}(e),t}},{key:"transformPath",value:function(e){var t=this.mindMap.opt.customTransformSummaryLinePath;return t?t(e):e}},{key:"removeSummaryOp",value:function(){this.controlGroup&&this.controlGroup.remove()}},{key:"updateSummaryOp",value:function(){var e=this.renderer.selectedTopicList;if(1===e.length){var t=e[0];this.renderSummaryOp(t)}else this.controlGroup&&this.controlGroup.remove()}},{key:"renderSummaryOp",value:function(e){var t;if(this.controlGroup&&this.controlGroup.remove(),e&&e.getData("summary")&&!this.mindMap.opt.readonly){this._topic=e,"org"===e.layout?this.renderOpShape2(e,"summary"):this.renderOpShape1(e,"summary");var n=null===(t=this.controlGroup)||void 0===t?void 0:t.group();if(n&&!(0,d.isMobile)()){var i="curve_complex"===e.getStyle("summaryLineType")?10:8;n.transform({translateX:"left"===e.part?this._topic.left+this._topic.width+i:this._topic.left-16-i,translateY:this._topic.top-16}),n.add(this.renderSummaryDot())}}}},{key:"renderOp",value:function(e){this.renderSummaryOp(e)}},{key:"getTopics",value:function(e){return e.summaries||[]}},{key:"renderSummaryDot",value:function(){var e=this;if(this.controlGroup){var t=(new c.SVG).size(16,16);t.circle(16).fill("#ffffff"),t.circle(14).fill(this._topic.getStyle("summaryLineColor")).transform({tx:1,ty:1});var n=t.group().transform({tx:1,ty:1}),i=(0,c.SVG)('<svg t="1718590209755" width= "'.concat(14,'" height="',14,'" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="88178" width="200" height="200">\n\t\t\t\t<path d="M263.459391 437.252599c-40.090067 0-72.590272 32.601512-72.590272 72.817446 0 40.216957 32.500205 72.817446 72.590272 72.817446s72.591295-32.600489 72.591295-72.817446C336.049662 469.855134 303.549457 437.252599 263.459391 437.252599zM510.267543 437.252599c-40.090067 0-72.591295 32.601512-72.591295 72.817446 0 40.216957 32.500205 72.817446 72.591295 72.817446s72.591295-32.600489 72.591295-72.817446C582.858838 469.855134 550.35761 437.252599 510.267543 437.252599zM757.076718 437.252599c-40.092114 0-72.592318 32.600489-72.592318 72.817446 0 40.216957 32.500205 72.817446 72.592318 72.817446 40.090067 0 72.591295-32.600489 72.591295-72.817446C829.66699 469.853088 797.166785 437.252599 757.076718 437.252599z" p-id="88179"></path></svg>')),o=this.renderer.getBackgroundColor();return"transparent"===o&&(o="#ffffff"),i.css({color:o}),n.add(i),n.attr("id","summary-dot-".concat(this._topic.id)),t.on("mouseover",function(n){t.css({cursor:"pointer"}),e.mindMap.emit("summaryDotMouseover",n,e._topic)}),t.on("mouseout",function(n){t.css({cursor:"auto"}),e.mindMap.emit("summaryDotMouseout",n,e._topic)}),t.on("mousedown",function(t){t.stopPropagation(),e.mindMap.emit("summaryDotMousedown",t,e._topic)}),t}}},{key:"recordSummaryDefaultStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.defaultStyle=m(m({},this.defaultStyle),e)}}]),o}();i.Summary=f,f.instanceName="summary"},4101:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.brash=void 0;var i=n(15240);t.brash={bindEvent:function(e){this.mindMap=e.mindMap,this.renderer=this.mindMap.renderer,this.mindMap.on("topic_selected",this.brash.bind(this)),this.mindMap.on("initBrash",this.init.bind(this)),this.mindMap.on("closeBrash",this.closeTip.bind(this)),this.registerShortcutKeys()},registerShortcutKeys:function(){var e=this;this.mindMap.keyCommand.addShortcut("Control+Shift+c|Control+g",function(t){t.preventDefault(),t.stopPropagation(),e.init()}),this.mindMap.keyCommand.addShortcut("Esc",function(){e.mindMap.emit("closeBrash")})},brashData:{id:null,style:null},init:function(){this.mindMap.mode="brash";var e=this.renderer.getSelectedTopic();if(e){var t=(0,i.deepClone)(e.getOverallStyle());"autoColor"===t.background&&(t.background=e.style.getBackgroundColor()),t["border-color"]&&(t["border-color"]=e.style.getBorderAutoColor()),t.color||(t.color=e.style.get3AColor()),this.brashData.style=t,this.brashData.id=e.id,this.mindMap.emit("showBrashTip")}},brash:function(e){if(e){if(null!=this.brashData&&null!=this.brashData.style&&e.id!==this.brashData.id){var t=this.brashData.style;this.mindMap.execCommand("SET_STYLE",[e],t,!0)}}else this.mindMap.emit("closeBrash")},closeTip:function(){this.brashData.style=null,this.brashData.id=null,this.mindMap.mode=""}}},31279:function(e,t,n){n(11568),n(14237);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.LAST_SAVE_KEY=t.LAST_SAVE_IMG=void 0,t.copy=function(){var e=C(k().mark(function e(t){var n,i,a,r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.e,y(),!b(n)){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,!(i=document.activeElement==document.body&&document.getSelection().toString())){e.next=9;break}return e.next=8,(0,o.writeText)(i,n);case 8:return e.abrupt("return",e.sent);case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:if(!(a=document.querySelector(".topic-image img.active"))){e.next=18;break}return e.next=17,_(a);case 17:return e.abrupt("return",void $.toast({type:"secondary",text:c.default.t("js.Picture_copied_successfully")}));case 18:return e.next=20,g({e:n,type:"copy"});case 20:null!=(r=e.sent)&&r.length&&$.toast({type:"secondary",text:c.default.t("js.Theme_copied_successfully")});case 22:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t){return e.apply(this,arguments)}}(),t.cut=function(){var e=C(k().mark(function e(t){var n,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.e,y(),!b(n)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,g({e:n,type:"cut"});case 5:null!=(i=e.sent)&&i.length&&(d.mindMap.execCommand("REMOVE_TOPIC"),$.toast({type:"secondary",text:c.default.t("js.Topic_cut_successful")}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.get=void 0,t.paste=function(){var e=C(k().mark(function e(t){var n,i,o,r,u,p,h,m,g,v,y,x;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.e,i=t.$,o=d.mindMap.opt.readonly,(r=d.mindMap.renderer.getSelectedIds()[0])||document.activeElement!=document.body||o){e.next=3;break}return e.abrupt("return",void i.toast({type:"secondary",text:c.default.t("js.Please_select_a_theme")}));case 3:return e.next=5,f(n);case 5:if(u=e.sent,p=u.blob,h=u.content,m=u.txt,g=u.type,v=u.imgUrl,null!=h){e.next=13;break}return e.abrupt("return");case 13:if(!["txt","html"].includes(g)){e.next=17;break}if(0==(y=b(n))){e.next=17;break}return e.abrupt("return",1==y?(0,s.pasteString)(m):(0,s.pasteString)(h,"html"==g));case 17:if(!o){e.next=19;break}return e.abrupt("return");case 19:if("image"!=g){e.next=31;break}if(v){e.next=26;break}if(!(p.size>2097152)){e.next=23;break}return e.abrupt("return",void i.toast({text:c.default.t("js._The_picture_size_should_not_exceed_2M"),type:"warning"}));case 23:return e.next=25,(0,a.uploadImage)(h);case 25:v=e.sent;case 26:return e.next=28,(0,s.loadImg)(v);case 28:return(x=e.sent)&&(d.mindMap.emit("set_topic_img",null,{url:v,originalUrl:""},x),0!==b(n)&&i(n.target).blur()),e.abrupt("return");case 31:if(d.mindMap.renderer.checkPermission("mindShapeNum")){e.next=33;break}return e.abrupt("return",{});case 33:if(r){e.next=35;break}return e.abrupt("return");case 35:["txt","html"].includes(g)?function(e){var t=e.str,n=e.isHtml,i=e.pid,o=e.mult,a=d.mindMap.renderer,r=a.stringToNodes(t,n,i,o);if(!a.copying){a.copying=!0;var s={},c=a.getCacheTopic(i),u=c.children.length,p=c.part;if(c.isRoot&&"mind_free"===c.getData("structure")||"mind_free_layout"===c.getData("structure")){var h=(0,l.getPartChildren)(c).rightChildren;"right"===(p="right")&&(u=h.length)}r.forEach(function(e,t){s[e.id]=u+t});var m={};r.forEach(function(e){m[e.id]=p}),d.mindMap.execCommand("ADD_TOPIC_MULTI",(0,l.copyTopicsData)(r),null,s,!0,m,null,function(){if(n)for(var e,a=/<path[^>]*>/,s=/<path[^\n\r>]*[\n\r][^>]*>/;s.test(t)&&(e=a.exec(t));)t=t.replace(e[0],e[0].replace(/\n|\r/g," "));var l=t.split(/\n|\r|<\/?br[^>]*>/g).filter(function(e){return!!e}).length;!o&&l>1&&1==r.length&&d.mindMap.emit("switchMultTopicTip",i,r,n)}),a.copying=!1}}({str:h,isHtml:"html"==g,pid:r}):S({id:r,content:h,$:i});case 36:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.pasteDiagram=S,t.pasteNodeTo=function(){var e=C(k().mark(function e(t){var n,i,o,a,r,s,u,p,h,m,f,g,v;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.pid,i=t.topics,o=t.$,a=d.mindMap.opt.readonly,n){e.next=3;break}return e.abrupt("return",void o.toast({type:"secondary",text:c.default.t("js.Please_select_a_theme")}));case 3:if(r=d.mindMap.renderer.getTopicById.getTopicById(n),null!=i){e.next=6;break}return e.abrupt("return");case 6:if(!a){e.next=8;break}return e.abrupt("return");case 8:for(s=(0,l.getPartChildren)(r),u=s.rightChildren,p={},h=[],m=0,f=i.length;m<f;m++)g=i[m],v=o.extend(!0,{},g),(0,l.resetTopicId)(v,n),g.summary?(delete v.summary,delete v.range,delete v.part):v.free&&(delete v.free,delete v.pos),h.push(v),p[v.id]=u.length;d.mindMap.execCommand("ADD_TOPIC_MULTI",(0,l.copyTopicsData)(h),null,p);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.writeImage=_,n(27531),n(61894),n(65534),n(96909),n(4790),n(82403),n(12638),n(33809),n(6284),n(30940),n(69268),n(58500),n(86837),n(84889);var o=n(21425),a=n(52122),r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=w(e)&&"function"!=typeof e)return{default:e};var n=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return function(e){return e?n:t}(e)}(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var r=o?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(i,a,r):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(69513)),s=n(78322),l=n(15240),c=i(n(32483));var d=window.editorGlobal,u="clipboard_mind",p=t.LAST_SAVE_KEY="__LAST_SAVE_KEY__",h="diagram",m=t.LAST_SAVE_IMG="image",f=function(){var e=C(k().mark(function e(t){var n,i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get(t,u,"mind");case 2:if("txt"!=(n=e.sent).type){e.next=9;break}if(i=window.localStorage.getItem(p)){e.next=7;break}return e.abrupt("return",n);case 7:o=n.content.replace(/\r\n/g,"\n"),(0,s.md5)(h+o)==i?(n.type=h,n.content=r.getStorage(u)):(0,s.md5)(m+o)==i&&(n.type=m,n.imgUrl=o);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function g(e){return v.apply(this,arguments)}function v(){return(v=C(k().mark(function e(t){var n,i,o,a,c,m,f,g,v,b,y;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.e,i=t.type,!d.mindMap.renderer.copying){e.next=3;break}return e.abrupt("return");case 3:if(d.mindMap.renderer.copying=!0,o=d.mindMap.renderer,a=o.selectedTopicList,c=[],((m=a.find(function(e){return e.isRoot}))?[m]:o.getAvailableSelected(a)).forEach(function(e){var t=e.getPureData();e.isRoot&&(t={children:t.children,id:(0,l.createId)(),_id:"root",title:t.title,parent:"root",image:t.image});var n=t.children;injectExtraAsynCall("openMention"),t.children=n,t.pos&&delete t.pos,e.isRoot?c.unshift(t):c.push(t)}),c.length){e.next=8;break}return e.abrupt("return",void(d.mindMap.renderer.copying=!1));case 8:return f={list:c,type:i},g="<ul>",v=[],b=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v.push(new Array(n).fill(" ").join("")+function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText}(t.title)),g+="<li>"+t.title;var i=t.children||[];i.length&&(g+="<ul>",i.forEach(function(t){e(t,n+1)}),g+="</ul>"),g+="</li>"},g+="</ul>",c.forEach(function(e){b(e)}),y=v.join("\n").replace(/\r\n/g,"\n"),window.localStorage.setItem(p,(0,s.md5)(h+y)),e.next=16,r.save(null,u,{value:f,str:y,html:g,flag:"mind"},n);case 16:return d.mindMap.renderer.copying=!1,e.abrupt("return",c);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){var t=(0,s.isEditTextElement)(e,!0);if(t){var n,i,o=e.target.querySelector(".area_box")||e.target.parentNode;if(!o)for(o=e.target;o&&(null===(a=o.classList)||void 0===a||!a.contains("area_box"));){var a;o=o.parentNode}var r=(null===(n=o)||void 0===n?void 0:n.style.zIndex)-0||0,l=((null===(i=o)||void 0===i?void 0:i.style.opacity)||1)-0;return!o||r>=0&&l>0?t:0}return 0}function y(){(0,o.clearClipboardFail)()&&window.localStorage.removeItem(p)}function _(e,t){return T.apply(this,arguments)}function T(){return(T=C(k().mark(function e(t,n){var i,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.imgToBlob)(t.src);case 2:return a=e.sent,e.abrupt("return",(window.localStorage.setItem(p,(0,s.md5)(m+t.src)),(0,o.write)([new o.ClipboardItem((i={},x(i,a.type,a),x(i,"text/plain",(0,s.strToBlob)(t.src,"text/plain")),i))],n)));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){return M.apply(this,arguments)}function M(){return(M=C(k().mark(function e(t){var n,i,o,a,r,s,u,p,h,m,f,g,v,b,y,x,w,_;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,i=t.content,o=t.$,a=t.showToast,r=void 0===a||a,s=d.mindMap.renderer,(u=i.list||[]).length){e.next=3;break}return e.abrupt("return");case 3:if(u.reverse(),!s.copying){e.next=5;break}return e.abrupt("return");case 5:if(s.copying=!0,p=s.getTopicById(n),h=s.getCacheTopic(n),!p.collapsed){e.next=10;break}return e.abrupt("return",(s.copying=!1,void o.toast({type:"secondary",text:c.default.t("js.Please_expand_and_paste")})));case 10:for(m={},f=[],g=h.children.length,h.part,(h.isRoot&&"mind_free"===h.getData("structure")||"mind_free_layout"===h.getData("structure"))&&(v=(0,l.getPartChildren)(h),b=v.rightChildren,"right"==="right"&&(g=b.length)),y=0,x=u.length;y<x;y++)w=u[y],_=o.extend(!0,{},w),(0,l.resetTopicId)(_,n),w.summary?(delete _.summary,delete _.range,delete _.part):_.free&&(delete _.free,delete _.pos,_.parent=n),f.push(_),m[_.id]=g;d.mindMap.execCommand("ADD_TOPIC_MULTI",(0,l.copyTopicsData)(f),null,m),r&&setTimeout(function(){o.toast({type:"secondary",text:c.default.t("js.Theme_pasted_successfully")})}),s.copying=!1;case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.get=f},52525:function(e,t,n){n(69268),n(84889),Object.defineProperty(t,"__esModule",{value:!0});var i=n(88570);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var o=n(47253);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var a=n(61783);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var r=n(24222);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))});var s=n(58914);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var l=n(32979);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});var c=n(71219);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var d=n(36709);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))});var u=n(67136);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))});var p=n(44378);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))});var h=n(28345);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))});var m=n(39914);Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))});var f=n(33129);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))});var g=n(59425);Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))});var v=n(4101);Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))});var b=n(70329);Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))});var y=n(42154);Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))});var x=n(22277);Object.keys(x).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===x[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}}))});var w=n(44437);Object.keys(w).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))});var k=n(98671);Object.keys(k).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))})},98671:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mindBackground=void 0,n(65528),n(4790),n(82403),n(6284);var i=n(59081),o=5e3,a=5e3;t.mindBackground={bindEvent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.mindMap.on("set_svg_background",this.drawSvgBg.bind(this)),this.mindMap.on("view_data_change_real_time",function(t){var n=t.transform;requestAnimationFrame(function(){if(e.mindMap.renderer.getBackgroundColor().indexOf("url(")>-1){var t=e.mindMap.svg.findOne("#svgbackgroundid");e.applyTransform(t,n)}})});var n=this.mindMap,i=n.width,r=n.height;i&&i>0&&(o=i),r&&r>0&&(a=r),this.oldBg=null},applyTransform:function(e,t){e&&(e.untransform(),e.transform(t),this.updateWaterMarkSize(e.findOne(".bg")))},updateWaterMarkSize:function(e){var t=e.node.getBoundingClientRect(),n=t.x,i=t.y,r=t.width,s=t.height,l=this.mindMap.elRect,c=n-l.x,d=i-l.y,u=l.x+l.width-n-r,p=l.y+l.height-i-s,h=Math.max(c,u),m=Math.max(d,p),f=Math.max(h,m)/this.mindMap.view.scale*2,g=e.bbox();if(0!==f){var v=Math.max(g.width+f,o),b=Math.max(g.height+f,a);if(e.attr({x:-v/2,y:-b/2,width:v,height:b}),this.svgBgRepeat){var y=e.parent().findOne(".imgWrap");switch(this.svgBgRepeat){case"repeat-y":y.attr({height:b,y:-b/2});break;case"repeat-x":y.attr({width:v,x:-v/2})}}}},clearBackground:function(){var e;null===(e=this.mindMap.svg.findOne("#svgbackgroundid"))||void 0===e||e.remove(),this.oldBg=null,this.clear=!0},drawSvgBg:function(e){var t=this;return C(k().mark(function n(){var r,s,l,c,d,u,p,h,m,f,g,v,b,y,x,w,_,C,T,S,M;return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=o,s=a,!t.oldBg||t.oldBg!==e){n.next=3;break}return n.abrupt("return");case 3:if(-1!==e.indexOf("url(")){n.next=5;break}return n.abrupt("return",void t.clearBackground());case 5:if(t.clear=!1,l=t.mindMap.svg,(c=new i.G).attr("id","svgbackgroundid"),d=c.element("defs"),u=c.rect().attr({x:-r/2,y:-s/2,width:r,height:s,class:"bg"}),p="svgBgId"+(new Date).getTime(),!(e.indexOf("url(")>-1)){n.next=33;break}return h=function(e){return new Promise(function(t){e=e.replace(/url\(["']?/,"").replace(/["']?\)/,"").replace("http:","https:").replace("obqv3yxb1.bkt.clouddn.com","cdn3.processon.com");var n=document.createElement("img");n.onload=function(){t({w:n.width,h:n.height,url:e}),n.remove()},n.onerror=function(){n.remove(),u.attr("fill","#ffffff")},n.src=e})},m=e.split(" "),f={},g=m[0].replace(/url\(["']?/,"").replace(/["']?\)/,"").replace("http://","https://"),n.next=15,h(g);case 15:if(v=n.sent,7==m.length&&(g=v.url,t.imageData=f={image:{x:parseInt(m[1]),y:parseInt(m[2]),w:parseInt(m[4]),h:parseInt(m[5])},svgBgUrl:v.url,repeat:m[6]}),4!==m.length&&!f.image){n.next=24;break}b=function(){switch(C){case"repeat":u.attr("fill","url(#".concat(p,")"));break;case"no-repeat":var e,t,n,i,o=c.rect().attr({width:(null===(e=f)||void 0===e||null===(e=e.image)||void 0===e?void 0:e.w)||v.w,height:(null===(t=f)||void 0===t||null===(t=t.image)||void 0===t?void 0:t.h)||v.h,fill:"url(#".concat(p,")"),class:"imgWrap"});f.image?o.translate(null===(n=f)||void 0===n||null===(n=n.image)||void 0===n?void 0:n.x,null===(i=f)||void 0===i||null===(i=i.image)||void 0===i?void 0:i.y):o.translate(-v.w/2,-v.h/2),u.attr("fill","#ffff");break;case"repeat-y":var a,l,d=c.rect().attr({width:(null===(a=f)||void 0===a||null===(a=a.image)||void 0===a?void 0:a.w)||v.w,height:s,fill:"url(#".concat(p,")"),class:"imgWrap"});f.image?d.translate(null===(l=f)||void 0===l||null===(l=l.image)||void 0===l?void 0:l.x,0):d.translate(-v.w/2,0),u.attr("fill","#ffff");break;case"repeat-x":var h,m,g=c.rect().attr({width:r,height:(null===(h=f)||void 0===h||null===(h=h.image)||void 0===h?void 0:h.h)||v.h,fill:"url(#".concat(p,")"),class:"imgWrap"});f.image?g.translate(0,null===(m=f)||void 0===m||null===(m=m.image)||void 0===m?void 0:m.y):g.translate(0,-v.h/2),u.attr("fill","#ffff")}},C=f.repeat||m[1],t.imgInfo=v,t.svgBgRepeat=f.repeat||C,g=f.svgBgUrl||v.url,b(),(T=d.element("pattern",{id:p,patternUnits:"userSpaceOnUse",width:(null===(y=f.image)||void 0===y?void 0:y.w)||v.w,height:(null===(x=f.image)||void 0===x?void 0:x.h)||v.h})).element("image",{href:g,width:(null===(w=f)||void 0===w||null===(w=w.image)||void 0===w?void 0:w.w)||v.w,height:(null===(_=f)||void 0===_||null===(_=_.image)||void 0===_?void 0:_.h)||v.h}),f.image&&"repeat"===C&&T.attr({x:f.image.x,y:f.image.y}),f.image&&"repeat-x"===C&&T.attr({x:f.image.x}),f.image&&"repeat-y"===C&&T.attr({y:f.image.y}),n.next=31;break;case 24:return S=function(e){d.element("pattern",{id:p,patternUnits:"userSpaceOnUse",width:e.w,height:e.h}).element("image",{href:e.url,width:e.w,height:e.h}),u.attr("fill","url(#".concat(p,")"))},t.svgBgRepeat=void 0,n.t0=S,n.next=29,h(m[0]);case 29:n.t1=n.sent,(0,n.t0)(n.t1);case 31:n.next=34;break;case 33:t.svgBgRepeat=void 0,u.attr("fill",e);case 34:t.clear||(t.clearBackground(),t.oldBg=e,M=l.children()[0],t.applyTransform(c,t.mindMap.draw.transform()),M?M.before(c):l.add(c));case 35:case"end":return n.stop()}},n)}))()}}},44378:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.code=void 0,n(61894),n(69268),n(84889);var i=n(88318),o=n(15240);t.code={bindEvent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.minWidth=i.codeblock.minWidth,this.defaultWidth=i.codeblock.defaultWidth,this.mindMap.on("setCodeBlock",this.setCodeBlock.bind(this)),this.mindMap.on("delcode",this.deleteCode.bind(this)),(0,o.isSafari)()&&this.mindMap.on("scale",function(t){e.scaleCodeBlockEl(t)})},scaleCodeBlockEl:function(e){document.querySelectorAll(".po-mind-topic .code-area").forEach(function(t){t.style.transform="scale(".concat(e,")"),t.style.transformOrigin="left top"})},setCodeBlock:function(e){var t=e.data,n=(0,o.copyTopicsData)(t),a=e.code;t.forEach(function(t){switch(e.type){case"add":t.topicData.code={text:"",language:i.codeblock.language},delete t.topicData.image;break;case"delete":delete t.topicData.code;break;case"update":t.topicData.code=a}}),this.mindMap.execCommand("UPDATE_TOPIC_NODE",t,n,"code")},asyncSuccess:!1,loaded:!0,needReRenderTopics:[],createCodeNode:function(e,t){var n=this;if(!0===this.asyncSuccess||2===editorGlobal.config.showCodeBlock){var o=i.codeblock.render(e.getPureData(),null,{autofocus:!editorGlobal.mindMap.opt.readonly,targetWidth:t});return this.loaded=!0,o}return e.isRerender=!0,this.needReRenderTopics.push(e.id),this.loaded=!1,i.codeblock.loadCodeJs(function(){n.needReRenderTopics.forEach(function(e){var t=n.mindMap.renderer.getCacheTopic(e);t&&(t.isRerender=!0)}),n.asyncSuccess=!0,n.mindMap.renderer.setNeedResetTopicList(null,!0),n.mindMap.render(),n.needReRenderTopics=[]}),{codeEl:'<div style="width:100px;height:100px"></div>',width:102,height:102}},addCode:function(e){e.forEach(function(e){e.topicData.code={text:""}})},deleteCode:function(e){var t=[],n=[];n.push((0,o.deepClone)(e)),delete e.code,t.push(e._topic),this.mindMap.execCommand("UPDATE_TOPIC_NODE",t,n,"code")},updateCode:function(e,t){var n=(0,o.copyTopicsData)(e);e.forEach(function(e){e.code=t}),this.mindMap.execCommand("UPDATE_TOPIC_NODE",e,n,"code",!editorGlobal.mindMap.opt.readonlyList.code)}}},42154:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.comment=void 0,n(69268),n(84889),n(14237);var i=n(59081),o=n(72011);t.comment={bindEvent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.iconStatusMap=new Map,this.mindMap=t.mindMap,this.mindMap.on("init_full_data",this.handleCommentsShowStatus.bind(this)),this.mindMap.on("render_data-change",function(){o.comment.Model.initData()}),this.mindMap.on("set_topic_comment",this.setTopicComment.bind(this)),this.mindMap.on("clear_topic_comment",function(){if(0!==e.iconStatusMap.size){var t=Array.from(e.iconStatusMap.keys());t.forEach(function(t){var n=e.mindMap.renderer.getCacheTopic(t);n&&(n.isRerender=!0)}),e.iconStatusMap.clear(),e.mindMap.renderer.setNeedResetTopicList(t),e.mindMap.render()}}),this.mindMap.keyCommand.addShortcut("Alt+Control+m",function(){e.mindMap.emit("openCorner","comment"),o.comment.Controller.editPannel.render("hotkey")}),this.mindMap.on("topic_selected",function(t,n){var i=n[0];i&&e.mindMap.opt.readonlyList.comment&&$(".mind-right-con [tit=comment]").is(":visible")&&o.comment.View.commentCard.focusCard(i.id,!0)})},handleCommentsShowStatus:function(e){var t,n=this;this.iconStatusMap.clear(),!1!==e.showCommentIcon&&(null===(t=e.comments)||void 0===t||t.forEach(function(e){if(e.selectionId){var t=e.selectionId.split("_")[0];0===e.status&&n.iconStatusMap.set(t,!0)}}))},setTopicComment:function(e,t){if("add"==t?this.iconStatusMap.set(e,!0):"remove"==t&&this.iconStatusMap.delete(e),!this.mindMap.opt.readonly&&e){var n=this.mindMap.renderer.getCacheTopic(e);n&&(this.mindMap.emit("setTopicComment","comment"),n.isRerender=!0,this.mindMap.renderer.setNeedResetTopicList(e),this.mindMap.render())}},createCommentNode:function(e){if(this.iconStatusMap.get(e.id)){var t=(e.getStyle("font-size")||16)+4,n=(new i.SVG).attr("cursor","pointer").size(t,t);n.add((new i.Rect).size(t,t).fill({color:"transparent"}));var o=(new i.Image).load("".concat("v1"===editorGlobal.config.uiType?"".concat(staticBasePath,"/wps/images/comment.svg"):"".concat(staticBasePath,"/images/comment.svg"))).size(t,t);return n.add(o),n.on("click",function(t){editorGlobal.mindMap.emit("clickComment",t,e)}),{node:n,width:t,height:t}}return null}}},33129:function(e,t,n){n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.connectionLine=void 0;var o=i(n(66603));n(27531),n(61894),n(33152),n(38297),n(38887),n(47958),n(69268),n(86837),n(84889),n(14237);var a=n(9092),r=n(93508),s=n(15240),l=n(59081),c=i(n(32483));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.connectionLine={controlPointRadius:6,sourceTopic:null,previewLine:null,drawIng:!1,mouseDown:!1,currentLine:null,mouseDownControlPoint:null,mousedownEvent:null,beforeMoveObj:null,effectiveControlMove:!1,isShowPreview:!0,textPaddingX:6,textPaddingY:8,labelMaxWidth:200,inputText:"",bindEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=e.mindMap,this.mindMap.on("mousemove",this.onMousemove.bind(this)),this.mindMap.on("mouseup",this.onmouseup.bind(this)),this.mindMap.on("topic_mouseup",this.onNodeMouseup.bind(this)),this.mindMap.on("topic_mousedown",this.onNodeMousedown.bind(this)),this.mindMap.on("mousedown",this.onmousedown.bind(this)),this.mindMap.on("keyup",this.onKeyup.bind(this)),this.mindMap.on("renderConn",this.renderConn.bind(this)),this.mindMap.on("blurConnection",this.blurConnection.bind(this)),this.mindMap.on("focusConnection",this.focusConnection.bind(this)),this.mindMap.on("updateConnStyle",this.setConn.bind(this)),this.mindMap.on("deleteConnectionByTopics",this.deleteConnectionByTopics.bind(this)),this.mindMap.on("loadConnections",this.loadConnections.bind(this)),this.mindMap.on("resetAllConnectionPos",this.resetAllConnectionPos.bind(this)),this.mindMap.on("hideTopicsConnectLine",this.onHideTopicsConnectLine.bind(this)),this.mindMap.on("showTopicsConnectLine",this.onShowTopicsConnectLine.bind(this)),this.mindMap.on("editConnectionText",this.editConnectionText.bind(this)),this.mindMap.command.add("CREATE_CONNECTION_BY_LINES",this.createConnectionByLines.bind(this)),this.mindMap.command.add("CREATE_CONNECTION_BY_LABEL",this.updateLabelText.bind(this)),this.mindMap.command.add("ADD_CONNECTION_LINE",this.addConnectionMulti.bind(this)),this.mindMap.command.add("DELETE_CONNECTION_LINE",this.deleteConnectionMulti.bind(this)),this.mindMap.command.add("UPDATE_CONNECTION_LINE",this.updateConnection.bind(this))},resetDrawState:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.previewLine&&e){var t="line_"+this.previewLine.id;this.mindMap.associativeLineDraw.findOne("#"+t).remove()}document.body.style.cursor="default",this.sourceTopic=null,this.previewLine=null,this.drawIng=!1,this.mouseDown=!1},onKeyup:function(e){["Delete","Backspace"].includes(e.key)&&this.currentLine&&this.deleteConnection(this.currentLine)},onMousemove:function(e){if(this.drawIng){if((0,s.mapAutoMove)(this.mindMap,e.clientX,e.clientY),(0,s.isMobile)())return;var t={x:this.sourceTopic.left+this.sourceTopic.width/2,y:this.sourceTopic.top+this.sourceTopic.height/2,w:this.sourceTopic.width,h:this.sourceTopic.height},n=this.mindMap.toSvgPos(e),i=this.getSelectedPosOnTopic(t,n);this.previewLine.realEnd=n,this.previewLine.start=i,this.previewLine.realStart={x:t.x-t.w/2+t.w*i.x,y:t.y-t.h/2+t.h*i.y},this.setConnectionLinePath(this.previewLine,!0)}if(this.mouseDownControlPoint){"touch"===e.eventType&&e.preventDefault(),(0,s.mapAutoMove)(this.mindMap,e.clientX,e.clientY);var o=this.beforeMoveObj,a=this.mindMap.renderer.getCacheTopic(o.from),l=this.getTopicRealPos(a),c=this.mindMap.renderer.getCacheTopic(o.to),d=this.getTopicRealPos(c),u=e.pageX,p=e.pageY,h=u-this.mousedownEvent.pageX,m=p-this.mousedownEvent.pageY;if(Math.abs(h)>2||Math.abs(m)>2){var f,g,v,b=this.mindMap.otherDraw.findOne(".connection_point_new[tp=to]"),y=this.mindMap.otherDraw.findOne(".connection_point_new[tp=from]"),x=this.mindMap.toSvgPos(e),w=this.mouseDownControlPoint.attr("tp");if("from"===w?(f=x,g={x:b.attr("cx"),y:b.attr("cy")}):(f={x:y.attr("cx"),y:y.attr("cy")},g=x),"from"==w){var k=this.getSelectedPosOnTopic(l,x);o.start=k,o.realStart={x:l.x-l.w/2+l.w*k.x,y:l.y-l.h/2+l.h*k.y},o.points[0]={x:x.x,y:x.y},o.points[1]={x:g.x,y:g.y},v=(0,r.getAngle)(x,l),o.startAngle=v}else{v=(0,r.getAngle)(x,d);var _=this.getSelectedPosOnTopic(d,x);o.end=_,o.realEnd={x:d.x-d.w/2+d.w*_.x,y:d.y-d.h/2+d.h*_.y},o.points[1]={x:x.x,y:x.y},o.points[0]={x:f.x,y:f.y},o.endAngle=v}o.pts=[],o.pts[0]={x:o.points[0].x-l.x,y:o.points[0].y-l.y},o.pts[1]={x:o.points[1].x-d.x,y:o.points[1].y-d.y},this.currentLine=o,this.resetControls(w,x,o),this.setConnectionLinePath(o),this.renderArrow(o);var C=this.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+o.id+'"]');this.renderConnectionTextPos(C,o),this.effectiveControlMove=!0}}},getTopicRealPos:function(e){var t=e;return"string"==typeof e&&(t=this.mindMap.renderer.getCacheTopic(e)),{x:t.left+t.width/2,y:t.top+t.height/2,w:t.width,h:t.height}},onmousedown:function(e){if(this.drawIng&&(this.mouseDown=!0,(0,s.isMobile)()&&(this.resetDrawState(),this.mindMap.emit("closePopTip"))),this.mindMap.emit("hideConnectionTip"),!e.target.classList.contains("connection_point_new")){var t=this.mindMap.renderer.selectedTopicList,n=t[t.length-1];!this.currentLine||n&&n.id===this.currentLine.to||this.blurConnection()}},onNodeMousedown:function(e){this.currentLine&&e.id!==this.currentLine.to&&this.blurConnection()},onNodeMouseup:function(e,t){if(this.drawIng){var n={x:this.sourceTopic.left+this.sourceTopic.width/2,y:this.sourceTopic.top+this.sourceTopic.height/2,w:this.sourceTopic.width,h:this.sourceTopic.height};if(t&&t.id!==this.sourceTopic.id&&this.isValidTargetTopic(t)){this.previewLine.from=this.sourceTopic.id,this.previewLine.to=t.id;var i={x:t.left+t.width/2,y:t.top+t.height/2,w:t.width,h:t.height},o=this.getSelectedPosOnTopic(n,i);this.previewLine.start=o,this.previewLine.realStart={x:n.x-n.w/2+n.w*o.x,y:n.y-n.h/2+n.h*o.y};var a=this.getSelectedPosOnTopic(i,n);this.previewLine.end=a,this.previewLine.realEnd={x:i.x-i.w/2+i.w*a.x,y:i.y-i.h/2+i.h*a.y},this.previewLine.startAngle=(0,r.getAngle)(this.previewLine.realEnd,this.previewLine.realStart),this.previewLine.endAngle=(0,r.getAngle)(this.previewLine.realStart,this.previewLine.realEnd),this.setConnectionLinePath(this.previewLine),this.renderArrow(this.previewLine),this.focusConnection(this.previewLine),this.addConnectionLine(this.previewLine),this.resetDrawState(!1)}else this.resetDrawState();$.toast("close"),this.mindMap.emit("closePopTip")}else this.currentLine&&t.id!==this.currentLine.to&&this.blurConnection()},onmouseup:function(){this.drawIng&&this.mouseDown&&this.resetDrawState()},isValidTargetTopic:function(e){return!e.boundary},loadConnections:function(e){var t=this.mindMap.renderer,n=this.mindMap.renderer.mindTree,i=n.lines;if(null!=e&&(i=e),null!=i){for(var o in i){var a=i[o],r=t.getTopicById(a.from),s=t.getTopicById(a.to),l=t.checkParentIsCollapsed(a.from),c=t.checkParentIsCollapsed(a.to),d=this.mindMap.renderer.filterTopicIds;if(!(!r||!s||l||c||null!=r&&r.hideSelf||null!=s&&s.hideSelf||d.length>0&&(!d.includes(r.id)||!d.includes(s.id))||this.mindMap.associativeLineDraw.findOne("#line_"+r.id)||this.mindMap.associativeLineDraw.findOne("#line_"+s.id)))if(null!=a.start.x){if(null==a.realEnd){a.start.x<.1&&Math.abs(a.end.x)>1&&(a.end.x=.5,a.end.y=.5);var u=this.getTopicRealPos(a.to);a.realEnd={x:u.x,y:u.y}}if(this.renderConnectionDom(a,!0),a.label&&"label"!=a.label&&this.renderConnectionText(a),null!=a.points&&0==a.points.length&&a.realStart,null==a.pts&&a.points.length>0){a.pts=[{x:0,y:0},{x:0,y:0}];var p=this.getTopicRealPos(a.from),h=this.getTopicRealPos(a.to);a.pts[0].x=a.points[0].x-p.x,a.pts[0].y=a.points[0].y-p.y,a.pts[1].x=a.points[1].x-h.x,a.pts[1].y=a.points[1].y-h.y,delete a.start.p,delete a.end.p}}else delete n.lines[o]}this.resetAllConnectionPos(n,null,!0),this.currentLine&&this.blurConnection()}},renderConn:function(){this.render.apply(this,arguments)},render:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.drawIng){var i=this.mindMap.renderer.selectedTopicList;if(!(i.length>1)){var o=i[i.length-1];if(o){(0,s.isMobile)()&&this.mindMap.emit("showPopTip",c.default.t("js.Please_select_the_node"),"",function(){t.resetDrawState()}),document.body.style.cursor="move",this.sourceTopic=o,this.drawIng=!0;var r={x:o.left+o.width/2,y:o.top+o.height/2,w:o.width,h:o.height},l=e?this.mindMap.toSvgPos(e):r,d=this.getSelectedPosOnTopic(r,l);this.previewLine=new a.ConnectionLine(d,l,r),this.renderConnectionDom(this.previewLine,!n)}else $.toast({type:"warning",text:c.default.t("js.Please_choose_a_topic_first")})}}},getLineStyles:function(e){return u(u({},this.mindMap.getThemeConfig().connectionStyle),e.styles||{})},renderConnectionDom:function(e,t){var n,i,o,a,r=this,s=this.getLineStyles(e),l=s.lineColor,c=s.lineWidth,d=s.lineType,u=s.lineEndArrow,p=s.lineStartArrow,h="line_"+e.id,m=this.mindMap.associativeLineDraw.findOne("#"+h);if(m?(n=m.findOne(".connection-line"),a=m.findOne(".connection-line-bg"),i=m.findOne(".connection-end-arrow"),o=m.findOne(".connection-start-arrow")):(m=this.mindMap.associativeLineDraw.group().attr({id:h}).addClass("connection-svg"),(a=m.path("").fill("none").attr({"stroke-linejoin":"round","stroke-opacity":0}).addClass("connection-line-bg")).on("mousedown",function(e){var t;e.stopPropagation();var i=n.parent().attr("id").slice(5);(null===(t=r.currentLine)||void 0===t?void 0:t.id)!==i&&r.focusConnection(r.getLineById(i))}),a.on("dblclick",function(e){e.stopPropagation()}),a.on("mouseenter",function(e){e.stopPropagation(),a.attr({"stroke-opacity":.2})}),a.on("mouseleave",function(e){var t;e.stopPropagation();var i=n.parent().attr("id").slice(5);(null===(t=r.currentLine)||void 0===t?void 0:t.id)!==i&&a.attr({"stroke-opacity":0})}),(n=m.path("").fill("none").attr({"stroke-linejoin":"round"}).addClass("connection-line")).on("mousedown",function(e){var t;e.stopPropagation();var i=n.parent().attr("id").slice(5);(null===(t=r.currentLine)||void 0===t?void 0:t.id)!==i&&r.focusConnection(r.getLineById(i))}),n.on("mouseenter",function(e){e.stopPropagation(),a.attr({"stroke-opacity":.2})}),n.on("mouseleave",function(e){var t;e.stopPropagation();var i=n.parent().attr("id").slice(5);(null===(t=r.currentLine)||void 0===t?void 0:t.id)!==i&&a.attr({"stroke-opacity":0})}),i=m.path("").fill("none").addClass("connection-end-arrow"),o=m.path("").fill("none").addClass("connection-start-arrow")),"dashed"===d?n.attr({"stroke-dasharray":"10,5"}):n.attr({"stroke-dasharray":null}),c>3?(o.attr({"stroke-linejoin":"round","stroke-linecap":"round"}),i.attr({"stroke-linejoin":"round","stroke-linecap":"round"})):(o.attr({"stroke-linejoin":null,"stroke-linecap":null}),i.attr({"stroke-linejoin":null,"stroke-linecap":null})),3!=u?i.attr({fill:l}):i.attr({fill:null}),3!=p?o.attr({fill:l}):o.attr({fill:null}),n.stroke({color:l,width:c}),a.stroke({color:l,width:c-0+4}),o.stroke({color:l,width:c}),i.stroke({color:l,width:c}),!t){var f=this.setConnectionLinePath(e);n.attr({d:f}),a.attr({d:f})}return m},triggerClick:function(e){var t=this,n=this.getConnectionMidPoint(e),i=this.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+e.id+'"]').findOne(".mind-connection-label").bbox().height,o=this.mindMap.svgPosToClient({x:n.x,y:n.y-i/2});setTimeout(function(){t.mindMap.emit("connection-line-click",o)},200)},getSelectedPosOnTopic:function(e,t){var n=e.h/2,i=e.w/2,o=(t.y-e.y)/(t.x-e.x),a=0,r=0,s=1;if(t.x>e.x&&t.y<e.y){var l=-n/o;a=(i+l)/e.w,r=0,l>i&&(a=1,r=(n+o*i)/e.h),s=2}else if(t.x>=e.x&&t.y>=e.y){var c=n/o;a=(i+c)/e.w,r=1,c>i&&(a=1,r=(n+o*i)/e.h),s=3}else if(t.x<=e.x&&t.y>=e.y){var d=-n/o;a=(i-d)/e.w,r=1,d>i&&(a=0,r=(n-o*i)/e.h),s=4}else if(t.x<=e.x&&t.y<=e.y){var u=n/o;a=(i-u)/e.w,r=0,u>i&&(a=0,r=(n-o*i)/e.h),s=1}return{x:a.toFixed(1),y:r.toFixed(1),index:s}},setConnectionLinePath:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.realStart,i=e.realEnd,o=e.points;i.x="number"==typeof i.x?i.x:n.x,i.y="number"==typeof i.y?i.y:n.y;var a=[];if(null==o||0==o.length)a.push("M "+n.x+" "+n.y),a.push("L "+i.x+" "+i.y);else{for(var r=[],s=0;s<o.length;s++){var l=o[s];r.push({x:l.x,y:l.y})}a.push("M "+n.x+" "+n.y),a.push("C "+r[0].x+" "+r[0].y),a.push(" "+r[1].x+" "+r[1].y),a.push(" "+i.x+" "+i.y)}var c="line_"+e.id;this.mindMap.associativeLineDraw.findOne("#".concat(c," .connection-line")).attr({d:a,style:"pointer-events: ".concat(t?"none":null)}),this.mindMap.associativeLineDraw.findOne("#".concat(c," .connection-line-bg")).attr({d:a,style:"pointer-events: ".concat(t?"none":null)})},addConnectionLine:function(e){this.addConnectionMulti([e])},addConnectionMulti:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];this.saveConnection(i)}t||this.mindMap.emit("sendMessage","addConnection",{content:e})},saveConnection:function(e){var t=this.mindMap.renderer.mindTree;t.lines||(t.lines={}),t.lines[e.id]=e},renderArrow:function(e){var t="line_"+e.id,n=this.mindMap.associativeLineDraw.findOne("#"+t),i=n.findOne(".connection-end-arrow"),o=n.findOne(".connection-start-arrow"),a=this.getLineStyles(e),s=e.realEnd,l=e.realStart,c=e.startAngle,d=e.endAngle,u=a.lineWidth,p=(0,r.getArrowPoints)(c,l,u),h=(0,r.getArrowPoints)(d,s,u),m=[],f=[];switch(f.push("M"+s.x+" "+s.y),m.push("M"+l.x+" "+l.y),a.lineStartArrow){case"1":default:m.push("Z");break;case"2":m.push("L"+p.x1+" "+p.y1),m.push("M"+l.x+" "+l.y),m.push("L"+p.x2+" "+p.y2),m.push("L"+p.x1+" "+p.y1),m.push("Z");break;case"3":m.push("L"+p.x1+" "+p.y1),m.push("M"+l.x+" "+l.y),m.push("L"+p.x2+" "+p.y2),m.push("Z")}var g=m.join(" ");switch(o.attr({d:g}),a.lineEndArrow){case"1":f.push("Z");break;case"2":f.push("L"+h.x1+" "+h.y1),f.push("M"+s.x+" "+s.y),f.push("L"+h.x2+" "+h.y2),f.push("L"+h.x1+" "+h.y1),f.push("Z");break;default:f.push("L"+h.x1+" "+h.y1),f.push("M"+s.x+" "+s.y),f.push("L"+h.x2+" "+h.y2),f.push("Z")}var v=f.join(" ");i.attr({d:v})},focusConnection:function(e){var t;this.mindMap.opt.readonly||e&&(null===(t=this.currentLine)||void 0===t?void 0:t.id)!==e.id&&(this.currentLine&&this.currentLine.id!==e.id&&this.blurConnection(this.currentLine),this.currentLine=e,this.renderConnControls(e),this.updateSelectedLineStyle(e,!0),this.renderConnectionText(e),this.renderConnectionTip(e),this.mindMap.renderer.clearSelectedTopic(),this.triggerClick(this.getLineById(e.id)))},updateSelectedLineStyle:function(e,t){this.mindMap.associativeLineDraw.findOne("#line_".concat(e.id)).findOne(".connection-line-bg").attr({"stroke-opacity":t?.2:0})},blurConnection:function(){var e;if(this.currentLine){this.clearControls(),null===(e=this.mindMap.associativeLineLabelDraw.findOne(".mind-connection-label-edit"))||void 0===e||null===(e=e.node)||void 0===e||e.blur();var t=this.inputText||this.currentLine.label;if(""==t||"label"==t){var n=this.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+this.currentLine.id+'"]');n&&n.remove()}this.updateSelectedLineStyle(this.currentLine,!1),this.currentLine=null,this.renderConnectionTip(!1),this.mindMap.emit("hideConnectionTip")}},clearControls:function(){var e,t,n;this.mouseDownControlPoint=null,null===(e=this.mindMap.otherDraw.find(".connection_point_new"))||void 0===e||e.remove(),null===(t=this.mindMap.otherDraw.find(".connection_line_new"))||void 0===t||t.remove(),null===(n=this.mindMap.associativeLineLabelDraw.findOne(".mind-connection-label-icons"))||void 0===n||n.hide()},renderConnControls:function(e){var t,n=this,i=e.points,o=e.realStart,a=e.realEnd,r=this.getLineStyles((null===(t=this.mindMap.renderer.mindTree.lines)||void 0===t?void 0:t[e.id])||e),s=(o.x+a.x)/2,l=(o.y+a.y)/2,c=[],d=function(e,t){var i,d;null===(i=n.mindMap.otherDraw.findOne(".connection_line_new[tp="+e+"]"))||void 0===i||i.remove(),null===(d=n.mindMap.otherDraw.findOne(".connection_point_new[tp="+e+"]"))||void 0===d||d.remove();var u=n.mindMap.otherDraw.line().attr({tp:e,class:"connection_line_new"}).stroke({width:1,color:r.lineColor}),p=n.mindMap.otherDraw.circle(2*n.controlPointRadius).attr({tp:e,class:"connection_point_new"}).stroke({width:1,color:r.lineColor}).fill("#ffffff");return c.push(p),u.on("mousedown",function(e){e.stopPropagation()}),null==t&&(t={},"from"==e?(t.x=(s+o.x)/2,t.y=(l+o.y)/2):(t.x=(a.x+s)/2,t.y=(a.y+l)/2)),t},u=i[0],p=i[1],h=d("from",u),m=d("to",p);this.resetControls("from",h,e),this.resetControls("to",m,e),this.mindMap.emit("changeOpStatus"),this.initEvent(c)},resetControls:function(e,t,n){var i=this.mindMap.otherDraw.findOne(".connection_line_new[tp="+e+"]");this.mindMap.otherDraw.findOne(".connection_point_new[tp="+e+"]").move(t.x-this.controlPointRadius,t.y-this.controlPointRadius);var o=n.realStart,a=n.realEnd,r="from"==e?o:a;i.attr({x1:r.x,y1:r.y,x2:t.x,y2:t.y})},initEvent:function(e){var t=this;e.forEach(function(e){e.on("mousedown",function(n){var i;n.stopPropagation(),t.mousedownEvent=n,t.effectiveControlMove=!1,t.beforeMoveObj=u({},t.currentLine),t.mouseDownControlPoint=e,t.mindMap.emit("hideConnectionTip"),null===(i=t.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+t.currentLine.id+'"]').findOne(".mind-connection-label-icons"))||void 0===i||i.hide(),t.mindMap.execCommand("CLEAR_ALL_SELECTED_TOPIC")}),e.on("mouseup",function(){var e;t.mouseDownControlPoint=null,t.effectiveControlMove&&(t.effectiveControlMove=!1,null===(e=t.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+t.currentLine.id+'"]').findOne(".mind-connection-label-icons"))||void 0===e||e.show(),t.beforeMoveObj&&t.currentLine&&t.beforeMoveObj.id==t.currentLine.id&&(t.currentLine=u({},t.beforeMoveObj),t.updateConnection(t.currentLine,t.beforeMoveObj)))})})},renderConnectionText:function(e,t){var n,i=this.getLineStyles((null===(n=this.mindMap.renderer.mindTree.lines)||void 0===n?void 0:n[e.id])||e),o=this.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+e.id+'"]');if(!o&&null==t){o=this.mindMap.associativeLineLabelDraw.group().attr({conn:e.id}).addClass("mind-connection-con-new");var a=this.createLabelNode(e,o);o.add(a);var r=this.createLabelTipNode(e);o.add(r)}if(o){var l=o.findOne(".mind-connection-label"),c=l.findOne("rect"),d=o.findOne(".mind-connection-label-icons");d.findOne(".circle-inner").fill(i.lineColor),d.findOne(".icon").css({color:(0,s.getColorBasedOnBackground)(i.lineColor)}),c.fill(i.lineColor),l.findOne("tspan").attr("fill",(0,s.getColorBasedOnBackground)(i.lineColor)),this.renderConnectionTextPos(o,e)}},updateLabelText:function(e){var t=this.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+e.id+'"]');if(t){var n=this.getLineStyles(e),i=t.findOne(".mind-connection-label"),o=this.createLabelNode(e,t);o.insertBefore(i),i.visible()||o.hide(),i.remove(),o.findOne("rect").fill(n.lineColor),this.renderConnectionTextPos(t,e)}},createLabelNode:function(e,t){var n=this,i=this.getLineStyles(e),o=e.label||"label",a=new l.G,r=this.labelMaxWidth,c=(0,s.createTextWithTspan)(this.mindMap.associativeLineLabelDraw,o,r-2*this.textPaddingX,{"font-size":"13px"});c.x(this.textPaddingX).y(this.textPaddingY).attr({style:"cursor: text"}).fill((0,s.getColorBasedOnBackground)(i.lineColor));var d=c.bbox(),u=d.width,p=d.height,h=(new l.Rect).size(Math.min(r,u+2*this.textPaddingX),p+2*this.textPaddingY).rx(5).ry(5).attr({style:"cursor: text"});return a.attr({class:"mind-connection-label"}),h.on("dblclick",function(e){e.stopPropagation()}),a.on("mousedown",function(i){i.stopPropagation(),n.mindMap.opt.readonly||(n.focusConnection(e),(0,s.isMobile)()||n.editConnectionLabel(e,t))}),a.add(h),a.add(c),a},createLabelTipNode:function(e){var t,n=this,i=this.getLineStyles((null===(t=this.mindMap.renderer.mindTree.lines)||void 0===t?void 0:t[e.id])||e),o=new l.G,a=(new l.SVG).size(16,16);a.circle(16).fill("#ffffff"),a.circle(14).transform({tx:1,ty:1}).attr({class:"circle-inner"});var r=a.group().transform({tx:1,ty:1}),c=(0,l.SVG)('<svg t="1718590209755" width= "'.concat(14,'" height="',14,'" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="88178" width="200" height="200">\n            <path d="M263.459391 437.252599c-40.090067 0-72.590272 32.601512-72.590272 72.817446 0 40.216957 32.500205 72.817446 72.590272 72.817446s72.591295-32.600489 72.591295-72.817446C336.049662 469.855134 303.549457 437.252599 263.459391 437.252599zM510.267543 437.252599c-40.090067 0-72.591295 32.601512-72.591295 72.817446 0 40.216957 32.500205 72.817446 72.591295 72.817446s72.591295-32.600489 72.591295-72.817446C582.858838 469.855134 550.35761 437.252599 510.267543 437.252599zM757.076718 437.252599c-40.092114 0-72.592318 32.600489-72.592318 72.817446 0 40.216957 32.500205 72.817446 72.592318 72.817446 40.090067 0 72.591295-32.600489 72.591295-72.817446C829.66699 469.853088 797.166785 437.252599 757.076718 437.252599z" p-id="88179"></path></svg>'));return c.css({color:(0,s.getColorBasedOnBackground)(i.lineColor)}),r.add(c),a.attr({id:e.id}),a.on("mouseenter",function(e){e.stopPropagation();var t=a.attr("id");n.mindMap.emit("showConnectionTip",n.getLineById(t))}),o.add(a),o.attr({class:"mind-connection-label-icons"}),o.hide(),o},editConnectionLabel:function(e,t){var n,i=this;this.mindMap.execCommand("CLEAR_ALL_SELECTED_TOPIC");var o=this.getLineStyles((null===(n=this.mindMap.renderer.mindTree.lines)||void 0===n?void 0:n[e.id])||e),a=t.findOne(".mind-connection-label-icons");this.inputText=e.label;var r=new l.ForeignObject;r.attr({style:"overflow: visible"}),r.width(this.labelMaxWidth);var c=document.createElement("DIV");c.style.display="flex",c.style.justifyContent="center";var d=document.createElement("DIV");d.setAttribute("contenteditable",!0),d.setAttribute("class","mind-connection-label-edit"),d.setAttribute("spellcheck",!1),d.setAttribute("id",e.id),d.setAttribute("tabindex",-1),d.textContent=e.label||"label",d.style.padding="".concat(this.textPaddingY,"px ").concat(this.textPaddingX,"px"),d.style.maxWidth="".concat(this.labelMaxWidth,"px"),d.style.background=o.lineColor,d.style.borderRadius="5px",d.style.boxSizing="border-box",d.style.fontSize="13px",d.style.color=(0,s.getColorBasedOnBackground)(o.lineColor),d.style["-webkit-user-select"]="text",c.appendChild(d);var u=t.findOne(".mind-connection-label"),p=u.bbox(),h=p.width,m=p.height,f=this.getConnectionMidPoint(e);function g(e,t){var n=d.getBoundingClientRect(),i=n.width,o=n.height,s=e||o,l=t||i;r.height(s),r.y(f.y-s/2),a.transform({tx:h/2+l/2-8,ty:-(s/2-m/2+8)})}r.x(f.x-this.labelMaxWidth/2).y(f.y-m/2),r.add(c),r.insertBefore(t),(0,s.isMobile)()&&(this.mindMap.emit("closeControlBar"),this.mindMap.emit("hideOutlineMenu"),this.mindMap.emit("hide_page-model-con")),(0,s.isIos)()&&d.focus(),setTimeout(function(){(0,s.isIos)()||d.focus(),(0,s.selectText)(d);var e=d.getBoundingClientRect(),t=e.width,n=e.height,o=e.left,a=e.top;(0,s.isMobile)()&&!(0,s.isIos)()&&i.mindMap.once("resize",function(){var e=i.mindMap.toSvgPos({pageX:o,pageY:a}),r=i.mindMap.view.scale;i.mindMap.renderer.moveTopicToClientView({width:t/r,height:n/r,left:e.x,top:e.y})})}),g(m,h),u.hide(),d.addEventListener("mousedown",function(e){e.stopPropagation()}),d.addEventListener("dblclick",function(e){e.stopPropagation()}),d.addEventListener("keydown",function(e){e.stopPropagation(),13!=e.keyCode||e.shiftKey||e.preventDefault(),13!=e.keyCode||e.altKey||e.preventDefault()}),d.addEventListener("input",function(e){var t=(e.target.innerText||"").trim();i.inputText=t,g()}),d.addEventListener("keyup",function(e){if(e.stopPropagation(),13===e.keyCode){var t=(e.target.innerText||"").trim(),n=d.getAttribute("id"),o=i.getLineById(n);if(!e.altKey&&!e.shiftKey&&null!=o.label&&t!=o.label&&""!=t&&"label"!=t){var a=(0,s.deepClone)(o);o.label=t,i.saveConnectionText(o,a),i.currentLine=o}}}),d.addEventListener("blur",function(){var e=d.getAttribute("id"),n=i.getLineById(e),o=(d.innerText||"").trim();if(r.remove(),n.label!=o){var a=(0,s.deepClone)(n);n.label=o||"label",i.saveConnectionText(n,a)}u.show(),i.updateLabelText(n),t.show(),i.inputText="",(0,s.isMobile)()&&(setTimeout(function(){window.scrollTo(0,0)},100),i.mindMap.emit("showOutlineMenu"),i.mindMap.emit("show_page-model-con"))})},getLineById:function(e){var t,n;return(null===(t=this.mindMap.renderer.mindTree.lines)||void 0===t?void 0:t[e])||((null===(n=this.previewLine)||void 0===n?void 0:n.id)===e?this.previewLine:void 0)},renderConnectionTextPos:function(e,t){var n=e.findOne(".mind-connection-label").bbox(),i=n.width,o=n.height,a=e.findOne(".mind-connection-label-icons"),r=this.getConnectionMidPoint(t);a.transform({tx:i-8,ty:-8}),e.transform({tx:r.x-i/2,ty:r.y-o/2})},renderConnectionTip:function(e){var t;e?this.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+e.id+'"]').findOne(".mind-connection-label-icons").show():null===(t=this.mindMap.associativeLineLabelDraw.find(".mind-connection-label-icons"))||void 0===t||t.hide()},getConnectionMidPoint:function(e){var t=e.points,n=[],i=e.realStart,o=e.realEnd;if(0==t.length){var a=(o.x+i.x)/2,r=(o.y+i.y)/2;n=[{x:a,y:r},{x:a,y:r}]}else n=[{x:t[0].x,y:t[0].y},{x:t[1].x,y:t[1].y}];return{x:.125*i.x+.375*n[0].x+.375*n[1].x+.125*o.x,y:.125*i.y+.375*n[0].y+.375*n[1].y+.125*o.y}},setConn:function(e,t){var n=this.currentLine;if(null!=n){var i=u({},n.styles||{}),o=u(u({},n),{},{styles:u({},i)});if("width"==e){if(i.lineWidth==t)return;n.styles=Object.assign(i,{lineWidth:t})}else if("color"==e){if(i.lineColor==t)return;n.styles=Object.assign(i,{lineColor:t})}else if("type"==e){if(i.lineType==t)return;n.styles=Object.assign(i,{lineType:t})}else if("startArrow"==e){if(i.lineStartArrow==t)return;n.styles=Object.assign(i,{lineStartArrow:t})}else if("endArrow"==e){if(i.lineEndArrow==t)return;n.styles=Object.assign(i,{lineEndArrow:t})}var a=u(u({},n),{},{styles:u({},n.styles||{})});this.updateConnection(a,o),this.createConnectionByLines([a])}},updateConnection:function(e,t,n){this.saveConnection(e),n||this.mindMap.emit("sendMessage","updateConnection",{content:e,original:t})},createConnectionByLines:function(e){for(var t=0;t<e.length;t++){var n,i=e[t];this.renderConnectionDom(i),this.renderArrow(i),this.renderConnectionText(i),(null===(n=this.currentLine)||void 0===n?void 0:n.id)===i.id&&this.renderConnControls(i)}this.resetAllConnectionPos(this.mindMap.renderer.mindTree,e)},getFocusLine:function(){return this.currentLine},editConnectionText:function(){if(this.currentLine){var e=this.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+this.currentLine.id+'"]');e&&this.editConnectionLabel(this.currentLine,e)}},deleteConnection:function(e){this.deleteConnectionMulti([e])},deleteConnectionMulti:function(e,t){if(0!=e.length){for(var n=this.mindMap.renderer.mindTree,i=n.lines,o=0,a=e.length;o<a;o++){var r,l,c=e[o];null===(r=this.mindMap.associativeLineDraw.findOne("g[id=line_"+c.id+"]"))||void 0===r||r.remove(),null===(l=this.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+c.id+'"]'))||void 0===l||l.remove(),this.removeConnectionText(c),null==i||delete i[c.id]}(0,s.isEmptyObject)(i)&&delete n.lines,this.clearControls(),this.currentLine=null,t||this.mindMap.emit("sendMessage","deleteConnection",{content:e})}},removeConnectionText:function(e){var t;null===(t=this.mindMap.associativeLineLabelDraw.find('.mind-connection-con-new[conn="'+e.id+'"]'))||void 0===t||t.remove()},hideOrShowConnectionText:function(e,t){if("show"!=t){var n=this.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+e.id+'"]');n&&n.findOne(".mind-connection-label").hide()}else this.mindMap.associativeLineLabelDraw.findOne(".mind-connection-label").show()},deleteConnectionByTopics:function(e,t,n){var i=this,o=this.mindMap.renderer.mindTree,a=Object.values(o.lines||{});e.length>0&&a.length>0&&function(){var o=[];if(0==!!t){for(var r=function(t,r){var s=e[t],l=(n?[s.id]:i.mindMap.renderer.getChildrenIds(s,!1)).join(",");a.forEach(function(e){(l.indexOf(e.from)>=0||l.indexOf(e.to)>=0)&&o.push(e)})},s=0,l=e.length;s<l;s++)r(s);i.hideConnectionMulti(o)}else{for(var c=function(t,r){var s=e[t],l=(n?[s.id]:i.mindMap.renderer.getChildrenIds(s)).join(",");a.forEach(function(e){(l.indexOf(e.from)>=0||l.indexOf(e.to)>=0)&&o.push(e)})},d=0,u=e.length;d<u;d++)c(d);i.deleteConnectionMulti(o)}}()},hideConnectionMulti:function(e){if(0!=e.length){for(var t=0,n=e.length;t<n;t++){var i,o,a=e[t];null===(i=this.mindMap.associativeLineDraw.findOne("g[id=line_"+a.id+"]"))||void 0===i||i.remove(),null===(o=this.mindMap.associativeLineLabelDraw.findOne('.mind-connection-con-new[conn="'+a.id+'"]'))||void 0===o||o.remove()}this.clearControls()}},showConnectionMulti:function(e,t){var n=[],i=this.mindMap.renderer,o=i.mindTree,a=Object.values(o.lines||{});if(0!==a.length){for(var r=function(){var o=e[s],r=(t?[o.id]:i.getChildrenIds(o,!1)).join(",");a.forEach(function(e){(r.indexOf(e.from)>=0||r.indexOf(e.to)>=0)&&n.push(e)})},s=0,l=e.length;s<l;s++)r();this.loadConnections(n)}},resetAllConnectionPos:function(e,t){var n=e.lines;if(null!=n&&!(0,s.isEmptyObject)(n))for(var i in null!=t&&(n=t),n){var o=void 0,a=void 0,l=n[i];if(null!=this.mindMap.associativeLineDraw.findOne("#line_"+l.id)){try{o=this.getTopicRealPos(l.to),a=this.getTopicRealPos(l.from)}catch(e){continue}var c=l.points,d={x:a.x-a.w/2+l.start.x*a.w,y:a.y-a.h/2+l.start.y*a.h},u={x:o.x-o.w/2+l.end.x*o.w,y:o.y-o.h/2+l.end.y*o.h};if(l.realStart=d,l.realEnd=u,null!=c&&c.length>0){var p=l.pts;0!==p.length&&(c[0]={x:p[0].x+a.x,y:p[0].y+a.y},c[1]={x:p[1].x+o.x,y:p[1].y+o.y})}var h={},m={};0==c.length?(h={x:(u.x+d.x)/2,y:(u.y+d.y)/2},m={x:(u.x+d.x)/2,y:(u.y+d.y)/2}):(m={x:c[0].x,y:c[0].y},h={x:c[1].x,y:c[1].y});var f={x:u.x,y:u.y},g={x:d.x,y:d.y};l.startAngle=(0,r.getAngle)(m,g),l.endAngle=(0,r.getAngle)(h,f),this.setConnectionLinePath(l),this.renderArrow(l),this.renderConnectionText(l,!1)}}},getConnectionsByTopic:function(e){var t=this.mindMap.renderer,n=t.mindTree.lines;if(null!=n&&!(0,s.isEmptyObject)(n)){var i=t.getTopicById(e),o=t.getChildrenIds(i);o.push(e);var a=o.join(","),r=[];for(var l in n){var c=n[l];(a.indexOf(c.from)>=0||a.indexOf(c.to)>=0)&&r.push(c)}return r}},saveConnectionText:function(e,t){this.mindMap.renderer.mindTree.lines[e.id]=e,this.mindMap.emit("sendMessage","updateConnection",{content:e,original:t})},onRemoveTopics:function(e){this.deleteConnectionByTopics(e)},onHideTopicsConnectLine:function(e,t){this.deleteConnectionByTopics(e,!1,t)},onShowTopicsConnectLine:function(e,t){this.showConnectionMulti(e,t)}}},36709:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.equation=void 0,n(69268),n(84889);var i=n(5263),o=n(15240);t.equation={bindEvent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.mindMap.on("renderEquation",this.renderEquation.bind(this)),(0,o.isSafari)()&&this.mindMap.on("scale",function(t){e.scaleEquation(t)})},renderEquation:function(e){i.insert.equation.renderEquation(e)},scaleEquation:function(e){document.querySelectorAll(".po-richtext-node-wrap.po-safari-fixed").forEach(function(t){t.style.transform="scale(".concat(e,")"),t.style.transformOrigin="left top"})}}},44437:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.file=void 0,n(82403),n(12638),n(69268),n(86837),n(14237),n(24812),n(56980),n(97316),n(92439),n(16610),n(19301);var i=n(3578);t.file={bindEvent:function(e){var t=e.mindMap;this.mindMap=t,this.mindMap.on("open_topic_file",this.topicFileClick.bind(this))},topicFileClick:function(e){var t=e.getData("file"),n=e.getData("link");if(!t&&n&&"file"===n.type&&(t=n),t){var o=t,a=o.title,r=o.value;"function"==typeof this.mindMap.opt.customOpenFile&&this.mindMap.opt.customOpenFile({url:r,type:"file"}),injectExtraAsynCall("openFileUrl",{url:r,type:"file",title:a},function(){if(i.presenter.presenting){var e=$(".slide-iframe-con");if(/\.(gif|jpg|jpeg|png|GIF|JPG|PNG|svg)$/.test(r))return e.find(".img img").attr("src",r),void e.show().find(".img").show();if(/\.(txt)$/.test(r))return e.find("iframe").attr({src:r}),e.find(".loading, .iframe").show(),void e.show().find("iframe").off().on("load",function(){$(this).show(),e.find(".loading").hide()})}else if(/\.(gif|jpg|jpeg|png|GIF|JPG|PNG|svg|txt)$/.test(r))return void window.open(r);var t=a,n=new window.XMLHttpRequest;n.open("GET",r,!0),n.responseType="blob",n.onload=function(){var e=window.URL.createObjectURL(n.response),i=document.createElement("a");i.href=e,i.download=t,i.style.display="none",document.body.append(i),i.click()},n.send()})}}}},47253:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.icons=void 0,n(61894),n(96909),n(82403),n(6284),n(69268),n(86837);var i=n(6716),o=n(15240),a=n(47306);t.icons={bindEvent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.mindMap.on("removeIcon",this.removeIcon.bind(this)),this.mindMap.on("setIcon",this.setIcon.bind(this)),this.mindMap.on("renderIconsList",this.renderIconsList.bind(this)),this.mindMap.on("topic_icon_click",this.topicIconClick.bind(this)),this.mindMap.on("view_data_change_real_time",this.closeIconBox),this.mindMap.keyCommand.addShortcut("Control+1|Control+2|Control+3|Control+4|Control+5|Control+6|Control+7|Control+8|Control+9",function(t){t.preventDefault();var n=t.key;if(n>="1"&&n<="9"){var i=$(".mind-right-detail-icons").find("[n=priority]"),o=$(i[n-1]),a=o.css("color");e.setIcon(o,null,a)}})},baseColor:["#F85767","#FF863C","#FFB60A","#28BF5A","#21B1DF","#1E90F4","#135CEA","#7F68DA"],getIconsType:function(e){var t=this.iconsMap,n="basic";for(var i in t)if(t[i].indexOf(e)>-1){n=i;break}return n},getIconSvg:function(e,t,n){var o=i.poMindSvg[e],a='<svg width="'.concat(n,'" height="').concat(n,'" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" style="font-size:inherit;">\n\t\t');if("object"==w(o))for(var r=0,s=o.length;r<s;r++)a+="<path ".concat(o[r],' fill="').concat(t,'"></path>');else a+="<path ".concat(o,' fill="').concat(t,'"></path>');return a+="\n\t\t</svg>"},getMultiColorIconSvg:function(e,t){for(var n='<svg width="'.concat(t,'" height="').concat(t,'" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" style="font-size:inherit;">'),o=i.poMindSvg[e],a=i.poMindSvgColor[e],r=0,s=o.length;r<s;r++)n+="<path ".concat(o[r],' fill="').concat(a[r],'"></path>');return n+="</svg>"},currentIcon:{},setIcon:function(e,t,n){var i=this,a=e.attr("ico"),r=null==e.attr("n")?"":e.attr("n"),s={index:a,name:r};"multiColour"==i.getIconsType(r)&&(n=null),null!=n?s.color=n:"multiColour"!=i.getIconsType(r)&&null!=i.currentIcon&&null!=i.currentIcon.color&&(s.color=i.currentIcon.color);var l=this.mindMap.renderer.selectedTopicList;if(!this.mindMap.opt.readonly&&0!=l.length&&""!=s.index&&null!=s.index){for(var c=[],d=[],u=0,p=l.length;u<p;u++){var h=l[u].topicData,m=(0,o.copyTopicData)(h);d.push(m),null==h.icons&&(h.icons=[]);for(var f=h.icons,g=-1,v=-1,b=!1,y=0,x=f.length;y<x;y++){var w=f[y];if(s.index==w.index){v=y;break}if(w.name==s.name&&"other"!=s.name){g=y;break}}g>=0?(f.splice(g,1,s),i.currentIcon=s):v>=0?(f.splice(v,1),b=!0):f.push(s),null!=t&&(h.task=$.extend(h.task,t));var k=e.parent(".po-tool-button").length>0?e.parent(".po-tool-button"):e,_=k.attr("class").replace("selected","");b?k.attr("class",_):k.attr("class",_+" selected"),""!=s.name&&"other"!=s.name&&k.siblings().attr("class",_),c.push(h)}this.mindMap.execCommand("UPDATE_TOPIC_NODE",c,d,"icons")}},getIcon:function(e,t){for(var n=null,i=0,o=e.length;i<o;i++){var a=e[i];if(t==a.index){n=a;break}}return[n,i]},setWPSIcon:function(e,t,n,i){var o=this,a={index:e.attr("ico"),name:null==e.attr("n")?"":e.attr("n")};i&&(a.url=i),null!=n?a.color=n:null!=o.icons.currentIcon&&null!=o.icons.currentIcon.color&&o.icons.currentIcon.name==a.name&&(a.color=o.icons.currentIcon.color);var r=o.util,s=o.model,l=r.selectedIds;if(!this.mindMap.opt.readonly&&0!=l.length&&""!=a.index&&null!=a.index){for(var c=[],d=[],u=0,p=l.length;u<p;u++){var h=l[u],m=s.getTopicById(h),f=r.copy(m);d.push(f),null==m.icons&&(m.icons=[]);for(var g=m.icons,v=-1,b=-1,y=!1,x=0,w=g.length;x<w;x++){var k=g[x];if(a.index==k.index){b=x;break}if(k.name==a.name&&!i&&""!=a.name){v=x;break}}v>=0?m.icons.splice(v,1,a):b>=0?(m.icons.splice(b,1),y=!0):m.icons.push(a),null!=t&&(m.task=$.extend(m.task,t)),y?e.removeClass("selected"):e.addClass("selected"),""!=a.name&&"other"!=a.name&&e.siblings().removeClass("selected"),c.push(m)}this.mindMap.execCommand("UPDATE_TOPIC_NODE",c,d,"icons")}},removeIcon:function(e){var t=this.currentIcon;if(null!=e||null!=t&&null!=t.index){var n=this.mindMap.renderer.selectedTopicList;if(0!=n.length){for(var i=[],a=[],r=0,s=n.length;r<s;r++){var l=n[r].topicData,c=(0,o.copyTopicData)(l),d=l.icons;a.push(c);for(var u=0,p=d.length;u<p;u++){var h=d[u];if(null!=e&&h.name==e){d.splice(u,1);break}if(h.index==t.index){d.splice(u,1);break}null!=e&&(l.task[e]=null)}i.push(l)}this.mindMap.execCommand("UPDATE_TOPIC_NODE",i,a,"icons")}}},setIconColor:function(e){var t=this.mindMap.renderer.getSelectedTopic().getData();if(null!=t){var n=this.currentIcon;if(null!=n.index){for(var i=(0,o.copyTopicData)(t),a=t.icons,r=0,s=a.length;r<s;r++){var l=a[r];if(l.index==n.index){l.color=e,n.color=e;break}}this.mindMap.execCommand("UPDATE_TOPIC_NODE",t,i,"icons")}}},icons:{},oldIcons:{face:[{index:9,text:"&#xe6c8"},{index:11,text:"&#xe6ca"},{index:10,text:"&#xe6c6"}],priority:[{index:0,text:"&#xe67a"},{index:1,text:"&#xe625"},{index:2,text:"&#xe62a"},{index:3,text:"&#xe635"},{index:4,text:"&#xe626"},{index:5,text:"&#xe62b"},{index:6,text:"&#xe627"},{index:7,text:"&#xe628"},{index:8,text:"&#xe629"}],arrow:[{index:33,text:"&#xe68c"},{index:34,text:"&#xe68e"},{index:35,text:"&#xe68d"},{index:36,text:"&#xe68b"},{index:37,text:"&#xe6a0"}],flag:[{index:26,text:"&#xe67e"},{index:27,text:"&#xe67e"},{index:28,text:"&#xe67e"},{index:29,text:"&#xe67e"},{index:30,text:"&#xe67e"},{index:31,text:"&#xe67e"},{index:32,text:"&#xe67e"}],completion:[{index:17,text:"&#xe6d2"},{index:18,text:"&#xe6d3"},{index:19,text:"&#xe6d4"},{index:20,text:"&#xe6d5"},{index:21,text:"&#xe6d6"},{index:22,text:"&#xe6d7"},{index:23,text:"&#xe6d8"},{index:24,text:"&#xe6d9;"}],other:[{index:38,text:"&#xe6d9"},{index:39,text:"&#xe634"},{index:40,text:"&#xe640"},{index:41,text:"&#xe692"},{index:42,text:"&#xe6b8"},{index:43,text:"&#xe6bb"},{index:44,text:"&#xe6b9"},{index:45,text:"&#xe6bf"},{index:46,text:"&#xe663"},{index:47,text:"&#xe6bd"},{index:48,text:"&#xe621"},{index:49,text:"&#xe6bc"},{index:50,text:"&#xe6c1"},{index:51,text:"&#xe609"},{index:52,text:"&#xe688"},{index:53,text:"&#xe681"},{index:54,text:"&#xe639"},{index:55,text:"&#xe682"},{index:56,text:"&#xe67f"},{index:57,text:"&#xe695"},{index:58,text:"&#xe689"},{index:59,text:"&#xe6be"},{index:60,text:"&#xe683"},{index:61,text:"&#xe6c0"},{index:62,text:"&#xe6b6"},{index:63,text:"&#xe680"},{index:64,text:"&#xe693"}]},getIcons:function(){return this.icons={priority:[{index:"301",text:"&#xea2e;"},{index:"302",text:"&#xea31;"},{index:"303",text:"&#xea37;"},{index:"304",text:"&#xea27;"},{index:"305",text:"&#xea34;"},{index:"306",text:"&#xea20;"},{index:"307",text:"&#xea1e;"},{index:"308",text:"&#xea22;"},{index:"309",text:"&#xea6e;"},{index:"394",text:"&#xea21;"},{index:"395",text:"&#xea29;"},{index:"396",text:"&#xea32;"},{index:"397",text:"&#xea24;"},{index:"398",text:"&#xea2a;"},{index:"399",text:"&#xea23;"},{index:"400",text:"&#xea25;"}],completion:[{index:"310",text:"&#xea64;"},{index:"311",text:"&#xea5a;"},{index:"312",text:"&#xea54;"},{index:"313",text:"&#xea4c;"},{index:"314",text:"&#xea5d;"},{index:"315",text:"&#xea65;"},{index:"316",text:"&#xea62;"},{index:"317",text:"&#xea60;"}],face:[{index:"118",text:"#icon-biaoqing-weixiao-wubaibian"},{index:"119",text:"#icon-biaoqing-bugaoxing-wubaibian"},{index:"120",text:"#icon-biaoqing-xiaoku-wubaibian"},{index:"121",text:"#icon-biaoqing-xihuan-wubaibian"},{index:"122",text:"#icon-biaoqing-xiao-wubaibian"},{index:"123",text:"#icon-biaoqing-shengqi-wubaibian"},{index:"194",text:"#icon-biaoqing-ku-wubaibian"},{index:"124",text:"#icon-biaoqing-heixian-wubaibian"},{index:"125",text:"#icon-biaoqing-kun-wubaibian"},{index:"126",text:"#icon-biaoqing-douyan-wubaibian"},{index:"127",text:"#icon-biaoqing-yun-wubaibian"},{index:"128",text:"#icon-biaoqing-goutou-wubaibian"},{index:"201",text:"#icon-biaoqing-heshi-wubaibian"},{index:"202",text:"#icon-biaoqing-zan-wubaibian"},{index:"203",text:"#icon-biaoqing-jiayou-wubaibian"},{index:"204",text:"#icon-biaoqing-bishi-wubaibian"}],arrow:[{index:"329",text:"&#xea56;"},{index:"330",text:"&#xea50;"},{index:"331",text:"&#xea5f;"},{index:"332",text:"&#xea57;"},{index:"333",text:"&#xea4f;"},{index:"334",text:"&#xea58;"},{index:"405",text:"&#xea53;"},{index:"406",text:"&#xea5b;"}],flag:[{index:"335",text:"&#xea63;"},{index:"336",text:"&#xea63;"},{index:"408",text:"&#xea63;"},{index:"337",text:"&#xea63;"},{index:"338",text:"&#xea63;"},{index:"339",text:"&#xea63;"},{index:"340",text:"&#xea63;"},{index:"341",text:"&#xea63;"}],star:[{index:"342",text:"&#xea5c"},{index:"343",text:"&#xea5c"},{index:"407",text:"&#xea5c"},{index:"344",text:"&#xea5c"},{index:"345",text:"&#xea5c"},{index:"346",text:"&#xea5c"},{index:"347",text:"&#xea5c"},{index:"348",text:"&#xea5c"}],month:[{index:"349",text:"&#xea2b;"},{index:"350",text:"&#xea38;"},{index:"351",text:"&#xea30;"},{index:"352",text:"&#xea2d;"},{index:"353",text:"&#xea2f;"},{index:"354",text:"&#xea2c;"},{index:"355",text:"&#xea33;"},{index:"356",text:"&#xea36;"},{index:"357",text:"&#xea35;"},{index:"358",text:"&#xea28;"},{index:"359",text:"&#xea26;"},{index:"360",text:"&#xea1f;"}],day:[{index:"361",text:"&#xea6d;"},{index:"362",text:"&#xea6c;"},{index:"363",text:"&#xea69;"},{index:"364",text:"&#xea6b;"},{index:"365",text:"&#xea67;"},{index:"366",text:"&#xea68;"},{index:"367",text:"&#xea6a;"}],other:[{index:"368",text:"&#xea41;"},{index:"369",text:"&#xea3b;"},{index:"370",text:"&#xea52;"},{index:"371",text:"&#xea4b;"},{index:"372",text:"&#xea44;"},{index:"373",text:"&#xea49;"},{index:"374",text:"&#xea47;"},{index:"375",text:"&#xea42;"},{index:"376",text:"&#xea4d;"},{index:"377",text:"&#xea5e;"},{index:"378",text:"&#xea43;"},{index:"379",text:"&#xea4a;"},{index:"380",text:"&#xea3c;"},{index:"381",text:"&#xea40;"},{index:"382",text:"&#xea59;"},{index:"383",text:"&#xea55;"},{index:"384",text:"&#xea4e;"},{index:"385",text:"&#xea3a;"},{index:"386",text:"&#xea61;"},{index:"387",text:"&#xea3d;"},{index:"388",text:"&#xea3e;"},{index:"389",text:"&#xea39;"},{index:"390",text:"&#xea48;"},{index:"391",text:"&#xea45;"},{index:"392",text:"&#xea66;"},{index:"393",text:"&#xea3f;"},{index:"409",text:"&#xea51;"},{index:"410",text:"&#xea46;"}]},this.icons},iconsMap:{single:["star","flag"],multiColour:["face"]},defaultColors:{priority:["#F85767","#FF863C","#FFB60A","#28BF5A","#21B1DF","#1E90F4","#135CEA","#7F68DA","#6D7E9E","#6D7E9E","#6D7E9E","#6D7E9E","#6D7E9E","#6D7E9E","#6D7E9E","#6D7E9E"],completion:["#F85767","#FF6610","#FF900D","#FFBC0F","#7ECC00","#35CB00","#00BA3F","#00BA4A"],arrow:["#FF863B"],flag:["#F85767","#FF863B","#FFB60A","#28BF5A","#1E90F4","#995AFF","#DC51BD","#6D7E9E"],star:["#F85767","#FF863B","#FFB60A","#28BF5A","#1E90F4","#995AFF","#DC51BD","#6D7E9E"],month:["#067BEF"],day:["#6D7E9E"],other:["#28BF5A","#F85767","#995AFF","#1E90F4","#F85767","#7ECC00","#7F68DA","#FF863B","#DC51BD","#1E90F4","#7F68DA","#28BF5A","#995AFF","#1E90F4","#FF863B","#5D8DE7","#125CEA","#DC51BD","#28BF5A","#1E90F4","#7F68DA","#F85767","#125CEA","#FF863B","#5D8DE7","#7F68DA","#28BF5A","#F85767"]},renderIconsList:function(e){if(!(e.find(".icon-n").length>0)){var t,n=this.getIcons(),i=0;for(var o in n){var a=n[o],r="<div>",s=this.getIconsType(o);t=this.defaultColors[o];for(var l=0;l<a.length;l++){var c=a[l];"multiColour"==s?r+='<svg ico="'.concat(c.index,'" n="').concat(o,'" class="icon icon-n" aria-hidden="true"><use xlink:href="').concat(c.text,'"></use></svg>'):(c.color=t[l]||t[0],r+='<span ico="'.concat(c.index,'" n="').concat(o,'" class="expression-icons icon-n" style="color:').concat(c.color,'">').concat(c.text,"</span>"))}r+="</div>","month"==o&&i++,e.find(".title:eq("+i+")").after(r),i++}}},renderColors:function(e){for(var t=this.baseColor,n="<div class='mind-box-color'>",i=!1,o=0,r=t.length;o<r;o++){var s=t[o],l="",c="#fff;";"#d6f0f8"==s&&(c="#276F86"),e?e.indexOf("rgb")>=0&&(e=a.Util.getHexColor(e).hex):e="d6f0f8","#"+e.toLowerCase()==s.toLowerCase()&&(i=!0,l="selected"),n+="<span class='default-color "+l+"' style='background:"+s+";color:"+c+";'></span>"}var d="";return i||(d="background-color:#"+e.replace("#","")),(n+='<span  class="mind-color-box po-tool-button"><label class="po-diagraming-icons">&#xe6df;</label><span class="po-tool-button-color" style="'+d+'"></span></span>')+"</div>"},renderIcons:function(e,t,n,i){var o="";if(null!=n&&n.length>0)for(var a=0;a<n.length;a++)o+="-"+n[a].index+",";for(var r='<div class="icons">',s=this.defaultColors[t.name],l=0;l<e.length;l++){var c=e[l],d="";if((o.indexOf("-"+c.index+",")>=0||t.index==c.index)&&(d=" selected"),"multiColour"==i)r+='<span class="po-tool-button '+d+'"><svg ico="'+c.index+'" n="'+t.name+'" class="icon" aria-hidden="true"> <use xlink:href="'+c.text+'"></use> </svg></span>';else{var u="";s.length>1&&(c.color=s[l]||s[0],u='style="color:'.concat(c.color,'"')),r+='<span class="po-tool-button  '.concat(d,"\"><span n='").concat(t.name,"' ico='").concat(c.index,"' class='expression-icons icon' ").concat(u,"> ").concat(c.text," </span></span>")}}return r+"</div>"},closeIconBox:function(){$("#mind-icons-box").remove()},renderIconBox:function(e,t){$("#mind-icons-box").length>0&&$("#mind-icons-box").remove();var n=e.name,i='<div id="mind-icons-box" class="mind-icons-box po-dropdown">',o=this.getIcons()[n],a="";if(o){var r=this.getIconsType(n);"single"!=r&&(a+=this.renderIcons(o,e,t,r)),"multiColour"!=r&&("single"!=r&&(a+='<div class="line"></div>'),a+=this.renderColors(e.color))}return(i+=a+='<div style="display:flex;justify-content:space-evenly;align-items:center;"><span class="po-tool-button"><span top="true" class="icon po-diagraming-icons">&#xea26;</span></span><div class="po-tool-devider" style="margin:0 0 0 8px"></div><span class="po-tool-button"><span remove="true" class="icon po-diagraming-icons">&#xe7b7;</span></span></div>')+"</div>"},showIcons:function(e,t,n,i){t=$(t.node);var o=$(t).index(),a={index:i,name:n,color:e.icons[o].color};e.icons[o].url&&(a.url=e.icons[o].url),this.currentIcon=a;var r=this.renderIconBox(a,e.icons),s=$(r);s.appendTo("body"),$.fn.showPanel({target:t[0],panel:s}),this.initIconEvent(t)},sortIconTop:function(){var e=this.currentIcon;if(null!=e&&null!=e.index){var t=this.mindMap.renderer.selectedTopicList;if(0!=t.length){for(var n=[],i=[],a=0,r=t.length;a<r;a++){var s=t[a].topicData,l=(0,o.copyTopicData)(s),c=s.icons;i.push(l);for(var d=0,u=c.length;d<u;d++)if(c[d].index==e.index){c.splice(d,1),c.unshift(e);break}n.push(s)}this.mindMap.execCommand("UPDATE_TOPIC_NODE",n,i,"icons")}}},initIconEvent:function(e){var t=this;$(document).off("click.icons").on("click.icons","#mind-icons-box .icon",function(n){n.stopPropagation();var i=$(this);if(i.attr("remove"))return t.removeIcon(),void $("#mind-icons-box").remove();if(i.attr("top"))return t.sortIconTop(),void $("#mind-icons-box, .po-hover-tip").remove();var o=null,a=t.defaultColors[i.attr("n")];a&&a.length>1&&(o=i.css("color")),t.setIcon.call(t,i,null,o);var r=e.attr("ico"),s=$("#mind-icons-box"),l=s.find("[ico="+r+"]");l.length&&!l.hasClass("selected")&&s.remove()}),$(document).off("click.colors").on("click.colors",".mind-box-color>span",function(e){var n=$(this);t.selColor(n,function(e){t.setIconColor(e)}),e.stopPropagation()})},selColor:function(e,t){if(e.hasClass("mind-color-box")){var n=e.button("getColor");return $.colorpicker({position:"right",target:e,color:n,type:"hex",onSelect:function(n){null==n&&(n="transparent"),e.button("setColor",n),t(n),e.removeClass("selected")},onClose:function(){e.removeClass("selected")}}),void e.addClass("selected")}e.addClass("selected").siblings().removeClass("selected");var i=e.css("background-color");t(i)},topicIconClick:function(e,t,n){if(!this.mindMap.opt.readonly&&!(0,o.isMobile)()){var i=t.attr("n"),a=t.attr("ico"),r=e.getPureData();e.selected(),this.showIcons(r,t,i,a),n.stopPropagation()}}}},58914:function(e,t,n){n(61894),n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.image=void 0;var o=i(n(66603));n(27531),n(4790),n(38887);var a=n(21425),r=n(78322),s=n(15240),l=n(31847),c=i(n(32483));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.image={bindEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=e.mindMap,this.mindMap.on("set_topic_img",this.setTopicImage.bind(this)),this.mindMap.on("remove_topic_img",this.removeTopicImage.bind(this)),this.mindMap.on("copy_topic_to_img",this.copyToImage.bind(this)),this.dragImage()},setTopicImage:function(){var e=C(k().mark(function e(t){var n,i,o,a,r,l,c,d,u=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:{},i=u.length>2?u[2]:void 0,o=u.length>3?u[3]:void 0,t||(t=o?this.mindMap.renderer.getCacheTopic(o):this.mindMap.renderer.getSelectedTopic()),!this.mindMap.opt.readonly&&t){e.next=3;break}return e.abrupt("return");case 3:return a=(0,s.deepClone)(t.getPureData()),r={direction:"up"},i&&(l=i.width,c=i.height,r.w=l,r.h=c,c>300&&(r.w=300*l/c,r.h=300),l>300&&(r.h=300*c/l,r.w=300)),d=t.topicData,i&&d.image&&(d.image.w=r.w,d.image.h=r.h),d.image=$.extend(r,t.getData("image"),n),t.getData("code")&&delete t.topicData.code,e.next=11,this.mindMap.execCommand("UPDATE_TOPIC_NODE",[t],[a],"image");case 11:(0,s.isMobile)()&&t.selected();case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),removeTopicImage:function(e){if(e&&!this.mindMap.opt.readonly){var t=e.getPureData();delete e.topicData.image,this.mindMap.emit("close_topic_image_opmenu"),this.mindMap.execCommand("UPDATE_TOPIC_NODE",[e],[t],"image")}},copyToImage:function(e){var t=this;return C(k().mark(function n(){var i,o,s;return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e||(e=t.mindMap.renderer.getSelectedTopic()),i="transparent"===(i=t.mindMap.renderer.getBackgroundColor())||i.includes("url(")?"#ffffff":i,n.next=5,t.mindMap.poExport.exportTopicImg(e,{backgroundColor:i});case 5:if(o=n.sent,$("#svg_exporter").empty(),!o.status||"success"===o.status){n.next=8;break}return n.abrupt("return",void $.toast({type:"error",text:c.default.t("js.Failed_to_copy_as_picture")}));case 8:return n.next=10,(0,r.imageToBlob)(o.img);case 10:return s=n.sent,n.abrupt("return",(0,a.write)([new ClipboardItem(x({},s.type,s))]));case 12:case"end":return n.stop()}},n)}))()},dragImage:function(){var e=this;if(!this.mindMap.opt.readonly){var t=new l.EventManage(this.mindMap);t.on("topic_img_mousedown",function(n,i){if(!(0,s.isMobile)()){i.stopPropagation();var o=i.pageX,a=i.pageY;t.on("mousemove",function(t){t.preventDefault(),(Math.abs(t.pageX-o)>5||Math.abs(t.pageY-a)>5)&&(e.mindMap.emit("close_topic_image_opmenu"),$.toast({type:"secondary",text:c.default.t("js.Drag_to_another_subject")}))}),t.on("mouseup",function(){$.toast("close"),t.off("mousemove"),t.off("mouseup"),t.off("topic_mouseup")}),t.on("topic_mouseup",function(i,o){if(t.off("mousemove"),t.off("mouseup"),t.off("topic_mouseup"),o&&!o.boundary&&o.id!==n.id){var a=u({},n.getData("image"));delete a.direction,e.setTopicImage(o,u({},a))}})}})}}}},71219:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.link=void 0,n(27531),n(61894),n(5682),n(65528),n(4790),n(82403),n(38887),n(6284),n(47958),n(69268),n(86837),n(54938),n(14237);var o=i(n(32483)),a=n(47306),r=n(15240),s=n(46346),l=n(3578);t.link={bindEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=e.mindMap,this.mindMap.on("setLink",this.setLink.bind(this)),this.mindMap.on("removeLink",this.removeLink.bind(this)),this.mindMap.on("removeTopicLink",this.removeTopicLink.bind(this)),this.mindMap.on("topicLinkInit",this.topicLinkInit.bind(this)),this.mindMap.on("tplink_to_topic",this.linkToTopic.bind(this)),this.mindMap.on("view_data_change_real_time",function(){$("#po_link_box").remove()}),this.mindMap.on("checkLink",this.checkLink.bind(this))},setLink:function(e,t,n){if(null!=t&&""!=$.trim(e.value)){var i=t.getData();null==i.link&&(i.link={});var o=(0,r.copyTopicData)(i);if(null==o.link||o.link.value!=e.value||null==o.link||o.link.title!=e.title){var a="link";"url"==n?i.link=e:(i.file=e,a="file"),this.mindMap.execCommand("UPDATE_TOPIC_NODE",i,o,a)}}},removeLink:function(e,t){if(null!=t){var n=t.getData(),i=(0,r.copyTopicData)(n),o=e;if("url"==e){if(null==n.link&&n.link&&"url"!=n.link.type)return;o="link",delete n.link}else{if(null==n.file&&n.link&&"file"!=n.link.type)return;n.file?delete n.file:delete n.link}this.mindMap.execCommand("UPDATE_TOPIC_NODE",n,i,o)}},originNodeId:null,selectNodeId:null,linkBack:!1,linkPage:"",pageData:"",topicLinkInit:function(e){var t=e||this.mindMap.renderer.getSelectedTopic();if(t){var n=this,i=t.getData(),o=i.id;n.originNodeId=null,n.selectNodeId=null,n.linkBack=!1,this.checkLink(i,"t_link",function(e){if(e){n.initTopicList(o),$(".mind-corner.left").hasClass("active")&&($(".mind-corner.left").showCorner("close"),editorGlobal.mindMap.emit("hideCornerPos","left"));var t=(0,r.copyTopicData)(n.mindMap.renderer.getTopicById("root")._topic);n.selectNodeId=a;var i=n.mindMap.renderer.getTopicById(o).link;if(i&&"t_link"==i.type){var a=i.id.replace("link_",""),l=$("#ol_"+a),c=$("#link-list-container");n.scrollToTarget(c,l),n.originNodeId=a,n.selectNodeId=a}s.Outline.init({target:"link-list-container",searchTarget:"link-list-container-search",searchIpt:"link-outline-search-ipt",line:{show:!0},readonly:!0,linkSearch:!0,indent:"wider"},t)}})}},updateTopicListDetail:function(e,t){if($(".link-radio").removeClass("checked").attr("po-data","unchecked"),$("#link-setting-ok, .link-radio").addClass("disabled"),this.linkBack=!1,e){if(!t){var n=this.mindMap.renderer.getTopicById(e)._topic.link;if(!n||"{}"==JSON.stringify(n)||"t_link"!=n.type)return void(this.selectNodeId=null);t=n.id.replace("link_","")}var i=this.mindMap.renderer.getTopicById(t);i&&i.link&&"t_link"==i.link.type&&i.link.id.replace("link_","")==e&&($(".link-radio").addClass("checked").attr("po-data","checked"),this.linkBack=!0),i&&$(".link-radio").removeClass("disabled"),$("#link-setting-ok").removeClass("disabled"),$(".link-list-content").find(".active").removeClass("active"),t&&($("#ol_"+t+", #search_ol_"+t).addClass("active"),this.selectNodeId=t)}},initTopicList:function(e){var t=this,n=$("#link-list-dlg"),i="",a=[],r="";if(n.length)n.show();else{var s='\n                <ul id="link_page_list" class="po-menu"></ul>\n                <div id="link-list-dlg" class="link-list-dlg">'+(window.editorGlobalConfig.showPage?"\t<div class=\"page-list-select link-retrieval po-search-con\">\n                            <div class='search-icon'>\n                                ".concat(o.default.t("js.Canvas"),'\n                            </div>\n                            <span class="page-line"></span>\n                            <p id="link-page-search-ipt" data-id="').concat(this.linkPage,'"> ').concat(i,'</p>\n                            <span class="po-diagraming-icons">&#xe7c8;</span>\n                            </div>'):"")+"\n                    <div class=\"link-list-search link-retrieval po-search-con\">\n                        <div class='search-icon'>\n                            ".concat(o.default.t("js.Theme"),'\n                        </div>\n                        <span class="page-line"></span>\n                        <input id="link-outline-search-ipt" autocomplete="off" type="text" class="po-input-inner" value="" placeholder="').concat(o.default.t("js.Enter_what_to_find"),'" />\n                    </div>\n                    <div class="link-list-content">\n                        <div style="margin: 0 20px 5px;font-size:14px;line-height: 28px;cursor:pointer"></div>\n                        <div id="link-list-container" class="list-container"></div>\n                        <div id="link-list-container-search" class="list-container"></div>\n                        <div class="preview-frame"></div>\n                    </div>\n                    <div class="link-back">\n                        <div class="po-radio-group">\n                            <div class="po-checkbox link-radio disabled" po-data="unchecked" style="border-radius:50%"></div>\n                            ').concat(o.default.t("js.Add_back_link_for_target_topic"),'\n                        </div>\n                    </div>\n                    <div class="po-buttons">\n                        <div id="link-setting-close" class="po-button gray dialog-close" style="margin-right:10px">').concat(o.default.t("js.Cancel"),'</div>\n                        <div id="link-setting-ok" class="po-button primary disabled">').concat(o.default.t("js.Sure"),"</div>\n                    </div>\n                </div>");$(s).appendTo("body"),n=$("#link-list-dlg")}if(editorGlobal.poPagination){a=editorGlobal.poPagination.list;for(var l=0;l<a.length;l++){var c=a[l],d="";c.definitionId==editorGlobal.poPagination.pageId&&(i=c.title,this.linkPage=editorGlobal.poPagination.pageId,d="select"),r+='<li class="po-menu-item '+d+'" data-id="'+c.definitionId+'"><div class="po-menu-item-box"><span class="text">'+c.title+"</span></div></li>"}$("#link-page-search-ipt").text(i),$("#link-page-search-ipt").data("id",editorGlobal.poPagination.pageId),t.isShowLinkBack(editorGlobal.poPagination.pageId),$("#link_page_list").html(r)}var u=editorGlobal.mindMap.renderer.getTopicById(e).summary?$("#summary-"+e):$("#topic-"+e);if(this.showLinkListDlg(n,u,1),"undefined"!=typeof MutationObserver){window.observer=new MutationObserver(function(n){var i,o=v(n);try{for(o.s();!(i=o.n()).done;)if("childList"===i.value.type){t.updateTopicListDetail(e,t.selectNodeId),t.initEvent(e),$("#ol_root").removeClass("active").removeClass("link_disabled"),t.linkPage==editorGlobal.poPagination.pageId&&$("#ol_"+e+", #search_ol_"+e).addClass("link_disabled");break}}catch(a){o.e(a)}finally{o.f()}});var p=document.querySelector(".link-list-content");window.observer.observe(p,{childList:!0,subtree:!0})}},scrollToTarget:function(e,t){if(e.length&&t.length){var n=$("#link-list-container");n.scrollTop(0),n.scrollLeft(0);var i=t.offset(),o=i.top-e.offset().top,a=i.left-e.offset().left,r=a<60?0:a-60,s=o>e.outerHeight()/2?o-e.outerHeight()/2:0;n.scrollTop(s),n.scrollLeft(r)}},initEvent:function(e){var t,n=this,i=e?this.mindMap.renderer.getTopicById(e):null===(t=this.mindMap.renderer.getSelectedTopic())||void 0===t?void 0:t.getData(),o=$("#link-list-dlg"),a=$(".link-list-content"),r=o.find(".link-radio"),l=a.find(".node-element").children(".node-self");function c(t,i){i==e&&n.linkPage==editorGlobal.poPagination.pageId||n.updateTopicListDetail(e,i)}l.off("mouseenter.outline"),l.off("mouseleave.outline"),$(".page-list-select").off("click").on("click",function(t){t.stopPropagation(),$("#link_page_list").dropdown({target:$(this),zindex:1,position:"bottom",onSelect:function(t){var i=t.data("id"),o=$(t).find(".text").html();$(t).hasClass("select")||($("#link_page_listt").bottomPopup("close"),$(t).addClass("select").siblings().removeClass("select"),$("#link-page-search-ipt").text(o),$("#link-page-search-ipt").data("id",i),r.removeClass("checked").attr("po-data","unchecked"),n.linkBack=!1,n.isShowLinkBack(i),n.getPageData(e,i))}})}),$("#link-list-container-search").off("mouseenter").on("mouseenter",".node-title",function(){var e=$(this),t=$(this).parents(".node-element").eq(0).attr("id").replace("ol_","").replace("search_","");window.linkViewTimer&&(clearTimeout(window.linkViewTimer),window.linkViewTimer=null),window.removeLinkViewTimer&&(clearTimeout(window.removeLinkViewTimer),window.removeLinkViewTimer=null),window.linkViewTimer=setTimeout(function(){var i=$(".link-list-content"),o=$(".preview-frame");i.addClass("preview-list-box");var a=e.offset(),r=i.offset(),s=(o.offset().left,o.offset().top,o.outerHeight()),l=(o.outerWidth(),parseInt(o.css("left"))),c=a.top-r.top+(e.outerHeight()-s)/2;$("#link-list-container, .preview-frame").css({left:l,top:c}).show();var d=$("#ol_"+t);n.scrollToTarget(o,d),$(".preview-active").removeClass("preview-active"),d.children(".node-self").children(".node-title").addClass("preview-active")},300)}),$("#link-list-container-search").off("mouseleave").on("mouseleave",".node-title",function(){window.linkViewTimer&&(clearTimeout(window.linkViewTimer),window.linkViewTimer=null),window.removeLinkViewTimer&&(clearTimeout(window.removeLinkViewTimer),window.removeLinkViewTimer=null),window.removeLinkViewTimer=setTimeout(function(){var e=$(".link-list-content"),t=$("#link-list-container");e.removeClass("preview-list-box"),t.removeAttr("style"),$("#link-list-container-search").is(":visible")&&t.hide()},300)}),l.off().on("click.tplink",".node-title",function(e){var t=$(this).parent().parent(".node-element").attr("id").replace("ol_","").replace("search_","");c($(this),t),e.stopPropagation()}),$("#ol_root").off().on("click",function(e){c($(this),"root"),e.stopPropagation()}),r.radio({change:function(e,t){if("unchecked"==t){if(n.selectNodeId){var i=n.mindMap.renderer.getTopicById(n.selectNodeId)._topic;n.checkLink(i,"t_link",function(e){e&&(r.addClass("checked").attr("po-data","checked"),n.linkBack=!0)})}}else r.removeClass("checked").attr("po-data","unchecked"),n.linkBack=!1}}),$("#link-setting-ok").off("click").on("click",function(){var e=n.mindMap.renderer.getTopicById(n.selectNodeId),t=!0;e||(e=s.Outline.nodeList[n.selectNodeId]),e&&n.linkTpIsBack(e,i)&&!n.linkBack&&(t=!1),n.clickToBuild(n,i,e,n.linkBack,t,function(t){!n.selectNodeId||n.selectNodeId==n.originNodeId&&t||n.setTopicLink(e,i,n.linkBack),n.closeLinkListDlg()})}),$("#link-setting-close").off("click").on("click",function(){n.closeLinkListDlg()}),$(document).on("click",function(e){var t=$(e.target);$("#link-list-dlg").is(":visible")&&0===t.closest("#link-list-dlg").length&&0===t.closest("#link_page_list").length&&0===t.closest("#po-edit-link").length&&n.closeLinkListDlg()})},isShowLinkBack:function(e){e==editorGlobal.poPagination.pageId?$(".link-back").show():$(".link-back").hide()},getPageData:function(e,t){var n=this;n.linkPage=t,injectExtraAsynCall("onServerApi",{apiName:"getDefById",params:{definitionId:t}},function(t){var i=(0,r.copyTopicData)(JSON.parse(t.def));s.Outline.init({target:"link-list-container",searchTarget:"link-list-container-search",searchIpt:"link-outline-search-ipt",line:{show:!0},linkSearch:!0,readonly:!0,indent:"wider"},i);var o=n.mindMap.renderer.getTopicById(e).link;if(o&&"t_link"==o.type){var a=o.id.replace("link_",""),l=$("#ol_"+a),c=$("#link-list-container");return n.scrollToTarget(c,l),void(n.originNodeId=a)}})},linkTpIsBack:function(e,t){var n=e.link;if(n&&"t_link"==n.type){var i,o=n.id.replace("link_",""),a=null===(i=this.linkPage+"")||void 0===i?void 0:i.replace("page_","");if(o==t.id)return!a||a==editorGlobal.poPagination.pageId}return!1},linkTpHasLink:function(e,t){var n=e.link;if(n&&"t_link"==n.type){var i,o=n.id.replace("link_",""),a=null===(i=this.linkPage+"")||void 0===i?void 0:i.replace("page_","");if(o!=t.id)return!0;if(a&&a!=editorGlobal.poPagination.pageId)return!0}return!1},clickToBuild:function(e,t,n,i,a,r){if(i){if(this.linkTpHasLink(n,t))return void this.dialog({title:o.default.t("js.Hint"),content:o.default.t("js.The_target_theme_has_set")},function(t){"ok"==t?a=!1:(e.linkBack=!1,a=!0),r&&r(a)});this.linkTpIsBack(n,t)||(a=!1)}r&&r(a)},checkLink:function(e,t,n){if(e)if(e.link&&"{}"!=JSON.stringify(e.link)){var i=e.link.type;if("t_link"==t&&"url"==i||"url"==t&&"t_link"==i){var a=!1;return void this.dialog({title:o.default.t("js.Hint"),content:"".concat(o.default.t("js.Hyperlink_and_topic_link"),"？")},function(e){a="ok"==e,n&&n(a)})}n&&n(!0)}else n&&n(!0);else n&&n(!1)},setTopicLink:function(e,t,n){if(e&&t&&!this.mindMap.opt.readonly){var i=this,o=[],a=[];if(l(t,e),n)l(e,t);else if(i.linkTpIsBack(e,t)&&!n){var s=(0,r.copyTopicData)(e);o.push(s),delete e.link,a.push(e)}o&&a&&a.length==o.length&&this.mindMap.execCommand("UPDATE_TOPIC_NODE",a,o,"link")}function l(e,t){var n=e.link,s=(0,r.copyTopicData)(e);if(null!=n&&"t_link"==n.type||(e.link={}),null==e.link||"t_link"!=e.link.type||e.link.id!=t.id){o.push(s);var l={pageId:"page_"+i.linkPage,id:"link_"+t.id,type:"t_link"};e.link=l,a.push(e)}}},removeTopicLink:function(e){if(null!=(e=e.getData())&&!this.mindMap.opt.readonly&&null!=e.link){var t=(0,r.copyTopicData)(e);delete e.link,this.mindMap.execCommand("UPDATE_TOPIC_NODE",e,t,"link")}},dialog:function(e,t){e||(e={});var n={title:o.default.t("js.Hint"),content:"",ok:o.default.t("js.Sure"),cancel:o.default.t("js.Cancel_on")};n=$.extend({},n,e),a.Util.confirm({title:n.title,content:n.content,cancelval:n.cancel,okval:n.ok,onConfirm:function(e){e.stopPropagation(),t&&t("ok")},onCancel:function(){t&&t("cancel")}})},showLinkListDlg:function(e,t,n){var i=$(window).width(),o=$(window).height(),a=t.offset().left,r=t.offset().top,s=t.outerHeight(),l=a+(t.outerWidth()*n-e.outerWidth())/2,c=r+s*n+10;e.css({left:l,top:c,opacity:0}).show(),c+e.outerHeight()>o&&(c=o-e.outerHeight()-30),c<$("header").height()&&(c=$("header").height()+20),l<10&&(l=10),l+e.outerWidth()>i&&(l=a-e.outerWidth()),e.stop().animate({left:l,top:c,opacity:1,"z-index":9},10)},closeLinkListDlg:function(){$("#link-list-container").html(""),$("#link-list-container-search").html(""),$("#link-list-dlg").hide(),window.observer&&window.observer.disconnect(),s.Outline.hide()},linkToTopic:function(e,t){var n=this;this.mindMap.emit("hide_tplink_view"),t.stopPropagation(),t.preventDefault();var i=this,a=e.getData(),s=a.link.id.replace("link_","");if(a.link&&null!=a.link.pageId&&"t_link"==a.link.type){var c=(a.link.pageId+"").replace("page_",""),d=!1;if(editorGlobal.poPagination&&editorGlobal.poPagination.list.map(function(e){e.definitionId==c&&(d=!0)}),d&&c!=editorGlobal.poPagination.pageId){if(!i.mindMap.opt.enableLinkToPage)return;return void injectExtraAsynCall("onServerApi",{apiName:"getDefById",params:{definitionId:c}},function(e){editorGlobal.poPagination.resetCanvasInfo(),editorGlobal.mindMap.updateConfig({chartId:editorGlobal.chartId,readonly:editorGlobal.readonly,readonlyList:editorGlobal.readonlyList}),editorGlobal.mindMap.setFullData(JSON.parse(e.def)),editorGlobal.poPagination.pageId=c,editorGlobal.poPagination.renderInit("select"),editorGlobal.mindMap.renderer.getTopicById(s)?setTimeout(function(){var e=editorGlobal.mindMap.renderer.getCacheTopic(s);null==e||e.selected(t)},200):$.toast({type:"warning",text:o.default.t("js.Target_topic_has_been_deleted")})})}if(!i.mindMap.opt.enableLinkToTopic)return;if(l.presenter.presenting&&!l.presenter.toSlideByTopicId(s))return;var u=i.mindMap.renderer.getTopicById(s);if(u)return void h(u)}else{var p=i.mindMap.renderer.getTopicById(s)._topic;if(p)return void h(p)}function h(e){return m.apply(this,arguments)}function m(){return(m=C(k().mark(function e(t){var n,i,o,a,s,l;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,(i=editorGlobal.mindMap.renderer.filterTopicIds).length>0&&!i.includes(n)&&(editorGlobal.mindMap.execCommand("FOCUS",editorGlobal.mindMap.renderer.mindTree.id),$(".po-hover-tip").remove()),o=editorGlobal.mindMap.renderer.getCacheTopic(n)){e.next=11;break}if(a=editorGlobal.mindMap.renderer.getParentIdsByTopicId(n),s=[],a.map(function(e){if("root"==e)return!1;editorGlobal.mindMap.renderer.getTopicById(e).collapsed&&s.push(e)}),e.t0=s.length>0,!e.t0){e.next=11;break}return e.next=10,editorGlobal.mindMap.execCommand("SHOW_TOPICS",s);case 10:o=editorGlobal.mindMap.renderer.getCacheTopic(n);case 11:l=(0,r.checkTopicOuter)(editorGlobal.mindMap,o,0,!1),l.isOuter&&editorGlobal.mindMap.emit("move_topic_to_center",o),o.selected();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}editorGlobal.isView?$.toast({type:"warning",text:o.default.t("js.Target_topic_not_found")}):this.dialog({title:o.default.t("js.Hint"),content:o.default.t("js.Need_to_remove_the_subject_link"),cancel:o.default.t("js.No"),ok:o.default.t("js.Yes")},function(t){"ok"==t&&(n.removeTopicLink(e),$("#po_link_box").remove())})}}},28345:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.mindMention=void 0,n(61894),n(65528),n(4790),n(87812),n(1053),n(82403),n(12638),n(33809),n(64518),n(14544),n(23801),n(66096),n(63551),n(40724),n(81006),n(13253),n(69268),n(58500),n(86837),n(84889),n(54938),n(14237);var o=i(n(32483)),a=n(41295),r=n(46346),s=t.mindMention={bindEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};injectExtraAsynCall("openMention")&&(this.mindMap=e.mindMap,this.mindMap.filterChildren=this.filterChildren.bind(this),this.mindMap.on("deleteMention",this.deleteMention.bind(this)),this.mindMap.on("exitFilter",this.exitFilter.bind(this)),this.mindMap.on("focusFilter",this.focusFilter.bind(this)),this.mindMap.on("posMentionTarget",this.posMentionTarget.bind(this)),this.mindMap.on("getReadonly",this.getReadonly.bind(this)),this.mindMap.on("mentionClickCb",this.mentionClickCb.bind(this)),this.mindMap.on("renderTopicRichTexts",this.renderTopicRichTexts.bind(this)),this.mindMap.on("mentionKeydownEvents",this.keydownEvents.bind(this)),this.mindMap.on("renderMentions",this.renderMentions.bind(this)),this.mindMap.on("openHistoryVersion",this.autoExitFilter.bind(this),!0),this.mindMap.on("searchMention",function(){a.mention.searchMention()}),this.mindMap.on("getMentionPos",function(){a.mention.getMentionPos()}),this.mindMap.on("closeMention",function(){a.mention.close()}),this.mindMap.on("close_mention_focus_bar",this.closeMentionFocusBar),this.mindMap.on("update_focus_ui_pos",this.updatePos.bind(this)))},renderTopicRichTexts:function(e,t,n){if("false"!=editorGlobal.openMention){var i=this.mindMap.opt.readonly;this.mindMap.emit("renderMentions",$(e),i,t,n)}},keydownEvents:function(){var e;(e=a.mention).keydownEvents.apply(e,arguments)},renderMentions:function(){var e;(e=a.mention).renderMentions.apply(e,arguments)},getReadonly:function(){return this.mindMap.opt.readonly},getNewIndex:function(e,t){if(!a.mention.filterId||!e)return t;var n=e.children,i=0;return n.forEach(function(e,n){if(n>=t)return!1;s.filterOutIds.indexOf(e.id)>-1&&i++}),t-=i},filterOutIds:[],filterChildren:function(e){return a.mention.filterId&&e?e=e.filter(function(e){return-1==s.filterOutIds.indexOf(e.id)}):e},exitFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.filterOutIds=[],"0px"==$(".mind-corner.left").css("left")&&$("#outline-dlg[tit=search]").is(":visible")&&($("#outline-dlg[tit=search] .corner-title").children(".label").hide(),$("#outline-type").show(),r.Outline.dataType?r.Outline.controller.hideDesigner():r.Outline.controller.showDesigner()),$(".mind-mention-focus, #mind-mentionUser-list").remove(),a.mention.exitFilter(),e||this.mindMap.emit("setFilterTopicIds",[])},autoExitFilter:function(){this.exitFilter(!0)},focusFilter:function(e){var t=this;this.mindMap.emit("close_topic_focus_bar"),this.filterOutIds=[];var n=e,i=[],o=[],a=[],s=[],l=this.mindMap.renderer.topicsList,c=new RegExp('<span\\s+class="mention"\\s+data-id="'+n+'"');for(var d in l){var u=l[d];if(!u.boundary&&null!=u.title.match(c)){var p,m=u.id;if(i.push(m),"root"==m)break;p=v(u);var f=[u],g=b(u);g.length>0&&(f=g),f.forEach(function(e){y(e)}),o=o.concat(p)}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e?(e.parent&&t.push(e.parent),v(editorGlobal.mindMap.renderer.getTopicById(e.parent),t),t):t}function b(e){var t=[];return function e(n){if(n&&(n.summary&&t.push(n),!n.root)){var i=n.parent;i&&i.root||e(i)}}(e),t}function y(e){if(e.summary)for(var t=this.mindMap.renderer.getTopicById(e.parent),n=e.range,o=-1==n.indexOf(",")?n:n.split(",")[0],r=-1==n.indexOf(",")?n:n.split(",")[1],s=o;s<=r;s++){var l=t.children&&t.children[s]&&t.children[s].id;-1==a.indexOf(l)&&i.push(l)}}o=o.filter(function(e,t,n){return n.indexOf(e)==t}),[].concat(i,a).forEach(function(e){var n=t.mindMap.renderer.getTopicById(e),i=t.mindMap.renderer.getTopicChildren(n,!0).map(function(e){return e.id});s.push.apply(s,h(i))}),this.mindMap.emit("setFilterTopicIds",Array.from(new Set([].concat(h(o),i,s)))),"0px"==$(".mind-corner.left").css("left")&&$("#outline-dlg[tit=search]").is(":visible")&&r.Outline.controller.hideDesigner(),this.renderFocusBar()},topicIsIncludeMention:function(e,t){return new RegExp('<span\\s+class="mention"\\s+data-id="'+t+'"').test(e.title)},renderFocusBar:function(){var e=a.mention.filterName,t=this,n=$(".mind-util-container").find(".mind-mention-focus");if(n.length>0)n.find("#mind-select-mentionUser .text-content").html(e);else{var i=['<div class="mind-mention-focus">'];i.push("<div>"+o.default.t("js.Quit")+' <span id="mind-select-mentionUser" class="po-tool-select-button mind-select-mentionUser"><span class="text-content">'+e+"</span></span>"+o.default.t("js.The_theme")+'</div><span class="devider"></span><span class="po-tool-button close"><i  class="po-diagraming-icons">&#xe80d;</i></span>'),i.push("</div>"),$(".mind-util-container").append(i.join("")),this.defaultLeft=$(".mind-mention-focus").css("left"),this.updatePos();var r=$("#outline-dlg[tit=search]");"0px"==$(".mind-corner.left").css("left")&&r.is(":visible")&&$(".mind-mention-focus").css("left",r.outerWidth()+12),$(".mind-corner.left").css("transition","left 0.3s ease-out, top 0.3s ease-out");var s='<div id="mind-mentionUser-list" class="po-menu"><div class="label">'.concat(o.default.t("Mentioned_Person"),"</div><ul></ul></div>");$(".mind-util-container").append(s),$(".mind-mention-focus .close").off("click").on("click",function(e){t.exitFilter(),e.stopPropagation()}),$("#mind-select-mentionUser").button({onClick:function(e,n){t.renderMentionUsers(),$("#mind-mentionUser-list").dropdown({target:n,zindex:2,position:"left",onSelect:function(e){n.button("setText",e.text()),a.mention.focusFilter(e)}})}})}},updatePos:function(e){void 0===e&&(e=$(".mind-corner.left").hasClass("active")?parseInt($(".mind-corner.left").css("width"))+parseInt($(".mind-corner.left").css("left"))+8+"px":this.defaultLeft),e!==$(".mind-mention-focus").css("left")&&$(".mind-mention-focus").css({left:e})},closeMentionFocusBar:function(){$(".mind-mention-focus").remove()},renderMentionUsers:function(){var e="",t=this.mindMap.renderer.topicsList,n=[],i=/<span\s+class="mention"\s+data-id="([^"]+)"\s+data-name="([^"]+)"\s+data-type="0"/g;for(var o in t)for(var a,r=t[o].title;a=i.exec(r);)-1==n.indexOf(a[1])&&(n.push(a[1]),e+='<li class="po-menu-item" data-id="'.concat(a[1],'" data-name="').concat(a[2],'"><div class="po-menu-item-box">@').concat(a[2],"</div></li>"));$("#mind-mentionUser-list ul").html(e)},posMentionTarget:function(e){var t=this;editorGlobal.mindMap.renderer.isRendering?editorGlobal.mindMap.once("rendered",function(){return t.focusTargetTopic(e)}):this.focusTargetTopic(e)},focusTargetTopic:function(e){return C(k().mark(function t(){var n,i,a;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(editorGlobal.mindMap.renderer.getTopicById(e)){t.next=2;break}return t.abrupt("return",void $.toast({type:"warning",text:o.default.t("js.References_to_you_have_been_removed")}));case 2:if(n=editorGlobal.mindMap.renderer.getCacheTopic(e)){t.next=11;break}if(i=editorGlobal.mindMap.renderer.getParentIdsByTopicId(e),a=[],i.map(function(e){if("root"==e)return!1;editorGlobal.mindMap.renderer.getTopicById(e).collapsed&&a.push(e)}),t.t0=a.length>0,!t.t0){t.next=11;break}return t.next=10,editorGlobal.mindMap.execCommand("SHOW_TOPICS",a);case 10:n=editorGlobal.mindMap.renderer.getCacheTopic(e);case 11:editorGlobal.mindMap.emit("move_topic_to_center",n),n.selected();case 12:case"end":return t.stop()}},t)}))()},deleteMention:function(e){var t,n=e.closest(".po-mind-topic"),i=null===(t=n.attr("id"))||void 0===t?void 0:t.split("topic-")[1],o=i?this.mindMap.renderer.getTopicById(i)._topic:editorGlobal.mindMap.renderer.textEdit._topic;this.mindMap.emit("to_edit_status",null,o,!1,function(){var t=n.find(".mention").index(e),i=$(".area_box");i.length>0&&(i.find(".mention:eq("+t+")").remove(),i.children().blur())})},mentionClickCb:function(){editorGlobal.mindMap.emit("load-outline"),a.mention.filterId||($("#outline-type").children("span").text("@".concat(o.default.t("js.List"))),r.Outline.dataType="mention",r.Outline.controller.hideDesigner())}}},61783:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.note=void 0,n(82403),n(6284),n(47958);var i=n(15240);n(53202);var o=n(59081),a=n(35169);t.note={bindEvent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.mindMap.on("topic_note_click",function(){e.mindMap.opt.readonlyList.note&&e.mindMap.emit("openCorner","note","right",void 0,!1)}),this.mindMap.on("view_data_change_real_time",function(){var t=document.querySelector("#note_view_box");e.showNoteBox||(0,i.isMobile)()||editorGlobal.mindMap.emit("hide_note_view",t)})},show:!0,noteTimer:null,setNote:function(e,t){if(t){var n=t.id;if(!this.mindMap.opt.readonly&&null!=n&&""!=$.trim(n)){e=(0,i.htmlEncode)(e);var o=t.getPureData(),a=t.getData();null==a.note&&""==e||(e!=a.note&&(a.note=e),this.mindMap.execCommand("UPDATE_TOPIC_NODE",a,o,"note"))}}},showNoteBox:!0,createNoteNode:function(e){var t=this;if(!e.getData("note"))return null;var n=(e.getStyle("font-size")||16)+4,a=(new o.SVG).attr("cursor","pointer").size(n,n);a.add((new o.Rect).size(n,n).fill({color:"transparent"}));var r=(new o.Image).load("".concat("v1"===editorGlobal.config.uiType?"".concat(staticBasePath,"/wps/images/note.svg"):"".concat(staticBasePath,"/images/note.svg"))).size(n,n);return a.add(r),a.on("mouseenter",function(){clearTimeout(t.noteTimer),(0,i.isMobile)()||t.renderViewBox(e)}),a.on("mouseleave",function(){t.showNoteBox=!1,t.noteTimer=setTimeout(function(){var n=document.querySelector("#note_view_box");t.showNoteBox||e.mindMap.emit("hide_note_view",n),clearTimeout(t.noteTimer)},500)}),a.on("mousedown",function(n){n.stopPropagation(),t.mindMap.emit("topic_note_click",e)}),{node:a,width:n,height:n}},renderViewBox:function(e){var t=this,n=document.querySelector("#note_view_box");n&&(this.mindMap.emit("hide_note_view",n),this.showNoteBox=!0);var o=new a.Converter({simpleLineBreaks:!0,tables:!0,tasklists:!0}),r=(0,i.htmlDecode)(e.getData("note")),s=o.makeHtml(r);window.filterXSS&&(s=window.filterXSS(s)),(n=document.createElement("div")).setAttribute("id","note_view_box"),n.innerHTML=s,document.body.appendChild(n),this.mindMap.emit("show_note_view",e,n),n.addEventListener("mousedown",function(e){e.stopPropagation()}),n.addEventListener("mouseup",function(e){e.stopPropagation()}),n.addEventListener("mouseenter",function(){t.showNoteBox=!0}),n.addEventListener("mouseleave",function(){t.showNoteBox=!1,t.noteTimer=setTimeout(function(){t.showNoteBox||t.mindMap.emit("hide_note_view",n),clearTimeout(t.noteTimer)},500)})},getNoteContentPosition:function(e){var t=e*this.mindMap.view.getTransformData().transform.scaleY,n=this._noteData.node.node.getBoundingClientRect(),i=n.left,o=n.top;return{left:i,top:o+=t}},renderMobiPreviewBox:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$("#note_view_box");n.length&&n.parent().remove();var i=new a.Converter({simpleLineBreaks:!0,tables:!0,tasklists:!0}),o=e.note,r="";t||(r="<span style='font-size:15px;' class='note-edit'>编辑</span>");var s=i.makeHtml(o).replace(/<(\/)?script([^>]+)?>/g,"&lt;$1script$2&gt;"),l=$(".mind-util-container").last(),c=l.length?l:$("body");(n=$("<div class='op-con-detail mind-remark-panel'><h3><label><i class='po-diagraming-icons'>&#xe6cf;</i></label><span>备注</span><label>"+r+"</label></h3><div id='note_view_box'>"+s+"</div></div>").appendTo(c)).show()}}},24222:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.number=void 0,n(61894),n(65528);var i=n(15240);t.number={bindEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=e.mindMap,this.mindMap.on("setNumber",this.setNumber.bind(this))},renderNumber:function(e,t,n){var o=this,a=e.number;if(a){var r="";!function t(n){if(n.id!==e.id){var s=o.mindMap.renderer.getTopicById(n.parent),l=(0,i.getTopicIndexInTopicList)(n,s.children)+1,c=o.convert(l,a.type);"5"!=a.type?(r=c+"."+r,t(s)):r=c}}(t),n(r,a)}},updateNumber:function(e,t){var n=this,i=e.topicData;if(!i.free&&!i.summary){var o=0,a="";(function e(t){var i=t.parent;if(!(o>2)&&i){o++;var r=n.mindMap.renderer.getTopicById(i);r&&(r.number?a=r:r.free||r.summary||e(r))}})(i),a&&a.number.level>=o&&this.renderNumber(a,i,t)}},setNumber:function(e,t,n){for(var o=[],a=[],r=0;r<e.length;r++){var s=e[r].getData(),l=(0,i.copyTopicData)(s);"none"===t?delete s.number:s.number={type:t,level:n},o.push(s),a.push(l)}this.mindMap.execCommand("UPDATE_TOPIC_NODE",o,a,"number")},convert:function(e,t){function n(e,t){return t>26?String.fromCharCode(e+parseInt(t%26==0?t/26-1:t/26))+String.fromCharCode(e+parseInt(t%26==0?26:t%26)):String.fromCharCode(e+parseInt(t))}switch(t){case"2":if(isNaN(e))return e;for(var i=[["","I","II","III","IV","V","VI","VII","VIII","IX"],["","X","XX","XXX","XL","L","LX","LXX","LXXX","XC"],["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM"],["","M","MM","MMM"]],o="",a=0,r=0,s=1e4;r<4;r++,s/=10)a=Math.floor(e%s/(s/10)),o+=i[3-r][a];return o;case"3":return n(96,e);case"4":return n(64,e);default:return e}}}},67136:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.setStyle=void 0,n(61894),n(38297),n(54183),n(65528),n(4790),n(82403),n(6284),n(69268),n(58500),n(86837),n(84889);var i=n(15240);t.setStyle={bindEvent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.mindMap.command.add("SET_STYLE",this.set.bind(this)),this.mindMap.command.add("CLEAR_STYLE",this.clearStyle.bind(this)),this.mindMap.keyCommand.addShortcut("Control+b",function(){var t=e.mindMap.renderer.selectedTopicList,n=t[0];if(n){var i="bold"===n.getStyle("font-weight"),o=t.filter(function(e){return"bold"===e.getStyle("font-weight")===i});e.mindMap.execCommand("SET_STYLE",o,{"font-weight":i?"normal":"bold"})}}),this.mindMap.keyCommand.addShortcut("Control+i",function(){var t=e.mindMap.renderer.selectedTopicList,n=t[0];if(n){var i="italic"===n.getStyle("font-style"),o=t.filter(function(e){return"italic"===e.getStyle("font-style")===i});e.mindMap.execCommand("SET_STYLE",o,{"font-style":i?"normal":"italic"})}}),this.mindMap.keyCommand.addShortcut("Control+u",function(){var t=e.mindMap.renderer.selectedTopicList,n=t[0];if(n){var i="underline"==n.getStyle("text-decoration"),o=t.filter(function(e){return"underline"===e.getStyle("text-decoration")===i});e.mindMap.execCommand("SET_STYLE",o,{"text-decoration":i?"normal":"underline"})}})},set:function(e,t,n){var o=this;return C(k().mark(function a(){var r,s;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(0!=e.length){a.next=2;break}return a.abrupt("return");case 2:if(!o.mindMap.opt.readonly){a.next=4;break}return a.abrupt("return");case 4:return r=[],e.forEach(function(e){var o=e.getPureData(),a=e.getData("style"),s=e.getData("lineStyle");if(null==a&&(a=e.topicData.style={}),null==s&&(s=e.topicData.lineStyle={}),r.push(o),null!=t["line-width"])s.lineWidth=parseInt(t["line-width"]);else if(null!=t["line-color"])s.lineColor=t["line-color"];else if(null!=t["line-type"])s.lineType=t["line-type"];else{var l=(0,i.deepClone)(t),c={"border-width":e.style.getActualBorderWidth(),"border-color":e.style.getActualBorderColor,"border-style":e.getStyle("border-style")};if(!l["border-width"]||l["border-color"]||l["border-style"]||(c["border-color"]&&"none"!=c["border-color"]||(l["border-color"]="#666"),c["border-color"]&&"none"!=c["border-color"]||(l["border-color"]="#666"),"rgb(255, 255, 255)"!=c["border-color"]||c["border-style"]&&"none"!=c["border-style"]||(l["border-color"]="#666"),c["border-style"]&&"none"!=c["border-style"]||(l["border-style"]="solid"),c["border-style"]&&"double"==c["border-style"]&&(l["border-width"]=3*parseInt(t["border-width"])+"px")),!l["border-color"]||l["border-width"]||l["border-style"]||(0==parseFloat(c["border-width"]||0)&&(l["border-width"]="1px"),c["border-style"]&&"none"!=c["border-style"]||(l["border-style"]="solid")),l["border-style"]&&!l["border-width"]&&!l["border-color"]){var d=c["border-style"],u=l["border-style"],p=parseInt(c["border-width"])||0;"double"==d&&"double"!=u&&(l["border-width"]=p/3+"px"),"double"==u?0==p?l["border-width"]="3px":"double"!=d&&(l["border-width"]=3*p+"px"):0==p&&(l["border-width"]="1px"),c["border-color"]||(l["border-color"]="#666")}l.shape&&0==parseFloat(c["border-width"]||0)&&(l["border-width"]="1px"),l.background&&(delete a["background-color"],delete a.backgroundColor),Object.assign(a,l)}"initial"==t["flex-direction"]&&delete a.direction;var h=e.getData("title");if(o.title){if(null!=t.color||null!=t["font-family"]){var m=$("<div>"+h+"</div>").appendTo("body");null!=t.color&&m.find("font").removeAttr("color"),null!=t["font-family"]&&m.find("font").removeAttr("face"),h=m.html().replace(/<font\s*>/g,"").replace(/<\/font>/g,""),m.remove()}null!=t["font-weight"]&&(h=h.replace(/<b\s*>/g,"").replace(/<\/b>/g,"").replace(/style="font-weight: normal;"/g,"")),null!=t["font-style"]&&(h=h.replace(/<i\s*>/g,"").replace(/<\/i>/g,"").replace(/style="font-style: normal;"/g,"")),"underline"==t["text-decoration-type"]&&(h=h.replace(/<u\s*>/g,"").replace(/<\/u>/g,"")),"line-through"==t["text-decoration-type"]&&(h=h.replace(/<strike\s*>/g,"").replace(/<\/strike>/g,"")),e.topicData.title=h}null!=t["text-decoration-type"]&&delete a["text-decoration-type"],n&&Object.keys(a).forEach(function(e){void 0===t[e]&&delete a[e]})}),s=(0,i.copyTopicsData)(e),a.next=9,o.mindMap.execCommand("UPDATE_TOPIC_NODE",s,r,"style");case 9:o.mindMap.emit("topicStyleOrTitleChange",e[0].id,r[0].title!==s[0].title?s[0].title:void 0),o.mindMap.emit("topicStyleChange",e);case 11:case"end":return a.stop()}},a)}))()},clearStyle:function(e){if(0!=e.length&&!this.mindMap.opt.readonly){var t=[];e.forEach(function(e){var n=e.getPureData();t.push(n),delete e.topicData.customWidth,delete e.topicData.style,delete e.topicData.lineStyle;for(var i=e.getData("title").split("<br>"),o=$("<div id='temp_input' style='display:none;' contenteditable='true'></div>").appendTo("body"),a=[],r=0;r<i.length;r++){var s=i[r];o.html(s),a.push(o.text())}$("#temp_input").remove(),e.topicData.title=a.join("<br>")}),this.mindMap.execCommand("UPDATE_TOPIC_NODE",(0,i.copyTopicsData)(e),t,"clearStyle")}}}},32979:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.tags=void 0,n(61894),n(47958),n(69268),n(84889);var o=n(15240),a=i(n(32483));t.tags={bindEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=e.mindMap},localTags:[],checkExists:function(e,t){var n=null;if(null!=e&&e.length>0)for(var i=0;i<e.length;i++)if(e[i].text==t){n=i;break}return n},setTags:function(e,t,n){if(!this.mindMap.opt.readonly&&e&&0!=e.length&&""!=$.trim(t.text)&&t!=n){t.text=(0,o.subStringSlice)((0,o.htmlEncode)(t.text),0,40),n&&(n.text=(0,o.htmlEncode)(n.text));for(var i=!1,r=!1,s=!1,l=[],c=0,d=e.length;c<d;c++){var u=e[c],p=u.getPureData(),h=u.getData("tags");null==h&&(h=u.topicData.tags=[]);var m=-1;if(n){if(null!=(m=this.checkExists(h,n.text))&&m>=0){var f=h[m];f.background=t.background,f.color=t.color,f.text=t.text}}else if(null!=(m=this.checkExists(h,t.text))&&m>=0){var g=h[m];g.background=t.background,g.color=t.color,g.text=t.text}else s=!0,h&&h.length>9?i=!0:(r=!0,h.push(t));l.push(p)}if(i&&s){if(1==e.length)return void $.toast({type:"warning",text:a.default.t("js.Up_to_10_tags_per_topic")});if(!r)return void $.toast({type:"warning",text:a.default.t("js.Supports_up_to_10_tags")});$.toast({type:"warning",text:a.default.t("js.Some_topic_tags_exceed")})}this.mindMap.execCommand("UPDATE_TOPIC_NODE",e,l,"tags")}},removeTag:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e&&0!=e.length){t=(0,o.htmlEncode)(t);for(var n=[],i=0,a=e.length;i<a;i++){var r=e[i],s=r.getPureData(),l=r.getData("tags");null==l&&(r.topicData.tags=[],l=[]),l.forEach(function(e,n){if($.trim(e.text)==$.trim(t))return l.splice(n,1),!1}),n.push(s)}this.mindMap.execCommand("UPDATE_TOPIC_NODE",e,n,"tags")}}}},88570:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.task=void 0,n(47958),t.task={bindEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=e.mindMap,this.mindMap.on("setTask",this.setTask.bind(this)),this.mindMap.on("removeTask",this.removeTask.bind(this))},setTask:function(e,t){var n=t?this.mindMap.renderer.getCacheTopic(t):this.mindMap.renderer.getSelectedTopic(),i=t||(n?n.id:null);if(null!=i&&""!==$.trim(i)&&null!=e&&!this.mindMap.opt.readonly){var o=n.getData(),a=n.getPureData();null==o.task&&(o.task={}),o.task=$.extend(o.task,e),this.mindMap.execCommand("UPDATE_TOPIC_NODE",o,a,"task")}},removeTask:function(){var e=this.mindMap.renderer.getSelectedTopic(),t=e?e.id:null;if(null!=t&&""!==$.trim(t)&&!this.mindMap.opt.readonly){var n=e.getData(),i=e.getPureData();null!=n.task&&(delete n.task,this.mindMap.execCommand("UPDATE_TOPIC_NODE",n,i,"task"))}}}},22277:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.temp=void 0,n(4790),n(69268),n(86837);var i=n(15240),o=n(31279);t.temp={bindEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=e.mindMap,this.renderer=this.mindMap.renderer,this.mindMap.on("insertTemp",this.insertTemp.bind(this)),this.mindMap.command.add("INSERT_TEMP",this.insertTemp.bind(this))},clipboardTopic:{},parentId:"root",insertTemp:function(){var e=C(k().mark(function e(t,n,a){var r,s,l,c,d,u,p,h,m,f=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>3&&void 0!==f[3]&&f[3],1===(s=this.renderer).getTopicLength()||r){e.next=11;break}for(c in l=function e(t){if(t&&t.length)for(var n=0;n<t.length;n++){var i=t[n],o=i.children;delete i.style,o&&o.length>0&&e(o)}},t.children=t.children.concat(t.leftChildren||[]),t.children)t.children[c].free&&t.children[c].pos&&(delete t.children[c].free,delete t.children[c].pos);return l(t.children),d=s.getSelectedIds(),this.parentId=d[0]||"root",t.parent=this.parentId,t.id=(0,i.createId)(),delete t.leftChildren,delete t.lines,delete t.structure,delete t.theme,delete t.root,this.clipboardTopic={list:[t],type:"copy"},u=this,0==(p=$("#use-temp-dlg")).length&&(p=$('<div id="use-temp-dlg" class="po-dialog" style="width: 400px;min-height: 158px; ">\n\t\t\t\t\t\t\t\t\t\t\t<h3 style="padding:3px 18px;margin-bottom:16px;"></h3>\n\t\t\t\t\t\t\t\t\t\t\t<div style="padding: 0px 40px 0 20px;margin-top: 28px;">\n\t\t\t\t\t\t\t\t\t\t\t\t<div style="font-size:14px;">与文件已设置的风格/结构冲突，仅使用模板的文字内容，是否确认插入</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div style="margin:10px 0;text-align: right;" class="po-buttons">\n\t\t\t\t\t\t\t\t\t\t\t\t<span style="margin-right: 10px;" class="po-button primary">确定</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span style="margin-right: 20px;" class="po-button">取消</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>').appendTo($("body"))).find(".po-buttons .po-button").off("click").on("click",function(){$(this).hasClass("primary")&&editorGlobal.mindMap.renderer.checkPermission("mindShapeNum")&&(0,o.pasteDiagram)({id:u.parentId,content:u.clipboardTopic,$:$,showToast:!1}),$("#use-temp-dlg").dialog("close")}),e.abrupt("return",void p.dialog());case 11:return h=this.mindMap.getData(),t.version=editorGlobal.sendMessage.version,e.next=15,this.mindMap.setFullData(t);case 15:if(a){e.next=19;break}this.mindMap.emit("sendMessage","insertTemp",{content:this.mindMap.getData(),original:h,tempId:n}),m=$("#topic-root .po-richtext-node-wrap").text(),this.mindMap.renderer.saveTitle(m);case 19:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()}},70329:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.themesDepot=t.themeids=t.getRadomLineColor=t.configure_theme=void 0,n(61894);var o=i(n(32483)),a=t.themesDepot={delicate_caihong2:{background:"#FFFFFF",thumbUrl:staticBasePath+"/themes/delicate_caihong.svg",title:o.default.t("js.Curved_rainbow"),startType:["unilateral"],autoColor:!0,underLine:!0,newTheme:!0,marginH:30,marginW:100,childMarginH:15,childMarginW:60,common:{family:"微软雅黑",italic:!1,textAlign:"left",blob:!0},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},centerTopic:{backgroundColor:"#ffffff",color:"#2A2E36","font-size":"24px","border-radius":"7px","box-shadow":"0px 2px 4px 0px rgba(0, 0, 0, 0.1)",padding:"16px 38px"},secTopic:{color:"#0D0B22","font-size":"16px",padding:"4px 14px",lineStyle:{lineType:"curve",lineWidth:3,underLine:!0}},childTopic:{"font-size":"13px",color:"#0D0B22",padding:"5px 9px","font-weight":"400",lineStyle:{lineType:"curve",lineWidth:3,underLine:!0}}},theme3:{background:"#f8f9f8",thumbUrl:staticBasePath+"/themes/theme3.png",title:o.default.t("js.Default_style"),startType:[],marginH:26,marginW:80,childMarginH:8,childMarginW:12,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#50C28B",color:"#fff","font-size":"25px","border-radius":"6px",padding:"10px 20px"},secTopic:{backgroundColor:"#ffffff","border-radius":"6px",color:"#4E545B","font-size":"16px",padding:"8px 16px","box-shadow":"0px 1px 3px rgba(0, 0, 0, 0.15)",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#cccdcd"}},childTopic:{"font-size":"13px",color:"rgb(68,68,68)",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#cccdcd",underLine:!0}}},theme_wps_def:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/theme_wps_def.svg",title:"".concat(o.default.t("js.Base_curve")," I"),startType:[],marginH:24,marginW:50,childMarginH:24,childMarginW:16,common:{family:"微软雅黑",italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#8A8A8A",color:"#ffffff"},centerTopic:{backgroundColor:"#00A59A",color:"#fff","font-size":"20px","border-radius":"12px",padding:"13px 20px","font-weight":"bold"},secTopic:{backgroundColor:"#EEEEEE","border-radius":"10px",color:"#0D0D0DE5","font-size":"14px",padding:"8px 14px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#484848"}},childTopic:{"font-size":"14px",color:"#0D0D0DE5",padding:"3px 12px","font-weight":400,lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#484848"}}},theme3_1:{background:"#fafafa",thumbUrl:staticBasePath+"/themes/theme3.svg",title:"".concat(o.default.t("js.Base_curve")," I"),startType:[],marginH:30,marginW:50,childMarginH:3,childMarginW:8,common:{family:" 微软雅黑",italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#8A8A8A",color:"#ffffff"},centerTopic:{backgroundColor:"#50C28B",color:"#fff","font-size":"25px","border-radius":"6px",border:"2px solid #50C28B",padding:"10px 32px"},secTopic:{backgroundColor:"#ffffff",border:"1px solid #444","border-radius":"4px",color:"#23282D","font-size":"16px",padding:"6px 20px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#8A8A8A"}},childTopic:{"font-size":"13px",color:"#23282D",padding:"2px 8px","font-weight":400,lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#8A8A8A"}}},default:{background:"#fafafa",thumbUrl:staticBasePath+"/themes/default.svg",title:"".concat(o.default.t("js.Base_line"),"（").concat(o.default.t("js.Compact"),"）"),startType:[],marginH:26,marginW:60,childMarginH:10,childMarginW:14,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#50C28B",color:"#fff","font-size":"26px","border-radius":"5px",padding:"14px 15px 13px 15px"},secTopic:{backgroundColor:"#ffffff",border:"1px solid rgb(187,187,187)","border-radius":"5px",color:"rgb(68,68,68)","font-size":"17px",padding:"8px 12px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"rgb(170,170,170)"}},childTopic:{"font-size":"13px",color:"rgb(68,68,68)",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"rgb(140,140,140)"}}},shangwu:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/jysw.png",title:o.default.t("js.Simple_Business"),startType:[],marginH:30,marginW:80,childMarginH:20,childMarginW:10,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"rgb(102, 102, 255)",color:"#fff","font-size":"27px","border-radius":"5px",padding:"14px 12px 14px 12px"},secTopic:{color:"rgb(102, 102, 255)","font-size":"17px",padding:"10px 10px 10px 10px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"rgb(0, 0, 204)"}},childTopic:{"font-size":"13px",color:"rgb(102, 102, 255)",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"rgb(102, 102, 255)"}}},shangwu_1:{background:"#f8f8f8",thumbUrl:staticBasePath+"/themes/shangwu_1.svg",title:o.default.t("js.Simple_Business"),startType:[],marginH:25,marginW:50,childMarginH:3,childMarginW:16,common:{family:" 微软雅黑",italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#0B033F",color:"#ffffff"},centerTopic:{backgroundColor:"#4D34FD",color:"#fff","font-size":"25px","border-radius":"5px",padding:"14px 24px"},secTopic:{color:"#0B033F","font-size":"17px",padding:"6px 9px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#0B033F"}},childTopic:{"font-size":"13px",color:"#0B033F",padding:"3px 8px","font-weight":400,lineStyle:{lineType:"roundBroken",lineWidth:1.6,lineColor:"#0B033F"}}},paper:{background:"#fcf5de",thumbUrl:staticBasePath+"/themes/paper.png",startType:[],title:o.default.t("js.Simple_style"),marginH:30,marginW:80,childMarginH:14,childMarginW:12,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#ffffff",color:"#735C45","font-size":"30px","border-radius":"5px",border:"2px solid #3D474D",padding:"14px 12px 14px 12px"},secTopic:{backgroundColor:"#ffffff",border:"1px solid #3D474D","border-radius":"25px",color:"#735C45","font-size":"16px",padding:"10px 10px 10px 10px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#3D474D"}},childTopic:{"font-size":"14px",color:"#735C45",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#3D474D",underLine:!0}}},paper_1:{background:"#fcf5de",thumbUrl:staticBasePath+"/themes/paper_1.svg",startType:[],title:o.default.t("js.Simple_style"),marginH:30,marginW:50,childMarginH:3,childMarginW:17,common:{family:" 微软雅黑",italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#745D46",color:"#ffffff"},centerTopic:{backgroundColor:"#ffffff",color:"#745D46","font-size":"25px","border-radius":"16px",border:"2px solid #745D46","font-weight":"500",padding:"14px 32px"},secTopic:{backgroundColor:"#ffffff",border:"1px solid #745D46","border-radius":"20px",color:"#745D46","font-size":"16px",padding:"8px 20px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#745D46"}},childTopic:{"font-size":"13px",color:"#745D46",padding:"3px 8px","font-weight":400,lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#745D46",underLine:!0}}},jianbihua:{background:"rgb(255, 249, 217)",thumbUrl:staticBasePath+"/themes/jbxt.svg",title:o.default.t("js.Stick_line"),startType:[],marginH:40,marginW:80,childMarginH:20,childMarginW:20,common:{family:"Comic Sans MS,微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"rgb(255, 249, 217)","border-width":"7px",color:"#333","font-size":"34px",padding:"16px 12px 15px 12px",borderStyle:"solid","-webkit-border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60"),"border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60")},secTopic:{backgroundColor:"rgb(255, 249, 217)",color:"rgb(68,68,68)","font-size":"20px",padding:"3px 9px","border-width":"3px","-webkit-border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60"),"border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60"),borderStyle:"solid",lineStyle:{lineType:"curve",lineWidth:3,lineColor:"rgb(70,70,70)"}},childTopic:{"font-size":"17px",color:"rgb(68,68,68)",padding:"2px 9px","border-width":"2px","-webkit-border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60"),"border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60"),borderStyle:"solid",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"rgb(110,110,110)"}}},jianbihua_1:{background:"#fff",thumbUrl:staticBasePath+"/themes/jbxt1.svg",title:o.default.t("js.Basic_stick_Lines"),startType:[],marginH:24,marginW:62,childMarginH:10,childMarginW:17,common:{family:" 微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#000000",color:"#ffffff"},centerTopic:{backgroundColor:"#fff","border-width":"9px",color:"#000","font-size":"25px",padding:"14px 20px",borderStyle:"solid","-webkit-border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60"),"border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60")},secTopic:{color:"#000","font-size":"16px",padding:"7px 16px","border-width":"5px","-webkit-border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60"),"border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60"),borderStyle:"solid",lineStyle:{lineType:"curve",lineWidth:3,lineColor:"rgb(70,70,70)"}},childTopic:{"font-size":"13px",color:"#0B033F",padding:"3px 9px","border-width":"3px","-webkit-border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60"),"border-image":"url(".concat(staticBasePath,"/themes/border.png) 35 60 45 60"),borderStyle:"solid",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000"}}},caihongpao:{title:o.default.t("js.Rainbow_Bubble"),thumbUrl:staticBasePath+"/themes/chp.png",background:"#ffffff",startType:[],marginH:30,marginW:80,childMarginH:8,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#50C28B",color:"#fff","font-size":"26px","border-radius":"5px",padding:"9px 12px 10px 12px"},secTopic:{backgroundColor:"#ffffff","border-radius":"5px",color:"rgb(103,103,103)","font-size":"14px",padding:"6px 10px",boxShadow:"1px 1px 1px #ccc",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#43a9ff"}},childTopic:{"font-size":"12px","border-radius":"5px",color:"rgb(103,103,103)",padding:"3px 9px",boxShadow:"1px 1px 1px #ccc",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#43a9ff"}}},simple:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple.png",title:o.default.t("js.Simplicity"),marginH:26,marginW:60,childMarginH:8,childMarginW:14,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#50C28B",color:"#fff","font-size":"26px","border-radius":"5px",padding:"14px 15px 13px 15px"},secTopic:{backgroundColor:"#ffffff",border:"1px solid rgb(137,137,137)","border-radius":"5px",color:"rgb(68,68,68)","font-size":"17px",padding:"8px 12px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"rgb(130,130,130)"}},childTopic:{"font-size":"13px",color:"rgb(68,68,68)",padding:"3px 6px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"rgb(130,130,130)"}}},niupizhi:{background:"rgb(252,246,207)",thumbUrl:staticBasePath+"/themes/npz.png",startType:[],title:o.default.t("js.Brown_paper"),marginH:30,marginW:80,childMarginH:20,childMarginW:10,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"rgb(221, 170, 68)",color:"#fff","font-size":"30px","border-radius":"5px",padding:"14px 12px 14px 12px"},secTopic:{backgroundColor:"rgb(221, 170, 68)","border-radius":"5px",color:"#ffffff","font-size":"17px",padding:"10px 10px 10px 10px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"rgb(187, 136, 34)"}},childTopic:{"font-size":"13px",color:"rgb(187, 136, 34)",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"rgb(187, 136, 34)"}}},caihongthinner:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/chl.png",title:"".concat(o.default.t("js.Colored_lines"),"Thinner"),startType:["thinner"],autoColor:!0,marginH:30,marginW:80,childMarginH:10,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#50C28B",color:"#fff","font-size":"34px","border-radius":"5px",padding:"15px 12px 15px 12px"},secTopic:{backgroundColor:"#ffffff",border:"1px solid rgb(187,187,187)","border-radius":"5px",color:"rgb(68,68,68)","font-size":"17px",padding:"10px 10px 10px 10px",lineStyle:{lineType:"curve",lineWidth:8,lineColor:"rgb(170,170,170)"}},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},childTopic:{"font-size":"13px",color:"rgb(68,68,68)",padding:"3px 9px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"rgb(140,140,140)"}}},colorLines:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/colorlines.png",title:o.default.t("js.Colored_lines"),startType:[],autoColor:!0,marginH:30,marginW:80,childMarginH:10,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#fff",border:"6px solid #3aa9ce",color:"#333","font-size":"30px","border-radius":"5px",padding:"15px 12px 15px 12px"},secTopic:{backgroundColor:"#ffffff",border:"3px solid #3aa9ce","border-radius":"5px",color:"rgb(68,68,68)","font-size":"17px",padding:"10px 10px 10px 10px",lineStyle:{lineType:"curve",lineWidth:5,lineColor:"#3aa9ce"}},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},childTopic:{"font-size":"13px",color:"rgb(68,68,68)",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(58, 169, 206)",underLine:!0}}},caihong:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/caihong_2.svg",title:o.default.t("js.Basic_Rainbow"),startType:[],autoColor:!0,marginH:30,marginW:80,childMarginH:10,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#50C28B",color:"#fff","font-size":"34px","border-radius":"5px",padding:"15px 12px 15px 12px"},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},secTopic:{backgroundColor:"#ffffff",border:"1px solid rgb(187,187,187)","border-radius":"5px",color:"rgb(68,68,68)","font-size":"17px",padding:"9px 10px",lineStyle:{lineType:"curve",lineWidth:8}},childTopic:{"font-size":"13px",color:"rgb(68,68,68)",padding:"3px 9px",lineStyle:{lineType:"curve",lineWidth:1}}},bd_caihong:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/bd_caihong.svg",title:o.default.t("js.Basic_Rainbow"),autoColor:!0,marginH:24,marginW:60,childMarginH:12,childMarginW:22,startType:["unilateral"],common:{family:injectExtraAsynCall("fontFamily")&&injectExtraAsynCall("fontFamily").defaults||"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#000227",color:"#fff","font-weight":600,"font-size":"24px","border-radius":"10px",padding:"14px 24px 14px 24px"},secTopic:{backgroundColor:"#ffffff",border:"3px solid rgb(187,187,187)","border-radius":"6px",color:"rgb(68,68,68)","font-size":"18px",padding:"8px 16px",lineStyle:{lineType:"roundBroken",lineWidth:3}},childTopic:{"font-size":"14px",color:"rgb(68,68,68)",padding:"4px",lineStyle:{lineType:"roundBroken",lineWidth:2}}},bg_caihong:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/bg_caihong.svg",title:o.default.t("js.Basic_Rainbow"),startType:[],autoColor:!0,marginH:30,marginW:64,childMarginH:16,childMarginW:20,common:{family:injectExtraAsynCall("fontFamily")&&injectExtraAsynCall("fontFamily").defaults||"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#30304D",color:"#fff","font-weight":600,"font-size":"30px","border-radius":"10px",padding:"14px 28px 14px 28px"},secTopic:{backgroundColor:"#ffffff","border-radius":"8px",color:"rgb(255,255,255)","font-weight":500,"font-size":"18px",padding:"8px 16px",lineStyle:{lineType:"curve",lineWidth:3}},childTopic:{backgroundColor:"#ffffff","font-size":"14px",color:"rgb(255,255,255)","border-radius":"6px",padding:"4px 6px",lineStyle:{lineType:"roundBroken",lineWidth:2}}},bg_caihong2:{background:"#F7F9FF",thumbUrl:staticBasePath+"/themes/bg_caihong2.svg",title:o.default.t("js.Basic_Rainbow"),startType:["unilateral"],autoColor:!0,marginH:30,marginW:64,childMarginH:16,childMarginW:20,common:{family:injectExtraAsynCall("fontFamily")&&injectExtraAsynCall("fontFamily").defaults||"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#3F3E6E",color:"#fff","font-weight":600,"font-size":"24px","border-radius":"10px",padding:"14px 24px 14px 24px"},secTopic:{backgroundColor:"#ffffff","border-radius":"8px",color:"rgb(255,255,255)","font-weight":500,"font-size":"18px",padding:"8px 16px",lineStyle:{lineType:"roundBroken",lineWidth:3}},childTopic:{"font-size":"14px",color:"rgb(63, 62, 110)",padding:"4px 6px",lineStyle:{lineType:"roundBroken",lineWidth:2}}},basic:{background:"#fcf5ef",thumbUrl:staticBasePath+"/themes/basic.png",title:o.default.t("js.Simple_style"),marginH:30,marginW:80,childMarginH:20,childMarginW:12,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#50C28B",color:"#fff","font-size":"30px","border-radius":"5px",padding:"14px 12px 14px 12px"},secTopic:{backgroundColor:"#ffffff",border:"1px solid rgb(187,187,187)","border-radius":"5px",color:"rgb(68,68,68)","font-size":"17px",padding:"10px 10px 10px 10px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"rgb(170,170,170)"}},childTopic:{"font-size":"14px",backgroundColor:"#ffffff",color:"rgb(68,68,68)",padding:"2px 9px",border:"1px solid rgb(187,187,187)","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"rgb(140,140,140)"}}},theme1:{background:"#ffffdd",thumbUrl:staticBasePath+"/themes/zxjx.png",title:o.default.t("js.Line_tapering"),marginH:30,marginW:90,childMarginH:10,childMarginW:20,startType:["thinner"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#50C28B",color:"#fff","font-size":"40px","border-radius":"5px",padding:"14px 12px 14px 12px"},secTopic:{backgroundColor:"#ffffff",border:"1px solid rgb(187,187,187)","border-radius":"5px",color:"rgb(68,68,68)","font-size":"17px",padding:"10px",lineStyle:{lineType:"straight",lineWidth:4,lineColor:"rgb(170,170,170)"}},childTopic:{"font-size":"13px",color:"rgb(68,68,68)",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"rgb(140,140,140)"}}},red:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/red.svg",startType:[],title:o.default.t("js.Business_Classic_Red"),marginH:30,marginW:80,childMarginH:6,childMarginW:16,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#eb5e41",color:"#ffffff"},centerTopic:{backgroundColor:"#eb5e41",color:"#ffffff","font-size":"30px",padding:"14px 12px 14px 12px"},secTopic:{backgroundColor:"#eb5e41",color:"#fff","font-size":"16px",padding:"8px 10px",lineStyle:{lineType:"straight",lineWidth:2,lineColor:"#eb5e41"}},childTopic:{"font-size":"13px",backgroundColor:"#f0f0f0","border-bottom":"1px solid #eb5e41",color:"#735C45","box-shadow":"1px 0px 0px #ccc",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#eb5e41",underLine:!0}}},mindmap1:{background:"#fafafa",thumbUrl:staticBasePath+"/themes/mindmap1.svg",title:"".concat(o.default.t("js.Base_curve")," II"),marginH:50,marginW:60,childMarginH:15,childMarginW:30,underLine:!0,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},centerTopic:{backgroundColor:"rgb(80, 194, 139)",color:"#ffffff","font-size":"22px","border-radius":"6px",padding:"10px 12px 10px 12px"},secTopic:{color:"rgb(68, 68, 68)","font-size":"15px",padding:"10px 12px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#8a8a8a",underLine:!0}},childTopic:{"font-size":"12px",color:"rgb(68, 68, 68)",padding:"2px 9px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"#8a8a8a",underLine:!0}}},black:{background:"rgb(57, 60, 65)",thumbUrl:staticBasePath+"/themes/black.svg",title:o.default.t("js.Dark_Basics"),startType:[],marginH:40,marginW:80,childMarginH:12,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#e8eaec",color:"#333"},centerTopic:{backgroundColor:"#ff8200",color:"#fff","border-radius":"35px","font-size":"34px",padding:"16px 18px 16px 18px"},secTopic:{backgroundColor:"#e8eaec",color:"rgb(68,68,68)","font-size":"17px",padding:"10px 15px","border-radius":"20px",lineStyle:{lineType:"curve",lineWidth:3,lineColor:"#e8eaec"}},childTopic:{"font-size":"12px",color:"#ffffff",padding:"4px 9px","border-radius":"20px",border:"1px solid #e8eaec",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#e8eaec"}}},mindmap:{background:"#f5f5f5",thumbUrl:staticBasePath+"/themes/mindmap.png",title:o.default.t("js.Standard_mind_map_style"),startType:["thinner"],autoColor:!0,marginH:20,marginW:100,childMarginH:10,childMarginW:40,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},centerTopic:{backgroundColor:"rgb(80, 194, 139)",color:"#ffffff","font-size":"24px","border-radius":"6px",padding:"14px 16px 14px 16px"},secTopic:{color:"rgb(68, 68, 68)","font-size":"16px",padding:"10px 14px 10px 14px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"#8a8a8a",underLine:!0}},childTopic:{"font-size":"12px",color:"rgb(68, 68, 68)",padding:"3px 9px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"#8a8a8a",underLine:!0}}},mobdefault:{background:"#f5f5f5",thumbUrl:staticBasePath+"/themes/mobdefault.svg",title:o.default.t("js.Mobile_Topics"),startType:[],marginH:20,marginW:50,childMarginH:10,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},centerTopic:{backgroundColor:"rgb(80, 194, 139)",color:"#ffffff","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#ffffff","border-radius":"6px",color:"rgb(68, 68, 68)","font-size":"14px",border:"1px solid rgba(138, 138, 138,.6)",padding:"6px 12px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"#8a8a8a"}},childTopic:{"font-size":"12px",color:"rgb(68, 68, 68)",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#8a8a8a"}}},mobdark:{background:"rgb(57, 60, 65)",thumbUrl:staticBasePath+"/themes/mobdark.svg",title:o.default.t("js.Standard_Mind_Map_Black"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"rgb(120,123,128)",color:"#ffffff"},centerTopic:{backgroundColor:"#ff8202",color:"#fff1de","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px"},secTopic:{color:"rgb(57,60,65)","font-size":"14px",padding:"6px 12px","border-radius":"6px",backgroundColor:"#e8eaec",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"rgb(120,123,128)"}},childTopic:{"font-size":"12px",color:"#f7f7f6",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"rgb(120,123,128)"}}},mobpink:{background:"#fad8df",thumbUrl:staticBasePath+"/themes/mobpink.svg",title:o.default.t("js.Standard_mind_map_style"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#ea8aba",color:"#fefcfc","font-size":"20px","border-radius":"30px",padding:"10px 16px 12px"},secTopic:{color:"rgb(89,88,89)",backgroundColor:"#fff","font-size":"14px",padding:"6px 12px","border-radius":"30px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"rgb(248,248,248)"}},childTopic:{"font-size":"12px",color:"rgb(89,88,89)",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"rgb(255,255,255)"}}},"mob-border-dark":{background:"#fff",thumbUrl:staticBasePath+"/themes/mob-border-dark.svg",title:o.default.t("js.Standard_Mind_Map_Black"),marginH:20,marginW:60,childMarginH:14,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},centerTopic:{backgroundColor:"#000",color:"#dad8da","font-size":"20px","border-radius":"3px",padding:"10px 16px 12px"},secTopic:{color:"rbg(37,37,37)","font-size":"14px",padding:"6px 14px","border-radius":"3px",border:"2px solid rgb(55,55,55)",backgroundColor:"#fff",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(55,55,55)"}},childTopic:{"font-size":"12px",color:"rbg(45,45,45)","border-radius":"2px",padding:"3px 9px",border:"1px solid rgb(55,55,55)",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"rgb(55,55,55)"}}},mobcaihong:{background:"#f5f5f5",thumbUrl:staticBasePath+"/themes/mobcaihong.png",title:o.default.t("js.Standard_mind_map_style"),startType:["thinner"],autoColor:!0,marginH:20,marginW:60,childMarginH:14,childMarginW:40,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},centerTopic:{backgroundColor:"rgb(80, 194, 139)",color:"#ffffff","font-size":"24px","border-radius":"6px",padding:"8px 14px 10px"},secTopic:{color:"rgb(68, 68, 68)","font-size":"16px",padding:"6px 10px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"#8a8a8a",underLine:!0}},childTopic:{"font-size":"12px",color:"rgb(68, 68, 68)",padding:"3px 9px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"#8a8a8a",underLine:!0}}},delicate_caihong:{background:"#FFFFFF",thumbUrl:staticBasePath+"/themes/delicate_caihong.svg",title:o.default.t("js.Classic_Rainbow"),startType:["unilateral"],autoColor:!0,underLine:!0,newTheme:!0,marginH:30,marginW:100,childMarginH:15,childMarginW:60,common:{family:"微软雅黑",italic:!1,textAlign:"left",blob:!0},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},centerTopic:{backgroundColor:"#ffffff",color:"#2A2E36","font-size":"24px","border-radius":"7px","box-shadow":"0px 2px 4px 0px rgba(0, 0, 0, 0.1)",padding:"16px 38px"},secTopic:{color:"#0D0B22","font-size":"16px",padding:"4px 14px",lineStyle:{lineType:"curve",lineWidth:3,underLine:!0}},childTopic:{"font-size":"13px",color:"#0D0B22",padding:"5px 9px","font-weight":"400",lineStyle:{lineType:"curve",lineWidth:3,underLine:!0}}},delicate_dark:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/delicate_dark.svg",title:"".concat(o.default.t("js.Black_and_White_Classic_Curve")," I"),startType:["unilateral"],newTheme:!0,marginH:30,marginW:95,childMarginH:16,childMarginW:40,common:{family:"微软雅黑",bold:!0,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(11, 13, 34)",color:"#ffffff"},centerTopic:{backgroundColor:"rgba(13, 11, 34, 1)",color:"#fff","font-size":"18px","border-radius":"7px",padding:"15px 40px"},secTopic:{backgroundColor:"#F3F3F4","border-radius":"7px",color:"#0D0B22","font-size":"16px",padding:"10px 22px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#0D0B22"}},childTopic:{"font-size":"14px",color:"#0D0B22",padding:"4px 9px","font-weight":"400",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#0D0B22"}}},mindmap_dark:{background:"#333333",thumbUrl:staticBasePath+"/themes/mindmap_dark.svg",title:o.default.t("js.Standard_Mind_Map_Black"),marginH:20,marginW:60,childMarginH:14,childMarginW:30,startType:[],underLine:!0,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},centerTopic:{backgroundColor:"#00a5ff",color:"#ffffff","font-size":"22px","border-radius":"6px",padding:"10px 16px 12px"},secTopic:{color:"#eee","font-size":"15px",padding:"10px 12px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#d0d5d9",underLine:!0}},childTopic:{"font-size":"12px",color:"#eee",padding:"4px 9px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"#d0d5d9",underLine:!0}}},artistic_song:{background:"#ECEDE5",thumbUrl:staticBasePath+"/themes/artistic_song.svg",title:o.default.t("js.Literary_Song_Dynasty"),startType:["unilateral"],newTheme:!0,marginH:35,marginW:75,childMarginH:30,childMarginW:40,common:{family:"Songti SC, MicrosoftYaHei-Bold",italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#8C9291",color:"#ffffff"},centerTopic:{backgroundColor:"#C9BE8E",color:"#fff","font-size":"24px","border-radius":"4px",padding:"16px 38px"},secTopic:{backgroundColor:"#FFFFFF","border-radius":"4px",color:"#41494C","font-size":"16px",padding:"10px 22px 10px 22px",lineStyle:{lineType:"slant",lineWidth:2,lineColor:"#8C9291"}},childTopic:{"font-size":"14px",color:"#41494E",padding:"4px 9px 4px",lineStyle:{lineType:"slant",lineWidth:2,lineColor:"#8C9291"}}},gsx_notes_yellow:{background:"#fff",thumbUrl:staticBasePath+"/themes/gsx_notes_yellow.svg",title:o.default.t("js.Standard_mind_map_style"),member:!1,startType:["unilateral"],newTheme:!0,unilateral:!0,marginH:20,marginW:60,childMarginH:10,childMarginW:20,common:{family:"arial, 黑体",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#FFD13F",color:"#443f3b"},centerTopic:{backgroundColor:"#FEEFC5",color:"#231f20","font-size":"16px","font-weight":"500","border-radius":"6px",padding:"8px 10px 8px 10px",border:"1px solid #FFD13F"},secTopic:{backgroundColor:"#fef7e1",color:"#231f20","font-size":"15px",padding:"5px 10px 5px 10px","border-radius":"6px","font-weight":"500",border:"1px solid #FFD13F",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#FFD13F"}},childTopic:{"font-size":"12px",color:"#231f20",padding:"5px 10px 5px 10px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#FFD13F"}}},zw_red:{background:"#ffe9e8",thumbUrl:staticBasePath+"/themes/zw_red.png",title:o.default.t("js.Government_Red"),startType:["novel"],underLine:!0,marginH:14,marginW:60,childMarginH:8,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},centerTopic:{backgroundColor:"#BF2D39",color:"#ffffff","font-size":"24px","border-radius":"4px","font-weight":"bold",padding:"13px 26px"},secTopic:{color:"#0F0F0F","font-size":"16px",padding:"4px 14px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#0F0F0F",underLine:!0}},childTopic:{"font-size":"13px",color:"#0F0F0F",padding:"6px 9px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#0F0F0F",underLine:!0}}},lively_caihong:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/lively_caihong.svg",title:o.default.t("js.Gradient_Rainbow"),startType:["thinner","novel"],autoColor:!0,marginH:20,marginW:100,childMarginH:10,childMarginW:40,underLine:!0,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},centerTopic:{backgroundColor:"#ffffff","box-shadow":"0 2px 4px rgba(0,0,0,.1)",color:"#33435A","font-size":"24px","border-radius":"6px",padding:"10px 32px"},secTopic:{color:"#33435A","font-size":"16px",padding:"4px 20px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0}},childTopic:{"font-size":"12px",color:"#33435A",padding:"2px 9px 4px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0}}},dark_caihong:{background:"#0A0F32",thumbUrl:staticBasePath+"/themes/ch-dark.svg",title:o.default.t("js.Dark_Rainbow"),startType:["unilateral"],autoColor:!0,underLine:!0,newTheme:!0,marginH:30,marginW:100,childMarginH:15,childMarginW:60,common:{family:"微软雅黑",italic:!1,textAlign:"left",blob:!0},connectionStyle:{lineWidth:3,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},centerTopic:{backgroundColor:"#ffffff",color:"#2A2E36","font-size":"24px","border-radius":"7px","box-shadow":"0px 2px 4px 0px rgba(0, 0, 0, 0.1)",padding:"16px 38px"},secTopic:{color:"#FFFFFF","font-size":"16px",padding:"4px 14px",lineStyle:{lineType:"curve",lineWidth:3,underLine:!0}},childTopic:{"font-size":"14px",color:"#FFFFFF",padding:"3px 14px","font-weight":"400",lineStyle:{lineType:"curve",lineWidth:3,underLine:!0}}},gsx_notes_red:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/gsx_notes_red.svg",title:o.default.t("js.Simple_Red_and_Black_Classic"),startType:["unilateral"],marginH:20,marginW:60,childMarginH:8,childMarginW:20,common:{family:"arial, 黑体",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#564d47",color:"#443f3b"},centerTopic:{backgroundColor:"#FD1625",color:"#FFFFFF","font-size":"25px","border-radius":"8px","font-weight":"bold",padding:"10px 32px"},secTopic:{backgroundColor:"#201A1A",color:"#ffffff","font-size":"16px",padding:"5px 20px","border-radius":"4px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#201A1A"}},childTopic:{"font-size":"13px",color:"#201A1A",padding:"4px 8px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#201A1A"}}},cute_map:{background:"#FFFFFF",thumbUrl:staticBasePath+"/themes/cute_map.png",title:o.default.t("js.Coco_Love_Love_Wind"),marginH:14,marginW:60,startType:["novel"],childMarginH:8,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},boundaryStyle:{lineColor:"#F3D1C3",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#F3D1C3",opacity:"0.1"},centerTopic:{background:"#FFFFFF",color:"#FCC006","font-size":"25px","border-radius":"2px","font-weight":"bold","border-width":"9px",borderStyle:"solid","-webkit-border-image":"url(/static/themes/cute1.png) 20 21 18","border-image":"url(/static/themes/cute1.png) 20 21 18",padding:"10px 32px"},secTopic:{background:"#ffffff",color:"#FCC006","font-size":"16px",padding:"5px 20px",border:"2px solid #7A9EC4","border-width":"3px",borderStyle:"solid","-webkit-border-image":"url(/static/themes/cute1.png) 12 13 10","border-image":"url(/static/themes/cute1.png) 12 13 10","border-radius":"2px",lineStyle:{lineType:"curve",lineWidth:3,lineColor:"#F3D1C3"}},childTopic:{"font-size":"13px","text-shadow":"0px 2px 4px rgba(255, 255, 255, 0.5)",color:"#7A9EC4",padding:"4px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#F3D1C3"}}},shangwu_SVIP:{background:"#272829",thumbUrl:staticBasePath+"/themes/shangwu_SVIP.svg",title:o.default.t("js.Business_enjoys_black_gold_wind"),marginH:14,marginW:60,startType:["novel"],childMarginH:8,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},boundaryStyle:{lineColor:"#B98554",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#B98554",opacity:"0.1"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},centerTopic:{background:"#c99c68",color:"#ffffff","font-size":"25px","border-radius":"4px","font-weight":"normal",padding:"13px 26px",textAlign:"left","font-family":"微软雅黑","font-style":"normal"},secTopic:{background:"#44423f",color:"#F7D8BC","font-size":"16px",padding:"7px 14px","border-radius":"4px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#F7D8BC"}},childTopic:{"font-size":"13px",color:"#F7D8BC",padding:"4px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#F7D8BC"}}},gsx_notes_white:{background:"#fafafa",thumbUrl:staticBasePath+"/themes/gsx_notes_white.svg",title:o.default.t("js.Basic_Fold_Classic"),startType:["unilateral"],marginH:20,marginW:60,childMarginH:10,childMarginW:20,member:!0,common:{family:"arial, 黑体",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#564d47",color:"#443f3b"},centerTopic:{backgroundColor:"#dddddd",color:"#4e4e4e","font-size":"14px","border-radius":"6px",padding:"8px 10px 5px 10px",border:"1px solid #b2afad"},secTopic:{backgroundColor:"#fff",color:"#595959","font-size":"13px",padding:"5px 10px","border-radius":"6px",border:"1px solid #d1cecd",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#746ea6"}},childTopic:{"font-size":"12px",color:"#606060",padding:"5px 10px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#746e6a"}}},gsx_notes_color:{background:"#f5f5f5",thumbUrl:staticBasePath+"/themes/gsx_notes_color.svg",title:o.default.t("js.Minimalist_Two-Color_Lecture_Notes"),startType:["unilateral"],marginH:20,marginW:60,childMarginH:10,childMarginW:20,member:!0,common:{family:"arial, 黑体",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#564d47",color:"#443f3b"},centerTopic:{backgroundColor:"#f8caad",color:"#443f3b","font-size":"14px","border-radius":"6px",padding:"8px 10px",border:"1px solid #cdbdb3"},secTopic:{backgroundColor:"#fee2cc",color:"#514c48","font-size":"13px",padding:"7px 10px","border-radius":"6px",border:"1px solid #cdbdb3",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#746ea6"}},childTopic:{"font-size":"12px",color:"#4b4b4b",padding:"4px 10px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#746e6a"}}},xuanku:{background:"#000000",thumbUrl:staticBasePath+"/themes/xuanku.svg",title:"".concat(o.default.t("js.Dark_night_cool_green"),",_").concat(o.default.t("js.Sports_style")),marginH:14,marginW:60,startType:["novel"],childMarginH:8,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#ffffff"},centerTopic:{backgroundColor:"#000000",color:"#ffffff","box-shadow":"0px 0px 2px 0px rgba(160, 80, 90, 0.86)",border:"3px solid #2EE5A8","font-size":"25px","border-radius":"4px","font-weight":"bold",padding:"10px 32px"},secTopic:{background:"#000000",color:"#ffffff","font-size":"16px",padding:"5px 20px","box-shadow":"0px 0px 2px 0px rgba(160, 80, 90, 0.86)",border:"3px solid #2EE5A8","border-radius":"4px",lineStyle:{lineType:"curve",lineWidth:3,lineColor:"#2EE5A8"}},childTopic:{"font-size":"13px",color:"#FFFFFF",padding:"4px 8px",lineStyle:{lineType:"roundBroken",lineWidth:3,lineColor:"#2EE5A8"}}},gsx_notes_green:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/mobcaihong.png",title:o.default.t("js.Standard_mind_map_style"),startType:["unilateral"],marginH:20,marginW:60,childMarginH:8,childMarginW:20,underLine:!0,common:{family:"黑体",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#564d47",color:"#443f3b"},centerTopic:{backgroundColor:"#ffffff",color:"#191F25","font-size":"25px","border-radius":"8px","font-weight":"bold",padding:"10px 32px",border:"2px solid #2CBB74"},secTopic:{color:"#191F25","font-size":"16px",padding:"6px 20px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#2CBB74",underLine:!0}},childTopic:{"font-size":"14px",color:"#201A1A",padding:"6px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#2CBB74",underLine:!0}}},cement_style:{background:"url("+staticBasePath+'"/themes/bg_image.png")',thumbUrl:staticBasePath+"/themes/wdmx.png",title:o.default.t("js.Document_Model"),startType:[],marginH:26,marginW:60,childMarginH:8,childMarginW:14,underLine:!0,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"linear-gradient(180deg, #3A3A3B 0%, #111113 100%)",color:"#fff","font-size":"25px","border-radius":"4px",padding:"10px 32px"},secTopic:{color:"#1C1C1E","font-size":"16px",padding:"6px 20px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#262628",underLine:!0}},childTopic:{"font-size":"14px",color:"#1C1C1E",padding:"6px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#262628",underLine:!0}}},indie_pop1:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/indie_pop1.svg",title:o.default.t("js.Little_Fresh_Series"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#D18773",color:"#F2F2F2","font-size":"20px","border-radius":"30px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#E5DBC4",color:"#7F5247","font-size":"14px",padding:"6px 12px","border-radius":"25px",border:"2px solid #D18773",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#D18773"}},childTopic:{"font-size":"12px",color:"#7F5247",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#D18773"}}},indie_pop2:{background:"#fff",thumbUrl:staticBasePath+"/themes/indie_pop2.svg",title:"".concat(o.default.t("js.Fresh_Line_Classic")," I"),startType:["unilateral"],marginH:26,marginW:60,childMarginH:8,childMarginW:14,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#EFE6D2","font-family":"微软雅黑",color:"#706244","font-size":"25px","border-radius":"6px",padding:"10px 32px"},secTopic:{color:"#4E667F","font-size":"16px","border-radius":"25px","font-family":"微软雅黑",padding:"8px 20px",background:"#CCDCED",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#748EAF"}},childTopic:{"font-size":"14px",color:"#4E667F",padding:"6px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#748EAF"}}},indie_pop3:{background:"#fff",thumbUrl:staticBasePath+"/themes/indie_pop3.svg",title:"".concat(o.default.t("js.Fresh_Line_Classic")," II"),startType:["unilateral"],marginH:26,marginW:60,childMarginH:8,childMarginW:14,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#EDE9F4","font-family":"微软雅黑",color:"#466350","font-size":"25px","border-radius":"6px",padding:"10px 32px"},secTopic:{color:"#466350","font-size":"16px","font-family":"微软雅黑",padding:"8px 20px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#6C8C78"}},childTopic:{"font-size":"14px",color:"#466350",padding:"6px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#6C8C78"}}},indie_pop4:{background:"#fff",thumbUrl:staticBasePath+"/themes/indie_pop4.svg",title:"".concat(o.default.t("js.Fresh_Line_Classic")," III"),startType:["unilateral"],marginH:26,marginW:60,childMarginH:8,childMarginW:14,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#EDE9F4","font-family":"微软雅黑",color:"#4E4566","font-size":"25px","border-radius":"6px",padding:"10px 32px"},secTopic:{color:"#4E4566","font-size":"16px","font-family":"微软雅黑",background:"#F4EBCA","border-radius":"5px",padding:"8px 20px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#A197B5"}},childTopic:{"font-size":"14px",color:"#4E4566",padding:"6px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#A197B5"}}},indie_pop5:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/indie_pop5.svg",title:o.default.t("js.Fresh_curves_Classic"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#F2E1CC",color:"#774138","font-size":"20px","border-radius":"30px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#EFE1E1",color:"#774138","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#E5D6D6"}},childTopic:{"font-size":"12px",color:"#774138",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#E5D6D6"}}},indie_pop6:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/indie_pop6.svg",title:"".concat(o.default.t("js.Fresh_Line_Classic")," IV"),marginH:20,marginW:60,childMarginH:14,childMarginW:30,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#CDE2DC",color:"#46665D","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#CFE5F9",color:"#53748C","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#7D9E94"}},childTopic:{"font-size":"12px",color:"#46665D",padding:"3px 9px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#7D9E94"}}},indie_pop7:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/indie_pop7.svg",title:o.default.t("js.Fresh_curves_Classic"),startType:["unilateral"],underLine:!0,marginH:30,marginW:100,childMarginH:15,childMarginW:60,common:{family:"微软雅黑",italic:!1,textAlign:"left",blob:!1},connectionStyle:{lineWidth:3,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#CFE5F9",color:"#53748C","font-size":"24px","border-radius":"2px",padding:"16px 38px"},secTopic:{color:"#53748C","font-size":"16px",padding:"4px 14px 4px 14px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#C9C4D6"}},childTopic:{"font-size":"13px",color:"#53748C",padding:"4px 9px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#C9C4D6"}}},retro_theme1:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/retro_theme1.svg",title:o.default.t("js.Vintage_Line_Classic"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#A0726B",color:"#F2F2F2","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#C9D3B2",color:"#72504C","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#72504C"}},childTopic:{"font-size":"12px",color:"#72504C",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#72504C"}}},retro_theme2:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/retro_theme2.svg",title:"".concat(o.default.t("js.Vintage_Fold"),"（").concat(o.default.t("js.Compact"),"）"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#B0BC99",color:"#F2F2F2","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#DBC6A5",color:"#586340","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#586340"}},childTopic:{"font-size":"12px",color:"#586340",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#586340"}}},retro_theme3:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/retro_theme3.svg",title:"".concat(o.default.t("js.Vintage_Curve_Basics")," I"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#3D5C89",color:"#F2F2F2","font-size":"20px","border-radius":"25px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#B3C0B0",color:"#FFFFFF","font-size":"14px",padding:"6px 12px","border-radius":"20px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#3D5C89"}},childTopic:{"font-size":"12px",color:"#3D5C89",padding:"3px 9px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#3D5C89"}}},retro_theme4:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/retro_theme4.svg",title:"".concat(o.default.t("js.Vintage_Curve_Basics")," II"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#BC8662",color:"#ffffff","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#8E575B",color:"#FFFFFF","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#C1AAB3"}},childTopic:{"font-size":"12px",color:"#472933",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#C1AAB3"}}},retro_theme5:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/retro_theme5.svg",startType:[],title:o.default.t("js.Vintage_Collection"),marginH:30,marginW:80,childMarginH:6,childMarginW:16,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#eb5e41",color:"#ffffff"},centerTopic:{backgroundColor:"#AC98B7","border-radius":"5px",color:"#ffffff","font-size":"30px",padding:"14px 12px 14px 12px"},secTopic:{backgroundColor:"#9DA7C1",color:"#fff","font-size":"16px",padding:"10px 10px 10px 10px",lineStyle:{lineType:"straight",lineWidth:2,lineColor:"#83768C"}},childTopic:{"font-size":"13px",color:"#58505E",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#83768C"}}},retro_theme6:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/retro_theme6.svg",title:"".concat(o.default.t("js.Vintage_Curve_Basics")," III"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#BF826F",color:"#F2F2F2","font-size":"20px","border-radius":"25px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#CEB498",color:"#323652","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#A87365"}},childTopic:{"font-size":"12px",color:"#323652",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#A87365"}}},retro_theme7:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/retro_theme7.svg",title:o.default.t("js.Vintage_curves_Classic"),startType:["unilateral"],underLine:!0,marginH:30,marginW:100,childMarginH:15,childMarginW:60,common:{family:"微软雅黑",italic:!1,textAlign:"left",blob:!1},connectionStyle:{lineWidth:3,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#617C69",color:"#ffffff","font-size":"24px","border-radius":"2px",padding:"16px 38px"},secTopic:{color:"#344438","font-size":"16px",padding:"4px 14px 4px 14px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#AFA57B"}},childTopic:{"font-size":"13px",color:"#344438",padding:"4px 9px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#AFA57B"}}},pop_contrast1:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/pop_contrast1.svg",title:"".concat(o.default.t("js.Color_Contrast_Wind_Series")," I"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#116D64",color:"#F2F2F2","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#F2CF20",color:"#116D64","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#2CA39D"}},childTopic:{"font-size":"12px",color:"#116D64",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#2CA39D"}}},pop_contrast2:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/pop_contrast2.svg",title:"".concat(o.default.t("js.Color_Contrast_Wind_Series")," II"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#E25A40",color:"#F2F2F2","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#2B76EF",color:"#ffffff","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#EDB951"}},childTopic:{"font-size":"12px",color:"#2B76EF",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#EDB951"}}},pop_contrast3:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/pop_contrast3.svg",title:"".concat(o.default.t("js.Color_Contrast_Wind_Series")," III"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#5832A0",color:"#F2F2F2","font-size":"20px","border-radius":"25px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#98C149",color:"#FFFFFF","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#8D53EA"}},childTopic:{"font-size":"12px",color:"#5832A0",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#8D53EA"}}},pop_contrast4:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/pop_contrast4.svg",startType:[],title:"".concat(o.default.t("js.Color_Contrast_Wind_Series")," IV"),marginH:30,marginW:80,childMarginH:6,childMarginW:16,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#eb5e41",color:"#ffffff"},centerTopic:{backgroundColor:"#008683","border-radius":"5px",color:"#ffffff","font-size":"30px",padding:"14px 12px 14px 12px"},secTopic:{backgroundColor:"#11A9CC",color:"#fff","border-radius":"2px","font-size":"16px",padding:"9px 10px",lineStyle:{lineType:"straight",lineWidth:2,lineColor:"#11A9CC"}},childTopic:{"font-size":"13px",color:"#428CCE",padding:"2px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#11A9CC"}}},pop_contrast5:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/pop_contrast5.svg",title:o.default.t("js.Pop_contrast"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#A82A7B",color:"#ffffff","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#A82A7B",color:"#FFFFFF","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#FCCC54"}},childTopic:{"font-size":"12px",color:"#9E005D",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#FCCC54"}}},pop_contrast6:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/pop_contrast6.svg",title:"".concat(o.default.t("js.Color_Contrast_Wind_Series")," V"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#EDB648",color:"#000000","font-size":"20px",border:"2px solid #000000","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#729E1C",color:"#FFFFFF","font-size":"14px",padding:"6px 12px",border:"2px solid #000000","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#0A0202",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}}},pop_contrast7:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/pop_contrast7.svg",title:"".concat(o.default.t("js.Color_Contrast_Wind_Series")," VI"),startType:["unilateral"],underLine:!0,marginH:30,marginW:100,childMarginH:15,childMarginW:60,common:{family:"微软雅黑",italic:!1,textAlign:"left",blob:!1},connectionStyle:{lineWidth:3,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#9458AF",color:"#ffffff","font-size":"24px","border-radius":"2px",padding:"16px 38px"},secTopic:{color:"#9458AF","font-size":"16px",padding:"4px 14px 4px 14px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#FCCC54"}},childTopic:{"font-size":"13px",color:"#9458AF",padding:"4px 9px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#FCCC54"}}},black_and_white1:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/black_and_white1.svg",title:"".concat(o.default.t("js.Black_and_White_Wind_Foundation")," I"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#000000",color:"#F2F2F2","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{color:"#000000","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#000000",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}}},black_and_white2:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/black_and_white2.svg",title:o.default.t("js.Black_and_White_Classic_Line"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#000000",color:"#F2F2F2","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{color:"#000000",backgroundColor:"#EFEFEF","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#000000",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}}},black_and_white3:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/black_and_white3.svg",title:o.default.t("js.Black_and_white_straight_line_style"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#000000",color:"#F2F2F2","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{color:"#000000",backgroundColor:"#EFEFEF","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"straight",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#000000",padding:"3px 9px",lineStyle:{lineType:"broken",lineWidth:2,lineColor:"#000000"}}},black_and_white4:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/black_and_white4.svg",title:o.default.t("js.Black_and_white"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#000000",color:"#F2F2F2","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{color:"#000000",backgroundColor:"#EFEFEF","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#000000",padding:"3px 9px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#000000"}}},black_and_white5:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/black_and_white5.svg",title:o.default.t("js.Black_and_white"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],underLine:!0,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#F2F2F2",color:"#000000","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{color:"#000000","font-size":"14px",padding:"6px 12px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#000000",padding:"3px 9px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#000000"}}},black_and_white6:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/black_and_white6.svg",title:o.default.t("js.Black_and_white_compact_line"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#000000",color:"#F2F2F2","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{color:"#000000",backgroundColor:"#EFEFEF","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#000000",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}}},black_and_white7:{background:"#F7F7F7",thumbUrl:staticBasePath+"/themes/black_and_white5.svg",title:"".concat(o.default.t("js.Black_and_White_Classic_Curve")," II"),startType:["unilateral"],underLine:!0,marginH:30,marginW:100,childMarginH:15,childMarginW:60,common:{family:"微软雅黑",italic:!1,textAlign:"left",blob:!0},connectionStyle:{lineWidth:3,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#000000",color:"#f2f2f2","font-size":"24px","border-radius":"7px",padding:"16px 38px"},secTopic:{color:"#000000","font-size":"16px",padding:"4px 14px 4px 14px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#000000"}},childTopic:{"font-size":"13px",color:"#000000",padding:"6px 9px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#000000"}}},cool_sports1:{background:"#000000",thumbUrl:staticBasePath+"/themes/cool_sports1.svg",title:"".concat(o.default.t("js.Dark_Night_Series")," I"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#4B8FC1",color:"#ffffff","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{color:"#000000",backgroundColor:"#71DBDA","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#4B8FC1"}},childTopic:{"font-size":"12px",color:"#71DBDA",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#4B8FC1"}}},cool_sports2:{background:"#000000",thumbUrl:staticBasePath+"/themes/cool_sports2.svg",title:"".concat(o.default.t("js.Dark_Night_Series")," II"),marginH:30,marginW:100,childMarginH:10,childMarginW:20,startType:["unilateral"],underLine:!0,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#000000",color:"#ffffff","font-size":"20px","border-radius":"5px",border:"2px solid #884DFF",padding:"10px 16px 12px"},secTopic:{color:"#8898FF","font-size":"14px",padding:"6px 12px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#DDC2FF"}},childTopic:{"font-size":"12px",color:"#8898FF",padding:"4px 9px",lineStyle:{underLine:!0,lineType:"curve",lineWidth:2,lineColor:"#DDC2FF"}}},cool_sports3:{background:"#000000",thumbUrl:staticBasePath+"/themes/cool_sports3.svg",title:"".concat(o.default.t("js.Dark_Night_Series")," III"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#FF6EF2",color:"#ffffff","font-size":"20px","border-radius":"20px",padding:"10px 16px 12px"},secTopic:{color:"#ffffff","font-size":"14px",padding:"6px 12px","border-radius":"5px",border:"2px solid #ED1E79",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#FF6EF2"}},childTopic:{"font-size":"12px",color:"#ffffff",padding:"4px 9px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#FF6EF2"}}},cool_sports4:{background:"#000000",thumbUrl:staticBasePath+"/themes/cool_sports4.svg",title:"".concat(o.default.t("js.Dark_Night_Series")," IV"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#46CAFF",color:"#000000","font-size":"20px","border-radius":"20px",padding:"10px 16px 12px"},secTopic:{color:"#ffffff","font-size":"14px",padding:"6px 12px","border-radius":"5px",border:"2px solid #3272FF",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#46CAFF"}},childTopic:{"font-size":"12px",color:"#ffffff",padding:"4px 9px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#46CAFF"}}},cool_sports5:{background:"#000000",thumbUrl:staticBasePath+"/themes/cool_sports5.svg",title:"".concat(o.default.t("js.Dark_Night_Series")," V"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#007384",color:"#E6FFFF","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{color:"#D6FFF4","font-size":"14px",padding:"6px 12px","border-radius":"5px",border:"2px solid #06B4DE",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#32BDC4"}},childTopic:{"font-size":"12px",color:"#D6FFF4",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#32BDC4"}}},simple_line1:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple_line1.svg",title:o.default.t("js.Minimalist_Business_Green"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#116D64",color:"#ffffff","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{color:"#116D64",backgroundColor:"#E1EFEE","font-size":"14px",padding:"6px 12px","border-radius":"5px",border:"1px solid #116D64",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#116D64"}},childTopic:{"font-size":"12px",color:"#116D64",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#116D64"}}},simple_line2:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple_line2.svg",title:o.default.t("js.Minimalist_Green"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#3D9B53",color:"#E6FFFF","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#E1EFE3",color:"#1F602B","font-size":"14px",padding:"6px 12px","border-radius":"5px",border:"1px solid #3D9B53",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#3D9B53"}},childTopic:{"font-size":"12px",color:"#1F602B",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#3D9B53"}}},simple_line3:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple_line3.svg",title:o.default.t("js.Minimalist_Classic_Blue"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#ffffff",color:"#0D6AB7","font-size":"20px","border-radius":"5px",border:"1px solid #93C6E2",padding:"10px 16px 12px"},secTopic:{color:"#0D6AB7","font-size":"14px",padding:"6px 12px","border-radius":"5px",border:"1px solid #93C6E2",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#528FCC"}},childTopic:{"font-size":"12px",color:"#0D6AB7",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#528FCC"}}},simple_line4:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple_line4.svg",title:o.default.t("js.Minimal_linearity"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#ffffff",color:"#446D3E","font-size":"20px","border-radius":"5px",border:"1px solid #446D3E",padding:"10px 16px 12px"},secTopic:{color:"#446D3E","font-size":"14px",padding:"6px 12px","border-radius":"5px",border:"1px solid #E0D2AA",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#446D3E"}},childTopic:{"font-size":"12px",color:"#446D3E",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#446D3E"}}},simple_line5:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple_line5.svg",title:o.default.t("js.Minimalist_line_style"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#ffffff",color:"#65593B","font-size":"20px","border-radius":"5px",border:"1px solid #65593B",padding:"10px 16px 12px"},secTopic:{color:"#335260","font-size":"14px",padding:"6px 12px","border-radius":"5px",border:"1px solid #335260",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#65593B"}},childTopic:{"font-size":"12px",color:"#335260",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#65593B"}}},simple_line6:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple_line6.svg",title:o.default.t("js.Minimalist_Classic_Curve_Style"),startType:["unilateral"],underLine:!0,marginH:30,marginW:100,childMarginH:15,childMarginW:60,member:!0,common:{family:"微软雅黑",italic:!1,textAlign:"left",blob:!1},connectionStyle:{lineWidth:1,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},centerTopic:{backgroundColor:"#F2EBDD",color:"#444444","font-size":"24px","border-radius":"2px",border:"1px solid #AF9D7D",padding:"16px 38px"},secTopic:{color:"#444444","font-size":"16px",padding:"4px 14px",lineStyle:{lineType:"curve",lineWidth:1,underLine:!0,lineColor:"#AF9D7D"}},childTopic:{"font-size":"13px",color:"#444444",padding:"3px 9px",lineStyle:{lineType:"curve",lineWidth:1,underLine:!0,lineColor:"#AF9D7D"}}},shangwu1:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/shangwu1.svg",title:o.default.t("js.Business_style"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#DBBA79",color:"#ffffff","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#2B4156",color:"#ffffff","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"straight",lineWidth:2,lineColor:"#2B4156"}},childTopic:{"font-size":"12px",color:"#2B4156",padding:"3px 9px",lineStyle:{lineType:"broken",lineWidth:2,lineColor:"#2B4156"}}},shangwu2:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/shangwu2.svg",title:o.default.t("js.Business_black_gold"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#DBBA79",color:"#ffffff","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#DBBA79",color:"#2B4156","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:3,lineColor:"#2B4156"}},childTopic:{"font-size":"12px",color:"#2B4156",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#2B4156"}}},shangwu3:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/shangwu3.svg",title:o.default.t("js.Business_Grey_Gold"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#E2D7C5",color:"#4C493F","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#E2D7C5",color:"#4C493F","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#C19D5F"}},childTopic:{"font-size":"12px",color:"#4C493F",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#C19D5F"}}},shangwu4:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/shangwu4.svg",title:o.default.t("js.Business_Classic"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#0F4C81",color:"#ffffff","font-size":"20px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#0F4C81",color:"#ffffff","font-size":"14px",padding:"6px 12px",lineStyle:{lineType:"straight",lineWidth:2,lineColor:"#83A3BA"}},childTopic:{"font-size":"12px",color:"#0F4C81",padding:"4px 9px",lineStyle:{lineType:"broken",lineWidth:2,lineColor:"#83A3BA"}}},shangwu5:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/shangwu5.svg",title:o.default.t("js.Business_style"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#3C5E60",color:"#ffffff","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#3C5E60",color:"#ffffff","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#9B8867"}},childTopic:{"font-size":"12px",color:"#3C5E60",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#9B8867"}}},shangwu6:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/shangwu6.svg",title:o.default.t("js.Business_Basics"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#511E84",color:"#F2F2F2","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{color:"#000000","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#000000",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}}},basic1:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/basic1.svg",title:o.default.t("js.quick_Type"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#ffffff",color:"#55C18C","font-size":"20px","border-radius":"5px",border:"1px solid #55C18C",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#EDEDED",color:"#000000","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#A5A5A5"}},childTopic:{"font-size":"12px",color:"#000000",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#A5A5A5"}}},basic2:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/basic2.svg",title:o.default.t("js.quick_Type"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#ffffff",color:"#55C18C","font-size":"20px","border-radius":"5px",border:"1px solid #55C18C",padding:"10px 16px 12px"},secTopic:{color:"#000000","font-size":"14px",padding:"6px 12px","border-radius":"5px",border:"1px solid #DEE2DF",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#A5A5A5"}},childTopic:{"font-size":"12px",color:"#000000",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#A5A5A5"}}},basic3:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/basic3.svg",title:o.default.t("js.quick_Type"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#ffffff",color:"#55C18C","font-size":"20px","border-radius":"5px",border:"1px solid #55C18C",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#EDEDED",color:"#444444","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:1,lineColor:"#A5A5A5"}},childTopic:{"font-size":"12px",color:"#444444",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#A5A5A5"}}},basic4:{background:"#fafafa",thumbUrl:staticBasePath+"/themes/basic4.svg",title:o.default.t("js.Basic_Wire_Frame_Style"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#ffffff",color:"#55C18C","font-size":"20px","border-radius":"5px",border:"2px solid #55C18C",padding:"10px 16px 12px"},secTopic:{color:"#444444","font-size":"14px",padding:"6px 12px","border-radius":"20px",border:"1px solid #E3E3E3",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#A5A5A5"}},childTopic:{"font-size":"12px",color:"#444444",padding:"4px 9px","border-radius":"14px",border:"1px solid #E3E3E3",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#A5A5A5"}}},basic5:{background:"#fafafa",thumbUrl:staticBasePath+"/themes/basic5.svg",title:o.default.t("js.Basic_Straight_Style"),startType:[],marginH:30,marginW:50,childMarginH:3,childMarginW:8,common:{family:" 微软雅黑",italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#8A8A8A",color:"#ffffff"},centerTopic:{backgroundColor:"#50C28B",color:"#fff","font-size":"25px","border-radius":"6px",border:"2px solid #50C28B",padding:"10px 32px"},secTopic:{backgroundColor:"#ffffff",border:"1px solid #444","border-radius":"4px",color:"#23282D","font-size":"16px",padding:"6px 20px",lineStyle:{lineType:"straight",lineWidth:2,lineColor:"#8A8A8A"}},childTopic:{"font-size":"13px",color:"#23282D",padding:"2px 8px","font-weight":400,lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#8A8A8A",underLine:!0}}},simple1:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple1.svg",title:o.default.t("js.Simple_shining_Red"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#FA1E2F",color:"#ffffff","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#EAEAEA",color:"#000000","font-size":"14px",padding:"6px 12px","border-radius":"20px",border:"2px solid #000000",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#000000",padding:"4px 9px","border-radius":"14px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}}},simple2:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple2.svg",title:o.default.t("js.Simple_Classic_line"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#067BEF",color:"#ffffff","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#E6EAED",color:"#000000","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#72504C",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}}},simple3:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple3.svg",title:o.default.t("js.Simple_classic_line_style"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#067BEF",color:"#ffffff","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#E6EAED",color:"#000000","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#72504C",padding:"3px 9px","border-radius":"14px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}}},simple4:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple4.svg",title:o.default.t("js.Simplicity"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:[],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#2AAD68",color:"#ffffff","font-size":"20px","border-radius":"5px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#EBEDEB",color:"#000000","font-size":"14px",padding:"6px 12px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#000000",padding:"3px 9px","border-radius":"14px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}}},simple5:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple5.svg",title:o.default.t("js.Reduced_Base_Curve"),marginH:20,marginW:60,childMarginH:10,childMarginW:20,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#067BEF",color:"#ffffff","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px"},secTopic:{backgroundColor:"#E6EAED",color:"#000000","font-size":"14px",padding:"6px 12px 8px","border-radius":"5px",lineStyle:{lineType:"curve",lineWidth:2,lineColor:"#000000"}},childTopic:{"font-size":"12px",color:"#72504C",padding:"2px 9px 4px","border-radius":"14px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#000000"}}},guide:{background:"#ffffff",thumbUrl:staticBasePath+"/themes/simple2.svg",title:"脑图导读",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#8350F2",color:"#fff","font-size":"16px","font-weight":600,"border-radius":"5px",padding:"10px 12px"},secTopic:{backgroundColor:"#ECE1FC",color:"#8350F2","font-size":"14px",padding:"4px 12px","font-weight":600,"border-radius":"5px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#AE88FF"}},childTopic:{"font-size":"12px",color:"#0D0D0DE5",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#AE88FF"}}},eyehelp1:{background:"#FBF5E0",thumbUrl:staticBasePath+"/themes/eyehelp1.svg",title:"".concat(o.default.t("js.Eye_Care_Series")," I / ").concat(o.default.t("js.Blue_Classic_Wireframe")),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],member:!0,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#D8CDB8",color:"#4E667F","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px",border:"2px solid #4E667F"},secTopic:{backgroundColor:"#EFE6D2",color:"#4E667F","font-size":"14px",padding:"6px 12px","border-radius":"20px",border:"2px solid #4E667F",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#4E667F"}},childTopic:{"font-size":"12px",color:"#4E667F",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#4E667F"}}},eyehelp2:{background:"#FBF5E0",thumbUrl:staticBasePath+"/themes/eyehelp2.svg",title:"".concat(o.default.t("js.Eye_Care_Series")," II / ").concat(o.default.t("js.Green_Classic")),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],member:!0,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#6C8C78",color:"#ffffff","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px"},secTopic:{color:"#466350","font-size":"14px",padding:"6px 12px","border-radius":"20px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#6C8C78"}},childTopic:{"font-size":"12px",color:"#466350",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#6C8C78"}}},eyehelp3:{background:"#FBF5E0",thumbUrl:staticBasePath+"/themes/eyehelp3.svg",title:"".concat(o.default.t("js.Eye_Care_Series")," III / ").concat(o.default.t("js.Green_simplicity")),marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#D0D8C3",color:"#46665D","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px"},secTopic:{color:"#46665D","font-size":"14px",padding:"6px 12px","border-radius":"6px",border:"2px solid #C0CCAE",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#46665D"}},childTopic:{"font-size":"12px",color:"#46665D",padding:"3px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#6C8C78"}}},eyehelp4:{background:"#FBF5E0",thumbUrl:staticBasePath+"/themes/eyehelp4.svg",title:"".concat(o.default.t("js.Eye_Care_Series")," IV / ").concat(o.default.t("js.Blue_Classic_Curve")),marginH:30,marginW:100,childMarginH:15,childMarginW:50,startType:["unilateral"],underLine:!0,member:!0,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#C7D3D8",color:"#5D788C","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px",border:"2px solid #576B7F"},secTopic:{color:"#5D788C","font-size":"14px",padding:"6px 12px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#576B7F"}},childTopic:{"font-size":"12px",color:"#5D788C",padding:"4px 9px",lineStyle:{lineType:"curve",lineWidth:2,underLine:!0,lineColor:"#576B7F"}}},eyehelp5:{background:"#FBF5E0",thumbUrl:staticBasePath+"/themes/eyehelp5.svg",title:"".concat(o.default.t("js.Eye_Care_Series")," IV / ").concat(o.default.t("js.Classic_line")),marginH:30,marginW:50,childMarginH:3,childMarginW:8,common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"#FBF5E0",color:"#7C5D14","font-size":"20px","border-radius":"6px",padding:"10px 16px 12px",border:"2px solid #827A5B"},secTopic:{backgroundColor:"#E0D8B6",color:"#7C5D14","font-size":"14px",padding:"6px 12px","border-radius":"6px",border:"2px solid #827A5B",lineStyle:{lineType:"straight",lineWidth:2,lineColor:"#827A5B"}},childTopic:{"font-size":"12px",color:"#7C5D14",padding:"4px 9px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#827A5B"}}},eyehelp6:{background:"#fcf5de",thumbUrl:staticBasePath+"/themes/paper_1.svg",startType:["unilateral"],title:"".concat(o.default.t("js.Eye_Care_Series")," IV / ").concat(o.default.t("js.Classic")),marginH:30,marginW:50,childMarginH:3,childMarginW:17,common:{family:" 微软雅黑",italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"#745D46",color:"#ffffff"},centerTopic:{backgroundColor:"#ffffff",color:"#745D46","font-size":"25px","border-radius":"16px",border:"2px solid #745D46","font-weight":"500",padding:"14px 32px"},secTopic:{backgroundColor:"#ffffff",border:"1px solid #745D46","border-radius":"20px",color:"#745D46","font-size":"16px",padding:"8px 20px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"#745D46"}},childTopic:{"font-size":"13px",color:"#745D46",padding:"3px 8px","font-weight":400,lineStyle:{lineType:"roundBroken",lineWidth:1,lineColor:"#745D46",underLine:!0}}},mb1:{background:"#ffffff",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb1",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(255,255,255)",color:"rgb(29,29,30)","font-size":"20px",border:"2px solid rgb(117,117,125)","border-radius":"5px",padding:"8px 26px 10px"},secTopic:{color:"rgb(29,29,30)","font-size":"16px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(117,117,125)"}},childTopic:{"font-size":"14px",color:"rgb(29,29,30)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(117,117,125)"}}},mb2:{background:"#ffffff",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb2",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(86,86,213)",color:"rgb(255,255,255)","font-size":"20px","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(245,245,246)",color:"rgb(29,29,30)","font-size":"16px","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(86,86,213)"}},childTopic:{"font-size":"14px",color:"rgb(29,29,30)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(86,86,213)"}}},mb3:{background:"rgb(44,44,46)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb3",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(86,86,213)",color:"rgb(255,255,255)","font-size":"20px","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(73,73,78)",color:"rgb(255,255,255)","font-size":"16px","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(86,86,213)"}},childTopic:{"font-size":"14px",color:"rgb(255,255,255)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(86,86,213)"}}},mb4:{background:"rgb(56,61,65)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb4",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(100,168,219)",color:"rgb(255,255,255)","font-size":"20px","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(233,233,235)",color:"rgb(73,73,78)","font-size":"16px","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(233,233,235)"}},childTopic:{"font-size":"14px",color:"rgb(245,245,246)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(233,233,235)"}}},mb5:{background:"rgb(232,238,241)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb5",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(98,170,242)",color:"rgb(255,255,255)","font-size":"20px","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(255,255,255)",color:"rgb(73,73,78)","font-size":"16px","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(201,200,206)"}},childTopic:{"font-size":"14px",color:"rgb(73,73,78)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(201,200,206)"}}},mb6:{background:"rgb(255,255,255)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb6",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(90,115,145)",color:"rgb(255,255,255)","font-size":"20px","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(253,243,242)",color:"rgb(117,117,125)","font-size":"16px",border:"1px solid rgb(238,203,203)","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(160,186,209)"}},childTopic:{"font-size":"14px",color:"rgb(117,117,125)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(160,186,209)"}}},mb7:{background:"rgb(223,223,223)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb7",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(165,54,39)",color:"rgb(255,255,255)","font-size":"20px","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(56,56,51)",color:"rgb(255,255,255)","font-size":"16px","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(73,73,78)"}},childTopic:{"font-size":"14px",color:"rgb(73,73,78)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(73,73,78)"}}},mb8:{background:"rgb(255,255,255)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb8",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(247,252,238)",color:"rgb(188,206,154)","font-size":"20px",border:"1px solid rgb(188,206,154)","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(238,246,250)",color:"rgb(133,170,227)","font-size":"16px",border:"1px solid rgb(154,185,230)","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(215,210,230)"}},childTopic:{"font-size":"14px",color:"rgb(73,73,78)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(215,210,230)"}}},mb9:{background:"rgb(255,255,255)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb9",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(189,138,98)",color:"rgb(255,255,255)","font-size":"20px","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(255,255,255)",color:"rgb(102,102,107)","font-size":"16px",border:"1px solid rgb(189,138,98)","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(201,200,206)"}},childTopic:{"font-size":"14px",color:"rgb(102,102,107)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(201,200,206)"}}},mb10:{background:"rgb(245,239,236)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb10",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(160,139,122)",color:"rgb(255,255,255)","font-size":"20px",border:"1px solid rgb(119,111,107)","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(253,255,243)",color:"rgb(85,88,66)","font-size":"16px",border:"1px solid rgb(154,161,116)","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(187,174,166)"}},childTopic:{"font-size":"14px",color:"rgb(103,95,91)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(187,174,166)"}}},mb11:{background:"rgb(252,248,227)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb11",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(103,88,62)",color:"rgb(255,255,255)","font-size":"20px","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(255,255,255)",color:"rgb(56,47,35)","font-size":"16px",border:"1px solid rgb(146,146,151)","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(213,205,179)"}},childTopic:{"font-size":"14px",color:"rgb(103,93,86)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(213,205,179)"}}},mb12:{background:"rgb(231,236,240)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb12",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(200,150,136)",color:"rgb(255,255,255)","font-size":"20px","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(255,255,255)",color:"rgb(115,114,119)","font-size":"16px","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(130,130,137)"}},childTopic:{"font-size":"14px",color:"rgb(115,114,119)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(130,130,137)"}}},mb13:{background:"rgb(246,240,240)",thumbUrl:"/assets/images/mind/simple_line5.png",title:"mb13",marginH:20,marginW:60,childMarginH:10,childMarginW:20,startType:["unilateral"],common:{family:"微软雅黑",bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:1,lineColor:"#98a2ab",color:"#fefcfc"},centerTopic:{backgroundColor:"rgb(136,141,154)",color:"rgb(255,255,255)","font-size":"20px","border-radius":"5px",padding:"10px 26px 12px"},secTopic:{backgroundColor:"rgb(255,255,255)",color:"rgb(52,52,55)","font-size":"16px",border:"1px solid rgb(230,224,223)","border-radius":"5px",padding:"6px 14px 8px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(179,179,104)"}},childTopic:{"font-size":"14px",color:"rgb(67,67,71)",padding:"2px 9px 4px",lineStyle:{lineType:"roundBroken",lineWidth:2,lineColor:"rgb(179,179,104)"}}},caihong1:{background:"#FFFFFF",thumbUrl:staticBasePath+"/themes/delicate_caihong.svg",title:o.default.t("js.Curved_rainbow"),startType:[],autoColor:!0,marginH:24,marginW:50,childMarginH:24,childMarginW:16,common:{family:"微软雅黑",italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},centerTopic:{backgroundColor:"#4F58F3",color:"#FFFFFF","font-size":"20px","font-weight":"600","border-radius":"14px",padding:"12px 26px"},secTopic:{color:"#FFFFFF","font-size":"16px",backgroundColor:"rgb(255,255,255)","font-weight":"600","border-radius":"14px",padding:"11px 15px",lineStyle:{lineType:"curve",lineWidth:3}},childTopic:{"font-size":"14px",color:"#15345B",padding:"1px 6px","font-weight":"400",lineStyle:{lineType:"roundBroken",lineWidth:2}}},caihong2:{background:"#FFFFFF",thumbUrl:staticBasePath+"/themes/delicate_caihong.svg",title:o.default.t("js.Curved_rainbow"),autoColor:!0,marginH:20,marginW:50,childMarginH:24,childMarginW:40,startType:["thinner"],common:{family:"微软雅黑",italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},centerTopic:{backgroundColor:"#4F58F3",color:"#FFFFFF","font-size":"20px","font-weight":"600","border-radius":"14px",padding:"12px 26px"},secTopic:{color:"#FFFFFF","font-size":"14px",backgroundColor:"rgb(255,255,255)","font-weight":"600","border-radius":"30px",padding:"8px 20px",lineStyle:{lineType:"curve",lineWidth:2}},childTopic:{"font-size":"14px",color:"#15345B",padding:"3px 12px",backgroundColor:"#ffffff","font-weight":"400","border-radius":"6px",lineStyle:{lineType:"curve",lineWidth:2}}},caihong3:{background:"#FFFFFF",thumbUrl:staticBasePath+"/themes/delicate_caihong.svg",title:o.default.t("js.Curved_rainbow"),autoColor:!0,marginH:16,marginW:50,childMarginH:12,childMarginW:40,startType:[],common:{family:"微软雅黑",italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff"},boundaryStyle:{lineColor:"#939aa8",lineWidth:"2",lineType:"1",dasharray:"6,3",fill:"#939aa8",opacity:"0.1"},centerTopic:{color:"#0D0D0DE5",backgroundColor:"#FFFFFF","box-shadow":"0 4px 15px 0 #0000001A","font-size":"20px","font-weight":"600","border-radius":"45px",padding:"6px 24px"},secTopic:{color:"#0D0D0DE5","font-size":"14px",padding:"8px 14px",lineStyle:{lineType:"curve",lineWidth:3}},childTopic:{"font-size":"14px",color:"#0D0D0DE5",padding:"3px 12px",lineStyle:{lineType:"curve",lineWidth:3}}}},r=(t.themeids=function(){var e=[];for(var t in a)-1==e.indexOf(t)&&e.push(t);return e}(),t.configure_theme={themeids:["theme3","theme3_1","default","shangwu","shangwu_1","paper","paper_1","jianbihua","jianbihua_1","caihongpao","simple","niupizhi","caihongthinner","colorLines","caihong","basic","theme1","red","mindmap1","black","mindmap","mobdefault","mobdark","mobpink","mob-border-dark","mobcaihong","delicate_caihong2","delicate_dark","mindmap_dark","artistic_song","zw_red","lively_caihong","dark_caihong","gsx_notes_red","cute_map","shangwu_SVIP","gsx_notes_white","gsx_notes_color","xuanku","gsx_notes_green","cement_style","indie_pop1","indie_pop2","indie_pop3","indie_pop4","indie_pop5","indie_pop6","indie_pop7","retro_theme1","retro_theme2","retro_theme3","retro_theme4","retro_theme5","retro_theme6","retro_theme7","pop_contrast1","pop_contrast2","pop_contrast3","pop_contrast4","pop_contrast5","pop_contrast6","pop_contrast7","black_and_white1","black_and_white2","black_and_white3","black_and_white4","black_and_white5","black_and_white6","cool_sports1","cool_sports2","cool_sports3","cool_sports4","cool_sports5","simple_line1","simple_line2","simple_line3","simple_line4","simple_line5","simple_line6","shangwu1","shangwu2","shangwu3","shangwu4","shangwu5","shangwu6","basic1","basic2","basic3","basic4","simple1","simple2","simple3","simple4","eyehelp1","eyehelp2","eyehelp3","eyehelp4","eyehelp5"],init:function(){for(var e in a)-1==this.themeids.indexOf(e)&&this.themeids.push(e)},tags:{curve:[],bound:[]},newThemes:["bd_caihong","bg_caihong","bg_caihong2"],themes_ids:["delicate_caihong2","simple2","artistic_song","gsx_notes_white","gsx_notes_yellow","red","eyehelp2","theme3_1","mindmap1","shangwu6","gsx_notes_color","shangwu_SVIP","caihong","lively_caihong","basic5","basic4","simple_line5","simple_line3","simple_line6","eyehelp4","eyehelp1","eyehelp5","black_and_white1","black_and_white2","delicate_dark","shangwu4","shangwu3","shangwu2","simple1","gsx_notes_red","pop_contrast1","pop_contrast2","pop_contrast4","pop_contrast6","jianbihua_1","cool_sports1","cool_sports3","cool_sports4","cool_sports2","cool_sports5","xuanku","mindmap_dark","black","dark_caihong"],themes_def:["theme3","theme3_1","default","artistic_song","gsx_notes_yellow","mindmap1","basic4","basic5","gsx_notes_white","caihong","shangwu6","delicate_caihong2","simple2","red","eyehelp2","mindmap1","shangwu6","gsx_notes_color","delicate_dark","jianbihua_1","simple_line5","black","shangwu_SVIP","shangwu4","simple_line6","simple_line3","shangwu3","shangwu2","dark_caihong","pop_contrast2","pop_contrast1","gsx_notes_red","mindmap_dark","pop_contrast6","simple1"],themes_svip:["drak_green","cool_sports1","xuanku","cool_sports5","cool_sports4","cool_sports2","cool_sports3"],theme_tags:{default:{name:o.default.t("js.Default"),list:["theme3","delicate_caihong2","gsx_notes_white","artistic_song","delicate_dark","simple2","bg_caihong2","gsx_notes_yellow","bd_caihong","bg_caihong","eyehelp2","gsx_notes_color","mindmap1","shangwu6","jianbihua_1","red","basic4","simple_line5","black","shangwu_SVIP","dark_caihong","mindmap_dark","caihong","lively_caihong","shangwu3","simple_line6","shangwu2","eyehelp5","eyehelp1","eyehelp4","simple1","gsx_notes_red","pop_contrast2","pop_contrast6","shangwu4","simple_line3","pop_contrast1","pop_contrast4","black_and_white1","black_and_white2","drak_green","cool_sports1","xuanku","cool_sports5","cool_sports4","cool_sports2","cool_sports3","basic5"]}},mobi:{themes_ids:["theme3_1","gsx_notes_white","red","indie_pop5","delicate_dark","gsx_notes_red","jianbihua_1","mob-border-dark","artistic_song","mobpink","mobdark","delicate_caihong","dark_caihong","shangwu3","simple1"],themes_def:["theme3_1","gsx_notes_white","red","indie_pop5","delicate_dark","gsx_notes_red","jianbihua_1","mob-border-dark","artistic_song","mobpink","mobdark","delicate_caihong","dark_caihong","shangwu3","simple1"]},wps:{themes_ids:["theme_wps_def","caihong1","caihong2","caihong3","theme3_1","default","mindmap1","basic4","basic5","gsx_notes_white","simple_line5","gsx_notes_color","simple_line6","simple_line1","simple_line2","simple_line3","caihong","delicate_caihong","lively_caihong","shangwu6","shangwu4","red","shangwu3","shangwu2","shangwu_SVIP","black_and_white1","black_and_white6","black_and_white2","black_and_white3","delicate_dark","black_and_white7","simple3","simple2","shangwu_1","simple1","gsx_notes_red","indie_pop5","indie_pop2","indie_pop3","indie_pop4","indie_pop7","indie_pop6","retro_theme1","retro_theme2","retro_theme3","retro_theme4","retro_theme6","retro_theme7","pop_contrast1","pop_contrast2","pop_contrast3","pop_contrast4","pop_contrast6","pop_contrast7","eyehelp1","eyehelp2","eyehelp3","eyehelp4","eyehelp5","paper_1","cool_sports1","cool_sports2","cool_sports3","cool_sports4","cool_sports5","xuanku"],themes_def:["theme_wps_def","caihong1","caihong2","caihong3","black","theme3_1","default","mindmap1","basic4","basic5","gsx_notes_white","caihong","shangwu6","jianbihua_1","red"],theme_tags:{basic:{name:o.default.t("js.Foundation"),list:["theme_wps_def","theme3_1","default","mindmap1","basic4","basic5","gsx_notes_white"]},simple_line:{name:o.default.t("js.Minimal"),list:["simple_line5","gsx_notes_color","simple_line6","simple_line1","simple_line2","simple_line3"]},caihong:{name:o.default.t("js.Rainbow"),list:["caihong1","caihong2","caihong3","caihong","delicate_caihong","lively_caihong"]},shangwu:{name:o.default.t("js.Business"),list:["shangwu6","red","shangwu4","shangwu3","shangwu2","shangwu_SVIP","zw_red"]},black_and_white:{name:o.default.t("js.Black_and_white_on"),list:["black_and_white1","black_and_white6","black_and_white2","black_and_white3","delicate_dark","black_and_white7"]},shouhui:{name:o.default.t("js.Hand_drawn"),list:["jianbihua_1","cute_map"]},simple:{name:o.default.t("js.Simplicity"),list:["simple3","simple2","simple5","simple1","gsx_notes_red"]},indie_pop:{name:o.default.t("js.Fresh"),list:["indie_pop5","indie_pop2","indie_pop3","indie_pop4","indie_pop6","indie_pop7"]},retro_theme:{name:o.default.t("js.Retro"),list:["retro_theme1","retro_theme2","retro_theme3","retro_theme4","retro_theme6","retro_theme7"]},pop_contrast:{name:o.default.t("js.Color_contrast"),list:["pop_contrast1","pop_contrast2","pop_contrast3","pop_contrast4","pop_contrast6","pop_contrast7"]},eyehelp:{name:o.default.t("js.Eye_protection"),list:["eyehelp1","eyehelp2","eyehelp3","eyehelp4","eyehelp5","eyehelp6"]},cool_sports:{name:o.default.t("js.Dark_Night"),list:["black","mindmap_dark","xuanku","dark_caihong","cool_sports1","cool_sports2","cool_sports3","cool_sports4","cool_sports5"]}}},wps_mobi:{themes_ids:["theme_wps_def","theme3_1","default","mindmap1","basic4","basic5","gsx_notes_white","simple_line5","gsx_notes_color","simple_line6","simple_line1","simple_line2","simple_line3","caihong","delicate_caihong","lively_caihong","shangwu6","shangwu4","red","shangwu3","shangwu2","shangwu_SVIP","black_and_white1","black_and_white6","black_and_white2","black_and_white3","delicate_dark","black_and_white7","simple3","simple2","shangwu_1","simple1","gsx_notes_red","indie_pop5","indie_pop2","indie_pop3","indie_pop4","indie_pop7","indie_pop6","retro_theme1","retro_theme2","retro_theme3","retro_theme4","retro_theme6","retro_theme7","pop_contrast1","pop_contrast2","pop_contrast3","pop_contrast4","pop_contrast6","pop_contrast7","eyehelp1","eyehelp2","eyehelp3","eyehelp4","eyehelp5","paper_1","cool_sports1","cool_sports2","cool_sports3","cool_sports4","cool_sports5","xuanku"],themes_def:["theme_wps_def","caihong1","caihong2","caihong3","mobdefault","mobdark","mobpink","mob-border-dark","black","theme3_1","default","mindmap1","basic4","basic5","gsx_notes_white","caihong","shangwu6","jianbihua_1","red"],theme_tags:{basic:{name:o.default.t("js.Foundation"),list:["theme_wps_def","mobdefault","mobdark","mobpink","mob-border-dark"]},simple_line:{name:o.default.t("js.Minimal"),list:["simple_line5","gsx_notes_color","simple_line6","simple_line1","simple_line2","simple_line3"]},caihong:{name:o.default.t("js.Rainbow"),list:["caihong1","caihong2","caihong3","caihong","delicate_caihong","lively_caihong"]},shangwu:{name:o.default.t("js.Business"),list:["shangwu6","red","shangwu4","shangwu3","shangwu2","shangwu_SVIP","zw_red"]},black_and_white:{name:o.default.t("js.Black_and_white_on"),list:["black_and_white1","black_and_white6","black_and_white2","black_and_white3","delicate_dark","black_and_white7"]},shouhui:{name:o.default.t("js.Hand_drawn"),list:["jianbihua_1","cute_map"]},simple:{name:o.default.t("js.Simplicity"),list:["simple3","simple2","simple5","simple1","gsx_notes_red"]},indie_pop:{name:o.default.t("js.Fresh"),list:["indie_pop5","indie_pop2","indie_pop3","indie_pop4","indie_pop6","indie_pop7"]},retro_theme:{name:o.default.t("js.Retro"),list:["retro_theme1","retro_theme2","retro_theme3","retro_theme4","retro_theme6","retro_theme7"]},pop_contrast:{name:o.default.t("js.Color_contrast"),list:["pop_contrast1","pop_contrast2","pop_contrast3","pop_contrast4","pop_contrast6","pop_contrast7"]},eyehelp:{name:o.default.t("js.Eye_protection"),list:["eyehelp1","eyehelp2","eyehelp3","eyehelp4","eyehelp5","eyehelp6"]},cool_sports:{name:o.default.t("js.Dark_Night"),list:["black","mindmap_dark","xuanku","dark_caihong","cool_sports1","cool_sports2","cool_sports3","cool_sports4","cool_sports5"]}}},getThemes:function(e,t,n){var i=this.themeids,o=r[e];if(o){i=o.themes_ids;var a=o.theme_tags;if(n&&a){i=[];for(var s=0;s<n.length;s++){var l=n[s],c=a[l]&&a[l].list;c&&(i=i.concat(c))}}}return i},getTags:function(e){var t=r[e],n=[];return t.theme_tags&&$.each(t.theme_tags,function(e,t){var i={id:e,name:t.name};-1==n.indexOf(i)&&n.push(i)}),n}});r.init(),t.getRadomLineColor=function(e){var t={delicate_caihong:{colors:["#FD5155","#F88A35","#FCB52A","#80BA4C","#0FBAB0","#0D7C82","#02ACF4","#0F80C4","#3D5EC2","#7549C5","#BE49C4","#DD489D"]},delicate_caihong2:{colors:["#FD5155","#F88A35","#FCB52A","#80BA4C","#0FBAB0","#0D7C82","#02ACF4","#0F80C4","#3D5EC2","#7549C5","#BE49C4","#DD489D"]},dark_caihong:{colors:["#A04AFB","#7754F6","#4D69FD","#13A3ED","#74C11F","#FFCA01","#FF8502","#F4325C","#F5479C"]},lively_caihong:{colors:["#6A6CFF","#A6E520","#03C1EB","#FE3E1E","#FFD424","#4F7CFF","#FF44BC","#B16FFF"]},bd_caihong:{colors:["#F2D25F","#C6576D","#EAA0CE","#CD8F88","#E88777"]},bg_caihong:{colors:["#5C6CFF","#3D4BCF","#5041FC","#A244EE","#7020DC","#9C2CB8"]},bg_caihong2:{colors:["#5E6C9D","#527CD9","#5251B9","#5FB3D8","#805CCC"]},caihong1:{colors:["#A771FF","#5383FF","#0FB4A9","#F29929","#FF8A58","#EA629C"]},caihong2:{colors:["#E35144","#E8A35D","#EFC327","#775AEA","#516DF6","#4AB777"]},caihong3:{colors:["#057C52","#1E5FC7","#9348F3","#E2651A","#109968","#E99D00"]},caihongpao:{colors:["rgb(220,220,220)","rgb(193,255,193)","rgb(254,224,198)","rgb(254,240,201)","rgb(255,204,204)","rgb(255,230,204)","rgb(230,255,204)","rgb(204,229,255)","rgb(204,204,255)","rgb(229,204,255)","rgb(255,204,255)","rgb(255,204,230)"]}};return t[e]?t[e].colors:["rgb(255,204,204)","rgb(153,204,255)","#FDB813","#80BC42","#e85d4e","#127c97","rgb(232, 124, 37)","rgb(0, 94, 170)","rgb(51, 156, 168)","rgb(212, 164, 235)"]}},39914:function(e,t,n){n(61894),n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.topicMargin=void 0,n(69268),n(84889);var o=i(n(66603)),a=n(80214),r=n(15240);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.topicMargin={bindEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=e.mindMap,this.mindMap.command.add("UPDATE_TOPIC_MARGIN",this.setMargin.bind(this))},setMargin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=this.mindMap.renderer.mindTree.margin||{};if((0,r.hasChanges)(e,n)){var i=l(l({},n),e);if((0,r.isEmptyObject)(e)&&(i={}),e.layoutMode){var o,s=this.mindMap.renderer.mindTree,c=(0,a.getDefMargin)(s,this.mindMap),d=c.compact,u=c.fit,p=u.marginW,h=u.marginH,m=u.childMarginW,f=u.childMarginH;"compact"===e.layoutMode&&(p=(o=d).marginW,h=o.marginH,m=o.childMarginW,f=o.childMarginH),i.marginW=p,i.marginH=h,i.childMarginW=m,i.childMarginH=f}"compact"!==e.layoutMode&&"compact"!==n.layoutMode||this.mindMap.renderer.getLruPool().forEach(function(e){e.isRerender=!0}),this.mindMap.renderer.mindTree.margin=i,this.mindMap.renderer.setNeedResetTopicList(null,!0),this.mindMap.render(),t||this.mindMap.emit("sendMessage","updatePage",{content:i,original:n,type:"margin"}),this.mindMap.emit("updatePageMargin")}}}},59425:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.watermark=void 0,n(4790),n(69268),n(86837),n(14237),n(24812),n(56980),n(97316),n(92439),n(16610),n(19301);var i=n(5263),o=n(83316),a=n(15240),r=n(59081);t.watermark={bindEvent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.renderer=this.mindMap.renderer,this.contentTextWidth=300,this.mindMap.on("setWaterMark",this.setWaterMark.bind(this)),this.mindMap.on("initWaterMark",this.initWaterMark.bind(this)),this.mindMap.on("view_data_change_real_time",function(t){var n=t.transform,i=e.mindMap.svg.findOne("#rect_mark");e.applyTransform(i,n)})},applyTransform:function(e,t){e&&(e.untransform(),e.transform(t),this.updateWaterMarkSize(e.findOne("rect")))},updateWaterMarkSize:function(e){var t=this.mindMap.svg.findOne("#rect_mark");if(t){var n=(e=e||t.findOne("rect")).node.getBoundingClientRect(),i=n.x,o=n.y,a=n.width,r=n.height,s=this.mindMap.elRect,l=i-s.x,c=o-s.y,d=s.x+s.width-i-a,u=s.y+s.height-o-r,p=Math.max(l,d),h=Math.max(c,u),m=Math.max(p,h)/this.mindMap.view.scale*2,f=e.bbox();if(0!==m){var g=Math.max(f.width+m,2e4),v=Math.max(f.height+m,2e4);e.attr({x:-g/2,y:-v/2,width:g,height:v})}}},clearWatermark:function(){this.mindMap.svg.find("#rect_mark").remove()},getWatermarkColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mindMap.renderer.mindTree,i=e||this.mindMap.renderer.getBackgroundColor();(null!=i&&i.indexOf("null")>0||!n.isBackground)&&(i="rgb(244,244,244)"),i.indexOf("rgb")>=0&&(i=(0,a.getHexColor)(i).hex);var o=(0,a.getRgbFromHex)(i);null==o&&(o={r:190,g:190,b:190});var r=o.r-20,s=o.g-20,l=o.b-20;return r<0&&0!=o.r?r=0:o.r<10&&(r=o.r+40),s<0&&0!=o.g?s=0:o.g<10&&(s=o.g+40),l<0&&0!=o.b?l=0:o.b<10&&(l=o.b+40),t?r+","+s+","+l+", 0.8":"rgb("+r+","+s+","+l+")"},createWatermark:function(e,t){var n=this;return C(k().mark(function i(){var o,a;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n.clearWatermark(),null!=e&&""!==e){i.next=2;break}return i.abrupt("return",null);case 2:2e4,2e4,o=n.mindMap.draw.group().id("rect_mark"),n.mindMap.draw.before(o),a=(new r.Defs).addTo(o).pattern(n.contentTextWidth,n.contentTextWidth,function(){var i=C(k().mark(function i(o){var a,r;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o.attr({patternUnits:"userSpaceOnUse"}),a=t||null==t?e:"",i.next=4,n.generatePattern(a);case 4:r=i.sent,o.image(r).size(n.contentTextWidth,n.contentTextWidth);case 6:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}()).id("pattern_mark"),o.rect(2e4,2e4).fill(a).attr({"pointer-events":"none",x:-1e4,y:-1e4,width:2e4,height:2e4}),n.watermark=e,n.showWatermark=t,n.updateWaterMarkSize();case 6:case"end":return i.stop()}},i)}))()},generatePattern:function(e){var t=this;return C(k().mark(function n(){var i,o,a;return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.getWatermarkColor(),o=document.createElement("canvas"),a=o.getContext("2d"),n.abrupt("return",(o.width=t.contentTextWidth,o.height=t.contentTextWidth,a.fillStyle="transparent",a.fillRect(0,0,t.contentTextWidth,t.contentTextWidth),a.save(),a.translate(t.contentTextWidth/2,t.contentTextWidth/2),a.fillStyle=i,a.opacity="0.2",a.font="18px Arial",a.textAlign="center",a.textBaseline="middle",a.rotate(-45*Math.PI/180),a.fillText(e,0,0),a.restore(),new Promise(function(e){o.toBlob(function(t){var n=URL.createObjectURL(t);e(n)},"image/png")})));case 2:case"end":return n.stop()}},n)}))()},watermark:"",setWaterMark:function(e,t){var n,i={},r={};r.showWatermark=this.showWatermark,r.watermark=this.watermark,i.watermark=e.watermark,i.showWatermark=void 0!==e.showWatermark?e.showWatermark:this.showWatermark,n=(0,a.filterXss)(i.watermark),this.createWatermark(n,i.showWatermark);var s=this.mindMap.renderer.mindTree;s.watermark=n,s.showWatermark=i.showWatermark||!1,t||(this.mindMap.emit("sendMessage","setWatermark",{content:i,original:r}),(0,o.$poCollect)("watermark_function",{watermark:n}))},initWaterMark:function(){var e=this;!1!==editorGlobal.config.watermark&&setTimeout(function(){i.insert.watermark.init({con:$(".po-watermark-con"),watermark:editorGlobal.mindMap.renderer.mindTree.watermark,showWatermark:editorGlobal.mindMap.renderer.mindTree.showWatermark,userName:editorGlobal.userObj.fullName,change:function(e){editorGlobal.mindMap.emit("setWaterMark",e)}});var t={showWatermark:editorGlobal.mindMap.renderer.mindTree.showWatermark,watermark:editorGlobal.mindMap.renderer.mindTree.watermark};e.showWatermark=!!editorGlobal.mindMap.renderer.mindTree.showWatermark,e.watermark=editorGlobal.mindMap.renderer.mindTree.watermark,editorGlobal.mindMap.emit("setWaterMark",t,!0)},300)}}},87737:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0,n(61894),n(5682),n(4790),n(69268),n(86837),n(84889),n(54938),n(14237);var i=n(15240),o=n(80214);t.Command=function(){function e(){T(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opt=t,this.mindMap=t.mindMap,this.commands={},this.history=[],this.selectedHistoryIndex=0,this.isRunning=!1,this.waitFnList=[],this.registerShortcutKeys()}return M(e,[{key:"registerShortcutKeys",value:function(){var e=this;this.mindMap.keyCommand.addShortcut("Control+z",function(){e.mindMap.emit("undo")}),this.mindMap.keyCommand.addShortcut("Control+y",function(){e.mindMap.emit("redo")}),this.mindMap.keyCommand.addShortcut("Control+Shift+z",function(){e.mindMap.emit("redo")})}},{key:"exec",value:function(){var e=C(k().mark(function e(t){var n,i,o,a,r=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=r.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=r[o];if(e.prev=1,this.commands[t]){e.next=4;break}return e.abrupt("return");case 4:if(!(this.isRunning||this.waitFnList.length>0)){e.next=6;break}return e.abrupt("return",void this.addAwaitFn(t,i));case 6:return this.isRunning=!0,e.prev=7,a=this.commands[t].map(function(e){return e.apply(void 0,i)}),e.next=11,Promise.all(a);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:return e.prev=15,this.isRunning=!1,this.waitFnList.length>0&&this.processQueue(),e.finish(15);case 18:e.next=23;break;case 20:return e.prev=20,e.t1=e.catch(1),e.abrupt("return");case 23:case"end":return e.stop()}},e,this,[[1,20],[7,13,15,18]])}));return function(t){return e.apply(this,arguments)}}()},{key:"addAwaitFn",value:function(e,t){this.waitFnList.length<500&&this.waitFnList.push({name:e,args:t}),this.isRunning||this.processQueue()}},{key:"processQueue",value:function(){var e=C(k().mark(function e(){var t,n,i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isRunning||0===this.waitFnList.length){e.next=15;break}if(this.isRunning=!0,e.prev=2,t=this.waitFnList.shift(),n=t.name,i=t.args,!this.commands[n]){e.next=8;break}return o=this.commands[n].map(function(e){return e.apply(void 0,h(i))}),e.next=8,Promise.all(o);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.prev=12,this.isRunning=!1,this.waitFnList.length>0&&this.processQueue(),e.finish(12);case 15:case"end":return e.stop()}},e,this,[[2,10,12,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(e,t){this.commands[e]?this.commands[e].push(t):this.commands[e]=[t]}},{key:"remove",value:function(e,t){if(this.commands[e])if(t){var n=this.commands[e].find(function(e){return e===t});-1!==n&&this.commands[e].splice(n,1)}else this.commands[e]=[],delete this.commands[e]}},{key:"getCopyData",value:function(){return(0,i.copyTopicData)(this.mindMap.renderer.mindTree)}},{key:"emitDataUpdatesEvent",value:function(e,t){try{var n="data_change_detail";if(this.mindMap.event.listenerCount(n)>0&&e&&t){var a=(0,i.deepClone)((0,i.transformTreeDataToObject)(e)),r=(0,i.deepClone)((0,i.transformTreeDataToObject)(t)),s=[],l=function e(t,n){return t.children&&t.children.length>0&&t.children.forEach(function(i,o){t.children[o]="string"==typeof i?n[i]:n[i.data.uid],e(t.children[o],n)}),t};Object.keys(r).forEach(function(e){a[e]?(0,i.isSameObject)(a[e],r[e])||s.push({action:"update",oldData:l(a[e],a),data:l(r[e],r)}):s.push({action:"create",data:l(r[e],r)})}),Object.keys(a).forEach(function(e){r[e]||s.push({action:"delete",data:l(a[e],a)})}),this.mindMap.emit(n,s)}}catch(e){this.mindMap.opt.errorHandler(o.ERROR_TYPES.DATA_CHANGE_DETAIL_EVENT_ERROR,e)}}}]),e}()},81242:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCommand=void 0;var o=i(n(66603));n(27531),n(61894),n(82403),n(38887),n(30940),n(69268),n(58500),n(86837),n(84889);var a=n(74393);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}t.KeyCommand=function(){function e(t){T(this,e),this.opt=t,this.mindMap=t.mindMap,this.shortcutMap={},this.keyDownNum=0,this.shortcutMapCache={},this.isPause=!1,this.isInSvg=!1,this.opt.onlyThumbnail||this.bindEvent()}return M(e,[{key:"pause",value:function(){this.isPause=!0}},{key:"recovery",value:function(){this.isPause=!1}},{key:"save",value:function(){this.shortcutMapCache=this.shortcutMap,this.shortcutMap={}}},{key:"restore",value:function(){this.shortcutMap=this.shortcutMapCache,this.shortcutMapCache={}}},{key:"bindEvent",value:function(){var e=this;this.onKeydown=this.onKeydown.bind(this),this.mindMap.on("svg_mouseenter",function(){e.isInSvg=!0}),this.mindMap.on("svg_mouseleave",function(){e.mindMap.associativeLine&&e.mindMap.associativeLine.showTextEdit||(e.isInSvg=!1)}),window.addEventListener("keydown",this.onKeydown),window.addEventListener("keyup",function(){e.keyDownNum=0}),this.mindMap.on("beforeDestroy",function(){e.unBindEvent()}),document.oncopy=function(t){e.mindMap.opt.readonly||e.mindMap.renderer.copy(t)},document.oncut=function(t){e.mindMap.opt.readonly||e.mindMap.renderer.cut(t)},document.onpaste=function(t){e.mindMap.renderer.paste(t)}}},{key:"unBindEvent",value:function(){window.removeEventListener("keydown",this.onKeydown)}},{key:"isMatchShortcut",value:function(e){var t=this;return Object.keys(this.shortcutMap).find(function(n){return!!t.checkKey(e,n)})}},{key:"onKeydown",value:function(e){var t=this,n=e.target.tagName.toUpperCase();n.includes("INPUT")||n.includes("TEXTAREA")||this.isPause||this.mindMap.opt.enableShortcutOnlyWhenMouseInSvg&&!this.isInSvg||Object.keys(this.shortcutMap).forEach(function(n){t.checkKey(e,n)&&(t.keyDownNum++,t.checkKey(e,"Control+v")||t.checkKey(e,"Control+c")||(e.stopPropagation(),e.preventDefault()),t.shortcutMap[n].forEach(function(n){var i=n.fn;(n.ignoreReadonly||t.checkKey(e,"Control+c")&&t.mindMap.opt.readonlyList.copyShape||!t.mindMap.opt.readonly)&&i(e)}))})}},{key:"checkKey",value:function(e,t){var n=this.getOriginEventCodeArr(e),i=this.getKeyCodeArr(t);if(n.length!==i.length)return!1;for(var o=function(e){var t=i.findIndex(function(t){return t===n[e]});if(-1===t)return{v:!1};i.splice(t,1)},a=0;a<n.length;a++){var r=o(a);if("object"===w(r))return r.v}return!0}},{key:"getOriginEventCodeArr",value:function(e){var t=[];return(e.ctrlKey||e.metaKey)&&t.push(a.keyMap.Control),e.altKey&&t.push(a.keyMap.Alt),e.shiftKey&&t.push(a.keyMap.Shift),t.includes(e.keyCode)||t.push(e.keyCode),t}},{key:"hasCombinationKey",value:function(e){return e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||"Backspace"===e.key||"Enter"===e.key||"Tab"===e.key}},{key:"getKeyCodeArr",value:function(e){var t=e.split(/\s*\+\s*/),n=[];return t.forEach(function(e){n.push(a.keyMap[e])}),n}},{key:"addShortcut",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{ignoreReadonly:!1};e.split(/\s*\|\s*/).forEach(function(e){n.shortcutMap[e]||(n.shortcutMap[e]=[]),n.shortcutMap[e].push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({fn:t},i))})}},{key:"removeShortcut",value:function(e,t){var n=this;e.split(/\s*\|\s*/).forEach(function(e){var i=n.shortcutMap[e];i&&(t?(n.shortcutMap[e]=i.filter(function(e){return e.fn!==t}),0===n.shortcutMap[e].length&&delete n.shortcutMap[e]):delete n.shortcutMap[e])})}},{key:"getShortcutFn",value:function(e){var t=this,n=[];return e.split(/\s*\|\s*/).forEach(function(e){n=t.shortcutMap[e]||[]}),n}}]),e}()},74393:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.keyMap=t.isKey=void 0,n(69268),n(84889);for(var i={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Left:37,Up:38,Right:39,Down:40,Del:46,NumLock:144,Cmd:91,CmdFF:224,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"`":192,"=":187,"-":189,"/":191,".":190,"}":221,"numpad=":107,"numpad-":109,"numpad*":106,"numpad/":111},o=0;o<=9;o++)i[o]=o+48,i["numpad".concat(o)]=o+96;"abcdefghijklmnopqrstuvwxyz".split("").forEach(function(e,t){i[e]=t+65}),t.keyMap=i,t.isKey=function(e,t){var n="object"==w(e)?e.keyCode:e;return i[t]===n}},70846:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.messageSource=void 0,n(27531),n(61894),n(4790),n(69268),n(84889);var i=n(72011),o=n(3578),a=n(15240),r=n(21642),s=n(49306);t.messageSource={bindEvent:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.renderer=this.mindMap.renderer,this.mindMap.on("sendMessage",this.send.bind(this)),this.mindMap.on("undo",this.undo.bind(this)),this.mindMap.on("redo",this.redo.bind(this)),this.mindMap.on("msgExcute",this.excuteMsgDirect.bind(this)),this.mindMap.on("clearStack",this.clearStack.bind(this)),this.mindMap.command.add("setUndoToFalse",function(){e.isUndo=!1}),this.mindMap.command.add("setUndoToTrue",function(){e.isUndo=!0})},checkLocalStorage:function(){return!!window.localStorage},getCopyData:function(){return(0,a.copyTopicData)(this.mindMap.renderer.mindTree)},checkLocalValue:function(e){return localStorage.getItem("def_"+e)||null},isUndo:!0,messages:[],send:function(e,t,n,i){this.messages.push({action:e,content:t,pageId:editorGlobal.poPagination.pageId}),this.mindMap.emit("saveResultTip"),this.submit(n,i)},submit:function(e,t){var n,i=this;i.messages.length>0&&!t&&i.isUndo&&i.undoStack.push(i,i.messages),null==e&&(this.mindMap.emit("sendSync",i.messages),null===(n=editorGlobal.sendMessage)||void 0===n||n.send(i.messages)),i.messages=[]},undoStack:{stack:[],push:function(e,t,n){this.stack.push(t),void 0===n&&(n=!0),n&&(e.redoStack.stack=[],editorGlobal.mindMap.emit("redoStackChanged",0)),editorGlobal.mindMap.emit("undoStackChanged",this.stack.length)},pop:function(e){var t=this.stack,n=t.length;if(0==n)return null;var i=t[n-1];return t.splice(n-1,1),e.redoStack.push(i),editorGlobal.mindMap.emit("undoStackChanged",this.stack.length),i}},redoStack:{stack:[],push:function(e){this.stack.push(e),editorGlobal.mindMap.emit("redoStackChanged",this.stack.length)},pop:function(e){var t=this.stack,n=t.length;if(0==n)return null;var i=t[n-1];return t.splice(n-1,1),e.undoStack.push(e,i,!1),editorGlobal.mindMap.emit("redoStackChanged",this.stack.length),i}},clearStack:function(){this.redoStack.stack=[],editorGlobal.mindMap.emit("redoStackChanged",0),this.undoStack.stack=[],editorGlobal.mindMap.emit("undoStackChanged",0)},undo:function(){var e=this,t=this.undoStack.pop(this);if(null!=t){var n=t.length;this.doWithoutUndo(C(k().mark(function i(){var o,r,s,l,c,d,u,p,h,m,f,g,v,b,y,x,w,_,C,T,S,M,D,E,A,F,I,O,L,P,B,$,N,z,j,R,G,H,W,U,q,V,Y,X,J,K,Z,Q,ee,te,ne,ie,oe,ae,re,se,le,ce,de,ue,pe,he,me,fe,ge,ve,be,ye,xe,we,ke,_e,Ce,Te,Se,Me,De,Ee,Ae,Fe,Ie,Oe,Le,Pe,Be,$e,Ne,ze,je,Re,Ge,He,We,Ue,qe,Ve,Ye,Xe,Je,Ke,Ze,Qe,et;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o=0;case 1:if(!(o<n)){i.next=243;break}if(r=t[o],s=r.action,l=r.content,"create"!=s){i.next=7;break}return i.delegateYield(k().mark(function t(){var n,i;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.content,null!=(c=l.original)&&(0,a.isEmptyObject)(c)&&(c=null),n=e.mindMap.renderer.resetErrorTopic(n,{},"delete").topics,i={},n.forEach(function(t){var n=e.mindMap.renderer.getCacheTopic(t.id);n&&(i[t.id]=n.part)}),t.next=8,e.mindMap.execCommand("REMOVE_TOPIC_MULTI",n,c,!0,i);case 8:case"end":return t.stop()}},t)})(),"t0",5);case 5:i.next=240;break;case 7:if("delete"!=s){i.next=17;break}return d=l.content,u=l.index,null!=(p=l.original)&&(0,a.isEmptyObject)(p)&&(p=null),h=e.mindMap.renderer.resetErrorTopic(d,l.newPart||{},"create"),d=h.topics,m=h.parts,i.next=15,e.mindMap.execCommand("ADD_TOPIC_MULTI",d,p,u,!0,m);case 15:i.next=240;break;case 17:if("updateTitle"!=s){i.next=21;break}i.next=240;break;case 21:if("updateImage"!=s){i.next=26;break}f=l.content,g=l.original,v=l.direction,b=l.resize,y=e.renderer.getTopicById(f),(x=e.util.copy(y)).image=g,e.model.updateTopicImage.call(e,x,y,b,v),e.util.selectOne.call(e,y),i.next=240;break;case 26:if("setTheme"!=s){i.next=32;break}return w=l.original,i.next=30,e.mindMap.execCommand("SET_THEME_DIRECT",w);case 30:i.next=240;break;case 32:if("setThemeOverWrite"!=s){i.next=38;break}return _=l.original,C=l.tps,i.next=36,e.mindMap.execCommand("SET_THEME_OVER_WRITE",_,C,"add");case 36:i.next=240;break;case 38:if("changeSkeleton"!=s){i.next=44;break}return T=l.original,S=T.structure,M=T.theme,D=l.tps||[],E=D.length>0,i.next=42,e.mindMap.execCommand("CHANGE_SKELETON",S,M,E,D,"add");case 42:i.next=240;break;case 44:if("updateStructure"!=s){i.next=51;break}return A=l.original,F=l.oldSums,I=l.oldBounds,i.next=49,e.mindMap.execCommand("CHANGE_STRUCTURE",A,F,I);case 49:i.next=240;break;case 51:if("deleteConnection"!=s){i.next=59;break}return O=l.content,i.next=55,e.mindMap.execCommand("CREATE_CONNECTION_BY_LINES",O);case 55:return i.next=57,e.mindMap.execCommand("ADD_CONNECTION_LINE",O);case 57:i.next=240;break;case 59:if("addConnection"!=s){i.next=65;break}return L=l.content,i.next=63,e.mindMap.execCommand("DELETE_CONNECTION_LINE",L);case 63:i.next=240;break;case 65:if("updateConnection"!=s){i.next=74;break}return P=l.content,B=l.original,i.next=69,e.mindMap.execCommand("UPDATE_CONNECTION_LINE",B,P);case 69:return i.next=71,e.mindMap.execCommand("CREATE_CONNECTION_BY_LINES",[B]);case 71:e.mindMap.execCommand("CREATE_CONNECTION_BY_LABEL",B),i.next=240;break;case 74:if("updatePos"!=s){i.next=88;break}return $=l.content,N=l.original,z=l.newIndex,j=l.oldIndex,R=l.oldSums,G=l.newSums,H=l.newPart,W=l.oldPart,U=l.oldBounds,q=l.newBounds,R=null!=R&&(0,a.isEmptyObject)(R)?null:R.updates,G=null!=G&&(0,a.isEmptyObject)(G)?null:G.updates,U=null!=U&&(0,a.isEmptyObject)(U)?null:U.updates,q=null!=q&&(0,a.isEmptyObject)(q)?null:q.updates,i.next=86,e.mindMap.execCommand("_UPDATE_TOPIC_POS",N,j,$,z,R,G,U,q,!0,W,H);case 86:i.next=240;break;case 88:if("changeToFreeTopic"!=s){i.next=97;break}return V=l.content,Y=l.original,X=l.index,null!=(J=l.updates_origi)&&(0,a.isEmptyObject)(J)&&(J=null),K=e.renderer.getTopicById(Y),Z=X[V.id],Q=l.part,i.next=95,e.mindMap.execCommand("UPDATE_TOPIC_POS",[V],(0,a.copyTopicData)(V),K,Z,J,!0,Q);case 95:i.next=240;break;case 97:if("updateFreeSubPos"!=s){i.next=102;break}ee=l.content,te=l.original,ne=l.newIndex,ie=l.oldIndex,oe=l.oldPart,ae=l.newPart,re=l.oldSums,se=l.newSums,le=l.oldBounds,ce=l.newBounds,re=null!=re&&(0,a.isEmptyObject)(re)?null:re.original,se=null!=se&&(0,a.isEmptyObject)(se)?null:se.original,le=null!=le&&(0,a.isEmptyObject)(le)?null:le.original,ce=null!=ce&&(0,a.isEmptyObject)(ce)?null:ce.original,model.updateFreeSubTopicPos.call(e,ee,te,ne,ie,ae,oe,se,re,ce,le),i.next=240;break;case 102:if("updateFreeTopic"!=s){i.next=106;break}i.next=240;break;case 106:if("update"!=s){i.next=114;break}return de=l.content,ue=l.original,pe=l.type,i.next=110,e.mindMap.execCommand("UPDATE_TOPIC_DATA",ue,pe);case 110:return i.next=112,e.mindMap.execCommand("UPDATE_TOPIC_NODE",ue,de,pe);case 112:i.next=240;break;case 114:if("updateBg"!=s){i.next=130;break}for(ge in he=l.original,me=he.background,fe="background",he)"background"!=ge&&(me=he[ge],fe=ge);if("isBackground"!==fe){i.next=126;break}if(!he.backgroundColor){i.next=122;break}return i.next=121,e.mindMap.execCommand("SET_BACKGROUND",he.backgroundColor,"backgroundColor",!0,null,me);case 121:return i.abrupt("return",void i.sent);case 122:if(!he.backgroundImg){i.next=126;break}return i.next=125,e.mindMap.execCommand("SET_BACKGROUND",he.backgroundImg,"backgroundImg",!0,null,me);case 125:return i.abrupt("return",void i.sent);case 126:return i.next=128,e.mindMap.execCommand("SET_BACKGROUND",me,fe,!0);case 128:i.next=240;break;case 130:if("setTopicStyle"!=s){i.next=138;break}for(ve=l.original,be=l.content,ye=[],xe=0;xe<be.length;xe++)we=be[xe],ke=e.renderer.getTopicById(we),ye.push(ke);return i.next=136,e.mindMap.execCommand("SET_STYLE",ye,ve);case 136:i.next=240;break;case 138:if("changetopicexpand"!=s){i.next=143;break}_e="show"==l.type?"hide":"show",Ce=l.content,e.operation.showOrHideChildren.call(e,Ce,_e),i.next=240;break;case 143:if("addSummary"!=s){i.next=151;break}return Te=l.content,null!=(Se=l.original)&&(0,a.isEmptyObject)(Se)&&(Se=null),Te=e.mindMap.renderer.resetErrorTopic(Te,null,"delete").topics,i.next=149,e.mindMap.execCommand("REMOVE_TOPIC_MULTI",Te,Se,!0);case 149:i.next=240;break;case 151:if("deleteSummary"!=s){i.next=158;break}return Me=l.content,Me=e.mindMap.renderer.resetErrorTopic(Me,null,"addSummary").topics,i.next=156,e.mindMap.execCommand("ADD_SUMMARY",Me,!0);case 156:i.next=240;break;case 158:if("updateSummary"!=s){i.next=164;break}return De=l.original,Ee=l.content,Ae=e.mindMap.renderer.resetErrorTopic(De,null,"updateSummary").topics,i.next=162,e.mindMap.execCommand("UPDATE_SUMMARY",Ae,Ee);case 162:i.next=240;break;case 164:if("addBoundary"!=s){i.next=172;break}return Fe=l.content,null!=(Ie=l.original)&&(0,a.isEmptyObject)(Ie)&&(Ie=null),i.next=170,e.mindMap.execCommand("REMOVE_BOUNDARY",Fe);case 170:i.next=240;break;case 172:if("deleteBoundary"!=s){i.next=178;break}return Oe=l.content,i.next=176,e.mindMap.execCommand("ADD_BOUNDARY",Oe);case 176:i.next=240;break;case 178:if("updateBoundary"!=s){i.next=184;break}return Le=l.original,Pe=l.content,i.next=182,e.mindMap.execCommand("UPDATE_BOUNDARY",Le,Pe);case 182:i.next=240;break;case 184:if("focus"!=s){i.next=191;break}return null==(Be=l.sourceId)&&(Be="root"),i.next=189,e.mindMap.execCommand("FOCUS",Be);case 189:i.next=240;break;case 191:if("deleteSelf"!=s){i.next=196;break}$e=l.removed,Ne=l.add,ze=l.addPart,je=l.removedPart,Re=l.removedIndex,e.model.addAndRemove.call(e,$e,Ne,je,ze,Re),i.next=240;break;case 196:if("removeAndAdd"!=s){i.next=202;break}return Ge=l.addTopics,He=l.addIndexs,We=l.addPart,Ue=l.removeTopics,qe=l.removedIndexs,Ve=l.removePart,i.next=200,e.mindMap.execCommand("REMOVE_AND_ADD",Ge,He,We,Ue,qe,Ve,!0);case 200:i.next=240;break;case 202:if("hideTopics"!=s){i.next=208;break}return Ye=l.ids,i.next=206,e.mindMap.execCommand("SHOW_TOPICS",Ye);case 206:i.next=240;break;case 208:if("showTopics"!=s){i.next=214;break}return Xe=l.ids,i.next=212,e.mindMap.execCommand("HIDE_TOPICS",Xe);case 212:i.next=240;break;case 214:if("updatePage"!=s){i.next=222;break}if(Je=l.original,i.t1="margin"==l.type,!i.t1){i.next=220;break}return i.next=220,e.mindMap.execCommand("UPDATE_TOPIC_MARGIN",Je);case 220:i.next=240;break;case 222:if("insertTemp"!=s){i.next=228;break}return Ke=l.original,Ze=l.tempId,i.next=226,e.mindMap.execCommand("INSERT_TEMP",Ke,Ze,!1,!0);case 226:i.next=240;break;case 228:if("setWatermark"!=s){i.next=233;break}Qe=l.original,editorGlobal.mindMap.emit("setWaterMark",Qe),i.next=240;break;case 233:if("updateDef"!=s){i.next=237;break}i.next=240;break;case 237:if("setTopicAlign"!=s){i.next=240;break}return i.next=240,e.mindMap.execCommand("UPDATE_SAME_LEVEL_TOPIC_ALIGN",null===(et=l.original)||void 0===et?void 0:et.topicAlign);case 240:o++,i.next=1;break;case 243:case"end":return i.stop()}},i)})))}},redo:function(){var e=this,t=this.redoStack.pop(this);if(null!=t){var n=t.length;this.doWithoutUndo(C(k().mark(function i(){var o,r,s,l,c,d,u,p,h,m,f,g,v,b,y,x,w,_,C,T,S,M,D,E,A,F,I,O,L,P,B,$,N,z,j,R,G,H,W,U,q,V,Y,X,J,K,Z,Q,ee,te,ne,ie,oe,ae,re,se,le,ce,de,ue,pe,he,me,fe,ge,ve,be,ye,xe,we,ke,_e,Ce,Te,Se,Me,De,Ee,Ae,Fe,Ie,Oe,Le,Pe,Be,$e,Ne,ze,je,Re,Ge,He,We,Ue;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o=0;case 1:if(!(o<n)){i.next=237;break}if(r=t[o],s=r.action,l=r.content,"create"!=s){i.next=13;break}return c=l.content,d=l.index,null!=(u=l.updates)&&(0,a.isEmptyObject)(u)&&(u=null),p=e.mindMap.renderer.resetErrorTopic(c,l.newPart||{},"create"),c=p.topics,h=p.parts,i.next=11,e.mindMap.execCommand("ADD_TOPIC_MULTI",c,u,d,!0,h);case 11:i.next=234;break;case 13:if("delete"!=s){i.next=17;break}return i.delegateYield(k().mark(function t(){var n,i,o;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.content,null!=(i=l.updates)&&(0,a.isEmptyObject)(i)&&(i=null),n=e.mindMap.renderer.resetErrorTopic(n,{},"delete").topics,o={},n.forEach(function(t){var n=e.mindMap.renderer.getCacheTopic(t.id);n&&(o[t.id]=n.part)}),t.next=7,e.mindMap.execCommand("REMOVE_TOPIC_MULTI",n,i,!0,o);case 7:case"end":return t.stop()}},t)})(),"t0",15);case 15:i.next=234;break;case 17:if("updateTitle"!=s){i.next=21;break}i.next=234;break;case 21:if("updateImage"!=s){i.next=26;break}m=l.content,f=l.update,g=l.direction,v=l.resize,b=e.renderer.getTopicById(m),(y=e.util.copy(b)).image=f,e.model.updateTopicImage.call(e,y,b,v,g),e.util.selectOne.call(e,b),i.next=234;break;case 26:if("setTheme"!=s){i.next=32;break}return x=l.content,i.next=30,e.mindMap.execCommand("SET_THEME_DIRECT",x);case 30:i.next=234;break;case 32:if("updateStructure"!=s){i.next=39;break}return w=l.content,_=w.newSums,C=w.newBounds,i.next=37,e.mindMap.execCommand("CHANGE_STRUCTURE",w,_,C);case 37:i.next=234;break;case 39:if("deleteConnection"!=s){i.next=45;break}return T=l.content,i.next=43,e.mindMap.execCommand("DELETE_CONNECTION_LINE",T);case 43:i.next=234;break;case 45:if("addConnection"!=s){i.next=53;break}return S=l.content,i.next=49,e.mindMap.execCommand("CREATE_CONNECTION_BY_LINES",S);case 49:return i.next=51,e.mindMap.execCommand("ADD_CONNECTION_LINE",S);case 51:i.next=234;break;case 53:if("updateConnection"!=s){i.next=62;break}return M=l.content,D=l.original,i.next=57,e.mindMap.execCommand("UPDATE_CONNECTION_LINE",M,D);case 57:return i.next=59,e.mindMap.execCommand("CREATE_CONNECTION_BY_LINES",[M]);case 59:e.mindMap.execCommand("CREATE_CONNECTION_BY_LABEL",M),i.next=234;break;case 62:if("updatePos"!=s){i.next=76;break}return E=l.content,A=l.original,F=l.newIndex,I=l.oldIndex,O=l.oldSums,L=l.newSums,P=l.oldBounds,B=l.newBounds,$=l.newPart,N=l.oldPart,O=null!=O&&(0,a.isEmptyObject)(O)?null:O.updates,L=null!=L&&(0,a.isEmptyObject)(L)?null:L.updates,P=null!=P&&(0,a.isEmptyObject)(P)?null:P.updates,B=null!=B&&(0,a.isEmptyObject)(B)?null:B.updates,i.next=74,e.mindMap.execCommand("_UPDATE_TOPIC_POS",E,F,A,I,L,O,B,P,!0,$,N);case 74:i.next=234;break;case 76:if("changeToFreeTopic"!=s){i.next=87;break}return z=l.content,j=l.original,null!=(R=l.updates)&&(0,a.isEmptyObject)(R)&&(R=null),G=(0,a.copyTopicData)(z),H=G.pos,delete G.pos,delete G.free,G.parent=j,i.next=85,e.mindMap.execCommand("CHANGE_TO_FREE_TOPIC",G,R,H,!0);case 85:i.next=234;break;case 87:if("updateFreeSubPos"!=s){i.next=92;break}W=l.content,U=l.original,q=l.newIndex,V=l.oldIndex,Y=l.oldPart,X=l.newPart,J=l.oldSums,K=l.newSums,Z=l.oldBounds,Q=l.newBounds,J=null!=J&&(0,a.isEmptyObject)(J)?null:J.original,K=null!=K&&(0,a.isEmptyObject)(K)?null:K.original,Z=null!=Z&&(0,a.isEmptyObject)(Z)?null:Z.original,Q=null!=Q&&(0,a.isEmptyObject)(Q)?null:Q.original,model.updateFreeSubTopicPos.call(e,U,W,V,q,Y,X,J,K,Z,Q),i.next=234;break;case 92:if("updateFreeTopic"!=s){i.next=96;break}i.next=234;break;case 96:if("update"!=s){i.next=104;break}return ee=l.content,te=l.original,ne=l.type,i.next=100,e.mindMap.execCommand("UPDATE_TOPIC_DATA",ee,ne);case 100:return i.next=102,e.mindMap.execCommand("UPDATE_TOPIC_NODE",ee,te,ne);case 102:i.next=234;break;case 104:if("updateBg"!=s){i.next=120;break}for(re in ie=l.content,oe=ie.background,ae="background",ie)"background"!=re&&(oe=ie[re],ae=re);if("isBackground"!==ae){i.next=116;break}if(!ie.backgroundColor){i.next=112;break}return i.next=111,e.mindMap.execCommand("SET_BACKGROUND",ie.backgroundColor,"backgroundColor",!0,null,oe);case 111:return i.abrupt("return",void i.sent);case 112:if(!ie.backgroundImg){i.next=116;break}return i.next=115,e.mindMap.execCommand("SET_BACKGROUND",ie.backgroundImg,"backgroundImg",!0,null,oe);case 115:return i.abrupt("return",void i.sent);case 116:return i.next=118,e.mindMap.execCommand("SET_BACKGROUND",oe,ae,!0);case 118:i.next=234;break;case 120:if("setThemeOverWrite"!=s){i.next=126;break}return se=l.content,le=l.tps,i.next=124,e.mindMap.execCommand("SET_THEME_OVER_WRITE",se,le,"delete");case 124:i.next=234;break;case 126:if("changeSkeleton"!=s){i.next=132;break}return ce=l.content,de=ce.structure,ue=ce.theme,pe=l.tps||[],he=pe.length>0,i.next=130,e.mindMap.execCommand("CHANGE_SKELETON",de,ue,he,pe,"delete");case 130:i.next=234;break;case 132:if("setTopicStyle"!=s){i.next=140;break}for(me=l.update,fe=l.content,ge=[],ve=0;ve<fe.length;ve++)be=fe[ve],ye=e.renderer.getTopicById(be),ge.push(ye);return i.next=138,e.mindMap.execCommand("SET_TOPIC_STYLES",ge,me);case 138:i.next=234;break;case 140:if("changetopicexpand"!=s){i.next=145;break}xe=l.type,we=l.content,e.operation.showOrHideChildren.call(e,we,xe),i.next=234;break;case 145:if("addSummary"!=s){i.next=152;break}return ke=l.content,ke=e.mindMap.renderer.resetErrorTopic(ke,null,"addSummary").topics,i.next=150,e.mindMap.execCommand("ADD_SUMMARY",ke);case 150:i.next=234;break;case 152:if("deleteSummary"!=s){i.next=159;break}return _e=l.content,_e=e.mindMap.renderer.resetErrorTopic(_e,null,"delete").topics,i.next=157,e.mindMap.execCommand("REMOVE_TOPIC_MULTI",_e,null,!0);case 157:i.next=234;break;case 159:if("updateSummary"!=s){i.next=166;break}return Ce=l.original,Te=l.content,Se=e.mindMap.renderer.resetErrorTopic(Te,null,"updateSummary").topics,i.next=164,e.mindMap.execCommand("UPDATE_SUMMARY",Se,Ce);case 164:i.next=234;break;case 166:if("addBoundary"!=s){i.next=172;break}return Me=l.original,De=l.content,i.next=170,e.mindMap.execCommand("ADD_BOUNDARY",De,Me);case 170:i.next=234;break;case 172:if("deleteBoundary"!=s){i.next=178;break}return Ee=l.content,i.next=176,e.mindMap.execCommand("REMOVE_BOUNDARY",Ee);case 176:i.next=234;break;case 178:if("updateBoundary"!=s){i.next=184;break}return Ae=l.original,Fe=l.content,i.next=182,e.mindMap.execCommand("UPDATE_BOUNDARY",Fe,Ae);case 182:i.next=234;break;case 184:if("focus"!=s){i.next=190;break}return Ie=l.targetId,i.next=188,e.mindMap.execCommand("FOCUS",Ie);case 188:i.next=234;break;case 190:if("removeAndAdd"!=s){i.next=196;break}return Oe=l.removeTopics,Le=l.removedIndexs,Pe=l.removePart,Be=l.addTopics,$e=l.addIndexs,Ne=l.addPart,i.next=194,e.mindMap.execCommand("REMOVE_AND_ADD",Oe,Le,Pe,Be,$e,Ne,!0);case 194:i.next=234;break;case 196:if("hideTopics"!=s){i.next=202;break}return ze=l.ids,i.next=200,e.mindMap.execCommand("HIDE_TOPICS",ze);case 200:i.next=234;break;case 202:if("showTopics"!=s){i.next=208;break}return je=l.ids,i.next=206,e.mindMap.execCommand("SHOW_TOPICS",je);case 206:i.next=234;break;case 208:if("updatePage"!=s){i.next=216;break}if(Re=l.content,i.t1="margin"==l.type,!i.t1){i.next=214;break}return i.next=214,e.mindMap.execCommand("UPDATE_TOPIC_MARGIN",Re);case 214:i.next=234;break;case 216:if("insertTemp"!=s){i.next=222;break}return Ge=l.content,He=l.tempId,i.next=220,e.mindMap.execCommand("INSERT_TEMP",Ge,He,!1,!0);case 220:i.next=234;break;case 222:if("setWatermark"!=s){i.next=227;break}We=l.content,editorGlobal.mindMap.emit("setWaterMark",We),i.next=234;break;case 227:if("updateDef"!=s){i.next=231;break}i.next=234;break;case 231:if("setTopicAlign"!=s){i.next=234;break}return i.next=234,e.mindMap.execCommand("UPDATE_SAME_LEVEL_TOPIC_ALIGN",null===(Ue=l.content)||void 0===Ue?void 0:Ue.topicAlign);case 234:o++,i.next=1;break;case 237:case"end":return i.stop()}},i)})))}},doWithoutUndo:function(e){var t=this;return C(k().mark(function n(){return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.mindMap.execCommand("setUndoToFalse");case 2:return n.next=4,e();case 4:return n.next=6,t.mindMap.execCommand("setUndoToTrue");case 6:case"end":return n.stop()}},n)}))()},excuteMsgDirect:function(){var e=C(k().mark(function e(t,n){var l,c,d,u,p,h,m,f,g,v,b,y,x,w,_,C,T,S,M,D,E,A,F,I,O,L,P,B,N,z,j,R,G,H,W,U,q,V,Y,X,J,K,Z,Q,ee,te,ne,ie,oe,ae,re,se,le,ce,de,ue,pe,he,me,fe,ge,ve,be,ye,xe,we,ke,_e,Ce,Te,Se,Me,De,Ee,Ae,Fe,Ie,Oe,Le,Pe,Be,$e,Ne,ze,je,Re,Ge,He;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=this,c=t.uk,d=t.msg,u=[],p=t.source,o.presenter.beforeSelecting||o.presenter.presenting){e.next=165;break}if(null!=t.type&&"forceRefresh"==t.type){e.next=164;break}h=0;case 4:if(!(h<d.length)){e.next=161;break}if(m=d[h],f=m.action,g=m.content,!editorGlobal.poPagination||!editorGlobal.poPagination.iSshow||m.pageId==editorGlobal.poPagination.pageId||void 0===m.pageId&&editorGlobal.poPagination.pageId==editorGlobal.poPagination.list[0].definitionId){e.next=8;break}return e.abrupt("return");case 8:if(!r.topController.loading&&!s.saveData.aiLoading){e.next=10;break}return e.abrupt("return");case 10:if("create"!=f){e.next=19;break}return v=g.content,b=g.index,null!=(y=g.updates)&&(0,a.isEmptyObject)(y)&&(y=null),x=g.newPart||{},e.next=16,l.mindMap.execCommand("ADD_TOPIC_MULTI",v,y,b,!1,x,!0,null,p);case 16:u.push(v[0].id),e.next=158;break;case 19:if("delete"!=f){e.next=27;break}w=g.content,null!=(_=g.updates)&&(0,a.isEmptyObject)(_)&&(_=null),C=g.newPart||{},l.mindMap.execCommand("REMOVE_TOPIC_MULTI",w,_,!1,C,!0,null,p),e.next=158;break;case 27:if("changeToFreeTopic"!=f){e.next=34;break}T=g.content,S=g.original,null!=(M=g.updates)&&$.isEmptyObject(M)&&(M=null),D=(0,a.deepClone)(T),E=D.pos,delete D.pos,delete D.free,D.parent=S,l.mindMap.execCommand("CHANGE_TO_FREE_TOPIC",D,M,E,!1,!0),e.next=158;break;case 34:if("removeAndAdd"!=f){e.next=39;break}A=g.removeTopics,F=g.removedIndexs,I=g.removePart,O=g.addTopics,L=g.addIndexs,P=g.addPart,l.mindMap.execCommand("REMOVE_AND_ADD",A,F,I,O,L,P,!1,!0,p),e.next=158;break;case 39:if("deleteSelfRestore"!=f){e.next=44;break}B=g.removed,N=g.add,z=g.addPart,j=g.removedPart,R=g.removedIndex,l.model.addAndRemove.call(l,B,N,j,z,R,!0),e.next=158;break;case 44:if("update"!=f){e.next=53;break}return G=g.content,H=g.original,W=g.type,e.next=48,l.mindMap.execCommand("UPDATE_TOPIC_DATA",G,W);case 48:return e.next=50,l.mindMap.execCommand("UPDATE_TOPIC_NODE",G,H,W,!0);case 50:u.push(G[0].id),e.next=158;break;case 53:if("updateTitle"!=f){e.next=57;break}e.next=158;break;case 57:if("updateImage"!=f){e.next=61;break}e.next=158;break;case 61:if("updatePos"!=f){e.next=73;break}if(U=g.content,!g.moveFromOutline){e.next=69;break}return q=g.target,V=editorGlobal.mindMap.renderer.getCacheTopic(q.id).getPureData(),Y=void 0,X=-1,"after"===q.pos||"before"===q.pos?(Y=editorGlobal.mindMap.renderer.getTopicById(V.parent),X=(0,a.getTopicIndexInTopicList)(V,Y.children),"after"===q.pos&&(X+=1)):"in"===q.pos&&(Y=V),l.mindMap.execCommand("UPDATE_TOPIC_POS",U,null,Y,X,null,null,"",!0,p),e.abrupt("continue",158);case 69:J=g.original,K=g.newIndex,Z=g.oldIndex,Q=g.oldSums,ee=g.newSums,te=g.oldBounds,ne=g.newBounds,ie=g.newPart,oe=g.oldPart,Q=null!=Q&&(0,a.isEmptyObject)(Q)?null:Q.updates,ee=null!=ee&&(0,a.isEmptyObject)(ee)?null:ee.updates,te=null!=te&&(0,a.isEmptyObject)(te)?null:te.updates,ne=null!=ne&&(0,a.isEmptyObject)(ne)?null:ne.updates,l.mindMap.execCommand("_UPDATE_TOPIC_POS",U,K,J,Z,ee,Q,ne,te,!1,ie,oe,!0,p),e.next=158;break;case 73:if("updateFreeSubPos"!=f){e.next=78;break}ae=g.content,re=g.original,se=g.newIndex,le=g.oldIndex,ce=g.oldPart,de=g.newPart,ue=g.oldSums,pe=g.newSums,he=g.oldBounds,me=g.newBounds,ue=null!=ue&&(0,a.isEmptyObject)(ue)?null:ue.original,pe=null!=pe&&(0,a.isEmptyObject)(pe)?null:pe.original,he=null!=he&&(0,a.isEmptyObject)(he)?null:he.original,me=null!=me&&(0,a.isEmptyObject)(me)?null:me.original,model.updateFreeSubTopicPos.call(l,re,ae,le,se,ce,de,ue,pe,he,me,!0),e.next=158;break;case 78:if("updateFreeTopic"!=f){e.next=82;break}e.next=158;break;case 82:if("setTopicAlign"!=f){e.next=86;break}l.mindMap.execCommand("UPDATE_SAME_LEVEL_TOPIC_ALIGN",null===(fe=g.content)||void 0===fe?void 0:fe.topicAlign,!0),e.next=158;break;case 86:if("setTopicStyle"!=f){e.next=90;break}e.next=158;break;case 90:if("changetopicexpand"!=f){e.next=94;break}e.next=158;break;case 94:if("hideTopics"!=f){e.next=100;break}return e.next=97,l.mindMap.execCommand("HIDE_TOPICS",g.ids,!0);case 97:u.push(g.ids[0]),e.next=158;break;case 100:if("showTopics"!=f){e.next=106;break}return e.next=103,l.mindMap.execCommand("SHOW_TOPICS",g.ids,!0);case 103:u.push(g.ids[0]),e.next=158;break;case 106:if("setTheme"!=f){e.next=111;break}ge=g.content,l.mindMap.execCommand("SET_THEME_DIRECT",ge,!0),e.next=158;break;case 111:if("setThemeOverWrite"!=f){e.next=116;break}ve=g.content,be=g.tps,l.mindMap.execCommand("SET_THEME_OVER_WRITE",ve,be,"delete",!0),e.next=158;break;case 116:if("changeSkeleton"!=f){e.next=122;break}return ye=g.content,xe=ye.structure,we=ye.theme,ke=g.tps||[],_e=ke.length>0,e.next=120,l.mindMap.execCommand("CHANGE_SKELETON",xe,we,_e,ke,"delete",!0);case 120:e.next=158;break;case 122:if("updateStructure"!=f){e.next=127;break}Ce=g.content,l.mindMap.execCommand("CHANGE_STRUCTURE",Ce,!0),e.next=158;break;case 127:if("deleteConnection"!=f){e.next=132;break}Te=g.content,l.mindMap.execCommand("DELETE_CONNECTION_LINE",Te,!0),e.next=158;break;case 132:if("addConnection"!=f){e.next=137;break}Se=g.content,l.mindMap.execCommand("CREATE_CONNECTION_BY_LINES",Se),l.mindMap.execCommand("ADD_CONNECTION_LINE",Se,!0),e.next=158;break;case 137:if("updateConnection"!=f){e.next=142;break}Me=g.content,De=g.original,l.mindMap.execCommand("UPDATE_CONNECTION_LINE",Me,De,!0),l.mindMap.execCommand("CREATE_CONNECTION_BY_LINES",[Me]),l.mindMap.execCommand("CREATE_CONNECTION_BY_LABEL",Me),e.next=158;break;case 142:if("updateBg"!=f){e.next=157;break}for(Ie in Ee=g.content,Ae=Ee.background,Fe="background",Ee)"background"!=Ie&&(Ae=Ee[Ie],Fe=Ie);if("isBackground"!==Fe){e.next=154;break}if(!Ee.backgroundColor){e.next=150;break}return e.next=149,l.mindMap.execCommand("SET_BACKGROUND",Ee.backgroundColor,"backgroundColor",!0,!0,Ae);case 149:return e.abrupt("return",void e.sent);case 150:if(!Ee.backgroundImg){e.next=154;break}return e.next=153,l.mindMap.execCommand("SET_BACKGROUND",Ee.backgroundImg,"backgroundImg",!0,!0,Ae);case 153:return e.abrupt("return",void e.sent);case 154:l.mindMap.execCommand("SET_BACKGROUND",Ae,Fe,!0,!0),e.next=158;break;case 157:"addSummary"==f?(Oe=g.content,l.mindMap.execCommand("ADD_SUMMARY",Oe,!1,!0)):"deleteSummary"==f?(Le=g.content,l.mindMap.execCommand("REMOVE_TOPIC_MULTI",Le,null,!1,!0)):"updateSummary"==f?(Pe=g.original,Be=g.content,l.mindMap.execCommand("UPDATE_SUMMARY",Be,Pe,!0)):"addBoundary"==f?($e=g.content,l.mindMap.execCommand("ADD_BOUNDARY",$e,!0)):"deleteBoundary"==f?(Ne=g.content,l.mindMap.execCommand("REMOVE_BOUNDARY",Ne,!0)):"updateBoundary"==f?(ze=g.original,je=g.content,l.mindMap.execCommand("UPDATE_BOUNDARY",je,ze,!0)):"focus"==f||("updatePage"==f?(Re=g.content,"margin"==g.type&&l.mindMap.execCommand("UPDATE_TOPIC_MARGIN",Re,!0)):"insertTemp"==f?(Ge=g.content,editorGlobal.mindMap.emit("insertTemp",Ge,"",!0,!0)):"setWatermark"==f?(He=g.content,editorGlobal.mindMap.emit("setWaterMark",He,!0)):"updateDef"==f||["addComment","updateComment","delComment","showCommentIcon"].includes(f)&&i.comment.Controller.colla.updateComments(m));case 158:h++,e.next=4;break;case 161:null!=n&&n(u,c),e.next=165;break;case 164:l.mindMap.emit("refresh");case 165:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}},80214:function(e,t,n){var i,o;n(61894),n(69268),n(58500),n(84889);var a=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.selfCloseTagList=t.nodeDataNoStylePropList=t.mobileCssContent=t.layoutList=t.getTopicLayout=t.getDefMargin=t.freeTopicLayout=t.disabledShape=t.defaultLayoutFramework=t.cssContent=t.commonCaches=t.SHAPEPADDING=t.ERROR_TYPES=t.CONSTANTS=void 0,n(27531),n(37997),n(38887),n(54938),n(14237);var s=a(n(66603)),l=a(n(32483)),c=n(15240);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.defaultLayoutFramework={background:"#f8f9f8",version:"v6.1.1",common:{bold:!1,italic:!1,textAlign:"left"},connectionStyle:{lineWidth:2,lineColor:"rgb(113, 203, 45)",color:"#ffffff",lineType:"dashed"},summaryTopic:{"font-size":"14px",summaryLineColor:"#bf1e1b",summaryLineWidth:2,summaryLineType:"curve_complex"},boundaryStyle:{lineColor:"#9aa5b8",lineWidth:2,lineType:2,dasharray:"6,3",fill:"#9aa5b8",opacity:"0.1"},centerTopic:{"font-size":30,lineStyle:{lineType:"curve",lineWidth:2}},secTopic:{"font-size":18,lineStyle:{lineType:"roundBroken",lineWidth:1}},childTopic:{"font-size":14,lineStyle:{lineType:"roundBroken",lineWidth:1}}},t.cssContent="\n    .connection-svg{\n        outline: none;\n        box-shadow: none;\n        -webkit-tap-highlight-color: transparent;\n    }\n    .connection-line {\n        cursor: pointer;\n    }\n\n    .connection-line-bg {\n        cursor: pointer;\n    }\n\n    .node-add-btn {\n        cursor: pointer;\n    }\n\n    .po-richtext-node-wrap ol,\n    .area_box ol,\n    .po-measureCustomNode ol {\n        padding-left: 20px;\n        margin: 0;\n    }\n    .po-richtext-node-wrap ol li,\n    .area_box ol li,\n    .po-measureCustomNode ol li {\n        list-style: decimal;\n    }\n    .po-richtext-node-wrap ul,\n    .area_box ul,\n    .po-measureCustomNode ul {\n        padding-left: calc(15px + 0.5em);\n        list-style: none;\n        margin: 0;\n    }\n    .po-richtext-node-wrap ul li,\n    .area_box ul li,\n    .po-measureCustomNode ul li {\n        list-style: disc;\n    }\n    .po-richtext-node-wrap p,\n    .po-richtext-node-wrap h1,\n    .po-richtext-node-wrap h2,\n    .po-richtext-node-wrap h3,\n    .po-richtext-node-wrap h4,\n    .po-richtext-node-wrap h5,\n    .po-richtext-node-wrap h6,\n    .area_box p,\n    .area_box h1,\n    .area_box h2,\n    .area_box h3,\n    .area_box h4,\n    .area_box h5,\n    .area_box h6,\n    .po-measureCustomNode p,\n    .po-measureCustomNode h1,\n    .po-measureCustomNode h2,\n    .po-measureCustomNode h3,\n    .po-measureCustomNode h4,\n    .po-measureCustomNode h5,\n    .po-measureCustomNode h6 {\n        margin: 0;\n    }\n    .po-safari-fixed {\n        position: fixed;\n    }\n",t.mobileCssContent="\n    .po-richtext-node-wrap {\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -o-user-select: none;\n        user-select: none;\n    }\n";var p=t.CONSTANTS={CHANGE_THEME:"changeTheme",CHANGE_LAYOUT:"changeLayout",SET_DATA:"setData",TRANSFORM_TO_NORMAL_NODE:"transformAllNodesToNormalNode",MODE:{READONLY:"readonly",EDIT:"edit"},LAYOUT:{MINDMAP:"mindmap",LOGIC:"logic",TREE_ORG:"tree_org",ORG:"org",FISHBONE:"fishbone",TIMELINE:"timeline",TREE:"tree",MOBI_TREE:"mobi_tree",BRACE:"brace",TREE_TABLE:"treetable",MATRIX:"matrix",BUBBLE:"bubble"},DIR:{UP:"up",LEFT:"left",DOWN:"down",RIGHT:"right"},KEY_DIR:{LEFT:"Left",UP:"Up",RIGHT:"Right",DOWN:"Down"},SHAPE:{RECTANGLE:"rectangle",RECTANGLEDOUBLE:"rectangleDouble",RADIAN_RECTANGLE:"radiansRectangle",RADIAN_RECTANGLEDOUBLE:"radiansRectangleDouble",LARGE_RADIAN_RECTANGLE:"largeRadianRectangle",LARGE_RADIAN_RECTANGLEDOUBLE:"largeRadianRectangleDouble",UNDERLINE:"underline",DBLUNDERLINE:"dblunderline",OVERLAP:"overlap",ELLIPSE:"ellipse",ELLIPSE_DOUBLE:"ellipseDouble",ROUNDED_RECTANGLE:"roundedRectangle",RHOMBUS:"rhombus",PARALLELOGRAM:"parallelogram",OCTAGONAL_RECTANGLE:"octagonalRectangle",OUTER_TRIANGULAR_RECTANGLE:"outerTriangularRectangle",INNER_TRIANGULAR_RECTANGLE:"innerTriangularRectangle",CIRCLE:"circle",FISH:"fish"},MOUSE_WHEEL_ACTION:{ZOOM:"zoom",MOVE:"move"},INIT_ROOT_NODE_POSITION:{LEFT:"left",TOP:"top",RIGHT:"right",BOTTOM:"bottom",CENTER:"center"},LAYOUT_GROW_PART:{LEFT:"left",TOP:"top",RIGHT:"right",BOTTOM:"bottom"},PASTE_TYPE:{CLIP_BOARD:"clipBoard",CANVAS:"canvas"},SCROLL_BAR_DIR:{VERTICAL:"vertical",HORIZONTAL:"horizontal"},CREATE_NEW_NODE_BEHAVIOR:{DEFAULT:"default",NOT_ACTIVE:"notSelected",ACTIVE_ONLY:"selectedOnly"}},h=(t.disabledShape=[p.SHAPE.ELLIPSE,p.SHAPE.RHOMBUS,p.SHAPE.PARALLELOGRAM],{0:{paddingX:28,paddingY:14},1:{paddingX:16,paddingY:8},2:{paddingX:5,paddingY:6}}),m=(x(i={},p.SHAPE.ROUNDED_RECTANGLE,{0:{paddingX:6,paddingY:14},1:{paddingX:12,paddingY:10},2:{paddingX:0,paddingY:6}}),x(i,p.SHAPE.RHOMBUS,{0:{paddingX:2,paddingY:2},1:{paddingX:2,paddingY:2},2:{paddingX:2,paddingY:2}}),x(i,p.SHAPE.CIRCLE,{0:{paddingX:16,paddingY:16},1:{paddingX:12,paddingY:12},2:{paddingX:8,paddingY:8}}),x(i,p.SHAPE.FISH,{0:{paddingX:16,paddingY:0},1:{paddingX:0,paddingY:0},2:{paddingX:0,paddingY:0}}),i),f=function(e){var t={};for(var n in e){var i=e[n],o=i.paddingX,a=i.paddingY;t[n]={paddingX:Math.max(0,o-("2"===n?2:4)),paddingY:Math.max(0,a-("2"===n?2:4))}}return{fit:e,compact:t}},g=(t.SHAPEPADDING=u((x(o={},p.SHAPE.RECTANGLE,f(h)),x(o,p.SHAPE.RECTANGLEDOUBLE,f(h)),x(o,p.SHAPE.RADIAN_RECTANGLE,f(h)),x(o,p.SHAPE.RADIAN_RECTANGLEDOUBLE,f(h)),x(o,p.SHAPE.LARGE_RADIAN_RECTANGLE,f(h)),x(o,p.SHAPE.LARGE_RADIAN_RECTANGLEDOUBLE,f(h)),x(o,p.SHAPE.UNDERLINE,f(h)),x(o,p.SHAPE.DBLUNDERLINE,f(h)),x(o,p.SHAPE.OVERLAP,f(h)),x(o,p.SHAPE.ELLIPSE,f(h)),x(o,p.SHAPE.ELLIPSE_DOUBLE,f(h)),x(o,p.SHAPE.PARALLELOGRAM,f(h)),x(o,p.SHAPE.OCTAGONAL_RECTANGLE,f(h)),x(o,p.SHAPE.OUTER_TRIANGULAR_RECTANGLE,f(h)),x(o,p.SHAPE.INNER_TRIANGULAR_RECTANGLE,f(h)),o),Object.fromEntries(Object.entries(m).map(function(e){var t=r(e,2),n=t[0],i=t[1];return[n,f(i)]}))),{fit:{marginW:72,childMarginW:48,marginH:32,childMarginH:6},compact:{marginW:56,childMarginW:40,marginH:16,childMarginH:4},min:{marginW:20,childMarginW:32,marginH:5,childMarginH:4}}),b={fit:{marginW:64,childMarginW:24,marginH:32,childMarginH:6},compact:{marginW:28,childMarginW:24,marginH:16,childMarginH:4},min:{marginW:40,childMarginW:24,marginH:10,childMarginH:5}},y={fit:{marginW:64,childMarginW:24,marginH:32,childMarginH:6},compact:{marginW:48,childMarginW:24,marginH:16,childMarginH:4},min:{marginW:40,childMarginW:24,marginH:10,childMarginH:5}},w={fit:{marginW:56,childMarginW:48,marginH:32,childMarginH:6},compact:{marginW:32,childMarginW:40,marginH:16,childMarginH:4},min:{marginW:20,childMarginW:20,marginH:10,childMarginH:5}},k={fit:{marginW:98,childMarginW:48,marginH:32,childMarginH:6},compact:{marginW:32,childMarginW:40,marginH:16,childMarginH:4},min:{marginW:20,childMarginW:20,marginH:10,childMarginH:5}},_={fit:{marginW:48,childMarginW:48,marginH:32,childMarginH:6},compact:{marginW:32,childMarginW:32,marginH:16,childMarginH:4},min:{marginW:20,childMarginW:32,marginH:10,childMarginH:4}},C={fit:{marginW:32,childMarginW:6,marginH:40,childMarginH:24},compact:{marginW:16,childMarginW:4,marginH:28,childMarginH:24},min:{marginW:16,childMarginW:4,marginH:24,childMarginH:24}},T={fit:{marginW:96,childMarginW:24,marginH:32,childMarginH:6,startSpace:24},compact:{marginW:56,childMarginW:24,marginH:16,childMarginH:4,startSpace:20},min:{marginW:40,childMarginW:24,marginH:16,childMarginH:4,startSpace:20}},S={fit:{marginW:48,childMarginW:20,marginH:32,childMarginH:6},compact:{marginW:28,childMarginW:20,marginH:16,childMarginH:4},min:{marginW:28,childMarginW:20,marginH:16,childMarginH:4}},M={fit:{marginW:64,childMarginW:40,marginH:32,childMarginH:8},compact:{marginW:44,childMarginW:36,marginH:24,childMarginH:4},min:{marginW:44,childMarginW:30,marginH:5,childMarginH:4}},D=["mind_right","mind_left","mind_org","mind_ishikawa_left","mind_ishikawa_right","mind_timeline_h","mind_timeline_h_up","mind_timeline_h_down","mind_tree_free","mind_tree_left","mind_tree_right","mind_brace_right","mind_brace_left"],E={0:["mind_free"].concat(D,["mind_tree","mind_tree_right_mobi"]),1:D,2:D},A={0:p.LAYOUT.MINDMAP,1:p.LAYOUT.LOGIC,2:p.LAYOUT.LOGIC,3:p.LAYOUT.LOGIC},F=(t.freeTopicLayout={defSet:"logic",canSet:D},t.layoutList=[{name:l.default.t("Mind_Map"),value:p.LAYOUT.MINDMAP,valueList:["mind","mindmap","mind_free","mind_free_layout","mind_right","mind_left"],defMargin:{slant:g,roundBroken:b,broken:y,straight:w,bight:k,curve:_},tpLayot:{defSet:A,canSet:E}},{name:l.default.t("Logical_Diagram"),value:p.LAYOUT.LOGIC,valueList:["logic","mind_logic_right","mind_logic_left"],tpLayot:{defSet:u(u({},A),{},{0:p.LAYOUT.LOGIC}),canSet:E},defMargin:{slant:g,roundBroken:b,broken:y,straight:w,bight:k,curve:_}},{name:l.default.t("Tree_structure"),value:p.LAYOUT.TREE_ORG,valueList:["mind_tree","tree_org"],tpLayot:{defSet:{0:p.LAYOUT.ORG,1:p.LAYOUT.TREE,2:p.LAYOUT.TREE,3:p.LAYOUT.TREE},canSet:E},defMargin:{slant:g,roundBroken:b,broken:y,straight:w,bight:k,curve:_}},{name:l.default.t("js.Organization_Chart"),value:p.LAYOUT.ORG,valueList:["mind_org","org","mind_org_multistage"],tpLayot:{defSet:{0:p.LAYOUT.ORG,1:p.LAYOUT.ORG,2:p.LAYOUT.ORG,3:p.LAYOUT.ORG},canSet:E},defMargin:{slant:{fit:{marginW:32,childMarginW:6,marginH:82,childMarginH:56},compact:{marginW:16,childMarginW:40,marginH:56,childMarginH:46},min:{marginW:20,childMarginW:20,marginH:44,childMarginH:46}},roundBroken:C,broken:{fit:{marginW:32,childMarginW:16,marginH:48,childMarginH:24},compact:{marginW:24,childMarginW:16,marginH:32,childMarginH:24},min:{marginW:16,childMarginW:4,marginH:24,childMarginH:24}},straight:C,bight:C,curve:C}},{name:l.default.t("Fishbone_Diagram"),value:p.LAYOUT.FISHBONE,valueList:["mind_ishikawa_left","mind_ishikawa_right","fishbone"],tpLayot:{defSet:{0:p.LAYOUT.FISHBONE,1:p.LAYOUT.FISHBONE,2:p.LAYOUT.FISHBONE,3:p.LAYOUT.LOGIC},canSet:{0:E[0],1:[],2:[],3:E[1]}},defMargin:{slant:g,roundBroken:b,broken:y,straight:w,bight:k,curve:_}},{name:l.default.t("js.TimeLine"),value:p.LAYOUT.TIMELINE,planned:["mind_timeline_v"],valueList:["mind_timeline_h","mind_timeline_v","timeline","mind_timeline_h_up","mind_timeline_h_top","mind_timeline_h_down"],tpLayot:{defSet:{0:p.LAYOUT.TIMELINE,1:p.LAYOUT.TIMELINE,2:p.LAYOUT.LOGIC},canSet:{0:E[0],1:[],2:E[1]}},defMargin:{slant:T,roundBroken:T,broken:T,straight:T,bight:T,curve:T}},{name:l.default.t("js.Tree_Diagram"),value:p.LAYOUT.TREE,valueList:["mind_tree_free","mind_tree_left","mind_tree_right","tree"],tpLayot:{defSet:{0:p.LAYOUT.TREE,1:p.LAYOUT.TREE,2:p.LAYOUT.TREE},canSet:E},defMargin:{slant:S,roundBroken:S,broken:S,straight:S,bight:S,curve:S}},{name:l.default.t("js.Right_side_tree_mobi"),value:p.LAYOUT.MOBI_TREE,valueList:["mind_tree_right_mobi","mobi_tree","mind_tree_left_mobi"],tpLayot:{defSet:{0:p.LAYOUT.MOBI_TREE,1:p.LAYOUT.MOBI_TREE,2:p.LAYOUT.MOBI_TREE},canSet:E},defMargin:{slant:S,roundBroken:S,broken:S,straight:S,bight:S,curve:S}},{name:l.default.t("Bracket_Diagram"),value:p.LAYOUT.BRACE,valueList:["mind_brace_right","mind_brace_left","brace"],tpLayot:{defSet:{0:p.LAYOUT.BRACE,1:p.LAYOUT.BRACE,2:p.LAYOUT.BRACE},canSet:E},defMargin:{slant:M,roundBroken:M,broken:M,straight:M,bight:M,curve:M}},{name:l.default.t("Tree_Table"),value:p.LAYOUT.TREE_TABLE,untapped:!0,valueList:["mind_tree_table","tree_table"],tpLayot:{defSet:{0:p.LAYOUT.TREE_TABLE,1:p.LAYOUT.TREE_TABLE,2:p.LAYOUT.TREE_TABLE},canSet:E}},{name:l.default.t("Matrix_Diagram"),value:p.LAYOUT.MATRIX,untapped:!0,valueList:["mind_matrix"],tpLayot:{defSet:{0:p.LAYOUT.MATRIX,1:p.LAYOUT.MATRIX,2:p.LAYOUT.MATRIX},canSet:E}},{name:l.default.t("Bubble_Chart"),value:p.LAYOUT.BUBBLE,untapped:!0,valueList:["mind_bubble"],tpLayot:{defSet:{0:p.LAYOUT.BUBBLE,1:p.LAYOUT.BUBBLE,2:p.LAYOUT.BUBBLE},canSet:E}}]);t.getTopicLayout=function(e){var t,n=v(F);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.valueList.includes(e))return i.value}}catch(o){n.e(o)}finally{n.f()}},t.getDefMargin=function(e,t){var n,i,o,a=(0,c.getRootLayout)(e),r=(0,c.getLayoutConfig)(a).defMargin,s=(null===(n=e.lineStyle)||void 0===n?void 0:n.lineType)||(null===(i=t.themeConfig)||void 0===i||null===(i=i.centerTopic)||void 0===i||null===(i=i.lineStyle)||void 0===i?void 0:i.lineType),l=null===(o=t.themeConfig)||void 0===o||null===(o=o.secTopic)||void 0===o||null===(o=o.lineStyle)||void 0===o?void 0:o.lineType,d=r[s]||r.curve,u=d.min,p=d.fit,h=d.compact,m=r[l]||r.curve,f=m.min,g=m.fit,v=m.compact;return{compact:{childMarginW:v.childMarginW,childMarginH:v.childMarginH,marginW:h.marginW,marginH:h.marginH},min:{childMarginW:f.childMarginW,childMarginH:f.childMarginH,marginW:u.marginW,marginH:u.marginH},fit:{childMarginW:g.childMarginW,childMarginH:g.childMarginH,marginW:p.marginW,marginH:p.marginH}}},t.nodeDataNoStylePropList=["text","image","imageTitle","imageSize","icon","tag","hyperlink","hyperlinkTitle","note","expand","isSelected","generalization","richText","resetRichText","uid","selectedStyle","associativeLineTargets","associativeLineTargetControlOffsets","associativeLinePoint","associativeLineText"],t.commonCaches={measureCustomNodeContentSizeEl:null,measureRichtextNodeTextSizeEl:null},t.ERROR_TYPES={READ_CLIPBOARD_ERROR:"read_clipboard_error",PARSE_PASTE_DATA_ERROR:"parse_paste_data_error",CUSTOM_HANDLE_CLIPBOARD_TEXT_ERROR:"custom_handle_clipboard_text_error",LOAD_CLIPBOARD_IMAGE_ERROR:"load_clipboard_image_error",BEFORE_TEXT_EDIT_ERROR:"before_text_edit_error",EXPORT_ERROR:"export_error",EXPORT_LOAD_IMAGE_ERROR:"export_load_image_error",DATA_CHANGE_DETAIL_EVENT_ERROR:"data_change_detail_event_error"},t.selfCloseTagList=["img","br","hr","input","link","meta","area"]},81255:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOpt=void 0;var o=n(80214),a=i(n(32483));t.defaultOpt={version:"v6.1.1",readonly:!1,readonlyList:{selectShape:!0,copyShape:!1,pageStyle:!1,topicStyle:!1,ai:!1,themes:!1,style:!1,icon:!1,image:!1,tag:!1,note:!1,task:!1,url:!1,file:!1,equation:!1,code:!1,comment:!1,markdown:!1,undo:!1,redo:!1,brash:!1,child:!1,conn:!1,summary:!1,boundary:!1,present:!1,structure:!1,template:!1},partialLoad:!0,layout:o.CONSTANTS.LAYOUT.LOGICAL_STRUCTURE,layoutMode:"fit",fishboneDeg:45,theme:"theme3",themeConfig:{},defaultZoom:1,minZoom:.05,maxZoom:4,scaleRatio:.05,mouseScaleCenterUseMousePosition:!0,multiStructure:!0,colorCardList:{},maxTag:10,expandBtnSize:18,collapsedBtnSize:12,imgTextMargin:5,textContentMargin:2,selectTranslateStep:3,selectTranslateLimit:20,customNoteContentShow:null,createTopicsRectBoundary:300,enableAutoMoveTopicToCenter:!0,unfoldNodeNotMoveCenter:!0,enableShowGlobalMenu:!0,enableLinkToTopic:!0,enableLinkToPage:!0,fillTheCanvasData:{paddingX:100,paddingY:100,scale:1},enableFreeDrag:!1,freeDragStructure:["mindmap","mind_free","mind_free_layout"],watermarkConfig:{onlyExport:!1,text:"",lineSpacing:100,textSpacing:100,angle:30,textStyle:{color:"#999",opacity:.5,fontSize:14}},topicMaxWidth:900,textAutoWrapWidth:378,customHandleMousewheel:null,mousewheelAction:o.CONSTANTS.MOUSE_WHEEL_ACTION.MOVE,mousewheelMoveStep:150,mousewheelZoomActionReverse:!0,defaultInsertSubTopicText:a.default.t("js.Subtopics"),defaultInsertChildTopicText:a.default.t("js.Subtopic"),defaultInsertParentTopicText:a.default.t("js.Parent_theme"),defaultInsertSummaryText:a.default.t("js.Summary"),defaultInsertFreeTopicText:a.default.t("js.Freedom_Theme"),flexibleFreeTopic:!1,showBoundaryMark:!0,siblingTopicAlign:!1,keyboardMoveMapIsReversal:!0,isShowExpandNum:!0,enableShortcutOnlyWhenMouseInSvg:!1,initRootNodePosition:null,exportPaddingX:100,exportPaddingY:100,nodeTextEditZIndex:3e3,nodeNoteTooltipZIndex:3e3,isEndNodeTextEditOnClickOuter:!0,maxHistoryCount:500,alwaysShowExpandBtn:!1,maxNodeCacheCount:1e5,defaultAssociativeLineText:a.default.t("js.Connection"),fitPadding:50,enableCtrlKeyNodeSelection:!0,leftButton:"move",beforeTextEdit:null,isUseCustomNodeContent:!1,customCreateNodeContent:null,customInnerElsAppendTo:null,nodeDragPlaceholderMaxSize:20,enableAutoEnterTextEditWhenKeydown:!0,richTextEditFakeInPlace:!1,customHandleClipboardText:null,disableMouseWheelZoom:!1,disableTouchZoom:!1,errorHandler:function(e,t){},resetCss:"\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n  ",enableDblclickBackToRootNode:!1,minExportImgCanvasScale:2,selectedColor:"rgb(6, 123, 239)",hoverRectPadding:2,selectTextOnEnterEditText:!1,selectTopicFocusVirtualDom:!0,inputTopicFocusVirtualDom:!0,deleteNodeSelected:!0,autoMoveWhenMouseInEdgeOnDrag:!0,fit:!1,dragMultiNodeRectConfig:{width:40,height:20,fill:""},dragPlaceholderRectFill:"rgb(252, 126, 0)",dragOpacityConfig:{cloneNodeOpacity:.5,beingDragNodeOpacity:.3},tagsColorMap:{},cooperateStyle:{avatarSize:22,fontSize:12},associativeLineIsAlwaysAboveNode:!1,defaultSummaryText:a.default.t("Summary"),defaultSummaryMargin:36,defaultSummarySpace:20,defaultBoundarySpace:10,handleIsSplitByWrapOnPasteCreateNewNode:null,addHistoryTime:100,isDisableDrag:!1,highlightNodeBoxStyle:{stroke:"rgb(94, 200, 248)",fill:"transparent"},createNewNodeBehavior:o.CONSTANTS.CREATE_NEW_NODE_BEHAVIOR.DEFAULT,defaultNodeImage:"",isLimitMindMapInCanvas:!1,isLimitMindMapInCanvasWhenHasScrollbar:!0,handleNodePasteImg:null,associativeLineInitPointsPosition:{from:"",to:""},enableAdjustAssociativeLinePoints:!0,customCreateNodePath:null,customCreateNodePolygon:null,customTransformNodeLinePath:null,toast:{Please_choose_a_topic_first:a.default.t("js.Please_choose_a_topic_first"),The_current_location:a.default.t("js.The_current_location"),Cannot_add_an_outer_frame:a.default.t("js.Cannot_add_an_outer_frame"),The_same_profile_already_exists:a.default.t("js.The_same_profile_already_exists"),Cannot_modify_the_outer_frame:a.default.t("js.Cannot_modify_the_outer_frame"),Cannot_modify_the_profile:a.default.t("js.Cannot_modify_the_profile")},scrollBarWidth:0}},31396:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.testEditorVersion=function(){var e=C(k().mark(function e(t){var n,o=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n="designer"==(n=o.length>1&&void 0!==o[1]?o[1]:"flow")?"flow":n,!((t||"v0").substring(1)>i[n].substring(1))){e.next=5;break}return e.next=4,new Promise(function(e){injectExtraAsynCall("onEditorVersion",{version:i[n]},function(){e(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])})});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n(4790);var i=t.VERSION={flow:"V1",outline:"V1",mind:"V2"}},72813:function(e,i,o){var a=o(9712);Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,o(61894);var r=a(o(40883)),s=o(67990),l=o(15240),c=o(96155),d=o(80214),u=function(e){t(o,r.default);var i=n(o);function o(){var e;T(this,o);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=i.call(this)).opt=t,e.mindMap=t.mindMap,e.isLeftMousedown=!1,e.isRightMousedown=!1,e.isMiddleMousedown=!1,e.isDrag=!1,e.isSpacePressed=!1,e.mousedownPos={x:0,y:0},e.mousemovePos={x:0,y:0},e.mousemoveOffset={x:0,y:0},e.mindMap.opt.onlyThumbnail||(e.detector=new c.TrackpadDetector,e.bindFn(),e.bind()),e}return M(o,[{key:"bindFn",value:function(){this.onBodyMousedown=this.onBodyMousedown.bind(this),this.onBodyClick=this.onBodyClick.bind(this),this.onDrawDblclick=this.onDrawDblclick.bind(this),this.onDrawClick=this.onDrawClick.bind(this),this.onMousedown=this.onMousedown.bind(this),this.onMousemove=this.onMousemove.bind(this),this.onMouseup=this.onMouseup.bind(this),this.onTopicMouseup=this.onTopicMouseup.bind(this),this.onPointerdown=this.onPointerdown.bind(this),this.onMousewheel=this.onMousewheel.bind(this),this.onContextmenu=this.onContextmenu.bind(this),this.onSvgMousedown=this.onSvgMousedown.bind(this),this.onKeydown=this.onKeydown.bind(this),this.onKeyup=this.onKeyup.bind(this),this.onMouseenter=this.onMouseenter.bind(this),this.onMouseleave=this.onMouseleave.bind(this),this.beforeunload=this.beforeunload.bind(this),this.documentMouseWheel=this.documentMouseWheel.bind(this),s.events.bindEvent({events:this})}},{key:"bind",value:function(){document.addEventListener("mousedown",this.onBodyMousedown),document.addEventListener("click",this.onBodyClick),this.mindMap.svg.on("dblclick",this.onDrawDblclick),this.mindMap.svg.on("click",this.onDrawClick),this.mindMap.el.addEventListener("mousedown",this.onMousedown),this.mindMap.svg.on("mousedown",this.onSvgMousedown),document.addEventListener("mousemove",this.onMousemove),document.addEventListener("mouseup",this.onMouseup),this.on("topic_mouseup",this.onTopicMouseup),this.mindMap.el.addEventListener("wheel",this.onMousewheel,{passive:!1}),this.mindMap.el.addEventListener("mousewheel",this.onMousewheel,{passive:!1}),this.mindMap.el.addEventListener("DOMMouseScroll",this.onMousewheel,{passive:!1}),document.addEventListener("wheel",this.documentMouseWheel,{passive:!1}),this.mindMap.el.addEventListener("pointerdown",this.onPointerdown),this.mindMap.svg.on("contextmenu",this.onContextmenu),this.mindMap.svg.on("mouseenter",this.onMouseenter),this.mindMap.svg.on("mouseleave",this.onMouseleave),this.mindMap.el.addEventListener("keydown",this.onKeydown),this.mindMap.el.addEventListener("keyup",this.onKeyup),document.addEventListener("beforeunload",this.beforeunload)}},{key:"unbind",value:function(){document.removeEventListener("mousedown",this.onBodyMousedown),document.removeEventListener("click",this.onBodyClick),this.mindMap.svg.off("dblclick",this.onDrawDblclick),this.mindMap.svg.off("click",this.onDrawClick),this.mindMap.el.removeEventListener("mousedown",this.onMousedown),document.removeEventListener("mousemove",this.onMousemove),document.removeEventListener("mouseup",this.onMouseup),this.mindMap.el.removeEventListener("wheel",this.onMousewheel),this.mindMap.el.removeEventListener("mousewheel",this.onMousewheel),this.mindMap.el.removeEventListener("DOMMouseScroll",this.onMousewheel),document.removeEventListener("wheel",this.documentMouseWheel),this.mindMap.el.removeEventListener("pointerdown",this.onPointerdown),this.mindMap.svg.off("contextmenu",this.onContextmenu),this.mindMap.svg.off("mouseenter",this.onMouseenter),this.mindMap.svg.off("mouseleave",this.onMouseleave),this.mindMap.el.removeEventListener("keydown",this.onKeydown),this.mindMap.el.removeEventListener("keyup",this.onKeyup),document.removeEventListener("beforeunload",this.beforeunload)}},{key:"beforeunload",value:function(){}},{key:"onDrawClick",value:function(e){this.emit("draw_click",e)}},{key:"onDrawDblclick",value:function(e){this.emit("draw_dblclick",e)}},{key:"onBodyMousedown",value:function(e){this.emit("body_mousedown",e)}},{key:"onBodyClick",value:function(e){this.emit("body_click",e)}},{key:"onSvgMousedown",value:function(e){(0,l.isMobile)()&&"touch"!==e.eventType||this.emit("svg_mousedown",e)}},{key:"onPointerdown",value:function(){}},{key:"onMousedown",value:function(e){(0,l.isMobile)()&&"touch"!==e.eventType||(1===e.which||0===e.button?this.isLeftMousedown=!0:3===e.which||1===e.button?this.isRightMousedown=!0:2!==e.which&&2!==e.button||(this.isMiddleMousedown=!0),this.mousedownPos.x=e.clientX,this.mousedownPos.y=e.clientY,this.mousemoveOffset.x=0,this.mousemoveOffset.y=0,this.emit("mousedown",e,this))}},{key:"onMousemove",value:function(e){if(!(0,l.isMobile)()||"touch"===e.eventType){var t=this.mindMap.opt.leftButton;this.mousemovePos.x=e.clientX,this.mousemovePos.y=e.clientY,this.mousemoveOffset.x=e.clientX-this.mousedownPos.x,this.mousemoveOffset.y=e.clientY-this.mousedownPos.y,this.emit("mousemove",e,this),(this.isMiddleMousedown||this.isRightMousedown||("move"===t||this.isSpacePressed)&&this.isLeftMousedown||this.isDrag)&&(e.preventDefault(),this.isDrag=!0,this.emit("drag",e,this))}}},{key:"onMouseup",value:function(e){this.onTopicMouseup(),(0,l.clearAutoMoveTimer)(),this.emit("mouseup",e,this)}},{key:"onTopicMouseup",value:function(e,t){this.isDrag&&this.emit("dragend",t,this),this.isLeftMousedown=!1,this.isRightMousedown=!1,this.isMiddleMousedown=!1,this.isDrag=!1}},{key:"onMousewheel",value:function(e){var t=this;e.stopPropagation(),e.preventDefault();var n=[];e.deltaY<0&&n.push(d.CONSTANTS.DIR.UP),e.deltaY>0&&n.push(d.CONSTANTS.DIR.DOWN),e.deltaX<0&&n.push(d.CONSTANTS.DIR.LEFT),e.deltaX>0&&n.push(d.CONSTANTS.DIR.RIGHT);var i=this.detector.detect(e);this.isDrag||this.scrollThrottleTimer||(this.scrollThrottleTimer=!0,setTimeout(function(){t.scrollThrottleTimer=!1},10),this.emit("mousewheel",e,n,this,i))}},{key:"documentMouseWheel",value:function(e){(e.ctrlKey||e.metaKey)&&e.preventDefault()}},{key:"onContextmenu",value:function(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey}},{key:"onKeydown",value:function(e){this.emit("keydown",e),"Space"===e.code&&(this.isSpacePressed=!0)}},{key:"onKeyup",value:function(e){this.emit("keyup",e),"Space"===e.code&&(this.isSpacePressed=!1)}},{key:"onMouseenter",value:function(e){this.emit("svg_mouseenter",e)}},{key:"onMouseleave",value:function(e){this.emit("svg_mouseleave",e)}}]),o}();i.default=u},67990:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.events=void 0,n(82403),n(12638),n(69268),n(86837);var o=n(62937),a=i(n(32483));t.events={bindEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.events=e.events,this.events.on("testVip",this.testVip.bind(this)),this.events.on("vip-limit",this.vipLimit.bind(this)),this.events.on("showRightMenu",this.showRightMenu.bind(this)),this.events.on("hideRightMoreList",this.hideRightMoreList.bind(this)),this.events.on("setDock",this.setDock.bind(this)),this.events.on("updateTopicsLen",this.updateTopicsLen.bind(this)),this.events.on("show_note_view",this.showNoteView.bind(this)),this.events.on("hide_note_view",this.hideNoteView.bind(this))},showNoteView:function(e,t){var n=e._noteData.node.node;$.fn.showPanel({target:n,panel:$(t),position:"bottom",offsetTop:10})},hideNoteView:function(e){$(e).dropdown("close"),$(e).remove()},testVip:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){})(o.vipState.test(e))},vipLimit:function(e){switch(e){case"Latex":o.vipState.limit({title:a.default.t("js.Upgrade_member_unlock_LaTeX_Equation_editor"),pointsSource:"插入数学公式",vipLimit:e,pos:e,type:e});break;case"insert_watermark":o.vipState.limit({title:a.default.t("js.Upgrade_member_to_add"),pointsSource:"添加水印",vipLimit:e,pos:e,type:e});break;case"canvasNum":o.vipState.limit({title:a.default.t("js.Upgrade_member_to_unlock"),pointsSource:"画布新建",vipLimit:e,pos:e,type:e});break;case"mindShapeNum":o.vipState.limit({title:a.default.t("js.Upgrade_your_membership_to_unlock_more_nodes"),pointsSource:"新建节点",vipLimit:e,pos:e,type:e});break;case"uploadCoverImg":o.vipState.limit({title:a.default.t("js.Upgrade_membership_unlock_upload_more_than_2M_pictures"),pointsSource:"上传图片",vipLimit:e,pos:e,type:e});break;default:o.vipState.limit({title:"",pointsSource:"",vipLimit:e,pos:e,type:e})}},showRightMenu:function(e){$(".mind-right-con").hasClass("selected")&&$(".mind-right-con [tit="+e+"]").is(":visible")||("v1"===editorGlobal.config.uiType?("url"===e&&(e="link"),$("#header-op-container [tit=edit]").find("[tit="+e+"]").eq(0).trigger("click")):$("#po-mind-more-list, .mind-toolbar, .mind-toolbar-right").find("[tit="+e+"]").eq(0).trigger("click"))},hideRightMoreList:function(){$(".po-mind-more-menu").is(":visible")&&$(".po-mind-more-menu .close").trigger("click")},updateTopicsLen:function(e){injectExtraAsynCall("updateOperate",{type:"toptoast",len:e})},setDock:function(e){editorGlobal.mindUI.initDock(e)}}},50661:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(39646),o=n(43627),a=n(31621),r=n(14051),s=n(9200),l=n(73961),c=n(47614),d=n(45635),u=n(83316);i.MindMap.version="v6.1.1",i.MindMap.usePlugin(o.ProcessDef).usePlugin(a.Summary).usePlugin(r.Boundary).usePlugin(l.SkeletonStyle).usePlugin(s.TouchEvent).usePlugin(c.HandDrawn).usePlugin(d.Export).usePlugin(u.PoCollect),t.default=i.MindMap},39646:function(e,t,n){n(11568),n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.MindMap=void 0;var o=i(n(66603));n(96700),n(27531),n(61894),n(4790),n(82403),n(38887),n(69268),n(84889),n(14237);var a=n(15240),r=n(80214),s=n(81255),l=i(n(20990)),c=n(59081),d=n(41525),u=i(n(72813)),p=n(47091),m=n(62645),f=i(n(66864)),g=n(70329),v=n(60097),b=n(81242),y=n(87737),x=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=w(e)&&"function"!=typeof e)return{default:e};var n=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return function(e){return e?n:t}(e)}(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var r=o?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(i,a,r):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(52525)),_=n(70846),S=n(67428),D=n(45861),E=n(83316);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var F=function(){function e(){var t=this;T(this,e);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.opt=(0,l.default)(s.defaultOpt,{}),this.updateConfig(n),this.mindData={},this.el=n.el,!this.el)throw new Error("缺少容器元素el");this.getElRectInfo(),this.addCss(),this.initContainer(),this.event=new u.default({mindMap:this}),this.batchExecution=new f.default,this.keyCommand=new b.KeyCommand({mindMap:this}),this.command=new y.Command({mindMap:this}),this.renderer=new p.Render({mindMap:this}),this.selectbox=new m.Selectbox({mindMap:this}),this.topicDrag=new m.TopicDrag({mindMap:this}),this.nodeAddBtn=new m.NodeAddBtn({mindMap:this}),this.view=new d.View({mindMap:this}),e.pluginList.forEach(function(e){t.initPlugin(e)}),this.opt.onlyThumbnail?this.addUseChunk("mindBackground",x.mindBackground):(this.initUseChunk(),this.addUseChunk("messageSource",_.messageSource))}return M(e,[{key:"initContainer",value:function(){var e=this,t=this.opt.associativeLineIsAlwaysAboveNode,n=function(){e.associativeLineDraw=e.draw.group(),e.associativeLineDraw.addClass("po-mind-associative-line-container")};this.svg=(0,c.SVG)().addTo(this.el).size(this.width,this.height),document.querySelector("#dropShadow")||this.setDropShadow(),this.svg.attr({tabindex:-1,style:"outline:none"}),this.draw=this.svg.group(),this.draw.addClass("po-mind-container"),this.lineDraw=this.draw.group(),this.lineDraw.addClass("po-mind-line-container"),this.generalizeLineDraw=this.draw.group(),this.generalizeLineDraw.addClass("po-mind-generalize-container"),t||n(),this.nodeDraw=this.draw.group(),this.nodeDraw.addClass("po-mind-node-container"),t&&n(),this.associativeLineLabelDraw=this.draw.group(),this.associativeLineLabelDraw.addClass("po-mind-associative-line-label-container"),this.otherDraw=this.draw.group(),this.otherDraw.addClass("po-mind-other-container")}},{key:"setDropShadow",value:function(){var e=this.svg.defs().element("filter",{id:"dropShadow"});e.element("feGaussianBlur",{in:"SourceAlpha",stdDeviation:3}),e.element("feOffset",{dx:1,dy:1,result:"offsetblur"}),e.element("feFlood",{"flood-color":"black","flood-opacity":.1}),e.element("feComposite",{in2:"offsetblur",operator:"in"});var t=e.element("feMerge");t.element("feMergeNode"),t.element("feMergeNode",{in:"SourceGraphic"})}},{key:"clearDraw",value:function(){this.lineDraw.clear(),this.generalizeLineDraw.clear(),this.associativeLineDraw.clear(),this.associativeLineLabelDraw.clear(),this.nodeDraw.clear(),this.otherDraw.clear()}},{key:"addCss",value:function(){this.cssEl=document.createElement("style"),this.cssEl.type="text/css",this.cssEl.innerHTML=(0,a.isMobile)()?r.cssContent+r.mobileCssContent:r.cssContent,document.head.appendChild(this.cssEl)}},{key:"removeCss",value:function(){document.head.removeChild(this.cssEl)}},{key:"render",value:function(){var e=C(k().mark(function e(t,n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.renderer.render(t,n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.renderer.isRendering=!1;case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"reRender",value:function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.renderer.reRender=!0,this.renderer.clearSelectedTopic(),this.renderer.clearCache(),this.clearDraw(),e.next=6,this.render(t);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getElRectInfo",value:function(){this.elRect=this.el.getBoundingClientRect(),this.width=this.elRect.width,this.height=this.elRect.height,(this.width<=0||this.height<=0)&&(this.width=(0,a.getContentWidth)(this.el)||window.screen.width,this.height=(0,a.getContentHeight)(this.el)||window.screen.height)}},{key:"resize",value:function(){this.getElRectInfo(),this.svg.size(this.width,this.height),this.emit("resize")}},{key:"setReadonly",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opt.readonly,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=!!e;var n=this.getReadonlyChangeList(e,t);this.opt.readonly=e,this.opt.readonlyList=(0,l.default)(this.opt.readonlyList,n),Object.keys(n).length&&this.event&&this.emit("readonly_change",n)}},{key:"getReadonlyChangeList",value:function(e,t){var n={},i=(0,l.default)(s.defaultOpt.readonlyList,t),o=this.opt.readonlyList;if(e)for(var a in i)o[a]!==i[a]&&(n[a]=i[a]);else for(var r in o)!0!==o[r]&&(n[r]=!0);return n}},{key:"on",value:function(e,t){this.event.on(e,t)}},{key:"once",value:function(e,t){this.event.once(e,t)}},{key:"emit",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];(t=this.event).emit.apply(t,[e].concat(i))}},{key:"off",value:function(e,t){this.event.off(e,t)}},{key:"getThemeObject",value:function(e){var t=this.mindData||{},n=(0,a.deepClone)(e||t.theme||t.classic);try{var i="Object"===(0,a.getType)(n)?n:JSON.parse(n);return(0,S.upgradeTheme)(this,i,i.id)}catch(e){g.themeids.includes(n)||(n=this.opt.theme);var o=g.themesDepot[n],r=t.background;return o=(0,l.default)(o,{background:r||o.background}),(0,S.upgradeTheme)(this,o,n)}}},{key:"initTheme",value:function(){this.themeConfig=this.getThemeObject(),this.execCommand("SET_BACKGROUND")}},{key:"getTheme",value:function(){return this.mindData.theme}},{key:"getMapBackground",value:function(){return this.mindData.background||this.themeConfig.background}},{key:"setThemeConfig",value:function(e){var t=this;function n(e){this.execCommand("SET_THEME_DIRECT",e)}this.renderer.checkCustomiseStyle(this.renderer.mindTree)?this.emit("showThemeOperate",e,function(i){i?t.execCommand("SET_THEME_OVER_WRITE",e,[],"delete"):n.call(t,e)}):n.call(this,e)}},{key:"setSkeleton",value:function(e,t){var n=this;function i(n,i){this.execCommand("CHANGE_SKELETON",e,t,n,[],i);try{(0,E.$poCollect)("mind_skeleton_function",{skeleton:JSON.parse(t).skeletonId})}catch(e){}}this.renderer.checkCustomiseStyle(this.renderer.mindTree)?this.emit("showThemeOperate",t,function(e){i.call(n,e,"delete")}):i.call(this)}},{key:"updateDef",value:function(e,t,n){e&&(this.setFullData(e),n||(e=(0,a.copyTopicsData)(e),t=(0,a.copyTopicsData)(t),this.messageSource.send("updateDef",{content:e,original:t})))}},{key:"getThemeConfig",value:function(e){return void 0===e?this.themeConfig:this.themeConfig[e]}},{key:"getTopicLineType",value:function(e){return this.renderer.getCacheTopic(e).layerIndex>0?this.getThemeConfig("childTopic").lineStyle.lineType:this.getThemeConfig("secTopic").lineStyle.lineType}},{key:"getConfig",value:function(e){return void 0===e?this.opt:this.opt[e]}},{key:"updateConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setReadonly(e.readonly,e.readonlyList),e.hasOwnProperty("readonly")&&delete e.readonly,e.hasOwnProperty("readonlyList")&&delete e.readonlyList,this.opt=l.default.all([s.defaultOpt,this.opt,e])}},{key:"getLayout",value:function(){var e=this.mindData;return(0,a.getRootLayout)(e)}},{key:"setLayout",value:function(e){this.execCommand("CHANGE_STRUCTURE",e)}},{key:"execCommand",value:function(){var e=C(k().mark(function e(){var t,n=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(t=this.command).exec.apply(t,n);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setData",value:function(){var e=C(k().mark(function e(t){var n=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.mindData=t,this.renderer.setData(t),this.initTheme(),e.next=5,this.reRender(function(){n.opt.viewData||(n.renderer.moveTopicToCenter(),n.view.fillTheCanvas())},r.CONSTANTS.SET_DATA);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setFullData",value:function(){var e=C(k().mark(function e(t,n){var i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n||this.emit("init_data_start"),t=(0,D.defFilterXSS)(t),this.processDef&&(t=this.processDef.getNewDef(t)),delete t.collapsed,this.mindData=t,this.initTheme(),n||(this.emit("init_data_end"),this.emit("render_start")),this.emit("init_full_data",t),e.t0=t.root,!e.t0){e.next=12;break}return e.next=12,this.setData(t);case 12:this.opt.view&&this.view.setTransformData(t.view),null===(i=this.skeletonStyle)||void 0===i||i.reset(),this.emit("curLayoutEcho");case 15:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkLayoutIsSupport",value:function(e){if(!e)return!1;for(var t=!1,n=0;n<r.layoutList.length;n++){var i=r.layoutList[n];if(i.valueList.includes(e)){i.untapped||(t=i.value);break}}return t}},{key:"getLayoutByStructure",value:function(e){return this.checkLayoutIsSupport(e)||r.CONSTANTS.LAYOUT.MINDMAP}},{key:"getData",value:function(){var e=this.messageSource.getCopyData();return(0,a.deepClone)(e)}},{key:"export",value:function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.poExport.export(t)}catch(t){this.opt.errorHandler(r.ERROR_TYPES.EXPORT_ERROR,t)}case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"toPos",value:function(e,t){return{x:e-this.elRect.left,y:t-this.elRect.top}}},{key:"toSvgPos",value:function(e){var t=e.pageX,n=e.pageY,i=this.view.scale,o={x:(t-this.view.x)/i,y:(n-this.view.y)/i};return this.toPos(o.x,o.y)}},{key:"svgPosToClient",value:function(e){var t=this.draw.transform(),n=t.scaleX,i=t.scaleY,o=t.translateX,a=t.translateY,r=e.x*n+o,s=e.y*i+a;return this.toPos(r,s)}},{key:"getSvgData",value:function(){var e=C(k().mark(function e(){var t,n=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.opt.partialLoad,e.abrupt("return",new Promise(function(e){var i=function(){n.opt.partialLoad=t;var i,o,s=n.svg,l=n.draw,d=l.transform();l.scale(1/d.scaleX,1/d.scaleY),(0,a.isSafari)()&&1!==n.view.scale&&(null===(i=n.code)||void 0===i||i.scaleCodeBlockEl(1),null===(o=n.equation)||void 0===o||o.scaleEquation(1));var u,p,h=(0,c.SVG)(s.svg());h.add((0,c.SVG)("<style>".concat(r.cssContent,"</style>"))),h.size(n.width,n.height),l.transform(d),(0,a.isSafari)()&&1!==n.view.scale&&(null===(u=n.code)||void 0===u||u.scaleCodeBlockEl(n.view.scale),null===(p=n.equation)||void 0===p||p.scaleEquation(n.view.scale)),e({svg:h,svgHTML:h.svg(),scaleX:d.scaleX,scaleY:d.scaleY})};t?(n.opt.partialLoad=!1,n.once("resourceLoadSuccess",i),n.render(void 0,"export")):i()}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addPlugin",value:function(t,n){-1===e.hasPlugin(t)&&(e.usePlugin(t,n),this.initPlugin(t))}},{key:"removePlugin",value:function(t){var n=e.hasPlugin(t);-1!==n&&(e.pluginList.splice(n,1),this[t.instanceName]&&(this[t.instanceName].beforePluginRemove&&this[t.instanceName].beforePluginRemove(),delete this[t.instanceName]))}},{key:"initPlugin",value:function(e){this[e.instanceName]=new e({mindMap:this,pluginOpt:e.pluginOpt})}},{key:"initUseChunk",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},x);for(var t in e)e[t]&&this.addUseChunk(t,e[t])}},{key:"addUseChunk",value:function(e,t){var n=(0,a.deepClone)(t);this[e]=n,n.bindEvent&&n.bindEvent({mindMap:this})}},{key:"destroy",value:function(){var t=this;this.emit("beforeDestroy"),this.renderer.textEdit.hideEditTextBox(),this.associativeLine&&this.associativeLine.hideEditTextBox(),h(e.pluginList).forEach(function(e){t[e.instanceName]&&t[e.instanceName].beforePluginDestroy&&t[e.instanceName].beforePluginDestroy(),t[e.instanceName]=null}),this.event.unbind(),this.svg.remove(),v.Style.removeBackgroundStyle(this.el),this.el.innerHTML="",this.el=null,this.removeCss()}}]),e}();t.MindMap=F,F.pluginList=[],F.usePlugin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return-1!==F.hasPlugin(e)||(e.pluginOpt=t,F.pluginList.push(e)),F},F.hasPlugin=function(e){return F.pluginList.findIndex(function(t){return t===e})}},85685:function(e,t,n){n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var o=i(n(66603));n(96700),n(27531),n(61894),n(96909),n(82403),n(38887),n(30940),n(69268),n(84889),n(14237);var a=i(n(78782)),r=n(80214),s=n(15240);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Base=function(){function e(){T(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.renderer=t.renderer,this.mindMap=this.renderer.mindMap,this.renderTree=t.renderTree,this.draw=this.mindMap.draw,this.lineDraw=this.mindMap.lineDraw,this.root=null,this.rootNodeCenterOffset=null}return M(e,[{key:"doLayout",value:function(){throw new Error("【computed】方法为必要方法，需要子类进行重写！")}},{key:"beforeRenderLine",value:function(e,t,n){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=[];(e.children||[]).forEach(function(o,l){if(!e.getData("hideSelf")||e.layout!==r.CONSTANTS.LAYOUT.TIMELINE||0!==l){var c=Math.min(e.top,o.top),d=Math.min(e.left,o.left),u=Math.abs(Math.max(e.left+e.width,o.left+o.width)-d),p=Math.abs(Math.max(e.top+e.height,o.top+o.height)-c);if((0,s.checkTopicOuter)(i.mindMap,{left:d,top:c,width:u,height:p},i.mindMap.opt.createTopicsRectBoundary).isOuter&&i.mindMap.opt.partialLoad){var h=t.slice(l);h&&h[0].remove()}else{var m=t[l];n&&m.node.parentElement||(m.node.parentElement||i.mindMap.lineDraw.add(m),a.push({index:l,item:o}))}}}),o(a)}},{key:"renderLine",value:function(){throw new Error("【renderLine】方法为必要方法，需要子类进行重写！")}},{key:"renderExpandBtn",value:function(){throw new Error("【renderExpandBtn】方法为必要方法，需要子类进行重写！")}},{key:"renderExpandBtnRect",value:function(){throw new Error("【horizontalPointPosition】方法为必要方法，需要子类进行重写！")}},{key:"verticalPointPosition",value:function(){throw new Error("【verticalPointPosition】方法为必要方法，需要子类进行重写！")}},{key:"horizontalPointPosition",value:function(){throw new Error("【horizontalPointPosition】方法为必要方法，需要子类进行重写！")}},{key:"checkIsNeedResizeSources",value:function(){return[r.CONSTANTS.CHANGE_THEME,r.CONSTANTS.TRANSFORM_TO_NORMAL_NODE].includes(this.renderer.renderSource)}},{key:"checkIsLayerTypeChange",value:function(e,t){return!(e>=2&&t>=2)&&(e>=2&&t<2||e<2&&t>=2||void 0)}},{key:"checkIsLayoutChangeRerenderExpandBtnPlaceholderRect",value:function(e){this.renderer.renderSource===r.CONSTANTS.CHANGE_LAYOUT&&(e.needRerenderExpandBtnPlaceholderRect=!0)}},{key:"updateWidth",value:function(e){return!(this.mindMap.mindData.topicAlign||!e.sameCustomeWidth)}},{key:"updateNumber",value:function(e){var t=e.createNumberNode();if(t&&e._numberData&&t.num!=e._numberData.num)return!0;return!1}},{key:"createTopic",value:function(e,t,n,i,o,r,l){var c=e.id,d=null;if(this.renderer.hasCacheTopic(c)&&!this.renderer.reRender){d=this.renderer.getCacheTopic(c);var u=this.updateNumber(d),p=this.updateWidth(d);if(d.needReset||d.isRerender||u||d.summaries&&d.summaries.length>0||p){var m=this.checkIsLayerTypeChange(d.layerIndex,o);d.reset(),d.topicData=d.handleData(e||{}),d.layerIndex=o,this.renderer.cacheTopic(c,d),e._topic=d;var f=this.checkIsNeedResizeSources();(u||f||d.isRerender||m||p)&&(d.getSize(),d.needLayout=!0,d.isRerender=!1),d.needReset=!0}else d.freeChildren=[],d.children=[],d.parentIds=[]}else{var g=c||(0,s.createId)();d=new a.default({data:e,id:g,parent:t?t._topic:null,renderer:this.renderer,mindMap:this.mindMap,isRoot:n,layout:i,layerIndex:o}),e.id=g,this.renderer.cacheTopic(g,d),e._topic=d,e.isSelected&&this.renderer.addTopicToSelectedList(d)}return-1!==this.mindMap.renderer.findSelectedTopicIndex(d)&&(e.isSelected=!0),d.layerIndex=o,d.layout=i,n?(d.isRoot=!0,this.root=d):(d.isRoot=!1,d.getData("free")&&d.getData("pos")?(d.parent=t._topic,d.parentIds=[t.id],d.free=!0,t._topic.addFreeTopic(d)):(d.parent=t._topic,d.parentIds=[d.parent.id].concat(h(d.parent.parentIds?d.parent.parentIds:[])),d.getData("summary")?t._topic.addSummary(d):t._topic.addChildren(d))),d.layoutIndex=l,d}},{key:"getSubTopicPart",value:function(e,t,n,i){var o,a=this,r=e.structure||function(){var t=e._topic.layout,n=a.mindMap.getLayoutByStructure(e.layout);return"logic"===t&&(t="mindmap"),"logic"===n&&(n="mindmap"),e.layout&&t===n?e.layout:null}()||(null===(o=e._topic)||void 0===o?void 0:o.layout),l={"mind_brace_left-right":"mind_brace_right","mind_brace_right-left":"mind_brace_left","mind_left-right":"mind_right","mind_right-left":"mind_left","mind_ishikawa_right-right":"mind_ishikawa_left","mind_ishikawa_left-left":"mind_ishikawa_right","mind_logic_left-right":"mind_logic_right","mind_logic_right-left":"mind_logic_left"},c="".concat(r,"-").concat(e._topic.part);if(l[c]&&(r=l[c]),"mind_tree_free"!=r&&e._topic.part&&(e.free||i>1))return e._topic.part;var d,u,p=n;"mind_tree_free"===r&&((null===(d=e.boundaries)||void 0===d?void 0:d.length)>0||(null===(u=e.summaries)||void 0===u?void 0:u.length)>0)&&(p=(0,s.getIndexInChunks)(e).findIndex(function(e){return e.includes(t)}));var h=this.renderer.getCacheTopic(t);if(h&&"logic"===r){var m=h.getData("layout");if("mind_left"===m||"mind_right"===m||"mind_brace_left"===m||"mind_brace_right"===m)return e._topic.part}switch(r){case"mind_left":case"mind_ishikawa_right":case"mind_brace_left":case"mind_tree_left":case"mind_logic_left":case"mind_tree_left_mobi":return"left";case"mind_free":case"mind_free_layout":case"mind":return p<this.mindMap.renderer.mindTree.data["right-content-index"]?"right":"left";case"mind_tree_free":return p%2==0?"right":"left";default:return"right"}}},{key:"getSubTopicDir",value:function(e,t){switch(e.structure||e.layout){case"mind_timeline_h_up":return"up";case"mind_timeline_h_down":case"mind_org":return"down";default:return t%2==0?"up":"down"}}},{key:"updateSubsets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(e=(0,s.formatDataToArray)(e)).forEach(function(e){(0,s.walk)(e,null,function(e){e.top+=t,e.left+=n})})}},{key:"updateArea",value:function(e,t){this.updateSummaries(e,t),this.updateBoundaries(e,t)}},{key:"updateSummaries",value:function(e,t){if(this.mindMap.summary){var n=this.getMargin(e),i=n.marginX,o=n.marginY;this.mindMap.summary.updateSummaries(e,t,i,o)}}},{key:"updateBoundaries",value:function(e,t){this.mindMap.boundary&&("org"===t?this.mindMap.boundary.renderBoundary(e,"vertical"):this.mindMap.boundary.renderBoundary(e,"horizontal"),this.mindMap.boundary.cumputerBoundarySpace(e,t))}},{key:"getMargin",value:function(e){var t,n,i=this.mindMap.opt.layoutMode;null!==(t=this.renderer.mindTree)&&void 0!==t&&null!==(t=t.margin)&&void 0!==t&&t.layoutMode&&(i=null===(n=this.renderer.mindTree)||void 0===n||null===(n=n.margin)||void 0===n?void 0:n.layoutMode);var o=e.getStyle("lineType"),a=(0,s.getLayoutConfig)(e.layout).defMargin,r=a[o]||a.curve,l=r.fit,d=r.compact,u=r.min,p=this.getCustomMargin(),h={},m=this.mindMap.themeConfig.marginW,f=this.mindMap.themeConfig.marginH,g=this.mindMap.themeConfig.childMarginW,v=this.mindMap.themeConfig.childMarginH;m&&(h.marginW=m),f&&(h.marginH=f),g&&(h.childMarginW=g),v&&(h.childMarginH=v);var b=c(c({},"fit"===i?l:d),h);return p&&(b=c(c({},b),p)),1===e.layerIndex+1?{marginX:Math.max(b.marginW,u.marginW),marginY:Math.max(b.marginH,u.marginH),startSpace:b.startSpace}:{marginX:Math.max(b.childMarginW,u.childMarginW),marginY:Math.max(b.childMarginH,u.childMarginH),startSpace:b.startSpace}}},{key:"formatInitRootNodePosition",value:function(e){return e?"string"==typeof e&&e.indexOf(",")>-1&&(e=[e.split[0],e.split[1]]):e=[null,null],e}},{key:"setEmptyChildrenTopicHeightAndWidth",value:function(e){e&&(e.fullHeight=e.height,e.fullWidth=e.width+e.getCollapsedSize(),e.topicTopHalfHeight=0,e.topicLeftHalfWidth=0,this.setSpaceForBorder(e))}},{key:"setSpaceForBorder",value:function(e){var t=e.getShape(),n=e.getBorderWidth();n&&n>0&&(t===r.CONSTANTS.SHAPE.UNDERLINE||r.CONSTANTS.SHAPE.DBLUNDERLINE)}},{key:"setNodeCenter",value:function(e){e.left=-e.width/2,e.top=-e.height/2}},{key:"setFreeTopic",value:function(e,t){var n=e.getData("pos");if(n){var i=n.x,o=n.y;return e.left=i,e.top=o,e.getData("versionV5")&&(e.free?(e.left=e.left-1e4-e.parent.left-e.parent.width/2+e.topicLeftHalfWidth,e.top=e.top-1e4+(e.parent.top+e.topicTopHalfHeight+e.parent.height+30)):("left"===e.part?e.left=e.left-1e4-e.parent.left-e.parent.width/2-e.getRightHalfWidth():e.left=e.left-1e4-e.parent.left-e.parent.width/2+e.topicLeftHalfWidth,e.top=e.top-1e4+(e.parent.top+e.parent.height-e.height/2+30))),e.getData("layout")&&e.free?e.part=this.getSubTopicPart(e.topicData):e.left+e.width/2>e.parent.left+e.parent.width/2||e.free&&"timeline"===e.layout?e.part="right":e.part="left",t&&(e.topicData.pos={x:e.left,y:e.top},delete e.topicData.versionV5),{left:e.left,top:e.top}}}},{key:"getRootCenterOffset",value:function(e,t){if(this.rootNodeCenterOffset)return this.rootNodeCenterOffset;var n=this.mindMap.opt.initRootNodePosition,i=r.CONSTANTS.INIT_ROOT_NODE_POSITION.CENTER;if((n=this.formatInitRootNodePosition(n))[0]===i&&n[1]===i)this.rootNodeCenterOffset={x:0,y:0};else{var o={width:e,height:t},a={width:e,height:t};this.setNodeCenter(o,[i,i]),this.setNodeCenter(a),this.rootNodeCenterOffset={x:a.left-o.left,y:a.top-o.top}}return this.rootNodeCenterOffset}},{key:"updateChildren",value:function(e,t,n){var i=this;e.forEach(function(e){e[t]+=n,e.children&&e.children.length&&!e.hasCustomPosition()&&i.updateChildren(e.children,t,n)})}},{key:"updateChildrenPro",value:function(e,t){var n=this;e.forEach(function(e){Object.keys(t).forEach(function(n){e[n]+=t[n]}),e.children&&e.children.length&&!e.hasCustomPosition()&&n.updateChildrenPro(e.children,t)})}},{key:"getCustomMargin",value:function(){var e=this.renderer.mindTree.margin;return e?(e=(0,s.deepClone)(e),"mindmap"===this.mindMap.getLayout()&&e.childMarginW&&(e.childMarginW+=16),e):e}},{key:"addOldLine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(e.push("L"),"right"===n.part?(e.push(n.left+n.width),e.push(t.y)):(e.push(n.left),e.push(t.y)),n.parent.free){var i=n.parent;if(i&&!this.isOldUnderLine(i)&&!i.isUnderLine())return e;var o=["M"];"right"===n.part?(o.push(n.parent.left),o.push(n.parent.top+this.verticalPointPosition(n.parent)),o.push("L"),o.push(n.parent.left+n.parent.width),o.push(n.parent.top+this.verticalPointPosition(n.parent))):(o.push(n.parent.left+n.parent.width),o.push(n.parent.top+this.verticalPointPosition(n.parent)),o.push("L"),o.push(n.parent.left),o.push(n.parent.top+this.verticalPointPosition(n.parent))),e.unshift.apply(e,o)}return e}},{key:"isOldUnderLine",value:function(e){var t;if(!e.getStyle("shape")&&null!==(t=e.parent)&&void 0!==t&&t.getStyle("underLine"))return!0}},{key:"getNodeBoundaries",value:function(e,t){var n=this.mindMap.themeConfig,i=n.generalizationLineMargin,o=n.generalizationNodeMargin,a=function e(n){var i=1/0,a=-1/0,r=1/0,s=-1/0;n.children&&n.children.length>0&&n.children.forEach(function(n){var l=e(n),c=l.left,d=l.right,u=l.top,p=l.bottom,h=n.checkHasGeneralization()&&n.getData("expand")?n._generalizationNodeWidth+o:0,m=n.checkHasGeneralization()&&n.getData("expand")?n._generalizationNodeHeight+o:0;c-("h"===t?h:0)<i&&(i=c-("h"===t?h:0)),d+("h"===t?h:0)>a&&(a=d+("h"===t?h:0)),u<r&&(r=u),p+("v"===t?m:0)>s&&(s=p+("v"===t?m:0))});var l={left:n.left,right:n.left+n.width,top:n.top,bottom:n.top+n.height};return{left:l.left<i?l.left:i,right:l.right>a?l.right:a,top:l.top<r?l.top:r,bottom:l.bottom>s?l.bottom:s}}(e);return{left:a.left,right:a.right,top:a.top,bottom:a.bottom,generalizationLineMargin:i,generalizationNodeMargin:o}}},{key:"getChildrenBoundaries",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,a=this.mindMap.themeConfig,r=a.generalizationLineMargin,s=a.generalizationNodeMargin,l=e.children.slice(i,o+1),c=1/0,d=-1/0,u=1/0,p=-1/0;return l.forEach(function(e){var i=n.getNodeBoundaries(e,t);c=i.left<c?i.left:c,d=i.right>d?i.right:d,u=i.top<u?i.top:u,p=i.bottom>p?i.bottom:p}),{left:c,right:d,top:u,bottom:p,generalizationLineMargin:r,generalizationNodeMargin:s}}},{key:"getNewPoint",value:function(e,t,n){var i=e.width/2/6,o=Math.abs(t.y-n.y),a=o/50,r=o<100?5:o<150?3.5:2.5,s=Math.max(i*r-5*a,5);return t.x>n.x?t.x-=s:t.x+=s,{start:t,end:n}}},{key:"quadraticCurvePath",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,r=[];function s(e,t,n,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;e.push("M"),e.push(t),e.push(n);var r=t;a>0&&(r=t+a*(t>i?-1:1),e.push("L"),e.push(r),e.push(n));var s=r+(Math.abs(i-t)>150?6/1.1:4/1.1)*(t>i?1:-1),l=n+(o-n);e.push("C"),e.push(r),e.push(n),e.push(s),e.push(l),e.push(i),e.push(o)}if(this.mindMap.themeConfig.lineTapering){var l=e;l+=a*(e>n?-4:4);for(var c=0;c<5;c++)s(r,l-=(a-.5)*(e>n?-1:1),t,n,i,o)}else s(r,e,t,n,i,o);return r}},{key:"cubicBezierPath",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=["M"];if(a.push(e),a.push(t),o>0){var r=e+o*(e>n?-1:1);a.push("L"),a.push(r),a.push(t),e=r}var s=e+(n-e)/1.8,l=t,c=.99*s,d=i;return a.push("C"),a.push(s),a.push(l),a.push(c),a.push(d),a.push(n),a.push(i),a.push("L"),a.push(n),a.push(i),a}},{key:"renderLineRoundBroken",value:function(e,t,n,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8,r=arguments.length>6?arguments[6]:void 0,s=["M"];if(s.push(e),s.push(t),r){var l=t;o>0&&(l=t+o*(t>i?-1:1),s.push("L"),s.push(e),s.push(l)),Math.abs(n-e)<a&&(a=Math.max(Math.abs(n-e),0));var c=n>e?n-a:n+a;return s.push("L"),s.push(c),s.push(l),s.push("C"),s.push(c),s.push(l),s.push(n),s.push(l),s.push(n),l>i?s.push(l-a):s.push(l+a),s.push("L"),s.push(n),s.push(i),s}var d=e;o>0&&(d=e+o*(e>n?-1:1),s.push("L"),s.push(d),s.push(t)),Math.abs(i-t)<a&&(a=Math.max(Math.abs(i-t),0));var u=i>t?i-a:i+a;return s.push("L"),s.push(d),s.push(u),s.push("C"),s.push(d),s.push(u),s.push(d),s.push(i),d>n?s.push(d-a):s.push(d+a),s.push(i),s.push("L"),s.push(n),s.push(i),s}},{key:"renderLineStraight",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=["M"];if(a.push(e),a.push(t),o>0){var r=e+o*(e>n?-1:1);a.push("L"),a.push(r),a.push(t)}return a.push("L"),a.push(n),a.push(i),a}},{key:"renderLineSlant",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6?arguments[6]:void 0,s=["M"];if(s.push(e),s.push(t),r){if(o>0){var l=t+o*(t>i?-1:1);s.push("L"),s.push(e),s.push(l)}return s.push("L"),s.push(n),t>i?s.push(i+a):s.push(i-a),s.push("L"),s.push(n),s.push(i),s}if(o>0){var c=e+o*(e>n?-1:1);s.push("L"),s.push(c),s.push(t)}return s.push("L"),e>n?s.push(n+a):s.push(n-a),s.push(i),s.push("L"),s.push(n),s.push(i),s}},{key:"setLineStyle",value:function(e,t,n){if(e){var i=this.transformPath(t);e.clear();var o=e.path();o.plot(i),n.styleLine(o,!0)}}},{key:"transformPath",value:function(e){var t=this.mindMap.opt.customTransformNodeLinePath;return t?t(e):e}}]),e}()},63397:function(e,i,o){o(58500);var a=o(9712);Object.defineProperty(i,"__esModule",{value:!0}),i.Brace=void 0;var r=a(o(66603));o(61894),o(69268),o(84889);var s=o(80214),l=o(1540);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var d=function(e){t(o,l.Mindmap);var i=n(o);function o(e){return T(this,o),i.call(this,e)}return M(o,[{key:"computedBaseValueBefore",value:function(e,t,n,i,o,a,r){var l=this.createTopic(e,t,n,s.CONSTANTS.LAYOUT.BRACE,o,a,r);l.isRoot?this.setNodeCenter(l):l.getData("free")&&l.getData("pos")?this.setFreeTopic(l):l.getData("summary")?this.setSummary(l,t):l.part=this.getSubTopicPart(t,e.id,a,r)}},{key:"verticalPointPosition",value:function(e){return e.height/2}},{key:"renderLine",value:function(e,t,n){var i=this;this.beforeRenderLine(e,t,n,function(n){1!==e.children.length||1!==n.length?n.forEach(function(n){var o=n.item,a=n.index;if(0===a||a===e.children.length-1){var r={x:"right"===o.part?o.left:o.left+o.width,y:o.top+i.verticalPointPosition(o),h:o.height,w:o.width},s=i.drawPath(e,r);i.setLineStyle(t[a],s,o)}else t[a]&&(delete t[a].rePath,t[a].clear())}):i.renderOnePath(e,n[0],t)})}},{key:"renderOnePath",value:function(e,t,n){var i=t.index,o=t.item,a={x:"right"===o.part?o.left:o.left+o.width,y:o.top,h:o.height,w:o.width},s=this.drawPath(e,a),l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},a);l.y=o.top+o.height;var d=s+this.drawPath(e,l);this.setLineStyle(n[i],d,o)}},{key:"getLineStart",value:function(e){return 0===e.layerIndex?{x:e.left+e.width/2,y:e.top+e.height/2,h:e.height,w:e.width}:{x:"right"===e.part?e.left+e.width:e.left,y:e.top+this.verticalPointPosition(e),h:e.height,w:e.width}}},{key:"drawPath",value:function(e,t){var n=this.getLineStart(e);return this.renderBaseLine(e,n,t)}},{key:"renderBaseLine",value:function(e,t,n){var i=12,o=16;0===e.layerIndex&&Math.abs(t.y-n.y)<32&&(o=Math.max(8,Math.abs(t.y-n.y)/2-2)),e.layerIndex>0&&(i=12,o=7);var a=1;t.x>n.x&&(a=-1);var r=t.y>n.y?-1:1,s=(i+o)*a,l=["M"],c=t.x;return 0===e.layerIndex&&(t.x>n.x?c-=e.width/2:c+=e.width/2),l.push(c+i*a),l.push(t.y),l.push("C"),l.push(c+i*a),l.push(t.y),l.push(c+s),l.push(t.y),l.push(c+s),l.push(t.y+o*r),l.push("L"),l.push(c+s),l.push(n.y-o*r),l.push("C"),l.push(c+s),l.push(n.y-o*r),l.push(c+s),l.push(n.y),l.push(c+s+o*a),l.push(n.y),l.join(" ")}}]),o}();i.Brace=d},69140:function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.FishBone=void 0,o(61894),o(69268),o(84889),o(14237);var a=o(85685),s=o(15240),l=o(80214),c=function(e){t(o,a.Base);var i=n(o);function o(e){var t;return T(this,o),(t=i.call(this,e)).layout=l.CONSTANTS.LAYOUT.FISHBONE,t.angleDegrees=60,t.branchesSpace=20,t.fishBoneStartSpace=50,t.spineToBranchesSpace=30,t}return M(o,[{key:"computedBaseValueBefore",value:function(e,t,n,i,o,a,r){var s=this.createTopic(e,t,n,l.CONSTANTS.LAYOUT.FISHBONE,o,a,r);s.isRoot?(this.setNodeCenter(s),s.part=e.structure.indexOf("left")>-1?"right":e.structure.indexOf("right")>-1?"left":null):s.getData("free")&&s.getData("pos")?this.setFreeTopic(s):s.getData("summary")?this.setSummary(s,t):(s.part=this.getSubTopicPart(t,e.id,a,r),t._topic.dir&&1!==s.layoutIndex?s.dir=t._topic.dir:s.dir=this.getSubTopicDir(t,a))}},{key:"setSummary",value:function(e){var t,n=r((0,s.getRange)(e.getData("range")),1)[0];e.part=(null===(t=e.parent)||void 0===t||null===(t=t.children[n])||void 0===t?void 0:t.part)||"right"}},{key:"getShortestSide",value:function(e){return e/Math.sqrt(3)*2}},{key:"checkIsTop",value:function(e){return"up"===e.dir}},{key:"computedBaseValueAfter",value:function(e,t,n,i,o,a){var r=e._topic;0===r.layoutIndex?this.computedBaseValueAfterHeader(r,o):1===r.layoutIndex?this.computedBaseValueAfterLevel1(e,t,n,i,o,a):this.mindMap.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).computedBaseValueAfter(e,t,n,i,o,a)}},{key:"computedBaseValueAfterHeader",value:function(e){var t=this,n=this.getNewGroup(e.children),i=0,o=0,a=0;n.forEach(function(n){var s=r(n,2),l=s[0],c=s[1];l&&(i=Math.max(i,l.fullHeight)),c&&(o=Math.max(o,c.fullHeight)),a=t.getGroupFullWidth(e,[l,c],a)}),i=Math.max(i,this.verticalPointPosition(e)),o=Math.max(o,e.height-this.verticalPointPosition(e)),e.fullHeight=i+o;var s=this.renderFishtail(e).w||0;e.fullWidth=a+e.width+this.fishBoneStartSpace+s,e.topicLeftHalfWidth="left"===e.part?e.fullWidth-e.width:0,e.topicTopHalfHeight=Math.max(0,i-this.verticalPointPosition(e))}},{key:"computedBaseValueAfterLevel1",value:function(e,t,n,i,o,a){var r=this,s=e._topic,c=this.getMargin(s).marginY;this.mindMap.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.TREE).computedBaseValueAfter(e,t,n,i,o,a),s.fullHeight+=this.spineToBranchesSpace;var d=this.getLongLeg(s),u=this.getShortLeg(d),p=0,h=0,m=s.width/2,f=s.fullHeight-s.height-this.branchesSpace;s.children.forEach(function(e){var t=r.getShortLeg(f)+r.branchesSpace;f-=e.fullHeight+e.topSpace+e.bottomSpace+c;var n=t+e.fullWidth+e.leftSpace+e.rightSpace;"right"===s.part?p=Math.max(p,n):h=Math.max(h,n)}),s.fullWidth=Math.max(m-u,0)+Math.max(p,h,m+u),"up"===s.dir?s.topicTopHalfHeight=0:s.topicTopHalfHeight=s.fullHeight-s.height,"right"===s.part?s.topicLeftHalfWidth=Math.max((this.horizontalPointPosition(s),0)):s.topicLeftHalfWidth=s.fullWidth-s.width,s.rightTopicChildrenLeftStart=u,s.leftTopicChildrenLeftStart=u,s.rightTopicChildrenTopStart=0,s.leftTopicChildrenTopStart=0}},{key:"getLongLeg",value:function(e){return e.fullHeight-e.height}},{key:"getShortLeg",value:function(e){var t=this.angleDegrees*Math.PI/180;return e/Math.tan(t)}},{key:"setEmptyChildrenTopicHeightAndWidth",value:function(e){if(e.layoutIndex>1)this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).setEmptyChildrenTopicHeightAndWidth(e);else{var t=e.height;e.fullHeight=t+e.getCollapsedSize()+(0===e.layoutIndex?0:this.spineToBranchesSpace),e.fullWidth=e.width,e.topicLeftHalfWidth=0,e.topicTopHalfHeight=0}}},{key:"computedTopOrLeftValue",value:function(e,t){0!==e.layoutIndex?1!==e.layoutIndex?this.mindMap.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).computedTopOrLeftValue(e,t):this.computedTopOrLeftValueLevel2(e):this.computedTopOrLeftValueLevel1(e)}},{key:"computedTopOrLeftValueLevel1",value:function(e){var t=this,n="left"===e.part,i=e.left+e.width+this.fishBoneStartSpace;n&&(i=e.left-this.fishBoneStartSpace);var o=e.top+this.verticalPointPosition(e),a=this.getNewGroup(e.children);a.forEach(function(a){a.forEach(function(a){a.top=function(e,n){return t.checkIsTop(e)?n-e.fullHeight:n+(e.fullHeight-e.height)}(a,o),a.left=i+t.getInversesNumber(a.fishBoneDistanceFromHeader,e);var r=t.horizontalPointPosition(a),s=t.getShortLeg(t.getLongLeg(a));n?(a.fishBoneStartx=a.left+r+s,a.fishBoneEndx=a.left+r):(a.fishBoneStartx=a.left+r-s,a.fishBoneEndx=a.left+r)})})}},{key:"getInversesNumber",value:function(e,t){return"left"===t.part?-1*e:e}},{key:"getGroupFullWidth",value:function(e,t){var n=this,i=r(t,2),o=i[0],a=i[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l="left"===e.part,c=function(t,i,o,a,r){var s,c;return i>o?(s=t+i-n.getInversesNumber(o,e),c=t+n.branchesSpace+a-n.getInversesNumber(r,e)):(s=t+(l?2*o:0),c=t+o-i+n.branchesSpace+a-n.getInversesNumber(r,e)),{left1:s,left2:c}},d=this.spineToBranchesSpace;if(a){var u=this.horizontalPointPosition(o),p=this.getShortLeg(this.getLongLeg(o)),h=this.horizontalPointPosition(a),m=c(s,p,u,this.getShortLeg(this.getLongLeg(a)),h),f=m.left1,g=m.left2,v=0;if(l?g-a.width<s&&(f+=v=s-(g-a.width),g+=v):g<s&&(f+=v=s-g,g+=v),o.fishBoneDistanceFromHeader=f,a.fishBoneDistanceFromHeader=g,v>0)d+=Math.max(o.fullWidth+v,a.fullWidth);else if(u>p){var b=u-p;d+=Math.max(o.fullWidth,a.fullWidth+b+this.branchesSpace)}else d+=Math.max(o.fullWidth,a.fullWidth+this.branchesSpace)}else{var y=this.horizontalPointPosition(o),x=c(s,this.getShortLeg(this.getLongLeg(o)),y).left1;o.fishBoneDistanceFromHeader=x,d+=o.fullWidth}return s+=d}},{key:"computedTopOrLeftValueLevel2",value:function(e){var t=this,n=(0,s.getPartChildren)(e),i=n.leftChildren,o=n.rightChildren,a=this.getMargin(e).marginY,r=e.left+this.horizontalPointPosition(e)-this.getShortLeg(this.getLongLeg(e)),l=e.left+this.horizontalPointPosition(e)+this.getShortLeg(this.getLongLeg(e)),c=e.top-this.branchesSpace;this.checkIsTop(e)&&(c=e.top+e.height+this.branchesSpace);var d=e.fullHeight-e.height-this.branchesSpace;o.length>0&&o.forEach(function(n){var i,o=0,s=n.fullHeight+n.topSpace+n.bottomSpace;t.checkIsTop(e)?(n.top=c+n.topicTopHalfHeight+n.topSpace,c+=s+a,o=t.getShortLeg(d-(n.topicTopHalfHeight+t.verticalPointPosition(n)+n.topSpace))):(n.top=c-(n.fullHeight-n.topicTopHalfHeight)-n.bottomSpace,c-=s+a,o=t.getShortLeg(d-(n.getBottomHalfHeight(t.verticalPointPosition(n))+n.bottomSpace))),i=t.getShortLeg(d)+t.branchesSpace+n.topicLeftHalfWidth+n.leftSpace,n.left=r+i,d-=s+a,n.fishBoneStartx=n.left,n.fishBoneEndx=n.left-(i-o)}),i.length>0&&i.forEach(function(n){var i=0,o=n.fullHeight+n.topSpace+n.bottomSpace;t.checkIsTop(e)?(n.top=c+n.topicTopHalfHeight+n.topSpace,c+=o+a,i=t.getShortLeg(d-(n.topicTopHalfHeight+t.verticalPointPosition(n)+n.topSpace))):(n.top=c-(n.fullHeight-n.topicTopHalfHeight)-n.bottomSpace,c-=o+a,i=t.getShortLeg(d-(n.getBottomHalfHeight(t.verticalPointPosition(n))+n.bottomSpace)));var r=t.getShortLeg(d)+t.branchesSpace+n.getRightHalfWidth()+n.rightSpace;n.left=l-r-n.width,d-=o+a,n.fishBoneStartx=n.left+n.width,n.fishBoneEndx=n.fishBoneStartx+(r-i)})}},{key:"getNewGroup",value:function(){var e=[],t=0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(n,i){i%2==0?e[t]=[n]:(e[t].push(n),t++)}),e}},{key:"computedSummaryTopAndLeft",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).computedSummaryTopAndLeft(e,t)}},{key:"verticalPointPosition",value:function(e){return 0===e.layerIndex?e.height/2:1===e.layoutIndex?this.checkIsTop(e)?e.height:0:this.mindMap.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).verticalPointPosition(e)}},{key:"horizontalPointPosition",value:function(e){return 1===e.layoutIndex?e.width/2:this.mindMap.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).horizontalPointPosition(e)}},{key:"renderLine",value:function(e,t,n){var i=this;if(e.layoutIndex>1)this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).renderLine(e,t);else{if(e._fishBoneLineGroup&&e.children.length>0){var o={x:"left"===e.part?e.left:e.left+e.width,y:e.top+this.verticalPointPosition(e),h:e.height,w:e.width},a={x:o.x+this.getInversesNumber(e.fullWidth-e.width,e),y:o.y,h:e.height,w:e.width},r=this.renderFishtail(e,a.x,a.y),s=r.d,c=r.w,d="left"===e.part?a.x+c:a.x-c,u=this.renderFishBone(o.x,o.y,d,a.y);e._fishBoneLineGroup.clear();var p=e._fishBoneLineGroup.path();p.plot(this.transformPath(u));var h=Math.max(e.getStyle("lineWidth"),2),m=e.children[e.children.length-1].style.getLineColor(!0);if(p.stroke({color:m,width:h}),s){s=e.shapeInstance.createPath(s),e.shapeFishTailNodeFill=e.lineDraw.group(),e.shapeFishTailNodeFill.add(s);var f=s.clone();e.shapeFishTailNode=e.lineDraw.group(),e.shapeFishTailNode.add(f),"left"===e.part&&(s.transform({scaleX:-1}),f.transform({scaleX:-1})),e.style.shapeFill(s),e.style.shape(f)}}this.beforeRenderLine(e,t,n,function(n){n.forEach(function(n){var o=n.item,a=n.index,r="";if(0===e.layoutIndex){var s={x:o.fishBoneStartx,y:e.top+i.verticalPointPosition(e)},l={x:o.fishBoneEndx,y:i.checkIsTop(o)?o.top+o.height:o.top};r=i.renderLineStraight(s.x,s.y,l.x,l.y)}else if(1===e.layoutIndex){var c={x:o.fishBoneStartx,y:o.top+i.verticalPointPosition(o)},d={x:o.fishBoneEndx,y:o.top+i.verticalPointPosition(o)};r=i.renderLineStraight(c.x,c.y,d.x,d.y),i.isOldUnderLine(o)&&(r=i.addOldLine(r,d,o))}i.setLineStyle(t[a],r,o)})})}}},{key:"getLineStart",value:function(){return{}}},{key:"drawPath",value:function(e,t,n){if(e.layoutIndex>1)return this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).drawPath(e,t)}},{key:"renderExpandBtnRect",value:function(e,t,n,i,o){1!==o.layoutIndex?this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).renderExpandBtnRect(e,t,n,i,o):"down"===o.dir?e.size(n,t).x(0).y(-t):e.size(n,t).x(0).y(i)}},{key:"renderExpandBtn",value:function(e,t){if(1===e.layoutIndex){var n=e.width,i=e.height,o=t.bbox(),a=o.width,r=o.height,s=t.transform(),c=s.translateX,d=s.translateY;return t.translate(n/2-a/2-c),void("down"===e.dir?t.translate(0,2-r-d):t.translate(0,i-2-d))}this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).renderExpandBtn(e,t)}},{key:"renderFishBone",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=["M"];if(a.push(e),a.push(t),o>0){var r=e+o*(e>n?-1:1);a.push("L"),a.push(r),a.push(t)}return a.push("L"),a.push(n),a.push(i),a}},{key:"renderFishtail",value:function(e,t,n){var i=null,o=0;if(e.getShape()===l.CONSTANTS.SHAPE.FISH){var a=e.height,r=a/2,s=(o=.6*a)-o/4;t-="left"===e.part?0:o,(i=[]).push("M"),i.push(t),i.push(n),i.push("Q"),i.push(t+o/2),i.push(n-r),i.push(t+o),i.push(n-r),i.push("L"),i.push(t+s),i.push(n),i.push("L"),i.push(t+o),i.push(n+r),i.push("Q"),i.push(t+o/2),i.push(n+r),i.push(t),i.push(n),i.push("z")}return{d:i?i.join(" "):i,w:o}}},{key:"getMarginY",value:function(e){return 1===e?30:8}}]),o}();i.FishBone=c},37422:function(e,t,n){n(69268),n(84889),Object.defineProperty(t,"__esModule",{value:!0});var i=n(99992);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var o=n(11029);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var a=n(69140);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var r=n(49795);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))});var s=n(61272);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var l=n(63397);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});var c=n(1540);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))});var d=n(54048);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))});var u=n(35140);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))})},54048:function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.Logic=void 0;var a=o(1540),r=function(e){t(o,a.Mindmap);var i=n(o);function o(e){return T(this,o),i.call(this,e)}return M(o,[{key:"slant",value:function(e,t,n){var i=12,o=12;return 0===e.layerIndex&&(i=12,o=16,t.x>n.x?t.x=e.left:t.x=e.left+e.width),this.renderLineSlant(t.x,t.y,n.x,n.y,i,o)}},{key:"roundBroken",value:function(e,t,n){var i=12,o=6;return 0===e.layerIndex&&(i=24,o=8,t.x>n.x?t.x=e.left:t.x=e.left+e.width),this.renderLineRoundBroken(t.x,t.y,n.x,n.y,i,o)}},{key:"broken",value:function(e,t,n){var i=12;return 0===e.layerIndex&&(i=24,t.x>n.x?t.x=e.left:t.x=e.left+e.width),this.renderLineRoundBroken(t.x,t.y,n.x,n.y,i,0)}},{key:"straight",value:function(e,t,n){var i=20;return e.layerIndex>0&&(i=12),this.renderLineStraight(t.x,t.y,n.x,n.y,i)}},{key:"curve",value:function(e,t,n){var i=0;return e.layerIndex>0&&(i=12),this.quadraticCurvePath(t.x,t.y,n.x,n.y,i)}},{key:"bight",value:function(e,t,n){0===e.layerIndex&&(t.x>n.x?t.x=e.left:t.x=e.left+e.width);var i=0;return e.layerIndex>0&&(i=8),this.cubicBezierPath(t.x,t.y,n.x,n.y,i)}}]),o}();i.Logic=r},1540:function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.Mindmap=void 0,o(27531),o(24932),o(38887),o(69268),o(84889),o(19268),o(14237);var a=o(85685),s=o(15240),l=o(80214),c=function(e){t(o,a.Base);var i=n(o);function o(e){var t;return T(this,o),(t=i.call(this,e)).layout=l.CONSTANTS.LAYOUT.MINDMAP,t}return M(o,[{key:"computedBaseValueBefore",value:function(e,t,n,i,o,a,r){i=n?i:l.CONSTANTS.LAYOUT.LOGIC;var s=this.createTopic(e,t,n,i,o,a,r);s.isRoot?this.setNodeCenter(s):s.getData("free")&&s.getData("pos")?this.setFreeTopic(s):s.getData("summary")?this.setSummary(s,t):s.part=this.getSubTopicPart(t,e.id,a,r)}},{key:"setSummary",value:function(e){var t,n=r((0,s.getRange)(e.getData("range")),1)[0];e.part=(null===(t=e.parent)||void 0===t||null===(t=t.children[n])||void 0===t?void 0:t.part)||"right"}},{key:"computedBaseValueAfter",value:function(e,t,n,i,o){var a,r,l,c,d=e._topic,u=this.getMargin(e._topic),p=u.marginX,h=u.marginY,m=0,f=0,g=0,v=0,b=0,y=0,x=null,w=null;((null===(a=e.summaries)||void 0===a?void 0:a.length)>0||(null===(r=e.boundaries)||void 0===r?void 0:r.length)>0)&&this.updateArea(d);var k=(0,s.getPartChildren)(d),_=k.rightChildren,C=k.leftChildren;if(l=_.reduce(function(e,t){return t.topicLeftHalfWidth>e&&(x=t.id,e=t.topicLeftHalfWidth),e},0),c=C.reduce(function(e,t){return t.getRightHalfWidth()>e&&(w=t.id,e=t.getRightHalfWidth()),e},0),d.children.forEach(function(e){var t=e.fullHeight+e.topSpace+e.bottomSpace,n=e.fullWidth+e.rightSpace+e.leftSpace;"right"===e.part?(v+=t,n+=x!=e.id?l:0,y=Math.max(y,n),f++):(g+=t,n+=w!=e.id?c:0,b=Math.max(b,n),m++)}),f>0&&(v+=(f-1)*h+this.twoSubAddSpace(_,o),y+=p),m>0&&(g+=(m-1)*h+this.twoSubAddSpace(C,o),b+=p),this.setTopicHeight(d,v,g),d.fullWidth=b+d.width+y,"right"===d.part)d.topicLeftHalfWidth=0;else{var T=b;d.topicLeftHalfWidth=Math.max(0,T)}d.rightTopicChildrenLeftStart=d.width+l,d.leftTopicChildrenLeftStart=-c,this.setSpaceForBorder(d)}},{key:"twoSubAddSpace",value:function(e,t){if(0!=t||2!=e.length)return 0;var n=e[0],i=e[1];return Math.max(56-n.getBottomHalfHeight(this.verticalPointPosition(n))-i.topicTopHalfHeight,0)}},{key:"setTopicHeight",value:function(e,t,n){var i=this,o=e.height,a=this.verticalPointPosition(e),r=(0,s.getPartChildren)(e),l=r.leftChildren,c=function(e,t){if(0===e.length)return{topHalfHeight:0,bottomHalfHeight:0,childrenTopStart:0};var n=(0,s.getFirstAndLastChild)(e),r=n.firstChild,l=n.lastChild,c=r.topicTopHalfHeight+i.verticalPointPosition(r)+r.topSpace,d=l.getBottomHalfHeight(i.verticalPointPosition(l))+l.bottomSpace,u=(t-c-d)/2;return{areaHeightHalf:u,topHalfHeight:Math.max(u+c,a,0),bottomHalfHeight:Math.max(u+d,o-a,0),childrenTopStart:u+c}},d=c(r.rightChildren,t),u=d.areaHeightHalf,p=d.topHalfHeight,h=d.bottomHalfHeight,m=d.childrenTopStart,f=c(l,n),g=f.areaHeightHalf,v=f.topHalfHeight,b=f.bottomHalfHeight,y=f.childrenTopStart;return e.leftTopicChildrenTopStart=y,e.rightTopicChildrenTopStart=m,e.topicTopHalfHeight=Math.max(Math.max(p,v)-this.verticalPointPosition(e),0),e.fullHeight=Math.max(p,v)+Math.max(h,b),{rightAreaHeightHalf:u,leftAreaHeightHalf:g}}},{key:"computedTopOrLeftValue",value:function(e,t){var n=this,i=this.getMargin(e),o=i.marginX,a=i.marginY,r=e.top+this.verticalPointPosition(e),l=r-e.leftTopicChildrenTopStart,c=r-e.rightTopicChildrenTopStart,d=(0,s.getPartChildren)(e),u=d.leftChildren,p=d.rightChildren;if(p.length>0){var h=a+this.twoSubAddSpace(p,t);p.forEach(function(t){if(n.renderer.mindTree.enableFreeDrag&&1===t.layerIndex&&n.mindMap.opt.freeDragStructure.includes(n.renderer.mindTree.structure)&&t.getData("pos")){var i=n.setFreeTopic(t),a=i.left,r=i.top;t.top=r,t.left=a}else t.top=c+t.topicTopHalfHeight+t.topSpace,t.left=e.left+e.rightTopicChildrenLeftStart+o+t.leftSpace;var s=n.checkTopicTop(e,t,p);c+=t.fullHeight+t.topSpace+t.bottomSpace+h+s})}if(u.length>0){var m=a+this.twoSubAddSpace(u,t);u.forEach(function(t){if(n.renderer.mindTree.enableFreeDrag&&1===t.layerIndex&&n.mindMap.opt.freeDragStructure.includes(n.renderer.mindTree.structure)&&t.getData("pos")){n.setFreeTopic(t);var i=n.setFreeTopic(t),a=i.left,r=i.top;t.top=r,t.left=a}else t.top=l+t.topicTopHalfHeight+t.topSpace,t.left=e.left+e.leftTopicChildrenLeftStart-t.width-o-t.rightSpace;var s=n.checkTopicTop(e,t,u);l+=t.fullHeight+t.topSpace+t.bottomSpace+m+s})}}},{key:"checkTopicTop",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e||!e.isRoot)return 0;var i=this.verticalPointPosition(e),o=this.verticalPointPosition(t),a=i+e.top-(o+t.top),r=n.length%2!=1?24:48;return Math.abs(a)<r?(this.updateSubsets(n,a),a):0}},{key:"computedSummaryTopAndLeft",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];var i=e.children||[],o=(this.mindMap.opt||0).defaultSummaryMargin;n.forEach(function(e){var n=r((0,s.getRange)(e.getData("range")),2),a=n[0],l=n[1],c=i[a],d=i[l];if(c&&d){var u=(0,s.getTopicsInTopicList)(a,l,i),p="right"===e.part?u.reduce(function(e,t){return Math.max(e,t.getRight()+o)},-1/0):u.reduce(function(e,t){return Math.min(e,t.getLeft())},1/0)-o-e.width,m=u.reduce(function(e,t){return Math.min(t.getTop(),e)},1/0),f=u.reduce(function(e,n){return Math.max(n.getBottom(t.verticalPointPosition(n)),e)},-1/0)-m;f!=e.chunkFullHeight&&(e.chunkFullHeight=f);var g=m+(e.chunkFullHeight-e.height)/2,v=g-e.top,b=p-e.left;e.left=p,e.top=g;var y=[].concat(h(e.children),h(e.summaries));t.updateSubsets(y,v,b),(0,s.walk)(e,null,function(e){"fishbone"===e.layout&&e.layoutIndex<=1&&t.renderer.getTopicLayout(e.layout).computedTopOrLeftValue(e)})}})}},{key:"renderExpandBtn",value:function(e,t){var n=e.width,i=e.isRoot,o=t.bbox(),a=o.width,r=o.height,s=t.transform(),l=s.translateX,c=s.translateY,d=this.mindMap.getThemeConfig().w2-a/2||3;i||("right"===e.part?t.translate(n+d-l,this.verticalPointPosition(e)-r/2-c):t.translate(-a-d-l,this.verticalPointPosition(e)-r/2-c))}},{key:"renderGuideBtn",value:function(e,t){var n=e.width,i=e.isRoot,o=e.height,a=t.bbox(),r=a.width,s=a.height,l=0,c=0;return i||("right"===e.part?(l=n+10,c=o/2-s/2):(l=-r-10,c=o/2-s/2),t.translate(l,c)),{x:l,y:c}}},{key:"verticalPointPosition",value:function(e){return e.isRoot?e.height/2:this.isOldUnderLine(e)||e.isUnderLine()?e.height:e.height/2}},{key:"horizontalPointPosition",value:function(e){return"right"===e.part?0:e.width}},{key:"renderExpandBtnRect",value:function(e,t,n,i,o){e.attr("class","expand-btn-placeholder-rect"),"left"===o.part?e.size(t,i).x(-t).y(0):e.size(t,i).x(n).y(0)}},{key:"renderLine",value:function(e,t,n){var i=this;this.beforeRenderLine(e,t,n,function(n){n.forEach(function(n){var o=n.item,a=n.index,r={x:"right"===o.part?o.left:o.left+o.width,y:o.top+i.verticalPointPosition(o),h:o.height,w:o.width},s=i.drawPath(e,r,o);i.isOldUnderLine(o)&&(s=i.addOldLine(s,r,o)),i.setLineStyle(t[a],s,o)})})}},{key:"getLineStart",value:function(e){return 0===e.layerIndex?{x:e.left+e.width/2,y:e.top+e.height/2,h:e.height,w:e.width}:{x:"right"===e.part?e.left+e.width:e.left,y:e.top+this.verticalPointPosition(e),h:e.height,w:e.width}}},{key:"drawPath",value:function(e,t,n){var i=e.getStyle("lineType"),o=this.getLineStart(e),a=this.mindMap.getThemeConfig("logic")||"logic"===e.layout;if(e.layerIndex>0||a){var r=this.mindMap.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.LOGIC);return r[i]?r[i](e,o,t):""}return this[i]?this[i](e,o,t,n):""}},{key:"slant",value:function(e,t,n){var i=e.width/2,o=Math.max(i-64,0);return this.renderLineSlant(t.x,t.y,n.x,n.y,o,12)}},{key:"roundBroken",value:function(e,t,n){var i=e.width/2,o=Math.max(i-64,0);return this.renderLineRoundBroken(t.x,t.y,n.x,n.y,o,8)}},{key:"broken",value:function(e,t,n){var i=e.width/2,o=Math.max(i-64,0);return this.renderLineRoundBroken(t.x,t.y,n.x,n.y,o,0)}},{key:"straight",value:function(e,t,n){return this.renderLineStraight(t.x,t.y,n.x,n.y)}},{key:"curve",value:function(e,t,n,i){var o,a=(null==i||null===(o=i.style)||void 0===o?void 0:o.getLineWidth())||0,r=this.getNewPoint(e,t,n),s=r.start,l=r.end;return this.quadraticCurvePath(s.x,s.y,l.x,l.y,0,a)}},{key:"bight",value:function(e,t,n){return 0===e.layerIndex&&(t.x>n.x?t.x=e.left:t.x=e.left+e.width),this.cubicBezierPath(t.x,t.y,n.x,n.y)}}]),o}();i.Mindmap=c},35140:function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.MobiTree=void 0;var a=o(61272),r=o(80214),s=function(e){t(o,a.Tree);var i=n(o);function o(e){return T(this,o),i.call(this,e)}return M(o,[{key:"computedBaseValueBefore",value:function(e,t,n,i,o,a,s){var l=this.createTopic(e,t,n,r.CONSTANTS.LAYOUT.MOBI_TREE,o,a,s);l.isRoot?this.setNodeCenter(l):l.getData("free")&&l.getData("pos")?this.setFreeTopic(l):l.getData("summary")?this.setSummary(l,t):(l.part=this.getSubTopicPart(t,e.id,a,s),l.dir="down"),l.dir="down"}},{key:"horizontalPointPosition",value:function(e){return"mind_tree_left_mobi"===this.renderer.mindTree.structure?e.width-20:20}}]),o}();i.MobiTree=s},99992:function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.Org=void 0,o(24932),o(69268),o(84889),o(19268),o(14237);var a=o(85685),s=o(15240),l=o(80214),c=function(e){t(o,a.Base);var i=n(o);function o(e){var t;return T(this,o),(t=i.call(this,e)).layout=l.CONSTANTS.LAYOUT.MINDMAP,t}return M(o,[{key:"computedBaseValueBefore",value:function(e,t,n,i,o,a,r){var s=this.createTopic(e,t,n,l.CONSTANTS.LAYOUT.ORG,o,a,r);if(s.isRoot)this.setNodeCenter(s);else if(s.getData("free")&&s.getData("pos"))this.setFreeTopic(s);else if(s.getData("summary"))s.part=t._topic.part||"right",s.dir="down";else{var c=this.getMargin(s.parent).marginY;s.top=t._topic.top+t._topic.height+c,s.left=t._topic.left,s.part=this.getSubTopicPart(t,e.id,a,r),s.dir="down"}}},{key:"computedBaseValueAfter",value:function(e){var t,n,i=0,o=e._topic,a=this.getMargin(o),r=a.marginX,s=a.marginY,l=0,c=0,d=0;o.children.forEach(function(e){c+=e.fullWidth,l=Math.max(l,e.fullHeight),i++,d=Math.max(d,e.topicTopHalfHeight)}),((null===(t=e.summaries)||void 0===t?void 0:t.length)>0||(null===(n=e.boundaries)||void 0===n?void 0:n.length)>0)&&(this.updateArea(o,"org"),o.children.forEach(function(e){c+=e.rightSpace+e.leftSpace,l=Math.max(l,e.fullHeight+e.bottomSpace+e.topSpace)})),i>0&&(c+=(i-1)*r,l+=s),this.setTopicWidth(o,c,c),o.fullHeight=l+o.height+0,o.topicTopHalfHeight=0,o.rightTopicChildrenTopStart=o.height+d,o.leftTopicChildrenTopStart=o.height+d}},{key:"setEmptyChildrenTopicHeightAndWidth",value:function(e){e.fullHeight=e.height+e.getCollapsedSize(),e.fullWidth=e.width,e.topicTopHalfHeight=0,e.topicLeftHalfWidth=0}},{key:"setTopicWidth",value:function(e,t){var n=this,i=e.width,o=this.horizontalPointPosition(e),a=function(e,t){if(0===e.length)return{leftHalfWidth:0,rightHalfWidth:0,childrenLeftStart:0};var a=(0,s.getFirstAndLastChild)(e),r=a.firstChild,l=a.lastChild,c=r.topicLeftHalfWidth+n.horizontalPointPosition(r)+r.leftSpace,d=l.getRightHalfWidth(n.horizontalPointPosition(l))+l.rightSpace,u=(t-c-d)/2;return{leftHalfWidth:Math.max(u+c,o,0),rightHalfWidth:Math.max(u+d,i-o,0),childrenLeftStart:u+c}}(e.children,t),r=a.leftHalfWidth,l=a.rightHalfWidth,c=a.childrenLeftStart;e.leftTopicChildrenLeftStart=c,e.rightTopicChildrenLeftStart=c,e.topicLeftHalfWidth=Math.max(r-this.horizontalPointPosition(e),0),e.fullWidth=r+l}},{key:"computedTopOrLeftValue",value:function(e){var t=this.getMargin(e),n=t.marginX,i=t.marginY,o=e.left+e.width/2-e.rightTopicChildrenLeftStart;e.children.forEach(function(t){t.left=o+t.topicLeftHalfWidth+t.leftSpace,t.top=e.top+e.rightTopicChildrenTopStart+i+t.topSpace,o+=t.fullWidth+t.leftSpace+t.rightSpace+n})}},{key:"computedSummaryTopAndLeft",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];var i=e.children||[],o=(this.mindMap.opt||0).defaultSummaryMargin;n.forEach(function(e){var n=r((0,s.getRange)(e.getData("range")),2),a=n[0],l=n[1],c=i[a],d=i[l];if(c&&d){var u=(0,s.getTopicsInTopicList)(a,l,i),p=u.reduce(function(e,t){return Math.min(t.getLeft(),e)},1/0),m=u.reduce(function(e,n){return Math.max(n.getRight(t.horizontalPointPosition(n)),e)},-1/0)-p;m!=e.chunkFullWidth&&(e.chunkFullWidth=m);var f="down"===e.dir?t.calculateTopForDown(u,o):t.calculateTopForUp(u,o,e.height),g=c.left-c.topicLeftHalfWidth+(e.chunkFullWidth-e.width)/2,v=f-e.top,b=g-e.left;e.left=g,e.top=f,t.updateSubsets([].concat(h(e.children),h(e.summaries)),v,b)}})}},{key:"calculateTopForDown",value:function(e,t){return e.reduce(function(e,n){return Math.max(e,n.getBottom()+t)},-1/0)}},{key:"calculateTopForUp",value:function(e,t,n){return e.reduce(function(e,t){return Math.min(e,t.getTop())},1/0)-t-n}},{key:"renderExpandBtn",value:function(e,t){var n=e.width,i=e.height,o=e.isRoot,a=t.bbox().width,r=t.transform(),s=r.translateX,l=r.translateY;if(!o){var c=n/2-a/2-s,d=i-2-l;t.translate(c,d)}}},{key:"verticalPointPosition",value:function(e){return e.getShape()===l.CONSTANTS.SHAPE.UNDERLINE?e.height:e.height/2}},{key:"horizontalPointPosition",value:function(e){return e.width/2}},{key:"renderExpandBtnRect",value:function(e,t,n,i){e.size(n,t).x(0).y(i)}},{key:"renderLine",value:function(e,t,n){var i=this;this.beforeRenderLine(e,t,n,function(n){n.forEach(function(n){var o=n.item,a=n.index,r={x:o.left+o.width/2,y:o.top,h:o.height,w:o.width},s=i.drawPath(e,r);i.setLineStyle(t[a],s,o)})})}},{key:"getLineStart",value:function(e){return{x:e.left+e.width/2,y:e.top+e.height,h:e.height,w:e.width}}},{key:"drawPath",value:function(e,t){var n=e.getStyle("lineType"),i=this.getLineStart(e);return this[n]?this[n](e,i,t):""}},{key:"slant",value:function(e,t,n){return this.renderLineSlant(t.x,t.y,n.x,n.y,12,24,!0)}},{key:"roundBroken",value:function(e,t,n){var i=this.mindMap.themeConfig,o=i.h1,a=i.h2,r=8,s=o;return 0===e.layerIndex?s=o||16:(s=a||12,r=4),this.renderLineRoundBroken(t.x,t.y,n.x,n.y,s,r,!0).join(" ")}},{key:"broken",value:function(e,t,n){var i,o=this.getMargin(e).marginY,a=this.mindMap.themeConfig,r=a.h1,s=a.h2;return i=0===e.layerIndex?r||o/2:s||o/2,this.renderLineRoundBroken(t.x,t.y,n.x,n.y,i,0,!0).join(" ")}},{key:"straight",value:function(e,t,n){return this.broken(e,t,n)}},{key:"curve",value:function(e,t,n){return this.broken(e,t,n)}},{key:"bight",value:function(e,t,n){return this.broken(e,t,n)}}]),o}();i.Org=c},49795:function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.TimeLine=void 0,o(27531),o(61894),o(24932),o(96909),o(38887),o(69268),o(84889),o(19268),o(14237);var a=o(85685),s=o(15240),l=o(80214),c=function(e){t(o,a.Base);var i=n(o);function o(e){return T(this,o),i.call(this,e)}return M(o,[{key:"computedBaseValueBefore",value:function(e,t,n,i,o,a,r){var s=this.createTopic(e,t,n,l.CONSTANTS.LAYOUT.TIMELINE,o,a,r);s.isRoot?this.setNodeCenter(s):s.getData("free")&&s.getData("pos")?this.setFreeTopic(s):s.getData("summary")?this.setSummary(s,t):(t._topic.part?s.part=t._topic.part:s.part=this.getSubTopicPart(t,e.id,a),1===s.layoutIndex&&(s.dir=this.getSubTopicDir(t,a)))}},{key:"setSummary",value:function(e){var t,n=r((0,s.getRange)(e.getData("range")),1)[0];e.part=(null===(t=e.parent)||void 0===t||null===(t=t.children[n])||void 0===t?void 0:t.part)||"right"}},{key:"computedSummaryTopAndLeft",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).computedSummaryTopAndLeft(e,t)}},{key:"computedBaseValueAfter",value:function(e,t,n,i,o,a){var r=this,s=e._topic,c=this.getMargin(s),d=c.marginX,u=c.startSpace;if(0===s.layoutIndex){var p=0,h=s.verticalPointPosition(),m=s.height-s.verticalPointPosition();if("mind_timeline_v"===s.layout);else{var f=s.children.reduce(function(e,t){return p++,e+t.fullWidth},0);s.children.forEach(function(e){r.checkTopicTop(e)?(h=Math.max(h,e.topicTopHalfHeight+e.verticalPointPosition()),m=Math.max(m,e.height-e.verticalPointPosition())):(m=Math.max(m,e.fullHeight-e.verticalPointPosition()),h=Math.max(h,e.verticalPointPosition()))}),f+=p*d,s.fullWidth=f+s.width,s.fullHeight=h+m,s.topicTopHalfHeight=h-s.verticalPointPosition(),s.getLeftChildren().length>0?s.topicLeftHalfWidth=s.fullWidth-s.width:s.topicLeftHalfWidth=0}}else 1===s.layoutIndex?"mind_timeline_v"===s.layout?this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).computedBaseValueAfter(e,t,n,i,o,a):(this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.TREE).computedBaseValueAfter(e,t,n,i,o,a),this.checkTopicTop(s)?s.leftTopicChildrenTopStart=s.rightTopicChildrenTopStart=-(s.fullHeight+u):s.leftTopicChildrenTopStart=s.rightTopicChildrenTopStart=0):this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).computedBaseValueAfter(e,t,n,i,o,a)}},{key:"checkTopicTop",value:function(e){return"up"===e.dir}},{key:"computedTopOrLeftValue",value:function(e,t){0===e.layoutIndex?e.layout.includes("mind_timeline_v")||this.computedHTopOrLeftValue(e,t):1===e.layoutIndex?this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.TREE).computedTopOrLeftValue(e,t):this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).computedTopOrLeftValue(e,t)}},{key:"computedHTopOrLeftValue",value:function(e){var t=this,n=this.getMargin(e).marginX,i=e.top+e.verticalPointPosition(),o=e.left+e.width+n,a=(0,s.getPartChildren)(e),r=a.leftChildren;a.rightChildren.forEach(function(e){e.top=i-t.verticalPointPosition(e),e.left=o,o+=e.fullWidth+n});var l=e.left-n;r.forEach(function(e){e.top=i-t.verticalPointPosition(e),e.left=l-e.width,l=e.left-e.topicLeftHalfWidth-n})}},{key:"computedVTopOrLeftValue",value:function(){}},{key:"setEmptyChildrenTopicHeightAndWidth",value:function(e){if(e.layoutIndex>1)this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).setEmptyChildrenTopicHeightAndWidth(e);else{var t=e.height;e.fullHeight=t+e.getCollapsedSize(),e.fullWidth=e.width,e.topicLeftHalfWidth=0,e.topicTopHalfHeight=0}}},{key:"renderExpandBtn",value:function(e,t){if(1===e.layoutIndex){var n=e.width,i=e.height,o=t.bbox(),a=o.width,r=o.height,s=t.transform(),c=s.translateX,d=s.translateY;return t.translate(n/2-a/2-c),void("up"===e.dir?t.translate(0,2-r-d):t.translate(0,i-2-d))}this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).renderExpandBtn(e,t)}},{key:"verticalPointPosition",value:function(e){return e.isRoot?e.height/2:this.isOldUnderLine(e)||e.isUnderLine()?e.height:e.height/2}},{key:"horizontalPointPosition",value:function(e){return 1===e.layoutIndex?e.width/2:"right"===e.part?0:e.width}},{key:"isOldUnderLine",value:function(e){if(!e.getStyle("shape")&&e.getStyle("underLine"))return!(e.layoutIndex<2)}},{key:"renderExpandBtnRect",value:function(e,t,n,i,o){1!==o.layoutIndex?this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).renderExpandBtnRect(e,t,n,i,o):"up"===o.dir?e.size(n,t).x(0).y(-t):e.size(n,t).x(0).y(i)}},{key:"renderLine",value:function(e,t,n){var i=this;e.layoutIndex>1?this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).renderLine(e,t):this.beforeRenderLine(e,t,n,function(n){var o,a=v(n);try{for(a.s();!(o=a.n()).done;){var r=o.value,s=r.item,l=r.index,c={};0===e.layoutIndex?c={x:"right"===s.part?s.left:s.left+s.width,y:0,h:s.height,w:s.width}:1===e.layoutIndex&&(c={x:"right"===s.part?s.left:s.left+s.width,y:s.top+s.verticalPointPosition(),h:s.height,w:s.width});var d=i.drawPath(e,c,l);if(i.isOldUnderLine(s)&&(d.push("L"),"right"===s.part?(d.push(s.left+s.width),d.push(c.y)):(d.push(s.left),d.push(c.y)),s.parent.free)){var u,p=["M"];"right"===s.part&&(p.push(s.parent.left),p.push(s.parent.top+i.verticalPointPosition(s.parent)),p.push("L"),p.push(s.parent.left+s.parent.width),p.push(s.parent.top+i.verticalPointPosition(s.parent))),(u=d).unshift.apply(u,p)}i.setLineStyle(t[l],d,s)}}catch(h){a.e(h)}finally{a.f()}})}},{key:"getLineStart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={};if(0===e.layoutIndex){var i="left"===e.part?e.left:e.left+e.width,o=e.children[t-1];o&&(i=o.left+o.width),n={x:i,y:e.top+e.verticalPointPosition(),h:e.height,w:e.width}}else 1===e.layoutIndex&&(n={x:e.left+e.width/2,y:"up"===e.dir?e.top:e.top+e.height,h:e.height,w:e.width});return n}},{key:"drawPath",value:function(e,t,n){var i=e.getStyle("lineType");if(e.layoutIndex>1)return this.renderer.getTopicLayout(l.CONSTANTS.LAYOUT.MINDMAP).drawPath(e,t,n);var o=this.getLineStart(e,n);return 0===e.layoutIndex&&(t.y=o.y),this[i]?this[i](e,o,t):[]}},{key:"slant",value:function(e,t,n){return this.roundBroken(e,t,n)}},{key:"roundBroken",value:function(e,t,n){return this.renderLineRoundBroken(t.x,t.y,n.x,n.y,0,5)}},{key:"broken",value:function(e,t,n){return this.renderLineRoundBroken(t.x,t.y,n.x,n.y,0,0)}},{key:"straight",value:function(e,t,n){return this.roundBroken(e,t,n)}},{key:"curve",value:function(e,t,n){return this.roundBroken(e,t,n)}},{key:"bight",value:function(e,t,n){return this.roundBroken(e,t,n)}}]),o}();i.TimeLine=c},61272:function(e,i,o){o(58500);var a=o(9712);Object.defineProperty(i,"__esModule",{value:!0}),i.Tree=void 0;var s=a(o(66603));o(61894),o(24932),o(96909),o(69268),o(84889),o(19268),o(14237);var l=o(85685),c=o(15240),d=o(80214);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var p=function(e){t(o,l.Base);var i=n(o);function o(e){return T(this,o),i.call(this,e)}return M(o,[{key:"computedBaseValueBefore",value:function(e,t,n,i,o,a,r){var s=this.createTopic(e,t,n,d.CONSTANTS.LAYOUT.TREE,o,a,r);s.isRoot?this.setNodeCenter(s):s.getData("free")&&s.getData("pos")?this.setFreeTopic(s):s.getData("summary")?this.setSummary(s,t):(s.part=this.getSubTopicPart(t,e.id,a,r),s.dir="down"),s.dir="down"}},{key:"setSummary",value:function(e){var t,n=r((0,c.getRange)(e.getData("range")),1)[0];e.part=(null===(t=e.parent)||void 0===t||null===(t=t.children[n])||void 0===t?void 0:t.part)||"right"}},{key:"computedBaseValueAfter",value:function(e,t,n,i,o){var a,r,l,d,p=0,h=0,m=e._topic,f=this.getMargin(m),g=f.marginY,v=f.marginX,b=[],y=[],x=0,w=0,k=0,_=0,C=null,T=null;((null===(a=e.summaries)||void 0===a?void 0:a.length)>0||(null===(r=e.boundaries)||void 0===r?void 0:r.length)>0)&&this.updateArea(m);var S=(0,c.getPartChildren)(m),M=S.rightChildren,D=S.leftChildren;l=M.reduce(function(e,t){return t.topicLeftHalfWidth>e&&(C=t.id,e=t.topicLeftHalfWidth),e},0),d=D.reduce(function(e,t){return t.getRightHalfWidth()>e&&(T=t.id,e=t.getRightHalfWidth()),e},0),m.children.forEach(function(e,t){var n=e.fullWidth+e.rightSpace+e.leftSpace;"right"===e.part?(n+=C!=e.id?l:0,_=Math.max(_,n),h++):(n+=T!=e.id?d:0,k=Math.max(k,n),p++);var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},{part:e.part,topSpace:e.topSpace,bottomSpace:e.bottomSpace,top:0,fullHeight:e.fullHeight,topicTopHalfHeight:e.topicTopHalfHeight,height:e.height}),o=i.part,a="right"===o?y[0]:b[0],r="right"===o?b[0]:y[0],c=i.topSpace+i.bottomSpace;if(0===t)"left"===o?x+=i.fullHeight+c:w+=i.fullHeight+c,i.top=i.topicTopHalfHeight+i.topSpace;else{var m=a?a.top-a.topicTopHalfHeight+a.bottomSpace+a.fullHeight:-1/0,f=a?m+i.topicTopHalfHeight+i.topSpace:-1/0,v=r?r.top+r.height:-1/0;if(f>v){var S=f-i.topicTopHalfHeight+i.fullHeight+i.bottomSpace+g;"left"===o?x=S:w=S,i.top=f+g}else{var M=v-i.topicTopHalfHeight+i.fullHeight+i.bottomSpace+g;"left"===o?x=M:w=M,i.top=v+g}}"right"===o?y.unshift(i):b.unshift(i)}),h>0&&(_+=v),p>0&&(k+=v),m.fullWidth=Math.max(k,m.horizontalPointPosition())+Math.max(_,m.width-m.horizontalPointPosition()),m.fullHeight=Math.max(x,w)+m.height+this.branchesSpace(o+1),"up"===m.dir?m.topicTopHalfHeight=Math.max(x,w)+this.branchesSpace(o+1):m.topicTopHalfHeight=0;var E=k-m.horizontalPointPosition();m.topicLeftHalfWidth=Math.max(0,E),m.rightTopicChildrenLeftStart=m.horizontalPointPosition()+l,m.leftTopicChildrenLeftStart=m.horizontalPointPosition()-d,m.rightTopicChildrenTopStart=0,m.leftTopicChildrenTopStart=0}},{key:"computedTopOrLeftValue",value:function(e,t){var n=this.getMargin(e),i=n.marginY,o=n.marginX,a=[],r=[],s=e.top+e.height+this.branchesSpace(t+1)+("left"===e.part?e.leftTopicChildrenTopStart:e.rightTopicChildrenTopStart);e.children.forEach(function(t,n){var l=t.part,c="right"===l?r[0]:a[0],d="right"===l?a[0]:r[0];if(0===n)t.top=s,t.top+=t.topicTopHalfHeight+t.topSpace;else{var u=c?c.top-c.topicTopHalfHeight+c.fullHeight+c.bottomSpace:-1/0,p=c?u+t.topicTopHalfHeight+t.topSpace:-1/0,h=d?d.top+d.height:-1/0;t.top=p>h?p+i:h+i}"right"===l?(t.left=e.left+e.rightTopicChildrenLeftStart+o+t.leftSpace,r.unshift(t)):(t.left=e.left+e.leftTopicChildrenLeftStart-t.width-o-t.rightSpace,a.unshift(t))})}},{key:"checkTopicTop",value:function(){return 0}},{key:"computedSummaryTopAndLeft",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.renderer.getTopicLayout(d.CONSTANTS.LAYOUT.MINDMAP).computedSummaryTopAndLeft(e,t)}},{key:"setEmptyChildrenTopicHeightAndWidth",value:function(e){var t=e.height;e.fullHeight=t+e.getCollapsedSize(),e.fullWidth=e.width,e.topicLeftHalfWidth=0,e.topicTopHalfHeight=0;var n=e.getData("collapsed")?e.mindMap.opt.expandBtnSize:0;e.bottomSpace+=n}},{key:"renderExpandBtn",value:function(e,t){var n=e.height,i=e.isRoot,o=t.bbox().width,a=t.transform(),r=a.translateX,s=a.translateY;if(!i){var l=e.horizontalPointPosition()-o/2-r,c=n-2-s;t.translate(l,c)}}},{key:"renderGuideBtn",value:function(e,t){var n=e.width,i=e.isRoot,o=e.height,a=t.bbox(),r=a.width,s=a.height,l=0,c=0;return i||("right"===e.part?(l=n+10,c=o/2-s/2):(l=-r-10,c=o/2-s/2),t.translate(l,c)),{x:l,y:c}}},{key:"renderExpandBtnRect",value:function(e,t,n,i){e.size(n,t).x(0).y(i)}},{key:"verticalPointPosition",value:function(e){var t=e.getShape();return this.isOldUnderLine(e)||t===d.CONSTANTS.SHAPE.UNDERLINE?e.height:e.height/2}},{key:"horizontalPointPosition",value:function(e){if("mind_tree"===this.renderer.mindTree.structure&&!e.isRoot&&!e.getData("layout")){if("right"===e.part)return 20;if("left"===e.part&&e.free)return e.width-20}return e.width/2}},{key:"isOldUnderLine",value:function(e){if(!e.getStyle("shape")&&e.getStyle("underLine"))return!(e.layoutIndex<2)}},{key:"renderLine",value:function(e,t,n){var i=this;this.beforeRenderLine(e,t,n,function(n){n.forEach(function(n){var o=n.item,a=n.index,r={x:"right"===o.part?o.left:o.left+o.width,y:o.top+i.verticalPointPosition(o),h:o.height,w:o.width},s=i.drawPath(e,r);if(i.isOldUnderLine(o)&&(s.push("L"),"right"===o.part?(s.push(o.left+o.width),s.push(r.y)):(s.push(o.left),s.push(r.y)),o.parent.free)){var l=["M"];"right"===o.part&&(l.push(o.parent.left),l.push(o.parent.top+i.verticalPointPosition(o.parent)),l.push("L"),l.push(o.parent.left+o.parent.width),l.push(o.parent.top+i.verticalPointPosition(o.parent))),s.unshift.apply(s,l)}i.setLineStyle(t[a],s,o)})})}},{key:"getLineStart",value:function(e){return{x:e.left+this.horizontalPointPosition(e),y:e.top+e.height,h:e.height,w:e.width}}},{key:"drawPath",value:function(e,t){var n=e.getStyle("lineType"),i=this.getLineStart(e);return this[n]?this[n](e,i,t):[]}},{key:"renderLineDirect",value:function(e,t,n){return"M".concat(t.x," ").concat(t.y," L ").concat(t.x," ").concat(n.y," L ").concat(n.x," ").concat(n.y)}},{key:"slant",value:function(e,t,n){return this.broken(e,t,n)}},{key:"roundBroken",value:function(e,t,n){return this.renderLineRoundBroken(t.x,t.y,n.x,n.y,0)}},{key:"broken",value:function(e,t,n){return this.renderLineRoundBroken(t.x,t.y,n.x,n.y,0,0)}},{key:"straight",value:function(e,t,n){return this.broken(e,t,n)}},{key:"curve",value:function(e,t,n){return this.broken(e,t,n)}},{key:"bight",value:function(e,t,n){return this.broken(e,t,n)}},{key:"branchesSpace",value:function(e){return 1===e?48:20}}]),o}();i.Tree=p},11029:function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.TreeOrg=void 0;var a=o(80214),r=o(61272),s=function(e){t(o,r.Tree);var i=n(o);function o(e){return T(this,o),i.call(this,e)}return M(o,[{key:"computedBaseValueBefore",value:function(e,t,n,i,o,r,s){o<=1?this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.ORG).computedBaseValueBefore(e,t,n,i,o,r,s):this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.TREE).computedBaseValueBefore(e,t,n,i,o,r,s)}},{key:"computedBaseValueAfter",value:function(e,t,n,i,o,r){0===e._topic.layerIndex?this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.ORG).computedBaseValueAfter(e,t,n,i,o,r):this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.TREE).computedBaseValueAfter(e,t,n,i,o,r)}},{key:"computedTopOrLeftValue",value:function(e,t){0===e.layerIndex?this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.ORG).computedTopOrLeftValue(e,t):this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.TREE).computedTopOrLeftValue(e,t)}},{key:"computedSummaryTopAndLeft",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.layout===a.CONSTANTS.LAYOUT.ORG?this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.ORG).computedSummaryTopAndLeft(e,t):this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.MINDMAP).computedSummaryTopAndLeft(e,t)}},{key:"renderLine",value:function(e,t,n){0===e.layerIndex?this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.ORG).renderLine(e,t,n):this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.TREE).renderLine(e,t,n)}},{key:"drawPath",value:function(e,t){return 0===e.layerIndex?this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.ORG).drawPath(e,t):this.renderer.getTopicLayout(a.CONSTANTS.LAYOUT.TREE).drawPath(e,t)}}]),o}();i.TreeOrg=s},64108:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionLine=void 0;var o=i(n(66603)),a=n(15240);t.ConnectionLine=function(){return M(function e(t,n,i){T(this,e);var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,a.createId)();return(0,o.default)(this,"from",void 0),(0,o.default)(this,"to",void 0),(0,o.default)(this,"end",void 0),(0,o.default)(this,"startAngle",void 0),(0,o.default)(this,"endAngle",void 0),(0,o.default)(this,"points",[]),(0,o.default)(this,"styles",{}),(0,o.default)(this,"label",""),(0,o.default)(this,"pts",[]),this.id=r,this.start=t,this.realEnd=n,this.realStart=i,this})}()},9092:function(e,t,n){n(69268),n(84889),Object.defineProperty(t,"__esModule",{value:!0});var i=n(64108);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})},45635:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.Export=void 0;var o=i(n(3845));n(96700),n(27531),n(61894),n(5682),n(54183),n(65528),n(4790),n(82403),n(12638),n(64518),n(14544),n(23801),n(66096),n(63551),n(40724),n(81006),n(38887),n(13253),n(6284),n(37006),n(47958),n(69268),n(58500),n(86837),n(84889),n(54938),n(69858),n(14237);var a=i(n(66603)),s=n(15240),l=n(59081),c=i(n(1992)),d=i(n(28570)),u=n(80214),p=n(81560),m=i(n(49853)),f=i(n(32483)),g=["imageType","backgroundColor"],b=["backgroundColor","notProcessTitle","paddingX","paddingY","filterTopicIds"],y=["filterTopicIds","onlySvg","imageType","backgroundColor","paddingX","paddingY"],x=["resolveFn","rejectFn"],_=["resolveFn","rejectFn"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=function(){function e(t){var n=this;T(this,e),(0,a.default)(this,"imageUrlMap",new Map),(0,a.default)(this,"partExportQueue",[]),(0,a.default)(this,"isExporting",!1),(0,a.default)(this,"temporarySvgObj",null),this.mindMap=t.mindMap,this.mindMap.on("enter_presenting",function(){n.presenterMode=!0}),this.mindMap.on("exit_presenting",function(){n.presenterMode=!1,n.temporarySvgObj=null,n.partExportQueue=[]})}return M(e,[{key:"init",value:function(){var e=C(k().mark(function e(){var t,n,i=this,o=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.partId||t.ids||[],e.abrupt("return",0===n.length||n.includes(this.mindMap.renderer.mindTree.id)?this.getSvgData(t):(n.forEach(function(e){var t,o,a=i.mindMap.renderer.getCacheTopic(e),l=i.mindMap.renderer.getChildrenIds(a,!0,!0);n.push.apply(n,h(l)),[].concat(h((null===(t=a.parent)||void 0===t?void 0:t.summaries)||[]),h((null===(o=a.parent)||void 0===o?void 0:o.boundaries)||[])).forEach(function(e){var t=r((0,s.getRange)(e.getData("range")),2),o=t[0],l=t[1],c=(0,s.getTopicIndexInTopicList)(a,a.parent.children);if(o===l&&o===c){var d=i.mindMap.renderer.getChildrenIds(e,!0,!0);n.push.apply(n,h(d))}})}),this.partExport(D(D({},t),{},{filterTopicIds:Array.from(new Set(n)),onlySvg:!0}))));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"exportImg",value:function(){var e=C(k().mark(function e(){var t,n,i,a,r,s,l,c=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.imageType,i=void 0===n?"png":n,a=t.backgroundColor,r=(0,o.default)(t,g),e.next=3,this.getSvgData(D({backgroundColor:a},r));case 3:return s=e.sent,e.next=6,m.default.drawCanvas(s,1.5,i);case 6:return l=e.sent,e.abrupt("return",("success"!==l.status&&l.tip&&$.toast({type:"secondary",text:l.tip}),l));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"exportTopicImg",value:function(){var e=C(k().mark(function e(t){var n,i,o,a,l,c,d,u,p,m=this,f=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:{},i=n.imageType,o=void 0===i?"png":i,a=n.backgroundColor,l={custom:{img:{url:"",angle:315},text:{content:this.mindMap.renderer.mindTree.showWatermark?this.mindMap.renderer.mindTree.watermark:"",color:this.mindMap.watermark.getWatermarkColor(void 0,!0),size:12,angle:315}}},t.id!==this.mindMap.renderer.mindTree.id){e.next=8;break}return e.next=5,this.exportImg({backgroundColor:a,watermark:l});case 5:c=e.sent,e.next=13;break;case 8:return p=this.mindMap.renderer.getChildrenIds(t,!0,!0),[].concat(h((null===(d=t.parent)||void 0===d?void 0:d.summaries)||[]),h((null===(u=t.parent)||void 0===u?void 0:u.boundaries)||[])).forEach(function(e){var n=r((0,s.getRange)(e.getData("range")),2),i=n[0],o=n[1],a=(0,s.getTopicIndexInTopicList)(t,t.parent.children);if(i===o&&i===a){var l=m.mindMap.renderer.getChildrenIds(e,!0,!0);p.push.apply(p,h(l))}}),e.next=12,this.partExport({filterTopicIds:p,imageType:o,backgroundColor:a,watermark:l});case 12:c=e.sent;case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"export",value:function(){var e=C(k().mark(function e(t){var n,i,o,a,r,l,c=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>1&&void 0!==c[1])||c[1],i=c.length>2&&void 0!==c[2]?c[2]:"思维导图",!this[t]){e.next=7;break}for(o=c.length,a=new Array(o>3?o-3:0),r=3;r<o;r++)a[r-3]=c[r];return e.next=5,this[t].apply(this,[i].concat(a));case 5:return l=e.sent,e.abrupt("return",(n&&(0,s.downloadFile)(l,i+"."+t),l));case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"createTransformImgTaskList",value:function(e,t,n,i){var o=this;return e.find(t).map(function(){var e=C(k().mark(function e(t){var a,r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i(t),!/^(data:)/.test(a)&&"none"!==a&&a){e.next=3;break}return e.abrupt("return");case 3:if(r=o.imageUrlMap.get(a),e.t0=r,e.t0){e.next=10;break}return e.next=8,(0,s.imgToDataUrl)(a);case 8:r=e.sent,o.imageUrlMap.set(a,r);case 10:t.attr(n,r);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"caval",value:function(){var e=document.createElement("canvas"),t=e.getContext("2d");t.font="28px 苍耳与墨",t.fillText("测试字体",50,50),document.body.appendChild(e),e.style.position="absolute",e.style.left="0",e.style.top="50px"}},{key:"foreignObjectToImage",value:function(){var e=C(k().mark(function e(t){var n,i,o,a,r,l,c,d,u,p,h,m,f,g,b,y,x,w,_,C,T,S=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:(n=document.createElement("div")).setAttribute("id","test132465"),n.style.position="absolute",n.style.left=0,n.style.top=0,n.style.zIndex=-1,i=[],a=o=30,r=v(t);try{for(r.s();!(l=r.n()).done;)c=l.value,d=c.bbox(),(u=c.first().node.cloneNode(!0)).classList.remove("po-safari-fixed"),(p=u.querySelector("#code-area"))&&(p.style.position="static"),u.style.margin="".concat(o,"px 0 0 ").concat(o,"px"),u.style.width="".concat(d.w,"px"),u.style.height="".concat(d.h,"px"),u.style.boxSizing="border-box",n.appendChild(u),i.push({foreignObject:c,width:d.w,height:d.h,spriteY:a}),a+=d.h+o}catch(k){r.e(k)}finally{r.f()}return h=(0,s.getChromeVersion)(),m=Element.prototype.cloneNode,(f=h&&h<=83)&&(Element.prototype.cloneNode=function(e){var t=m.call(this,e);return"MATH"!==this.tagName&&!this.closest("math")||void 0!==t.style||(t.style={setProperty:function(){},getPropertyValue:function(){}}),t}),document.body.appendChild(n),e.prev=10,e.next=13,this.domToImage(n,{width:n.offsetWidth,height:n.offsetHeight,scaleFactor:3});case 13:if(g=e.sent,!(0,s.isSafari)()){e.next=34;break}b=v(i),e.prev=16,b.s();case 18:if((y=b.n()).done){e.next=24;break}return x=y.value,w=x.foreignObject,_=x.width,C=x.height,T=x.spriteY,e.next=22,this.replaceForeignObjectWithScaledSVG(g,w,_,C,T,o,3);case 22:e.next=18;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(16),b.e(e.t0);case 29:return e.prev=29,b.f(),e.finish(29);case 32:e.next=36;break;case 34:return e.next=36,Promise.all(i.map(function(e){var t=e.foreignObject,n=e.width,i=e.height,a=e.spriteY;return S.replaceForeignObjectWithScaledSVG(g,t,n,i,a,o,3)}));case 36:e.next=40;break;case 38:e.prev=38,e.t1=e.catch(10);case 40:return e.prev=40,n.remove(),f&&(Element.prototype.cloneNode=m),e.finish(40);case 43:case"end":return e.stop()}},e,this,[[10,38,40,43],[16,26,29,32]])}));return function(t){return e.apply(this,arguments)}}()},{key:"replaceForeignObjectWithScaledSVG",value:function(){var e=C(k().mark(function e(t,n,i,o,a,r,s){var c,d,u,p;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(c=document.createElement("canvas")).width=i*s,c.height=o*s,(d=c.getContext("2d")).imageSmoothingEnabled=!0,d.imageSmoothingQuality="high",d.drawImage(t,r*s,a*s,Math.round(i*s),Math.round(o*s),0,0,c.width,c.height),u=c.toDataURL(),p=(new l.Image).load(u).size(i,o),n.parent().node.replaceChild(p.node,n.node);case 7:case"end":return e.stop()}},e)}));return function(t,n,i,o,a,r,s){return e.apply(this,arguments)}}()},{key:"convertCanvasToSVG",value:function(){var e=C(k().mark(function e(t,n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg");o.setAttribute("width",t.width/n),o.setAttribute("height",t.height/n),o.setAttribute("viewBox","0 0 ".concat(t.width/n," ").concat(t.height/n));for(var a=t.getContext("2d").getImageData(0,0,t.width,t.height),r=0;r<t.height;r++)for(var s=0;s<t.width;s++){var l=4*(r*t.width+s),c=a.data[l],d=a.data[l+1],u=a.data[l+2],p=a.data[l+3];if(p>0){var h=document.createElementNS(i,"rect");h.setAttribute("x",s/n),h.setAttribute("y",r/n),h.setAttribute("width",1/n),h.setAttribute("height",1/n),h.setAttribute("fill","rgba(".concat(c,", ").concat(d,", ").concat(u,", ").concat(p/255,")")),o.appendChild(h)}}e(o)}));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"domToImage",value:function(){var e=C(k().mark(function e(t,n){var i,o,a,r,s,l,d,u,h,m,f,g;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.width,o=n.height,a=n.scaleFactor,s=i*(r=void 0===a?1:a),l=o*r,e.prev=2,e.next=5,document.fonts.ready;case 5:return d=[],document.fonts.forEach(function(e){d.push(e.family)}),u=new Set,t.querySelectorAll("font").forEach(function(e){var t=e.getAttribute("face");t&&d.includes(t)&&u.add(t)}),t.childNodes.forEach(function(e){var t=e.style.fontFamily;t&&d.includes(t)&&u.add(t)}),e.next=11,Promise.all(Array.from(u).map(function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.loadedFonts[t]?(0,p.getFontBlobUrl)(t).then(function(e){return e?"\n                                    @font-face {\n                                        font-family: '".concat(t,"';\n                                        src: url(").concat(e,") format('woff2');\n                                    }\n                                "):""}):Promise.resolve(""));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 11:return(h=e.sent.filter(Boolean)).length>0&&((m=document.createElement("style")).innerHTML=h.join("\n"),t.appendChild(m)),e.next=15,c.default.toPng(t,{width:s,height:l,style:{transform:"scale(".concat(r,")"),transformOrigin:"top left",backgroundColor:"transparent"}});case 15:return f=e.sent,(g=new Image).src=f,e.next=20,new Promise(function(e,t){g.onload=function(){var t=document.createElement("canvas");t.width=s,t.height=l;var n=t.getContext("2d");n.imageSmoothingEnabled=!0,n.imageSmoothingQuality="high",t.style.width="".concat(s,"px"),t.style.height="".concat(l,"px"),n.clearRect(0,0,t.width,t.height),n.drawImage(g,0,0,t.width,t.height),e(t)},g.onerror=function(e){return t(e)}});case 20:return e.abrupt("return",e.sent);case 23:throw e.prev=23,e.t0=e.catch(2),e.t0;case 26:case"end":return e.stop()}},e,null,[[2,23]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSvgData",value:function(){var e=C(k().mark(function e(){var t,n,i,a,r,l,c,d,p,m,f,g,v,y,x,w,_,C,T,S,M,D,E,A,F,I,O,L,P,B,N=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=N.length>0&&void 0!==N[0]?N[0]:{},d=c.backgroundColor,p=c.notProcessTitle,m=void 0!==p&&p,f=c.paddingX,g=void 0===f?25:f,v=c.paddingY,y=void 0===v?25:v,x=c.filterTopicIds,w=void 0===x?[]:x,_=(0,o.default)(c,b),C=this.mindMap.opt.errorHandler,e.next=14,this.mindMap.getSvgData({backgroundColor:d});case 14:return T=e.sent,S=T.svg,M=T.svgHTML,null===(t=S.findOne("#rect_mark"))||void 0===t||t.remove(),null===(n=S.findOne("#svgbackgroundid"))||void 0===n||n.remove(),D=S.findOne(".po-mind-container"),null===(i=D.find(".topic-selected-border"))||void 0===i||i.remove(),null===(a=D.find(".expand-btn"))||void 0===a||a.remove(),null===(r=S.find("#dropShadow"))||void 0===r||r.remove(),null===(l=S.findOne(".po-mind-other-container"))||void 0===l||l.remove(),S.find('.po-mind-topic-shape-fill[filter="url(#dropShadow)"]').forEach(function(e){var t=e.clone();t.attr({"stroke-width":0,filter:null}),e.after(t),e.attr({filter:null,"stroke-width":4,stroke:"rgba(0, 0, 0, 0.1)",fill:"rgba(0, 0, 0, 0.1)"}),e.translate(1,2)}),S.find(".expand-btn-placeholder-rect").remove(),S.find('[fill="transparent"]').forEach(function(e){e.attr({fill:"none"})}),D.transform({}),S.addTo(this.mindMap.el),E=D.bbox(),A=E.width+2*g,F=E.height+2*y,S.size(A,F),I=0-E.x,O=0-E.y,D.translate(I+g,O+y),S.css({position:"absolute",top:0,left:0,display:"block","z-index":-1,"font-size":"12px"}),L=d||this.mindMap.renderer.getBackgroundColor(),this.presenterMode&&("transparent"==L||L.indexOf("url(")>-1)&&(L="#ffffff"),_.pageColor&&(L=_.pageColor),this.svgBg=L,e.next=33,this.drawSvgBg(S,L,A,F,I+g,O+y);case 33:if(!_.watermark){e.next=36;break}P=$(S.node),_.watermark.download&&this.setWatermark(_.watermark.download,P),_.watermark.custom&&this.setCustomWatermark(_.watermark.custom,P);case 36:return B=[].concat(h(this.createTransformImgTaskList(S,"image","href",function(e){return e.attr("href")})),h(this.createTransformImgTaskList(S,"image","xlink:href",function(e){return e.attr("xlink:href")})),h(this.createTransformImgTaskList(S,"img","src",function(e){return e.attr("src")}))),e.prev=37,Date.now(),e.next=41,Promise.all(B);case 41:Date.now(),e.next=47;break;case 44:e.prev=44,e.t0=e.catch(37),C(u.ERROR_TYPES.EXPORT_LOAD_IMAGE_ERROR,e.t0);case 47:return m||(Date.now(),this.processTopicTitle(S,w)),S.node.parentNode.removeChild(S.node),Date.now(),e.next=52,this.nodesToImage(S,w);case 52:return S.css({"font-size":"12px",position:void 0}),S.attr("id","mind-svg-con"),S.node.removeAttribute("tabindex"),M=S.svg(),M=(0,s.handleSelfCloseTags)(M),M=(0,s.removeHTMLEntities)(M),e.abrupt("return",{node:S,w:A,h:F,content:M,transX:I+g,transY:O+y});case 59:case"end":return e.stop()}},e,this,[[37,44]])}));return function(){return e.apply(this,arguments)}}()},{key:"partExport",value:function(){var e=C(k().mark(function e(){var t,n,i,a,c,d,u,p,h,f,g,v,b,w,C,T,S,M,E,A,F,I,O,L,P,B,N,z,j,R,G,H,W,U,q,V,Y,X,J,K,Z,Q,ee=this,te=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=te.length>0&&void 0!==te[0]?te[0]:{},i=n.filterTopicIds,a=void 0===i?[]:i,c=n.onlySvg,d=void 0!==c&&c,u=n.imageType,p=void 0===u?"png":u,h=n.backgroundColor,f=n.paddingX,g=void 0===f?25:f,v=n.paddingY,b=void 0===v?25:v,w=(0,o.default)(n,y),C=te.length>1?te[1]:void 0,T=te.length>2?te[2]:void 0,!this.isExporting||C){e.next=4;break}return E=new Promise(function(e,t){S=e,M=t}),e.abrupt("return",(this.partExportQueue.push({filterTopicIds:a,imageType:p,backgroundColor:h,resolveFn:S,rejectFn:M}),E));case 4:if(this.isExporting=!0,e.prev=5,A=this.presenterMode?this.temporarySvgObj:null,e.t0=A,e.t0){e.next=13;break}return e.next=11,this.getSvgData(D({filterTopicIds:this.presenterMode?[]:a,backgroundColor:h,imageType:p,notProcessTitle:!0},D(D({},w),{watermark:void 0})));case 11:A=e.sent,this.presenterMode&&(this.temporarySvgObj=D({},A));case 13:if(F=D({},A),a.length>0&&(I=(0,l.SVG)(A.content),O=I.findOne(".po-mind-container"),I.findOne(".po-mind-node-container").find(".po-mind-topic").forEach(function(e){var t=e.attr("id").split("-").slice(1).join("-");a.includes(t)||e.remove()}),(L=this.mindMap.renderer.mindTree.lines||{})&&Object.keys(L).length>0&&(P=I.findOne(".po-mind-associative-line-container"),B=I.findOne(".po-mind-associative-line-label-container"),P.find(".connection-svg").forEach(function(e){var t,n=e.attr("id").split("_")[1],i=L[n];i&&a.includes(i.from)&&a.includes(i.to)||(e.remove(),null==B||null===(t=B.find('.mind-connection-con-new[conn="'.concat(n,'"]')))||void 0===t||t.remove())})),I.findOne(".po-mind-generalize-container").children().forEach(function(e){var t=e.attr("summary")||e.attr("boundary");if(t){if(!a.includes(t)||1===a.length)return void e.remove();if(ee.presenterMode)return;var n=!1,i=editorGlobal.mindMap.renderer.getTopicById(t),o=editorGlobal.mindMap.renderer.getCacheTopic(i.parent);if(!o)return;var l=r((0,s.getRange)(i.range),2),c=l[0],d=l[1];[i.parent,o.children[c].id,o.children[d].id].some(function(e){return a.includes(e)})||(n=!0),n&&e.remove()}}),N=I.findOne(".po-mind-line-container").children(),I.findOne(".po-mind-generalize-container").children().forEach(function(e){var t=e.attr("summary")||e.attr("boundary");t&&(a.includes(t)&&1!==a.length||e.remove())}),N.forEach(function(e){var t=e.attr("from"),n=e.attr("to");t&&n&&a.includes(t)&&a.includes(n)||e.remove()}),I.css("position","absolute"),I.addTo(this.mindMap.el),O.transform({}),O.findOne(".po-mind-line-container").hide(),z=O.bbox(),j=z.width+2*g,R=z.height+2*b,I.size(j,R),G=0-z.x,H=0-z.y,O.translate(G+g,H+b),O.findOne(".po-mind-line-container").show(),I.findOne("#svgbackgroundid").size(j,R),w.watermark&&(W=$(I.node),w.watermark.download&&this.setWatermark(w.watermark.download,W),w.watermark.custom&&this.setCustomWatermark(w.watermark.custom,W)),Date.now(),this.processTopicTitle(I,a),I.node.parentNode.removeChild(I.node),I.css("position",void 0),U=I.svg(),U=(0,s.handleSelfCloseTags)(U),U=(0,s.removeHTMLEntities)(U),F={node:I,w:j,h:R,content:U}),!d){e.next=19;break}t=F,e.next=23;break;case 19:return e.next=21,m.default.drawCanvas(F,1.5,p);case 21:"success"!==(t=e.sent).status&&t.tip&&$.toast({type:"secondary",text:t.tip});case 23:return(q=this.partExportQueue.shift())?(V=q.resolveFn,Y=q.rejectFn,X=(0,o.default)(q,x),setTimeout(function(){ee.isExporting=!1,ee.partExport(X,V,Y)},50)):this.isExporting=!1,e.abrupt("return",(C&&C(t),t));case 28:return e.prev=28,e.t1=e.catch(5),T&&T(e.t1),(J=this.partExportQueue.shift())?(K=J.resolveFn,Z=J.rejectFn,Q=(0,o.default)(J,_),setTimeout(function(){ee.isExporting=!1,ee.partExport(Q,K,Z)},50)):this.isExporting=!1,e.abrupt("return",t);case 34:case"end":return e.stop()}},e,this,[[5,28]])}));return function(){return e.apply(this,arguments)}}()},{key:"drawSvgBg",value:function(){var e=C(k().mark(function e(t,n,i,o,a,r){var s,l,c,d,u,p,h,m,f,g,v,b,y,x,w,_;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.findOne(".po-mind-container"),l="http://www.w3.org/2000/svg",(c=document.createElementNS(l,"g")).setAttribute("id","svgbackgroundid"),d=document.createElementNS(l,"defs"),c.appendChild(d),u=document.createElementNS(l,"rect"),c.appendChild(u),u.setAttribute("width",i),u.setAttribute("height",o),!(n.indexOf("url(")>-1)){e.next=31;break}if(p=function(e){return new Promise(function(t){e=e.replace(/url\(["']?/,"").replace(/["']?\)/,"").replace("http:","https:").replace("obqv3yxb1.bkt.clouddn.com","cdn3.processon.com");var n=document.createElement("img");n.onload=function(){var i=this.width,o=this.height;n.remove(),t({w:i,h:o,url:e})},n.onerror=function(){n.remove(),u.setAttribute("fill","#ffffff")},n.src=e})},7!=(h=n.split(" ")).length){e.next=23;break}return m=function(){var e,t,n,s,c,p;switch(x){case"repeat":e=b+"px",t=y+"px",n=g+a+"px",s=v+r+"px",c="0px",p="0px";break;case"no-repeat":e=i+"px",t=o+"px",n="0px",s="0px",c=g+a+"px",p=v+r+"px";break;case"repeat-x":e=b+"px",t=o+"px",n=g+a+"px",s="0px",c="0px",p=v+r+"px";break;case"repeat-y":e=i+"px",t=y+"px",n="0px",s=v+r+"px",c=g+a+"px",p="0px"}var h=document.createElementNS(l,"pattern");h.setAttribute("id","svgBgId"),h.setAttribute("width",e),h.setAttribute("height",t),h.setAttribute("x",n),h.setAttribute("y",s),h.setAttribute("patternUnits","userSpaceOnUse"),h.innerHTML='<image xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+f+'" width="'+b+'px" height="'+y+'px" x="'+c+'" y="'+p+'"/>',d.appendChild(h),u.setAttribute("fill","url(#svgBgId)")},f=h[0].replace(/url\(["']?/,"").replace(/["']?\)/,"").replace("http://","https://"),g=parseInt(h[1]),v=parseInt(h[2]),b=parseInt(h[4]),y=parseInt(h[5]),x=h[6],e.next=19,p(f);case 19:w=e.sent,f=w.url,m(),e.next=29;break;case 23:return _=function(e){var t=e.w,n=e.h,i=document.createElementNS(l,"pattern");i.setAttribute("id","svgBgId"),i.setAttribute("width",t),i.setAttribute("height",n),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("patternUnits","userSpaceOnUse"),i.innerHTML='<image xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="'+e.url+'" width="'+t+'" height="'+n+'" x="0" y="0"/>',d.appendChild(i),u.setAttribute("fill","url(#svgBgId)")},e.t0=_,e.next=27,p(h[0]);case 27:e.t1=e.sent,(0,e.t0)(e.t1);case 29:e.next=32;break;case 31:u.setAttribute("fill",n);case 32:t.node.insertBefore(c,s.node);case 33:case"end":return e.stop()}},e)}));return function(t,n,i,o,a,r){return e.apply(this,arguments)}}()},{key:"svgToPng",value:function(e,t){var n=this;return new Promise(function(i,o){var a=new Image;a.setAttribute("crossOrigin","anonymous"),a.onload=C(k().mark(function e(){var r,l,c,d,u,p,h,m,f,g;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=document.createElement("canvas"),l=Math.max(window.devicePixelRatio,n.mindMap.opt.minExportImgCanvasScale),c=a.width,d=a.height,c*d>(p=(u=16384/l)*u)&&(h=null,m=null,c>u?h=p/d:d>u&&(m=p/c),f=(0,s.resizeImgSize)(c,d,h,m),c=f[0],d=f[1]),r.width=c*l,r.height=d*l,r.style.width=c+"px",r.style.height=d+"px",(g=r.getContext("2d")).scale(l,l),e.t0=t,e.t0){e.next=12;break}return e.next=12,n.drawBackgroundToCanvas(g,c,d);case 12:g.drawImage(a,0,0,c,d),i(r.toDataURL()),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),o(e.t1);case 19:case"end":return e.stop()}},e,null,[[0,16]])})),a.onerror=function(e){o(e)},a.src=e})}},{key:"drawBackgroundToCanvas",value:function(e,t,n){var i=this;return new Promise(function(o,a){var r=i.mindMap.themeConfig,s=r.backgroundColor,l=void 0===s?"#fff":s,c=r.backgroundImage,u=r.backgroundRepeat,p=void 0===u?"no-repeat":u,h=r.backgroundPosition,m=void 0===h?"center center":h,f=r.backgroundSize,g=void 0===f?"cover":f;e.save(),e.rect(0,0,t,n),e.fillStyle=l,e.fill(),e.restore(),c&&"none"!==c?(e.save(),(0,d.default)(e,t,n,c,{backgroundRepeat:p,backgroundPosition:m,backgroundSize:g},function(t){t?a(t):o(),e.restore()})):o()})}},{key:"drawBackgroundToSvg",value:function(e){var t=this;return new Promise(function(){var n=C(k().mark(function n(i){var o,a,r,l,c,d,u;return k().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.mindMap.themeConfig,a=o.backgroundColor,r=void 0===a?"#fff":a,l=o.backgroundImage,c=o.backgroundRepeat,d=void 0===c?"repeat":c,e.css("background-color",r),!l||"none"===l){n.next=8;break}return n.next=4,(0,s.imgToDataUrl)(l);case 4:u=n.sent,e.css("background-image","url(".concat(u,")")),e.css("background-repeat",d),i(),n.next=9;break;case 8:i();case 9:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())}},{key:"png",value:function(){var e=C(k().mark(function e(t){var n,i,o,a,r=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.next=3,this.getSvgData();case 3:return i=e.sent,o=i.str,e.next=7,this.fixSvgStrAndToBlob(o);case 7:return a=e.sent,e.next=10,this.svgToPng(a,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"pdf",value:function(){var e=C(k().mark(function e(t){var n,i,o=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]&&o[1],this.mindMap.doExportPDF){e.next=3;break}throw new Error("请注册ExportPDF插件");case 3:return e.next=5,this.png(t,n);case 5:return i=e.sent,e.next=8,this.mindMap.doExportPDF.pdf(i);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"xmind",value:function(){var e=C(k().mark(function e(t){var n,i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mindMap.doExportXMind){e.next=2;break}throw new Error("请注册ExportXMind插件");case 2:return n=this.mindMap.getData(),e.next=5,this.mindMap.doExportXMind.xmind(n,t);case 5:return i=e.sent,e.next=8,(0,s.readBlob)(i);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"svg",value:function(){var e=C(k().mark(function e(t){var n,i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSvgData();case 2:return n=e.sent,(i=n.node).first().before((0,l.SVG)("<title>".concat(t,"</title>"))),e.next=7,this.drawBackgroundToSvg(i);case 7:return o=i.svg(),e.next=10,this.fixSvgStrAndToBlob(o);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fixSvgStrAndToBlob",value:function(){var e=C(k().mark(function e(t){var n;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,s.handleSelfCloseTags)(t),t=(0,s.removeHTMLEntities)(t),n=new Blob([t],{type:"image/svg+xml"}),e.next=4,(0,s.readBlob)(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"json",value:function(){var e=C(k().mark(function e(t){var n,i,o,a,r=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],i=this.mindMap.getData(n),o=JSON.stringify(i),a=new Blob([o]),e.next=4,(0,s.readBlob)(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"smm",value:function(){var e=C(k().mark(function e(t,n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.json(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"md",value:function(){var e=C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"nodesToImage",value:function(){var e=C(k().mark(function e(t){var n,i,o,a,r,l,c,d,u=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:[],i=t.findOne(".po-mind-container").find("foreignObject"),o=[],a=[],i.forEach(function(e){if(e.findOne(".code-area")){var t=e.parent(".po-mind-topic").attr("id").split("-").slice(1).join("-");if(n.length>0&&!n.includes(t))return;o.push(e)}if(e.findOne(".equation-text")){var i=e.parent(".po-mind-topic").attr("id").split("-").slice(1).join("-");if(n.length>0&&!n.includes(i))return;a.push(e)}}),r=(0,s.chunkArray)(o.concat(a),20),l=v(r),e.prev=5,l.s();case 7:if((c=l.n()).done){e.next=13;break}return d=c.value,e.next=11,this.foreignObjectToImage(d);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),l.e(e.t0);case 18:return e.prev=18,l.f(),e.finish(18);case 21:case"end":return e.stop()}},e,this,[[5,15,18,21]])}));return function(t){return e.apply(this,arguments)}}()},{key:"processTopicTitle",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.find(".po-mind-topic").forEach(function(e){var i=e.attr("id").split("-").slice(1).join("-");if(!(n.length>0)||n.includes(i)){var o=e.findOne(".po-richtext-node-wrap"),a=!(null!=o&&o.findOne(".equation-text"));o&&a&&function(e){var n=e.node.innerHTML.replace(//g," ").replace(/[\u0000-\u001f]/g,""),i=e.css(),o=Object.keys(i).map(function(e){var t=i[e];return"font-family"===e&&t.includes('"')&&(t=t.replace(/"/g,"")),"".concat(e,": ").concat(t,";")}),a=$('<div style="position: relative;padding: 0;margin: 0; line-height:140%; word-break:break-word;word-wrap:break-word;width: '+(e.node.offsetWidth+2)+"px;max-width: "+e.css("max-width")+';">'+n+"</div>").appendTo("body");a.css(i);var r=t.richText2svg(a,0,0,o),s=e.parent();s.parent().html(r),s.remove()}(o)}})}},{key:"richText2svg",value:function(e,t,n,i,o){var a;i=i||[];for(var r=!1,s=0;s<i.length;s++)i[s].indexOf("writing-mode")>-1&&i.splice(s,1);"vertical-lr"!=$(e).css("writing-mode")&&"vertical-rl"!=$(e).css("writing-mode")||(r=!0);var l=e[0].style,c={anchor:r||"center"==l.textAlign?"middle":"right"==l.textAlign?"end":"start",family:l.fontFamily,size:l.fontSize||12,width:l.width,fill:l.color,style:l.fontStyle,variant:l.fontVariant,weight:l.fontWeight,lineHeight:l.lineHeight||"140%"};"number"==o&&(c.anchor="start"),e.find("font").each(function(){$(this).css("fill",$(this).attr("color")),$(this).css("font-family",$(this).attr("face"))}),e.find("b").css("font-weight","bold"),e.find("i").css("font-style","italic"),e.find("u").css("text-decoration","underline"),e.find("strike").css("text-decoration","line-through"),e.find("h1").css({"font-weight":"bold","font-size":2*parseInt(c.size)+"px"}),e.find("h2").css({"font-weight":"bold","font-size":1.5*parseInt(c.size)+"px"}),e.find("h3").css({"font-weight":"bold","font-size":1.17*parseInt(c.size)+"px"}),e.find("h4").css({"font-weight":"bold","font-size":1*parseInt(c.size)+"px"}),e.find("h5").css({"font-weight":"bold","font-size":.83*parseInt(c.size)+"px"}),e.find("h6").css({"font-weight":"bold","font-size":.67*parseInt(c.size)+"px"}),e.find("ol").css({"list-style-type":"decimal"}),e.find("ol").each(function(){$(this).children("li").each(function(e){$(this).html(e+1+".&nbsp"+$(this).html())})}),e.find("ul").each(function(){$(this).children("li").each(function(){$(this).html('<span style="font-weight: bolder;">·</span>&nbsp;&nbsp;'+$(this).html())})}),injectExtraAsynCall("openMention")&&e.find(".mention").each(function(){var e=$(this),t=parseInt(e.css("padding-left")),n=parseInt(e.css("padding-right"));e.find("img").length>0&&(t+=e.find("img").outerWidth()+4);var i={"font-family":'"Microsoft YaHei", 微软雅黑, Arial',"word-break":"keep-all","text-align":"center","font-weight":"normal","text-decoration":"none","font-style":"normal","padding-left":t+"px","padding-right":n+"px",color:e.css("color"),background:e.css("background-color"),"border-color":e.css("border-color"),"border-radius":e.css("border-radius")};0==e.data("type")&&(i["white-space"]="nowrap"),e.css(i)});var d=[],u=r?"writing-mode: vertical-rl;":"",p=null===(a=e.attr("style"))||void 0===a||null===(a=a.split("text-decoration:"))||void 0===a||null===(a=a[1])||void 0===a?void 0:a.split(";")[0];function h(e){var t=document.createElement("span");return t.style.float="left",e&&(t.textContent=e),t}function m(e,t){if(!e)return"";var n=["fill","color","font","font-size","font-family","font-weight","font-style","text-align","text-decoration","list-style-type","border-radius","border-color","background","white-space"];t&&n.push(t);var i="",o={};for(var a in e.split(";").map(function(e){var t=e.split(":");if(2==t.length){var i=$.trim(t[0]),a=$.trim(t[1]).replace(/"/g,"'");-1!=n.indexOf(i)&&a&&(o[i]=a)}}),o)i+=a+":"+o[a]+";";return i}u&&p&&(u+="text-decoration:"+p),function e(t){for(var n=0,i=t.length;n<i;n++){if("#text"==t[n].nodeName){var o,a=0,r=v(t[n].data);try{for(r.s();!(o=r.n()).done;){var s=o.value,l=t[n].parentNode.className;if(d.length&&-1==l.indexOf("mention")){var c=d[d.length-1],p=h(),f=h(s);p.appendChild(f);var g=h(c.text);p.appendChild(g);var b=h(c.text+s);p.appendChild(b),document.body.appendChild(p);var y=f.getBoundingClientRect().width,x=g.getBoundingClientRect().width,w=b.getBoundingClientRect().width;if(document.body.removeChild(p),(w+2<y+x||-1!=["️"].indexOf(s)||0==y)&&"</br>"!=c.text){c.text+=s;continue}}if("DIV"==t[n].parentNode.nodeName){var k={text:s,style:u};d.push(k)}else{var _={text:s,style:m(t[n].parentNode.getAttribute("style"))};if(l.indexOf("mention")>-1){var C=t[n].parentNode.getAttribute("style");if(0==a){var T={text:"",style:m(C,"padding-left")};d.push(T),m(C).indexOf("white-space")>-1&&(_={text:t[n].data,style:m(C)},d.push(_))}if(-1==m(C).indexOf("white-space")&&d.push(_),a==t[n].parentNode.innerText.length-1){var S={text:"",style:m(C,"padding-right")};d.push(S)}a++}else d.push(_)}}}catch(D){r.e(D)}finally{r.f()}}else if("IMG"==t[n].nodeName){var M={text:"",url:$(t[n]).attr("src"),style:$(t[n]).attr("style")};d.push(M)}else if("BR"==t[n].nodeName){if(n>0&&"DIV"==t[n-1].nodeName){d.push({text:"</br>",style:""})}d.push({text:"</br>",style:""})}else if("DIV"==t[n].nodeName||"LI"==t[n].nodeName||t[n].nodeName.indexOf("H")>=0||"P"==t[n].nodeName){if(d.length>0&&"</br>"!=d[d.length-1].text){d.push({text:"</br>",style:""})}}else"DIV"!=t[n].parentNode.nodeName||t[n].getAttribute("style")?["null",null].includes(t[n].parentNode.getAttribute("style"))?t[n].setAttribute("style",t[n].getAttribute("style")?t[n].getAttribute("style").replace(/"/g,"'"):t[n].getAttribute("style")):t[n].setAttribute("style",(t[n].parentNode.getAttribute("style")?t[n].parentNode.getAttribute("style").replace(/"/g,"'"):t[n].parentNode.getAttribute("style")||"")+(t[n].getAttribute("style")?t[n].getAttribute("style").replace(/"/g,"'"):t[n].getAttribute("style")||"")):"function"==typeof t[n].getAttribute&&t[n].setAttribute("style",t[n].getAttribute("style")?t[n].getAttribute("style").replace(/"/g,"'"):t[n].getAttribute("style"));e(t[n].childNodes)}}(e[0].childNodes),e.empty();for(var f=[],g=0;g<d.length;g++){var b="";"</br>"==d[g].text||"<div></br></div>"==d[g].text?b=d[g].text:(d[g].text=d[g].text.replace(/</g,"&lt;").replace(/>/g,"&gt;"),b='<span style="'+d[g].style+'">'+d[g].text+"</span>"),$(b).appendTo(e)}e.children().each(function(t){e.hasClass("topic-tag")&&(d[t].type="tag"),"</br>"==d[t].text?void 0!==d[t-1]&&"</br>"!=d[t-1].text||(d[t].dy=0,f.push(d[t])):(""==$.trim(d[t].text)&&""==d[t].style&&(d[t-1]&&""!=d[t-1].style||d[t+1]&&""!=d[t+1].style||!d[t-1])&&(d[t].text&&d[t].text.indexOf(" ")>-1?d[t].text=d[t].text.replaceAll(" ","&nbsp;&nbsp;"):d[t].text="&nbsp;"),d[t].dy=$(this)[0].offsetTop+$(this).height(),d[t].dx=$(this)[0].offsetLeft,d[t].w=$(this).width(),d[t].h=$(this).height(),0!=f.length&&f[f.length-1].style==d[t].style&&Math.abs(f[f.length-1].dy-d[t].dy)<3&&0!==f.dy?(f[f.length-1].text+=d[t].text,f[f.length-1].w+=d[t].w):f.push(d[t]))});for(var y="",x="",w="",k=0;k<f.length;k++){var _=f[k];if("</br>"!=_.text){if(null==_.style&&(_.style=""),_.style.indexOf("underline")>-1){_.style=_.style.replace("underline","none");var C=t+_.dx,T=C+_.w,S=n+_.dy-parseInt(c.size)/10,M=S;r&&(T=C,M=(S=n+_.dy-parseInt(c.size))+_.h),le(_,C,T,S,M)}else if("underline"==l.textDecoration){l.textDecoration="none";var D=t+_.dx,E=D+_.w,A=n+_.dy-parseInt(c.size)/10,F=A;r&&(E=D,F=(A=n+_.dy-parseInt(c.size))+_.h),le(_,D,E,A,F)}if(_.style.indexOf("line-through")>-1){_.style=_.style.replace("line-through","none");var I=t+_.dx,O=I+_.w,L=n+_.dy-_.h/2-parseInt(c.size)/10,P=L;r&&(L=n+_.dy-_.h,O=I+=_.w/2,P=L+_.h),le(_,I,O,L,P)}else if("line-through"==l.textDecoration){l.textDecoration="none";var B=t+_.dx,N=B+_.w,z=n+_.dy-_.h/2-parseInt(c.size)/10,j=z;r&&(z=n+_.dy-_.h,N=B+=_.w/2,j=z+_.h),le(_,B,N,z,j)}if(_.url){var R=3,G=_.w||16;r&&(R=0,G=_.h||16);var H=t+_.dx+R,W=(n+_.dy)/2-(G-3)/2,U=G,q=U;w+='<image xlink:href="'+_.url+'" transform="translate('+H+", "+W+')" width="'+U+'" height="'+q+'"></image>'}if(""!=_.text&&_.style.indexOf("background")>-1){var V,Y,X,J,K,Z=t+_.dx,Q=_.w,ee=n+_.dy-_.h-3,te=_.h+6,ne=null===(V=_.style.split("background:")[1])||void 0===V?void 0:V.split(";")[0],ie=null===(Y=_.style.split("border-color:")[1])||void 0===Y?void 0:Y.split(";")[0],oe=null===(X=_.style.split("border-radius:")[1])||void 0===X?void 0:X.split(";")[0];oe&&parseFloat(oe)>te/2&&(oe=te/2);var ae,re=parseInt(f[k-1]&&(null===(J=f[k-1].style.split("padding-left:")[1])||void 0===J?void 0:J.split("px")[0])||0),se=parseInt(f[k+1]&&(null===(K=f[k+1].style.split("padding-right:")[1])||void 0===K?void 0:K.split("px")[0])||0);r?(oe=0,re&&(ee-=3),se&&(te=te+(re=parseInt(f[1]&&(null===(ae=f[1].style.split("padding-left:")[1])||void 0===ae?void 0:ae.split("px")[0])||0))-4)):(re&&(Z-=re,Q+=re),se&&(Q+=se)),x+='<g><rect x="'+Z+'" y="'+ee+'" rx="'+oe+'" ry="'+oe+'" width="'+Q+'" height="'+te+'" fill="'+ne+'" style="stroke:'+ie+';stroke-width:1px;"></rect></g>'}}}function le(e,t,n,i,o){for(var a=e.style.split(";"),r=c.fill,s=0;s<a.length-1;s++)if(a[s].indexOf("fill")>-1){r=a[s].split(":")[1];break}y+='<line x1="'+t+'" y1="'+i+'" x2="'+n+'" y2="'+o+'"style="stroke:'+r+";stroke-width:"+Math.round(parseInt(c.size)/20)+'"></line>'}e.remove();for(var ce=[],de=0;de<f.length;de++)0!=ce.length&&Math.abs(f[de].dy-f[de-1].dy)<4&&0!==f[de].dy?ce[ce.length-1].texts.push(f[de]):ce.push({texts:[f[de]],dy:f[de].dy});if(r){for(var ue=0,pe=0;pe<ce.length;pe++){for(var he=$('<span style="'+e.attr("style")+' width:auto;"></span>').appendTo("body"),me=ce[pe].texts,fe=0;fe<me.length;fe++)he.append('<span style="'+me[fe].style+'">'+me[fe].text+"</span>");he.css("line-height","normal");var ge=he.width();ue=ue<ge?ge:ue,he.remove()}c.width=ue}c.width=parseInt(c.width),r?t+=c.width/2:t="middle"==c.anchor?t+c.width/2:"end"==c.anchor?c.width+t:t;for(var ve="",be=n-.4*parseInt(c.size),ye=0;ye<ce.length;ye++){for(var xe=ce[ye].texts,we="",ke=0,_e=0;_e<xe.length;_e++){var Ce=xe[_e];if(Ce.text="</br>"==Ce.text?" ":Ce.text,Ce.style){for(var Te=Ce.style.split(";"),Se=0;Se<Te.length;Se++)Te[Se].indexOf("font-family")>0&&(Te[Se]="font-family: 'Microsoft YaHei'"),Te[Se].indexOf("height")>0&&(ke=parseInt(Te[Se].split(":")[1]));if(Ce.style=Te.join(";").replace("color","fill"),Ce.style.indexOf("width")>-1)Ce.url||(we+=r?"<tspan>"+Ce.text+"</tspan>":'<tspan dx="'+$.trim(Ce.style.split("width:")[1].split("px")[0]-6)+'">'+Ce.text+"</tspan>");else if(r&&/^[A-Za-z]+$/.test(Ce.text))we+='<tspan dy="-0.5em" style="'+Ce.style+'" rotate="90">'+Ce.text+"</tspan>";else{var Me=xe[_e-1]&&xe[_e-1].style&&xe[_e-1].style.split("padding-left:");if(Me=Me&&Me.length>1?parseInt(Me[1].split("px")[0]):0){var De=xe[_e-2]&&xe[_e-2].style&&xe[_e-2].style.split("padding-right:");Me+=De=De&&De.length>1?parseInt(De[1].split("px")[0]):0}we+='<tspan dx="'+Me+'" style="'+Ce.style+'">'+Ce.text+"</tspan>"}}else{var Ee=xe[_e-1]&&xe[_e-1].style&&xe[_e-1].style.split("padding-right:");we+='<tspan dx="'+(Ee=Ee&&Ee.length>1?parseInt(Ee[1].split("px")[0]):0)+'">'+Ce.text+"</tspan>"}}if(c.lineHeight&&c.lineHeight.indexOf("%")>-1)var Ae=parseInt(c.lineHeight)/100;r?(xe[0].url&&(be=be+xe[0].h+4),ke>parseInt(c.size)*Ae?(be+=ke,ve+='<tspan x="'+(xe[0].dx+t+4)+'" y="'+be+'">'+we+"</tspan>"):"tag"==xe[0].type?(be+=parseInt(c.size),ve+='<tspan x="'+(xe[0].dx+t)+'" y="'+be+'">'+we+"</tspan>"):ve+='<tspan x="'+(xe[0].dx+t)+'" y="'+(be+xe[0].dy+4)+'">'+we+"</tspan>",xe[1]&&xe[1].style.indexOf("padding-right")>-1&&(be+=3)):ke>parseInt(c.size)*Ae?(ve+='<tspan x="'+t+'" y="'+(be=be+parseInt(c.size)*Ae+(ke-parseInt(c.size)*Ae)/2)+'">'+we+"</tspan>",be+=(ke-parseInt(c.size)*Ae)/2):(12==parseInt(c.size)?be+=parseInt(c.size)*Ae*.95:be+=parseInt(c.size)*Ae,ve+='<tspan x="'+t+'" y="'+be+'">'+we+"</tspan>")}return"<g>"+x+w+y+'<text text-anchor="'+c.anchor+'" align="top" anchor="'+c.anchor+'" font-size="'+c.size+'"  font-weight="'+c.weight+'" fill="'+c.fill+'" style="'+i.join("").replace(/"/g,"'").replace("underline","none").replace("line-through","none")+'">'+ve+"</text></g>"}},{key:"setPageColor",value:function(e){return-1!=e.indexOf("url(")?$("#mind-svg-con #svgbackgroundid rect").attr("fill","url(#svgBgId)"):$("#mind-svg-con #svgbackgroundid rect").attr("fill",e),$("#mind-svg-con").css("background","none"),{content:$("#mind-svg-con")[0].outerHTML.replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href")}}},{key:"setWatermark",value:function(e,t){var n=this.mindMap.watermark.getWatermarkColor(),i="http://www.w3.org/2000/svg";0==(t=t||$("#mind-svg-view-con")).length&&(t=$("#mind-svg-con")),t.find('[id^="export-watermark"]').remove();var o=[];"string"==typeof e&&(o=[e]),"object"==w(e)&&(o=e);for(var a=t.width(),r=t.height(),s=0;s<10;s++){var l=$("#pattern_mark_"+s);if(s>o.length-1){if(l.length){l.find("text").html("");continue}break}if(l.length)l.find("text").html(o[s]);else{var c=document.createElementNS(i,"g"),d=document.createElementNS(i,"defs");c.appendChild(d);var u=document.createElementNS(i,"pattern");u.setAttributeNS(null,"patternUnits","userSpaceOnUse"),u.setAttributeNS(null,"id","pattern_mark_"+s),u.setAttributeNS(null,"width",300),u.setAttributeNS(null,"height",300),d.appendChild(u);var p=document.createElementNS(i,"text");p.style.dominantBaseline="middle",p.style.textAnchor="middle",p.setAttributeNS(null,"x",150),p.setAttributeNS(null,"y",100*s+100),p.setAttributeNS(null,"fill",n),p.setAttributeNS(null,"font-size","18"),p.setAttributeNS(null,"transform","rotate(-45, ".concat(150,", ").concat(150,")")),p.textContent=$("<span/>").html(o[s]).text(),u.appendChild(p);var h=document.createElementNS(i,"rect");h.setAttributeNS(null,"fill","url(#pattern_mark_"+s+")"),h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",a),h.setAttributeNS(null,"height",r),h.setAttributeNS(null,"id","rect_mark_"+s),h.setAttributeNS(null,"pointer-events","none"),c.appendChild(h),c.setAttribute("id","export-watermark"),t.find("#svgbackgroundid").length?t.find("#svgbackgroundid").after(c):t.prepend(c)}}return{content:t[0].outerHTML.replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href")}}},{key:"setCustomWatermark",value:function(e,t){var n=(e=D(D({},{text:{},img:{},w:300,h:300}),e)).w,i=e.h,o=e.img,a=o.url,r=o.w||n,s=o.h||i,l=e.text,c=l.angle||0,d=l.content,u=l.color||"0, 0, 0, 0.8",p=l.size||18;0==(t=t||$("#mind-svg-view-con")).length&&(t=$("#mind-svg-con")),t.find('[id^="custom_mark_g"]').remove();var h=document.createElementNS(m,"defs"),m="http://www.w3.org/2000/svg",f=document.createElementNS(m,"pattern");if(f.setAttributeNS(null,"patternUnits","userSpaceOnUse"),f.setAttributeNS(null,"id","custom_mark"),f.setAttributeNS(null,"width",n),f.setAttributeNS(null,"height",i),h.appendChild(f),a){var g=document.createElementNS('xmlns:xlink="http://www.w3.org/1999/xlink"',"image");g.setAttributeNS(null,"patternUnits","userSpaceOnUse"),g.setAttributeNS(null,"href",a),g.setAttributeNS(null,"x",(n-r)/2),g.setAttributeNS(null,"y",(i-s)/2),g.setAttributeNS(null,"width",r),g.setAttributeNS(null,"height",s),g.setAttributeNS(null,"transform","rotate("+c+", "+n/2+", "+i/2+")"),f.appendChild(g)}if(d){var v=document.createElementNS(m,"text");v.style.dominantBaseline="middle",v.style.textAnchor="middle",v.setAttributeNS(null,"x",n/2),v.setAttributeNS(null,"y",i/2),v.setAttributeNS(null,"fill","rgba("+u+")"),v.setAttributeNS(null,"font-size",p),v.setAttributeNS(null,"transform","rotate("+c+", "+n/2+", "+i/2+")"),v.textContent=$("<span/>").html(d).text(),f.appendChild(v)}if(0==$("#custom_mark_rect").length){var b=document.createElementNS(m,"g"),y=document.createElementNS(m,"rect");y.setAttributeNS(null,"fill","url(#custom_mark)"),y.setAttributeNS(null,"x","0"),y.setAttributeNS(null,"y","0"),y.setAttributeNS(null,"width",t.width()),y.setAttributeNS(null,"height",t.height()),y.setAttributeNS(null,"id","custom_mark_rect"),y.setAttributeNS(null,"pointer-events","none"),b.appendChild(y),b.append(h),b.setAttributeNS(null,"id","custom_mark_g"),t.find("#svgbackgroundid").length?t.find("#svgbackgroundid").after(b):t.prepend(b)}return{content:t[0].outerHTML.replace(/custom_mark/g,"custom_mark_").replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href")}}},{key:"drawBrand",value:function(e,t){null==e&&(e=f.default.t("Trial_Watermark")),t=t||$("#mind-svg-view-con");var n=editorGlobal.mindMap.renderer.getBackgroundColor(),i="http://www.w3.org/2000/svg",o=this.getBrandColor(n);0==t.length&&(t=$("#mind-svg-con"));var a=[];"string"==typeof e&&(a=[e]),"object"==w(e)&&(a=e);for(var r=t.width(),s=t.height(),l=0;l<10;l++){var c=$("#wpspattern_mark_"+l);if(l>a.length-1){if(c.length){c.find("text").html("");continue}break}if(c.length)c.find("text").html(a[l]);else{var d=document.createElementNS(i,"g"),u=document.createElementNS(i,"defs");d.appendChild(u);var p=document.createElementNS(i,"pattern");p.setAttributeNS(null,"patternUnits","userSpaceOnUse"),p.setAttributeNS(null,"id","wpspattern_mark_"+l),p.setAttributeNS(null,"width",300),p.setAttributeNS(null,"height",300),u.appendChild(p),(e=document.createElementNS(i,"text")).style.dominantBaseline="middle",e.style.textAnchor="middle",e.setAttributeNS(null,"x",150),e.setAttributeNS(null,"y",100*l+100),e.setAttributeNS(null,"fill",o),e.setAttributeNS(null,"font-size","18"),e.setAttributeNS(null,"transform","rotate(-45, ".concat(150,", ").concat(150,")")),e.textContent=$("<span/>").html(a[l]).text(),p.appendChild(e);var h=document.createElementNS(i,"rect");h.setAttributeNS(null,"fill","url(#wpspattern_mark_"+l+")"),h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",r),h.setAttributeNS(null,"height",s),h.setAttributeNS(null,"id","rect_mark_"+l),h.setAttributeNS(null,"pointer-events","none"),d.appendChild(h),d.setAttribute("id","wpsexport-watermark");for(var m=t[0]?t[0].children:[],g=[],v=0;v<m.length;v++){var b=m[v];"style"===b.tagName.toLowerCase()&&g.push(b)}g.length>0?g[0].insertAdjacentElement("beforebegin",d):t.append(d)}}var y=t[0].outerHTML.replace(/&nbsp;/g," ").replace(/NS[0-9]+:href/g,"xlink:href");return{w:this.svgW,h:this.svgH,x:this.minX,y:this.minY,content:y}}},{key:"getBrandColor",value:function(e){var t,n,i,o="#0000004d";function a(e){var t,n,i;if("rgb"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")){var o=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*\d+(\.\d+)?)?\)/);t=parseInt(o[1]),n=parseInt(o[2]),i=parseInt(o[3])}else t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16);var a=t/255,r=n/255,s=i/255,l=Math.max(a,r,s),c=Math.min(a,r,s),d=(l+c)/2;if(l===c)return{h:0,s:0,l:100*d};var u,p=l-c,h=d>.5?p/(2-l-c):p/(l+c);switch(l){case a:u=(r-s)/p+(r<s?6:0);break;case r:u=(s-a)/p+2;break;case s:u=(a-r)/p+4}return{h:360*(u/=6),s:100*h,l:100*d}}if(null!=e){var r=function(e){var t=/#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})\b/g,n=/rgba?\(\d+,\d+,\d+(?:,(0|0?\.\d+|1))?\)/g,i=/hsla?\(\d+,\d+%,\d+%(?:,(0|0?\.\d+|1))?\)/g,o=0;if((e=e.replace(/[\s\n'"]/g,"")).match(t))o=a(e.match(t)[0],"hex");else if(e.match(n))o=a(e.match(n)[0],"rgb");else if(e.match(i)){var r=e.match(i)[0];o={h:Number(/hsla?\((\d+),/.exec(r)[1]),s:Number(/hsla?\((\d+),/.exec(r)[2]),l:Number(/hsla?\((\d+),/.exec(r)[3])}}return o.h>360&&(o.h=360),o.h<0&&(o.h=0),o}(e);t=r.h,n=r.l,i=["#0000004d","#ffffff80"],o=t<200||t>270?n<=30?i[1]:i[0]:n<=50?i[1]:i[0]}return o}}]),e}();t.Export=E,E.instanceName="poExport"},26544:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.NodeAddBtn=void 0,n(61894),n(4790),n(69268),n(84889),n(14237);var o=n(59081),a=n(27580),r=n(15240),s=i(n(78782)),l=i(n(32483)),c="#eef0f3",d="#ffffff";t.NodeAddBtn=function(){function e(t){T(this,e);var n=t.mindMap;this.mindMap=n,this.addBtnGroup=void 0,this.bindEvent()}return M(e,[{key:"bindEvent",value:function(){var e=this;this.mindMap.on("topic_selected",function(){e.renderNodeAddBtn()}),this.mindMap.on("rendered",function(){setTimeout(function(){e.renderNodeAddBtn(),e.renderCreateTopicBtn()},20)}),this.mindMap.on("hide_node_add_btn",function(){e.clear()}),this.mindMap.on("show_node_add_btn",function(){e.renderNodeAddBtn()})}},{key:"clear",value:function(){var e;null===(e=this.addBtnGroup)||void 0===e||e.remove()}},{key:"renderNodeAddBtn",value:function(){var e=this;if(this.clear(),!this.mindMap.opt.readonly){var t=this.mindMap.renderer.selectedTopicList[0];if(t&&!t.isHideSelf()){var n=this.getBtnConfigList(t);0!==n.length&&(this.addBtnGroup=new o.G,this.addBtnGroup.attr("class","node-add-btn-group"),n.forEach(function(n){var i=e.renderNodeAddBtnItem(t,n);e.addBtnGroup.add(i),e.updateNodeAddBtnPos(t,i,n)}),this.mindMap.otherDraw.add(this.addBtnGroup))}}}},{key:"renderNodeAddBtnItem",value:function(e,t){var n=this;this.mindMap.emit("hideCanvasTip");var i=new o.G;i.attr("class","node-add-btn"),i.attr("data-type",t.type),i.attr("data-id",e.id),i.attr("data-pos",t.pos);var a=(new o.Circle).size(20).cx(10).cy(10).fill(c);"v1"===editorGlobal.config.uiType&&(a.fill(d),a.stroke({color:"rgba(13,13,13,0.14)",width:1}));var r=new o.SVG('<svg t="1730807819450" fill="#9AA5B8"  version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6357">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5.19995 10.0002C5.19995 9.55837 5.55812 9.2002 5.99995 9.2002H14C14.4418 9.2002 14.8 9.55837 14.8 10.0002C14.8 10.442 14.4418 10.8002 14 10.8002H5.99995C5.55812 10.8002 5.19995 10.442 5.19995 10.0002Z"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10 5.2002C10.4419 5.2002 10.8 5.55837 10.8 6.0002L10.8 14.0002C10.8 14.442 10.4419 14.8002 10 14.8002C9.55822 14.8002 9.20005 14.442 9.20005 14.0002L9.20005 6.0002C9.20005 5.55837 9.55822 5.2002 10 5.2002Z"/>\n</svg>').size(20,20).move(0,0);return i.add(a).add(r),i.on("mouseenter",function(){"v1"===editorGlobal.config.uiType?a.fill("var(--color-brand-mind-normal)"):a.fill("#067bef"),r.fill("#fff");var e=i.node.getBoundingClientRect();n.mindMap.emit("showCanvasTip",{x:e.left+e.width/2,y:e.top+e.height},n.getTipText(t.type))}),i.on("mouseleave",function(){a.fill(c),"v1"===editorGlobal.config.uiType&&a.fill(d),r.fill("#9AA5B8"),n.mindMap.emit("hideCanvasTip")}),i.on("mousedown",function(e){e.stopPropagation()}),i.on("touchstart",function(e){e.stopPropagation()}),i.on("click",function(t){t.stopPropagation();var o=i.attr("data-type");n.onClick(o,e),n.mindMap.emit("hideCanvasTip")}),i.on("dblclick",function(e){e.stopPropagation()}),i}},{key:"onClick",value:function(e,t){if(!this.mindMap.opt.readonly)switch(e){case"child":this.mindMap.execCommand("INSERT_CHILD_TOPIC"),this.mindMap.execCommand("INSERT_AI_CHILD");break;case"next":case"prev":var n=this.mindMap.renderer.getNewTopicBehavior([t.parent],[]),i=n.openEditor,o=n.isSelected,a=[],s={},l={},c=1===t.layerIndex?"subTopic":"childTopic",d=this.mindMap.renderer.createNewTopic(c,t.parent.id,o,i),u=(0,r.getTopicIndexInTopicList)(t,t.parent.topicData.children);a.push(d),l[d.id]="next"===e?u+1:u,s[d.id]=t.part,this.mindMap.execCommand("ADD_TOPIC_MULTI",a,null,l,o,s);break;case"parent":this.mindMap.execCommand("INSERT_PARENT_TOPIC")}}},{key:"getBtnConfigList",value:function(e){var t,n,i=e.topicData,o=i.children,r=i.freeChildren,s=0===[].concat(h(r||[]),h(o||[])).length,l=this.mindMap.topicDrag.getTopicToward(e),c=this.mindMap.renderer.getCacheTopic(this.mindMap.renderer.mindTree.id).isHideSelf(),d=c&&!e.isRoot&&e.id!==(null===(t=this.mindMap.renderer.currentRoot)||void 0===t?void 0:t.id)&&!e.summary&&!e.free&&1===e.layerIndex,u=c&&!e.isRoot&&e.id!==(null===(n=this.mindMap.renderer.currentRoot)||void 0===n?void 0:n.id)&&!e.summary&&!e.free&&1===e.layerIndex,p=d?this.mindMap.topicDrag.getTopicChildrenToward(e.parent):void 0,m=e.parent?this.mindMap.topicDrag.getTopicToward(e.parent):void 0;switch(l){case a.TOPIC_TOWARD.RIGHT:case a.TOPIC_TOWARD.RIGHT_LEFT:var f=[];return s&&f.push({type:"child",pos:"right"}),d&&p&&m&&(p===a.TOPIC_CHILDREN_TOWARD.VERTICAL&&(m!==a.TOPIC_TOWARD.UP?f.push({type:"prev",pos:"top"},{type:"next",pos:"bottom"}):f.push({type:"prev",pos:"bottom"},{type:"next",pos:"top"})),u&&f.push({type:"parent",pos:"left"})),f;case a.TOPIC_TOWARD.LEFT:var g=[];return s&&g.push({type:"child",pos:"left"}),d&&p&&m&&(p===a.TOPIC_CHILDREN_TOWARD.VERTICAL&&(m!==a.TOPIC_TOWARD.UP?g.push({type:"prev",pos:"top"},{type:"next",pos:"bottom"}):g.push({type:"prev",pos:"bottom"},{type:"next",pos:"top"})),u&&g.push({type:"parent",pos:"right"})),g;case a.TOPIC_TOWARD.UP:var v=[];return s&&v.push({type:"child",pos:"top"}),d&&p&&m&&("right"===e.part?v.push({type:"prev",pos:"left"},{type:"next",pos:"right"}):v.push({type:"prev",pos:"right"},{type:"next",pos:"left"}),u&&v.push({type:"parent",pos:"bottom"})),v;case a.TOPIC_TOWARD.DOWN:var b=[];return s&&b.push({type:"child",pos:"bottom"}),d&&p&&m&&("right"===e.part?b.push({type:"prev",pos:"left"},{type:"next",pos:"right"}):b.push({type:"prev",pos:"right"},{type:"next",pos:"left"}),u&&b.push({type:"parent",pos:"top"})),b;default:return[]}}},{key:"updateNodeAddBtnsPos",value:function(){var e=this;this.mindMap.nodes.forEach(function(t){var n=t.btns;n&&n.forEach(function(n){e.updateNodeAddBtnPos(t,n.node,n.config)})})}},{key:"updateNodeAddBtnPos",value:function(e,t,n){var i=this.mindMap.opt.hoverRectPadding,o=n.pos,a=t.bbox(),r=a.width,s=a.height,l=e.width,c=e.height,d=e.left,u=e.top,p=i+4;"right"===o?t.translate(d+l+p,u+c/2-s/2):"left"===o?t.translate(d-p-r,u+c/2-s/2):"top"===o?t.translate(d+l/2-r/2,u-s-p):"bottom"===o&&t.translate(d+l/2-r/2,u+c+p)}},{key:"getTipText",value:function(e){switch(e){case"parent":return l.default.t("js.Parent_theme")+"(Shift+Tab)";case"prev":case"next":return l.default.t("js.Peer_topics")+"(Enter)";case"child":return l.default.t("js.Subtopic")+"(Tab)"}}},{key:"renderCreateTopicBtn",value:function(){var e=C(k().mark(function e(){var t,n,i,o,a=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=this.createSubTopicBtn)||void 0===t||t.remove(),!this.mindMap.opt.readonly){e.next=2;break}return e.abrupt("return");case 2:if(!(n=this.mindMap.renderer.mindTree._topic).isHideSelf()||0!==n.children.length){e.next=14;break}return i={children:[],id:(0,r.createId)(),parent:this.mindMap.renderer.mindTree.id,title:l.default.t("js.Create_Node")},o=new s.default({data:i,id:i.id,parent:n,renderer:this.mindMap.renderer,mindMap:this.mindMap,isRoot:!1,layout:n.layout,layerIndex:1}),e.next=7,o.renderOrUpdateLayout();case 7:this.createSubTopicBtn=o.group.clone(),this.createSubTopicBtn.attr({class:"createSubTopicBtn",style:"cursor:pointer;"}),o.destroy(),this.createSubTopicBtn.on("dblclick",function(e){e.stopPropagation()}),this.createSubTopicBtn.on("mousedown",function(e){e.stopPropagation()}),this.createSubTopicBtn.on("click",function(){a.mindMap.opt.readonly||a.mindMap.execCommand("INSERT_CHILD_TOPIC",[n])}),this.mindMap.otherDraw.add(this.createSubTopicBtn);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}()},43470:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(){function e(t){T(this,e);var n=t.minWidth,i=t.moveFn,o=t.resizeDom,a=t.selectedDom,r=t.upFn,s=t.currentWidth,l=t.maxWidth;this.minWidth=n,this.moveFn=i,this.upFn=r,this.resizeDom=o,this.selectedDom=a,this.mindMap=editorGlobal.mindMap,this.width=s,this.maxWidth=l,this.init()}return M(e,[{key:"init",value:function(){var e=this,t=this.minWidth;this.resizeDom.on("mousedown",function(n){e.mindMap.isResizeMode=!0,n.stopPropagation();var i=$(n.target).attr("resize"),o=0,a={canResize:!1,isMouseDown:!0,dis:0},r=e.selectedDom.x(),s=e.selectedDom.width();if(i){var l=n.pageX,c=function(n){var c,d=n.pageX;a.dis=c=d-l,!a.canResize&&Math.abs(c)>3&&(a.canResize=!0);var u=r,p=e.width,h=e.mindMap.view.scale;a.canResize&&("1"===i?(u+=c/h,p-=c/h):p+=c/h),o=Math.max(p,t),o=Math.min(o,e.maxWidth),e.moveFn(Math.min(u,r+s-t-4),o)},d=function t(){e.mindMap.isResizeMode=!1,e.mindMap.off("mousemove",c),e.mindMap.off("mouseup",t),e.mindMap.off("topic_mouseup",t),e.upFn(o)};e.mindMap.on("mousemove",c),e.mindMap.on("mouseup",d),e.mindMap.on("topic_mouseup",d)}})}}]),e}()},73761:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Selectbox=void 0,n(69268),n(86837),n(84889),n(14237);var i=n(3578),o=n(15240);t.Selectbox=function(){function e(t){T(this,e);var n=t.mindMap;this.mindMap=n,this.opt=n.opt,this.rect=null,this.isMousedown=!1,this.mouseMoveX=0,this.mouseMoveY=0,this.isSelecting=!1,this.cacheSelectedList=[],this.mouseSelectedTopic=!1,this.startPos=null,this.opt.onlyThumbnail||this.bindEvent()}return M(e,[{key:"bindEvent",value:function(){var e=this;this.onMousedown=this.onMousedown.bind(this),this.onMousemove=this.onMousemove.bind(this),this.onMouseup=this.onMouseup.bind(this),this.checkInNodes_throttle=(0,o.throttle)(this.checkInNodes,300,this),this.mindMap.on("mousedown",this.onMousedown),this.mindMap.on("mousemove",this.onMousemove),this.mindMap.on("mouseup",this.onMouseup),this.mindMap.on("topic_mousedown",function(){e.mouseSelectedTopic=!0}),this.mindMap.on("topic_mouseup",this.onMouseup)}},{key:"unBindEvent",value:function(){this.mindMap.off("mousedown",this.onMousedown),this.mindMap.off("mousemove",this.onMousemove),this.mindMap.off("mouseup",this.onMouseup),this.mindMap.off("topic_mouseup",this.onMouseup)}},{key:"onMousedown",value:function(e){if(this.mindMap.opt.readonlyList.selectShape){var t=this.mindMap.opt.leftButton;!1===this.mouseSelectedTopic&&("select"===t||e.ctrlKey||e.metaKey)&&this.mindMap.event.isLeftMousedown&&!this.mindMap.event.isSpacePressed&&(this.isMousedown=!0,this.cacheSelectedList=h(this.mindMap.renderer.selectedTopicList),this.startPos=this.mindMap.toSvgPos(e),this.createRect(this.startPos.x,this.startPos.y)),(e.ctrlKey||e.metaKey)&&i.presenter.beforeSelecting&&0==i.presenter.selecting&&i.presenter.initSelect()}}},{key:"onMousemove",value:function(e){var t=this;if(this.mindMap.opt.readonlyList.selectShape&&this.isMousedown){var n=e.clientX,i=e.clientY;!e.deltaX&&!e.deltaY||e.ctrlKey||e.metaKey||(this.mouseDownX-=2*e.deltaX,this.mouseDownY-=2*e.deltaY);var a=this.mindMap.toPos(n,i),r=a.x,s=a.y;this.mouseMoveX=r,this.mouseMoveY=s,Math.abs(r-this.mouseDownX)<=10&&Math.abs(s-this.mouseDownY)<=10||(0,o.mapAutoMove)(this.mindMap,n,i,function(){t.isSelecting=!0;var n=t.mindMap.toSvgPos(e);t.updateRect(t.startPos,n),t.checkInNodes_throttle()})}}},{key:"onMouseup",value:function(){var e=this;this.mouseSelectedTopic=!1,this.mindMap.opt.readonlyList.selectShape&&this.isMousedown&&(this.isSelecting&&this.checkInNodes(),this.checkTriggerNodeSelectedEvent(),this.isMousedown=!1,this.startPos=null,this.cacheSelectedList=[],this.rect&&this.rect.remove(),this.rect=null,setTimeout(function(){e.isSelecting=!1},0),1==i.presenter.selecting&&(i.presenter.selecting=!1,i.presenter.endSelect(this.mindMap.renderer.selectedTopicList)))}},{key:"checkTriggerNodeSelectedEvent",value:function(){var e=this,t=this.cacheSelectedList.length!==this.mindMap.renderer.selectedTopicList.length,n=!1;if(!t)for(var i=function(t){var i=e.cacheSelectedList[t];if(!e.mindMap.renderer.selectedTopicList.find(function(e){return e.getData("id")===i.getData("id")}))return n=!0,"break"},o=0;o<this.cacheSelectedList.length;o++){if("break"===i(o))break}(t||n)&&this.mindMap.renderer.emitTopicSelectEvent()}},{key:"createRect",value:function(e,t){this.rect&&this.rect.remove(),this.rect=this.mindMap.otherDraw.rect(0,0).stroke({color:"#0984e3"}).fill({color:"rgba(9,132,227,0.3)"}).move(e,t)}},{key:"updateRect",value:function(e,t){var n=Math.min(e.x,t.x),i=Math.min(e.y,t.y),o=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);this.rect.move(n,i).size(o,a)}},{key:"checkInNodes",value:function(){var e=this,t=this.mindMap.draw.transform(),n=t.scaleX,i=t.scaleY,a=t.translateX,r=t.translateY,s=this.rect.bbox();if(0!==s.width&&0!==s.height){var l=this.mindMap.svgPosToClient({x:s.x,y:s.y}),c=l.x,d=l.y,u=this.mindMap.svgPosToClient({x:s.x2,y:s.y2}),p=u.x,h=u.y;this.mindMap.renderer.getLruPool().forEach(function(t){if(!t.getData("boundary")&&!t.isHideSelf()){var s=t.left,l=t.top,u=t.width,m=t.height,f=(s+u)*n+a,g=(l+m)*i+r;if(s=s*n+a,l=l*i+r,(0,o.checkTwoRectIsOverlap)(c,p,d,h,s,f,l,g)){if(t.getData("isSelected"))return;e.mindMap.renderer.addTopicToSelectedList(t)}else if(t.getData("isSelected")){if(!t.getData("isSelected"))return;e.mindMap.renderer.removeNodeFromSelectedList(t)}}})}}},{key:"hasSelectRange",value:function(){return this.isSelecting}},{key:"beforePluginRemove",value:function(){this.unBindEvent()}},{key:"beforePluginDestroy",value:function(){this.unBindEvent()}}]),e}()},27580:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.TopicDrag=t.TOPIC_TOWARD=t.TOPIC_CHILDREN_TOWARD=void 0,n(27531),n(61894),n(24932),n(65534),n(64518),n(14544),n(23801),n(66096),n(63551),n(40724),n(81006),n(38887),n(69268),n(72747),n(58500),n(86837),n(84889),n(54938),n(19268),n(14237);var o=n(15240),a=n(59081),r=n(80214),s=i(n(32483)),l=r.CONSTANTS.LAYOUT,c=l.MINDMAP,d=l.LOGIC,u=l.TREE_ORG,p=l.ORG,m=l.FISHBONE,f=l.TIMELINE,g=l.TREE,b=l.BRACE,y=l.MOBI_TREE,x=t.TOPIC_TOWARD={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",RIGHT_LEFT:"rightLeft"},w=t.TOPIC_CHILDREN_TOWARD={VERTICAL:"vertical",HORIZONTAL:"horizontal"};t.TopicDrag=function(){function e(t){T(this,e);var n=t.mindMap;this.mindMap=n,this.renderer=this.mindMap.renderer,this.subTopicFreeDrag=!1,this.mindMap.opt.onlyThumbnail||(this.reset(),this.bindEvent())}return M(e,[{key:"reset",value:function(){this.isDragging=!1,this.mousedownNode=null,this.beingDragNodeList=[],this.topicBoundaryInfoListMap=new Map,this.overlapNode=null,this.insertRootPos="right",this.prevNode=null,this.nextNode=null,this.drawTransform=null,this.clone=null,this.placeholder=null,this.offsetX=0,this.offsetY=0,this.isMousedown=!1,this.mouseDownX=0,this.mouseDownY=0,this.mouseMoveX=0,this.mouseMoveY=0,this.mouseMoveEvent=null,this.checkDragOffset=10,this.minOffset=10,this.placeholderRelativeOffset=10,this.placeholderSize=[50,15],this.previewLine=null,this.crossExpendValue=40,this.headHotArea=25,this.childrenAreaCrossExpendValue=40}},{key:"bindEvent",value:function(){this.onNodeMousedown=this.onNodeMousedown.bind(this),this.onMousemove=this.onMousemove.bind(this),this.onMouseup=this.onMouseup.bind(this),this.detectPreviewPosThrottle=(0,o.throttleRaf)(this.detectPreviewPos,this),this.mindMap.on("topic_mousedown",this.onNodeMousedown),this.mindMap.on("mousemove",this.onMousemove),this.mindMap.on("topic_mouseup",this.onMouseup),this.mindMap.on("mouseup",this.onMouseup)}},{key:"unBindEvent",value:function(){this.mindMap.off("topic_mousedown",this.onNodeMousedown),this.mindMap.off("mousemove",this.onMousemove),this.mindMap.off("topic_mouseup",this.onMouseup),this.mindMap.off("mouseup",this.onMouseup)}},{key:"onNodeMousedown",value:function(e,t){if(!(this.mindMap.opt.readonly||1!==t.which||e.summary||e.boundary||e.isRoot||e.focus)){t.preventDefault(),this.isMousedown=!0,this.mousedownNode=e;var n=this.mindMap.toPos(t.clientX,t.clientY),i=n.x,o=n.y;this.mouseDownX=i,this.mouseDownY=o}}},{key:"onMousemove",value:function(e){if(!this.mindMap.opt.readonly&&this.isMousedown){e.preventDefault();var t=this.mindMap.toPos(e.clientX,e.clientY),n=t.x,i=t.y;this.mouseMoveX=n,this.mouseMoveY=i,this.mouseMoveEvent=e,!this.isDragging&&Math.abs(n-this.mouseDownX)<=this.checkDragOffset&&Math.abs(i-this.mouseDownY)<=this.checkDragOffset||($.toast("close"),(0,o.isMobile)()&&$.toast({type:"secondary",text:s.default.t("js.Drag_to_other_topics")}),this.mindMap.emit("topic_dragging",this.mousedownNode),this.handleStartMove(),this.onMove(n,i,e))}}},{key:"onMove",value:function(e,t,n){var i=this;if(this.isMousedown){n.preventDefault();var a=Math.abs(e-this.mouseDownX),r=Math.abs(t-this.mouseDownY),l=this.drawTransform,c=l.scaleX,d=l.scaleY,u=l.translateX,p=l.translateY;e=(e-this.offsetX-u)/c,t=(t-this.offsetY-p)/d;var h=this.clone.transform();if(this.clone.translate(e-h.translateX,t-h.translateY),this.subTopicFreeDrag){var m=this.mousedownNode,f=this.clone.transform(),g=f.translateX,v=f.translateY,b={x:"right"===m.part?g:g+m.width,y:v+m.verticalPointPosition(),h:m.height,w:m.width},y=this.renderer.getTopicLayout("mindmap"),x=y.drawPath(m.parent,b),w=(0,o.getTopicIndexInTopicList)(m,m.parent.children),k=m.parent._linesGroup[w];y.setLineStyle(k,x,m)}else{var _=this.mousedownNode.free;_&&this.mindMap.opt.flexibleFreeTopic||(this.detectPreviewPosThrottle(),_||this.mindMap.renderer.currentRoot||this.overlapNode||this.prevNode||this.nextNode||(a>200||r>200)&&$.toast({type:"secondary",text:s.default.t("js.Release_the_mouse")})),(0,o.mapAutoMove)(this.mindMap,n.clientX,n.clientY,function(){i.drawTransform=i.mindMap.draw.transform()},function(e,t){switch(e){case"left":i.clone.translate(-t,0);break;case"top":i.clone.translate(0,-t);break;case"right":i.clone.translate(t,0);break;case"bottom":i.clone.translate(0,t)}})}}}},{key:"handleStartMove",value:function(){if(!this.isDragging){var e;this.isDragging=!0;var t=this.mousedownNode;this.drawTransform=this.mindMap.draw.transform();var n=this.drawTransform,i=n.scaleX,a=n.scaleY,r=n.translateX,s=n.translateY;this.offsetX=this.mouseDownX-(t.left*i+r),this.offsetY=this.mouseDownY-(t.top*a+s),t.getData("isSelected")?this.beingDragNodeList=(0,o.getTopAncestorsFomNodeList)(this.mindMap.renderer.selectedTopicList.filter(function(e){return!e.isRoot&&!e.summary&&!e.boundary})):this.beingDragNodeList=[t];var l=this.renderer.mindTree.structure;this.subTopicFreeDrag=!this.mousedownNode.free&&(null===(e=this.mousedownNode)||void 0===e||null===(e=e.parent)||void 0===e?void 0:e.isRoot)&&this.mindMap.renderer.mindTree.enableFreeDrag&&"mind_free"===l&&1===this.beingDragNodeList.length,this.crossExpendValue=this.crossExpendValue*this.mindMap.view.scale,this.headHotArea=this.headHotArea*this.mindMap.view.scale,this.childrenAreaCrossExpendValue=this.headHotArea*this.mindMap.view.scale,this.calcTopicBoundary(),this.createCloneNode(),this.mindMap.execCommand("CLEAR_ALL_SELECTED_TOPIC")}}},{key:"onMouseup",value:function(e){var t=this;if(this.isMousedown){this.isMousedown=!1;var n=this.beingDragNodeList.map(function(e){return e.setOpacity(1),e.showChildren(),e.endDrag(),e.topicData});this.removeCloneNode();var i=this.beingDragNodeList.every(function(e){return e.free});if(this.overlapNode)this.mindMap.execCommand("SET_TOPIC_ACTIVE",this.overlapNode,!1),this.mindMap.execCommand("UPDATE_TOPIC_POS",n,(0,o.copyTopicsData)(n),this.overlapNode.topicData,-1,null,!0,this.insertRootPos);else if(this.prevNode){this.mindMap.execCommand("SET_TOPIC_ACTIVE",this.prevNode,!1);var a=this.prevNode.parent,r=(0,o.getTopicIndexInTopicList)(this.prevNode,a.children);this.mindMap.execCommand("UPDATE_TOPIC_POS",n,(0,o.copyTopicsData)(n),a.topicData,r+1,null,!0,this.prevNode.part)}else if(this.nextNode){this.mindMap.execCommand("SET_TOPIC_ACTIVE",this.nextNode,!1);var s=this.nextNode.parent,l=(0,o.getTopicIndexInTopicList)(this.nextNode,s.children);this.mindMap.execCommand("UPDATE_TOPIC_POS",n,(0,o.copyTopicsData)(n),s.topicData,l,null,!0,this.nextNode.part)}else if(this.clone&&this.mousedownNode){var c=this.mindMap.toPos(e.clientX,e.clientY),d=Math.abs(c.x-this.mouseDownX),u=Math.abs(c.y-this.mouseDownY),p=this.mindMap.toPos(e.clientX-this.offsetX,e.clientY-this.offsetY),h=p.x,m=p.y,f=this.drawTransform,g=f.scaleX,v=f.scaleY,b=f.translateX,y=f.translateY;if(h=(h-b)/g,m=(m-y)/v,this.subTopicFreeDrag){var x=(0,o.getPartChildren)(this.renderer.root),w=x.rightChildren,k=x.leftChildren,_=this.renderer.root.left+this.renderer.root.width/2,C=[],T="right";h+this.mousedownNode.width/2>_?(T="right",C=w):(T="left",C=k);var S="left"===T?w.length:0,M=C.reduce(function(e,n){var i=n.top+n.verticalPointPosition();return m+t.mousedownNode.height/2>i&&n.id!=t.mousedownNode.id?(0,o.getTopicIndexInTopicList)(n,n.parent.children)+1:e},S),D=(0,o.getTopicIndexInTopicList)(this.mousedownNode,this.mousedownNode.parent.children),E=(0,o.copyTopicData)(this.mousedownNode),A=this.mousedownNode.topicData;A.pos={x:h,y:m},D!=M||T!=this.mousedownNode.part?this.mindMap.execCommand("UPDATE_TOPIC_POS",A,E,this.renderer.mindTree,M,null,!0,T):this.mindMap.execCommand("UPDATE_TOPIC_NODE",A,E,"pos")}else if(i||this.mousedownNode.free){var F=i?this.beingDragNodeList:[this.mousedownNode],I=[],O=[],L=this.mousedownNode.topicData.pos;F.forEach(function(e){I.push((0,o.copyTopicData)(e));var n=e.topicData;if(e.id===t.mousedownNode.id)n.pos={x:h,y:m};else{var i=e.topicData.pos;n.pos={x:i.x-L.x+h,y:i.y-L.y+m}}O.push(n)}),this.mindMap.execCommand("UPDATE_TOPIC_NODE",O,I,"pos"),this.mindMap.execCommand("ADD_TOPICS_TO_SELECTED_LIST",this.beingDragNodeList);var P=this.beingDragNodeList,B=[];P.forEach(function(e){var n=t.mindMap.connectionLine.getConnectionsByTopic(e.id);B=B.concat(n)}),B=Array.from(new Set(B)),this.mindMap.emit("resetAllConnectionPos",this.mindMap.renderer.mindTree,B,!0)}else if(d>200||u>200){var N=this.mousedownNode;this.mindMap.execCommand("CHANGE_TO_FREE_TOPIC",N.topicData,null,{x:h,y:m},!0)}}this.isDragging&&($.toast("close"),this.mindMap.emit("topic_dragend")),this.reset()}}},{key:"calcTopicBoundary",value:function(){var e=this,t=this,n=new Map,i=this.mindMap.renderer.getLruPool();this.mindMap.renderer.filterTopicIds.length>0&&(i=i.filter(function(t){return e.mindMap.renderer.filterTopicIds.includes(t.id)})),i.forEach(function(i){(0,o.walk)(i,i.parent||null,function(e,i,o,a,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!(t.checkIsInBeingDragNodeList(e)||e.boundary||n.get(e))){var l=t.getNodeRect(e);n.set(e,{topic:e,minX:l.originLeft,maxX:l.originRight,minY:l.originTop,maxY:l.originBottom,w:l.width,h:l.height,index:s})}},function(t){if(!e.checkIsInBeingDragNodeList(t)&&!t.boundary){var i=n.get(t);if(!i.leftChildren&&!i.rightChildren){var o=[],a=[];if(t.children.forEach(function(i){var r=n.get(i);if(r){var s=e.mindMap.getLayoutByStructure(t.getData("structure")||t.layout);[m].includes(s)&&0===t.layoutIndex?"up"===i.dir?o.push(r):a.push(r):"left"===i.part?o.push(r):a.push(r)}}),o.length){var r=Math.min.apply(Math,h(o.map(function(e){return e.minX}))),s=Math.max.apply(Math,h(o.map(function(e){return e.maxX}))),l=Math.min.apply(Math,h(o.map(function(e){return e.minY}))),c=Math.max.apply(Math,h(o.map(function(e){return e.maxY})));i.leftChildrenBoundary={minX:r,maxX:s,minY:l,maxY:c},i.leftChildren=o}if(a.length){var d=Math.min.apply(Math,h(a.map(function(e){return e.minX}))),u=Math.max.apply(Math,h(a.map(function(e){return e.maxX}))),p=Math.min.apply(Math,h(a.map(function(e){return e.minY}))),f=Math.max.apply(Math,h(a.map(function(e){return e.maxY})));i.rightChildrenBoundary={minX:d,maxX:u,minY:p,maxY:f},i.rightChildren=a}}}},i.isRoot,i.layout,i.layoutIndex)}),this.topicBoundaryInfoListMap=n}},{key:"createCloneNode",value:function(){var e=this;if(!this.clone){var t=this.mindMap.opt,n=t.dragPlaceholderRectFill,i=t.dragOpacityConfig,o=this.beingDragNodeList.every(function(e){return e.free}),r=o?this.beingDragNodeList:[this.beingDragNodeList[0]];if(this.clone=new a.G,o){var l=this.mousedownNode;r.forEach(function(t){var n=t.group.clone();n.untransform(),t.id!==l.id&&n.translate(t.left-l.left,t.top-l.top),e.clone.add(n)})}else{var c=this.mousedownNode.group.clone();c.untransform(),this.clone.add(c)}var d=this.clone.findOne(".expand-btn");d&&d.remove();var u=this.mindMap.renderer.selectedTopicList.filter(function(e){return!e.isRoot&&!e.summary&&!e.boundary});u.length>1&&!this.mousedownNode.free&&(this.clone.findOne(".po-richtext-node-wrap span").node.textContent=u.length+s.default.t("js.A_node")),this.mindMap.otherDraw.add(this.clone),this.clone.opacity(i.cloneNodeOpacity),this.placeholder=this.mindMap.otherDraw.rect().radius(4,4).fill({color:n}),this.beingDragNodeList.forEach(function(e){e.setOpacity(i.beingDragNodeOpacity),e.startDrag()})}}},{key:"removeCloneNode",value:function(){var e;this.clone&&(this.clone.remove(),this.placeholder.remove(),null===(e=this.previewLine)||void 0===e||e.remove())}},{key:"updatePreviewLine",value:function(e){var t,n=this.mindMap.opt.dragPlaceholderRectFill;null===(t=this.previewLine)||void 0===t||t.remove(),this.previewLine=this.mindMap.otherDraw.path(e).stroke({color:n,width:2}).fill("none")}},{key:"isFreeOrRoot",value:function(e){return(null==e?void 0:e.free)||(null==e?void 0:e.isRoot)}},{key:"detectPreviewPos",value:function(){var e;if(this.drawTransform&&this.placeholder){this.overlapNode=null,this.prevNode=null,this.nextNode=null,this.placeholder.size(0,0),null===(e=this.previewLine)||void 0===e||e.remove();var t=Array.from(this.topicBoundaryInfoListMap.values());t.reverse();for(var n=0,i=t;n<i.length;n++){var o=i[n];if(this.overlapNode||this.prevNode||this.nextNode)break;this.detectTargetTopic(o)}if(!this.overlapNode&&!this.prevNode&&!this.nextNode){var a,r=v(t);try{for(r.s();!(a=r.n()).done;){var s=a.value;if(this.overlapNode||this.prevNode||this.nextNode)break;this.detectTargetTopicChildren(s),this.prevNode?this.isReverseDir(this.prevNode)&&(this.nextNode=this.prevNode,this.prevNode=null):this.nextNode&&this.isReverseDir(this.nextNode)&&(this.prevNode=this.nextNode,this.nextNode=null)}}catch(M){r.e(M)}finally{r.f()}}if(this.overlapNode||this.prevNode||this.nextNode)if(this.overlapNode){var l,c=null!==(l=this.overlapNode)&&void 0!==l&&l.isRoot?this.insertRootPos:this.getTopicToward(this.overlapNode);if([x.LEFT,x.RIGHT,x.RIGHT_LEFT].includes(c)){if(this.overlapNode.children.filter(function(e){return e.part===c}).length>0)return void(this.overlapNode=null)}else if(this.overlapNode.childLen>0)return void(this.overlapNode=null);var d=this.getPreviewPosAndEndPointByParentTopic(this.overlapNode,c),u=d.start,p=d.pos,h=d.end;this.updatePlaceholderRect(p.x,p.y);var m="M ".concat(u.x," ").concat(u.y," L ").concat(h.x," ").concat(h.y);this.updatePreviewLine(m)}else{var f=this.prevNode||this.nextNode,g=f.parent.layout,b=this.getNodeRect(f),y=this.getPreviewPosAndEndPointBySiblingTopic(f,b,this.nextNode?"before":"after"),w=y.pos,k=y.end,_=y.insertIndex,C=k;if(w&&this.updatePlaceholderRect(w.x,w.y),C){var T=this.mindMap.renderer.getTopicLayout(g).drawPath(f.parent,C,_);if(!T){var S=this.getPreviewPosAndEndPointByParentTopic(f.parent,this.getTopicToward(f.parent)).start;T="M ".concat(S.x," ").concat(S.y," L ").concat(C.x," ").concat(C.y)}this.updatePreviewLine(T)}}}}},{key:"getTopicToward",value:function(e){var t=e.layout,n=e.layoutIndex,i=e.getData("structure"),o=i||t;switch(this.mindMap.getLayoutByStructure(i||e.layout)){case c:return e.isRoot?"mind_right"===o?x.RIGHT:"mind_left"===o?x.LEFT:x.RIGHT_LEFT:e.part;case d:return e.isRoot?"mind_logic_left"===o?x.LEFT:x.RIGHT:e.part;case u:return n<=1?x.DOWN:e.part;case p:return x.DOWN;case m:return e.isRoot?"mind_ishikawa_right"===o?x.LEFT:x.RIGHT:1===n?"up"===e.dir?x.DOWN:x.UP:e.part;case f:return e.isRoot?x.RIGHT:1===n?"up"===e.dir?x.UP:x.DOWN:e.part;case y:case g:return e.dir;case b:return e.isRoot?"mind_brace_left"===o?x.LEFT:x.RIGHT:e.part}}},{key:"isReverseDir",value:function(e){var t=e.parent,n=this.getTopicChildrenToward(t),i=this.getTopicToward(t);return n===w.HORIZONTAL?"left"===e.part:e.layout===m&&i===x.UP}},{key:"detectTargetTopic",value:function(e){var t=this,n=e.topic,i=this.getTopicToward(n),o=this.mindMap.getLayoutByStructure(n.getData("structure")||n.layout),a=this.mindMap.toSvgPos(this.mouseMoveEvent),r=a.x,s=a.y,l=e.w,c=e.h;if([x.LEFT,x.RIGHT,x.RIGHT_LEFT].includes(i)){var d=e.minX,u=e.maxX+this.crossExpendValue;i===x.LEFT&&(d=e.minX-this.crossExpendValue,u=e.maxX),i===x.RIGHT_LEFT&&(d=e.minX-this.crossExpendValue,u=e.maxX+this.crossExpendValue);var p=Math.min(this.headHotArea,e.w/4);if(r>=d&&r<=u&&s>=e.minY&&s<=e.maxY){var g;if(n.isRoot&&i===x.RIGHT_LEFT?(this.overlapNode=n,this.insertRootPos=r<d+l/2?"left":"right"):i===x.LEFT?r<e.maxX-p&&(this.overlapNode=n,this.insertRootPos="left"):r>e.minX+p&&(this.overlapNode=n,this.insertRootPos="right"),this.overlapNode){if([m,f].includes(o)&&0===n.layoutIndex){var v=[].concat(h(e.leftChildren||[]),h(e.rightChildren||[])),b=v.length-1;return this.prevNode=v[b].topic,void(this.overlapNode=null)}if((n.isRoot&&"left"===this.insertRootPos||i===x.LEFT)&&e.leftChildrenBoundary){var y=this.getTopicChildrenToward(this.overlapNode),k=e.leftChildren,_=k.length-1;return y===w.HORIZONTAL&&(_=Math.ceil(k.length/2)),this.prevNode=k[_].topic,void(this.overlapNode=null)}if((n.isRoot&&"right"===this.insertRootPos||i===x.RIGHT)&&e.rightChildrenBoundary){var C=this.getTopicChildrenToward(this.overlapNode),T=e.rightChildren,S=T.length-1;return[m].includes(o)||C!==w.HORIZONTAL||(S=Math.ceil(T.length/2)),this.prevNode=T[S].topic,void(this.overlapNode=null)}}if(n.isRoot||n.free||n.id===(null===(g=this.mindMap.renderer.currentRoot)||void 0===g?void 0:g.id))return;var M=this.isReverseDir(n);return s<=e.minY+c/2?void(M?this.prevNode=n:this.nextNode=n):void(M?this.nextNode=n:this.prevNode=n)}}else{var D=this.getTopicToward(n)===x.UP,E=D?e.maxY:e.maxY+this.crossExpendValue,A=D?e.minY-this.crossExpendValue:e.minY,F=Math.min(this.headHotArea,e.h/4),I=n.children.filter(function(e){return!t.checkIsInBeingDragNodeList(e)}),O=I.length;if(r>=e.minX&&r<=e.maxX&&s>=A&&s<=E)if(D?s<e.maxY-F:s>e.minY+F)if(this.overlapNode=n,O>0){if(this.getTopicChildrenToward(this.overlapNode)===w.HORIZONTAL){var L=Math.floor(I.length/2);r<e.minX+e.w/2||I.length%2==0?this.nextNode=I[L]:this.prevNode=I[L]}else this.prevNode=I[O-1];this.overlapNode=null}else n.children.length>0&&(this.overlapNode=null);else this.isFreeOrRoot(n)||(r<e.minX+l/2?"left"===n.part?this.prevNode=n:this.nextNode=n:"left"===n.part?this.nextNode=n:this.prevNode=n)}}},{key:"getTopicChildrenToward",value:function(e){var t=e.layoutIndex,n=e.getData("structure");switch(this.mindMap.getLayoutByStructure(n||e.layout)){case c:case d:return w.VERTICAL;case u:case m:case f:return 0===t?w.HORIZONTAL:w.VERTICAL;case p:return w.HORIZONTAL;default:return w.VERTICAL}}},{key:"detectTargetTopicChildren",value:function(e){var t=this.mindMap.toSvgPos(this.mouseMoveEvent),n=t.x,i=t.y;if(e.leftChildrenBoundary){var o=e.leftChildrenBoundary,a=o.minX,r=o.minY,s=o.maxX,l=o.maxY;if(n>=a&&n<=s&&i>=r-this.childrenAreaCrossExpendValue&&i<=l+this.childrenAreaCrossExpendValue){var c=e.leftChildren;if(c.length>=1&&this.detectSiblings(c,i,n,this.getTopicChildrenToward(e.topic)))return}}if(e.rightChildrenBoundary){var d=e.rightChildrenBoundary,u=d.minX,p=d.minY,h=d.maxX,m=d.maxY;if(n>=u&&n<=h&&i>=p-this.childrenAreaCrossExpendValue&&i<=m+this.childrenAreaCrossExpendValue){var f=e.rightChildren;if(f.length>=1&&this.detectSiblings(f,i,n,this.getTopicChildrenToward(e.topic)))return}}}},{key:"detectSiblings",value:function(e,t,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w.VERTICAL,a=-1,r=Number.MAX_SAFE_INTEGER,s=o===w.VERTICAL?"minY":"minX",l=o===w.VERTICAL?"maxY":"maxX",c=o===w.VERTICAL?t:n,d=o===w.VERTICAL?"minX":"minY",u=o===w.VERTICAL?"maxX":"maxY",p=o===w.VERTICAL?n:t;if(e.forEach(function(e,t){if(!(p<e[d]||p>e[u]))if(c<e[s]){var n=Math.abs(e[s]-c);n<r&&(i="before",a=t,r=n)}else if(c>e[l]){var o=Math.abs(c-e[l]);o<r&&(i="after",a=t,r=o)}}),a>-1){var h,m=e[a];if("before"===i){var f=e[a-1];f&&(h=Math.abs(m[s]-f[l])/2)}else{var g=e[a+1];g&&(h=Math.abs(g[s]-m[l])/2)}var v=[0,e.length-1].includes(a)?this.childrenAreaCrossExpendValue:20;if(r<(h||v))return"before"===i?this.nextNode=m.topic:this.prevNode=m.topic,m.topic}}},{key:"getPreviewPosAndEndPointBySiblingTopic",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after",a=this.getTopicChildrenToward(e.parent),r=e.part;if(a===w.VERTICAL){var s=t.originLeft,l=e.parent.children.filter(function(e){return e.part===r});"left"===r&&(s=t.originRight-this.placeholderSize[0]);var c=t.originTop-this.placeholderRelativeOffset-this.placeholderSize[1],d=(0,o.getTopicIndexInTopicList)(e,l);if("before"===i){var u=l[d-1];if(u){if(this.checkIsInBeingDragNodeList(u))return{};var p=u.top+u.height;c=p+(t.originTop-p)/2-this.placeholderSize[1]/2,s+=(u.left-t.originLeft)/2}else this.isReverseDir(e)&&(c=t.originBottom+this.placeholderRelativeOffset+this.placeholderSize[1]/2)}else{var h=l[d+1];if(h){if(this.checkIsInBeingDragNodeList(h))return{};c=t.originBottom+(h.top-t.originBottom)/2-this.placeholderSize[1]/2,s-=(t.originLeft-h.left)/2}else c=this.isReverseDir(e)?t.originTop-this.placeholderRelativeOffset-this.placeholderSize[1]/2:t.originBottom+this.placeholderRelativeOffset+this.placeholderSize[1]/2}var g={x:s,y:c},v=g.x,b=g.y+this.placeholderSize[1]/2;return"left"===r&&(v=g.x+this.placeholderSize[0]/2),{pos:g,end:{x:v,y:b}}}var y=e.parent.children.filter(function(t){var i=n.mindMap.getLayoutByStructure(e.parent.getData("structure")||e.parent.layout);return[m].includes(i)&&0===e.parent.layoutIndex?t.dir===e.dir:t.part===e.part}),x=t.originTop,k=t.originLeft-this.placeholderRelativeOffset-this.placeholderSize[0],_=(0,o.getTopicIndexInTopicList)(e,y),C=_;if("before"===i){var T=y[_-1];if(T){if(this.checkIsInBeingDragNodeList(T))return{};var S=T.left+T.width;k=S+(t.originLeft-S)/2-this.placeholderSize[0]/2}else this.isReverseDir(e)&&(k=t.originRight+this.placeholderRelativeOffset+this.placeholderSize[0])}else{var M=y[_+1];if(C+=1,M){if(this.checkIsInBeingDragNodeList(M))return{};k=t.originRight+(M.left-t.originRight)/2-this.placeholderSize[0]/2}else this.isReverseDir(e)||(k=t.originRight+this.placeholderRelativeOffset+this.placeholderSize[0])}var D={x:k,y:x},E=D.x+this.placeholderSize[0]/2,A=D.y,F={x:E,y:A},I=this.mindMap.getLayoutByStructure(e.parent.getData("structure")||e.parent.layout);return[m].includes(I)&&0===e.parent.layoutIndex?"up"===e.dir&&(F={x:E,y:A+this.placeholderSize[1]}):[f].includes(I)&&0===e.parent.layoutIndex&&(D.y=e.top+e.height/2-this.placeholderSize[1]/2,F={x:"left"===r?E+this.placeholderSize[0]/2:E-this.placeholderSize[0]/2,y:A+this.placeholderSize[1]/2}),{pos:D,end:F,insertIndex:C}}},{key:"getPreviewPosAndEndPointByParentTopic",value:function(e,t){var n=e.layout,i=e.left,o=e.top,a=e.width,r=e.height;if([x.LEFT,x.RIGHT,x.RIGHT_LEFT].includes(t)){var s=this.mindMap.renderer.getTopicLayout(n).getMargin(e).marginX,l=i+a,c=o+r/2,d=i+a+s,u=o+r/2;t===x.LEFT&&(l=i,d=i-(s+this.placeholderSize[0]));var p={x:l,y:c},h={x:d,y:u};return{start:p,pos:{x:d,y:p.y-this.placeholderSize[1]/2},end:h}}if([x.UP,x.DOWN].includes(t)){var m=this.mindMap.renderer.getTopicLayout(n).getMargin(e).marginY,f=i+a/2,g=o+r,v=i+a/2,b=o+r+m;t===x.UP&&(g=o,b=o-m);var y={x:f,y:g},w={x:v,y:b};return{start:y,pos:{x:y.x-this.placeholderSize[0]/2,y:t===x.UP?b-this.placeholderSize[1]:b},end:w}}}},{key:"formatPlaceholderSize",value:function(){return 30}},{key:"setPlaceholderRect",value:function(e,t,n,i){this.placeholder.size(50,t).move(n,i)}},{key:"updatePlaceholderRect",value:function(e,t){this.placeholder.size(this.placeholderSize[0],this.placeholderSize[1]).move(e,t)}},{key:"getNodeRect",value:function(e){var t=this.drawTransform,n=t.scaleX,i=t.scaleY,o=t.translateX,a=t.translateY,r=e.left,s=e.top,l=e.width,c=e.height,d=r,u=s,p=s+c,h=r+l,m=(r+l)*n+o,f=(s+c)*i+a;return{width:l,height:c,left:r=r*n+o,top:s=s*i+a,right:m,bottom:f,originLeft:d,originTop:u,originBottom:p,originRight:h}}},{key:"checkIsInBeingDragNodeList",value:function(e){return!!this.beingDragNodeList.find(function(t){return t.id===e.id||t.isAncestor(e)})}},{key:"beforePluginRemove",value:function(){this.unBindEvent()}},{key:"beforePluginDestroy",value:function(){this.unBindEvent()}}]),e}()},9200:function(e,t,n){n(61894),n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.TouchEvent=void 0;var o=i(n(66603));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var r=function(){function e(t){var n=this;T(this,e);var i=t.mindMap;(0,o.default)(this,"eventGestureStart",function(e){e.preventDefault(),n.gScaleStart=Math.round(100*e.scale)}),(0,o.default)(this,"eventGestureChange",function(e){e.preventDefault();var t,i=Math.round(100*e.scale);if(t=i-n.gScaleStart,Math.abs(t)>=5){if(t<0){var o=100*n.mindMap.view.scale-5;o<40&&(o=20),n.mindMap.emit("interceptGestureNarrow",function(e){if(e)return!1;n.mindMap.view.setScale(o/100)})}else if(t>0){var a=100*n.mindMap.view.scale+5;a>200&&(a=400),n.mindMap.emit("interceptGestureEnlarge",function(e){if(e)return!1;n.mindMap.view.setScale(a/100)})}n.gScaleStart=i}}),(0,o.default)(this,"eventGestureEnd",function(e){e.preventDefault()}),this.mindMap=i,this.touchesNum=0,this.singleTouchstartEvent=null,this.clickNum=0,this.touchStartScaleView=null,this.gScaleStart=0,this.touchOffset={x:0,y:0},this.bindEvent()}return M(e,[{key:"bindEvent",value:function(){this.onTouchstart=this.onTouchstart.bind(this),this.onTouchmove=this.onTouchmove.bind(this),this.onTouchcancel=this.onTouchcancel.bind(this),this.onTouchend=this.onTouchend.bind(this),window.addEventListener("touchstart",this.onTouchstart,{passive:!1}),window.addEventListener("touchmove",this.onTouchmove,{passive:!1}),window.addEventListener("touchcancel",this.onTouchcancel,{passive:!1}),window.addEventListener("touchend",this.onTouchend,{passive:!1}),navigator.userAgent.indexOf("Mac OS")>0&&(this.gScaleStart=0,this.mindMap.el.addEventListener("gesturestart",this.eventGestureStart,!1),this.mindMap.el.addEventListener("gesturechange",this.eventGestureChange,!1),this.mindMap.el.addEventListener("gestureend",this.eventGestureEnd,!1))}},{key:"unBindEvent",value:function(){window.removeEventListener("touchstart",this.onTouchstart),window.removeEventListener("touchmove",this.onTouchmove),window.removeEventListener("touchcancel",this.onTouchcancel),window.removeEventListener("touchend",this.onTouchend),navigator.userAgent.indexOf("Mac OS")>0&&(this.mindMap.el.removeEventListener("gesturestart",this.eventGestureStart),this.mindMap.el.removeEventListener("gesturechange",this.eventGestureChange),this.mindMap.el.removeEventListener("gestureend",this.eventGestureEnd))}},{key:"onTouchstart",value:function(e){if(e.stopPropagation(),this.touchesNum=e.touches.length,this.touchStartScaleView=null,1===this.touchesNum){var t=e.touches[0];this.singleTouchstartEvent=t,this.touchOffset={x:0,y:0},this.dispatchMouseEvent("mousedown",t.target,t,e)}}},{key:"onTouchmove",value:function(e){e.stopPropagation();var t=e.touches.length;if(1===t){var n=e.touches[0];if(this.singleTouchstartEvent){var i=Math.abs(n.clientX-this.singleTouchstartEvent.clientX),o=Math.abs(n.clientY-this.singleTouchstartEvent.clientY);this.touchOffset={x:i,y:o}}this.dispatchMouseEvent("mousemove",n.target,n,e)}else if(2===t){if(e.preventDefault(),e.stopPropagation(),this.mindMap.opt.disableTouchZoom)return;var a=e.touches[0],r=e.touches[1],s=a.clientX-r.clientX,l=a.clientY-r.clientY,c=Math.sqrt(Math.pow(s,2)+Math.pow(l,2)),d=this.mindMap.toPos(a.clientX,a.clientY),u=d.x,p=d.y,h=this.mindMap.toPos(r.clientX,r.clientY),m=(u+h.x)/2,f=(p+h.y)/2,g=this.mindMap.view;if(!this.touchStartScaleView)return void(this.touchStartScaleView={distance:c,scale:g.scale,x:g.x,y:g.y,cx:m,cy:f});var v=this.touchStartScaleView,b=v.scale*(c/v.distance);Math.abs(c-v.distance)<=10&&(b=v.scale);var y=1-b/v.scale;g.scale=b<.1?.1:b,g.x=v.x+(m-v.x)*y+(m-v.cx)*b,g.y=v.y+(f-v.y)*y+(f-v.cy)*b,g.transform(),this.mindMap.emit("scale",g.scale)}}},{key:"onTouchcancel",value:function(){}},{key:"onTouchend",value:function(e){var t=this;e.stopPropagation();var n=e.changedTouches[0];this.dispatchMouseEvent("mouseup",e.target,n,e),1===this.touchesNum&&(this.clickNum++,setTimeout(function(){t.clickNum=0},300),this.clickNum>1&&(this.clickNum=0,this.dispatchMouseEvent("dblclick",e.target,n,e))),this.touchesNum=0,this.singleTouchstartEvent=null,this.touchStartScaleView=null}},{key:"dispatchMouseEvent",value:function(e,t,n,i){if(this.mindMap.el.contains(t)){var r={};n&&(r={screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY,which:1});var s=new MouseEvent(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({view:document.defaultView,bubbles:!0,cancelable:!0},r));s.eventType="touch",i&&(s.preventDefault=function(){return i.preventDefault()}),t.dispatchEvent(s)}}},{key:"beforePluginRemove",value:function(){this.unBindEvent()}},{key:"beforePluginDestroy",value:function(){this.unBindEvent()}}]),e}();t.TouchEvent=r,r.instanceName="touchEvent"},79106:function(e,t,n){n(61894),n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualScrollbar=void 0,n(38297),n(69268),n(84889);var o=i(n(66603)),a=n(15240),r=n(80214);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=function(){function e(t){var n=this;T(this,e),(0,o.default)(this,"setConfig",function(e){n.scrollbarConfig=Object.assign(n.scrollbarConfig,e)}),this.mindMap=t.mindMap,this.scrollbarWrapSize={horizontalBarWidth:0,verticalBarHeight:0},this.scrollbarConfig=Object.assign({thumbMinLength:30,scrollbarWidth:8,verticalMarginTop:0,verticalMarginBottom:0,horizontalMarginLeft:0,horizontalMarginRight:0},t.scrollbarConfig),this.chartHeight=0,this.chartWidth=0,this.reset(),this.bindEvent()}return M(e,[{key:"reset",value:function(){this.currentScrollType="",this.isMousedown=!1,this.mousedownPos={x:0,y:0}}},{key:"bindEvent",value:function(){this.updateScrollbar=this.updateScrollbar.bind(this),this.updateScrollbarThrottle=(0,a.throttleRaf)(this.updateScrollbar,this),this.onMousedown=this.onMousedown.bind(this),this.mindMap.on("rendered",this.updateScrollbar),this.mindMap.on("scrollbar_thumb_mousedown",this.onMousedown),this.onMousemove=this.onMousemove.bind(this),this.onMouseup=this.onMouseup.bind(this),this.mindMap.on("mousemove",this.onMousemove),this.mindMap.on("mouseup",this.onMouseup),this.mindMap.on("view_data_change_real_time",this.updateScrollbarThrottle),this.onScrollBarClick=this.onScrollBarClick.bind(this),this.mindMap.on("scrollbar_track_click",this.onScrollBarClick),this.mindMap.on("set_scrollbar_config",this.setConfig),this.mindMap.on("resize",this.updateScrollbarThrottle)}},{key:"unBindEvent",value:function(){this.mindMap.off("scrollbar_thumb_mousedown",this.onMousedown),this.mindMap.off("mousemove",this.onMousemove),this.mindMap.off("mouseup",this.onMouseup),this.mindMap.off("rendered",this.updateScrollbar),this.mindMap.off("view_data_change_real_time",this.updateScrollbarThrottle),this.mindMap.off("scrollbar_track_click",this.onScrollBarClick),this.mindMap.off("resize",this.updateScrollbarThrottle)}},{key:"updateScrollbar",value:function(){if(!this.isMousedown){this.setScrollBarWrapSize();var e=this.calculationScrollbar();this.scrollbarData=e,this.emitEvent(e)}}},{key:"emitEvent",value:function(e){this.mindMap.emit("scrollbar_change",e)}},{key:"calcNodesBox",value:function(){var e=editorGlobal.mindMap.renderer.getLruPool(),t=Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,i=-Number.MAX_SAFE_INTEGER,o=-Number.MAX_SAFE_INTEGER;return e.forEach(function(e){if(e.getRectInSvg&&!e.isHideSelf()){var a=e.getRectInSvg(),r=a.left,s=a.top,l=a.right,c=a.bottom;t=Math.min(t,r),n=Math.min(n,s),i=Math.max(i,l),o=Math.max(o,c)}}),{x:t,y:n,width:i-t,height:o-n}}},{key:"setScrollBarWrapSize",value:function(e,t){var n=this.scrollbarConfig,i=n.horizontalMarginLeft,o=n.horizontalMarginRight,a=n.verticalMarginTop,r=n.verticalMarginBottom,s=n.scrollbarWidth,l=n.verticalMarginRight;this.scrollbarWrapSize.horizontalBarWidth=e||this.mindMap.width-i-o-l-s,this.scrollbarWrapSize.verticalBarHeight=t||this.mindMap.height-a-r}},{key:"calculationScrollbar",value:function(){var e=this.calcNodesBox(),t=this.mindMap.height,n=Math.max(e.y,t,t-(e.y+e.height)),i=e.height+2*n;this.chartHeight=i;var o=e.y-n,a=this.scrollbarWrapSize.verticalBarHeight,r=Math.max(a/i*a,this.scrollbarConfig.thumbMinLength),s=-o/i*a;s<0&&(s=0),s>a-r&&(s=a-r);var l=this.mindMap.width,c=Math.max(e.x,l,l-(e.x+e.width)),d=e.width+2*c;this.chartWidth=d;var u=e.x-c,p=this.scrollbarWrapSize.horizontalBarWidth,h=Math.max(p/d*p,this.scrollbarConfig.thumbMinLength),m=-u/d*p;return m<0&&(m=0),m>p-h&&(m=p-h),{vertical:{top:s,scrollbarHeight:a,marginTop:this.scrollbarConfig.verticalMarginTop,thumbHeight:r},horizontal:{left:m,scrollbarWidth:p,marginLeft:this.scrollbarConfig.horizontalMarginLeft,thumbWidth:h}}}},{key:"onMousedown",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.mousedownPos={x:e.clientX,y:e.clientY},this.updateScrollbar(),this.isMousedown=!0,this.currentScrollType=t,this.startScrollTop=this.mindMap.view.y,this.startScrollLeft=this.mindMap.view.x}},{key:"onMousemove",value:function(e){if(this.isMousedown)if(e.preventDefault(),e.stopPropagation(),this.currentScrollType===r.CONSTANTS.SCROLL_BAR_DIR.VERTICAL){var t=e.clientY-this.mousedownPos.y;this.updateMindMapView(r.CONSTANTS.SCROLL_BAR_DIR.VERTICAL,t)}else{var n=e.clientX-this.mousedownPos.x;this.updateMindMapView(r.CONSTANTS.SCROLL_BAR_DIR.HORIZONTAL,n)}}},{key:"onMouseup",value:function(){this.isMousedown=!1,this.reset()}},{key:"updateMindMapView",value:function(e,t){var n=this.scrollbarData;if(e===r.CONSTANTS.SCROLL_BAR_DIR.VERTICAL){var i=t+n.vertical.top;i<0&&(t+=0-i,i=0);var o=n.vertical.scrollbarHeight-n.vertical.thumbHeight;i>=o&&(t-=i-o,i=o);var a=t/this.scrollbarWrapSize.verticalBarHeight*this.chartHeight;if(0===a)return;this.mindMap.view.translateYTo(this.startScrollTop-a),this.emitEvent({vertical:l(l({},n.vertical),{},{top:i})})}else{var s=t+n.horizontal.left;s<0&&(t+=0-s,s=0);var c=n.horizontal.scrollbarWidth-n.horizontal.thumbWidth;s>=c&&(t-=s-c,s=c);var d=t/this.scrollbarWrapSize.horizontalBarWidth*this.chartWidth;if(0===d)return;this.mindMap.view.translateXTo(this.startScrollLeft-d),this.emitEvent({horizontal:l(l({},n.horizontal),{},{left:s})})}}},{key:"onScrollBarClick",value:function(e,t,n){this.updateScrollbar(),this.startScrollTop=this.mindMap.view.y,this.startScrollLeft=this.mindMap.view.x;var i;i=t===r.CONSTANTS.SCROLL_BAR_DIR.VERTICAL?e.clientY-n:e.clientX-n,this.updateMindMapView(t,i)}},{key:"beforePluginRemove",value:function(){this.unBindEvent()}},{key:"beforePluginDestroy",value:function(){this.unBindEvent()}}]),e}();t.VirtualScrollbar=c,c.instanceName="virtualScrollbar"},47614:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HandDrawn=void 0,n(61894),n(65534),n(82403),n(30940),n(47958),n(69268),n(84889),n(54938),n(14237);var i=n(59081),o=n(15240),a=function(e){e="string"!=typeof e?e.join(" "):e;for(var t,n=[],i=/([MALCQZ])([^MALCQZ]*)/g;null!==(t=i.exec(e));){var o=t[1],a=t[2].trim().split(/[\s,]+/).map(Number);n.push({command:o,params:a})}return n},s={basics:{generateHandDrawnPath:function(e,t,n,i){var o,a;t.length>0?(o=t.map(function(e){return e[0]}),a=t.map(function(e){return e[1]})):(o=[0],a=[0]);var r=Math.min.apply(Math,h(o)),s=Math.max.apply(Math,h(o)),l=Math.min.apply(Math,h(a)),c=Math.max.apply(Math,h(a)),d=i[0]?i[0]:0;function u(e,t){var n=1/0,i=1/0;if(e>=r&&e<=s&&t>=l&&t<=c)return 0;e<r&&(n=Math.min(n,r-e)),e>s&&(n=Math.min(n,e-s)),t<l&&(i=Math.min(i,l-t)),t>c&&(i=Math.min(i,t-c));var o=r,a=c,u=s,p=c,h=Math.sqrt(Math.pow(e-o,2)+Math.pow(t-a,2))-d;n=Math.min(n,h);var m=Math.sqrt(Math.pow(e-u,2)+Math.pow(t-p,2))-d;return{x:n=Math.min(n,m),y:i}}for(var p=[],m=r,f=l,g=function(){return 5*(Math.random()-.5)},v=0;v<s;v+=3){var b=m+g(),y=f+g(),x=m+3+g(),w=f+3+g(),k=u(x,w),_=k.x,C=k.y;_>0&&(x=Math.max(r,Math.min(s,x))),C>0&&(w=Math.max(l,Math.min(c,w))),p.push("M ".concat(b," ").concat(y)),p.push("L ".concat(x," ").concat(w)),m+=3,f+=3}return p},convertToHandDrawn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=[0,.3,1.1,0,-.7,0],a=[1.4,.3,-.8,.2],s=t.command,l=t.params,c=r(h(e).splice(-2),2),d=c[0],u=c[1];if((0,o.isNumber)(d)&&(0,o.isNumber)(u)){var p=[];if("L"===s){var m=r(l,2),f=m[0],g=m[1],v="x",b=Math.abs(f-d);Math.abs(g-u)>Math.abs(f-d)&&(b=Math.abs(g-u),v="y");var y=2===n?[].concat(i).reverse():i;("x"===v&&f<d||"y"===v&&g>u)&&(y=2===n?[].concat(a).reverse():a);for(var x=b<50?2:y.length,w=0;w<x;w++)"x"===v?(p.push("L"),g!=u?(p.push(f),p.push(g)):f>d?(p.push(d+b/x*(w+1)),p.push(g+y[w])):(p.push(d-b/x*(w+1)),p.push(g+y[w]))):(p.push("L"),f!=d?(p.push(f),p.push(g)):(p.push(f+y[w]),g>u?p.push(u+b/x*(w+1)):p.push(u-b/x*(w+1))))}if("C"===s){var k=r(l,6),_=k[0],C=k[1],T=k[2],S=k[3],M=k[4],D=k[5],E=1===n?[.2,1,.3]:[0,-.5,0];p.push("C"),p.push(_+E[0]),p.push(C+E[0]),p.push(T+E[1]),p.push(S+E[1]),p.push(M+E[2]),p.push(D+E[2])}if("A"===s){var A=r(l,7),F=A[0],I=A[1],O=A[2],L=A[3],P=A[4],B=A[5],$=A[6],N=[0,0,0,0];p.push("A"),p.push(F+N[0]),p.push(I+N[1]),p.push(O),p.push(L),p.push(P),p.push(B+N[2]),p.push($+N[3])}if("Q"===s){var z=r(l,4),j=z[0],R=z[1],G=z[2],H=z[3],W=1===n?[.5,.8,0,0]:[-.8,-.2,.5,.5];p.push("Q"),p.push(j+W[0]),p.push(R+W[1]),p.push(G+W[2]),p.push(H+W[3])}return p}return[s].concat(h(l))},customCreateNodePath:function(e){return(new i.Path).plot(e)},customCreateBorderPath:function(e){for(var t=this,n=[],o=a(e),r=function(e){o.forEach(function(i){"M"===i.command?(n.push(i.command),n.push.apply(n,h(i.params))):"L"!==i.command&&"C"!==i.command&&"A"!==i.command||n.push.apply(n,h(t.convertToHandDrawn(n,i,e)))})},s=1;s<3;s++)r(s);return o.splice(-1)[0].command,(new i.Path).plot(n)},customCreateNodePolygon:function(e){return(new i.Polygon).plot(e)},customCreateBorderPolygon:function(e){return(new i.Polygon).plot(e)},customTransformNodeLinePath:function(e){for(var t=this,n=[],i=a(e),o=function(e){i.forEach(function(i){"M"===i.command?(n.push(i.command),n.push.apply(n,h(i.params))):"L"!==i.command&&"C"!==i.command&&"A"!==i.command&&"Q"!==i.command||n.push.apply(n,h(t.convertToHandDrawn(n,i,e)))})},r=1;r<3;r++)o(r);return i.splice(-1)[0].command,n.join(" ")}},jianbihua:{lNum:0,convertToHandDrawn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.command,i=t.params,a=r(h(e).splice(-2),2),s=a[0],l=a[1];if((0,o.isNumber)(s)&&(0,o.isNumber)(l)){var c=[];if("L"===n){this.lNum++;var d=r(i,2),u=d[0],p=d[1];this.lNum%3==0&&(s-=5),c.push("M"),c.push(s,l);var m="x",f=Math.abs(u-s);Math.abs(p-l)>Math.abs(u-s)&&(f=Math.abs(p-l),m="y");for(var g=this.lNum%4==0?[0,-.3,0,.3,.5,0]:this.lNum%3==0?[0,-.5,0,0,0,0,0,0,0,.3,.5,-.2,0]:this.lNum%2==0?[0,-.5,-.7,0,0]:[0,.5,.5,0,.3,.6,.7,.5,0],v=g.length,b=0;b<v;b++)"x"===m?(c.push("L"),u>s?(c.push(s+f/v*(b+1)),c.push(p+g[b])):(c.push(s-f/v*(b+1)),c.push(p+g[b]))):(c.push("L"),c.push(u+g[b]),p>l?c.push(l+f/v*(b+1)):c.push(l-f/v*(b+1)))}if("C"===n){var y=r(i,6),x=y[0],w=y[1],k=y[2],_=y[3],C=y[4],T=y[5],S=[.1,.2,.3];c.push("C"),c.push(x+S[0]),c.push(w+S[0]),c.push(k+S[1]),c.push(_+S[1]),c.push(C+S[2]),c.push(T+S[2])}if("A"===n){var M=r(i,7),D=M[0],E=M[1],A=M[2],F=M[3],I=M[4],O=M[5],L=M[6],P=[0,0,0,0];c.push("A"),c.push(D+P[0]),c.push(E+P[1]),c.push(A),c.push(F),c.push(I),c.push(O+P[2]),c.push(L+P[3])}if("Q"===n){var B=r(i,4),$=B[0],N=B[1],z=B[2],j=B[3],R=[.5,.8,0,0];c.push("Q"),c.push($+R[0]),c.push(N+R[1]),c.push(z+R[2]),c.push(j+R[3])}return c}return[n].concat(h(i))},customCreateNodePath:function(e){return(new i.Path).plot(e)},customCreateBorderPath:function(e){var t=this;this.lNum=0;var n=[];return a(e).forEach(function(e){"M"===e.command?(n.push(e.command),n.push.apply(n,h(e.params))):"L"!==e.command&&"C"!==e.command&&"A"!==e.command||n.push.apply(n,h(t.convertToHandDrawn(n,e)))}),(new i.Path).plot(n)},customCreateNodePolygon:function(e){return(new i.Polygon).plot(e)},customCreateBorderPolygon:function(e){return(new i.Polygon).plot(e)},customTransformNodeLinePath:function(e){return e}},cute:{lNum:0,convertToHandDrawn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.command,i=t.params,a=r(h(e).splice(-2),2),s=a[0],l=a[1];if((0,o.isNumber)(s)&&(0,o.isNumber)(l)){var c=[];if("L"===n){this.lNum++;var d=r(i,2),u=d[0],p=d[1];c.push("M"),c.push(s,l);var m="x",f=Math.abs(u-s);Math.abs(p-l)>Math.abs(u-s)&&(f=Math.abs(p-l),m="y");for(var g=this.lNum%4==0?[-.1,0,-.1,.1,0]:this.lNum%3==0?[-.1,0,0,0,0,0,0,0,.1,.1,-.1]:this.lNum%2==0?[0,-.1,-.23,0,0]:[0,.1,.1,0,.15,.2,.23,.1],v=g.length,b=0;b<v;b++)"x"===m?(c.push("L"),u>s?(c.push(s+f/v*(b+1)),c.push(p+g[b])):(c.push(s-f/v*(b+1)),c.push(p+g[b]))):(c.push("L"),c.push(u+g[b]),p>l?c.push(l+f/v*(b+1)):c.push(l-f/v*(b+1)))}if("C"===n){var y=r(i,6),x=y[0],w=y[1],k=y[2],_=y[3],C=y[4],T=y[5],S=[.01,.02,.03];c.push("C"),c.push(x+S[0]),c.push(w+S[0]),c.push(k+S[1]),c.push(_+S[1]),c.push(C+S[2]),c.push(T+S[2])}if("A"===n){var M=r(i,7),D=M[0],E=M[1],A=M[2],F=M[3],I=M[4],O=M[5],L=M[6],P=[0,0,0,0];c.push("A"),c.push(D+P[0]),c.push(E+P[1]),c.push(A),c.push(F),c.push(I),c.push(O+P[2]),c.push(L+P[3])}if("Q"===n){var B=r(i,4),$=B[0],N=B[1],z=B[2],j=B[3],R=[.5,.8,0,0];c.push("Q"),c.push($+R[0]),c.push(N+R[1]),c.push(z+R[2]),c.push(j+R[3])}return c}return[n].concat(h(i))},customCreateNodePath:function(e){return(new i.Path).plot(e)},customCreateBorderPath:function(e){var t=this;this.lNum=0;var n=[];return a(e).forEach(function(e){"M"===e.command?(n.push(e.command),n.push.apply(n,h(e.params))):"L"!==e.command&&"C"!==e.command&&"A"!==e.command||n.push.apply(n,h(t.convertToHandDrawn(n,e)))}),(new i.Path).plot(n)},customCreateNodePolygon:function(e){return(new i.Polygon).plot(e)},customCreateBorderPolygon:function(e){return(new i.Polygon).plot(e)},customTransformNodeLinePath:function(e){return e}}},l=function(){function e(t){T(this,e),this.mindMap=t.mindMap,this.mindMap.opt.customCreateNodePath=this.customCreateNodePath.bind(this),this.mindMap.opt.customCreateBorderPath=this.customCreateBorderPath.bind(this),this.mindMap.opt.customCreateNodePolygon=this.customCreateNodePolygon.bind(this),this.mindMap.opt.customCreateBorderPolygon=this.customCreateBorderPolygon.bind(this),this.mindMap.opt.customTransformNodeLinePath=this.customTransformNodeLinePath.bind(this)}return M(e,[{key:"customCreateNodePath",value:function(e){var t=this.mindMap.themeConfig.freehandType;return s[t]?s[t].customCreateNodePath(e):(new i.Path).plot(e)}},{key:"customCreateBorderPath",value:function(e){var t=this.mindMap.themeConfig.freehandType;return s[t]?s[t].customCreateBorderPath(e):(new i.Path).plot(e)}},{key:"customCreateNodePolygon",value:function(e){var t=this.mindMap.themeConfig.freehandType;return s[t]?s[t].customCreateNodePolygon(e):(new i.Polygon).plot(e)}},{key:"customCreateBorderPolygon",value:function(e){var t=this.mindMap.themeConfig.freehandType;return s[t]?s[t].customCreateBorderPolygon(e):(new i.Polygon).plot(e)}},{key:"customTransformNodeLinePath",value:function(e){var t=this.mindMap.themeConfig.freehandType;return s[t]?s[t].customTransformNodeLinePath(e):e}}]),e}();t.HandDrawn=l,l.instanceName="handDrawn"},62645:function(e,t,n){n(69268),n(84889),Object.defineProperty(t,"__esModule",{value:!0});var i=n(73761);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var o=n(27580);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var a=n(26544);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var r=n(79106);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))})},73961:function(e,t,n){var i;n(61894),n(58500);var o=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonStyle=void 0;var a=o(n(66603));n(27531),n(5682),n(4790),n(82403),n(12638),n(38887),n(69268),n(86837),n(84889),n(14237);var r=n(80214),s=o(n(20990)),l=n(39646),c=n(15240),d=o(n(32483)),u=n(59584),p=n(67428),h=n(62937);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g={children:[{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"}],data:{"right-content-index":2},root:!0,title:"Central"},b={children:[{children:[],title:"Main Topic"},{children:[],title:"Main Topic"},{children:[],title:"Main Topic"},{children:[],title:"Main Topic"},{children:[],title:"Main Topic"},{children:[],title:"Main Topic"}],data:{"right-content-index":3},root:!0,title:"Central"},y={children:[{children:[{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[],title:"Main Topic"}],data:{"right-content-index":3},root:!0,title:"Central"},_={children:[{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[],title:"Main Topic"}],data:{"right-content-index":3},root:!0,title:"Central"},S={children:[{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"}],data:{"right-content-index":2},root:!0,title:"Central"},D={children:[{children:[{children:[],title:"<b>Name<b><br>Role"},{children:[],title:"<b>Name<b><br>Role"},{children:[],title:"<b>Name<b><br>Role"}],title:"<b>Name<b><br>Role"},{children:[{children:[],title:"<b>Name<b><br>Role"},{children:[],title:"<b>Name<b><br>Role"},{children:[],title:"<b>Name<b><br>Role"}],title:"<b>Name<b><br>Role"}],data:{"right-content-index":2},root:!0,hideSelf:!0,title:"Central"},E={children:[{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"},{children:[{children:[],title:"SubTopic"},{children:[],title:"SubTopic"},{children:[],title:"SubTopic"}],title:"Main Topic"}],data:{"right-content-index":2},root:!0,title:"Central"},A={children:[{children:[{children:[],title:"SubTopic&nbsp;&nbsp;&nbsp;&nbsp;"},{children:[],title:"SubTopic&nbsp;&nbsp;&nbsp;&nbsp;"}],title:"Main Topic&nbsp;&nbsp;&nbsp;&nbsp;"},{children:[],title:"Main Topic&nbsp;&nbsp;&nbsp;&nbsp;"}],data:{"right-content-index":2},root:!0,title:"Central&nbsp;&nbsp;&nbsp;&nbsp;"},F=(x(i={},r.CONSTANTS.LAYOUT.MINDMAP,{name:d.default.t("Basic_Map"),valueList:[{mind_free:d.default.t("Bilateral_Branches"),part:"free"},{mind_right:d.default.t("Branches_Right"),part:"right"},{mind_left:d.default.t("Branches_Left"),part:"left"}],list:[{title:"mindmap_curve_green-default",theme:{w1:1,w2:12,centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"curve",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"mindmap_curve_round-corner",theme:{w1:1,w2:12,centerTopic:{shape:r.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,background:"fillup",lineStyle:{lineType:"curve",lineWidth:3,linecap:"round"}},secTopic:{shape:r.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2,linecap:"round"}},childTopic:{shape:r.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2,linecap:"round"}}}},{title:"mindmap_curve_gradient-text-online",theme:{w1:1,w2:12,lineTapering:!0,centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":3,lineStyle:{lineType:"curve",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":3,lineStyle:{lineType:"bight",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":2,lineStyle:{lineType:"bight",lineWidth:2,linecap:"round"}}}},{title:"mindmap_curve_bg-opacity",theme:{w1:1,w2:12,centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":3,lineStyle:{lineType:"curve",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"mindmap_vertical_round-rectangle",theme:{w1:1,w2:12,logic:!0,centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"mindmap_oblique_text-online",theme:{w1:1,w2:12,centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"slant",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":3,lineStyle:{lineType:"slant",lineWidth:3}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":3,lineStyle:{lineType:"slant",lineWidth:3}}}},{title:"mindmap_oblique_spider",theme:{w1:24,w2:12,logic:!0,centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"straight",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"straight",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"straight",lineWidth:2}}}},{title:"mindmap_vertical_text-online",theme:{w1:24,w2:12,centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:1}},secTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":4,lineStyle:{lineType:"roundBroken",lineWidth:1}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":1,lineStyle:{lineType:"roundBroken",lineWidth:1}}}},{title:"mindmap_draw_all-border",theme:{w1:24,w2:12,freehandType:"basics",centerTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,lineStyle:{lineType:"curve",lineWidth:2}},secTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}}}}]}),x(i,r.CONSTANTS.LAYOUT.LOGIC,{name:d.default.t("Basic_Map"),valueList:[{mind_logic_right:d.default.t("Branches_Right"),part:"right"},{mind_logic_left:d.default.t("Branches_Left"),part:"left"}],list:[{title:"logic_vertical_round-rectangle",theme:{w1:1,w2:12,logic:!0,centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"logic_curve_text-embed",theme:{w1:1,w2:12,centerTopic:{shape:r.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,"border-width":3,lineStyle:{lineType:"bight",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"bight",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"bight",lineWidth:2}}}},{title:"logic_curve_text-online",theme:{w1:1,w2:12,centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"bight",lineWidth:2}},secTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":2,lineStyle:{lineType:"bight",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":2,lineStyle:{lineType:"bight",lineWidth:2}}}}]}),x(i,r.CONSTANTS.LAYOUT.ORG,{name:d.default.t("Organization_Chart"),valueList:[{mind_org:d.default.t("Organization_Chart"),part:"free"}],list:[{title:"org_bg-opacity",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"org_all-border",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"org_vertical-text",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,lineStyle:{lineType:"broken",lineWidth:2}},secTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,lineStyle:{lineType:"broken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,direction:"ltr","flex-direction":"row",lineStyle:{lineType:"broken",lineWidth:2}}}},{title:"org_multistage",theme:{hideSelf:!0,centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}}}}]}),x(i,r.CONSTANTS.LAYOUT.TREE_ORG,{name:d.default.t("Organization_Chart"),valueList:[{mind_tree:d.default.t("Tree_structure_diagram"),part:"free"}],list:[{title:"org_tree_bg-opacity",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"org_tree_all-border",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":3,lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":1,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"org_tree_mix-border",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,lineStyle:{lineType:"slant",lineWidth:2}},secTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,lineStyle:{lineType:"broken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,lineStyle:{lineType:"broken",lineWidth:2}}}}]}),x(i,r.CONSTANTS.LAYOUT.FISHBONE,{name:d.default.t("Fishbone_Diagram"),valueList:[{mind_ishikawa_left:d.default.t("Fish_Head_Left"),part:"left"},{mind_ishikawa_right:d.default.t("Fish_Head_Right"),part:"right"}],list:[{title:"fishbone_bg-opacity",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"broken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"broken",lineWidth:2}}}},{title:"fishbone_round-corner",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"fishbone_text-online",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":4,lineStyle:{lineType:"broken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":2,lineStyle:{lineType:"broken",lineWidth:2}}}},{title:"fishbone_mix-border",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":3,lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"fishbone_fish_fill",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.FISH,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"fishbone_fish_border",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.FISH,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}}}}]}),x(i,r.CONSTANTS.LAYOUT.TIMELINE,{name:d.default.t("js.TimeLine"),valueList:[{mind_timeline_h:d.default.t("Horizontal_Timeline"),part:"h"},{mind_timeline_h_up:d.default.t("Branches_Up"),part:"up"},{mind_timeline_h_down:d.default.t("Branches_Down"),part:"down"}],list:[{title:"timeline_bg-opacity",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"timeline_mix-border",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,lineStyle:{lineType:"broken",lineWidth:2}},secTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,lineStyle:{lineType:"broken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,lineStyle:{lineType:"broken",lineWidth:2}}}},{title:"timeline_text-online",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.DBLUNDERLINE,"border-width":2,lineStyle:{lineType:"broken",lineWidth:2}},secTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,lineStyle:{lineType:"broken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,lineStyle:{lineType:"broken",lineWidth:2}}}},{title:"timeline_big-circle",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.CIRCLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"roundBroken",lineWidth:2}}}}]}),x(i,r.CONSTANTS.LAYOUT.TREE,{name:d.default.t("Tree_Diagram"),valueList:[{mind_tree_free:d.default.t("Bilateral_Branches"),part:"free"},{mind_tree_right:d.default.t("Branches_Right"),part:"right"},{mind_tree_left:d.default.t("Branches_Left"),part:"left"}],list:[{title:"tree_bg-opactiy",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"tree_all-border",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RECTANGLE,"border-width":2,lineStyle:{lineType:"broken",lineWidth:2}}}},{title:"tree_text-online",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.DBLUNDERLINE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:1}},secTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":4,lineStyle:{lineType:"roundBroken",lineWidth:1}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":1,lineStyle:{lineType:"roundBroken",lineWidth:1}}}},{title:"tree_shadow-border",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.OVERLAP,"border-width":2,background:"fillup",lineStyle:{lineType:"broken",lineWidth:3}},secTopic:{"border-width":2,background:"fillup",shape:r.CONSTANTS.SHAPE.OVERLAP,lineStyle:{lineType:"broken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":2,lineStyle:{lineType:"broken",lineWidth:2}}}}]}),x(i,r.CONSTANTS.LAYOUT.MOBI_TREE,{name:d.default.t("Tree_Diagram"),valueList:[{mind_tree_right_mobi:d.default.t("Right_Side"),part:"right"},{mind_tree_left_mobi:d.default.t("Left_Side"),part:"left"}],list:[{title:"mobi-right-tree",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"broken",lineWidth:2}}}},{title:"mobi-left-tree",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":2,lineStyle:{lineType:"broken",lineWidth:2}}}}]}),x(i,r.CONSTANTS.LAYOUT.BRACE,{name:d.default.t("Bracket_Diagram"),valueList:[{mind_brace_right:d.default.t("Branches_Right"),part:"right"},{mind_brace_left:d.default.t("Branches_Left"),part:"left"}],list:[{title:"brace_bg-opacity",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"brace_round-corner",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,background:"fillup",lineStyle:{lineType:"curve",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,"border-width":2,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"brace_text-online",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.DBLUNDERLINE,"border-width":2,lineStyle:{lineType:"curve",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,"border-width":4,lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.UNDERLINE,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"brace_text-embed",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"roundBroken",lineWidth:2}}}},{title:"brace_big-circle",theme:{centerTopic:{shape:r.CONSTANTS.SHAPE.CIRCLE,background:"fillup",lineStyle:{lineType:"curve",lineWidth:3}},secTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,background:"fillup",lineStyle:{lineType:"roundBroken",lineWidth:2}},childTopic:{shape:r.CONSTANTS.SHAPE.RADIAN_RECTANGLE,lineStyle:{lineType:"roundBroken",lineWidth:2}}}}]}),i),I={canvas_bg_color:"#ffffff",center_bg_color:"#9AA5B8",center_border_color:"#9AA5B8",sec_bg_color:"#DDE0E4",sec_border_color:"#DDE0E4",child_bg_color:"#DDE0E4",child_border_color:"#DDE0E4"},O=function(e,t){if(!editorGlobal.vipColorCardStyleMap)return!1;var n=editorGlobal.vipColorCardStyleMap[e];return"all"===n||!!Array.isArray(n)&&n.includes(t)},L={system:{viewColors:["#FD5155","#FCB52A","#50C28B","#3679E7"," #9035B2","#30304D"],colorList:{"mind-style1":{autoColor:!0,colorList:["#729B8D","#EED484","#E19873","#DFE8D7"],canvas_bg_color:"#ffffff",center_bg_color:"#C7654E",center_border_color:"#C7654E",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style2":{autoColor:!0,colorList:["#FD5155","#F88A35","#FCB52A","#80BA4C","#0FBAB0","#0D7C82","#02ACF4","#0F80C4","#3D5EC2","#7549C5","#BE49C4","#DD489D","#FA5465"],canvas_bg_color:"#ffffff",center_bg_color:"#ffffff",center_glass_effect:"scriptures",center_border_color:"#ffffff",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style5":{canvas_bg_color:"#F8F9F8",center_bg_color:"#50C28B",center_border_color:"#50C28B",center_line_color:"#CCCDCD",sec_bg_color:"#ffffff",sec_border_color:"#CCCDCD",sec_line_color:"#CCCDCD",sec_glass_effect:"scriptures",child_bg_color:"#EEEEEE",child_border_color:"#CCCDCD",child_line_color:"#CCCDCD"},"mind-style3":{canvas_bg_color:"#ffffff",center_bg_color:"#3679E7",center_border_color:"#3679E7",sec_bg_color:"#E7EAED",sec_border_color:"#3679E7",child_bg_color:"#E7EAED",child_border_color:"#3679E7"},"mind-style4":{canvas_bg_color:"#ffffff",center_bg_color:"#30304D",center_border_color:"#30304D",sec_bg_color:"#F3F3F4",sec_border_color:"#30304D",child_bg_color:"#F3F3F4",child_border_color:"#30304D"},"mind-style6":{autoColor:!0,colorList:["#5041FC","#3D4BCF","#A244EE","#7020DC","#9C2CB8"],canvas_bg_color:"#ffffff",center_bg_color:"#41217F",center_border_color:"#41217F",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style7":{autoColor:!0,colorList:["#53cd92","#5BB9F9","#6164CF","#78CCDE"],canvas_bg_color:"#342850",center_bg_color:"#FEFEFE",center_border_color:"#FEFEFE",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style8":{canvas_bg_color:"#3A3C41",center_bg_color:"#FF8200",center_border_color:"#FF8200",center_font_color:"#ffffff",center_line_color:"#E8EAEC",sec_bg_color:"#E8EAEC",sec_border_color:"#E8EAEC",sec_line_color:"#E8EAEC",child_bg_color:"#3A3C41",child_border_color:"#E8EAEC",child_line_color:"#E8EAEC"}},title:d.default.t("Classic_Recommendation")},fugucaihong:{title:d.default.t("Retro_Rainbow"),viewColors:["#CF7465","#DAB16D","#8B9E6F","#738BBC","#9F80B2","#3E4553"],colorList:{"mind-style1":{autoColor:!0,colorList:["#CF7465","#DAB16D","#8B9E6F","#738BBC","#9F80B2"],canvas_bg_color:"#ffffff",center_bg_color:"#3E4553",center_border_color:"#3E4553",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style2":{autoColor:!0,colorList:["#8B9E6F","#738BBC","#9F80B2","#CF7465","#DAB16D"],canvas_bg_color:"#3E4553",center_bg_color:"#ffffff",center_border_color:"#ffffff",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style3":{canvas_bg_color:"#C1D7E9",center_bg_color:"#78A0C3",center_border_color:"#78A0C3",sec_bg_color:"#E9F1FE",sec_border_color:"#78A0C3",child_bg_color:"#E9F1FE",child_bg_opacity:"0.5",child_border_color:"#78A0C3"},"mind-style4":{canvas_bg_color:"#FEF7EE",center_bg_color:"#9F80B2",center_border_color:"#9F80B2",sec_bg_color:"#F3D3EC",sec_border_color:"#9F80B2",child_bg_color:"#F3D3EC",child_bg_opacity:"0.5",child_border_color:"#9F80B2"},"mind-style5":{canvas_bg_color:"#705E5D",center_bg_color:"#EAD8BC",center_border_color:"#EAD8BC",sec_bg_color:"#A4868A",sec_border_color:"#A4868A",child_bg_color:"#A4868A",child_bg_opacity:"0.5",child_border_color:"#EAD8BC"},"mind-style6":{canvas_bg_color:"#F9F2EF",center_bg_color:"#D29857",center_border_color:"#D29857",sec_bg_color:"#819687",sec_border_color:"#D29857",child_bg_color:"#ffffff",child_border_color:"#D29857"},"mind-style7":{canvas_bg_color:"#5C6093",center_bg_color:"#EFD9CF",center_border_color:"#EFD9CF",sec_bg_color:"#E1AEA1",sec_border_color:"#EFD9CF",child_bg_color:"#ffffff",child_bg_opacity:"0.16",child_border_color:"#EFD9CF"},"mind-style8":{canvas_bg_color:"#D8E9E1",center_bg_color:"#647F74",center_border_color:"#647F74",sec_bg_color:"#738BBC",sec_border_color:"#738BBC",child_bg_color:"#738BBC",child_bg_opacity:"0.16",child_border_color:"#647F74"}}},xuancai:{viewColors:["#342850","#FFFFFF","#7249D2","#ABD04C","#4D5BDD","#C672EF"],colorList:{"mind-style1":{autoColor:!0,colorList:["#7249d2","#abd04c","#4d5bdd","#c672ef"],canvas_bg_color:"#ffffff",center_bg_color:"#342850",center_border_color:"#342850",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style2":{autoColor:!0,colorList:["#7249d2","#abd04c","#4d5bdd","#c672ef"],canvas_bg_color:"#342850",center_bg_color:"#ffffff",center_border_color:"#ffffff",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style3":{canvas_bg_color:"#ffffff",center_bg_color:"#abd04c",center_border_color:"#abd04c",sec_bg_color:"#342850",sec_border_color:"#abd04c",child_bg_color:"#E7EAE1",child_border_color:"#abd04c"},"mind-style4":{canvas_bg_color:"#ffffff",center_bg_color:"#4D5BDD",center_border_color:"#4D5BDD",sec_bg_color:"#342850",sec_border_color:"#4D5BDD",child_bg_color:"#eeeeee",child_border_color:"#4D5BDD"},"mind-style5":{canvas_bg_color:"#F4EAF9",center_bg_color:"#C672EF",center_border_color:"#C672EF",sec_bg_color:"#ffffff",sec_border_color:"#c672ef",child_bg_color:"#ffffff",child_bg_opacity:"0.16",child_border_color:"#C672EF"},"mind-style6":{canvas_bg_color:"#E6EAFF",center_bg_color:"#342850",center_border_color:"#342850",sec_bg_color:"#7249D2",sec_border_color:"#342850",child_bg_color:"#7249D2",child_bg_opacity:"0.16",child_border_color:"#342850"},"mind-style7":{canvas_bg_color:"#7249D2",center_bg_color:"#ffffff",center_border_color:"#ffffff",sec_bg_color:"#ffffff",sec_border_color:"#ffffff",child_bg_color:"#ffffff",child_bg_opacity:"0.16",child_border_color:"#ffffff"},"mind-style8":{canvas_bg_color:"#342850",center_bg_color:"#ABD04C",center_border_color:"#ABD04C",sec_bg_color:"#ffffff",sec_border_color:"#ABD04C",child_bg_color:"#ffffff",child_bg_opacity:"0.16",child_border_color:"#ABD04C"}},title:d.default.t("Vivid_Colors")},business:{viewColors:["#DCC99F","#50B0A8","#8CDFFA","#4396F6","#5C4DD0","#020D2B"],title:d.default.t("js.Simple_Business"),colorList:{"mind-style1":{autoColor:!0,colorList:["#50B0A8","#8CDFFA","#4396F6","#5C4DD0"],canvas_bg_color:"#ffffff",center_bg_color:"#020D2B",center_border_color:"#020D2B",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style2":{autoColor:!0,colorList:["#50B0A8","#8CDFFA","#4396F6","#5C4DD0"],canvas_bg_color:"#202534",center_bg_color:"#ffffff",center_border_color:"#ffffff",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style3":{canvas_bg_color:"#ffffff",center_bg_color:"#50B0A8",center_border_color:"#50B0A8",sec_bg_color:"#F1EED6",sec_border_color:"#50B0A8",child_bg_color:"#F1EED6",child_border_color:"#50B0A8"},"mind-style4":{canvas_bg_color:"#F1F5F8",center_bg_color:"#4396F6",center_border_color:"#4396F6",sec_bg_color:"#ffffff",sec_border_color:"#4396F6",child_bg_color:"#ffffff",child_border_color:"#4396F6"},"mind-style5":{canvas_bg_color:"#ffffff",center_bg_color:"#295EAE",center_border_color:"#295EAE",sec_bg_color:"#4793CF",sec_border_color:"#295EAE",child_bg_color:"#4793CF",child_bg_opacity:"0.16",child_border_color:"#295EAE"},"mind-style6":{canvas_bg_color:"#ffffff",center_bg_color:"#5C4DD0",center_border_color:"#5C4DD0",sec_bg_color:"#3C3388",sec_border_color:"#5C4DD0",child_bg_color:"#3C3388",child_bg_opacity:"0.16",child_border_color:"#5C4DD0"},"mind-style7":{canvas_bg_color:"#ffffff",center_bg_color:"#DCC99F",center_border_color:"#DCC99F",sec_bg_color:"#433F3A",sec_border_color:"#DCC99F",child_bg_color:"#eeeeee",child_border_color:"#DCC99F"},"mind-style8":{canvas_bg_color:"#343553",center_bg_color:"#F8D993",center_border_color:"#F8D993",sec_bg_color:"#6B6CA5",sec_border_color:"#F8D993",child_bg_color:"#6B6CA5",child_bg_opacity:"0.5",child_border_color:"#F8D993"}}},"soft-rhyme":{viewColors:["#CAD7E3","#E1B9B9","#E1D7CB","#D5E1D7","#6E8A79","#284F78"],title:d.default.t("Elegant_Tones"),colorList:{"mind-style1":{autoColor:!0,colorList:["#E1B9B9","#E1D7CB","#CAD7E3","#D5E1D7"],canvas_bg_color:"#ffffff",center_bg_color:"#284F78",center_border_color:"#284F78",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.3",child_border_color:"autoColor"},"mind-style2":{autoColor:!0,colorList:["#CAD7E3","#D5E1D7","#E1B9B9","#E1D7CB"],canvas_bg_color:"#284F78",center_bg_color:"#ffffff",center_border_color:"#ffffff",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.3",child_border_color:"autoColor"},"mind-style3":{canvas_bg_color:"#EAEDF0",center_bg_color:"#284F78",center_border_color:"#284F78",sec_bg_color:"#ffffff",sec_border_color:"#284F78",child_bg_color:"#ffffff",child_border_color:"#284F78"},"mind-style4":{canvas_bg_color:"#F3F2F1",center_bg_color:"#B5A281",center_border_color:"#B5A281",sec_bg_color:"#3F4032",sec_border_color:"#B5A281",child_bg_color:"#3F4032",child_bg_opacity:"0.16",child_border_color:"#B5A281"},"mind-style5":{canvas_bg_color:"#FEFBF6",center_bg_color:"#E1B9B9",center_border_color:"#E1B9B9",sec_bg_color:"#E1D7CB",sec_border_color:"#E1B9B9",child_bg_color:"#E1D7CB",child_bg_opacity:"0.5",child_border_color:"#E1B9B9"},"mind-style6":{canvas_bg_color:"#FBFCF2",center_bg_color:"#3D707A",center_border_color:"#3D707A",sec_bg_color:"#E3D0BA",sec_border_color:"#3D707A",child_bg_color:"#E3D0BA",child_bg_opacity:"0.5",child_border_color:"#3D707A"},"mind-style7":{canvas_bg_color:"#6E8A79",center_bg_color:"#33504D",center_border_color:"#33504D",sec_bg_color:"#BA9463",sec_border_color:"#33504D",child_bg_color:"#BA9463",child_bg_opacity:"0.5",child_border_color:"#33504D"},"mind-style8":{canvas_bg_color:"#172E40",center_bg_color:"#487BB1",center_border_color:"#487BB1",sec_bg_color:"#E8EAEC",sec_border_color:"#487BB1",child_bg_color:"#E8EAEC",child_bg_opacity:"0.16",child_border_color:"#487BB1"}}},"purple-red":{viewColors:["#EB7890","#F8ADBA","#FDC0A5","#CDA2E1","#676492","#4C4042"],title:d.default.t("Royal_Purple"),colorList:{"mind-style1":{autoColor:!0,colorList:["#F8ADBA","#EB7890","#CDA2E1","#FDC0A5"],canvas_bg_color:"#FCF1F3",center_bg_color:"#ffffff",center_border_color:"#ffffff",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style2":{autoColor:!0,colorList:["#CDA2E1","#FDC0A5","#F8ADBA","#EB7890"],canvas_bg_color:"#4C4042",center_bg_color:"#ffffff",center_border_color:"#ffffff",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style3":{canvas_bg_color:"#FFEFEF",center_bg_color:"#645F9B",center_border_color:"#645F9B",sec_bg_color:"#FBC8C7",sec_border_color:"#645F9B",child_bg_color:"#ffffff",child_border_color:"#645F9B"},"mind-style4":{canvas_bg_color:"#F8D2D1",center_bg_color:"#875A59",center_border_color:"#875A59",sec_bg_color:"#D9AEAD",sec_border_color:"#875A59",child_bg_color:"#D9AEAD",child_bg_opacity:"0.5",child_border_color:"#875A59"},"mind-style5":{canvas_bg_color:"#FCF1F3",center_bg_color:"#96253E",center_border_color:"#96253E",sec_bg_color:"#F8ADBA",sec_border_color:"#96253E",child_bg_color:"#ffffff",child_border_color:"#96253E"},"mind-style6":{canvas_bg_color:"#FBF4EB",center_bg_color:"#624384",center_border_color:"#624384",sec_bg_color:"#E3B8DB",sec_border_color:"#624384",child_bg_color:"#ffffff",child_border_color:"#624384"},"mind-style7":{canvas_bg_color:"#F5C0E3",center_bg_color:"#7D3E6D",center_border_color:"#7D3E6D",sec_bg_color:"#CE8CB3",sec_border_color:"#7D3E6D",child_bg_color:"#CE8CB3",child_bg_opacity:"0.5",child_border_color:"#7D3E6D"},"mind-style8":{canvas_bg_color:"#C4294E",center_bg_color:"#F8DADC",center_border_color:"#F8DADC",sec_bg_color:"#EEA5B6",sec_border_color:"#F8DADC",child_bg_color:"#EEA5B6",child_bg_opacity:"0.5",child_border_color:"#F8DADC"}}},"dynamic-collision":{viewColors:["#EC662D","#90C43C","#F3CF4F","#59C1E7","#366AE5","#000000"],title:d.default.t("Dynamic_Contrast"),colorList:{"mind-style1":{autoColor:!0,colorList:["#EC662D","#90C43C","#F3CF4F","#366AE5"],canvas_bg_color:"#ffffff",center_bg_color:"#28292D",center_border_color:"#28292D",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style2":{autoColor:!0,colorList:["#F3CF4F","#366AE5","#EC662D","#90C43C"],canvas_bg_color:"#28292D",center_bg_color:"#ffffff",center_border_color:"#ffffff",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style3":{canvas_bg_color:"#F9F9F9",center_bg_color:"#F36D34",center_border_color:"#F36D34",sec_bg_color:"#E3E3E3",sec_border_color:"#F36D34",child_bg_color:"#E3E3E3",child_bg_opacity:"0.5",child_border_color:"#F36D34"},"mind-style4":{canvas_bg_color:"#FBFFF2",center_bg_color:"#28292D",center_border_color:"#28292D",sec_bg_color:"#90C43C",sec_border_color:"#28292D",child_bg_color:"#eeeeee",child_border_color:"#28292D"},"mind-style5":{canvas_bg_color:"#ffffff",center_bg_color:"#4475EA",center_border_color:"#4475EA",sec_bg_color:"#F3CF4F",sec_border_color:"#4475EA",child_bg_color:"#eeeeee",child_border_color:"#4475EA"},"mind-style6":{canvas_bg_color:"#ffffff",center_bg_color:"#90C43C",center_border_color:"#90C43C",sec_bg_color:"#EC662D",sec_border_color:"#90C43C",child_bg_color:"#eeeeee",child_border_color:"#90C43C"},"mind-style7":{canvas_bg_color:"#FDFAE3",center_bg_color:"#B48A5D",center_border_color:"#B48A5D",sec_bg_color:"#A0AE72",sec_border_color:"#B48A5D",child_bg_color:"#A0AE72",child_bg_opacity:"0.2",child_border_color:"#B48A5D"},"mind-style8":{canvas_bg_color:"#24273C",center_bg_color:"#4475EA",center_border_color:"#4475EA",sec_bg_color:"#59C1E7",sec_border_color:"#4475EA",child_bg_color:"#59C1E7",child_bg_opacity:"0.16",child_border_color:"#4475EA"}}},"romantic-sakura":{viewColors:["#F430A2","#FFF5FF","#FAE335","#FD6BBD","#F5B7FF","#FFDEF3"],title:d.default.t("Romantic_Cherry_Blossom"),colorList:{"mind-style1":{autoColor:!0,colorList:["#FD6BBD","#F5B7FF","#FAE335","#FFDEF3"],canvas_bg_color:"#ffffff",center_bg_color:"#F430A2",center_border_color:"#F430A2",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style2":{autoColor:!0,colorList:["#F5B7FF","#FFDEF3","#FF8ACC","#FAE335"],canvas_bg_color:"#D72C90",center_bg_color:"#ffffff",center_border_color:"#ffffff",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.2",child_border_color:"autoColor"},"mind-style3":{canvas_bg_color:"#FFF5FF",center_bg_color:"#FD6BBD",center_border_color:"#FD6BBD",sec_bg_color:"#FFD3EF",sec_border_color:"#FD6BBD",child_bg_color:"#FFD3EF",child_bg_opacity:"0.5",child_border_color:"#FD6BBD"},"mind-style4":{canvas_bg_color:"#FEF8FF",center_bg_color:"#F5B7FF",center_border_color:"#F5B7FF",sec_bg_color:"#FAD9FF",sec_border_color:"#F5B7FF",child_bg_color:"#FAD9FF",child_bg_opacity:"0.5",child_border_color:"#F5B7FF"},"mind-style5":{canvas_bg_color:"#FFFEF3",center_bg_color:"#FFD3EF",center_border_color:"#FFD3EF",sec_bg_color:"#FFA6D5",sec_border_color:"#FFD3EF",child_bg_color:"#FFA6D5",child_bg_opacity:"0.3",child_border_color:"#FFD3EF"},"mind-style6":{canvas_bg_color:"#FFFFFF",center_bg_color:"#FD6BBD",center_border_color:"#FD6BBD",sec_bg_color:"#FAE335",sec_border_color:"#FD6BBD",child_bg_color:"#FAE335",child_bg_opacity:"0.3",child_border_color:"#FD6BBD"},"mind-style7":{canvas_bg_color:"#FFD3EF",center_bg_color:"#FD6BBD",center_border_color:"#FD6BBD",sec_bg_color:"#FFF5FF",sec_border_color:"#FD6BBD",child_bg_color:"#FFF5FF",child_bg_opacity:"0.3",child_border_color:"#FD6BBD"},"mind-style8":{canvas_bg_color:"#FDF3FF",center_bg_color:"#F430A2",center_border_color:"#F430A2",sec_bg_color:"#F5B7FF",sec_border_color:"#F430A2",child_bg_color:"#F5B7FF",child_bg_opacity:"0.2",child_border_color:"#F430A2"}}},"purple-country-rhyme":{viewColors:["#3A1084","#E9CF85","#6D2DDE","#945BF9","#C7A7FF","#F2DAFF"],title:d.default.t("Purple_National_Charm"),colorList:{"mind-style1":{autoColor:!0,colorList:["#6D2DDE","#945BF9","#C4AFFF","#E6DDFF"],canvas_bg_color:"#ffffff",center_bg_color:"#3A1084",center_border_color:"#3A1084",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.16",child_border_color:"autoColor"},"mind-style2":{autoColor:!0,colorList:["#6D2DDE","#945BF9","#C7A7FF","#F2DAFF"],canvas_bg_color:"#3A1084",center_bg_color:"#ffffff",center_border_color:"#ffffff",sec_bg_color:"autoColor",sec_border_color:"autoColor",child_bg_color:"autoColor",child_bg_opacity:"0.3",child_border_color:"autoColor"},"mind-style3":{canvas_bg_color:"#F2EDFF",center_bg_color:"#6D2DDE",center_border_color:"#6D2DDE",sec_bg_color:"#945BF9",sec_border_color:"#6D2DDE",child_bg_color:"#945BF9",child_bg_opacity:"0.2",child_border_color:"#6D2DDE"},"mind-style4":{canvas_bg_color:"#FAF8FF",center_bg_color:"#945BF9",center_border_color:"#945BF9",sec_bg_color:"#C4AFFF",sec_border_color:"#945BF9",child_bg_color:"#C4AFFF",child_bg_opacity:"0.3",child_border_color:"#945BF9"},"mind-style5":{canvas_bg_color:"#FFFDF7",center_bg_color:"#C4AFFF",center_border_color:"#C4AFFF",sec_bg_color:"#945BF9",sec_border_color:"#C4AFFF",child_bg_color:"#945BF9",child_bg_opacity:"0.3",child_border_color:"#C4AFFF"},"mind-style6":{canvas_bg_color:"#3A1084",center_bg_color:"#945BF9",center_border_color:"#945BF9",sec_bg_color:"#E9CF85",sec_border_color:"#945BF9",child_bg_color:"#945BF9",child_bg_opacity:"0.3",child_border_color:"#945BF9"},"mind-style7":{canvas_bg_color:"#F1ECFF",center_bg_color:"#945BF9",center_border_color:"#945BF9",sec_bg_color:"#FFFFFF",sec_border_color:"#945BF9",child_bg_color:"#FFFFFF",child_bg_opacity:"0.5",child_border_color:"#945BF9"},"mind-style8":{canvas_bg_color:"#F7F3FF",center_bg_color:"#6D2DDE",center_border_color:"#6D2DDE",sec_bg_color:"#C4AFFF",sec_border_color:"#6D2DDE",child_bg_color:"#C4AFFF",child_bg_opacity:"0.2",child_border_color:"#6D2DDE"}}}},P=["lineType","lineColor","lineWidth","underLine","summaryLineColor","summaryLineType","summaryLineWidth","color","w1","w2","fill","dasharray","opacity","dasharray","background"],B=function(){function e(){T(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap=t.mindMap,this.skeletonTab=3,this.colorCardTab=1,this.currentLayout=null,this.doms=[],this.skeleton=null,this.colorCard=null,this.layout=null,this.bindEvent()}return M(e,[{key:"bindEvent",value:function(){this.mindMap.on("createMap",this.renderMiniMap.bind(this)),this.mindMap.on("createSkeleton",this.createSkeleton.bind(this))}},{key:"reset",value:function(){this.doms=[],this.skeleton=null,this.colorCard=null,this.layout=null,this.currentLayout=null}},{key:"getSkeletonList",value:function(){return F}},{key:"getcolorCardList",value:function(){return L}},{key:"getThemeConfig",value:function(e,t,n){var i=function(e,t){if(e){var n=t.centerTopic,i=t.secTopic,o=t.childTopic,a=e.center_bg_color,r=e.center_border_color,s=e.center_font_color,l=e.center_line_color,c=e.center_glass_effect,d=e.sec_bg_color,u=e.sec_border_color,p=e.sec_font_color,h=e.sec_line_color,m=e.sec_glass_effect,g=e.sec_bg_opacity,v=e.child_bg_color,b=e.child_border_color,y=e.child_font_color,x=e.child_line_color,w=e.child_glass_effect,k=e.child_bg_opacity,_={"border-color":r,"font-weight":"bold"},C={"border-color":u},T={"border-color":b};return s&&(_.color=s),l&&(_.lineStyle={lineColor:l}),"fillup"===n.background?_.background=a:_.anticipateBackground=a,c&&n.background&&(_.glassEffect=c),p&&(C.color=p),h&&(C.lineStyle={lineColor:h}),"fillup"===i.background?C.background=d:C.anticipateBackground=d,g&&(C.secBgOpacity=g),m&&C.background&&(C.glassEffect=m),y&&(T.color=y),x&&(T.lineStyle={lineColor:x}),k&&(T.childBgOpacity=k),"fillup"===o.background?T.background=v:T.anticipateBackground=v,w&&o.background&&(T.glassEffect=w),{background:e.canvas_bg_color,centerTopic:f({},_),secTopic:f({},C),childTopic:f({},T),autoColor:e.autoColor,colorList:e.colorList}}return{}}(t,e),o=s.default.all([r.defaultLayoutFramework,e,i]);return o.skeletonId=this.skeleton,o.colorCardId=this.colorCard,o.colorMinorId=n||this.colorMinorId,o=this.setBoundaryStyle(o),o=this.setSummaryStyle(o),o=this.setConnectionStyle(o)}},{key:"getRootStyle",value:function(e){var t=e.centerTopic["border-color"],n=e.background||e.backgroundColor,i=e.centerTopic.background||e.centerTopic.backgroundColor||n;return n.includes("url")||"transparent"==n?"#9AA5B8":i&&!(0,c.areColorsSimilar)(i,n)?i:t&&!(0,c.areColorsSimilar)(t,n)?t:"#9AA5B8"}},{key:"setBoundaryStyle",value:function(e){var t={lineType:"2"},n=this.getRootStyle(e);return t=f({},{lineColor:n,fill:n}),e.centerTopic.shape===r.CONSTANTS.SHAPE.RECTANGLE&&(t.lineType=1),(0,s.default)(e,{boundaryStyle:t})}},{key:"setSummaryStyle",value:function(e){var t=(0,s.default)({},{summaryLineColor:this.getRootStyle(e)});return(0,s.default)(e,{summaryTopic:t})}},{key:"setConnectionStyle",value:function(e){var t={color:"#ffffff",lineColor:"#9AA5B8",lineType:"dashed",lineWidth:2};return t.lineColor=this.getRootStyle(e),(0,s.default)(e,{connectionStyle:t})}},{key:"checkIsNodeSizeIndependenceConfig",value:function(e){for(var t=Object.keys(e),n=function(e){if(!P.find(function(n){return n===t[e]}))return{v:!1}},i=0;i<t.length;i++){var o=n(i);if("object"===w(o))return o.v}return!0}},{key:"createSkeleton",value:function(){}},{key:"getSkeletonDef",value:function(){var e=this.skeleton||"mindmap_curve_green-default",t={};for(var n in F){var i,o=v(F[n].list);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.title===e){t=a.theme;break}}}catch(l){o.e(l)}finally{o.f()}}if((0,c.isEmptyObject)(t)){var r,s=e.split("_")[0];t=null===(r=F[s].list[0])||void 0===r?void 0:r.theme}return t}},{key:"savaTheme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skeleton,n=e.layout;this.skeleton=t||this.skeleton,this.layout=n||this.layout;var i=this.colorCard,o=this.colorMinorId||"mind-style1",a=this.getSkeletonDef(),r=L[i].colorList;return this.getThemeConfig(a,r[o])}},{key:"viewTheme",value:function(e,t){var n=this;this.viewThemeTimer&&(clearTimeout(this.viewThemeTimer),this.viewThemeTimer=null),this.viewThemeTimer=setTimeout(function(){var i=!1,o="";if("close"===e){i=!1;var a=n.mindMap.renderer.mindTree.theme;o=n.mindMap.getThemeObject(a)}else if(i=!0,t)o=t,o=(0,p.upgradeTheme)(n.mindMap,o,o.id);else{var r=n.getSkeletonDef(),s=n.colorCard,l=L[s].colorList;o=n.getThemeConfig(r,l[e])}n.mindMap.themeConfig=(0,c.deepClone)(o);var d=[];i&&(d=n.mindMap.renderer.getStyleTopics(n.mindMap.renderer.mindTree)),"close"!==e&&n.mindMap.execCommand("SET_BACKGROUND",o.background),(0,c.walk)(n.mindMap.renderer.root,null,function(e){e&&e.showTopicView&&(e.renderlayout(),e.update(),e.updateExpandBtnNode(!0),n.mindMap.emit("loadConnections"),e.boundaries.length>0&&e.boundaries.forEach(function(e){e.updates()}),e.summary&&n.mindMap.summary.drawSummaryLine(e)),e.renderLine()}),d.length>0&&n.mindMap.renderer.addTopicStyles(d),"close"===e&&n.mindMap.execCommand("SET_BACKGROUND",null),n.viewThemeTimer=null},500)}},{key:"getNewDef",value:function(e,t,n,i){var o=g;if("mind_free"===e?o=b:"fishbone"===t?o=y:"tree"===t?o=_:"tree_org"===t?o=S:"org"===t?o=i.hideSelf?D:E:"mobi_tree"===t&&(o=A),n){var a=function(e,t){for(var n="",i=0;i<e;i++)n+=t||"■";return n};delete i.marginH,delete i.marginW,delete i.childMarginH,delete i.childMarginW;var r=i.childTopic,s=i.centerTopic,l=i.secTopic;(function e(t,n){var i;t.style={},i=1===n?s:2===n?l:r,1===n&&(t.style["font-size"]=18,t.title=a("8")),2===n&&(t.style["font-size"]=16,t.title=a("6")),3===n&&(t.style["font-size"]=14,t.title=a("6")),t.style.color="transparent",(i.background||i.backgroundColor||i["border-width"])&&"underline"!==i.shape&&"dblunderline"!==i.shape||(t.title=a(4,"▅"),t.style.color="#DDE0E4",t.style["font-size"]=30,1===n&&(t.title=a(t.title.length,"▅"))),"dblunderline"===i.shape&&(t.title=a(6,"▇"),1===n&&(t.title=a(4,"▇"))),1===n&&"circle"===i.shape&&(t.title=a(t.title.length),t.style["font-size"]=14),t.children&&t.children.forEach(function(t){e(t,n+1)})})(o=(0,c.deepClone)(o),1)}return o.freeChildren=[],o}},{key:"renderMapFn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.structure,n=e.layout,i=e.svgDom,o=e.theme,a=e.isEmptyTitle,r=void 0!==a&&a,s=this.getNewDef(t,n,r,o);if(s.theme=o,s.structure=t,0!==((null==i?void 0:i.getBoundingClientRect())||{height:0}).height){var c=new l.MindMap({el:i,readonly:!0,fillTheCanvasData:{paddingX:8,paddingY:10,scale:!1},partialLoad:!1,neverShowExpandBtn:!0,onlyThumbnail:!0});c.svg.node.style.pointerEvents="none",c.setFullData(s,!0)}}},{key:"restCurrentDef",value:function(e,t){function n(e,n){e.background&&(e.background="fillup"),e.backgroundColor&&(e.background="fillup"),e["border-color"]&&delete e["border-color"],e.childBgOpacity&&delete e.childBgOpacity,"underline"!==e.shape&&"dblunderline"!==e.shape||(t[n]="#9AA5B8"),e.lineStyle&&e.lineStyle.lineColor&&delete e.lineStyle.lineColor,e.lineStyle&&e.lineStyle.lineWidth&&(e.lineStyle.lineWidth=6),e["border-width"]&&(e["border-width"]=3),e["border-width"]&&!e.background&&(e["border-width"]=8)}var i=e.childTopic,o=e.centerTopic,a=e.secTopic;return n(i,"child_border_color"),n(o,"center_border_color"),n(a,"sec_border_color"),t}},{key:"renderCurrentMiniMap",value:function(e){var t=this;e=$(e);var n=this.mindMap.getLayout(),i=this.mindMap.mindData.structure,o=(0,c.deepClone)(this.mindMap.themeConfig),a=this.restCurrentDef(o,(0,c.deepClone)(I)),r=this.getThemeConfig(o,a),s=$("<div></div>");s.css({height:"100%",width:"100%"}),e.empty(),e.append(s),setTimeout(function(){t.renderMapFn({layout:n,structure:i,theme:r,svgDom:s[0],isEmptyTitle:!0})})}},{key:"renderMiniMap",value:function(){var e=C(k().mark(function e(){var t,n,i,o,a,r,s,l,p,m,f,g,b,y,x,w,_,C,T,S,M,D=this,E=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.length>0&&void 0!==E[0]?E[0]:{},n=t.skeleton,i=t.layout,o=t.structure,a=t.colorCard,r=t.colorMinorId,s=t.insertDom,l=t.focus,p=void 0!==l&&l,o!==this.mindMap.mindData.structure||n!==this.skeleton||a!==this.colorCard||p){e.next=3;break}return e.abrupt("return");case 3:n=n||this.skeleton||(0,c.deepClone)(this.mindMap.getThemeConfig("skeletonId"))||"mindmap_curve_green-default",m=this.mindMap.getThemeConfig("colorCardId")||"system",a=a||this.colorCard||m,i=i||this.layout||(0,c.deepClone)(this.mindMap.getLayout()),o=o||(0,c.deepClone)(this.mindMap.mindData.structure),r=r||this.colorMinorId||this.mindMap.getThemeConfig("colorMinorId"),n&&this.currentLayout!==n&&(this.doms.forEach(function(e){e&&e.remove()}),this.doms=[]),this.skeleton=n,this.colorCard=a,this.layout=i,this.colorMinorId=r,s||(s=document.querySelector("#mind-themes")),f={},e.t0=k().keys(F);case 8:if((e.t1=e.t0()).done){e.next=30;break}g=e.t1.value,b=v(F[g].list),e.prev=11,b.s();case 13:if((y=b.n()).done){e.next=20;break}if((x=y.value).title!==n){e.next=18;break}return f=x.theme,e.abrupt("break",20);case 18:e.next=13;break;case 20:e.next=25;break;case 22:e.prev=22,e.t2=e.catch(11),b.e(e.t2);case 25:return e.prev=25,b.f(),e.finish(25);case 28:e.next=8;break;case 30:(0,c.isEmptyObject)(f)&&(_=n.split("_")[0],f=null===(w=F[_].list[0])||void 0===w?void 0:w.theme),(C=s.querySelector(".theme_list"))||((C=document.createElement("ul")).className="theme_list",s.appendChild(C)),T=L[a].colorList,S=Object.values(T),M=Object.keys(T),C.innerHTML="",T&&S.forEach(function(e,t){var n=D.getThemeConfig(f,e,M[t]);if(!D.doms[t]){var i=document.createElement("LI");C.appendChild(i),D.doms[t]=i}var r=document.createElement("div");D.doms[t].appendChild(r),r.style.height="100%";var s=encodeURIComponent(JSON.stringify(n)),l=D.colorCard+"_"+t;r.setAttribute("tit",l),r.setAttribute("colorMinorId",M[t]),r.setAttribute("themeConfig",s),D.doms[t].classList.remove("selected"),m===D.colorCard&&M[t]===D.colorMinorId&&(D.doms[t].className+="selected"),r.removeEventListener("click",p),r.addEventListener("click",p),r.removeEventListener("mouseover",g),r.addEventListener("mouseover",g),r.removeEventListener("mouseout",v),r.addEventListener("mouseout",v);var c=D;function p(){c.colorMinorId=M[t],c.mindMap.emit("testVip","mindTheme",function(e){if(!e&&O(a,c.colorMinorId))h.vipState.limit({type:"mindTheme",pos:"mind_color_style_".concat(a,"_").concat(c.colorMinorId)});else{c.mindMap.emit("recordThemeDom",c.doms[t]);var n=c.savaTheme();c.mindMap.setThemeConfig(JSON.stringify(n)),c.mindMap.emit("setThemeConfig","skeletonTheme")}})}function g(){c.viewTheme(M[t])}function v(){c.viewTheme("close")}setTimeout(function(){D.renderMapFn({layout:D.layout,structure:o,theme:n,svgDom:r,isEmptyTitle:!1})},0);var b,y=document.createElement("div");if(y.className="theme-item-op po-diagraming-icons",y.innerHTML="&#xe904;",$(y).off("click").on("click",function(e){e.stopPropagation();var t=$(this);$("#mind-customise-theme-list").children().hide(),$("#mind-customise-theme-list").children("[tp=set_def_theme]").show(),$("#mind-customise-theme-list").dropdown({target:t,zindex:9,position:"right",onSelect:function(e){if("set_def_theme"==e.attr("tp")){var n=t.prev().attr("tit"),i=t.prev().attr("colorminorid");if(O(a,i)&&!h.vipState.test("mindTheme"))return void h.vipState.limit({type:"mindTheme",pos:"mind_color_style_".concat(a,"_").concat(c.colorMinorId)});var o=t.prev().attr("themeConfig"),r=o?decodeURIComponent(o):n;u.Server.setConfig("theme",r,function(e){if(null!=e){editorGlobal.authObj.mindTheme=r;var t=$("#mind-themes, #mind-customise-themes").find("li [tit="+n+"]").parent(),i=t.find(".info-tip");i.length||(i=$("<div class='info-tip'></div>"),t.append(i));var o='<span class="user-theme-tip"><label>'+d.default.t("js.Default")+"</label></span>";return $(".user-theme-tip").remove(),i.prepend(o),$(".new-theme-tip").show(),t.find(".new-theme-tip").hide(),void $.toast({type:"success",text:d.default.t("js.Setting_successful")})}$.toast({type:"error",text:d.default.t("js.Default_style_setting_failed")})})}}})}),D.doms[t].appendChild(y),editorGlobal.authObj.mindTheme===JSON.stringify(n)){b||(b=document.createElement("div"));var x=document.createElement("div");x.className="user-theme-tip",x.innerHTML="<label>".concat(d.default.t("js.Default"),"</label>"),b.appendChild(x)}if(O(a,M[t])){var w=editorGlobal.vipIcons.default?editorGlobal.vipIcons.default:"";if(""!==w){var k=document.createElement("img");k.className="vip_tag",k.setAttribute("src",w),b||(b=document.createElement("div")),b.appendChild(k)}}b&&(b.className="info-tip",D.doms[t].appendChild(b))});case 35:case"end":return e.stop()}},e,this,[[11,22,25,28]])}));return function(){return e.apply(this,arguments)}}()}]),e}();t.SkeletonStyle=B,B.instanceName="skeletonStyle"},96155:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TrackpadDetector=void 0,n(82403),n(12638);var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&"Apple Computer, Inc."===navigator.vendor;t.TrackpadDetector=function(){function e(){T(this,e),this.lastEventTime=0,this.lastDeltaY=0,this.isTrackpad=!1}return M(e,[{key:"detect",value:function(e){if(!i)return!1;var t=Date.now(),n=t-this.lastEventTime;this.lastEventTime=t;var o=e.deltaY||-.025*e.wheelDeltaY,a=!Number.isInteger(o),r=Math.abs(o)%3!=0,s=0!==e.wheelDeltaX,l=0===e.deltaMode,c=Math.abs(o-this.lastDeltaY);return this.lastDeltaY=o,this.isTrackpad=n<20&&(a||r)||s||l&&c>.5,this.isTrackpad}}]),e}()},50356:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.TextEdit=void 0;var o=i(n(66603));n(27531),n(61894),n(65528),n(4790),n(82403),n(38887),n(6284),n(47958),n(11568),n(69268),n(86837),n(84889),n(14237);var a=n(5263),r=n(15240),s=i(n(32483)),l=n(41295),c=n(14310),d=n(80214),u=n(96871),p={params:{span:null,range:null,selection:null},bindEvent:function(e){this.mindMap=e.mindMap,this.mindMap.on("setSelectionStyle",this.setStyle.bind(this))},init:function(e){if(!(0,r.isMobile)()){var t=$(e),n=this.getSelection();if(null!=n)return this.params.range=n.range,this.params.selection=n.selection,this.renderMenu(),this.renderMenuPos(t),this.initEvent(t),!0}},getSelection:function(){var e=document.getSelection();return e.isCollapsed?null:{selection:e,range:e.getRangeAt(0)}},initEvent:function(e){var t=this,n=$(".pop-editor");n.children("div").off("mousedown").on("mousedown",function(i){var o=$(this),r=o.data("key");if("insertUnorderedList"!=r&&"insertOrderedList"!=r&&e.find(".equation-text").removeAttr("contenteditable"),"down"==r)n.find(".pop-editor-items").hide(),$(".pop-editor").children("[data-key=down]").button({onClick:function(e,n){var i=$("#mind-select-font").text().trim();$("#mind-font-list").dropdown({target:n,zindex:11,stopPropagation:!0,onSelect:function(e){i=e.attr("ac"),t.setStyle("f",i),n.button("setText",i),n.attr("ac",i)}})}});else{if("color"==r)return i.stopPropagation(),i.preventDefault(),void $.colorpicker({target:o,stopPropagation:!0,type:"hex",onSelect:function(n){t.setStyle("ForeColor",n),e.find(".equation-text").attr("contenteditable",!1)}});if("equation"==r){if(a.insert.equation.isLimit())return;e.find(".equation-text").attr("contenteditable",!1),a.insert.equation.equationInit(e)}else t.setStyle(r),e.find(".equation-text").attr("contenteditable",!1)}i.preventDefault(),i.stopPropagation()}),n.children("div").off("mouseup").on("mouseup",function(e){e.stopPropagation(),e.preventDefault()}),n.find(".pop-editor-items > div").off("mousedown").on("mousedown",function(t){return e.find(".equation-text").attr("contenteditable",!1),t.stopPropagation(),!1})},renderMenu:function(){var e=$(".pop-editor");if(0==e.length){var t="<div class='pop-editor'><div data-key='down'><span class='po-diagraming-icons'>&#xe765;</span></div><div data-key='bold'><span class='po-diagraming-icons'>&#xe6bf;</span></div><div data-key='italic'><span class='po-diagraming-icons'>&#xe6da;</span></div><div data-key='underline'><span class='po-diagraming-icons'>&#xe6d6;</span></div><div data-key='strikeThrough'><span class='po-diagraming-icons'>&#xe732;</span></div><div data-key='color'><span class='icon'><svg class='icon icon-color' style='vertical-align: bottom; font-size:21px' aria-hidden='true'><use xlink:href='#icon-zitiyanse-fuwenbenbianjiqi'></use></svg></span></div><div data-key='equation'><span class='po-diagraming-icons'>&#xe651;</span>"+(editorGlobal.vipIcons.default?'<img class="vip-tip" src="'.concat(editorGlobal.vipIcons.default,'">'):"")+"</div><div data-key='insertUnorderedList'><span class='po-diagraming-icons'>&#xe7bd;</span></div><div data-key='insertOrderedList'><span class='po-diagraming-icons'>&#xe7be;</span></div></div>";if("v1"===editorGlobal.config.uiType){var n={"&#xe765;":"&#xe7e02;","&#xe732;":"&#xe7e03;","&#xe7bd;":"&#xe7e04;","&#xe7be;":"&#xe7e05;"};for(var i in n)t=t.replace(i,n[i])}e=$(t).appendTo("body")}},renderMenuPos:function(e){var t=$(".pop-editor"),n=this.mindMap.view.scale;t.css({left:e.offset().left+e.outerWidth()*n/2-t.outerWidth()/2,top:e.offset().top+e.outerHeight()*n+8}).show()},isShow:function(){return $(".pop-editor").is(":visible")},hide:function(){$(".pop-editor").hide()},show:function(){$(".pop-editor").show()},setStyle:function(e,t){if(document.getSelection().isCollapsed){var n=document.createRange(),i=$(".area_box")[0];n.selectNodeContents(i);var o=window.getSelection();o.removeAllRanges(),o.addRange(n)}if((0,r.isFullySelected)($(".area_box")[0])){var a=this.mindMap.renderer.getSelectedTopic();switch(e){case"f":return void editorGlobal.mindMap.execCommand("SET_STYLE",[a],{"font-family":t});case"bold":var s="bold"==a.getStyle("font-weight");return void editorGlobal.mindMap.execCommand("SET_STYLE",[a],{"font-weight":s?"normal":"bold"});case"italic":var l="italic"==a.getStyle("font-style");return void editorGlobal.mindMap.execCommand("SET_STYLE",[a],{"font-style":l?"normal":"italic"});case"underline":var c="underline"==a.getStyle("text-decoration")||a.getStyle("underline");return void editorGlobal.mindMap.execCommand("SET_STYLE",[a],{"text-decoration":c?"none":"underline","text-decoration-type":"underline"});case"strikeThrough":var d=a.getStyle("text-decoration")&&-1!=a.getStyle("text-decoration").indexOf("line-through")||a.getStyle("middleline");return void editorGlobal.mindMap.execCommand("SET_STYLE",[a],{"text-decoration":d?"none":"line-through","text-decoration-type":"line-through"});case"ForeColor":return void editorGlobal.mindMap.execCommand("SET_STYLE",[a],{color:t})}}switch(e){case"h":document.execCommand("formatBlock",!1,"<"+t+">");break;case"f":document.execCommand("FontName",!1,t);break;default:document.execCommand(e,!1,t)}return""},destroy:function(){var e=document.querySelector(".pop-editor");e&&e.remove()}};t.TextEdit=function(){function t(e){var n=this;T(this,t),(0,o.default)(this,"handleMouseup",function(e){if(!(0,r.isMobile)()){document.getSelection().isCollapsed||!n.mousedownEvent||n.popEditor.isShow()||(n.popEditor.init($(n.textarea_topic)),n.mousedownEvent=null),n.isEq=!1;var t,i,o=$(".eq-editor"),s=$(e.target).parents(".equation-text");if(n.popEditor.isShow()&&setTimeout(function(){document.getSelection().isCollapsed&&n.popEditor.hide()},10),o.is(":visible"))s.length>0&&((i=window.getSelection?(t=window.getSelection()).getRangeAt(0):(t=document.selection).createRange()).setStartAfter(s.get(0)),i.collapse(!1),t.removeAllRanges(),t.addRange(i),$(".pop-editor").hide()),s=$(n.textArea).find(".equation-text.cur"),o.hide(),$(".eq-shade").remove(),""==$(".notranslate").html()&&s.remove(),s.removeClass("cur");else s.length>0&&a.insert.equation.equationInit($(n.textarea_topic),s)}}),(0,o.default)(this,"handleBodyMouseup",function(){n.mousedownEvent&&n.handleMouseup(n.mousedownEvent),n.mousedownEvent=null}),this.renderer=e,this.mindMap=e.mindMap,this.nodeDraw=this.mindMap.nodeDraw,this.currentNode=null,this._topic=null,this.textArea=null,this.showTextEdit=!1,this.cacheEditingText="",this.hasBodyMousedown=!1,this.padding=(0,r.isIos)()?15:10,this.editIng=!1,this.prevOffsetTop=0,this.eventRegistry=new WeakMap,this.bindEvent(),this.popEditor=(0,r.deepClone)(p),this.popEditor.bindEvent({mindMap:this.mindMap}),this.initialWindowHeight=window.innerHeight,this.keyboardHeight=0}return M(t,[{key:"bindEvent",value:function(){var e=this,t=this;this.show=this.show.bind(this),this.onKeydown=this.onKeydown.bind(this),this.mindMap.on("view_data_change_real_time",function(){e.popEditor.hide()}),this.mindMap.on("to_edit_status",function(e,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if(n){if(t.editimer&&(clearTimeout(t.editimer),t.editimer=null),(0,r.isIos)())try{var a=t.keyboardHeight;t.show(n,i),a>0&&t.translateInView(a)}catch(t){}else if((0,r.isMobile)()){var s=window.innerHeight<t.initialWindowHeight;t.show(n,i),s&&t.onWindowResize()}else t.show(n,i),o&&o(),t.editimer=null;(0,r.isMobile)()&&(t.mindMap.emit("closeControlBar"),t.mindMap.emit("hideOutlineMenu"),t.mindMap.emit("hide_page-model-con"),t.mindMap.emit("op-con-reset"))}}),this.mindMap.on("draw_click",function(){e.editEnd()}),this.mindMap.on("body_mousedown",function(){e.hasBodyMousedown=!0}),this.mindMap.on("body_click",function(){e.hasBodyMousedown&&(e.hasBodyMousedown=!1,e.mindMap.opt.isEndNodeTextEditOnClickOuter)}),this.mindMap.on("edit_topic_init",function(){}),this.mindMap.on("topic_selected",function(t,n){if(e.mindMap.opt.readonly){var i=n[0];i&&e.renderer.moveTopicToClientView(i)}else{e.textArea||e.editTopicDomInit();var o=n[0];!e.showTextEdit||(0,r.isMobile)()&&o||e.textarea_topic.blur(),o&&(e.mindMap.opt.selectTopicFocusVirtualDom?e.focusVirtualDom(o):e.showTextEdit||e.renderer.moveTopicToClientView(o))}}),this.mindMap.on("view_data_change_real_time",function(){e._topic&&e.updateTextareaPos(e._topic)}),this.mindMap.on("textEditEnd",function(){e.editEnd()}),this.mindMap.on("clear_Focus_Virtual",function(){e.clearFocusVirtualTimeout()}),this.mindMap.opt.enableAutoEnterTextEditWhenKeydown&&this.mindMap.on("keydown",this.onKeydown),this.mindMap.on("resize",function(){e.onWindowResize()}),this.mindMap.on("visualViewportResize",function(t){e.keyboardHeight=t,e.onVisualViewportResize(t)}),this.mindMap.on("topicStyleOrTitleChange",function(t,n){var i;t===(null===(i=e._topic)||void 0===i?void 0:i.id)&&e.showTextEdit&&(0,r.isFullySelected)($(".area_box")[0])&&(n&&(e.textarea_topic.innerHTML=n,e.originTitle=n,document.execCommand("selectAll",!1,null)),setTimeout(function(){var t=e._topic._textData.nodeContent.node.firstChild.getAttribute("style"),n=e.textArea.getAttribute("style");e.textArea.style=(0,r.mergeStyles)(n,t)},0))})}},{key:"onWindowResize",value:function(){if((0,r.isMobile)()){var e=this.mindMap.renderer.getSelectedTopic();if(e){var t=(0,r.checkTopicOuter)(this.mindMap,e,-10,!1),n=t.isOuter,i=t.elRect.height,o=t.nodeRect,a=t.offsetLeft;if(n||i-o.bottom<55||o.top<45)if(i-o.bottom<55||o.top<45){var s=(this.mindMap.toSvgPos({pageX:0,pageY:i/4*3}).y-this.mindMap.toSvgPos({pageX:0,pageY:o.bottom}).y)*this.mindMap.view.scale;this.mindMap.view.translateY(s)}else 0!==a&&this.mindMap.view.translateX(a);this.updateTextareaPos(e)}}}},{key:"onVisualViewportResize",value:function(e){e>0?this.translateInView(e):(0!==this.prevOffsetTop&&this.mindMap.view.translateY(-this.prevOffsetTop),this.prevOffsetTop=0)}},{key:"translateInView",value:function(e){var t=this.mindMap.renderer.getSelectedTopic();if(t){var n=(0,r.checkTopicOuter)(this.mindMap,t,-10,!1),i=n.isOuter,o=n.elRect.height,a=n.nodeRect,s=n.offsetLeft;if(i||o-a.bottom<e+55||a.top<45)if(o-a.bottom<e+55||a.top<45){var l=(this.mindMap.toSvgPos({pageX:0,pageY:(window.innerHeight-e)/4*3}).y-this.mindMap.toSvgPos({pageX:0,pageY:a.bottom}).y)*this.mindMap.view.scale;this.mindMap.view.translateY(l),this.prevOffsetTop=l}else 0!==s&&this.mindMap.view.translateX(s)}}},{key:"onKeydown",value:function(e){var t=this.mindMap.renderer.selectedTopicList[0];t&&!this.mindMap.opt.readonly&&t&&this.checkIsAutoEnterTextEditKey(e)&&this.show(t)}},{key:"checkIsAutoEnterTextEditKey",value:function(e){var t=e.keyCode;return(229===t||t>=112&&t<=116||t>=96&&t<=105||t>=65&&t<=90||t>=48&&t<=57)&&!this.mindMap.keyCommand.hasCombinationKey(e)}},{key:"registerTmpShortcut",value:function(){var e=this;this.mindMap.keyCommand.addShortcut("Enter",function(){e.editEnd()}),this.mindMap.keyCommand.addShortcut("Tab",function(){e.editEnd()})}},{key:"isShowTextEdit",value:function(){return this.mindMap.richText?this.mindMap.richText.showTextEdit:this.showTextEdit}},{key:"editTopicDomInit",value:function(){this.textArea=document.createElement("div"),this.textarea_topic=document.createElement("div"),this.textarea_topic.setAttribute("contenteditable",!0),this.textarea_topic.setAttribute("spellcheck",!1),this.textArea.style.position="fixed",this.textArea.style.top=0,this.textArea.style.left=0,this.textArea.style.zIndex=-1,this.textArea.style.opacity=0,this.textarea_topic.innerHTML="比心(*￣3￣)╭♡",this.textArea.appendChild(this.textarea_topic),this.mindMap.el.appendChild(this.textArea)}},{key:"judgeIsFixedWidth",value:function(e){var t=this.textarea_topic.style.writingMode,n=t&&"vertical-rl"===t||"vertical-lr"===t;return e.topicData.customWidth?!n:!!this.mindMap.mindData.topicAlign&&!(e.free||e.isRoot||e.summary)&&!n}},{key:"showEditTopicBox",value:function(e){var t=this;if(e){var n=e.getData("title");n=n.replace(/\n/g,"<br>");var i=e.style.getBackgroundColor();"transparent"===i&&(i=this.renderer.getBackgroundColor()),(!i||"transparent"===i||i.indexOf("url")>-1)&&(i="#ffffff"),this.textArea.className="area_box",this.textarea_topic.innerHTML=n;var o=e._textData.nodeContent.node.firstChild.getAttribute("style");this.textArea.style=o;var a=e._textData.nodeContent.node.firstChild.firstChild.getAttribute("style");this.textarea_topic.style=a,this.textarea_topic.style["-webkit-user-select"]="text",this.textarea_topic.style.cursor="text",this.textarea_topic.style.background=i,this.textArea.style.position="fixed",this.textArea.style.padding=this.padding+"px",this.textArea.style.marginRight=-this.padding+"px",this.textArea.style.zIndex=9,this.textArea.style.opacity=1;var s=parseInt(e.getStyle("font-size"));(0,r.titleMarkerElementProcess)(this.textarea_topic,s),this.judgeIsFixedWidth(e)&&(this.textArea.style.maxWidth=e._textData.nodeContent.node.getAttribute("width")+"px");var l=this.mindMap.view.getTransformData().state.scale,c=this.getTopicBaseStyle(this._topic),d=c.width,u=c.height;d/=l,u/=l,this.textarea_topic.style.minWidth=d+"px",this.textarea_topic.style.minHeight=u+"px",this.textarea_topic.focus();var p,h=this.textarea_topic.style.writingMode;(h&&"vertical-rl"===h||"vertical-lr"===h)&&(this.textArea.style.height="auto",this.textarea_topic.style.height="auto"),setTimeout(function(){var e=new Event("input",{bubbles:!0});t.textarea_topic.dispatchEvent(e)},10),this.updateTextareaPos(e),this.showTextEdit=!0,e.textMinWidth=this.textarea_topic.clientWidth,e.textMinHeight=this.textarea_topic.clientHeight,e.group&&this.nodeDraw.node.appendChild(null===(p=e.group)||void 0===p?void 0:p.node)}}},{key:"updateSelectionColor",value:function(e){var t="\n            .area_box div::selection {\n                color: ".concat(e,";\n            }\n\n            .area_box div::-webkit-selection {\n                color: ").concat(e,";\n            }\n\n            .area_box div::-moz-selection {\n                color: ").concat(e,";\n            }\n        "),n=document.querySelector("#mindmap-textEdit-selection-color");n&&document.head.removeChild(n);var i=document.createElement("style");i.setAttribute("id","mindmap-textEdit-selection-color"),i.type="text/css",i.innerHTML=t,document.head.appendChild(i)}},{key:"getTopicBaseStyle",value:function(e){var t=e._textData.node.findOne(".po-richtext-node-wrap").node,n=t.getBoundingClientRect(),i=this.mindMap.view.scale;return(0,r.isSafari)()&&t.querySelectorAll(".equation-text").length>0&&1!==i&&(n.height=n.height/i,n.width=n.width/i),n}},{key:"updateTextareaPos",value:function(e){if(e){var t=this.getTopicBaseStyle(e),n=t.x,i=t.y;if(this.textArea){0===n&&0===i?this.textArea.style.opacity=0:this.showTextEdit&&(this.textArea.style.opacity=1);var o=this.mindMap.view.getTransformData().state.scale;this.textArea.style.top=i-this.padding*o+"px",this.textArea.style.left=n-this.padding*o+"px",this.textArea.style.transform="scale(".concat(o,")"),this.textArea.style.transformOrigin="left top"}}}},{key:"placeholder",value:function(e){if(this.textarea_topic,this.textarea_topic)if("add"===e){var t=document.createElement("span");t.className="text-placeholder",t.style.pointerEvents="none",t.innerHTML="​",t.contentEditable="false",this.textarea_topic.innerHTML="",this.textarea_topic.appendChild(t)}else if("remove"===e){var n=this.textarea_topic.querySelectorAll(".text-placeholder");n.length>0&&n.forEach(function(e){return e.remove()})}}},{key:"getCursorClient",value:function(){var e=(0,r.getCaretPositionInWindow)(this.textarea_topic),t=this.mindMap.toPos(e.x,e.y),n=t.x,i=t.y;if(0!==n||0!==i){var o=this.mindMap.width,a=this.mindMap.height,s=0,l=0;(0,r.isIos)()&&(a=window.innerHeight-this.keyboardHeight);var c=(0,r.isMobile)()?85:50,d=(0,r.isMobile)()?50:30;if(n<20?s=n-20:n>o-20?s=n-(o-20):i<d?l=i-d:i>a-c&&(l=i-(a-c)),0!=s||0!=l){var u=this.mindMap.draw.transform(),p=-s*u.scaleX,h=-l*u.scaleY;this.mindMap.view.translateX(p),this.mindMap.view.translateY(h)}}}},{key:"updateTextareaStyle",value:function(e,t){var n=this.util.getTopicDom(e),i=n.children(".topic-selected").clone();n.css("visibility","hidden"),t.css({"z-index":9,opacity:1}),t.append(i)}},{key:"focusVirtualDom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.updateTextareaPos(e),t?(0,c.isEditTextElement)({target:document.activeElement},!0)||this.textarea_topic.focus():($(".eq-editor").hide(),$(".equation-text.cur").removeClass("cur"),this.textarea_topic.focus()),1===this.mindMap.renderer.selectedTopicList.length&&this.renderer.moveTopicToClientView(e),this.checkInputValChangeEditBoxIsShow()}},{key:"checkInputValChangeEditBoxIsShow",value:function(){var e=this;$(this.textarea_topic).off("input.showTextEdit").on("input.showTextEdit",C(k().mark(function t(){var n,i;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.mindMap.renderer.selectedTopicList[0],e.isShowTextEdit()||!n){t.next=7;break}return i=e.textarea_topic.innerHTML.replace("比心(*￣3￣)╭♡",""),t.next=5,e.show(n);case 5:setTimeout(function(){var t=n.getData().title;(t==s.default.t("js.Central_Theme")||t.indexOf(s.default.t("js.Unnamed_file"))>-1||t==s.default.t("js.Subtopics")||t==s.default.t("js.Parent_theme")||t==s.default.t("js.Subtopic")||t==s.default.t("js.Freedom_Theme")||t==s.default.t("js.Summary"))&&(t=""),t+=i,e.textarea_topic.innerHTML=t,(0,r.setCursorPositionInDiv)(e.textarea_topic,"end");var o=new Event("input",{bubbles:!0});e.textarea_topic.dispatchEvent(o)},10),$(e.textarea_topic).off("input.showTextEdit");case 7:case"end":return t.stop()}},t)})))}},{key:"show",value:function(){var e=C(k().mark(function e(t){var n,i,o,s=this,c=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(c.length>1&&void 0!==c[1])||c[1],this.originXssOpen=editorGlobal.jsXss.open,this.originXssOpen&&u.javaScriptXssFix.close(),!this.mindMap.selectbox.isSelecting){e.next=3;break}return e.abrupt("return");case 3:this._topic=t,this.isEq=!1,this.showEditTopicBox(t),this.mindMap.emit("renderEquation",this.textarea_topic),i=this.textarea_topic.innerHTML,this.mindMap.emit("renderTopicRichTexts",this.textarea_topic,t.getData()),(0,r.isIos)()?setTimeout(function(){s.selectAllTitleText(i)},20):this.selectAllTitleText(i),this.originTitle=t.getData("title"),o=$(this.textarea_topic),this.addEventListenerOnce(this.textarea_topic,"keydown",function(e){e.stopPropagation(),s.mindMap.emit("AIPartnerSingleWriteHotkey",{e:e,id:t.id});var n=s.textarea_topic.innerHTML;if(!injectExtraAsynCall("openMention")||!s.mindMap.emit("mentionKeydownEvents",e,t.id)){var i=!1;if(e.shiftKey&&(i=(0,r.isFullySelected)(s.textarea_topic)),!e.altKey&&!e.shiftKey||"<br>"===n.substring(n.length-4,n.length)||i||o.append("<br>"),(e.altKey||e.shiftKey)&&13==e.keyCode){if(e.preventDefault(),i)return void s.textarea_topic.blur();(0,r.setBrNode)();var c=new Event("input",{bubbles:!0});s.textarea_topic.dispatchEvent(c)}else if(e.altKey||e.shiftKey||13!=e.keyCode)if(27==e.keyCode)s.textarea_topic.blur();else if(9==e.keyCode)s.textarea_topic.blur(),e.preventDefault();else if(!e.ctrlKey&&!e.metaKey||187!=e.keyCode&&107!=e.keyCode)if(!e.ctrlKey&&!e.metaKey||189!=e.keyCode&&109!=e.keyCode)if((e.ctrlKey||e.metaKey)&&83==e.keyCode)e.preventDefault();else if(37==e.keyCode||39==e.keyCode){var d=function(t){for(var n=t.childNodes,i=0;i<n.length;i++)3==n[i].nodeType&&""==n[i].nodeValue&&t.removeChild(n[i]);for(var r=0;r<n.length;r++)if("equation-temp"==n[r].className){39==e.keyCode?r==n.length-1?u(t):"equation-text"==n[r+1].className?a.insert.equation.equationInit(o,$(n[r+1])):1==n[r+1].nodeType&&p(n[r+1]):0==r?u(t):"equation-text"==n[r-1].className?a.insert.equation.equationInit(o,$(n[r-1])):1==n[r-1].nodeType&&p(n[r-1]),$(".equation-temp").remove();break}},u=function t(n){var i=n.parentNode;1==i.childNodes.length?t(i):"topic-box selected"!=i.className&&(39==e.keyCode?n.after(m):n.before(m),d(i))},p=function t(n){1==n.childNodes.length&&"equation-text"!=n.childNodes[0].className?t(n.childNodes[0]):1==n.nodeType&&(39==e.keyCode?n.insertBefore(m,n.childNodes[0]):n.appendChild(m),d(n))};if(o.find(".equation-text").length>0){var h=window.getSelection().getRangeAt(0),m=document.createElement("span");m.className="equation-temp",h.insertNode(m),h.collapse(!1);var f=h.startContainer;d(1==f.nodeType?f:f.parentNode)}}else(e.ctrlKey||e.metaKey)&&69==e.keyCode?(e.preventDefault(),o.find(".equation-text").attr("contenteditable",!1)):(e.ctrlKey||e.metaKey)&&e.shiftKey&&90==e.keyCode?injectExtraAsynCall("openMention")&&(l.mention.redo=!0):(e.ctrlKey||e.metaKey)&&90==e.keyCode&&injectExtraAsynCall("openMention")&&(l.mention.len=o.find(".mention").length,l.mention.undo=!0);else e.preventDefault();else e.preventDefault();else if((0,r.isMobile)()){e.preventDefault(),"<br>"!==n.substring(n.length-4,n.length)&&o.append("<br>"),(0,r.setBrNode)();var g=new Event("input",{bubbles:!0});s.textarea_topic.dispatchEvent(g)}else s.textarea_topic.blur()}}),this.addEventListenerOnce(this.textarea_topic,"keyup",function(e){e.stopPropagation(),injectExtraAsynCall("openMention")&&s.mindMap.emit("getMentionPos"),"Meta"!==e.key&&"Control"!==e.key&&"a"!==e.key||document.getSelection().isCollapsed||s.popEditor.isShow()||s.popEditor.init($(s.textarea_topic)),s.mindMap.event.isSpacePressed=!1}),this.addEventListenerOnce(this.textarea_topic,"input",function(e){s._topic.isRoot&&s.mindMap.emit("editTopicText",s.textarea_topic.innerHTML),s._topic.topicData.title=s.textarea_topic.innerHTML;var n=parseInt(t.getStyle("font-size"));(0,r.titleMarkerElementProcess)(s.textarea_topic,n),s._topic.reRender();var i=s._topic.getShape();[d.CONSTANTS.SHAPE.ELLIPSE,d.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,d.CONSTANTS.SHAPE.RHOMBUS,d.CONSTANTS.SHAPE.CIRCLE].includes(i)&&s.updateTextareaPos(s._topic),s.mindMap.emit("show_node_add_btn"),s._topic.hideExpandBtn(),s.getCursorClient(),e.stopPropagation(),s.popEditor.isShow()&&document.getSelection().isCollapsed&&s.popEditor.hide(),injectExtraAsynCall("openMention")&&s.mindMap.emit("searchMention")}),this.addEventListenerOnce(this.textArea,"click",function(e){e.stopPropagation(),injectExtraAsynCall("openMention")&&s.mindMap.emit("closeMention")}),this.isInitShow=!0,setTimeout(function(){s.isInitShow=!1},25),this.mousedownEvent=null,this.addEventListenerOnce(this.textArea,"mousedown",function(e){s.mindMap.emit("hide_topic_contextmenu"),s.mousedownEvent=e,$(e.target).parents(".equation-text").length>0&&(s.isEq=!0),e.stopPropagation(),(0,r.isMobile)()&&s.isInitShow&&e.preventDefault()}),this.addEventListenerOnce(this.textArea,"mousemove",function(e){if($(".eq-editor").is(":visible"))return!1;e.stopPropagation()}),!n||document.getSelection().isCollapsed||this.popEditor.isShow()||this.popEditor.init($(this.textarea_topic)),this.mindMap.on("mouseup",this.handleBodyMouseup),this.addEventListenerOnce(this.textArea,"contextmenu",function(e){e.preventDefault()}),this.addEventListenerOnce(this.textArea,"mouseup",function(e){2===e.button&&s.showEditTopicBox?(e.stopPropagation(),s.popEditor.isShow()&&s.popEditor.hide(),s.mindMap.emit("show_topic_edit_contextmenu",e,s._topic)):s.handleMouseup(e),s.mindMap.emit("AIPartnerEditClick",{topic:s._topic})}),this.addEventListenerOnce(this.textarea_topic,"blur",function(){s.mindMap.emit("hide_topic_contextmenu"),s.mindMap.off("mouseup",s.handleBodyMouseup),$(".eq-editor").is(":visible")||s.isEq||injectExtraAsynCall("openMention")&&l.mention.showMentionBox||s.editEnd()});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"selectAllTitleText",value:function(e){if(e==s.default.t("js.Central_Theme")||-1!=e.indexOf(s.default.t("js.Unnamed_file"))||e==s.default.t("js.Subtopics")||e==s.default.t("js.Parent_theme")||e==s.default.t("js.Subtopic")||e==s.default.t("js.Freedom_Theme")||e==s.default.t("js.Summary")||["<b>Name<b><br>Role</b></b>","<b>Name</b><br>Role"].includes(e))document.execCommand("selectAll",!1,null);else try{var t=window.getSelection(),n=document.createRange(),i=this.textarea_topic.lastChild;n.setStart(i,i.length||0),n.collapse(!0),t.removeAllRanges(),t.addRange(n)}catch(e){}}},{key:"addEventListenerOnce",value:function(e,t,n){if(this.eventRegistry.has(e)){if(this.eventRegistry.get(e).has(t))return}else this.eventRegistry.set(e,new Map);this.eventRegistry.get(e).set(t,n),e.addEventListener(t,n)}},{key:"editEnd",value:function(){if(this.textarea_topic&&this._topic&&this.textArea){this.placeholder("remove");var e,t=this.textarea_topic.innerHTML;if(t=(0,r.removeTitleMarkerStyle)(t),$(this.textarea_topic).find(".equation-text").length>0){$("body").append('<div id="html_temp" style="display:none"></div>');var n=$("#html_temp");n.html(t);var i=[];$(this.textarea_topic).find(".equation-text").each(function(e){var t=$(this).width();i.push(t);var o=n.find(".equation-text:eq("+e+")").removeAttr("style");o.attr("data-index",e).children(":first").html("").removeAttr("style"),o.attr("data-equation",o.attr("data-equation").replace(/\n/g,""))}),t=n.html(),n.remove()}t=(t=l.mention.saveMentionHtml(void 0,t)).replace(/\n/g,"<br>"),this._topic.textMinWidth=20,this._topic.textMinHeight=10,this._topic.topicData.title=this.originTitle,t!==this._topic.getData("title")?this.mindMap.execCommand("UPDATE_TOPIC_TEXT",this._topic,t):null===(e=this._topic)||void 0===e||e.reRender(),this.hideEditTextBox(),this.popEditor.destroy(),this.originXssOpen&&u.javaScriptXssFix.open()}}},{key:"getEditText",value:function(){return(0,r.getStrWithBrFromHtml)(this.textEditNode.innerHTML)}},{key:"clearFocusVirtualTimeout",value:function(){this.focusVirtualTimeout&&clearTimeout(this.focusVirtualTimeout),this.focusVirtualTimeout=null}},{key:"hideEditTextBox",value:function(){var t=this;if((0,r.isMobile)()&&(this.mindMap.emit("showOutlineMenu"),this.mindMap.emit("show_page-model-con")),this._topic.textMinWidth=20,this._topic.textMinHeight=10,this.showTextEdit)try{var n=this.textarea_topic.cloneNode();this.textArea.replaceChild(n,this.textarea_topic),this.textarea_topic=n,this.textArea.style.zIndex=-1,this.textArea.style.opacity=0,this.textarea_topic.innerHTML="比心(*￣3￣)╭♡",(0,r.isMobile)()||(this.focusVirtualTimeout=setTimeout(function(){t.focusVirtualDom(t._topic,!0)},100)),this.showTextEdit=!1,this._topic=null}catch(e){}}}]),t}()},78782:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(27531),n(61894),n(24932),n(33152),n(65528),n(38887),n(47958),n(69268),n(58500),n(86837),n(84889),n(19268),n(14237);var o=n(60097),a=i(n(19697)),s=n(59081),l=i(n(11395)),c=i(n(71544)),d=i(n(50748)),u=i(n(51668)),p=i(n(10800)),h=i(n(42417)),m=n(56683),f=n(80214),g=n(15240),v=i(n(43470));t.default=function(){function e(){var t=this;T(this,e);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.topicData=this.handleData(n.data||{}),this.id=n.id,this.mindMap=n.mindMap,this.renderer=n.renderer,this.draw=this.mindMap.draw,this.nodeDraw=this.mindMap.nodeDraw,this.lineDraw=this.mindMap.lineDraw,this.style=new o.Style(this),this.shapeInstance=new a.default(this),this.shapePadding={paddingX:0,paddingY:0},this.isRoot=void 0!==n.isRoot&&n.isRoot,this.layout=n.layout,this.layerIndex=void 0===n.layerIndex?0:n.layerIndex,this.free=n.data.free||!1,this.summary=n.data.summary,this.layoutIndex=0,this.width=n.width||0,this.height=n.height||0,this._left=n.left||0,this._top=n.top||0,this.isDrag=!1,this.parent=n.parent||null,this.parentIds=[],this.children=n.children||[],this.summaries=[],this.boundaries=[],this.freeChildren=n.freeChildren||[],this.isRenderLayout=!0,this.userList=[],this.showTopicView=!1,this.group=null,this.shapeNode=null,this.shapeNodeFill=null,this.shapeFishTailNodeFill=null,this.shapeFishTailNode=null,this.hoverNode=null,this.fullWidth=0,this.topicLeftHalfWidth=0,this.fullHeight=0,this.topicTopHalfHeight=0,this.rightTopicChildrenLeftStart=0,this.rightTopicChildrenTopStart=0,this.leftTopicChildrenLeftStart=0,this.leftTopicChildrenTopStart=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0,this.isDisabledSelected=!1,this.fishBoneStartx=0,this.fishBoneEndx=0,this.fishBoneDistanceFromHeader=0,this.summaryTopSpace=0,this.summaryBottomSpace=0,this.chunkFullHeight=0,this.chunkFullWidth=0,this.boundarytTopSpace=0,this.boundaryBottomSpace=0,this.boundaryLeftSpace=0,this.boundaryRightSpace=0,this._customNodeContent=null,this._codeData=null,this._imgData=null,this._numberData=null,this._iconData=null,this._textData=null,this._linkData=null,this._fileData=null,this._taskData=null,this._tagData=null,this._noteData=null,this.noteEl=null,this.textMinWidth=20,this.textMinHeight=10,this.noteContentIsShow=!1,this._expandBtn=null,this._lastExpandBtnType=null,this._showExpandBtn=!1,this._openExpandNode=null,this._closeExpandNode=null,this._fillExpandNode=null,this._userListGroup=null,this._linesGroup=[],this._fishBoneLineGroup=null,this._summaryLinesGroup=null,this._boundaryLinesGroup=[],this._generalizationList=[],this._unVisibleRectRegionNode=null,this._isMouseenter=!1,this._rectInfo={imgContentWidth:0,imgContentHeight:0,textContentWidth:0,textContentHeight:0,boundContentWidth:0,boundContentHeight:0,taskWidth:0,tagWidth:0},this._generalizationNodeWidth=0,this._generalizationNodeHeight=0,this.textContentItemMargin=this.mindMap.opt.textContentMargin,this.blockContentMargin=this.mindMap.opt.imgTextMargin,this.extraContentMargin=2,this.expandBtnSize=this.mindMap.opt.expandBtnSize,this.collapsedBtnSize=this.mindMap.opt.collapsedBtnSize,this.isMultipleChoice=!1,this.needLayout=!1,this.needReset=!0,this.isHide=!1,this.siblingTopicAlignWidthObj={},Object.keys(l.default).forEach(function(e){t[e]=l.default[e].bind(t)}),Object.keys(c.default).forEach(function(e){t[e]=c.default[e].bind(t)}),Object.keys(d.default).forEach(function(e){t[e]=d.default[e].bind(t)}),Object.keys(h.default).forEach(function(e){t[e]=h.default[e].bind(t)}),Object.keys(u.default).forEach(function(e){t[e]=u.default[e].bind(t)}),Object.keys(p.default).forEach(function(e){t[e]=p.default[e].bind(t)}),this.getSize(),this.bindEvent()}return M(e,[{key:"focus",get:function(){var e;return this.id===(null===(e=this.renderer.currentRoot)||void 0===e?void 0:e.id)}},{key:"left",get:function(){return this.customLeft||this._left},set:function(e){this._left=e}},{key:"top",get:function(){return this.customTop||this._top},set:function(e){this._top=e}},{key:"focusCode",value:function(){this._codeData&&$(this._codeData.node.node).find(".code-area").trigger("click")}},{key:"reset",value:function(){this.freeChildren=[],this.summaries=[],this.boundaries=[],this.children=[],this.parentIds=[],this.parent=null,this.isRoot=!1,this.layerIndex=0,this.layoutIndex=0,this.left=0,this.top=0,this.fullHeight=0,this.fullWidth=0,this.topicLeftHalfWidth=0,this.topicTopHalfHeight=0,this.rightTopicChildrenLeftStart=0,this.rightTopicChildrenTopStart=0,this.leftTopicChildrenLeftStart=0,this.leftTopicChildrenTopStart=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0,this.fishBoneStartx=0,this.fishBoneEndx=0,this.fishBoneDistanceFromHeader=0,this.part=null,this.dir=null,this.free=!1,this._lastExpandBtnType=null}},{key:"resetWhenDelete",value:function(){this._isMouseenter=!1}},{key:"handleData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.collapsed=!0===e.collapsed,e.isSelected=!0===e.isSelected,e.children=e.children||[],e.free=e.free||!1,e}},{key:"createtopicData",value:function(){var e=this.mindMap.opt,t=e.isUseCustomNodeContent,n=e.customCreateNodeContent;t&&n&&(this._customNodeContent=n(this)),this._customNodeContent?this._customNodeContent.setAttribute("xmlns","http://www.w3.org/1999/xhtml"):(this._codeData=null,this._imgData=this.createImgNode(),this._numberData=this.createNumberNode(),this._iconData=this.createIconNode(),this._textData=this.createRichTextNode(),this._noteData=this.createNoteNode(),this._linkData=this.createLinkNode(),this._fileData=this.createFileNode(),this._taskData=this.createTaskNode(),this._tagData=this.createTagNode(),this._commentData=this.createCommentNode())}},{key:"getSize",value:function(e){this.createtopicData();var t=this.getNodeRect(e),n=t.width,i=t.height,o=this.width!==n||this.height!==i||this.needLayout;return this.width=n,this.height=i,o}},{key:"getMinRectSize",value:function(){var e,t,n=this._textData.width,i=this.getFlexDirection(),o=this.getInnerRect(void 0,!0).innerWidth;if(i)return o;var a=this._rectInfo,r=a.textContentWidth,s=a.imgContentWidth,l=a.tagWidth,c=a.taskWidth,d=Math.max(r,s,l,c),u="left"===(null===(e=this._imgData)||void 0===e?void 0:e.direction)||"right"===(null===(t=this._imgData)||void 0===t?void 0:t.direction)?2:1;if(d=2===u?Math.max(r,l,c):Math.max(r,s,l,c),this._rectInfo.textContentWidth===d){var p=this.getStyle("font-size"),h=Math.max(p+1+.1*p,this._textData.minWidth);return o=2===u?s+Math.max(h,l,c):Math.max(r-(n-h),s,l,c)}return o}},{key:"getMinNodeWidth",value:function(){var e=this.getPaddingVale(),t=e.paddingX,n=e.paddingY,i=this.getMinRectSize(),o=this.getBorderWidth(),a=this.shapeInstance.getShapePadding(i,0,o,t,n).paddingX;return this.minNodeWidth=Math.max(1*(i+this._rectInfo.marginw+o),12)+2*(t+a),this.minNodeWidth}},{key:"getV6CustomWidth",value:function(e){var t=this.createRichTextNode(e);return this.getContentRect(t).width}},{key:"getNodeWidth",value:function(e){var t=e||this.getContentRect().width,n=this.topicData.customWidth;return this.topicData.customWidth&&this.topicData.customWidthV5&&(n=this.topicData.customWidth=this.getV6CustomWidth(n,t),delete this.topicData.customWidthV5),n&&this.checkSupportCustomWidth()?Math.max(this.getMinNodeWidth(),n):t}},{key:"checkSupportCustomWidth",value:function(){var e=this.getShape();return!f.disabledShape.includes(e)}},{key:"checkSupportAddSUmmaryAndBoundary",value:function(){return!this.summary&&(!this.free&&(!this.focus&&(![f.CONSTANTS.LAYOUT.FISHBONE,f.CONSTANTS.LAYOUT.TIMELINE].includes(this.layout)||1!==this.layoutIndex)))}},{key:"getInnerRect",value:function(e){var t,n,i=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e||this._textData;if(this.isUseCustomNodeContent()){var r=this.measureCustomNodeContentSize(this._customNodeContent);return{width:r.width,height:r.height}}var s=0,l=0,c=0,d=0,u=0,p=0,h=this.getFlexDirection();if(this.direction=h,this._codeData?(this._rectInfo.imgContentWidth=s=o?this.mindMap.code.minWidth:this._codeData.width,this._rectInfo.imgContentHeight=l=this._codeData.height):this.getData("code")&&(this._rectInfo.imgContentWidth=s=this.mindMap.code.minWidth),this._imgData&&(this._rectInfo.imgContentWidth=s=this._imgData.width,this._rectInfo.imgContentHeight=l=this._imgData.height),this._numberData&&(c+=this._numberData.width+this.textContentItemMargin,d=Math.max(d,this._numberData.height)),(null===(t=this._iconData)||void 0===t?void 0:t.length)>0)if(h){var m=0;d+=this._iconData.reduce(function(e,t){return m=Math.max(m,t.width),e+(t.height+i.textContentItemMargin)},0),c+=m}else c+=this._iconData.reduce(function(e,t){return d=Math.max(d,t.height),e+(t.width+i.textContentItemMargin)},0);if(a&&(c+=a.width,d=Math.max(d,a.height)),this._linkData&&(c+=this._linkData.width,d=Math.max(d,this._linkData.height)),this._fileData&&(c+=this._fileData.width,d=Math.max(d,this._fileData.height)),this._noteData&&(c+=this._noteData.width,d=Math.max(d,this._noteData.height)),this._commentData&&(c+=this._commentData.width,d=Math.max(d,this._commentData.height)),c+=this.getMarginWidth(),p+=d,u=Math.max(c,u),this._taskData&&(h?(d=Math.max(d,this._taskData.height),u+=this._taskData.width+(u>0?this.extraContentMargin:0),p=Math.max(this._taskData.height,p)):(c=Math.max(c,this._taskData.width),p+=this._taskData.height+(p>0?this.extraContentMargin:0),u=Math.max(this._taskData.width,u)),this._rectInfo.taskWidth=this._taskData.width),(null===(n=this._tagData)||void 0===n?void 0:n.length)>0){var f=0,g=0;h?(g+=this._tagData.reduce(function(e,t){return f=Math.max(f,t.width),e+(t.height+i.textContentItemMargin)},0),u+=f+(u>0?this.extraContentMargin:0),p=Math.max(g,p)):(f+=this._tagData.reduce(function(e,t){return g=Math.max(g,t.height),e+(t.width+i.textContentItemMargin)},0),p+=g+(p>0?this.extraContentMargin:0),u=Math.max(f,u)),this._rectInfo.tagWidth=f}this._rectInfo.textContentWidth=c,this._rectInfo.textContentHeight=d,this._rectInfo.boundContentWidth=u,this._rectInfo.boundContentHeight=p;var v,b,y=0,x=0,w=null;(l>0||s>0)&&(w="left"===(null===(v=this._imgData)||void 0===v?void 0:v.direction)||"right"===(null===(b=this._imgData)||void 0===b?void 0:b.direction)?2:1,h&&(w=2),2===w?c>0&&(x+=this.blockContentMargin):d>0&&(y+=this.blockContentMargin));var k=Math.max(s,u),_=l+p;return 2===w&&(k=s+u,_=Math.max(l,p)),{innerWidth:k,innerHeight:_,marginw:x,marginh:y}}},{key:"getContentRect",value:function(e){var t=this.getInnerRect(e),n=t.innerWidth,i=t.innerHeight,o=t.marginw,a=t.marginh;this._rectInfo.marginw=o;var r=this._rectInfo.innerWidth=n,s=this._rectInfo.innerHeight=i,l=this.getPaddingVale(),c=l.paddingX,d=l.paddingY,u=this.getBorderWidth(),p=this.shapeInstance.getShapePadding(r,s,u,c,d),h=p.paddingX,m=p.paddingY;return this.shapePadding.paddingX=h,this.shapePadding.paddingY=m,{width:r=Math.max(1*(r+o+u),12)+2*(c+h),height:s=Math.max(1*(s+a+u),12)+2*(d+m),innerWidth:n,innerHeight:i}}},{key:"getMarginWidth",value:function(){return([this._textData,this._linkData,this._fileData,this._commentData,this._noteData].filter(function(e){return e}).length-1)*this.textContentItemMargin}},{key:"getNoTextWidth",value:function(){var e,t,n=this,i=(this._iconData||[]).reduce(function(e,t){return e+(t.width+n.textContentItemMargin)},0),o=0;this._numberData&&(o=this._numberData.width+this.textContentItemMargin);var a=0;this._linkData&&(a=this._linkData.width);var r=0;this._commentData&&(r=this._commentData.width);var s=0;this._noteData&&(s=this._noteData.width);var l=0;this._fileData&&(l=this._fileData.width);var c=0;return 2==("left"===(null===(e=this._imgData)||void 0===e?void 0:e.direction)||"right"===(null===(t=this._imgData)||void 0===t?void 0:t.direction)?2:1)&&(c=this._imgData.width),i+o+a+r+s+l+this.getMarginWidth()+c}},{key:"getFlexDirection",value:function(){var e=this.getStyle("flex-direction");return"initial"!==e&&e}},{key:"getNodeRect",value:function(e){var t,n=this,i=!1;this.sameCustomeWidth&&!this.mindMap.mindData.topicAlign?(delete this.sameCustomeWidth,this._textData=this.createRichTextNode(),t=this.getNodeWidth(),this.realWidth=t,this.minNodeWidth=this.getMinNodeWidth(),i=!0):this.sameCustomeWidth&&this.mindMap.mindData.topicAlign&&(i=!0,e?t=this.sameCustomeWidth:(this._textData=this.createRichTextNode(),this.realWidth=this.getNodeWidth(),this.minNodeWidth=this.getMinNodeWidth(),t=Math.max(this.sameCustomeWidth,this.minNodeWidth))),this.getData("customWidth")&&(i=!0);var o=this.getContentRect(),a=o.width,r=o.height,s=o.innerWidth,l=o.innerHeight,c=function(e){n._textData=n.createRichTextNode(e);var t=n.getContentRect();a=t.width,r=t.height,s=t.innerWidth,l=t.innerHeight};t||(this.minNodeWidth=this.getMinNodeWidth(),this.realWidth=t=this.getNodeWidth());var d=this.getFlexDirection();if(t.toFixed(1)<a.toFixed(1)){if(!d){var u=a-t;c(this._textData.width-u)}}else t.toFixed(1)>a.toFixed(1)&&!d&&c(s+(t-a)-this.getNoTextWidth());if(d?this._textData.height.toFixed(1)!==l.toFixed(1)&&(this._textData=this.createRichTextNode("",l,!1)):this._textData.width.toFixed(1)!==(s-this.getNoTextWidth()).toFixed(1)&&(this._textData=this.createRichTextNode(s-this.getNoTextWidth(),"",!1)),this.mindMap.code&&this.getData("code")){var p,h=this.getPaddingVale().paddingX,m=d?this.mindMap.code.defaultWidth:t?t-2*h:this.mindMap.code.defaultWidth;if(m>=this.mindMap.code.minWidth)if(i)p=m;else if(m<this.mindMap.code.defaultWidth){if(p=this.mindMap.code.defaultWidth,!d){var f=m-this.mindMap.code.defaultWidth,g=this._textData.width-f;this._textData=this.createRichTextNode(g,void 0,!0,!0)}}else p=m;else p=this.mindMap.code.minWidth;this._codeData=this.createCodeNode(p);var v=this.getContentRect();a=v.width,r=v.height}return{width:a,height:r}}},{key:"isBorderShape",value:function(){return this.getShape()===f.CONSTANTS.SHAPE.UNDERLINE}},{key:"verticalPointPosition",value:function(){var e=this.parent?this.parent.layout:this.layout;return this.renderer.getTopicLayout(e).verticalPointPosition(this)}},{key:"horizontalPointPosition",value:function(){return this.renderer.getTopicLayout(this.layout).horizontalPointPosition(this)}},{key:"isUnderLine",value:function(){var e=this.getShape();return e===f.CONSTANTS.SHAPE.UNDERLINE||e===f.CONSTANTS.SHAPE.DBLUNDERLINE}},{key:"renderlayout",value:function(){if(this.group){this.group.clear();var e=this.width,t=this.height,n=this.getPaddingVale(),i=n.paddingX,o=n.paddingY,a=this.getBorderWidth()/2;if(o+=this.shapeInstance.getShapeStarty()+a,i+=this.shapeInstance.getShapeStartx()+a,this.shapeNodeFill=this.shapeInstance.createShape(!0),this.shapeNodeFill.addClass("po-mind-topic-shape-fill"),this.group.add(this.shapeNodeFill),this.shapeNode=this.shapeInstance.createShape(),this.shapeNode.addClass("po-mind-topic-shape"),this.isUnderLine()||(this.shapeNodeFill.translate(a,a),this.shapeNode.translate(a,a)),this.group.add(this.shapeNode),this.renderExpandBtnPlaceholderRect(),this.getData("summary")?this.group.attr("id","summary-".concat(this.id)):this.group.attr("id","topic-".concat(this.id)),this.isUseCustomNodeContent()){var r=new s.ForeignObject;return r.width(e),r.height(t),r.add(this._customNodeContent),void this.group.add(r)}var l=0,c=0,d="";!this.topicData.guide||!0!==this.mindMap.opt.readonly||this.topicData.children&&0!==this.topicData.children.length||editorGlobal.isFlowRender&&!(editorGlobal.leafNodes&&editorGlobal.leafNodes.indexOf(this.id)>-1)||this.renderGuideDom(),this._codeData&&((d=new s.G).add(this._codeData.node),l=this._codeData.height,c=this._codeData.width),this._imgData&&((d=new s.G).add(this._imgData.rectNode),d.add(this._imgData.node),l=this._imgData.height,c=this._imgData.width);var u=new s.G,p=0;this._numberData&&(this.direction?(this._numberData.node.y(0).x(0),p+=this._numberData.width+this.textContentItemMargin):(this._numberData.node.x(0).y((this._rectInfo.textContentHeight-this._numberData.height)/2),p+=this._numberData.width+this.textContentItemMargin),u.add(this._numberData.node));var h=this;"row-reverse"==this.direction?(_(),k(),w(),x(),b(),y(),v(),g()):(g(),v(),b(),y(),x(),w(),k(),_());var m,f="";d&&(f=null===(m=this._imgData)||void 0===m?void 0:m.direction,"row"==this.direction?f="left":"row-reverse"==this.direction&&(f="right")),d&&(!d||"up"!==f&&f)?"left"===f?(d&&d.transform({translate:[i,o]}),u&&this._rectInfo.textContentWidth>0&&u.transform({translate:[i+c+this.blockContentMargin,o]})):"down"===f?(d&&d.transform({translate:[i,this._rectInfo.boundContentHeight>0?o+this._rectInfo.boundContentHeight+this.blockContentMargin:o]}),u&&u.transform({translate:[i,o]})):"right"===f&&(d&&d.transform({translate:[this._rectInfo.boundContentWidth>0?i+this._rectInfo.boundContentWidth+this.blockContentMargin:i,o]}),u&&u.transform({translate:[i,o]})):(d&&d.transform({translate:[i,o]}),u&&this._rectInfo.textContentHeight>0&&u.transform({translate:[i,l>0?o+l+this.blockContentMargin:o]})),d&&this.group.add(d),u&&this.group.add(u)}function g(){var e=new s.G;if(h._iconData&&h._iconData.length>0){var t=0,n=0;h._iconData.forEach(function(i){h.direction?(i.node.x(p).y(n),n+=i.height+h.textContentItemMargin,t=i.width+h.textContentItemMargin):(i.node.x(p+t).y((h._rectInfo.textContentHeight-i.height)/2),t+=i.width+h.textContentItemMargin),e.add(i.node)}),u.add(e),p+=t}}function v(){h._textData&&(h._textData.node.attr("data-offsetx",p),h._textData.node.transform({translate:[p,0]}),u.add(h._textData.node),p+=h._textData.width+h.textContentItemMargin)}function b(){h._noteData&&(h._noteData.node.x(p).y((h._rectInfo.textContentHeight-h._noteData.height)/2),h.direction&&h._noteData.node.y(0),u.add(h._noteData.node),p+=h._noteData.width)}function y(){h._commentData&&(h._commentData.node.x(p).y((h._rectInfo.textContentHeight-h._commentData.height)/2),h.direction&&h._commentData.node.y(0),u.add(h._commentData.node),p+=h._commentData.width)}function x(){h._linkData&&(h._linkData.node.x(p).y((h._rectInfo.textContentHeight-h._linkData.height)/2),h.direction&&h._linkData.node.y(0),u.add(h._linkData.node),p+=h._linkData.width+h.textContentItemMargin)}function w(){h._fileData&&(h._fileData.node.x(p).y((h._rectInfo.textContentHeight-h._fileData.height)/2),h.direction&&h._fileData.node.y(0),u.add(h._fileData.node),p+=h._fileData.width+h.textContentItemMargin)}function k(){h._taskData&&(h.direction?(h._taskData.node.x(p).y(0),p+=h._taskData.width+h.textContentItemMargin):h._taskData.node.x(0).y(h._rectInfo.textContentHeight+h.extraContentMargin),u.add(h._taskData.node))}function _(){var e=null;if(h._tagData&&h._tagData.length>0){(e=new s.G).attr("id","".concat(h.id,"_tag"));var t=0,n=0;if(h.direction)h._tagData.forEach(function(t){t.transform,t.node.x(p).y(n),n+=t.height+h.textContentItemMargin,e.add(t.node)}),p+=20+h.textContentItemMargin;else{var i=h.getInnerRect().innerWidth,o=h.getStyle("text-align");"center"===o?t=(i-h._rectInfo.tagWidth)/2:"right"===o&&(t=i-h._rectInfo.tagWidth),t<0&&(t=0),h._tagData.forEach(function(n){n.transform,n.node.x(t).y(h._rectInfo.boundContentHeight-n.height),t+=n.width+h.textContentItemMargin,e.add(n.node)})}u.add(e)}}}},{key:"bindEvent",value:function(){var e=this;this.svgMousemove=function(){e.touchStartTimer&&Math.abs(e.mindMap.event.mousemoveOffset.x)>3&&Math.abs(e.mindMap.event.mousemoveOffset.y)>3&&(clearTimeout(e.touchStartTimer),e.touchStartTimer=null)},this.emitSelectedChange=(0,m.debounce)(function(){e.mindMap.emit("selected_change",e)},100,this),this.mindMap.on("mousemove",this.svgMousemove)}},{key:"unBindEvent",value:function(){this.mindMap.off("mousemove",this.svgMousemove)}},{key:"bindGroupEvent",value:function(){var e=this;this.group.on("click",function(t){e.mindMap.emit("topic_click",e,t),e.touchStartTimer&&(clearTimeout(e.touchStartTimer),e.touchStartTimer=null),e.mindMap.opt.readonlyList.selectShape&&(e.isMultipleChoice?e.isMultipleChoice=!1:(e.renderer.clearSelectedTopicList(),e.selected(t),e.mindMap.emit("edit_topic_init",e),e.setOpacity(1),e.mind_guide&&editorGlobal.isGuide&&e.mindMap.opt.readonly&&e.mind_guide()))}),this.group.on("mousedown",function(t){var n=e.mindMap.opt,i=n.readonly,o=n.enableCtrlKeyNodeSelection,a=(0,g.mousedownButton)(t);if(!i){if("touch"===t.eventType)return e.mindMap.event.isDrag=!0,t.stopPropagation(),e.mindMap.event.mousedownPos.x=t.clientX,e.mindMap.event.mousedownPos.y=t.clientY,e.mindMap.emit("before_drag"),void(e.touchStartTimer=setTimeout(function(){t.stopPropagation(),t.preventDefault(),e.mindMap.event.isLeftMousedown=null,e.mindMap.event.isDrag=!1,e.mindMap.emit("topic_mousedown",e,t),e.mindMap.emit("topic_image_unselected"),e.touchStartTimer=null},399));"right"===a||"middle"===a||"left"===a&&(e.isRoot||e.focus)?(e.mindMap.selectbox.mouseSelectedTopic=!0,e.mindMap.event.onMousedown(t),e.mindMap.event.isDrag=!0,t.stopPropagation()):(e.mindMap.event.isDrag=!1,t.stopPropagation())}if((t.ctrlKey||t.metaKey)&&o&&"left"===a){e.isMultipleChoice=!0;var r=e.getData("isSelected");r||e.mindMap.emit("before_topic_selected",e,e.renderer.selectedNodeList),e.renderer[r?"removeNodeFromSelectedList":"addTopicToSelectedList"](e),e.renderer.emitTopicSelectEvent(r?null:e)}e.mindMap.emit("topic_mousedown",e,t)}),this.group.on("mouseup",function(t){e.mindMap.emit("topic_mouseup",t,e),e.touchStartTimer&&(clearTimeout(e.touchStartTimer),e.touchStartTimer=null),"right"===(0,g.mousedownButton)(t)&&((e.renderer.selectedTopicList.length<=1||!(e.renderer.selectedTopicList.length>1&&e.renderer.findSelectedTopicIndex(e)>-1))&&(e.renderer.clearSelectedTopicList(),e.selected(t),t.stopPropagation()),Math.abs(e.mindMap.event.mousemoveOffset.x)<=3&&Math.abs(e.mindMap.event.mousemoveOffset.y)<=3&&(e.mindMap.emit("topic_contextmenu",t,e),t.stopPropagation()))}),this.group.on("mouseenter",function(t){e.isDrag||e.mindMap.isResizeMode||(0,g.isMobile)()||(0!==e.children.length||(0,g.isPointInPath)({x:t.clientX,y:t.clientY},e.group.find(".po-mind-topic-shape")[0].node,editorGlobal.mindMap.svg.node))&&(e._isMouseenter=!0,e.renderer.mouseenterToTopic=!0,e.mindMap.opt.alwaysShowExpandBtn||e.showExpandBtn(),e.hoverOrSelectedTopic(),e.mindMap.emit("node_mouseenter",t,e))}),this.group.on("mouseleave",function(t){e._isMouseenter&&(e._isMouseenter=!1,e.renderer.mouseenterToTopic=!1,e.mindMap.opt.alwaysShowExpandBtn||e.hideExpandBtn(),e.clearSelected(),e.mindMap.emit("node_mouseleave",t,e))}),this.group.on("dblclick",function(t){e.mindMap.opt.readonly?e.mindMap.emit("ai_loading_shake"):t.ctrlKey||((0,m.isIos)()&&e.selected(),t.stopPropagation(),e.mindMap.emit("to_edit_status",t,e))}),this.group.on("contextmenu",function(e){e.stopPropagation(),e.preventDefault()})}},{key:"hoverOrSelectedTopic",value:function(){if(!this.isDisabledSelected){var e=this.mindMap.opt.hoverRectPadding,t=this.getShape().indexOf("Double")>-1,n=this.getBorderWidth()/(t?1:2);if(this.hoverNode||(this.hoverNode=(new s.Rect).size(this.width+2*(e+n),this.height+2*(e+n)).x(-(e+n)).y(-(e+n)).opacity(.3).attr("class","topic-selected-border"),this.style.hoverNode(this.hoverNode,this.width,this.height),this.group.add(this.hoverNode)),this.getData("isSelected")){if(this.hoverNode.opacity(1),this.mindMap.opt.readonly)return;if(!this.getFlexDirection()&&!this.resizeDraw&&this.checkSupportCustomWidth()){if((0,g.isMobile)())return;this.resizeDraw=new s.G;var i=(new s.Rect).size(4,this.height).x(-e-1).y(0).attr("resize",1),o=(new s.Rect).size(4,this.height).x(this.width+e-1).y(0).attr("resize",2);this.style.resizeNode(i,o),this.resizeDraw.add(i).add(o),this.group.add(this.resizeDraw),this.resizeNodeBindEvent()}}}}},{key:"resizeSelectedBoxWidth",value:function(e,t){var n=this.mindMap.opt.hoverRectPadding,i=this.getBorderWidth()/2;this.hoverNode.x(e),this.hoverNode.width(t+2*(n+i))}},{key:"resizeNodeBindEvent",value:function(){var e=this,t=this.getMinNodeWidth(),n=this.mindMap.opt.topicMaxWidth;new v.default({minWidth:t,maxWidth:n,selectedDom:this.hoverNode,currentWidth:this.width,moveFn:function(t,n){e.resizeSelectedBoxWidth(t,n)},resizeDom:this.resizeDraw,upFn:function(t){e.mindMap.execCommand("UPDATE_TOPIC_WIDTH",e,t),e.selected()}})}},{key:"clearSelected",value:function(){this.getData("isSelected")||(this.hoverNode&&(this.hoverNode.remove(),this.hoverNode=null),this.resizeDraw&&(this.resizeDraw.remove(),this.resizeDraw=null))}},{key:"selected",value:function(){this.mindMap.opt.readonlyList.selectShape&&(this.getData("isSelected")||(this.mindMap.emit("before_topic_selected",this,this.renderer.selectedNodeList),this.renderer.clearSelectedTopicList(),this.renderer.addTopicToSelectedList(this),this.renderer.emitTopicSelectEvent(this)))}},{key:"update",value:function(e){this.group&&(this.hoverNode&&(this.hoverNode.remove(),this.hoverNode=null),this.resizeDraw&&(this.resizeDraw.remove(),this.resizeDraw=null),this.updateNodeSelectedClass(),this.getData().collapsed||this._isMouseenter||this.children.length>0&&this.mindMap.opt.alwaysShowExpandBtn?this.showExpandBtn():this.hideExpandBtn(),this.updateStyles(),this.updatePosition(e),this.emitSelectedChange())}},{key:"updateStyles",value:function(){var e,t,n=this;this.shapeNodeFill&&this.style.shapeFill(this.shapeNodeFill),this.shapeNode&&this.style.shape(this.shapeNode),this._textData&&this.style.titleNode(this._textData.nodeContent.node),this._taskData&&this.style.taskNode(this._taskData.node),this._numberData&&this.style.numberNode(this._numberData.node),null!==(e=this._imgData)&&void 0!==e&&e.rectNode&&(null===(t=this._imgData)||void 0===t||t.rectNode.fill({color:this.style.getBackgroundColor()})),this._iconData&&this._iconData.forEach(function(e){e.hasColor||n.style.iconNode(e.node)})}},{key:"updatePosition",value:function(e){if(this.group){var t=this.group.transform(),n=this.left-t.translateX,i=this.top-t.translateY;if(Math.abs(n)>0||Math.abs(i)>0){if(!this.mindMap.opt.partialLoad)return void this.group.translate(n,i);var o=this.renderer.getSelectedIds();(e||o.includes(this.id))&&this.group.translate(n,i)}}}},{key:"reRender",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).source,t=this.getSize(e);return this.renderlayout(),this.update(),t}},{key:"updateNodeSelectedClass",value:function(){this.group&&this[this.getData("isSelected")?"hoverOrSelectedTopic":"clearSelected"]()}},{key:"updateNodeBySelected",value:function(){this.group&&this.updateNodeSelectedClass()}},{key:"isHideSelf",value:function(){var e=this.getData("hideSelf");if(this.isRoot){var t=this.getData(),n=t.structure,i=t.layout;e||(e=[n,i].includes("mind_org_multistage")),e&&this.mindMap.getLayoutByStructure(i||n)===f.CONSTANTS.LAYOUT.FISHBONE&&(e=!1)}return e}},{key:"renderOrUpdateLayout",value:function(e){var t=this;if(0==this.renderer.filterTopicIds.length||this.renderer.filterTopicIds.includes(this.id)){if(this.isHideSelf())return this.destroy(!0),this.renderLine(!1),void(this.showTopicView=!1);e||this.renderLine(!1);var n=function(){t._codeData&&t._codeData.resize(),t._textData&&t._textData.resize(),t.group?(t.needLayout&&(t.needLayout=!1,t.renderlayout()),t.updateExpandBtnPlaceholderRect()):(t.group=new s.G,t.group.addClass("po-mind-topic"),t.bindGroupEvent(),t.renderlayout()),t.update(e),t.nodeDraw.add(t.group),t.wpsKatexUpdate()};if(this.mindMap.opt.partialLoad)if(this.isRenderLayout){if(e&&!0===this.showTopicView)return;this.showTopicView=!0,n()}else{if(e&&!1===this.showTopicView)return;this.group&&this.group.remove(),this.showTopicView=!1}else{if(e)return;n()}}else this.showTopicView=!1}},{key:"wpsKatexUpdate",value:function(){var e=this;if("wpsclient"===editorGlobal.deviceType&&!["row-reverse","row"].includes(this.direction)&&this._textData.sameLineKatexTotalWidth>0){var t=0;this._textData.node.node.querySelectorAll(".equation-text.need-resize-width").forEach(function(n){t+=n.getBoundingClientRect().width/e.mindMap.view.scale});var n=t-this._textData.sameLineKatexTotalWidth;n>0&&this._textData.node.findOne("foreignObject").width(this._textData.width+n+1)}}},{key:"render",value:function(){if(this.mindMap.opt.partialLoad){var e=(0,g.checkTopicOuter)(this.mindMap,{left:this.left,top:this.top,width:this.width,height:this.height},this.mindMap.opt.createTopicsRectBoundary).isOuter;this.isRenderLayout=!0,e&&(this.isRenderLayout=!1)}this.renderOrUpdateLayout()}},{key:"remove",value:function(e){this.group&&(this.group.remove(),this.removeLine(),e||(this.removeSummariesLine(),this.removeBoundaries()),this.renderer.removeCacheTopic(this.id),this.children&&this.children.length&&this.children.forEach(function(e){e.remove()}))}},{key:"destroy",value:function(e){this.group&&(this.group.off(),this.group.remove(),this.group=null),this._fishBoneLineGroup&&(this._fishBoneLineGroup.remove(),this._fishBoneLineGroup=null),this.shapeFishTailNode&&(this.shapeFishTailNode.remove(),this.shapeFishTailNode=null),this.shapeFishTailNodeFill&&(this.shapeFishTailNodeFill.remove(),this.shapeFishTailNodeFill=null),this.resetWhenDelete(),this.removeLine(),e||(this.removeSummariesLine(),this.removeBoundaries()),this.parent,this.getData("isSelected")&&(delete this.topicData.isSelected,this.renderer.removeNodeFromSelectedList(this),this.renderer.emitTopicSelectEvent(this)),this.style.onRemove(),this.unBindEvent()}},{key:"hide",value:function(){if(this.group.hide(),this.parent){var e=this.parent.children.indexOf(this);this.parent._linesGroup[e]&&this.parent._linesGroup[e].hide(),this._linesGroup.forEach(function(e){e.hide()})}this.children&&this.children.length&&this.children.forEach(function(e){e.hide()})}},{key:"show",value:function(){if(this.group){if(this.group.show(),this.parent){var e=this.parent.children.indexOf(this);this.parent._linesGroup[e]&&this.parent._linesGroup[e].show(),this._linesGroup.forEach(function(e){e.show()})}this.children&&this.children.length&&this.children.forEach(function(e){e.show()})}}},{key:"setOpacity",value:function(e){var t;null===(t=this.group)||void 0===t||t.opacity(e),this._linesGroup.forEach(function(t){null==t||t.opacity(e)}),this.children.forEach(function(t){t.setOpacity(e)})}},{key:"hideChildren",value:function(){this._linesGroup.forEach(function(e){e.hide()}),this.children&&this.children.length&&this.children.forEach(function(e){e.hide()})}},{key:"showChildren",value:function(){this._linesGroup.forEach(function(e){e.show()}),this.children&&this.children.length&&this.children.forEach(function(e){e.show()})}},{key:"sumTopic",value:function(){return function e(t){var n=t.children||[];return n.reduce(function(t,n){return t+e(n)},n.length)}(this.topicData)}},{key:"getTopicChildren",value:function(e){var t=function e(t){return(t.children||[]).reduce(function(t,n){return t.concat(n,e(n))},[])}(this);return e?[this].concat(t):t}},{key:"startDrag",value:function(){this.isDrag=!0,this.group.addClass("smm-node-dragging")}},{key:"endDrag",value:function(){this.isDrag=!1,this.group.removeClass("smm-node-dragging")}},{key:"renderLine",value:function(e){var t=this;if((0==this.renderer.filterTopicIds.length||this.renderer.filterTopicIds.includes(this.id))&&!(this.isHideSelf()&&this.isRoot&&this.layout!==f.CONSTANTS.LAYOUT.TIMELINE||(this.getData("summary")&&this.mindMap.emit("drawSummaryLine",this),this._fishBoneLineGroup&&this._fishBoneLineGroup.remove(),this.shapeFishTailNode&&this.shapeFishTailNode.remove(),this.shapeFishTailNodeFill&&this.shapeFishTailNodeFill.remove(),this.getData("collapsed")))){var n=this.children.length;n>this._linesGroup.length?new Array(n-this._linesGroup.length).fill(0).forEach(function(){t._linesGroup.push(new s.G)}):n<this._linesGroup.length&&(this._linesGroup.slice(n).forEach(function(e){e.remove()}),this._linesGroup=this._linesGroup.slice(0,n)),this.layout===f.CONSTANTS.LAYOUT.FISHBONE&&0===this.layoutIndex&&this.children.length>0&&(this._fishBoneLineGroup=this.lineDraw.group(),this._fishBoneLineGroup.attr("from",this.id),this._fishBoneLineGroup.attr("to",this.id)),this.renderer.getTopicLayout(this.layout).renderLine(this,this._linesGroup,e),this._linesGroup.forEach(function(e,n){e.attr("from",t.id),e.attr("to",t.children[n].id)})}}},{key:"getShape",value:function(){var e;if(this.getStyle("shape"))return this.getStyle("shape");if(this.summary&&null!==(e=this.parent)&&void 0!==e&&e.getStyle("underLine"))return f.CONSTANTS.SHAPE.UNDERLINE;var t=this.getStyle("border-radius"),n=this.getStyle("border-style");return null!==t?"50%"===t?"double"===n?f.CONSTANTS.SHAPE.ELLIPSE_DOUBLE:f.CONSTANTS.SHAPE.ELLIPSE:t>20?"double"===n?f.CONSTANTS.SHAPE.LARGE_RADIAN_RECTANGLEDOUBLE:f.CONSTANTS.SHAPE.LARGE_RADIAN_RECTANGLE:5===t||6===t?"double"===n?f.CONSTANTS.SHAPE.RADIAN_RECTANGLEDOUBLE:f.CONSTANTS.SHAPE.RADIAN_RECTANGLE:"double"===n?f.CONSTANTS.SHAPE.RECTANGLEDOUBLE:f.CONSTANTS.SHAPE.RECTANGLE:"double"===n?f.CONSTANTS.SHAPE.RECTANGLEDOUBLE:f.CONSTANTS.SHAPE.RECTANGLE}},{key:"hasCustomPosition",value:function(){return void 0!==this.customLeft&&void 0!==this.customTop}},{key:"getRootForSummaryNode",value:function(){for(var e=this.parent;e;){if(e.summary)return e;e=e.parent}return!1}},{key:"getRootForFreeNode",value:function(){for(var e=this.parent;e;){if(e.free)return e;e=e.parent}return!1}},{key:"addChildren",value:function(e){this.children.push(e)}},{key:"addSummary",value:function(e){this.summaries.push(e)}},{key:"addBoundary",value:function(e){this.boundaries.push(e)}},{key:"addFreeTopic",value:function(e){this.freeChildren.push(e)}},{key:"styleLine",value:function(e,t){var n,i,o,a=this.style.getLineWidth(),r=this.style.getLineColor(),s=this.getSelfInhertStyle("lineDasharray")||(null===(n=this.parent)||void 0===n?void 0:n.getStyle("lineDasharray")),l=(null===(i=this.parent)||void 0===i?void 0:i.getSelfInhertStyle("linecap"))||(null===(o=this.parent)||void 0===o?void 0:o.getStyle("linecap"))||"butt";this.style.line(e,{width:a,color:r,dasharray:s,linecap:l},t,this)}},{key:"getCurvature",value:function(){return this.getSelfInhertStyle("curvature")||this.getStyle("curvature")}},{key:"removeSummariesLine",value:function(){this._summaryLinesGroup&&(this._summaryLinesGroup.remove(),this._summaryLinesGroup=null)}},{key:"removeBoundaries",value:function(){this.boundaries.forEach(function(e){e.destroy()})}},{key:"removeLine",value:function(){this._linesGroup.forEach(function(e){e.remove()}),this._boundaryLinesGroup.forEach(function(e){e.remove()}),this._linesGroup=[]}},{key:"isAncestor",value:function(e){if(this.id===e.id)return!1;for(var t=e.parent;t;){if(this.id===t.id)return!0;t=t.parent}return!1}},{key:"isParent",value:function(e){if(this.id===e.id)return!1;var t=e.parent;return!(!t||this.id!==t.id)}},{key:"isBrother",value:function(e){return!(!this.parent||this.id===e.id)&&this.parent.children.find(function(t){return t.id===e.id})}},{key:"getNextTopic",value:function(){return this.isRoot?null:this.parent.children[this.getIndexInBrothers()+1]}},{key:"getIndexInBrothers",value:function(){var e=this;return this.parent&&this.parent.children?this.parent.children.findIndex(function(t){return t.id===e.id}):-1}},{key:"getLeftChildren",value:function(){return this.children.filter(function(e){return"left"===e.part})}},{key:"getRightChildren",value:function(){return this.children.filter(function(e){return"right"===e.part})}},{key:"getSubTopic",value:function(){var e=this.parent||this.renderer.getCacheTopic(this.topicData.parent);if(!e||e.isRoot){if(e&&this.summary){var t=r((0,g.getRange)(this.getData("range")),1)[0],n=e.children[t];return n?n.getSubTopic():e.topicData.children[t]}return this.topicData}return e.getSubTopic()}},{key:"getPaddingVale",value:function(){var e,t=this.getStyle("padding");if(t){var n,i,o=$.trim(t).split(" "),a=o.length;return 4===a&&(n=Math.floor((parseInt(o[1])+parseInt(o[3]))/2),i=Math.floor((parseInt(o[0])+parseInt(o[2]))/2)),{paddingY:i||parseInt(o[0]),paddingX:n||(1===a?parseInt(o[0]):parseInt(o[1]))}}var r,s=this.mindMap.opt.layoutMode;null!==(e=this.renderer.mindTree)&&void 0!==e&&null!==(e=e.margin)&&void 0!==e&&e.layoutMode&&(s=null===(r=this.renderer.mindTree)||void 0===r||null===(r=r.margin)||void 0===r?void 0:r.layoutMode);var l=this.getShape(),c=f.SHAPEPADDING[l]||f.SHAPEPADDING[f.CONSTANTS.SHAPE.RECTANGLE],d=c.fit,u=c.compact;s||(s="fit");var p="fit"===s?d:u;return p[this.layerIndex]||p[2]}},{key:"getStyle",value:function(e){return this.style.getStyle(e)}},{key:"getSelfStyle",value:function(e){return this.style.getSelfStyle(e)}},{key:"getParentSelfStyle",value:function(e){return this.parent?this.parent.getSelfStyle(e)||this.parent.getParentSelfStyle(e):null}},{key:"getSelfInhertStyle",value:function(e){return this.getSelfStyle(e)||this.getParentSelfStyle(e)}},{key:"getOverallStyle",value:function(){return this.style.merge()}},{key:"getBorderWidth",value:function(){return parseInt(this.getStyle("border-width"))||0}},{key:"getData",value:function(e){return e?this.topicData[e]:this.topicData}},{key:"getPureData",value:function(){return(0,g.copyTopicData)(this)}},{key:"hasCustomStyle",value:function(){return this.style.hasCustomStyle()}},{key:"getRect",value:function(){return this.group.rbox()}},{key:"getRectInSvg",value:function(){var e=this.mindMap.draw.transform(),t=e.scaleX,n=e.scaleY,i=e.translateX,o=e.translateY,a=this.left,r=this.top,s=this.width,l=this.height,c=(a+s)*t+i,d=(r+l)*n+o;return{left:a=a*t+i,right:c,top:r=r*n+o,bottom:d,width:s*t,height:l*n}}},{key:"getCollapsedSize",value:function(){return this.getData("collapsed")&&this.getData("children").length>0&&this.expandBtnSize||0}},{key:"getTop",value:function(){return this.top-this.topicTopHalfHeight}},{key:"getBottom",value:function(){return this.getTop()+this.fullHeight}},{key:"getRight",value:function(){return this.left+this.fullWidth-this.topicLeftHalfWidth}},{key:"getLeft",value:function(){return this.left-this.topicLeftHalfWidth}},{key:"getBottomHalfHeight",value:function(e){return e=e||this.height,this.fullHeight-this.topicTopHalfHeight-e}},{key:"getRightHalfWidth",value:function(e){return e=e||this.width,this.fullWidth-this.topicLeftHalfWidth-e}}]),e}()},19697:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.shapeList=t.default=void 0,n(65528);var i=n(59081),o=n(80214);t.default=function(){function e(t){T(this,e),this.node=t,this.mindMap=t.mindMap,this.isFull=!1}return M(e,[{key:"getShapePadding",value:function(e,t,n,i,a){var r=this.node.getShape(),s=e+2*i,l=t+2*a,c=Math.abs(s-l);switch(r){case o.CONSTANTS.SHAPE.ROUNDED_RECTANGLE:return{paddingX:t/2,paddingY:0};case o.CONSTANTS.SHAPE.LARGE_RADIAN_RECTANGLE:return{paddingX:10,paddingY:5};case o.CONSTANTS.SHAPE.OVERLAP:return{paddingX:3*n/2,paddingY:3*n/2};case o.CONSTANTS.SHAPE.DBLUNDERLINE:return{paddingX:0,paddingY:3*n/2};case o.CONSTANTS.SHAPE.RHOMBUS:return{paddingX:e/2,paddingY:t/2};case o.CONSTANTS.SHAPE.PARALLELOGRAM:case o.CONSTANTS.SHAPE.OUTER_TRIANGULAR_RECTANGLE:case o.CONSTANTS.SHAPE.INNER_TRIANGULAR_RECTANGLE:return{paddingX:i<=0?15:0,paddingY:0};case o.CONSTANTS.SHAPE.ELLIPSE:return{paddingX:t/2,paddingY:t/2};case o.CONSTANTS.SHAPE.CIRCLE:return{paddingX:l>s?c/2:0,paddingY:l<s?c/2:0};case o.CONSTANTS.SHAPE.FISH:return{paddingX:15+s/7/2,paddingY:s/2};default:return{paddingX:0,paddingY:0}}}},{key:"getShapeStartx",value:function(){switch(this.node.getShape()){case o.CONSTANTS.SHAPE.FISH:return"left"===this.node.part?15:2*this.node.shapePadding.paddingX-15;case o.CONSTANTS.SHAPE.OVERLAP:var e=4+this.node.getBorderWidth();return this.node.shapePadding.paddingX-e/2;default:return this.node.shapePadding.paddingX}}},{key:"getShapeStarty",value:function(){if(this.node.getShape()===o.CONSTANTS.SHAPE.OVERLAP){var e=4+this.node.getBorderWidth();return this.node.shapePadding.paddingY-e/2}return this.node.shapePadding.paddingY}},{key:"createShape",value:function(e){this.isFull=e;var t=this.node.getShape();e&&t===o.CONSTANTS.SHAPE.UNDERLINE&&(t=o.CONSTANTS.SHAPE.RECTANGLE);return t===o.CONSTANTS.SHAPE.RECTANGLE||t===o.CONSTANTS.SHAPE.RECTANGLEDOUBLE?this.createRect():t===o.CONSTANTS.SHAPE.RADIAN_RECTANGLE||t===o.CONSTANTS.SHAPE.RADIAN_RECTANGLEDOUBLE?this.createRadianRect(!1,t):t===o.CONSTANTS.SHAPE.LARGE_RADIAN_RECTANGLE||t===o.CONSTANTS.SHAPE.LARGE_RADIAN_RECTANGLEDOUBLE?this.createRadianRect(!0,t):t===o.CONSTANTS.SHAPE.UNDERLINE?e?this.createRect():this.createUnderLineShape():t===o.CONSTANTS.SHAPE.DBLUNDERLINE?e?this.createRect():this.createDblUnderLineShape():t===o.CONSTANTS.SHAPE.OVERLAP?e?this.createRect():this.createOverlapleShape():t===o.CONSTANTS.SHAPE.ELLIPSE||t===o.CONSTANTS.SHAPE.ELLIPSE_DOUBLE?this.createEllipse(t):t===o.CONSTANTS.SHAPE.RHOMBUS?this.createRhombus():t===o.CONSTANTS.SHAPE.PARALLELOGRAM?this.createParallelogram():t===o.CONSTANTS.SHAPE.ROUNDED_RECTANGLE?this.createRoundedRectangle():t===o.CONSTANTS.SHAPE.OCTAGONAL_RECTANGLE?this.createOctagonalRectangle():t===o.CONSTANTS.SHAPE.OUTER_TRIANGULAR_RECTANGLE?this.createOuterTriangularRectangle():t===o.CONSTANTS.SHAPE.INNER_TRIANGULAR_RECTANGLE?this.createInnerTriangularRectangle():t===o.CONSTANTS.SHAPE.CIRCLE?this.createCircle():t===o.CONSTANTS.SHAPE.FISH?this.createFishHeader():this.createRadianRect(!1,t)}},{key:"getNodeSize",value:function(){var e=this.node.getBorderWidth(),t=this.node,n=t.width,i=t.height;return this.node.isUnderLine()||(n-=e,i-=e),{width:n,height:i,borderWidth:e}}},{key:"createPath",value:function(e){var t=this.mindMap.opt,n=t.customCreateNodePath,o=t.customCreateBorderPath;return this.isFull&&n?(0,i.SVG)(n(e)):!this.isFull&&o?(0,i.SVG)(o(e)):(new i.Path).plot(e)}},{key:"createPolygon",value:function(e){var t=this.mindMap.opt,n=t.customCreateNodePolygon,o=t.customCreateBorderPolygon;return this.isFull&&n?(0,i.SVG)(n(e)):o?(0,i.SVG)(o(e)):(new i.Polygon).plot(e)}},{key:"createUnderLineShape",value:function(){var e=this.getNodeSize(),t=e.width,n=e.height,i="M0,".concat(n," L").concat(t," ").concat(n);return this.createPath(i)}},{key:"createDblUnderLineShape",value:function(){var e=this.getNodeSize(),t=e.width,n=e.height,i=n-(4+this.node.getBorderWidth()),o="M0,".concat(n,"  L").concat(t," ").concat(n," M0,").concat(i," L").concat(t," ").concat(i);return this.createPath(o)}},{key:"createOverlapleShape",value:function(){var e=this.getNodeSize(),t=e.width,n=e.height,i=this.node.getBorderWidth(),o=4+i;n-=i+o/2;var a="M0,0 L".concat(t-=i+o/2,",0 L").concat(t,",").concat(n," L0,").concat(n," L0,0 Z M").concat(o,",").concat(n," L").concat(o,",").concat(n+o," L").concat(t+o,",").concat(n+o," L").concat(t+o,",").concat(o," L").concat(t,",").concat(o);return this.createPath(a)}},{key:"createRect",value:function(){var e=this.getNodeSize(),t=e.width,n=e.height,i=this.node.getBorderWidth(),a=this.node.getShape();a===o.CONSTANTS.SHAPE.UNDERLINE||a===o.CONSTANTS.SHAPE.DBLUNDERLINE||a===o.CONSTANTS.SHAPE.OVERLAP&&(t-=i+2,n-=i+2);var r=!this.node.getStyle("shape")&&this.node.getStyle("border-radius")||0;r=Math.min(r,n/2);var s="M".concat(r,",0 L").concat(t-r,",0 C").concat(t-r,",0 ").concat(t,",0 ").concat(t,",").concat(r," \n                         L").concat(t,",").concat(n-r," C").concat(t,",").concat(n-r," ").concat(t,",").concat(n," ").concat(t-r,",").concat(n," \n                         L").concat(r,",").concat(n," C").concat(r,",").concat(n," 0,").concat(n," 0,").concat(n-r," L0,").concat(r," \n                         C0,").concat(r," 0,0 ").concat(r,",0 Z");if(a.indexOf("Double")>-1){var l=i/1.5;s+="M".concat((r+=l/3)-l,",").concat(0-l," L").concat(t-r+l,",").concat(0-l," C").concat(t-r+l,",").concat(0-l," ").concat(t+l,",\n            ").concat(0-l," ").concat(t+l,",").concat(r-l," L").concat(t+l,",").concat(n-r+l," C").concat(t+l,",").concat(n-r+l," ").concat(t+l,",\n            ").concat(n+l," ").concat(t-r+l,",").concat(n+l," L").concat(r-l,",").concat(n+l," C").concat(r-l,",").concat(n+l," ").concat(0-l,",").concat(n+l," ").concat(0-l,",\n            ").concat(n-r+l," L").concat(0-l,",").concat(r-l," C").concat(0-l,",").concat(r-l," ").concat(0-l,",").concat(0-l," ").concat(r-l,",").concat(0-l,"Z")}return this.createPath(s)}},{key:"createFishHeader",value:function(){var e=this.getNodeSize(),t=e.width,n=e.height,i=t/2,o=n/2,a=t/7,r="\n            M".concat(4,",").concat(o+4,"\n            C").concat(4,",").concat(o+4,", 0,").concat(o,", ").concat(4,",").concat(o-4,"\n            Q ").concat(t/3,",0, ").concat(t,",0\n            L ").concat(t,",").concat(n,"\n            Q ").concat(i/3,",").concat(n,", ").concat(8,",").concat(o+a,"\n            C").concat(8,",").concat(o+a,", ").concat(6,",").concat(o+a-4,", ").concat(8,",").concat(o+a-4,"\n            L ").concat(a,",").concat(o+a-4,"\n            Z\n        "),s=this.createPath(r);return"left"===this.node.part&&s.transform({scaleX:-1}),s}},{key:"createRoundedRectangle",value:function(){var e=this.getNodeSize(),t=e.width,n=e.height,i=n/2,o="\n            M".concat(i,",0 L").concat(t-i,",0 A").concat(i," ").concat(i," 0 0 1 ").concat(t-i," ").concat(n," L").concat(i,",").concat(n," A").concat(i," ").concat(i," 0 0 1 ").concat(i," 0 Z");return this.createPath(o)}},{key:"createRadianRect",value:function(e,t){var n=this.getNodeSize(),i=n.width,o=n.height,a=n.borderWidth,r=0;e?r=Math.min(30,parseInt(o/2)):(r=0===this.node.layerIndex?10:1===this.node.layerIndex?8:6,this.node.getData("summary")&&(r=6));var s="M".concat(r,",0 L").concat(i-r,",0 C").concat(i-r,",0 ").concat(i,",",0," ").concat(i,",").concat(r," L").concat(i,",").concat(o-r," C").concat(i,",").concat(o-r," ").concat(i,",").concat(o," ").concat(i-r,",").concat(o,"\n      L").concat(r,",").concat(o," C").concat(r,",").concat(o," ",0,",").concat(o," ",0,",").concat(o-r," L",0,",").concat(r," C",0,",").concat(r," ",0,",",0," ").concat(r,",",0,"Z");if(t.indexOf("Double")>-1){var l=a/1.5;s+="M".concat((r+=l/3)-l,",").concat(0-l," L").concat(i-r+l,",").concat(0-l," C").concat(i-r+l,",").concat(0-l," ").concat(i+l,",\n            ").concat(0-l," ").concat(i+l,",").concat(r-l," L").concat(i+l,",").concat(o-r+l," C").concat(i+l,",").concat(o-r+l," ").concat(i+l,",\n            ").concat(o+l," ").concat(i-r+l,",").concat(o+l," L").concat(r-l,",").concat(o+l," C").concat(r-l,",").concat(o+l," ").concat(0-l,",").concat(o+l," ").concat(0-l,",\n            ").concat(o-r+l," L").concat(0-l,",").concat(r-l," C").concat(0-l,",").concat(r-l," ").concat(0-l,",").concat(0-l," ").concat(r-l,",").concat(0-l,"Z")}return this.createPath(s)}},{key:"createRhombus",value:function(){var e=this.getNodeSize(),t=e.width,n=e.height,i=t/2,o=n/2,a=[[i,0],[t,o],[i,n],[0,o]];return this.createPolygon(a)}},{key:"createParallelogram",value:function(){var e=this.node.getPaddingVale().paddingX;e=e||this.node.shapePadding.paddingX;var t=this.getNodeSize(),n=t.width,i=t.height,o=[[e,0],[n,0],[n-e,i],[0,i]];return this.createPolygon(o)}},{key:"createOctagonalRectangle",value:function(){var e=this.getNodeSize(),t=e.width,n=e.height,i=[[0,5],[5,0],[t-5,0],[t,5],[t,n-5],[t-5,n],[5,n],[0,n-5]];return this.createPolygon(i)}},{key:"createOuterTriangularRectangle",value:function(){var e=this.node.getPaddingVale().paddingX;e=e||this.node.shapePadding.paddingX;var t=this.getNodeSize(),n=t.width,i=t.height,o=[[e,0],[n-e,0],[n,i/2],[n-e,i],[e,i],[0,i/2]];return this.createPolygon(o)}},{key:"createInnerTriangularRectangle",value:function(){var e=this.node.getPaddingVale().paddingX;e=e||this.node.shapePadding.paddingX;var t=this.getNodeSize(),n=t.width,i=t.height,o=[[0,0],[n,0],[n-e/2,i/2],[n,i],[0,i],[e/2,i/2]];return this.createPolygon(o)}},{key:"createEllipse",value:function(e){var t=this.getNodeSize(),n=t.width,i=t.height,o=t.borderWidth,a=n/2,r=i/2,s="M".concat(a,",0 A").concat(a,",").concat(r," 0 0,1 ").concat(a,",").concat(i," M").concat(a,",").concat(i," A").concat(a,",").concat(r," 0 0,1 ").concat(a,",",0);if(e.indexOf("Double")>-1){var l=o/1.5;s+="M".concat(a-l,",").concat(-l," A").concat(a-l,",").concat(r," 0 0,1 ").concat(a-l,",").concat(i+l," M").concat(a-l,",").concat(i+l," A").concat(a,",").concat(r+l," 0 0,1 ").concat(a-l,",").concat(-l)}return this.createPath(s)}},{key:"createCircle",value:function(){var e=this.getNodeSize(),t=e.width,n=e.height,i=t/2,o=n/2,a="M".concat(i,",0 A").concat(i,",").concat(o," 0 0,1 ").concat(i,",").concat(n," M").concat(i,",").concat(n," A").concat(i,",").concat(o," 0 0,1 ").concat(i,",",0);return this.createPath(a)}}]),e}(),t.shapeList=[o.CONSTANTS.SHAPE.RECTANGLE,o.CONSTANTS.SHAPE.RHOMBUS,o.CONSTANTS.SHAPE.PARALLELOGRAM,o.CONSTANTS.SHAPE.ROUNDED_RECTANGLE,o.CONSTANTS.SHAPE.OCTAGONAL_RECTANGLE,o.CONSTANTS.SHAPE.OUTER_TRIANGULAR_RECTANGLE,o.CONSTANTS.SHAPE.INNER_TRIANGULAR_RECTANGLE,o.CONSTANTS.SHAPE.ELLIPSE,o.CONSTANTS.SHAPE.CIRCLE]},60097:function(e,t,n){n(61894),n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.Style=void 0,n(65528),n(82403),n(12638),n(13253),n(6284),n(14237);var o=i(n(66603)),a=n(15240),r=i(n(20990)),s=n(81560);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=["backgroundColor","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize"],u=function(){function e(t){T(this,e),this.ctx=t,this._markerPath=null,this._marker=null,this._gradient=null}return M(e,[{key:"merge",value:function(e){var t=this.ctx.mindMap.themeConfig,n=(0,r.default)({},t);"mind_org"===this.ctx.renderer.mindTree.structure&&this.ctx.renderer.mindTree.hideSelf&&(t.common?t.common["text-align"]="center":t.common={"text-align":"center"}),n=0===this.ctx.layerIndex?(0,r.default)(t.common,t.centerTopic):1===this.ctx.layerIndex?(0,r.default)(t.common,t.secTopic):(0,r.default)(t.common,t.childTopic),this.ctx.getData("summary")&&t.summaryTopic&&(n=(0,r.default)(n,t.summaryTopic||{}));var i=n.lineStyle||{},o=(0,r.default)(n,i);o.family&&(o["font-family"]=o.family,delete o.family);var a={};a.lineStyle||(a.lineStyle={});var s=this.getSelfStyle();if((a=c(c({style:a},o),s)).lineStype=c(c({},o.lineStyle||{}),s.lineStyle||{}),a=this.setBackgroundColor(a),e){var l=a[e];return"lineType"===e&&"curve_complex"===l?"roundBroken":l}return a}},{key:"setBackgroundColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),n=t.indexOf("background"),i=t.indexOf("backgroundColor"),o=t.indexOf("background-color"),a=e[t[Math.max(n,i,o)]]||"transparent";return a&&(e.background=a),e}},{key:"getStyle",value:function(e){var t=this.merge(e);return void 0===t?null:/px/g.test(t)&&1===t.match(/px/g).length?parseInt(t):t}},{key:"getSelfStyle",value:function(e){var t,n=this.ctx.getData("style"),i=this.ctx.getData("lineStyle"),o=c(c(c({},n),i),{lineStyle:i}),a=o.border;if(!o["border-width"]&&a&&(o["border-width"]=a.split(" ")[0]),!o["border-style"]&&a&&(o["border-style"]=a.split(" ")[1]),!o["border-color"]&&a){var r=a.indexOf("rgb");o["border-color"]=r>-1?a.substring(r):a.split(" ")[2]}return!o.randomLineColor||null!==(t=this.ctx)&&void 0!==t&&null!==(t=t.parent)&&void 0!==t&&t.isRoot||delete o.randomLineColor,e?"border-color"===e?this.isColor(o[e])?o[e]:"":o[e]:o}},{key:"rect",value:function(e){this.shape(e),e.radius(this.getStyle("borderRadius"))}},{key:"shape",value:function(e){var t=this.getSelfStyle("border-dasharray")||this.getStyle("border-dasharray")||this.getSelfStyle("border-style")||this.getStyle("border-style"),n=this.getActualBorderWidth(t),i=null;"dashed"===t?i="5,3":"dotted"===t&&(i="".concat(n,", 3"));var o=this.getActualBorderColor(t);e.fill("none"),this.ctx.summary&&!this.ctx.getStyle("shape")&&this.ctx.parent.getStyle("underLine")&&(n||(n=this.getLineWidth()),o||(o=this.getLineColor()),"curve"===this.ctx.parent.getStyle("lineType")&&0===this.ctx.children.length&&(n=0)),""!==this.getSelfStyle("border-style")&&(this.ctx.getShape().indexOf("Double")>-1&&(n/=3),e.stroke({color:o,width:n,dasharray:i}))}},{key:"isColor",value:function(e){return/^#([0-9A-F]{3}){1,2}$/i.test(e)||/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/.test(e)||/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(0|1|0?\.\d+)\)$/.test(e)||/^hsl\(\d{1,3},\s*\d{1,3}%,\s*\d{1,3}%\)$/.test(e)||/^hsla\(\d{1,3},\s*\d{1,3}%,\s*\d{1,3}%,\s*(0|1|0?\.\d+)\)$/.test(e)}},{key:"getLineColor",value:function(){var e,t,n,i;if(this.ctx.mindMap.themeConfig.autoColor&&!this.ctx.isRoot)return this.ctx.getSelfStyle("lineColor")||(null===(i=this.ctx.parent)||void 0===i?void 0:i.getSelfInhertStyle("lineColor"))||this.getAutoColor()||this.ctx.renderer.root.style.get3AColor();var o=this.ctx.mindMap.themeConfig.centerTopic;return this.ctx.getSelfStyle("lineColor")||(null===(e=this.ctx.parent)||void 0===e?void 0:e.getSelfInhertStyle("lineColor"))||(null===(t=this.ctx.parent)||void 0===t?void 0:t.getSelfInhertStyle("randomLineColor"))||(null===(n=this.ctx.parent)||void 0===n?void 0:n.getStyle("lineColor"))||o.lineStyle&&o.lineStyle.lineColor||o.background||o.backgroundColor||o["border-color"]||this.ctx.renderer.root.style.get3AColor()}},{key:"getLineWidth",value:function(){var e;return this.getSelfStyle("lineWidth")||(null===(e=this.ctx.parent)||void 0===e?void 0:e.getStyle("lineWidth"))}},{key:"get3AColor",value:function(){var e=this.getBackgroundColor();return e&&"transparent"!==e||(e=this.getBgColor()),(0,a.getColorBasedOnBackground)(e)}},{key:"getBorderAutoColor",value:function(){var e=this.ctx.getStyle("border-color");return"autoColor"===e&&this.getAutoColor()||e}},{key:"getActualBorderColor",value:function(e){var t,n,i=this.getSelfStyle("border-color")||this.getSelfStyle("lineColor")||(null===(t=this.ctx.parent)||void 0===t?void 0:t.getSelfInhertStyle("lineColor"))||this.getBorderAutoColor()||(null===(n=this.ctx.parent)||void 0===n?void 0:n.getStyle("lineColor"));return!i&&e&&(i=this.getTextColor()),i}},{key:"getActualBorderWidth",value:function(e){var t=this.getSelfStyle("border-width")||this.getStyle("border-width");return(0,a.isUndef)(t)&&(t=e?1:0),parseInt(t)}},{key:"getBackgroundColor",value:function(e){var t=this.getStyle("background");if(!e||"transparent"!==t&&t||(t=this.getStyle("anticipateBackground")||"transparent"),"autoColor"===t){var n=this.getAutoColor();if(!n)return t;if((1===this.ctx.layerIndex||this.ctx.summary)&&!this.getStyle("secBgOpacity"))return n;t=n}var i=this.ctx.renderer.getBackgroundColor();("transparent"===t&&-1===i.indexOf("url")&&this.ctx.isRoot||"autoColor"===t)&&(t=this.getBgColor());var o=1===this.ctx.layerIndex?this.getStyle("secBgOpacity"):this.ctx.layerIndex>1&&!this.ctx.summary?this.getStyle("childBgOpacity"):null,r=this.getSelfStyle("background")||this.getSelfStyle("background-color")||this.getSelfStyle("backgroundColor");if("transparent"!==t&&!r&&o){var s=(0,a.getRgbFromHex)(t),l={r:s.r,g:s.g,b:s.b,a:s.a||o},c=this.getBgColor(),d=(0,a.mixColors)(l,c),u=d.r,p=d.g,h=d.b;return(0,a.rgbToHex)(u,p,h)}return t}},{key:"getBgColor",value:function(){var e=this.ctx.renderer.getBackgroundColor();return(!e||e.indexOf("url")>-1||"transparent"===e)&&(e="#ffffff"),e}},{key:"getAutoColor",value:function(){var e,t=this.ctx.mindMap.themeConfig,n=t.autoColor,i=t.colorList;if(!n||!i)return null;var o=this.ctx.getSubTopic(),r=this.ctx.renderer.mindTree.children,s=this.ctx.renderer.mindTree.freeChildren,l=o.free?(0,a.getTopicIndexInTopicList)(o,h(s)):(0,a.getTopicIndexInTopicList)(o,h(r));return null!==(e=o.lineStyle)&&void 0!==e&&e.randomLineColor?o.lineStyle.randomLineColor:(l<0&&(l=0),i[l%i.length])}},{key:"shapeFill",value:function(e){var t,n=this;if(this.getStyle("gradientStyle")?(this._gradient||(this._gradient=this.ctx.nodeDraw.gradient("linear")),this._gradient.update(function(e){e.stop(0,n.getStyle("startColor")),e.stop(1,n.getStyle("endColor"))}),e.fill(this._gradient)):(t=this.getBackgroundColor(),e.fill({color:t})),this.getStyle("glassEffect")){if("transparent"===t||!t){var i=this.getBgColor();e.fill({color:i})}e.attr({filter:"url(#dropShadow)"})}}},{key:"getTextFontStyle",value:function(){return{italic:"italic"===this.getStyle("font-family"),bold:this.getStyle("font-weight"),fontSize:this.getStyle("font-style"),fontFamily:this.getStyle("font-family")}}},{key:"domText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;e.style.fontFamily=this.getStyle("font-family"),e.style.fontSize=this.getStyle("font-size")*t+"px",e.style.fontWeight=this.getStyle("font-weight")||"normal",e.style.lineHeight=n?this.getStyle("line-height"):"normal",e.style.fontStyle=this.getStyle("font-style")}},{key:"tagText",value:function(e,t){"String"===(0,a.getType)(t)&&(t=t.replace(/\+/g,"")),e.fill({color:t}).css({"font-size":"12px"})}},{key:"tagRect",value:function(e,t,n){"String"===(0,a.getType)(n)&&(n=n.replace(/\+/g,"")),e.fill({color:n||(0,a.generateColorByContent)(t.node.textContent)}).rx(3).ry(3)}},{key:"getTextColor",value:function(){var e=this.getSelfStyle("color")||this.getStyle("color")||this.get3AColor();if("autoColor"===e){if(this.ctx.summary)return this.get3AColor();var t=this.getAutoColor(),n=(0,a.getRgbFromHex)(t),i=n.r,o=n.g,r=n.b,s=(0,a.mixColors)({r:0,g:0,b:0,a:.3},"rgb(".concat(i," ").concat(o," ").concat(r,")")),l=s.r,c=s.g,d=s.b;e=(0,a.rgbToHex)(l,c,d)}return e}},{key:"numberNode",value:function(e){e.fill({color:this.getTextColor()})}},{key:"iconNode",value:function(e){e.fill({color:this.getTextColor()})}},{key:"titleNode",value:function(e){e.firstChild.style.color=this.getTextColor()}},{key:"taskNode",value:function(e){e.fill({color:this.getTextColor()})}},{key:"createStyleText",value:function(){var e="";return this.getStyle("font-family")&&(e+="font-family: ".concat(this.getStyle("font-family"),";"),(0,s.loadFont)(this.getStyle("font-family"),this.ctx)),this.getStyle("font-size")&&(e+="font-size: ".concat(this.getStyle("font-size"),"px;")),this.getStyle("font-weight")&&(e+="font-weight: ".concat(this.getStyle("font-weight"),";")),this.getStyle("text-decoration")&&(e+="text-decoration: ".concat(this.getStyle("text-decoration"),";")),this.getStyle("text-align")&&(e+="text-align: ".concat(this.getStyle("text-align"),";")),this.getStyle("font-style")&&(e+="font-style: ".concat(this.getStyle("font-style"),";")),this.getStyle("flex-direction")&&(e+="flex-direction: ".concat(this.getStyle("flex-direction"),";")),e+="line-height: 140%;"}},{key:"resizeNode",value:function(e,t){e.attr({fill:"transparent"}).css({cursor:"ew-resize"}),t.attr({fill:"transparent"}).css({cursor:"ew-resize"})}},{key:"line",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width,i=t.color,o=t.dasharray,a=t.linecap,r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if(e.stroke({color:i,dasharray:o,width:n,linecap:a}).fill({color:"none"}),r){var l=this.getStyle("showLineMarker",!0),c=s.style;if(l){c._marker=c._marker||c.createMarker(),c._markerPath.stroke({color:i}).fill({color:i}),e.attr("marker-start",""),e.attr("marker-end","");var d=c.getStyle("lineMarkerDir");e.marker(d,c._marker)}else c._marker&&(e.attr("marker-start",""),e.attr("marker-end",""),c._marker.remove(),c._marker=null)}}},{key:"createMarker",value:function(){var e=this;return this.ctx.lineDraw.marker(20,20,function(t){t.ref(8,5),t.size(20,20),t.attr("markerUnits","userSpaceOnUse"),t.attr("orient","auto-start-reverse"),e._markerPath=t.path("M0,0 L2,5 L0,10 L10,5 Z")})}},{key:"expandBtn",value:function(e,t){var n;e&&e.stroke({color:this.getLineColor()}).fill({color:this.getBgColor()}),t&&(t.fill({color:this.getLineColor()}).css({"font-size":"11px"}),null===(n=t.node.querySelector("path"))||void 0===n||n.setAttribute("fill",this.getLineColor()))}},{key:"hasCustomStyle",value:function(){var e=!1;return this.ctx.getData("style")&&(e=!0),e}},{key:"hoverNode",value:function(e){var t=this.ctx.mindMap.opt.selectedColor;editorGlobal.isGuide&&(t="#8350F2"),e.radius(5).fill("none").stroke({color:t,width:2})}},{key:"onRemove",value:function(){this._marker&&(this._marker.remove(),this._marker=null),this._markerPath&&(this._markerPath.remove(),this._markerPath=null),this._gradient&&(this._gradient.remove(),this._gradient=null)}}],[{key:"setBackgroundStyle",value:function(e,t,n){var i=t.background||n.background;e.style.backgroundColor=i}},{key:"removeBackgroundStyle",value:function(t){e.cacheStyle&&(d.forEach(function(n){t.style[n]=e.cacheStyle[n]}),e.cacheStyle=null)}}]),e}();t.Style=u,u.cacheStyle=null},11395:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(65528),t.default={getRadomLineColor:function(e){var t="",n=this.colorsLen=10;e&&(t=e.theme);var i=["rgb(255,204,204)","rgb(153,204,255)","#FDB813","#80BC42","#e85d4e","#127c97","rgb(232, 124, 37)","rgb(0, 94, 170)","rgb(51, 156, 168)","rgb(212, 164, 235)"],o={delicate_caihong:{colors:["#FD5155","#F88A35","#FCB52A","#80BA4C","#0FBAB0","#0D7C82","#02ACF4","#0F80C4","#3D5EC2","#7549C5","#BE49C4","#DD489D","#FA5465"],num:13},delicate_caihong2:{colors:["#FD5155","#F88A35","#FCB52A","#80BA4C","#0FBAB0","#0D7C82","#02ACF4","#0F80C4","#3D5EC2","#7549C5","#BE49C4","#DD489D","#FA5465"],num:13},dark_caihong:{colors:["#A04AFB","#7754F6","#4D69FD","#13A3ED","#74C11F","#FFCA01","#FF8502","#F4325C","#F5479C"],num:9},lively_caihong:{colors:["#6A6CFF","#A6E520","#03C1EB","#FE3E1E","#FFD424","#4F7CFF","#FF44BC","#B16FFF"],num:8},bd_caihong:{colors:["#F2D25F","#C6576D","#EAA0CE","#CD8F88","#E88777"],num:5},bg_caihong:{colors:["#5C6CFF","#3D4BCF","#5041FC","#A244EE","#7020DC","#9C2CB8"],num:6},bg_caihong2:{colors:["#5E6C9D","#527CD9","#5251B9","#5FB3D8","#805CCC"],num:5}};return o[t]&&(i=o[t].colors,n=this.colorsLen=o[t].num),i[parseInt(Math.random()*n)]},setRadomLineColor:function(){}}},50748:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(38297),n(82403),n(12638),n(69268),n(86837);var i=n(59081),o=n(15240);t.default={handlerGuideItem:function(e){var t=$(e.target).closest(".mind-guide-index");if(t.length>0){var n=this.topicData.guide.items[Number($(e.target).attr("guide_index"))];t.hasClass("mind-guide-index-select-active")?t.removeClass("mind-guide-index-select-active").addClass("mind-guide-index-select"):t.removeClass("mind-guide-index-select").addClass("mind-guide-index"),$(".mind-guide-index-select, mind-guide-index-select-active").removeClass("mind-guide-index-select").removeClass("mind-guide-index-select-active"),t.addClass("mind-guide-index-select"),this.isRoot||injectExtraAsynCall("onServerApi",{apiName:"mindGuidInfoSend",params:{eventName:"topic_guide",guide:n,nodeType:"childTopic"}})}},getMoreList:function(){for(var e=this.topicData,t='<div class="mind-guide-list"><div class="mind-guide-index-list">',n=2;n<e.guide.items.length;n++)t+='<div class="mind-guide-index " guide_index="'.concat(n,'">原文').concat(n+1,"</div>");return t},renderGuideDom:function(){var e=this;if(!(this.topicData.children&&this.topicData.children.length>0||this.isRoot)&&this.group){var t=$(this.getGuideBox(this));this.mindMap.el.appendChild(t[0]);var n,o=t[0].getBoundingClientRect(),a=o.width,r=o.height;this._guideBtn=n=new i.G,n.attr("data-width",a),n.attr("data-height",r);var s=new i.ForeignObject;s.width(a),s.height(r),s.add($(t)[0]),n.add(s),this._guideBtn.off("mousedow.guide").on("mousedown.guide",function(t){t.stopPropagation(),e.handlerGuideItem(t)}),this._guideBtn.off("click.guide").on("click.guide",function(e){e.stopPropagation()}),this._guideBtn.off("mouseup.guide").on("mouseup.guide",function(t){t.stopPropagation();var n=$(t.target),o=n.closest(".mind-guide-index"),a=n.closest(".mind-guide-index-more");if(o.length>0)o.hasClass("mind-guide-index-select-active")?o.removeClass("mind-guide-index-select-active").addClass("mind-guide-index-select"):o.removeClass("mind-guide-index-select").addClass("mind-guide-index"),$(".mind-guide-index-select, mind-guide-index-select-active").removeClass("mind-guide-index-select").removeClass("mind-guide-index-select-active"),o.addClass("mind-guide-index-select"),$(".mind-guide-index-active").removeClass("mind-guide-index-active"),$(".mind-guide-index-select-active").removeClass("mind-guide-index-select-active");else if(a.length>0){var r=editorGlobal.mindMap.otherDraw.find(".guide-con");r.show();var s=$(e.getMoreList());e.mindMap.el.appendChild(s[0]);var l=s[0].getBoundingClientRect(),c=l.width,d=l.height;r.length?r.clear():(r=new i.G,editorGlobal.mindMap.otherDraw.add(r),r.addClass("guide-con"),r.on("mousedown",function(t){t.stopPropagation(),e.handlerGuideItem(t)}),r.on("mouseup",function(e){e.stopPropagation()}));var u=new i.ForeignObject;u.width(c),u.height(d),u.add(s[0]),r.add(u),e.updateMorePos(r)}}),this.group.add(this._guideBtn),this._guideBtn.off("mouseenter.guide").on("mouseenter.guide",function(e){e.stopPropagation()}),this.updateGuideBtnPos()}},updateGuideBtnPos:function(){if(this._guideBtn){var e=this.renderer.getTopicLayout(this.layout).renderGuideBtn(this,this._guideBtn),t=e.x,n=e.y;this._guideBtnX=t,this._guideBtnY=n}},mind_guide:function(){var e=Object.assign({},this.topicData);if($(".mind-guide-index-list").css("display","none"),!e.guide&&e.children.length>0&&(e.guide=this.getGuideInfo(e)),e.guide&&e.guide.items&&e.guide.items.length>0){var t,n=0;if(0==e.children.length){var i,o=$(this._guideBtn.node),a=o.find(".mind-guide>.mind-guide-index-select");a.length>0&&(i=a.attr("guide_index"));var r=Number(i||0);$(".mind-guide-index-select").addClass("mind-guide-index").removeClass("mind-guide-index-select").removeClass("mind-guide-index-active");var s=o.find(".mind-guide");s.children().length>1&&i&&(n=r+1==s.children().length?0:r+1),$(s.children()[n]).addClass("mind-guide-index-select")}t="root"==e.id?"centerTopic":e.children.length>0?"secTopic":"childTopic",injectExtraAsynCall("onServerApi",{apiName:"mindGuidInfoSend",params:{eventName:"topic_guide",guide:e.guide.items[n],nodeType:t}})}},getGuideInfo:function(e){return e.guide&&e.guide.items.length>0?e.guide:e.children.length>0?this.getGuideInfo(e.children[0]):e.guide},getGuideBox:function(){var e=this.topicData,t="",n=/Android|iPhone|SymbianOS|Windows\sPhone|iPad|iPod|iOS/i;if(n.test(navigator.userAgent))if(e.guide&&e.guide.items.length>1){for(var i=0;i<2;i++)t+='<div class="mind-guide-index  mobi-guide-index" guide_index="'.concat(i,'">原文').concat(i+1,"</div>");e.guide.items.length>2&&(t+='<div class="mind-guide-index-more">\n                                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                                        <path d="M2.25 6.77618C2.66421 6.77618 3 6.44039 3 6.02618C3 5.61196 2.66421 5.27618 2.25 5.27618C1.83579 5.27618 1.5 5.61196 1.5 6.02618C1.5 6.44039 1.83579 6.77618 2.25 6.77618ZM6.00011 6.76309C6.41433 6.76309 6.75011 6.4273 6.75011 6.01309C6.75011 5.59888 6.41433 5.26309 6.00011 5.26309C5.5859 5.26309 5.25011 5.59888 5.25011 6.01309C5.25011 6.4273 5.5859 6.76309 6.00011 6.76309ZM9.75023 6.75C10.1644 6.75 10.5002 6.41421 10.5002 6C10.5002 5.58579 10.1644 5.25 9.75023 5.25C9.33601 5.25 9.00023 5.58579 9.00023 6C9.00023 6.41421 9.33601 6.75 9.75023 6.75Z" fill="#0D0D0D" fill-opacity="0.66"/>\n                                    </svg>\n                                    </div>')}else t+='<div class="mind-guide-index" style="display:none"  guide_index="0">原文1</div>';else if(e.guide&&e.guide.items.length>4){for(var o=0;o<3;o++)t+='<div class="mind-guide-index" guide_index="'.concat(o,'">').concat(o+1,"</div>");t+='<div class="mind-guide-index-more">\n                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n                                <path d="M2.25 6.77618C2.66421 6.77618 3 6.44039 3 6.02618C3 5.61196 2.66421 5.27618 2.25 5.27618C1.83579 5.27618 1.5 5.61196 1.5 6.02618C1.5 6.44039 1.83579 6.77618 2.25 6.77618ZM6.00011 6.76309C6.41433 6.76309 6.75011 6.4273 6.75011 6.01309C6.75011 5.59888 6.41433 5.26309 6.00011 5.26309C5.5859 5.26309 5.25011 5.59888 5.25011 6.01309C5.25011 6.4273 5.5859 6.76309 6.00011 6.76309ZM9.75023 6.75C10.1644 6.75 10.5002 6.41421 10.5002 6C10.5002 5.58579 10.1644 5.25 9.75023 5.25C9.33601 5.25 9.00023 5.58579 9.00023 6C9.00023 6.41421 9.33601 6.75 9.75023 6.75Z" fill="#0D0D0D" fill-opacity="0.66"/>\n                            </svg>\n                        </div>'}else if(e.guide.items.length>1)for(var a=0;a<e.guide.items.length;a++)t+='<div class="mind-guide-index" guide_index="'.concat(a,'">').concat(a+1,"</div>");return n.test(navigator.userAgent)?'<div id="mind-guide" class="mind-guide" style="justify-content:center;align-items:center;">\n            '.concat(t,"\n        </div>"):'<div id="mind-guide" class="mind-guide" original-title="定位至原文" title-pos="top" style="justify-content:center;align-items:center;">\n            '.concat(t,"\n        </div>")},setGuideInfo:function(e){this.topicData.guide=e},updateMorePos:function(e){var t=this.left,n=this.top,i=this._guideBtnX+t,a=n+this._guideBtnY,r=this._guideBtn.attr("data-height");(0,o.isMobile)()&&(i=i+this._guideBtn.attr("data-width")-60),e.attr("transform","matrix(1,0,0,1,".concat(i,",").concat(a+r+10,")"))}}},51668:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={setData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mindMap.execCommand("SET_NODE_DATA",this,e)},setText:function(e,t,n){this.mindMap.execCommand("SET_NODE_TEXT",this,e,t,n)},setImage:function(e){this.mindMap.execCommand("SET_NODE_IMAGE",this,e)},setIcon:function(e){this.mindMap.execCommand("SET_NODE_ICON",this,e)},setHyperlink:function(e,t){this.mindMap.execCommand("SET_NODE_HYPERLINK",this,e,t)},setNote:function(e){this.mindMap.execCommand("SET_NODE_NOTE",this,e)},setTag:function(e){this.mindMap.execCommand("SET_NODE_TAG",this,e)},setShape:function(e){this.mindMap.execCommand("SET_NODE_SHAPE",this,e)},setStyle:function(e,t){this.mindMap.execCommand("SET_NODE_STYLE",this,e,t)},setStyles:function(e){this.mindMap.execCommand("SET_NODE_STYLES",this,e)}}},10800:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66603));n(27531),n(61894),n(65528),n(82403),n(38887),n(6284),n(47958),n(69268),n(58500),n(86837),n(84889),n(54938),n(14237);var a=n(15240),s=n(59081),l=n(80214),c=n(81560);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.default={createImgNode:function(){var e,t,n=this,i=this.getData("image");if(i){var o=i.url;if(o){o.indexOf("orgu2a928.bkt.clouddn.com")>=0?o=o.replace("orgu2a928.bkt.clouddn.com","cdn2.processon.com"):o.indexOf("7xt9nt.com1.z0.glb.clouddn.com")>=0?o=o.replace("7xt9nt.com1.z0.glb.clouddn.com","cdn.processon.com"):o.indexOf("p7o7ul1nf.bkt.clouddn.com")>=0&&(o=o.replace("p7o7ul1nf.bkt.clouddn.com","cdn1.processon.com")),navigator.userAgent.toLowerCase().indexOf("firefox")>=0&&o.indexOf("?s=")<0&&(o+="?s=100_100");var r=this.getImgShowSize(i),l=(e=(new s.Image).load(o)).size.apply(e,h(r)),c=(t=new s.Rect).size.apply(t,h(r));l.attr("id","topic-image-".concat(this.id)),l.attr("class","topic-image");var d=this.mindMap.opt.defaultNodeImage;if(d){var u=new Image;u.onerror=function(){l.load(d)},u.src=o}return this.getData("imageTitle")&&l.attr("title",this.getData("imageTitle")),l.on("click",function(e){n.mindMap.emit("topic_img_click",n,e),n.mindMap.svg.find(".topic-image.active").length>0&&n.mindMap.svg.find(".topic-image.active").removeClass("active").siblings("rect").attr("filter",null),c.attr({filter:"url(#dropShadow)"}),l.addClass("active")}),l.on("dblclick",function(e){n.mindMap.emit("topic_img_dblclick",n,e)}),l.on("mousedown",function(e){(0,a.isMobile)()||n.mindMap.emit("topic_img_mousedown",n,e)}),l.on("mouseup",function(){}),this.mindMap.svg.on("mousedown",function(){n.mindMap.svg.find(".topic-image.active").length>0&&n.mindMap.svg.find(".topic-image.active").removeClass("active").siblings("rect").attr("filter",null),n.mindMap.emit("topic_image_unselected")}),{node:l,rectNode:c,width:1*r[0],height:1*r[1],direction:i.direction}}}},getImgShowSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.w,n=e.h,i=this.mindMap.opt.topicMaxWidth,o=null;return this.getStyle("flex-direction")&&"initial"!==this.getStyle("flex-direction")&&(i=null,o=500),t&&n||(t=460,n=300),(0,a.resizeImgSize)(t,n,i,o)},createNumberNode:function(){var e=this,t="";return this.mindMap.number&&this.mindMap.number.updateNumber(this,function(n,i){var o=new s.G,r=u(u({},(0,a.styleStringToObject)(e.style.createStyleText())),{},{"text-decoration":"none"});if("5"==(null==i?void 0:i.type)){o=new s.SVG;var l=(new s.Rect).fill("#444").attr({rx:8,ry:8});r={"font-size":"12px",fill:"#fff"};var c=(0,a.styleObjectToString)(r),d=(new s.Text).text(n).attr({style:c}),p=d.bbox(),h=16;p.width>16&&(h=p.width+4),o.size(h,16),l.size(h,16),d.attr({x:(h-p.width)/2,y:"12"}),d.find("tspan").attr("dy",null),o.add(l),o.add(d),o.attr("type","5")}else{var m=(0,a.styleObjectToString)(r),f=(new s.Text).text(n).attr({style:m});o.add(f)}var g=o.bbox(),v=g.width,b=g.height;t={node:o,width:v,height:b,num:n}}),t},createIconNode:function(){var e=this,t=this.getData("icons");if(!t||t.length<=0)return[];var n=this.mindMap.icons;return n?t.map(function(t){if(t){var i=null,o=!0,a=(parseInt(e.getStyle("font-size"))||16)+4,l=t.name?t.name:"other";if(t.url)i=(new s.Image).load(t.url);else{var c,d=n.getIcons();if(null==(c=t.index<=100?n.oldIcons[l]:d[t.name]))return;var u=t.index;"multiColour"!=n.getIconsType(t.name)&&t.index>100&&t.index<=300&&(u=parseInt(u)+200);var p=r(n.getIcon(c,u),2),h=p[0],m=p[1];if(null==h)return;if(t.index>100&&"multiColour"==n.getIconsType(t.name)){var f=n.getMultiColorIconSvg(t.index,a-1.6);i=(0,s.SVG)(f)}else{var g="",v=t.color?t.color:"";if(t.index<=100)g="old-icon-v3",v||(o=!1);else{var b=n.defaultColors[t.name];v="".concat(t.color||b[m]||b[0]),t.index<=300&&(t.index=u,t.color=v="".concat(b[m]||b[0]))}var y=(i=(new s.SVG).size(a,a)).circle(a).fill("transparent"),x=i.group().transform({tx:.8,ty:.8});g||y.fill("#ffffff");var w=(0,s.SVG)(n.getIconSvg(t.index,v,a-1.6));x.add(w)}}return i.attr("cursor","pointer").size(a,a),i.attr("ico",t.index),i.attr("n",l),i.on("click",function(t){e.mindMap.emit("topic_icon_click",e,i,t)}),{node:i,hasColor:o,width:1*a,height:1*a}}}).filter(function(e){if(e)return e}):void 0},createRichTextNode:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.renderer.mindTree.textAutoWrapWidth||this.mindMap.opt.textAutoWrapWidth,d=parseInt(this.getStyle("font-size"));r=Math.floor(r/d)*d;var u=new s.G,p=(this.getData("title")||"").replace(/\n/g,"<br>").replace(/\u2029/g,"<br>").replace(/\u2028/g,"<br>").replace(/\x0a/g,"<br>").replace(/\x0d/g,"<br>").replace(/[\x00-\x1f]+/g," "),h=this.style.createStyleText(),m="";if(h){var f=h.split(";");f.map(function(e,t){var n=e.split(":")[0],i=e.split(":")[1];if("flex-direction"==n&&"initial"!==i.trim()){var o="row"==i.trim()?"vertical-lr":"vertical-rl";return m='style="writing-mode:'.concat(o,'"'),f.splice(t,0,"writing-mode:".concat(o,";")),void(h=f.join(";"))}})}p="<span ".concat(m,">").concat(p,"</span>");var g='<div xmlns="http://www.w3.org/1999/xhtml" style="'.concat(h,'">').concat(p,"</div>");l.commonCaches.measureRichtextNodeTextSizeEl||(l.commonCaches.measureRichtextNodeTextSizeEl=document.createElement("div"),l.commonCaches.measureRichtextNodeTextSizeEl.style.position="fixed",l.commonCaches.measureRichtextNodeTextSizeEl.style.left="-999999px",editorGlobal.mindMap.el.appendChild(l.commonCaches.measureRichtextNodeTextSizeEl));var v=l.commonCaches.measureRichtextNodeTextSizeEl;v.innerHTML=g;var b=v.children[0];b.classList.add("po-richtext-node-wrap"),b.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),m?(v.style.display="inline-grid",v.style.gridAutoFlow="column"):(v.style.display="",v.style.gridAutoFlow=""),b.querySelectorAll("font").forEach(function(e){var n=e.getAttribute("face");(0,c.loadFont)(n,t)}),this.mindMap.emit("renderEquation",b);var y=0,x=-1/0,w=null,k=$(b).find(".equation-text");k.each(function(){var e=$(this),t=e.children("span:first"),n=e.find(".katex").width(),i=e.find(".katex").height();if(y=Math.max(m?i:n,y),!m){var o=e.offset().left+n;o>x&&(x=o,w=this)}m&&(e.css({width:i,height:n}),t.css({transform:"rotate(90deg) translate(0, -"+i+"px)","transform-origin":"0 0",width:n,height:i}))});var _=0;if(!m&&w&&"wpsclient"===editorGlobal.deviceType){var C=$(w);C.addClass("need-resize-width");var T=w.getBoundingClientRect();_+=C.find(".katex").width(),k.each(function(){if(this!==w){var e=(0,a.isSameLineNative)(T,this),t=$(this);e?(t.addClass("need-resize-width"),_+=t.find(".katex").width()):t.removeClass("need-resize-width")}})}if(m?b.style.maxHeight=Math.max(r,y)+"px":b.style.maxWidth=i?Math.max(o&&e||r,y,this.textMinWidth)+"px":Math.max(r,y,this.textMinWidth)+"px",b.style.wordWrap="break-word",b.style.wordBreak="break-word",b.style["-webkit-text-size-adjust"]="100%",this.mindMap.emit("renderTopicRichTexts",b,this.getData()),b.querySelectorAll(".equation-text").length>0){var S=(0,a.getUsedFontFamilies)([b]);Array.from(document.fonts.values()).filter(function(e){return S.includes(e.family)&&["unloaded","loading"].includes(e.status)}).map(function(e){return e.loaded}).length>0&&(this.isRerender=!0,this.mindMap.renderer.needRenderTopicListAfterLoadFont.push(this.id))}(0,a.titleMarkerElementProcess)(b.children[0],d);var M=b.getBoundingClientRect(),D=M.width,E=M.height;if((0,a.isSafari)()&&b.querySelectorAll(".equation-text").length>0&&(D=Math.max(b.children[0].offsetWidth+1,D),(0,a.isWeChat)()&&(D+=8)),E<=0){v.innerHTML="<p>九月到此一游</p>";var A=v.children[0];A.classList.add("po-richtext-node-wrap"),E=A.getBoundingClientRect().height,v.innerHTML=g}m?(D=Math.ceil(D)+1,E=Math.min(Math.ceil(E)+1,r)):D=Math.min(Math.ceil(D)+1,r),D+=.1*d,e||(e=D),D=Math.max(e,y,this.textMinWidth),E=Math.max(Math.ceil(E),this.textMinHeight,n),n&&m&&(b.style.height=E+"px"),u.attr("data-width",D),u.attr("data-height",E);var F=new s.ForeignObject;return F.width(D),F.height(E),(0,a.isSafari)()&&b.querySelectorAll(".equation-text").length>0&&(b.classList.add("po-safari-fixed"),b.style.transform="scale(".concat(this.mindMap.view.scale,")"),b.style.transformOrigin="left top"),F.add(b),u.add(F),{node:u,nodeContent:F,width:D,height:E,minWidth:y,katexMaxW:y,sameLineKatexTotalWidth:_,resize:function(){(0,a.isSafari)()&&b.querySelectorAll(".equation-text").length>0&&(b.style.transform="scale(".concat(t.mindMap.view.scale,")"),b.style.transformOrigin="left top")}}},createCodeNode:function(e){var t=this;if(this.getData("code")&&this.mindMap.code){var n=this.mindMap.code.createCodeNode(this,e),i=n.codeEl,o=n.width,r=n.height;if((0,a.isSafari)()&&i instanceof HTMLElement){var l=i.querySelector("#code-area");l&&(l.style.position="fixed",l.style.width="100%",l.style.transform="scale(".concat(this.mindMap.view.scale,")"),l.style.transformOrigin="left top")}var c=new s.ForeignObject;return c.width(o),c.height(r),c.add(i),{node:c,resize:function(){if((0,a.isSafari)()&&i instanceof HTMLElement){var e=i.querySelector("#code-area");e&&(e.style.transform="scale(".concat(t.mindMap.view.scale,")"),e.style.transformOrigin="left top")}},width:1*o,height:1*r}}},createTaskNode:function(){var e=this,t=this.getData("task");if(t){var n=!1,i=!1,o="",r=new s.Text;if(t.start&&(o+=t.start,n=!0),t.end){var l="";!1===n&&(l+="_ "),o+=l+=" : "+t.end,i=!0}0==n&&0==i||!1!==i||(o+=" : _ "),null!=t.assigned&&(o+=" (".concat(t.assigned,")")),r.tspan(o),r.fill(this.getSelfStyle("color")||this.style.getTextColor()),this.getStyle("flex-direction")&&"initial"!==this.getStyle("flex-direction")&&r.css("writing-mode","vertical-lr"),r.on("click",function(){e.mindMap.opt.readonly||(0,a.isMobile)()||editorGlobal.mindMap.emit("openCorner","task")});var c=r.bbox();return{node:r,width:c.width,height:c.height}}},createLinkNode:function(){var e=this.getData("link");if(e)return"url"===e.type?this.createHyperlinkNode(e):"t_link"===e.type?this.createTopiclinkNode(e):null},createFileNode:function(){var e=this,t=this.getData("file"),n=this.getData("link");if(t&&null!=t.value||n&&null!=n.value&&"file"==n.type){if(!t&&n&&"file"===n.type&&(t=n),!t)return;var i=(this.getStyle("font-size")||16)+4,o=(new s.SVG).size(i,i),a=(new s.A).to(t.value);a.rect(i,i).fill("transparent").attr("cursor","pointer");var r=(new s.Image).load("".concat(staticBasePath,"/images/file.svg")).size(i,i);return a.add(r),o.add(a),o.file=t.value,o.on("mouseenter",function(n){e.mindMap.opt.readonly||e.mindMap.emit("show_file_view",e,t,n)}),o.on("click",function(t){t.stopPropagation(),t.preventDefault(),e.mindMap.emit("open_topic_file",e,t)}),o.on("mouseup",function(e){e.stopPropagation()}),o.on("mousedown",function(e){e.stopPropagation()}),{node:o,width:i,height:i}}},createHyperlinkNode:function(e){var t=this;if(e){if(e&&null!=e.value){var n=(this.getStyle("font-size")||16)+4,i=(new s.SVG).size(n,n),o=(0,a.isMobile)()?new s.A:(new s.A).to(e.value);o.rect(n,n).fill("transparent").attr("cursor","pointer");var r=(new s.Image).load("".concat(staticBasePath,"/images/link.svg")).size(n,n);return o.add(r),o.on("click",function(n){(0,a.isMobile)()&&!t.mindMap.opt.readonly||t.mindMap.emit("topic_link_open",n,{url:e.value,type:"url"}),t.mindMap.opt.readonly||t.mindMap.emit("topic_link_click",n,t.id)}),i.add(o),i.link=e.value,i.on("mouseenter",function(e){t.mindMap.opt.readonly||(0,a.isMobile)()||t.mindMap.emit("show_hyperlink_view",t,e)}),{node:i,width:n,height:n}}return null}},createTopiclinkNode:function(e){var t=this;if(e&&e&&null!=e.id&&"t_link"==e.type){var n=(this.getStyle("font-size")||16)+4,i=(new s.SVG).attr("cursor","pointer").size(n,n);i.add((new s.Rect).size(n,n).fill({color:"transparent"}));var o=(new s.Image).load("".concat(staticBasePath,"/images/t_link.svg")).size(n,n);return i.add(o),i.on("mouseenter",function(e){t.mindMap.opt.readonly||t.mindMap.emit("show_tplink_view",t,e)}),i.on("click",function(e){t.mindMap.emit("tplink_to_topic",t,e)}),{node:i,width:n,height:n}}},createTagNode:function(){var e=this,t=this.getData("tags");if(!t||t.length<=0)return[];var n=[];return t.slice(0,this.mindMap.opt.maxTag).forEach(function(t,i){if(t){var o=new s.G;o.attr("data-topicId",e.id),o.attr("data-index",i),o.attr("data-tag",i);var r=(new s.Text).text((0,a.restoreXss)(t.text)).x(5).cy(10);e.style.tagText(r,t.color);var l=20,c=20;if(e.getStyle("flex-direction")&&"initial"!==e.getStyle("flex-direction"))r.css("writing-mode","vertical-lr").x(4).y(5),c=r.bbox().height+10;else l=r.bbox().width+10;var d=(new s.Rect).size(l,c);e.style.tagRect(d,r,t.background),o.add(d).add(r),o.on("click",function(){e.mindMap.emit("showTagsBox",o.node,t,e.id,o.parent().attr("id"))}),o.on("mouseover",function(){o.css({cursor:"pointer"})}),n.push({node:o,width:l,height:c})}}),n},createNoteNode:function(){if(this.mindMap.note)return this.mindMap.note.createNoteNode(this)},measureCustomNodeContentSize:function(e){l.commonCaches.measureCustomNodeContentSizeEl||(l.commonCaches.measureCustomNodeContentSizeEl=document.createElement("div"),l.commonCaches.measureCustomNodeContentSizeEl.classList.add("po-measureCustomNode"),l.commonCaches.measureCustomNodeContentSizeEl.style.cssText="\n      position: fixed;\n      left: -99999px;\n      top: -99999px;\n    ",this.mindMap.el.appendChild(l.commonCaches.measureCustomNodeContentSizeEl)),l.commonCaches.measureCustomNodeContentSizeEl.innerHTML="",l.commonCaches.measureCustomNodeContentSizeEl.appendChild(e);var t=l.commonCaches.measureCustomNodeContentSizeEl.getBoundingClientRect();return{width:t.width,height:t.height}},isUseCustomNodeContent:function(){return!!this._customNodeContent},createCommentNode:function(){if(this.mindMap.comment)return this.mindMap.comment.createCommentNode(this)}}},71544:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(59081);t.default={updateExpandBtnNode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getData().collapsed;if(t!==this._lastExpandBtnType||e){this._expandBtn&&this._expandBtn.clear(),this._lastExpandBtnType=!0===t;var n,o,a=(new i.Circle).fill("transparent").addClass("expandHoverBtn");if(this._expandBtn){if(t){var r=this.sumTopic();if(n=(new i.Circle).stroke({width:1}).size(this.expandBtnSize).cx(this.expandBtnSize/2).cy(this.expandBtnSize/2),r>99)o=new i.SVG('<svg t="1716258996540" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="151727" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M263.459391 437.252599c-40.090067 0-72.590272 32.601512-72.590272 72.817446 0 40.216957 32.500205 72.817446 72.590272 72.817446s72.591295-32.600489 72.591295-72.817446C336.049662 469.855134 303.549457 437.252599 263.459391 437.252599zM510.267543 437.252599c-40.090067 0-72.591295 32.601512-72.591295 72.817446 0 40.216957 32.500205 72.817446 72.591295 72.817446s72.591295-32.600489 72.591295-72.817446C582.858838 469.855134 550.35761 437.252599 510.267543 437.252599zM757.076718 437.252599c-40.092114 0-72.592318 32.600489-72.592318 72.817446 0 40.216957 32.500205 72.817446 72.592318 72.817446 40.090067 0 72.591295-32.600489 72.591295-72.817446C829.66699 469.853088 797.166785 437.252599 757.076718 437.252599z" p-id="151728"></path></svg>').size(this.expandBtnSize-3,this.expandBtnSize-3).dx(1.5).dy(1.5);else{var s=(o=(new i.Text).text(r).font({size:11,anchor:"middle"})).bbox(),l=s.width,c=s.height,d=(this.expandBtnSize-l)/2,u=(this.expandBtnSize-c)/2;o.y(u).x(d)}a.size(this.expandBtnSize).cx(this.expandBtnSize/2).cy(this.expandBtnSize/2)}else n=(new i.Circle).stroke({width:1.5}).size(this.collapsedBtnSize).cx(this.collapsedBtnSize/2).cy(this.collapsedBtnSize/2),a.size(this.collapsedBtnSize).cx(this.collapsedBtnSize/2).cy(this.collapsedBtnSize/2);this._expandBtn.add(n).add(o).add(a),this.style.expandBtn(n,o)}}},updateExpandBtnPos:function(){var e;this._expandBtn&&(null===(e=this.renderer.getTopicLayout(this.layout))||void 0===e||e.renderExpandBtn(this,this._expandBtn))},renderExpandBtn:function(){var e=this;!this.topicData.children||this.topicData.children.length<=0||this.isRoot||!this.group||(this._expandBtn||(this._expandBtn=new i.G,this._expandBtn.on("mouseover",function(t){t.stopPropagation(),e._expandBtn.css({cursor:"pointer"});var n=e._expandBtn.node.querySelector(".expandHoverBtn");n&&(e.beforeHoverExpandBtnColor=n.getAttribute("fill"),n.setAttribute("fill",e.style.getLineColor()),n.setAttribute("opacity",.16))}),this._expandBtn.on("mouseout",function(t){if(t.stopPropagation(),e._expandBtn.css({cursor:"auto"}),e.beforeHoverExpandBtnColor){var n=e._expandBtn.node.querySelector(".expandHoverBtn");n&&n.setAttribute("fill",e.beforeHoverExpandBtnColor),delete e.beforeHoverExpandBtnColor}}),this._expandBtn.on("click",function(t){e.mindMap.opt.readonly&&t.stopPropagation();var n=e.getRectInSvg(),i=n.left,o=n.top;e.renderer.selectTopicPos=x({},e.id,{left:i,top:o}),e.mindMap.execCommand("TOGGLE_TOPIC_EXPAND",e),e.mindMap.emit("expand_btn_click",e)}),this._expandBtn.on("dblclick",function(e){e.stopPropagation()}),this._expandBtn.addClass("expand-btn")),this.group.add(this._expandBtn),this._showExpandBtn=!0,this.updateExpandBtnNode(),this.updateExpandBtnPos())},removeExpandBtn:function(){this._expandBtn&&this._showExpandBtn&&(this._expandBtn.remove(),this._showExpandBtn=!1)},showExpandBtn:function(){var e=this;this.mindMap.opt.neverShowExpandBtn||setTimeout(function(){e.renderExpandBtn()},0)},hideExpandBtn:function(){var e=this;!1===this.getData().collapsed&&setTimeout(function(){e.removeExpandBtn()},0)}}},42417:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(4790);var i=n(59081);t.default={renderExpandBtnPlaceholderRect:function(){if(!(!this.topicData.children||this.topicData.children.length<=0||this.isRoot||this.mindMap.opt.alwaysShowExpandBtn)){var e=this.width,t=this.height;this._unVisibleRectRegionNode||(this._unVisibleRectRegionNode=new i.Rect,this._unVisibleRectRegionNode.fill({color:"transparent"})),this.group.add(this._unVisibleRectRegionNode),this.renderer.getTopicLayout(this.layout).renderExpandBtnRect(this._unVisibleRectRegionNode,this.expandBtnSize,e,t,this)}},clearExpandBtnPlaceholderRect:function(){this._unVisibleRectRegionNode&&(this._unVisibleRectRegionNode.remove(),this._unVisibleRectRegionNode=null)},updateExpandBtnPlaceholderRect:function(){var e=C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.renderExpandBtnPlaceholderRect();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},47091:function(e,t,n){var i;n(11568);var o=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var a=o(n(66603));n(26149),n(27531),n(61894),n(24932),n(69642),n(68174),n(96909),n(5682),n(4790),n(89131),n(82403),n(64518),n(14544),n(23801),n(66096),n(63551),n(40724),n(81006),n(38887),n(6284),n(30940),n(47958),n(69268),n(58500),n(86837),n(84889),n(54938),n(19268),n(69858),n(14237);var s=n(37422),l=o(n(20990)),c=n(15240),d=n(80214),u=n(92317),p=n(50356),m=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=w(e)&&"function"!=typeof e)return{default:e};var n=function(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return function(e){return e?n:t}(e)}(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var r=o?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(i,a,r):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(31279)),f=o(n(32483)),g=o(n(7101));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=(x(i={},d.CONSTANTS.LAYOUT.LOGIC,s.Logic),x(i,d.CONSTANTS.LAYOUT.MINDMAP,s.Mindmap),x(i,d.CONSTANTS.LAYOUT.TREE_ORG,s.TreeOrg),x(i,d.CONSTANTS.LAYOUT.ORG,s.Org),x(i,d.CONSTANTS.LAYOUT.FISHBONE,s.FishBone),x(i,d.CONSTANTS.LAYOUT.TIMELINE,s.TimeLine),x(i,d.CONSTANTS.LAYOUT.TREE,s.Tree),x(i,d.CONSTANTS.LAYOUT.MOBI_TREE,s.MobiTree),x(i,d.CONSTANTS.LAYOUT.BRACE,s.Brace),i),S=new Map;d.layoutList.forEach(function(e){e.valueList&&e.valueList.forEach(function(t){S.set(t,e.value)})}),t.Render=function(){function e(){var t=this;T(this,e);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,"startDetectResourceLoadTime",0),(0,a.default)(this,"detectResourceLoadTimeOut",5e3),(0,a.default)(this,"needRenderTopicListAfterLoadFont",[]),this.mindMap=n.mindMap,this.isRendering=!1,this.reRender=!1,this.root=null,this.currentRoot=null,this.mindTree=(0,l.default)({},this.mindMap.mindData||{}),this.loadLayout={},this.selectTopicPos=null,this.selectedTopicList=[],this.lastSelectedNode=null,this.lastselectedTopicList=[],this.mouseenterToTopic=!1,this.textEdit=new p.TextEdit(this),this.registerCommands(),this.registerShortcutKeys(),this.hasWaitRendering=!1,this.waitRenderingParams=[],this.topicsList={},this.topicsProp={},this.filterTopicIds=[],this.insertChildThrottled=(0,c.throttle)(function(){t.mindMap.execCommand("INSERT_CHILD_TOPIC"),t.mindMap.execCommand("INSERT_AI_CHILD")},100,this),this.insertPrevSiblingThrottled=(0,c.throttle)(function(){var e=t.getSelectedTopic(!1);e&&t.mindMap.execCommand("INSERT_TOPIC",[e],void 0,"prev")},100,this),this.insertSiblingThrottled=(0,c.throttle)(function(){var e=t.getSelectedTopic();e&&(t.mindMap.execCommand("INSERT_TOPIC",[e]),t.mindMap.execCommand("INSERT_AI_SIBLING"))},100,this),this.insertParentThrottled=(0,c.throttle)(function(){t.mindMap.execCommand("INSERT_PARENT_TOPIC")},100,this),this.removeNodeThrottled=(0,c.throttle)(function(){t.mindMap.execCommand("REMOVE_TOPIC")},100,this),this.lru=new u.Lru(this.mindMap.opt.maxNodeCacheCount),this.bindEvent(),this.guideRender=g.default,this.copyThrottle=(0,c.throttle)(function(e){m.copy({e:e})},300,this),this.cutThrottle=(0,c.throttle)(function(e){m.cut({e:e,$:$})},300,this),this.pasteThrottle=(0,c.throttle)(function(e){m.paste({e:e,$:$})},300,this)}return M(e,[{key:"setData",value:function(e){this.mindTree=e;var t=e.layout||e.structure;this.layout=this.mindMap.checkLayoutIsSupport(t)||d.CONSTANTS.LAYOUT.MINDMAP,this.filterTopicIds=[],this.currentRoot=null,this.currentRootPos=null,this.selectTopicPos=null,this.selectedTopicList=[],this.lastSelectedNode=null,this.lastselectedTopicList=[],this.resetTopicList(),this.mindMap.emit("render_data-change")}},{key:"getParentIdsByTopicId",value:function(e){var t=[],n=this.topicsList[e];if(!n)return t;for(var i=this.topicsList[n.parent];i;)t.push(i.id),i=this.topicsList[i.parent];return t}},{key:"getTopicLayout",value:function(e){this.mindMap.opt.multiStructure||(e=this.layout);var t=S.get(e);return this.loadLayout[t]||(this.loadLayout[t]=new(_[t]?_[t]:_[d.CONSTANTS.LAYOUT.MINDMAP])({renderer:this})),this.loadLayout[t]}},{key:"getValueFromLayoutList",value:function(){}},{key:"buildTopicsList",value:function(e){var t=this;e.id&&(0,c.walk)(e,null,function(e,n){if(e&&"string"!=typeof e){e.id||(e.id=(0,c.createId)()),e.root||e.parent&&(!n||e.parent.id===n.id)||(e.parent=n.id);var i=!0;t.topicsList[e.id]&&(i=!1,delete t.topicsList[e.id]),t.topicsList[e.id]=e,t.filterTopicIds.length>0&&t.filterTopicIds.includes(e.parent)&&i&&(t.filterTopicIds.includes(e.id)||t.filterTopicIds.push(e.id));var o=e.summaries;null!=o&&o.forEach(function(e){(0,c.walk)(e,null,null,function(e){t.topicsList[e.id]=e})});var a=e.boundaries;null!=a&&a.forEach(function(e){(0,c.walk)(e,null,null,function(e){t.topicsList[e.id]=e})})}})}},{key:"resetTopicList",value:function(){var e=this.mindTree;this.topicsList={},this.buildTopicsList(e)}},{key:"addTopicToList",value:function(e){this.buildTopicsList(e)}},{key:"getTopicDomById",value:function(){return $(".topic-box[id="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+"]").parent()}},{key:"getTopicById",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.topicsList[e]}},{key:"updateRootData",value:function(e,t,n,i){var o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if("outline"!==(arguments.length>5?arguments[5]:void 0)){var r=this.getCacheTopic(e);if(r&&r.isRoot&&"left"!==i&&void 0!==(null===(o=this.mindTree)||void 0===o?void 0:o.data["right-content-index"])){var s=1*this.mindTree.data["right-content-index"];("right"===i||t<=s)&&("remove"===n?s-=a:s+=a),this.mindTree.data["right-content-index"]=Math.max(s,0)}}}},{key:"getParentTopicById",value:function(e){var t=this.getTopicById(e);return t&&t.parent?this.getTopicById(t.parent):null}},{key:"cacheTopic",value:function(e,t){this.lru.add(e,t)}},{key:"getCacheTopic",value:function(e){return this.lru.get(e)}},{key:"getLruPool",value:function(){var e=this,t=h(this.lru.pool.values());return 0!=this.filterTopicIds.length?t.filter(function(t){return e.filterTopicIds.includes(t.id)}):t}},{key:"hasCacheTopic",value:function(e){return this.lru.has(e)}},{key:"removeCacheTopic",value:function(e){this.lru.delete(e)}},{key:"getChildrenIds",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return[];var i=new Set;return t&&i.add(e.id),function e(t){var o,a=t.children,r=a.length;if(null!=a&&r>0)for(var s=0;s<r;s++){var l=a[s];i.add(l.id),e(l)}if(null!=t.summaries&&t.summaries.length>0)for(var c=0;c<t.summaries.length;c++){var d=t.summaries[c];i.add(d.id),e(d)}n&&(null===(o=t.boundaries)||void 0===o||o.forEach(function(e){i.add(e.id)}))}(e),Array.from(i)}},{key:"getParentTopicIds",value:function(e){var t=this,n=t.getParentTopicById(e),i=[];return function e(n){if(n&&(i.push(n.id),!n.root)){var o=t.getTopicById(n.parent);o.root||e(o)}}(n),i}},{key:"clearCache",value:function(){this.lru.clear()}},{key:"render",value:function(){var e=C(k().mark(function e(){var t,n,i,o,a,r,s=this,l=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:function(){},n=l.length>1?l[1]:void 0,!this.isRendering){e.next=3;break}return e.abrupt("return",(this.hasWaitRendering=!0,void this.waitRenderingParams.push([t,n])));case 3:return this.isRendering=!0,i=this.mindTree,o=(new Date).valueOf(),o,a=this.mindMap.mindData.topicAlign,r=[C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.computedBaseValueBefore(i,0,null,a),(new Date).valueOf();case 1:case"end":return e.stop()}},e)})),C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a&&s.computedSameWidth(i),(new Date).valueOf();case 1:case"end":return e.stop()}},e)})),C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.computedBaseValueAfter(i,0,null,a),(new Date).valueOf();case 1:case"end":return e.stop()}},e)})),C(k().mark(function e(){var t;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=s.mindTree)||void 0===t||null===(t=t.freeChildren)||void 0===t||t.forEach(function(e){var t=e._topic;t&&t.getData("versionV5")&&s.getTopicLayout("mindMap").setFreeTopic(t,!0)}),(new Date).valueOf();case 1:case"end":return e.stop()}},e)})),C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.computedTopOrLeftValue(i),(new Date).valueOf();case 1:case"end":return e.stop()}},e)})),C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.computedSummaryTopAndLeft(i);case 1:case"end":return e.stop()}},e)})),C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.drawLine(i);case 1:case"end":return e.stop()}},e)})),C(k().mark(function e(){var a,r,l,d,u,p,m,f,g,v,b,y;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(new Date).valueOf(),s.root=i._topic,s.currentRoot?(s.currentRoot=s.getCacheTopic(s.currentRoot.id),l=0,d=0,s.currentRoot.group?(r=s.currentRoot.group.transform(),l=r.translateX,d=r.translateY):(l=s.currentRoot.left,d=s.currentRoot.top),s.currentRootPos={left:l,top:d}):s.currentRootPos=null,u=0,Date.now(),(0,c.walk)(i._topic,null,function(e){e.renderIndex=u,e.render(),u++}),editorGlobal.mindMap.renderer.lru.pool.forEach(function(e){e.group&&e.group.transform({translate:[e.left,e.top]})}),s.isRendering=!1,"function"==typeof t&&t(),s.currentRoot&&s.currentRootPos)try{p=s.currentRoot.group.transform(),m=p.translateX,f=p.translateY,g=s.currentRootPos,v=g.left,b=g.top,s.updateGroupPosForTopicPos(m,f,v,b)}catch(t){}s.updateSelectedTopicPosition(),s.hasWaitRendering?(y=s.waitRenderingParams,s.hasWaitRendering=!1,s.waitRenderingParams=[],y.forEach(function(e){return s.render.apply(s,h(e))})):(s.handleRenderCompletion(a,o,n),s.reRender&&(s.reRender=!1));case 6:case"end":return e.stop()}},e)}))],e.next=8,(0,c.asyncRun)(r);case 8:this.updateTopicsLen(),this.updateTopicsTextLen(),this.mindMap.emit("rendered");case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleRenderCompletion",value:function(){var e=C(k().mark(function e(t,n,i){var o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector("#po-global-loading-wrap")&&document.querySelector("#po-global-loading-wrap").remove(),(new Date).valueOf(),this.reRender?(this.mindMap.opt.readonly||(o=this.currentRoot||(this.root.showTopicView?this.root:this.root.children[0]))&&o.selected(),this.mindMap.emit("loadsuccess"),this.startDetectResourceLoadTime=Date.now(),this.detectResourceLoad("reRender")):"export"===i&&(this.startDetectResourceLoadTime=Date.now(),this.detectResourceLoad(i));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"detectResourceLoad",value:function(){var e=C(k().mark(function e(t){var n,i,o,a=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,this.mindMap.code&&(this.mindMap.code.loaded||(n=!1)),i=!0,"loading"===document.fonts.status?(this.isWillRenderAfterLoadedFont=!0,i=!1,document.fonts.ready.finally(C(k().mark(function e(){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.isWillRenderAfterLoadedFont&&(a.isWillRenderAfterLoadedFont=!1,a.needRenderTopicListAfterLoadFont.forEach(function(e){var t=a.getCacheTopic(e);t&&(t.isRerender=!0)}),a.needRenderTopicListAfterLoadFont=[],a.mindMap.render());case 1:case"end":return e.stop()}},e)})))):this.isWillRenderAfterLoadedFont=!1,o=Date.now()-this.startDetectResourceLoadTime>this.detectResourceLoadTimeOut,n&&i||o?(clearTimeout(this.detectResourceLoadTimer),this.detectResourceLoadTimer=null,["reRender","export"].includes(t)&&this.mindMap.emit("resourceLoadSuccess")):this.detectResourceLoadTimer=setTimeout(function(){a.detectResourceLoad(t)},100);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateGroupPosForTopicPos",value:function(e,t,n,i){i-t!=0&&this.mindMap.view.translateY(i-t),n-e!=0&&this.mindMap.view.translateX(n-e)}},{key:"updateSelectedTopicPosition",value:function(){if(this.selectTopicPos)for(var e in this.selectTopicPos){var t=this.getCacheTopic(e);if(!t)return;var n=(0,c.checkTopicOuter)(this.mindMap,{left:t.left,top:t.top,width:t.width,height:t.height},-50).isOuter;if(this.mindMap.opt.unfoldNodeNotMoveCenter&&!n)return;var i=t.getRectInSvg(),o=i.top,a=i.left,r=this.selectTopicPos[e],s=r.top,l=r.left;this.updateGroupPosForTopicPos(a,o,l,s)}}},{key:"computedBaseValueBefore",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,c.walk)(e,null,function(e,n,i,o,a,s,l){if(e.summary){var d,u=r((0,c.getRange)(e.range),1)[0],p=n.children[u];if(!p||null===(d=p._topic)||void 0===d||!d.checkSupportAddSUmmaryAndBoundary())return e._topic&&t.destroyRemoveTopicsInstance(e._topic,!1),!0}if(t.filterTopicIds.length>0){var h=new Set;t.filterTopicIds.forEach(function(e){h.add(e),t.getParentIdsByTopicId(e).forEach(function(e){h.add(e)})}),h.has(e.id)&&t.getTopicLayout(o).computedBaseValueBefore(e,n,i,o,a,s,l)}else t.getTopicLayout(o).computedBaseValueBefore(e,n,i,o,a,s,l);if(e.collapsed)return!0},null,e.root,this.layout,n)}},{key:"computedBaseValueAfter",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,c.walk)(e,null,function(e,t){if(!e._topic)return!0;if(e.summary){var n,i=r((0,c.getRange)(e.range),1)[0],o=t.children[i];if(!o||null===(n=o._topic)||void 0===n||!n.checkSupportAddSUmmaryAndBoundary())return!0}return!!e.collapsed||void 0},function(e,n,i,o,a,r){if(!e._topic)return!0;var s=e._topic;(null!=s&&s.needReset||s.isRoot||s.layout===d.CONSTANTS.LAYOUT.FISHBONE)&&(s.needReset=!1,e.collapsed||0===e._topic.children.length?t.getTopicLayout(o).setEmptyChildrenTopicHeightAndWidth(s):t.getTopicLayout(o).computedBaseValueAfter(e,n,i,o,a,r))},e.root,this.layout,n)}},{key:"getSameLevelNode",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.root,i=t.targetTopic,o=t.layoutIndexMap,a=void 0===o?{}:o,r=t.layerIndex,s=void 0===r?0:r,l=h(n.children||[]);if(i.id===n.id&&(a.targetLayerIndex=s),!(s>a.targetLayerIndex)&&(0!==s&&(a[s]||(a[s]={},a[s].maxWidth=0,a[s].list=[]),a[s].list.push(n)),l.length>0)){var c=s+1;l.forEach(function(t){e.getSameLevelNode({root:t,targetTopic:i,layerIndex:c,layoutIndexMap:a})})}}},{key:"computedSameWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={},o=function(e,t,n){var i;e[t]||(e[t]={},e[t].maxWidth=0,e[t].maxCustomerWidth=0,e[t].maxMinWidth=0,e[t].list=[]),e[t].list.push(n),i=n.realWidth,delete n.sameCustomeWidth,e[t].maxWidth=Math.max(e[t].maxWidth,i),n.getData("customWidth")&&(e[t].maxCustomerWidth=Math.max(e[t].maxCustomerWidth,n.getData("customWidth"))),e[t].maxMinWidth=Math.max(e[t].maxMinWidth,n.minNodeWidth)};(0,c.walk)(e._topic,n,function(e,t,n,a,r){e.getRootForSummaryNode()?(i.summaries||(i.summaries={}),o(i.summaries,r,e)):e.getRootForFreeNode()?(i.freeChildren||(i.freeChildren={}),o(i.freeChildren,r,e)):n||e.free||e.summary||o(i,r,e)},null,e.root,this.layout,t,!0),function e(t){Object.keys(t).forEach(function(n){if("summaries"===n)e(t.summaries);else if("freeChildren"===n)e(t.freeChildren);else{var i,o=t[n],a=o.list,r=o.maxWidth,s=o.maxCustomerWidth,l=o.maxMinWidth;i=0!==s?l>s?l:s:r,a.forEach(function(e){e.sameCustomeWidth=i,(i!==e.width||e.getData("customWidth"))&&e.reRender({source:"sameWidth"})})}})}(i)}},{key:"computedTopOrLeftValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,c.walk)(e._topic,null,function(e,n,i,o,a){!e.getData("collapsed")&&e.children.length&&t.getTopicLayout(o).computedTopOrLeftValue(e,a)},null,e.root,e._topic.layout,n)}},{key:"computedSummaryTopAndLeft",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,c.walk)(e._topic,null,null,function(e,n,i,o,a){var r;!e.getData("collapsed")&&null!==(r=e.children)&&void 0!==r&&r.length&&e.summaries.length>0&&t.getTopicLayout(o).computedSummaryTopAndLeft(e,e.summaries,a)},e.root,e._topic.layout,n)}},{key:"drawLine",value:function(e){var t=this;(0,c.walk)(e._topic,null,function(e){var n,i;(null===(n=e.topicData)||void 0===n||null===(n=n.boundaries)||void 0===n?void 0:n.length)>0&&0===e.boundaries.length&&(null===(i=e.topicData)||void 0===i||i.boundaries.forEach(function(e){e._topic&&(e._topic.destroy(),t.removeCacheTopic(e.id))})),e.boundaries&&e.boundaries.length>0&&t.mindMap.emit("renderBoundaryShape",e)}),this.mindMap.emit("blurConnection"),this.mindMap.emit("loadConnections")}},{key:"bindEvent",value:function(){var e=this,t=this;this.mindMap.on("svg_mousedown",function(t){var n=(0,c.mousedownButton)(t);"right"!==n&&"middle"!==n&&(e.mouseenterToTopic||requestAnimationFrame(function(){e.clearSelectedTopic()}))}),this.mindMap.on("draw_dblclick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(0,c.isMobile)()){var n=t.mindMap.toSvgPos(e);t.mindMap.execCommand("ADD_FREE_TOPIC",null,n)}}),this.mindMap.on("view_data_change",function(){if(e.selectedTopicList[0]){var t=e.selectedTopicList[0],n=t.getRectInSvg(),i=n.left,o=n.top;e.selectTopicPos=x({},t.id,{left:i,top:o})}}),this.mindMap.on("move_topic_to_center",this.moveTopicToCenter.bind(this)),this.setTopicSelected=this.setTopicSelected.bind(this),this.mindMap.on("set_topic_selected",this.setTopicSelected),this.mindMap.on("setFilterTopicIds",this.setFilterTopicIds.bind(this)),editorGlobal.isGuide&&g.default.buildEvent(this.mindMap)}},{key:"unBindEvent",value:function(){this.mindMap.off("data_change",this.setTopicSelected)}},{key:"setTopicSelected",value:function(e,t){e.topicData.isSelected=t,e.updateNodeBySelected(t)}},{key:"clearSelectedTopic",value:function(){this.selectedTopicList.length<=0||(this.clearSelectedTopicList(),this.emitTopicSelectEvent(null,[]))}},{key:"clearSelectedTopicList",value:function(){var e=this;this.selectedTopicList.forEach(function(t){e.setTopicSelected(t,!1)}),this.selectedTopicList=[],this.mouseenterToTopic=!1}},{key:"addTopicsToSelectedList",value:function(e){var t=this,n=[];e.forEach(function(e){e&&e._topic?t.addTopicToSelectedList(e._topic):e.id&&n.push(t.getTopicById(e.id)||e)}),n.length>0&&setTimeout(function(){t.addTopicsToSelectedList(n)},100)}},{key:"addTopicToSelectedList",value:function(e){-1===this.findSelectedTopicIndex(e)&&(this.setTopicSelected(e,!0),this.selectedTopicList.push(e)),this.selectedTopicList.sort(function(e,t){return e.renderIndex-t.renderIndex})}},{key:"removeNodeFromSelectedList",value:function(e){var t=this.findSelectedTopicIndex(e);-1!==t&&(this.setTopicSelected(e,!1),this.selectedTopicList.splice(t,1))}},{key:"findSelectedTopicIndex",value:function(e){return(0,c.getTopicIndexInTopicList)(e,this.selectedTopicList)}},{key:"selectAll",value:function(){var e=this;this.mindMap.opt.readonly||(this.getLruPool().forEach(function(t){t.boundary||t.isHideSelf()||t.getData("isSelected")||e.addTopicToSelectedList(t)}),this.emitTopicSelectEvent())}},{key:"focusTopic",value:function(){var e=C(k().mark(function e(t){var n,i,o,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mindMap.emit("exitFilter",!0),n=null,i=null,this.filterTopicIds.length>0&&(i=this.filterTopicIds[0]),t!==this.mindTree.id){e.next=6;break}this.filterTopicIds=[],this.currentRoot=null,this.mindMap.emit("focus_topic",this.mindTree.id),this.mindMap.emit("hide_topic_contextmenu"),e.next=10;break;case 6:if(!(n=t?this.getCacheTopic(t):this.getSelectedTopic()).summary){e.next=8;break}return e.abrupt("return");case 8:o=this.getTopicChildren(n.topicData,!0).map(function(e){return e.id}),this.filterTopicIds=h(o),this.mindMap.emit("focus_topic",n);case 10:return this.mindMap.emit("sendMessage","focus",{targetId:t,sourceId:i},!0),e.next=13,this.mindMap.reRender();case 13:(a=t||n.id)!==this.mindTree.id&&(this.clearSelectedTopic(),this.currentRoot=this.getCacheTopic(a),this.currentRoot.selected()),this.moveTopicToCenter(this.currentRoot||{});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setFilterTopicIds",value:function(e){this.filterTopicIds=h(e),this.currentRoot=null,this.clearSelectedTopic(),this.mindMap.reRender()}},{key:"getTopicChildren",value:function(e,t){var n=function e(t){return[].concat(h(t.children||[]),h(t.summaries||[]),h(t.boundaries||[])).reduce(function(t,n){return t.concat(n,e(n))},[])}(e);return t?[e].concat(n):n}},{key:"getMaxLevel",value:function(){var e=0;return(0,c.walk)(this.mindTree,null,function(t,n,i,o,a){e=Math.max(e,a)}),e}},{key:"selectLevel",value:function(e){var t=this;e.isRoot||e.parent.children.forEach(function(e){e.getData("free")||e.getData("isSelected")||t.addTopicToSelectedList(e)}),this.emitTopicSelectEvent()}},{key:"selectAllLevel",value:function(e){var t=this,n=e.layerIndex;this.getLruPool().forEach(function(e){e.layerIndex==n&&(e.getData("free")||e.getData("summary")||e.getData("boundary")||e.getData("isSelected")||t.addTopicToSelectedList(e))}),this.emitTopicSelectEvent()}},{key:"selecSums",value:function(){var e=this;this.getLruPool().forEach(function(t){t.getData("summary")&&e.addTopicToSelectedList(t)}),this.emitTopicSelectEvent()}},{key:"selectFloat",value:function(){var e,t=this;null===(e=this.mindTree)||void 0===e||e.freeChildren.forEach(function(e){t.addTopicToSelectedList(e._topic)}),this.emitTopicSelectEvent()}},{key:"selectByIds",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=(0,c.formatDataToArray)(e),n&&this.clearSelectedTopicList(),e.forEach(function(e){var n=t.getCacheTopic(e);t.addTopicToSelectedList(n)}),this.emitTopicSelectEvent()}},{key:"getSelectedTopic",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.selectedTopicList.length;return this.selectedTopicList[e?t-1:0]}},{key:"getSelectedIds",value:function(){return this.selectedTopicList.map(function(e){return e.id})}},{key:"emitTopicSelectEvent",value:function(){var e=C(k().mark(function e(){var t,n,i,o,a,r,s=this,l=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:null,n=l.length>1&&void 0!==l[1]?l[1]:h(this.selectedTopicList),!1,this.lastSelectedNode!==t||!(0,c.checkNodeListIsEqual)(this.lastselectedTopicList,n),n[0]?(i=n[0],o=i.getRectInSvg(),a=o.left,r=o.top,this.selectTopicPos=x({},i.id,{left:a,top:r})):this.selectTopicPos=null,e.abrupt("return",(this.lastSelectedNode=t,this.lastselectedTopicList=h(n),new Promise(function(e){s.mindMap.batchExecution.push("emitTopicSelectEvent",function(){s.mindMap.emit("topic_selected",t,n),s.updateTopicsLen(),s.updateTopicsTextLen(),e()})})));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getNewTopicBehavior",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!this.checkPermission("mindShapeNum"))return{};e=(0,c.formatDataToArray)(e),t=(0,c.formatDataToArray)(t);var n=e.length>0?e:this.selectedTopicList,i=!1,o=!1;return t.length||1!==n.length||(i=!0),0===t.length&&(o=!0),{list:n,openEditor:i,isSelected:o,insertTopics:t}}},{key:"checkPermission",value:function(e){var t=this,n=!0;return this.mindMap.emit("testVip",e,function(i){if("mindShapeNum"===e&&"number"==typeof i){if(t.mindMap.renderer.getTopicLength()>=i){n=!1;var o=i>150?"addtopic_svip":"addtopic";t.mindMap.emit("vip-limit",o)}}else n=i}),n}},{key:"insertChildTopic",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=this.getNewTopicBehavior(t,n),a=o.list,r=o.openEditor,s=o.isSelected;if(a&&0!==a.length){var l=[],d={},u={};a.forEach(function(t){if(t.getData("collapsed"))$.toast({type:"secondary",text:f.default.t("js.You_cannot_add_subthemes")});else{var n=t.layerIndex+1===1?"subTopic":"childTopic",o=e.createNewTopic(n,t.id,s,r),a=i>=0?i:t.children.length;if(l.push(o),t.isRoot&&void 0===i&&"mind_free"===t.getData("structure")||"mind_free_layout"===t.getData("structure")){var p=(0,c.getPartChildren)(t),h=p.leftChildren,m=p.rightChildren;d[o.id]=h.length>=m.length?"right":"left","right"===d[o.id]&&(a=m.length)}else d[o.id]=t.part;u[o.id]=a}}),0!==l.length&&this.mindMap.execCommand("ADD_TOPIC_MULTI",l,null,u,!0,d)}}},{key:"insertSubTopic",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after",o=this.getNewTopicBehavior(t,n),a=o.list,r=o.openEditor,s=o.isSelected;if(a&&0!==a.length&&!(a.length<=0)){var l=a.find(function(t){return t.isRoot||e.currentRoot&&t.id===e.currentRoot.id});if(l)this.mindMap.execCommand("INSERT_CHILD_TOPIC",[l],void 0,"prev"===i?0:void 0);else{var d=[],u={},p={};a.forEach(function(t){if(!(t.getData("summary")||t.isRoot||t.getData("free"))){var n=1===t.layerIndex?"subTopic":"childTopic",o=e.createNewTopic(n,t.parent.id,s,r),a=(0,c.getTopicIndexInTopicList)(t,t.parent.topicData.children);d.push(o),p[o.id]="prev"===i?a:a+1,u[o.id]=t.part}}),0!==d.length&&this.mindMap.execCommand("ADD_TOPIC_MULTI",d,null,p,!0,u)}}}},{key:"insertParentTopic",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,i=this.getNewTopicBehavior(t,n),o=i.list,a=i.openEditor,r=i.isSelected;if(o&&0!==o.length){var s=(0,c.groupConsecutiveItemsByParentIdAndIndex)(o),l=[],d={},u=[],p={},h={},m={},f=function(t){for(var n=e.getCacheTopic(t).getPureData().children,i=[],o="",f=function(u){var p=s[t][u],m=e.createNewTopic("parentTopic",t,r,a),f=n.splice(p[0],p.length,m);f.forEach(function(t,n){l.push((0,c.copyTopicData)(t)),d[t.id]=p[n],delete t.isSelected,t.parent=m.id,o||(o=e.getCacheTopic(t.id).part),h[t.id]=o}),m.children=f,i.unshift(m)},g=s[t].length-1;g>=0;g--)f(g);i.forEach(function(e){u.push(e);var t=(0,c.getTopicIndexInTopicList)(e,n);p[e.id]=t,m[e.id]=o})};for(var g in s)f(g);0!==l.length&&0!==u.length&&this.mindMap.execCommand("REMOVE_AND_ADD",l,d,h,u,p,m,!0)}}},{key:"addFreeTopic",value:function(e,t){if(!this.mindMap.opt.readonly){if(!this.checkPermission("mindShapeNum"))return{};if(null==this.currentRoot){var n=e||this.createNewTopic("freeTopic",this.mindTree.id,!0);n.pos=t,n.free=!0,this.mindMap.execCommand("ADD_TOPIC_MULTI",[n])}else $.toast({type:"secondary",text:f.default.t("js.Create_a_free_theme_in_focus_mode")})}}},{key:"addTopicMulti",value:function(){var e=C(k().mark(function e(t,n){var i,o,a,r,s,d,u,p,h,m,f,g=this,v=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:{},o=v.length>3?v[3]:void 0,a=v.length>4&&void 0!==v[4]?v[4]:{},r=v.length>5?v[5]:void 0,s=v.length>6?v[6]:void 0,d=v.length>7?v[7]:void 0,0!==(t=(0,c.formatDataToArray)(t).filter(function(e){return g.getTopicById(e.parent)})).length){e.next=3;break}return e.abrupt("return");case 3:return t.forEach(function(e){var t=g.getTopicById(e.parent);if(e.free)t.freeChildren||(t.freeChildren=[]),t.freeChildren.push(e),g.addTopicToList(e);else if(e.summary)t.summaries||(t.summaries=[]),t.summaries.push(e),g.addTopicToList(e);else{var n=(0,c.isUndef)(i[e.id])?t.children.length:i[e.id];t.children||(t.children=[]),t.children.splice(n,0,e),g.addTopicToList(t),g.updateRootData(t.id,n,"add",a[e.id],1,d)}}),u=this.updateBoundary((0,c.copyTopicsData)(t),i,null,n),p=this.updateSummary((0,c.copyTopicsData)(t),i,null,n),r||(h=(0,l.default)(p.updates,u.updates),m=(0,l.default)(p.original,u.original),this.mindMap.emit("sendMessage","create",{content:(0,c.copyTopicsData)(t),index:i,updates:n||h,original:m,newPart:a,"right-content-index":this.mindTree.data["right-content-index"]}),o&&(this.clearSelectedTopic(),t.forEach(function(e){e.isSelected=!0}))),this.setNeedResetTopicList(t),e.next=9,this.mindMap.render();case 9:return s&&s(),e.next=12,this.emitTopicSelectEvent();case 12:if(r){e.next=15;break}(f=this.getSelectedTopic())&&f.getData("openEditor")&&(this.mindMap.emit("to_edit_status",null,f,!1),delete f.topicData.openEditor);case 15:this.mindMap.emit("outline-prebuild",{topics:t});case 16:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"createNewTopic",value:function(e,t,n,i){var o=this.mindMap.opt,a=o.defaultInsertSubTopicText,r=o.defaultInsertChildTopicText,s=o.defaultInsertParentTopicText,l=o.defaultInsertSummaryText,d=o.defaultInsertFreeTopicText,u="";if("mind_org"===this.mindTree.structure&&this.mindTree.hideSelf)u="summary"===e?l||f.default.t("js.Summary"):"<b>Name<b><br>Role";else switch(e){case"subTopic":u=a||f.default.t("js.Subtopics");break;case"parentTopic":u=s||f.default.t("js.Parent_theme");break;case"summary":u=l||f.default.t("js.Summary");break;case"freeTopic":u=d||f.default.t("js.Freedom_Theme");break;default:u=r||f.default.t("js.Subtopic")}var p={children:[],id:(0,c.createId)(),title:u,parent:t};return this.setTopicAutoColor(p),"summary"===e&&(p.summary=!0),n&&(p.isSelected=!0),i&&(p.openEditor=!0),y({},p)}},{key:"removeTopics",value:function(e){var t=this;if(e=e||this.selectedTopicList,!((e=(0,c.formatDataToArray)(e)).length<=0)){var n=this.getAvailableSelected(e);if((n=n.filter(function(e){var n;return e.id!==(null===(n=t.currentRoot)||void 0===n?void 0:n.id)})).length){var i={};if(n.forEach(function(e){var n=t.getCacheTopic(e.id);i[e.id]=n.part}),this.mindTree.hideSelf){var o=this.mindTree._topic.children.map(function(e){return e.id}),a=n.filter(function(e){return o.includes(e.id)});if(a.length>0&&a.length===o.length)return void $.toast({type:"warning",text:f.default.t("Hide_Central_Topic_Restriction")})}var r=n.map(function(e){return t.getTopicById(e.id)});this.mindMap.emit("deleteConnectionByTopics",r,!0),this.mindMap.execCommand("REMOVE_TOPIC_MULTI",r,null,!0,i)}}}},{key:"removeTopicSelf",value:function(){var e=this,t=this.selectedTopicList;if((t=t.filter(function(e){return!e.summary&&!e.root&&!e.free&&0==!e.children.length})).length){var n=[],i={},o=[],a={},r={},s={},l="",d={};t.forEach(function(t){var o=t.getPureData();d[o.parent]||(d[o.parent]=(0,c.copyTopicData)(e.getTopicById(o.parent)));var a=d[o.parent];n.push(o);var s=(0,c.getTopicIndexInTopicList)(o,a.children);i[o.id]=s,l||(l=t.part),r[t.id]=l});var u=(0,c.deepClone)(n);n.forEach(function(e){var t,n=d[e.parent],i=(0,c.getTopicIndexInTopicList)(e,n.children);(t=n.children).splice.apply(t,[i,1].concat(h(e.children))),e.children.forEach(function(e){e.parent=n.id,delete e.isSelected;var t=(0,c.getTopicIndexInTopicList)(e,n.children);o.push(e),a[e.id]=t,s[e.id]=l})}),this.mindMap.execCommand("REMOVE_AND_ADD",u,i,r,o,a,s,!0)}}},{key:"removeTopicMulti",value:function(){var e=C(k().mark(function e(t,n,i){var o,a,r,s,d,u,p,m,f,g,v,b,y,x,w,_,C,T=this,S=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=S.length>3&&void 0!==S[3]?S[3]:{},a=S.length>4?S[4]:void 0,r=S.length>5?S[5]:void 0,s=S.length>6?S[6]:void 0,t.length){e.next=3;break}return e.abrupt("return");case 3:if(d={},u={},p={},m=[],f=(0,c.copyTopicsData)(t),g=!!this.currentRoot,t.forEach(function(e){var t=T.getTopicById(e.parent),n=e.free?t.freeChildren:e.summary?t.summaries:t.children,i=(0,c.getTopicIndexInTopicList)(e,n);if(-1!==i)if(e.free)m.push(i);else{var o=e.summary?u:d;o[t.id]||(o[t.id]=[]),o[t.id].push(i),p[e.id]=i}}),(v=function(e,t){var n=function(n){var i=T.getTopicById(n);e[n].sort(function(e,t){return t-e}).forEach(function(e){var n=t(i).splice(e,1)[0];n.summary||T.updateRootData(i.id,e,"remove",o[n.id],1,s)})};for(var i in e)n(i)})(d,function(e){return e.children}),v(u,function(e){return e.summaries}),m.length>0&&m.sort(function(e,t){return t-e}).forEach(function(e){var t;null===(t=T.mindTree)||void 0===t||t.freeChildren.splice(e,1)}),b=this.updateBoundary(f,p,"delete",n),y=this.updateSummary(f,p,"delete",n),a||(x=(0,l.default)(y.updates,b.updates),w=(0,l.default)(y.original,b.original),_=this.selectedTopicList.map(function(e){return e.id}),this.mindMap.emit("sendMessage","delete",{content:f,index:p,selectedIds:_,updates:n||x,original:w,newPart:o,"right-content-index":this.mindTree.data["right-content-index"]})),i&&(this.clearSelectedTopic(),t.some(function(e){return e.free})||(C=this.getNextSelectedTopic(t.map(function(e){return e.id})))&&this.addTopicToSelectedList(C)),this.setNeedResetTopicList(t),this.destroyRemoveTopicsInstance(h(t)),!a||!g||this.currentRoot&&this.currentRoot.group||!(this.filterTopicIds.length>0)){e.next=18;break}return e.next=16,this.focusTopic(this.root.id);case 16:e.next=20;break;case 18:return e.next=20,this.mindMap.render();case 20:this.emitTopicSelectEvent(),r&&r(),this.mindMap.emit("outline-prebuild",{topics:f});case 23:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"changeToFreeTopic",value:function(){var e=C(k().mark(function e(t,n,i,o,a){var r,s,d,u,p,h,m,g,v,b,y,w,_;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.currentRoot){e.next=2;break}return e.abrupt("return",void $.toast({type:"secondary",text:f.default.t("js.Create_a_free_theme_in_focus_mode")}));case 2:return this.setNeedResetTopicList(t),d=this.getTopicById(t.parent),u=(0,c.getTopicIndexInTopicList)(t,d.children),p=d.children.splice(u,1).pop(),h=p.parent,m=x({},t.id,u),g=this.updateBoundary((0,c.copyTopicsData)(t),m,"delete",n),v=this.updateSummary((0,c.copyTopicsData)(t),m,"delete",n),p.parent=this.mindTree.id,p.free=!0,p.pos={x:i.x,y:i.y},b=null===(r=this.getCacheTopic(t.id))||void 0===r?void 0:r.part,this.updateRootData(d.id,u,"remove",b),null===(s=this.mindTree)||void 0===s||s.freeChildren.push(p),a||(y=(0,l.default)(v.updates,g.updates),w=(0,l.default)(v.original,g.original),this.mindMap.emit("sendMessage","changeToFreeTopic",{content:(0,c.copyTopicData)(p),original:h,index:m,updates:n||y,updates_origi:w,part:b,"right-content-index":this.mindTree.data["right-content-index"]}),o&&(this.clearSelectedTopic(),t.isSelected=!0)),(_=this.getCacheTopic(t.id))&&this.destroyRemoveTopicsInstance(_,!1),e.next=13,this.mindMap.render();case 13:this.emitTopicSelectEvent();case 14:case"end":return e.stop()}},e,this)}));return function(t,n,i,o,a){return e.apply(this,arguments)}}()},{key:"updateTopicPos",value:function(){var e=C(k().mark(function e(t,n,i,o,a,s,l,d,u){var p,m,f,g,v,b,y,x,w,_,C,T,S,M,D,E,A,F,I,O,L=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,c.formatDataToArray)(t),n=(0,c.formatDataToArray)(n),i){e.next=2;break}return e.abrupt("return");case 2:if(i=this.getTopicById(i.id),m={},f={},g={},v={},b={},y={},x={},w={},t.forEach(function(e){var t=L.getTopicById(e.parent),n=e.free?t.freeChildren:t.children,i=(0,c.getTopicIndexInTopicList)(e,n);w[t.id]||(w[t.id]=(0,c.copyTopicData)(t)),x[e.id]=i}),_=[],t.forEach(function(e){var t=L.getTopicById(e.parent),n={};if(e.free){var a=(0,c.getTopicIndexInTopicList)(e,t.freeChildren);delete(n=t.freeChildren.splice(a,1).pop()).free,delete n.pos}else{var r=(0,c.getTopicIndexInTopicList)(e,t.children);t.id===i.id&&r<o&&o--,n=t.children.splice(r,1).pop();var s=L.getCacheTopic(e.id);s&&(y[e.id]=s.part),L.updateRootData(t.id,r,"remove",y[e.id],1,u)}n.parent=i.id,_.push(n)}),this.destroyRemoveTopicsInstance(h(t),!1),C={},T={},!a){for(D in f=this.updateBoundary((0,c.copyTopicsData)(n),x,"delete",null),m=this.updateSummary((0,c.copyTopicsData)(n),x,"delete",null),S=m.updates,M=f.updates,S)S[D].forEach(function(e){if(e.removed){var t=r((0,c.getRange)(e.range),1)[0],n=w[e.parent];C[e.id]={beginId:n.children[t].id,generalize:e}}});for(E in M)M[E].forEach(function(e){if(e.removed){var t=r((0,c.getRange)(e.range),1)[0],n=w[e.parent];T[e.id]={beginId:n.children[t].id,generalize:e}}})}return A=(0,c.getPartChildren)(i),F=A.rightChildren,I="right"===l?F:i.children,o=-1===o?I.length:o,(p=i.children).splice.apply(p,[o,0].concat(_)),O={},_.forEach(function(e){b[e.id]=l,e.free||e.summary||L.updateRootData(i.id,o,"add",l,1,u),L.setTopicAutoColor(e),O[e.id]=o,o++}),v=this.updateBoundary((0,c.copyTopicsData)(_),O,null,a),g=this.updateSummary((0,c.copyTopicsData)(_),O,null,a),this.mindMap.summary&&(g=this.mindMap.summary.getRemovedGeneralizes(g,C,i.id)),this.mindMap.boundary&&(v=this.mindMap.boundary.getRemovedGeneralizes(v,T,i.id)),d||(this.mindMap.emit("sendMessage","updatePos",{content:(0,c.copyTopicsData)(_),original:(0,c.copyTopicsData)(n),newIndex:O,oldIndex:x,oldSums:m,newSums:g,oldBounds:f,newBounds:v,newPart:b,oldPart:y,"right-content-index":this.mindTree.data["right-content-index"]}),s&&(this.clearSelectedTopic(),t.forEach(function(e){e.isSelected=!0}))),this.setNeedResetTopicList(null,!0),e.next=22,this.mindMap.render();case 22:this.emitTopicSelectEvent(),this.mindMap.emit("outline-prebuild",{topics:[this.root.getPureData()],rebuild:"current"});case 24:case"end":return e.stop()}},e,this)}));return function(t,n,i,o,a,r,s,l,c){return e.apply(this,arguments)}}()},{key:"_updateTopicPos",value:function(){var e=C(k().mark(function e(t,n,i,o,a,r,s,l,d,u,p,m,f){var g,v,b,y,x,w=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{},{},{},{},x={},i.forEach(function(e){var t=w.getTopicById(e.parent),n=e.free?t.freeChildren:t.children,i=(0,c.getTopicIndexInTopicList)(e,n);if(x[e.id]=i,!e.free){var o=p[e.id];w.updateRootData(t.id,i,"remove",o,1,f)}n.splice(i,1)}),v=this.updateBoundary((0,c.copyTopicsData)(i),x,"delete",l),g=this.updateSummary((0,c.copyTopicsData)(i),x,"delete",r),this.destroyRemoveTopicsInstance(h(i),!1),t.sort(function(e,t){return n[e.id]-n[t.id]}),t.forEach(function(e){var t,i=w.getTopicById(e.parent),o=n[e.id];if(o>i.children.length&&(o=i.children.length-1),o<0&&(o=0),e.free?null===(t=w.mindTree)||void 0===t||t.freeChildren.push(e):i.children.splice(o,0,e),n[e.id]=o,w.addTopicToList(i),!e.free&&!e.summary){var a=u[e.id];w.updateRootData(i.id,o,"add",a,1,f)}}),y=this.updateBoundary((0,c.copyTopicsData)(t),n,null,s),b=this.updateSummary((0,c.copyTopicsData)(t),n,null,a),m||(this.mindMap.emit("sendMessage","updatePos",{content:(0,c.copyTopicsData)(t),original:(0,c.copyTopicsData)(i),newIndex:n,oldIndex:x,oldSums:g,newSums:b,oldBounds:v,newBounds:y,newPart:u,oldPart:p,"right-content-index":this.mindTree.data["right-content-index"]}),d&&(this.clearSelectedTopic(),t.forEach(function(e){e.isSelected=!0}))),this.setNeedResetTopicList(null,!0),e.next=14,this.mindMap.render();case 14:this.emitTopicSelectEvent(),this.mindMap.emit("outline-prebuild",{topics:[this.root.getPureData()],rebuild:"current"});case 16:case"end":return e.stop()}},e,this)}));return function(t,n,i,o,a,r,s,l,c,d,u,p,h){return e.apply(this,arguments)}}()},{key:"removeAndAdd",value:function(){var e=C(k().mark(function e(t,n){var i,o,a,s,l,d,u,p,h,m,f,g=this,v=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.length>2&&void 0!==v[2]?v[2]:{},o=v.length>3?v[3]:void 0,a=v.length>4?v[4]:void 0,s=v.length>5&&void 0!==v[5]?v[5]:{},l=v.length>6?v[6]:void 0,d=v.length>7?v[7]:void 0,u=v.length>8?v[8]:void 0,t=(0,c.formatDataToArray)(t),p={},t.forEach(function(e){var t=g.getTopicById(e.parent);p[t.id]||(p[t.id]=(0,c.copyTopicData)(t))}),h=[],t.forEach(function(e){h.push((0,c.copyTopicData)(e));var t=g.getTopicById(e.parent),n=(0,c.getTopicIndexInTopicList)(e,t.children);t.children.splice(n,1).pop();var o=i[e.id];g.updateRootData(t.id,n,"remove",o,1,u)}),this.setNeedResetTopicList(t),this.destroyRemoveTopicsInstance(t),m={},o.forEach(function(e){var t,n,i,o=g.getTopicById(e.parent),l=null!==(t=a[e.id])&&void 0!==t?t:o.children.length-1;g.setTopicAutoColor(e),o.children.splice(l,0,e),m[e.id]=l;var d=s[e.id];g.updateRootData(o.id,l,"add",d,1,u),(null===(n=o.summaries)||void 0===n?void 0:n.length)>0&&o.summaries.forEach(function(e){var t=r((0,c.getRange)(e.range),2),n=t[0],i=t[1];i>o.children.length-1&&(i=o.children.length-1,e.range="".concat(n,",").concat(i))}),null!==(i=o.boundaries)&&void 0!==i&&i.length&&o.boundaries.forEach(function(e){var t=r((0,c.getRange)(e.range),2),n=t[0],i=t[1];i>o.children.length-1&&(i=o.children.length-1,e.range="".concat(n,",").concat(i))})}),this.resetTopicList(),d||(this.mindMap.emit("sendMessage","removeAndAdd",{removeTopics:(0,c.copyTopicsData)(t),removedIndexs:n,removePart:i,addTopics:(0,c.copyTopicsData)(o),addIndexs:a,addPart:s,"right-content-index":this.mindTree.data["right-content-index"]}),l&&(this.clearSelectedTopic(),o.forEach(function(e){e.isSelected=!0}))),this.setNeedResetTopicList(o),e.next=13,this.mindMap.render();case 13:return e.next=15,this.emitTopicSelectEvent();case 15:if(d){e.next=18;break}(f=this.getSelectedTopic())&&f.getData("openEditor")&&(this.mindMap.emit("to_edit_status",null,f,!1),delete f.topicData.openEditor);case 18:this.mindMap.emit("outline-prebuild",{topics:[this.root.getPureData()],rebuild:"current"});case 19:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"toggleTopicExpand",value:function(e){e&&(e.getData("collapsed")?this.mindMap.execCommand("SHOW_TOPICS",e.id):this.mindMap.execCommand("HIDE_TOPICS",e.id))}},{key:"showHideTopicById",value:function(e){for(var t=this.topicsList[e],n=[],i=this.topicsList[t.parent];i;)i.collapsed&&n.push(i.id),i=this.topicsList[i.parent];this.showTopics(n)}},{key:"setNeedResetTopicList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=(0,c.formatDataToArray)(t),this.mindTree.topicAlign&&(n=!0);try{if(n)this.lru.pool.forEach(function(e){e.needReset=!0});else{t.forEach(function(t){t&&function t(n){var i=e.getTopicById(n);if(i){var o,a=i._topic;if(a)(a.summary||a.boundary)&&((null===(o=a.parent)||void 0===o?void 0:o.children)||[]).forEach(function(e){t(e.id)}),a.needReset=!0;if(!i.root){var r,s=e.getCacheTopic(i.parent);s&&(null===(r=s.children)||void 0===r||r.forEach(function(e){e.needReset=!0}))}i.parent&&t(i.parent)}}("string"==typeof t?t:t.id)})}}catch(t){this.lru.pool.forEach(function(e){e&&(e.needReset=!0)})}}},{key:"showTopics",value:function(){var e=C(k().mark(function e(){var t,n,i,o=this,a=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:[],n=a.length>1?a[1]:void 0,0!==(t=(0,c.formatDataToArray)(t)).length){e.next=3;break}return e.abrupt("return");case 3:return i=[],t.forEach(function(e){var t=o.getTopicById(e);t.collapsed&&(i.push(e),t.collapsed=!1)}),n||editorGlobal.mindMap.opt.readonly||this.mindMap.emit("sendMessage","showTopics",{ids:i}),this.mindMap.emit("showTopicsConnectLine",t.map(function(e){return o.getTopicById(e)})),this.setNeedResetTopicList(t),e.next=10,this.mindMap.render();case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"hideTopics",value:function(){var e=C(k().mark(function e(){var t,n,i,o,a,r=this,s=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:[],n=s.length>1?s[1]:void 0,0!==(t=(0,c.formatDataToArray)(t)).length){e.next=3;break}return e.abrupt("return");case 3:if(i=!!this.currentRoot,o=[],a=[],t.forEach(function(e){var t,n=r.getTopicById(e);!n.collapsed&&!n.root&&(null===(t=n.children)||void 0===t?void 0:t.length)>0&&(o.push(e),n.collapsed=!0,n._topic&&a.push(n._topic))}),e.t0=0!==o.length,!e.t0){e.next=18;break}if(n||editorGlobal.mindMap.opt.readonly||this.mindMap.emit("sendMessage","hideTopics",{ids:o}),this.setNeedResetTopicList(t),this.destroyRemoveTopicsChildrenInstance(a),this.mindMap.emit("hideTopicsConnectLine",o.map(function(e){return r.getTopicById(e)})),!n||!i||this.currentRoot&&this.currentRoot.group||!(this.filterTopicIds.length>0)){e.next=16;break}return e.next=14,this.focusTopic(this.root.id);case 14:e.next=18;break;case 16:return e.next=18,this.mindMap.render();case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"checkAllIsCollapsed",value:function(){var e,t=!0,n=this.root,i=n.children,o=n.freeChildren,a=n.summaries,r=v([].concat(h(i),h(o),h(a)));try{for(r.s();!(e=r.n()).done;){var s=e.value;if(!s.getData("collapsed")&&s.children.length>0){t=!1;break}}}catch(l){r.e(l)}finally{r.f()}return t}},{key:"checkParentIsCollapsed",value:function(e){var t=this,n=this.getTopicById(e);if(null==n)return!1;var i=!1;return function e(n){var o=t.getTopicById(n.parent);o&&(o.collapsed?i=!0:e(o))}(n),i}},{key:"expandOrCollapsedToLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expand",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;"all"===e&&(e="expand"===t?1/0:-1/0);var a=[],r=[];(0,c.walk)(this.mindTree,null,function(i,o,s,l,c){if(s||0==i.children.length||("expand"===t?c<=e&&i.collapsed&&a.push(i.id):c>=e?i.collapsed||r.push(i.id):a.push(i.id)),c>=e&&!n)return!0},null,!0,this.layout,0,0),a.length>0&&this.mindMap.execCommand("SHOW_TOPICS",a,o),r.length>0&&this.mindMap.execCommand("HIDE_TOPICS",r,o),e!==1/0&&e!==-1/0||this.mindMap.opt.enableAutoMoveTopicToCenter&&this.mindMap.execCommand("OUTER_ROOT_MOVE_TO_VIEW"),i&&i({showIds:a,hideIds:r})}},{key:"destroyRemoveTopicsChildrenInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(t=(0,c.formatDataToArray)(t)).forEach(function(t){var n=[].concat(h(t.children),h(t.summaries),h(t.boundaries));n.length>0&&(t.removeLine(),e.destroyRemoveTopicsInstance(n,!1))})}},{key:"destroyRemoveTopicsInstance",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(e=(0,c.formatDataToArray)(e)).forEach(function(e){e&&(0,c.walk)(e,null,function(e){if(e){if(t.hasCacheTopic(e.id)){var i=t.getCacheTopic(e.id);i.destroy(),t.removeCacheTopic(i.id)}n&&delete t.topicsList[e.id]}},null,!0)})}},{key:"parentsIsSelected",value:function(e){var t=!1;if(!e||!e.parentIds.length)return!1;for(var n=0;n<e.parentIds.length;n++){var i=e.parentIds[n],o=this.getCacheTopic(i);if(o&&o.getData("isSelected")){t=!0;break}}return t}},{key:"updateBoundary",value:function(){if(this.mindMap.boundary){var e,t=(e=this.mindMap.boundary).getUpdatedBoundaries.apply(e,arguments);return{updates:t.updates||{},original:t.original||{}}}return{updates:{},original:{}}}},{key:"updateSummary",value:function(){if(this.mindMap.summary){var e,t=(e=this.mindMap.summary).getUpdatedSummaries.apply(e,arguments);return{updates:t.updates||{},original:t.original||{}}}return{updates:{},original:{}}}},{key:"getAvailableSelected",value:function(e){var t=this,n=[],i=[];return e.forEach(function(e){e&&0!==e.layerIndex&&(i.indexOf(e.id)>=0||e.layerIndex>1&&t.parentsIsSelected(e)||(i.push(e.id),n.push(e)))}),n}},{key:"getNewNodeBehavior",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1,i=!1;switch(this.mindMap.opt.createNewNodeBehavior){case d.CONSTANTS.CREATE_NEW_NODE_BEHAVIOR.DEFAULT:n=t||!e,i=!t&&e;break;case d.CONSTANTS.CREATE_NEW_NODE_BEHAVIOR.NOT_ACTIVE:n=!1,i=!1;break;case d.CONSTANTS.CREATE_NEW_NODE_BEHAVIOR.ACTIVE_ONLY:n=!0,i=!1}return{focusNewNode:n,inserting:i}}},{key:"toggleSelectedExpand",value:function(){var e=this.getSelectedTopic();this.mindMap.execCommand("TOGGLE_TOPIC_EXPAND",e)}},{key:"setTopicData",value:function(e,t){e&&Object.keys(t).forEach(function(n){"deleteKey"===t[n]?e.topicData[n]&&delete e.topicData[n]:e.topicData[n]=t[n]})}},{key:"deleteTopicData",value:function(e,t){delete e.topicData[t]}},{key:"updateTopicData",value:function(e,t){var n=this;e.forEach(function(e){if(e){var i=n.getCacheTopic(e.id),o=e;t&&("style"===t?o={style:e.style,lineStyle:e.lineStyle,title:e.title}:"clearStyle"===t?o=e.style||e.lineStyle||e.customWidth?{style:e.style,lineStyle:e.lineStyle,title:e.title}:{style:"deleteKey",lineStyle:"deleteKey",customWidth:"deleteKey"}:(o=x({},t,e[t]),"image"===t&&e.code&&(o.code=e.code),"code"===t&&e.image&&(o.image=e.image))),n.setTopicData(i,o)}})}},{key:"updateTopicNode",value:function(){var e=C(k().mark(function e(t,n,i,o){var a,r,s,l,d,u,p,h,m,f,g=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,c.formatDataToArray)(t),n=(0,c.formatDataToArray)(n),a=[],t.forEach(function(e){if(e){var t=g.getCacheTopic(e.id);switch(a.push(t),i){case"hideSelf":e.hideSelf?(t.destroy(),g.mindMap.emit("hideTopicsConnectLine",[t],!0)):g.mindMap.emit("showTopicsConnectLine",[t],!0),g.mindMap.emit("updatePageStyle");break;case"pos":g.setNeedResetTopicList(t.getTopicChildren()),delete e.versionV5;break;case"enableFreeDrag":e.children.forEach(function(e){e.free||delete e.pos});break;case"number":(0,c.walk)(t,null,function(e,t,n,i,o){if(o>3)return!0;e.isRerender=!0})}}}),o||(r=(r=(0,c.copyTopicsData)(t)).map(function(e){return e.children=[],e.freeChildren&&(e.freeChildren=[]),e}),s=(s=(0,c.copyTopicsData)(n)).map(function(e){return e.children=[],e.freeChildren&&(e.freeChildren=[]),e}),this.mindMap.emit("sendMessage","update",{content:r,original:s,type:i})),"pos"===i&&(this.selectTopicPos=null),"layout"===i&&(l=[],a.forEach(function(e){(0,c.walk)(e,null,function(e){l.push(e)})}),this.setNeedResetTopicList(l)),e.next=6,this.reRenderNodeCheckChange(a);case 6:if(!["layout","style","customWidth"].includes(i)){e.next=9;break}u=this.getCacheTopic(null===(d=t[0])||void 0===d?void 0:d.id),1==t.length&&this.mindMap.emit("topic_style_echo",u,[u]);case 9:["tags","title"].includes(i)&&("title"===i&&(p=t.find(function(e){return"root"===e.id}))&&this.saveTitle(p.title),h=(0,c.getTopAncestors)(t),this.mindMap.emit("outline-prebuild",{topics:h})),["code","image"].includes(i)&&t.forEach(function(e){g.moveTopicToClientView(e)}),o||"code"!==i||1!==t.length||n[0].code||!t[0]||(f=this.getCacheTopic(null===(m=t[0])||void 0===m?void 0:m.id),setTimeout(function(){null==f||f.focusCode()},100)),this.mindMap.emit("updateTopicNode",i,t,n);case 12:case"end":return e.stop()}},e,this)}));return function(t,n,i,o){return e.apply(this,arguments)}}()},{key:"saveTitle",value:function(e){var t=editorGlobal.chartObj.title;t&&"未命名文件"==t&&(t=f.default.t("js.Unnamed_file")),""!=e&&null!=e&&t.indexOf(f.default.t("js.Unnamed_file"))>-1&&setTimeout(function(){editorGlobal.mindMap.emit("saveTitle",e)},800)}},{key:"updateTopicText",value:function(){var e=C(k().mark(function e(t,n){var i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:i=t.getPureData(),this.setTopicData(t,{title:n}),this.mindMap.execCommand("UPDATE_TOPIC_NODE",t.topicData,i,"title");case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTopicWidth",value:function(){var e=C(k().mark(function e(t,n){var i,o,a,r,s,l,c=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Array.isArray(t)?t:[t],o=[],a=[],r=[],s={},l=function(e,t,n){var i=e.getPureData(),o=e.getPureData();"delete"===n?delete i.customWidth:i.customWidth=t,a.push(i),r.push(o)},i.forEach(function(e){var t=0===n?e.width:n,i=e.getPureData(),a=e.parentIds;if("auto"===n)c.deleteTopicData(e,"customWidth"),o.push(e),l(e,"","delete");else if(!c.mindMap.mindData.topicAlign||e.free||e.summary)l(e,t),c.setTopicData(e,{customWidth:t}),o.push(e);else{var r,d=c.mindTree;if(a.length>1){var u=e.getRootForSummaryNode(),p=c.getCacheTopic(a[a.length-2]);d=u?u.topicData:p.free?p.topicData:c.getCacheTopic(a[a.length-1]).topicData}else d=c.getCacheTopic(a[0]).topicData;c.getSameLevelNode({root:d,targetTopic:i,layoutIndexMap:s}),null===(r=s[s.targetLayerIndex])||void 0===r||r.list.forEach(function(e){delete e._topic.sameCustomeWidth,o.push(e._topic),(e.customWidth||e.id===i.id)&&(l(e._topic,t),c.setTopicData(e._topic,{customWidth:t}))})}}),e.next=4,this.reRenderNodeCheckChange(o);case 4:this.mindMap.execCommand("UPDATE_TOPIC_NODE",a,r,"customWidth"),this.mindMap.emit("topic_style_echo",i[0],i);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateSameLevelTopicAlign",value:function(){var e=C(k().mark(function e(t,n){var i;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return");case 2:return i=this.mindMap.mindData.topicAlign,this.mindMap.mindData.topicAlign=t,this.setNeedResetTopicList(null,!0),e.next=7,this.mindMap.render();case 7:n||this.mindMap.emit("sendMessage","setTopicAlign",{content:{topicAlign:t},original:{topicAlign:i}});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTopicImage",value:function(e,t,n,i,o){if(e){var a=this.getCacheTopic(e.id),r=!1;i&&(r=!0);var s=(0,c.copyTopicsData)(e),l=(0,c.copyTopicsData)(t);o||this.mindMap.emit("sendMessage","update",{content:(0,c.copyTopicsData)(s),original:(0,c.copyTopicsData)(l),type:"image",imgPosChange:{resize:!1,direction:r}}),this.reRenderNodeCheckChange(a)}}},{key:"changeTopicStructure",value:function(e,t){if(0!==e.length){var n=t,i=e.map(function(e){return(0,c.copyTopicData)(e)}),o=[];e.forEach(function(e){var t=e.topicData;t.layout=n,o.push(t)}),o.length>0&&this.mindMap.execCommand("UPDATE_TOPIC_NODE",o,i,"layout")}}},{key:"setTopicCodeBlock",value:function(e){this.mindMap.emit("setCodeBlock",e)}},{key:"selLevel",value:function(e){var t=e.type;if(!this.mindMap.opt.readonly){var n=this.selectedTopicList[0];switch(t){case"cur_all":this.selectAllLevel(n);break;case"cur_sub":this.selectLevel(n);break;case"summary_all":this.selecSums();break;case"free_all":this.selectFloat()}}}},{key:"reRenderNodeCheckChange",value:function(){var e=C(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=(0,c.formatDataToArray)(t)).forEach(function(e){e&&e.reRender()}),this.setNeedResetTopicList(t),e.next=4,this.mindMap.render();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getNextSelectedTopic",value:function(e){var t=null,n=this.getCacheTopic(e[e.length-1])||this.selectedNodeList[this.selectedNodeList.length-1];if(n){var i=(0,c.getPartChildren)(n.parent),o=i.leftChildren,a=i.rightChildren,r="right"===n.part?a:o;r=r.filter(function(t){return t.id===n.id||!e.includes(t.id)});var s=(0,c.getTopicIndexInTopicList)(n,r);if(1===r.length)return n.parent;s-1>=0?t=r[s-1]:s+1<=r.length-1&&(t=r[s+1])}return t}},{key:"back",value:function(){}},{key:"forward",value:function(){}},{key:"registerCommands",value:function(){var e=this;this.mindMap.command.add("BACK",this.back.bind(this)),this.mindMap.command.add("FORWARD",this.forward.bind(this)),this.mindMap.command.add("INSERT_TOPIC",this.insertSubTopic.bind(this)),this.mindMap.command.add("INSERT_CHILD_TOPIC",this.insertChildTopic.bind(this)),this.mindMap.command.add("INSERT_PARENT_TOPIC",this.insertParentTopic.bind(this)),this.mindMap.command.add("ADD_TOPIC_MULTI",this.addTopicMulti.bind(this)),this.mindMap.command.add("ADD_FREE_TOPIC",this.addFreeTopic.bind(this)),this.mindMap.command.add("REMOVE_TOPIC",this.removeTopics.bind(this)),this.mindMap.command.add("REMOVE_TOPIC_MULTI",this.removeTopicMulti.bind(this)),this.mindMap.command.add("REMOVE_CURRENT_NODE",this.removeTopicSelf.bind(this)),this.mindMap.command.add("SET_TOPIC_ACTIVE",this.setTopicSelected.bind(this)),this.mindMap.command.add("CLEAR_ALL_SELECTED_TOPIC",this.clearSelectedTopic.bind(this)),this.mindMap.command.add("DELETE_TOPIC_DATA",this.deleteTopicData.bind(this)),this.mindMap.command.add("UPDATE_TOPIC_DATA",this.updateTopicData.bind(this)),this.mindMap.command.add("UPDATE_TOPIC_NODE",this.updateTopicNode.bind(this)),this.mindMap.command.add("UPDATE_TOPIC_TEXT",this.updateTopicText.bind(this)),this.mindMap.command.add("UPDATE_TOPIC_WIDTH",this.updateTopicWidth.bind(this)),this.mindMap.command.add("UPDATE_SAME_LEVEL_TOPIC_ALIGN",this.updateSameLevelTopicAlign.bind(this)),this.mindMap.command.add("UPDATE_TOPIC_POS",this.updateTopicPos.bind(this)),this.mindMap.command.add("_UPDATE_TOPIC_POS",this._updateTopicPos.bind(this)),this.mindMap.command.add("CHANGE_TO_FREE_TOPIC",this.changeToFreeTopic.bind(this)),this.mindMap.command.add("FOCUS",this.focusTopic.bind(this)),this.mindMap.command.add("REMOVE_AND_ADD",this.removeAndAdd.bind(this)),this.mindMap.command.add("SELECT_ALL",this.selectAll.bind(this)),this.mindMap.command.add("SHOW_TOPICS",this.showTopics.bind(this)),this.mindMap.command.add("SHOW_HIDE_TOPIC",this.showHideTopicById.bind(this)),this.mindMap.command.add("HIDE_TOPICS",this.hideTopics.bind(this)),this.mindMap.command.add("SEL_LEVEL",this.selLevel.bind(this)),this.mindMap.command.add("SET_CODEBLOCK",this.setTopicCodeBlock.bind(this)),this.mindMap.command.add("TOGGLE_TOPIC_EXPAND",this.toggleTopicExpand.bind(this)),this.mindMap.command.add("OUTER_ROOT_MOVE_TO_VIEW",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-50;(0,c.checkTopicOuter)(e.mindMap,e.root,t,!1).isOuter&&(e.moveTopicToCenter(),e.mindMap.view.fillTheCanvas())}),this.mindMap.command.add("COLLAPSED_EXPAND_TO_LEVEL",this.expandOrCollapsedToLevel.bind(this)),this.mindMap.command.add("COPY_NODE",this.copy.bind(this)),this.mindMap.command.add("CUT_NODE",this.cut.bind(this)),this.mindMap.command.add("PASTE_NODE",this.paste.bind(this)),this.mindMap.command.add("CHANGE_TOPIC_STRUCTURE",this.changeTopicStructure.bind(this)),this.mindMap.command.add("SET_BACKGROUND",this.setBackground.bind(this)),this.mindMap.command.add("CHANGE_STRUCTURE",this.changeStructure.bind(this)),this.mindMap.command.add("SET_THEME_DIRECT",this.setThemeDirect.bind(this)),this.mindMap.command.add("SET_THEME_OVER_WRITE",this.setThemeOverWrite.bind(this)),this.mindMap.command.add("SWITCH_MULTIPLE_TOPIC",this.switchMultTopic.bind(this)),this.mindMap.command.add("CHANGE_SKELETON",this.changeSkeleton.bind(this)),this.mindMap.command.add("ADD_TOPICS_TO_SELECTED_LIST",this.addTopicsToSelectedList.bind(this))}},{key:"registerShortcutKeys",value:function(){var e=this;this.mindMap.keyCommand.addShortcut("Spacebar",function(){e.mindMap.emit("to_edit_status",null,e.mindMap.renderer.selectedTopicList[0])}),this.mindMap.keyCommand.addShortcut("Tab|Insert",function(){e.insertChildThrottled()}),this.mindMap.keyCommand.addShortcut("Shift+Enter",function(){e.insertPrevSiblingThrottled()}),this.mindMap.keyCommand.addShortcut("Enter",function(){e.insertSiblingThrottled()}),this.mindMap.keyCommand.addShortcut("Shift+Tab|Shift+Insert",function(){e.insertParentThrottled()}),this.mindMap.keyCommand.addShortcut("Del|Backspace",function(){e.removeNodeThrottled()}),this.mindMap.keyCommand.addShortcut("/",this.toggleSelectedExpand.bind(this)),this.mindMap.keyCommand.addShortcut("Control+a",function(){e.mindMap.execCommand("SELECT_ALL")}),this.mindMap.keyCommand.addShortcut("Control+}",function(){e.mindMap.emit("addSummaries")}),this.mindMap.keyCommand.addShortcut("Control+Del",function(){e.mindMap.execCommand("REMOVE_CURRENT_NODE")}),this.mindMap.keyCommand.addShortcut("Control+Backspace",function(){e.mindMap.execCommand("REMOVE_CURRENT_NODE")}),this.mindMap.on("before_show_text_edit",function(){e.startTextEdit()}),this.mindMap.keyCommand.addShortcut("Control+l",function(){e.mindMap.execCommand("RESET_LAYOUT",e.resetLayout)}),this.mindMap.keyCommand.addShortcut("Control+Up",function(){e.mindMap.execCommand("UP_NODE")}),this.mindMap.keyCommand.addShortcut("Control+Down",function(){e.mindMap.execCommand("DOWN_NODE")}),this.mindMap.keyCommand.addShortcut("Control+c",function(t){e.mindMap.execCommand("COPY_NODE",{e:t})}),this.mindMap.keyCommand.addShortcut("Control+x",function(t){e.mindMap.execCommand("CUT_NODE",{e:t})}),this.mindMap.keyCommand.addShortcut("Control+Enter",function(){e.moveTopicToCenter()}),this.mindMap.keyCommand.addShortcut("Esc",function(){}),this.mindMap.keyCommand.addShortcut("Control+`",function(){var t=e.selectedTopicList[0];!t||t.id==e.mindTree.id||e.filterTopicIds.length&&t.id==e.filterTopicIds[0]?e.mindMap.execCommand("FOCUS",e.mindTree.id):e.mindMap.execCommand("FOCUS",t.id)}),this.mindMap.keyCommand.addShortcut("Control+f",function(){}),this.mindMap.keyCommand.addShortcut("Control+s",function(){e.mindMap.emit("saveOnline","click")}),this.mindMap.keyCommand.addShortcut("Control+r",function(){e.selectedTopicList.length?1==e.selectedTopicList.length&&e.mindMap.emit("openCorner","note"):window.location.reload()}),this.mindMap.keyCommand.addShortcut("Control+k",function(){1==e.selectedTopicList.length&&e.mindMap.emit("openUrlLinkDlg")}),this.mindMap.keyCommand.addShortcut("Control+Shift+i",function(){1==e.selectedTopicList.length&&e.mindMap.emit("openInsertImageDlg")}),this.mindMap.keyCommand.addShortcut("Control+Shift+r",function(){1==e.selectedTopicList.length&&e.mindMap.emit("renderConn")}),this.mindMap.keyCommand.addShortcut("Control+e",function(){1==e.selectedTopicList.length&&e.mindMap.emit("openEquationDlg")}),this.mindMap.keyCommand.addShortcut("Alt+r",function(t){e.mindMap.emit("openCorner","tag")}),this.mindMap.keyCommand.addShortcut("Alt+c",function(){e.mindMap.emit("openCorner","icon"),e.mindMap.emit("renderIconsList",$(".mind-right-detail-icons"))}),this.mindMap.keyCommand.addShortcut("Alt+l",function(){if("v1"===editorGlobal.config.uiType){var t=$(".mind-right-con [tit=task]");if(t.is(":visible"))return e.mindMap.emit("hideCorner","right"),void t.hide()}1==e.selectedTopicList.length&&e.mindMap.emit("openCorner","task")}),this.mindMap.keyCommand.addShortcut("Control+Alt+m",function(){}),this.mindMap.keyCommand.addShortcut("Control+1|Control+2|Control+3|Control+4|Control+5|Control+6|Control+7|Control+8|Control+9",function(){}),this.mindMap.keyCommand.addShortcut("Control+/",function(){if(e.selectedTopicList.length>0)e.mindMap.execCommand("TOGGLE_TOPIC_EXPAND",e.selectedTopicList[0]);else{var t=e.checkAllIsCollapsed()?"expand":"collapse";e.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL","all",t,!0)}}),this.mindMap.keyCommand.addShortcut("Shift+i",function(t){t.preventDefault(),t.stopPropagation(),e.mindMap.emit("openCorner","style")}),this.mindMap.keyCommand.addShortcut("1|F6",function(){e.moveTopicToCenter()}),this.mindMap.keyCommand.addShortcut("Left|Up|Right|Down",function(t){var n=t.keyCode;if(!e.mindMap.opt.readonlyList.presenting){var i=37===n?"left":36===n||38===n?"up":39===n?"right":"down";if(e.selectedTopicList.length>0){var o=e.getNearTopic(i);o&&o.selected(t)}else{var a=e.mindMap.opt.keyboardMoveMapIsReversal?-10:10;switch(i){case"left":e.mindMap.view.translateX(-a);break;case"up":e.mindMap.view.translateY(-a);break;case"right":e.mindMap.view.translateX(a);break;case"down":e.mindMap.view.translateY(a)}}}}),this.mindMap.keyCommand.addShortcut("Shift+Left|Shift+Up|Shift+Right|Shift+Down",function(t){var n;t.preventDefault();var i=e.getSelectedTopic();if(i){var o=t.keyCode,a=37===o?"left":36===o||38===o?"up":39===o?"right":"down";if(n=e.getNearTopic(a,!0,!0),!i.isRoot&&n&&n.id!=i.id&&!i.free&&!i.summary&&n.parent&&i.parent&&n.parent.id===i.parent.id){var r=-1,s=(0,c.getTopicIndexInTopicList)(n,i.parent.children);switch(a){case"left":case"up":r=s;break;case"right":case"down":r=s+1}r=r<0?0:r,e.mindMap.execCommand("UPDATE_TOPIC_POS",i.topicData,(0,c.copyTopicData)(i.topicData),i.parent.topicData,r,null,!0)}}}),this.mindMap.keyCommand.addShortcut("Control+Left",function(t){e.mindMap.view.translateX(-10),t.preventDefault()}),this.mindMap.keyCommand.addShortcut("Control+Up",function(t){e.mindMap.view.translateY(-10),t.preventDefault()}),this.mindMap.keyCommand.addShortcut("Control+Right",function(t){e.mindMap.view.translateX(10),t.preventDefault()}),this.mindMap.keyCommand.addShortcut("Control+Down",function(t){e.mindMap.view.translateY(10),t.preventDefault()})}},{key:"getTopicLength",value:function(){var e=Object.values(this.topicsList).reduce(function(e,t){return t.boundary?e:e+1},0);return this.mindTree.hideSelf&&(e=Math.max(e-1,0)),e}},{key:"updateTopicsLen",value:function(){var e=this;(0,c.debounce)(function(){var t=e.getTopicLength();e.mindMap.emit("updateTopicsLen",t,e.selectedTopicList.length)},100,this)()}},{key:"updateTopicsTextLen",value:function(){var e=this;(0,c.debounce)(function(){var t="",n="";Object.values(e.topicsList).forEach(function(e){if(!e.boundary){var i=e.title||"";t+=i,e.isSelected&&(n+=i)}});var i=document.createElement("div");function o(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelectorAll(".equation-text"),i=n.length;if(i>0)for(var o=0;o<i;o++)n[o].remove();return t.textContent.length}document.body.appendChild(i);var a=o(t),r=o(n);i.remove(),e.mindMap.emit("updateTopicsTextLen",a,r)},100,this)()}},{key:"copy",value:function(e){this.copyThrottle(e)}},{key:"cut",value:function(e){this.cutThrottle(e)}},{key:"paste",value:function(e){var t,n;null===(t=e.preventDefault)||void 0===t||t.call(e),null===(n=e.stopPropagation)||void 0===n||n.call(e),this.pasteThrottle(e)}},{key:"stringToNodes",value:function(e,t,n,i){t||(e=(e=(e=(e=(e=(e=e.replace(/\r?\n/g,"<br>")).replace(/\r/g,"<br>")).replace(/\u2029/g,"<br>").replace(/\u2028/g,"<br>")).replace(/\x0a/g,"<br>").replace(/\x0d/g,"")).replace(/[\x0d-\x1f]+/g," ")).replace(/[\u200B-\u200D\uFEFF]/g,""));var o=[];i?o=(e=(e=e.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).split(/<\/?br[^>]*>/):o.push(e);var a=[];function r(e){return t||(e=(e=(e=(e=(e=(e=e.replace(/&nbsp;/g," ")).replace(/&/g,"&amp;")).trim().replace(/\s/g,"&nbsp;")).replace(/<br>/g,"\n")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")),e}return o.forEach(function(e){if(e){var t=/^(&nbsp;)+/.exec(e),i=t?t[0].length/6|0:0,o={id:(0,c.createId)(),children:[],title:r(e)};if(0==i||0==a.length)return o.parent=n,void a.push(o);for(var s=a[a.length-1];--i&&s.children.length;)s=s.children[s.children.length-1];o.parent=s.id,s.children.push(o)}}),a}},{key:"switchMultTopic",value:function(e,t,n){var i,o=(0,c.copyTopicsData)(t),a={},r={},s="",l=this.stringToNodes(null===(i=o[0])||void 0===i?void 0:i.title,n,e,!0),d={},u=this.getTopicById(e),p={};p[t[0].id]=u.children.length-1,s||(s=this.getCacheTopic(o[0].id).part),l.forEach(function(e,t){d[e.id]=u.children.length-1+t,r[e.id]=s}),o.forEach(function(e){return a[e.id]=s}),this.mindMap.execCommand("REMOVE_AND_ADD",o,p,a,l,d,r,!0)}},{key:"moveTopicToCenter",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,i=t.height,o=t.left,a=t.top;void 0!==n&&void 0!==i&&void 0!==o&&void 0!==a||(n=(e=this.currentRoot||this.root).width,i=e.height,o=e.left,a=e.top);var r=this.mindMap.draw.transform(),s=r.scaleX,l=r.scaleY,c=this.formatPosition(this.mindMap.height,i*l)-a*l,d=this.formatPosition(this.mindMap.width,n*s)-o*s;this.mindMap.view.translateXTo(d),this.mindMap.view.translateYTo(c)}},{key:"moveTopicOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.leftOffset,i=void 0===n?0:n,o=t.topOffset,a=void 0===o?0:o,r=e=e||this.currentRoot||this.root,s=r.top,l=r.left;this.mindMap.view.translateXTo(-l+i),this.mindMap.view.translateYTo(-s+a)}},{key:"moveTopicToClientView",value:function(e){if(e){var t=(0,c.checkTopicOuter)(this.mindMap,{left:e.left,top:e.top,width:e.width,height:e.height},("v1"===editorGlobal.config.uiType?-40:-30)+-1*this.mindMap.opt.scrollBarWidth,!1),n=t.isOuter,i=t.offsetLeft,o=t.offsetTop,a=t.elRect,r=t.nodeRect;n&&(0!=o&&Math.abs(r.bottom-r.top)<a.height-60&&this.mindMap.view.translateY(o),0!=i&&Math.abs(r.right-r.left)<a.width-60&&this.mindMap.view.translateX(i))}}},{key:"formatPosition",value:function(e,t){return(e-t)/2}},{key:"resetErrorTopic",value:function(e,t,n){if(e.constructor==Array){var i=[];if("delete"==n){for(var o=0;o<e.length;o++){var a=e[o],r=this.getTopicById(a.id);r&&i.push((0,c.copyTopicData)(r))}return{topics:i}}if("create"==n){for(var s=y({},t),l=0;l<e.length;l++){var d=e[l];if(!this.getTopicById(d.id)&&this.getTopicById(d.parent)){var u=s[d.id],p=this.getCacheTopic(d.parent).part;if(u!=p&&"root"!=d.parent&&(d.part=p,s[d.id]=p),d.summary){var h=e[l];this.restErrorSummary(h)&&i.push((0,c.copyTopicData)(h))}else i.push((0,c.copyTopicData)(d))}}return{topics:i,parts:s}}if("addSummary"==n){for(var m=0;m<e.length;m++){var f=e[m];this.restErrorSummary(f)&&i.push((0,c.copyTopicData)(f))}return{topics:i}}}else if(e.constructor==Object&&"updateSummary"==n){var g=(0,c.copyTopicData)(e);return{topics:this.restErrorSummary(g,"update")?g:null}}}},{key:"restErrorSummary",value:function(e,t){var n=this.getTopicById(e.parent),i=n.summaries,o=Number(e.range.split(",")[0]),a=Number(e.range.split(",")[1]);if((t||!this.getTopicById(e.id))&&n){if("root"===n.id&&"mind_free"===n.structure){var r=n.children.length-1,s=o,l=a,c=!1;o>a&&(s=a,l=o,c=!0),s>r&&(s=r,c=!0),l>r&&(l=r,c=!0),c&&(e.range=s+","+l)}else{var d=n.children;if(o>d.length)return;a>d.length-1&&(a=d.length-1,e.range=o+","+a)}var u=!0;if(i.constructor==Array)for(var p=0;p<i.length;p++)if(i[p].id!==e.id){var h=i[p].range,m=Number(h.split(",")[0]);if(!(o<Number(h.split(",")[1])||a>m)){u=!1;break}}return u}}},{key:"getBackgroundColor",value:function(){var e=this.mindMap.themeConfig,t=this.mindTree;return!1===t.isBackground||"false"===t.isBackground?"transparent":t.background||e.background}},{key:"getAutoColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.mindMap.themeConfig,n=t.autoColor,i=t.colorList;return n&&i?i[e%i.length]:null}},{key:"setTopicAutoColor",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="";if(this.mindMap.themeConfig.autoColor&&n.parent===this.mindTree.id){if(null===(e=n.lineStyle)||void 0===e||!e.randomLineColor){var o=[].concat(h(this.mindTree.children),h(this.mindTree.freeChildren)),a=(0,c.getTopicIndexInTopicList)(n,o);((0,c.isUndef)(a)||a<0)&&(a=o.length),i=this.getAutoColor(a),n.lineStyle||(n.lineStyle={}),n.lineStyle.randomLineColor=i}}else null!==(t=n.lineStyle)&&void 0!==t&&t.randomLineColor&&delete n.lineStyle.randomLineColor,n.lineStyle&&0===Object.keys(n.lineStyle).length&&delete n.lineStyle;return{tp:n,autoColor:i}}},{key:"setBackground",value:function(e,t,n,i,o){var a=this.mindMap.svg,r=this.mindMap.themeConfig,s=this.mindTree,l=s.background||r.background,d=e||r.background;if(null==e&&l&&(d=this.getBackgroundColor()),"backgroundColor"==t?s.backgroundColor&&(l=s.backgroundColor):"backgroundImg"==t?s.backgroundImg&&(l=s.backgroundImg):"isBackground"==t&&(l=void 0===s.isBackground||s.isBackground),"string"==typeof d&&d.indexOf("obqv3yxb1.bkt.clouddn.com")>=0&&(d=d.replace("obqv3yxb1.bkt.clouddn.com","cdn3.processon.com")),"isBackground"!=t&&(s.isBackground||null==s.isBackground)||e||(d="transparent"),"isBackground"==t&&e&&(d=s.background||r.background),!1===o&&(d="transparent"),-1===d.indexOf("url")?a.css("background",d):a.css("background","#fff"),this.mindMap.emit("set_svg_background",d),n){var u={},p={};"backgroundColor"==t?s.backgroundColor=e:"backgroundImg"==t?s.backgroundImg=e:"isBackground"==t&&(s.isBackground=e),"isBackground"!=t&&(s.background=e),null==i&&("backgroundColor"==t?(u.backgroundColor=e,p.backgroundColor=l):"backgroundImg"==t?(u.backgroundImg=e,l.indexOf("url")>=0&&(p.backgroundImg=l)):"isBackground"==t&&(u.isBackground=e,p.isBackground=l),"isBackground"!=t&&(u.background=e,p.background=l),!0===o&&!0!==s.isBackground&&(s.isBackground=!0,u.isBackground=!0,p.isBackground=!1),!1===o&&!1!==s.isBackground&&(s.isBackground=!1,u.isBackground=!1,p.isBackground=!0),this.mindMap.emit("sendMessage","updateBg",{content:u,original:p})),!0===o&&(s.isBackground=!0),!1===o&&(s.isBackground=!1),(0,c.walk)(this.root,null,function(e){e.update()}),this.mindMap.emit("updatePageStyle")}this.mindMap.emit("initToolbarStyle")}},{key:"changeStructure",value:function(){var e=C(k().mark(function e(t,n,i){var o,a,r,s;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.mindTree.structure,this.mindTree.structure=t,this.mindTree.layout&&delete this.mindTree.layout,this.layout=this.mindMap.checkLayoutIsSupport(t),"mind_free"===t&&(a=(0,c.getIndexInChunks)(this.mindTree),r=Math.ceil(a.length/2),s=a.slice(0,r),this.mindTree.data["right-content-index"]=s.flat().length),this.root.getShape()===d.CONSTANTS.SHAPE.FISH&&(this.root.isRerender=!0),n||this.mindMap.emit("sendMessage","updateStructure",{content:t,original:o,"right-content-index":this.mindTree.data["right-content-index"]}),!i){e.next=4;break}return e.abrupt("return",{content:t,original:o});case 4:return this.mindMap.emit("curLayoutEcho"),this.setNeedResetTopicList(null,!0),e.next=8,this.mindMap.render();case 8:this.mindMap.opt.enableAutoMoveTopicToCenter&&this.mindMap.execCommand("OUTER_ROOT_MOVE_TO_VIEW");case 9:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"getNewAutoColorLines",value:function(){var e=this,t=[];return[].concat(h(this.mindTree.children),h(this.mindTree.freeChildren)).forEach(function(n){var i;null===(i=n.lineStyle)||void 0===i||delete i.randomLineColor;var o=e.setTopicAutoColor(n).autoColor;o&&t.push(x({},n.id,{randomLineColor:o}))}),t}},{key:"setThemeDirect",value:function(){var e=C(k().mark(function e(t,n,i){var o,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.mindTree.theme,null!=this.mindTree.classic&&(o=this.mindTree.classic,delete this.mindTree.classic,this.mindTree.theme=o),null==t&&""==t||("object"==w(t)&&(t=JSON.stringify(t)),this.mindTree.theme=t),!i){e.next=3;break}return e.abrupt("return",{content:t,original:o});case 3:return this.mindMap.initTheme(),a=this.getNewAutoColorLines(),n||this.mindMap.emit("sendMessage","setTheme",{newLines:a,content:t,original:o}),this.setNeedResetTopicList(null,!0),this.lru.pool.forEach(function(e){e.isRerender=!0}),e.next=10,this.mindMap.render();case 10:this.mindMap.emit("freesub_status_echo"),this.mindMap.emit("curThemeEcho","setTheme");case 12:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"setThemeOverWrite",value:function(){var e=C(k().mark(function e(t){var n,i,o,a,r,s,l,c,d=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:[],i=d.length>2&&void 0!==d[2]?d[2]:"delete",o=d.length>3?d[3]:void 0,a=d.length>4?d[4]:void 0,r=this.mindTree,s="",null!=r.classic&&(s=r.classic,delete r.classic,r.theme=s),s=r.theme,null==t&&""==t||(r.theme=t),"delete"===i?(l=this.getStyleTopics(r),0===n.length&&(n=l.map(function(e){return delete e.children,e}))):"add"==i&&this.addTopicStyles(n),!a){e.next=4;break}return e.abrupt("return",{tps:n,content:t,original:s,operate:i});case 4:return this.lru.pool.forEach(function(e){e.isRerender=!0}),this.mindMap.initTheme(),c=this.getNewAutoColorLines(),o||this.mindMap.emit("sendMessage","setThemeOverWrite",{tps:n,newLines:c,content:t,original:s,operate:i}),this.setNeedResetTopicList(null,!0),e.next=10,this.mindMap.render();case 10:this.clearSelectedTopic(),this.mindMap.emit("curThemeEcho","setTheme"),this.mindMap.emit("freesub_status_echo");case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"changeSkeleton",value:function(){var e=C(k().mark(function e(t,n){var i,o,a,r,s,l,d,u,p,h,m,f,g,v,b,y=arguments;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=y.length>2&&void 0!==y[2]&&y[2],d=y.length>3&&void 0!==y[3]?y[3]:[],u=y.length>4&&void 0!==y[4]?y[4]:"delete",p=y.length>5?y[5]:void 0,h="",m="",f="",g="",e.next=3,this.changeStructure(t,!0,!0);case 3:if(i=e.sent,o=i.content,h=void 0===o?"":o,a=i.original,m=void 0===a?"":a,!l){e.next=19;break}return e.next=11,this.setThemeOverWrite(n,d,u,!0,!0);case 11:r=e.sent,f=r.content,g=r.original,d=r.tps,u=r.operate,e.next=25;break;case 19:return e.next=21,this.setThemeDirect(n,!0,!0);case 21:s=e.sent,f=s.content,g=s.original;case 25:return v={structure:h,theme:f},b={structure:m,theme:g},((0,c.isJSONString)(f)?JSON.parse(f):f).hideSelf?(this.mindTree.hideSelf=!0,v.hideSelf=!0):(this.mindTree.hideSelf=!1,v.hideSelf=!1),p||this.mindMap.emit("sendMessage","changeSkeleton",{tps:d,content:v,original:b,operate:u,"right-content-index":this.mindTree.data["right-content-index"]}),this.lru.pool.forEach(function(e){e.isRerender=!0}),this.mindMap.emit("curLayoutEcho"),this.mindMap.emit("curThemeEcho","setTheme"),this.mindMap.emit("freesub_status_echo"),this.setNeedResetTopicList(null,!0),this.mindMap.initTheme(),e.next=36,this.mindMap.render();case 36:this.mindMap.opt.enableAutoMoveTopicToCenter&&this.mindMap.execCommand("OUTER_ROOT_MOVE_TO_VIEW");case 37:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getStyleTopics",value:function(e){var t=[];return(0,c.walk)(e,null,function(n){if(n){var i=(0,c.copyTopicData)(n),o=!1;(n.style||n.lineStyle)&&(delete n.style,delete n.lineStyle,o=!0),n.theme&&n.background&&(delete n.background,o=!0),e.isBackground=!0,e.backgroundColor&&delete e.backgroundColor,e.backgroundImg&&delete e.backgroundImg,n.margin&&(delete n.margin,o=!0),n.boundaries&&n.boundaries.forEach(function(e){e.style&&(t.push((0,c.copyTopicData)(e)),delete e.style)}),o&&t.push(i)}}),t}},{key:"addTopicStyles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(t=(0,c.formatDataToArray)(t)).forEach(function(t){var n=e.getTopicById(t.id),i=(0,c.copyTopicData)(t);i.style&&(n.style=i.style),i.lineStyle&&(n.lineStyle=i.lineStyle),n.theme&&i.background&&(n.background=i.background),i.margin&&(n.margin=i.margin),void 0!==i.isBackground&&(n.isBackground=i.isBackground)})}},{key:"checkCustomiseStyle",value:function(e){var t=!1;return function e(n){if(n.style||n.lineStyle&&!function(e){return!!e.lineStyle&&(1==Object.keys(e.lineStyle).length&&"randomLineColor"==Object.keys(e.lineStyle)[0])}(n)||(n.background||!n.isBackground&&null!=n.isBackground)&&n.root||n.margin&&n.root)return t=!0;var i=n.children,o=n.summaries,a=n.boundaries;n.root&&null!=n.freeChildren&&(i=i.concat(n.freeChildren));for(var r=0,s=i.length;r<s;r++)if(e(i[r])){t=!0;break}if(o)for(var l=0,c=o.length;l<c;l++)if(e(o[l])){t=!0;break}if(a)for(var d=0,u=a.length;d<u;d++)if(e(a[d])){t=!0;break}}(e),t}},{key:"getNearTopic",value:function(e,t){var n=this.getSelectedTopic();if(!n)return null;var i=n.parent,o=n.children,a=n.getLeftChildren(),r=n.getRightChildren(),s=t?[]:n.freeChildren,l=i?i.getLeftChildren():[],c=i?i.getRightChildren():[],d=t?[]:i?i.freeChildren:[],u=t?c:[].concat(h(c),h(d)),p=function(e){return"left"===e?a:r},m=function(e){return"left"===e?l:u},f=function(e,t){return e.findIndex(function(e){return e.id===t})},g=function(e,t,n){return t+n<0||t+n>=e.length?null:e[t+n]};if("left"===e){if(n.isRoot)return a[0]||s[0]||null;if(("up"===n.dir||"down"===n.dir)&&i.isRoot){var v=m(n.part);return g(v,f(v,n.id),-1)}if("org"===n.layout){var b=m(n.part);return g(b,f(b,n.id),-1)}return"left"===n.part?g(a,0,0):i||null}if("right"===e){if(n.isRoot)return r[0]||s[0]||null;if(("up"===n.dir||"down"===n.dir)&&i.isRoot){var y=m(n.part);return g(y,f(y,n.id),1)}if("org"===n.layout){var x=m(n.part);return g(x,f(x,n.id),1)}return"right"===n.part?g(r,0,0):i||null}if("up"===e){if(n.isRoot)return r[0]||s[0]||null;var w=m(n.part),k=f(w,n.id);if("fishbone"===n.layout){if("down"!==n.dir)return g(w,k,-1)||i||null;if(1===n.layoutIndex)return p()[0]||i||null;if(2===n.layoutIndex)return g(w,k,1)}return"down"===n.dir&&"org"===n.layout?i||null:g(w,k,-1)}if("down"===e){if(n.isRoot)return r[0]||s[0]||null;var _=m(n.part),C=f(_,n.id);if("fishbone"===n.layout){if("up"!==n.dir)return g(_,C,-1)||i||null;if(1===n.layoutIndex)return p()[0]||i||null;if(2===n.layoutIndex)return g(_,C,1)}return"down"===n.dir&&"org"===n.layout?g(o,0,0):g(_,C,1)}return null}}]),e}()},67428:function(e,t,n){n(61894),n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.upgradeTheme=void 0;var o=i(n(66603));n(27531),n(38887),n(69268),n(84889),n(14237);var a=i(n(32483)),s=n(52525),l=n(80214),c=n(15240),d=i(n(20990));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.upgradeTheme=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if("v6.1.1"===t.version)return t;var i=(0,c.deepClone)(t);i.id=n;var o=!1;if(i.startType&&i.startType.length>0&&(i.startType.forEach(function(e){switch(e){case"unilateral":i.logic=!0,o=!0;break;case"thinner":i.lineTapering=!0}}),delete i.startType),"caihongpao"===n&&(i.autoColor=!0),(n&&n.includes("jianbihua")||i.title===a.default.t("js.Basic_stick_Lines"))&&(i.freehandType="jianbihua",i.centerTopic.border="2px solid #000000",i.secTopic.border="1.5px solid #000000",i.childTopic.border="1px solid #000000"),n&&n.includes("cute_map")&&(i.freehandType="cute",i.centerTopic.border="3px solid #7a9ec4",i.secTopic.border="2px solid #7a9ec4"),i.centerTopic.border){var u=r(i.centerTopic.border.split(" "),3),h=u[0],m=u[1],f=u[2];i.centerTopic["border-width"]=h,i.centerTopic["border-color"]=f,i.centerTopic["border-style"]=m,delete i.centerTopic.border}if(i.secTopic.border){var g=r(i.secTopic.border.split(" "),3),v=g[0],b=g[1],y=g[2];i.secTopic["border-width"]=v,i.secTopic["border-color"]=y,i.secTopic["border-style"]=b,delete i.secTopic.border}if(i.childTopic.border){var x=r(i.childTopic.border.split(" "),3),w=x[0],k=x[1],_=x[2];i.childTopic["border-width"]=w,i.childTopic["border-color"]=_,i.childTopic["border-style"]=k,delete i.childTopic.border}i.centerTopic["border-style"]||(delete i.centerTopic["border-width"],delete i.centerTopic["border-color"]),i.secTopic["border-style"]||(delete i.secTopic["border-width"],delete i.secTopic["border-color"]),i.childTopic["border-style"]||(delete i.childTopic["border-width"],delete i.childTopic["border-color"]),i.autoColor&&(i.colorList=(0,s.getRadomLineColor)(n),i.secTopic["border-color"]="autoColor",i.childTopic.backgroundColor&&!i.childTopic.background?(i.childTopic.backgroundColor="autoColor",i.childTopic.childBgOpacity=".12",i.childTopic.color="autoColor"):"caihongpao"===n&&(i.childTopic.backgroundColor="autoColor",delete i.childTopic.color),!i.secTopic["border-width"]&&i.secTopic.backgroundColor&&(i.secTopic.backgroundColor="autoColor"),i.childTopic["border-color"]="autoColor"),(i.centerTopic["box-shadow"]||i.centerTopic.boxShadow)&&(delete i.centerTopic["box-shadow"],delete i.centerTopic.boxShadow,i.centerTopic.glassEffect="scriptures"),(i.secTopic["box-shadow"]||i.secTopic.boxShadow)&&(delete i.secTopic["box-shadow"],delete i.secTopic.boxShadow,i.secTopic.glassEffect="scriptures"),(i.childTopic["box-shadow"]||i.childTopic.boxShadow)&&(delete i.childTopic["box-shadow"],delete i.childTopic.boxShadow,i.childTopic.glassEffect="scriptures"),"curve"===i.childTopic.lineStyle.lineType&&(i.childTopic.lineStyle.lineType="bight");var C=e.mindData.structure;if(C.includes("mind_tree_"))i.marginW=25,i.marginH=18;else if(C.includes("mind_timeline"))i.secTopic.lineStyle.underLine&&i.autoColor&&(i.secTopic["border-width"]=i.secTopic.lineStyle.lineWidth,i.secTopic["border-color"]="autoColor",i.secTopic["border-style"]="solid",i.secTopic.shape="underline");else if(C.includes("mind_ishikawa")){if(i.childTopic.lineStyle.underLine){var T=i.childTopic.lineStyle.lineType;"bight"!==T&&"curve"!==T&&delete i.childTopic.lineStyle.underLine}i.secTopic.lineStyle.underLine&&i.autoColor&&(i.secTopic["border-width"]=i.secTopic.lineStyle.lineWidth,i.secTopic["border-color"]="autoColor",i.secTopic["border-style"]="solid",i.secTopic.shape="underline")}else if(C.includes("mind_org"))i.secTopic.lineStyle.underLine&&i.autoColor&&(i.secTopic["border-width"]=i.secTopic.lineStyle.lineWidth,i.secTopic["border-color"]="autoColor",i.secTopic["border-style"]="solid",i.secTopic.shape="underline"),i.marginW=40,i.childMarginH=40;else if("mind_tree"===C)i.secTopic.lineStyle.underLine&&i.autoColor&&(i.secTopic["border-width"]=i.secTopic.lineStyle.lineWidth,i.secTopic["border-color"]="autoColor",i.secTopic["border-style"]="solid",i.secTopic.shape="underline"),i.secTopic.lineStyle.lineType="broken",i.childMarginH=26,i.childMarginH=20;else{if(i.childTopic.lineStyle.underLine){var S=i.childTopic.lineStyle.lineType;"bight"!==S&&"curve"!==S&&"roundBroken"!==S&&"broken"!==S&&delete i.childTopic.lineStyle.underLine}if(i.secTopic.lineStyle.underLine){var M=i.secTopic.lineStyle.lineType;"bight"!==M&&"curve"!==M&&"roundBroken"!==M&&delete i.secTopic.lineStyle.underLine}}"curve"===i.secTopic.lineStyle.lineType&&o&&(i.secTopic.lineStyle.lineType="bight");var D=i.secTopic.lineStyle.lineWidth;return i.lineTapering&&(i.secTopic.lineStyle.lineWidth=Math.min(4,D+2)),i.centerTopic.lineStyle=p({},i.secTopic.lineStyle),i.secTopic.lineStyle=p({},i.childTopic.lineStyle),i.boundaryStyle||(i=e.skeletonStyle.setBoundaryStyle(i)),i.summaryTopic?i.summaryTopic={}:i=e.skeletonStyle.setSummaryStyle(i),i.connectionStyle||(i=e.skeletonStyle.setConnectionStyle(i)),i.centerTopic["border-style"]||(delete i.centerTopic["border-width"],delete i.centerTopic["border-color"]),i.secTopic["border-style"]||(delete i.secTopic["border-width"],delete i.secTopic["border-color"]),i.childTopic["border-style"]||(delete i.childTopic["border-width"],delete i.childTopic["border-color"]),C.includes("mind_tree_")?i.marginW=25:(C.includes("org")||"mind_tree"===C)&&(i.marginH=2*i.marginH),i=(0,d.default)(l.defaultLayoutFramework,i)}},66864:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(61894),n(69268),n(84889);var i=n(15240);t.default=function(){function e(){T(this,e),this.has={},this.queue=[],this.nextTick=(0,i.nextTick)(this.flush,this)}return M(e,[{key:"push",value:function(e,t){this.has[e]?this.replaceTask(e,t):(this.has[e]=!0,this.queue.push({name:e,fn:t}),this.nextTick())}},{key:"replaceTask",value:function(e,t){var n=this.queue.findIndex(function(t){return t.name===e});-1!==n&&(this.queue[n]={name:e,fn:t})}},{key:"flush",value:function(){var e=this,t=this.queue.slice(0);this.queue=[],t.forEach(function(t){var n=t.name,i=t.fn;e.has[n]=!1,i()})}}]),e}()},31847:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventManage=void 0,n(64518),n(14544),n(23801),n(66096),n(63551),n(40724),n(81006),n(69268),n(84889),n(14237),t.EventManage=function(){function e(t){T(this,e),this.events={},this.minMap=t}return M(e,[{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new Set),this.events[e].has(t)||(this.events[e].add(t),this.minMap.on(e,t)),this}},{key:"off",value:function(e){var t=this,n=this.events[e];return n?(n.forEach(function(n){t.minMap.off(e,n)}),this):this}},{key:"dispose",value:function(){var e=this;Object.keys(this.events).forEach(function(t){e.off(t)}),this.events={}}}]),e}()},92317:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Lru=void 0,n(69268),n(84889),n(14237),t.Lru=function(){function e(t){T(this,e),this.max=t||1e3,this.size=0,this.pool=new Map}return M(e,[{key:"add",value:function(e,t){return!(!this.has(e)&&this.size>=this.max||(this.delete(e),this.pool.set(e,t),this.size++,0))}},{key:"delete",value:function(e){this.pool.has(e)&&(this.pool.delete(e),this.size--)}},{key:"has",value:function(e){return this.pool.has(e)}},{key:"get",value:function(e){if(this.pool.has(e))return this.pool.get(e)}},{key:"clear",value:function(){this.pool.forEach(function(e){e.unBindEvent()}),this.size=0,this.pool=new Map}}]),e}()},14783:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.rgbToHsl=t.rgbToHsb=t.rgbToHex=t.mixColors=t.isWhite=t.isTransparent=t.isLightColor=t.hslToHex=t.getVisibleColorFromTheme=t.getRgbFromHex=t.getColorBasedOnBackground=t.checkContrastAA=t.calculateLuminance=t.areColorsSimilar=void 0,n(96700),n(27531),n(65528),n(82403),n(12638),n(33809),n(38887),n(13253),n(6284),n(37006),n(37212),n(54938),n(14237);var i=n(56683),o=function(e){return 4===e.length&&e.startsWith("#")?"#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3]):5===e.length&&e.startsWith("#")?"#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3]).concat(e[4]).concat(e[4]):e},a=function(e,t,n){e/=255,t/=255,n/=255;var i,o,a=Math.max(e,t,n),r=Math.min(e,t,n),s=(a+r)/2;if(a==r)i=o=0;else{var l=a-r;switch(o=s>.5?l/(2-a-r):l/(a+r),a){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return[Math.floor(360*i),Math.round(100*o),Math.round(100*s)]};t.rgbToHsl=a,t.rgbToHsb=function(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),o=i-n;return t.b=i,t.s=0!=i?255*o/i:0,0!=t.s?e.r==i?t.h=(e.g-e.b)/o:e.g==i?t.h=2+(e.b-e.r)/o:t.h=4+(e.r-e.g)/o:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t};var s=function(e,t,n){var i,o,a;if(n/=100,e%=360,0==(t/=100))i=o=a=n;else{var r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,l=function(e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?s+6*(r-s)*e:e<.5?r:e<2/3?s+(r-s)*(2/3-e)*6:s};i=l(e/360+2/3),o=l(e/360),a=l(e/360-1/3)}function c(e){return Math.round(255*e).toString(16).padStart(2,"0")}return"#"+c(i)+c(o)+c(a)};t.hslToHex=s,t.rgbToHex=function(e,t,n){return"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)};var l=function(e){if((e=o(e)).indexOf("rgb")>=0){var t=r(e.match(/\d+(\.\d+)?/g).map(Number),4);return{r:t[0],g:t[1],b:t[2],a:t[3]}}var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:n[4]?parseInt(n[4],16)/255:void 0}:null};t.getRgbFromHex=l;var c=function(e){var t=l(e)||{r:255,g:255,b:255};return.299*t.r+.587*t.g+.11*t.b>=192};t.isLightColor=c;var d=function(e,t,n){function i(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}return.2126*(e=i(e/255))+.7152*(t=i(t/255))+.0722*i(n/255)};t.calculateLuminance=d;var u=function(e,t){var n=l(e),i=l(t),o=d(n.r,n.g,n.b),a=d(i.r,i.g,i.b);return(Math.max(o,a)+.05)/(Math.min(o,a)+.05)>=3};t.checkContrastAA=u,t.mixColors=function(e,t){if((0,i.isUndef)(e.r)||(0,i.isUndef)(e.g)||(0,i.isUndef)(e.b)||(0,i.isUndef)(e.a))throw new Error("Invalid color format.");t=l(t);var n=e.a,o=e.r/255,a=e.g/255,r=e.b/255,s=t.r/255,c=t.g/255,d=t.b/255;return{r:Math.round(255*(o*n+s*(1-n))),g:Math.round(255*(a*n+c*(1-n))),b:Math.round(255*(r*n+d*(1-n)))}},t.getColorBasedOnBackground=function(e){var t="";((e=o(e)).includes("url")||e.includes("autoColor")||e.includes("transparent"))&&(e="#ffffff");var n=c(e),i=l(e),d=i.r,p=i.g,h=i.b,m=r(a(d,p,h),2),f=m[0],g=m[1];if(80===d&&194===p&&139===h)return"#ffffff";function v(e,t){return s(e,t,99)}function b(e,t){return s(e,t,5)}return n?(t=b(f,g),u(t,e)||(t=v(f,g))):(t=v(f,g),u(t,e)||(t=b(f,g))),t},t.areColorsSimilar=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;function i(e){if(e.startsWith("#")){if(7===e.length)return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]}else if(e.startsWith("rgb")){var t=e.match(/(\d+),\s*(\d+),\s*(\d+)/);if(t)return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}return null}return function(e,t){var n=e[0]-t[0],i=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+i*i+o*o)}(i(o(e)),i(o(t)))<=n};var p=function(e){return e=String(e).replaceAll(/\s+/g,""),["#fff","#ffffff","#FFF","#FFFFFF","rgb(255,255,255)"].includes(e)||/rgba\(255,255,255,[^)]+\)/.test(e)};t.isWhite=p;var h=function(e){return e=String(e).replaceAll(/\s+/g,""),["","transparent"].includes(e)||/rgba\(\d+,\d+,\d+,0\)/.test(e)};t.isTransparent=h,t.getVisibleColorFromTheme=function(e){for(var t=e.lineColor,n=e.root,i=e.second,o=e.node,a=[t,n.fillColor,n.color,i.fillColor,i.color,o.fillColor,o.color,n.borderColor,i.borderColor,o.borderColor],r=0;r<a.length;r++){var s=a[r];if(!h(s)&&!p(s))return s}}},56683:function(e,t,n){n(58500);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.checkTwoRectIsOverlap=t.checkTopicOuter=t.checkSmmFormatData=t.checkNodeListIsEqual=t.checkIsRichText=t.checkIsNodeStyleDataKey=t.checkHasSupSubRelation=t.cbAccurateLayout=t.camelCaseToHyphen=t.bfsWalk=t.asyncRun=t.appendChild=t.addHtmlStyle=void 0,t.chunkArray=function(e,t){return e.reduce(function(e,n,i){var o=Math.floor(i/t);return e[o]||(e[o]=[]),e[o].push(n),e},[])},t.createTextWithTspan=t.createSmmFormatData=t.createRectPath=t.createId=t.copyTopicsData=t.copyTopicData=t.clearAutoMoveTimer=void 0,t.ctrlToCommand=function(e){return J()&&(e=e.replace(/Ctrl/,"<span class='po-diagraming-icons hotkey' style='font-size: 12px'>&#xe795;</span>").replace(/Alt/,"<span class='po-diagraming-icons hotkey' style='font-size: 12px'>&#xe9e0;</span>")),e},t.escapeHtml=t.downloadFile=t.disassembleAndReassemble=t.degToRad=t.deepClone=t.debounce=void 0,t.filterXss=function(e){return null==e||""==e?"":(e=(e=(e=(e=(e=(e=e.toString()).replace(/</g,"&lt;")).replace(/%3C/g,"&lt;")).replace(/>/g,"&gt;")).replace(/%3E/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},t.getTextFromHtml=t.getStringLength=t.getStrWithBrFromHtml=t.getRootLayout=t.getRectRelativePosition=t.getRange=t.getPartChildren=t.getObjectChangedProps=t.getMaxLen=t.getLevel1Parent=t.getLayoutConfig=t.getIndexInChunks=t.getImageSize=t.getHexColor=t.getFirstAndLastChild=t.getDirChildren=t.getDataFromClipboard=t.getChunks=t.getChromeVersion=t.getCanvasRealSize=t.generateColorByContent=t.formatDataToString=t.formatDataToArray=t.focusInput=void 0,t.getTopAncestors=function(e){var t=new Map(e.map(function(e){return[e.id,e]})),n=[];return e.forEach(function(e){t.has(e.parent)||n.push(e)}),n},t.handleSelfCloseTags=t.handleInputPasteText=t.groupConsecutiveItemsByParentIdAndIndex=t.getType=t.getTwoPointDistance=t.getTopicsInTopicList=t.getTopicIndexInTopicList=t.getTopAncestorsFomNodeList=void 0,t.hasChanges=function(e,t){var n={};if(O(e)&&!O(t))return!0;for(var i in e)e.hasOwnProperty(i)&&(t.hasOwnProperty(i)&&e[i]===t[i]||(n[i]=e[i]));return!O(n)},t.isEmptyObject=t.imgToDataUrl=t.htmlEscape=t.htmlEncode=t.htmlDecode=void 0,t.isFullySelected=function(e){function t(e){var n,i="",o=v(e.childNodes);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.nodeType===Node.TEXT_NODE?i+=a.textContent:a.nodeType!==Node.ELEMENT_NODE||a.classList.contains("mention")||a.classList.contains("equation-text")||(i+=t(a))}}catch(r){o.e(r)}finally{o.f()}return i.replace(/\s+/g,"")}var n=t(e),i=window.getSelection();return 0!==i.rangeCount&&t(i.getRangeAt(0).cloneContents())===n},t.isIos=function(){return/(iPhone|iPad|iPod)/i.test(navigator.userAgent)},t.isJSONString=void 0,t.isMac=J,t.isMobile=void 0,t.isNotChildOfClass=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;e&&e!==n;){if(e.classList&&Array.from(e.classList).some(function(e){return t.includes(e)}))return!1;e=e.parentNode}return!0},t.isNumber=void 0,t.isSafari=function(){var e=navigator.userAgent.toLowerCase();return/Apple Computer/.test(navigator.vendor)&&(/Safari/.test(navigator.userAgent)||H())||navigator.userAgent.indexOf("WpsiOS")>-1||navigator.userAgent.indexOf("WpsOfficeMacApp")>-1||/applewebkit/i.test(e)&&!/chrome|crios|edg|fxios|opera|opr/i.test(e)},t.isUndef=t.isSameObject=void 0,t.isUrl=function(e){return new RegExp("(http|ftp|https)://[a-z0-9_-]+(\\.[a-z0-9_-]+)+([a-z0-9.,@?^=%&;:/~+#-]*[a-z0-9-@?^=%&;/~+#])?","i").test(e)},t.isWeChat=H,t.removeHtmlStyle=t.removeHtmlNodeByClass=t.removeHTMLEntities=t.removeFormulaTags=t.removeChildren=t.readBlob=t.querySelector=t.parseDataUrl=t.parseAddGeneralizationNodeList=t.nodeToHTML=t.nodeRichTextToTextWithWrap=t.nextTick=t.newIdS4=t.newId=t.mousedownButton=t.mergerIconList=t.measureText=t.mapAutoMove=t.loadImage=t.joinFontStr=void 0,t.removeRichTextStyes=void 0,t.replaceHotkey=function(e){J()&&e.find(".po-menu-hotkey").each(function(e,t){$(t).html($(t).html().replace(/Ctrl/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe795;</span>").replace(/Alt/,"<span class='po-diagraming-icons' style='font-size: 12px;'>&#xe9e0;</span>"))})},t.resizeImgSizeByOriginRatio=t.resizeImgSize=t.resizeImg=t.resetTopicId=t.replaceHtmlText=void 0,t.restoreXss=function(e){return null==e||""==e?"":(e=(e=(e=(e=(e=(e=e.toString()).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&#39;/g,"'")).replace(/&quot;/g,'"')).replace(/&amp;lt;/g,"<")).replace(/&amp;gt;/g,">")},t.setDataToClipboard=t.setCursorPositionInDiv=t.setCursorEnd=t.setBrNode=t.selectAllInput=t.selColor=void 0,t.shallowEqual=function(e,t){var n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(function(n){return e[n]===t[n]})},t.throttle=t.textToNodeRichTextWithWrap=t.subStringSlice=void 0,t.throttleRaf=function(e,t){var n=!1,i=null;return function(){for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];i=a,n||(n=!0,requestAnimationFrame(function(){e.apply(t,i),n=!1}))}},t.walk=t.transformTreeDataToObject=t.transformObjectToTreeData=void 0;var o=i(n(66603));n(96700),n(27531),n(61894),n(24932),n(69642),n(5682),n(82288),n(54183),n(65528),n(4790),n(87812),n(1053),n(82403),n(21203),n(12638),n(33809),n(38887),n(13253),n(6284),n(37006),n(47958),n(11568),n(69268),n(72747),n(86837),n(84889),n(54938),n(19268),n(69858),n(14237);var a=n(50089),s=n(80214),l=i(n(68025));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function(e){return s.layoutList.find(function(t){return t.valueList.includes(e)})};t.getLayoutConfig=u;var p=function(e){var t;try{var n="function"==typeof e.getData?e.getData("layout")||e.getData("structure"):e.layout||e.structure;t=u(n).value}catch(e){t="mindmap"}return t};t.getRootLayout=p;var m=function(e,t,n,i){var o,a=n,r="function"==typeof e.getData?e.getData("layout"):e.layout,l=e.free?s.freeTopicLayout:(null===(o=u(n))||void 0===o?void 0:o.tpLayot)||{},c=l.canSet,d=l.defSet;if(r&&!e.summary){var p=e.free?c:c[i]||c[Object.keys(c).length-1];p&&p.length>0&&(p.includes(r)?(i=0,a=r):a=p[0])}else a=e.free?"tree_org"===n?"tree":n:d[i]||d[Object.keys(d).length-1],e.summary&&("tree_org"===n&&1===i&&(a="org"),"org"!=a&&(a="logic"));return e.free&&(i=0),{layout:a,layoutIndex:i}};t.cbAccurateLayout=m;var f=t.walk=function(e,t,n,i,o,a){var r,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=arguments.length>9&&void 0!==arguments[9]&&arguments[9];a&&(o?a=p(e):(r=m(e,0,a,c),a=r.layout,c=r.layoutIndex));var u=n&&n(e,t,o,a,s,l,c),g=[];if(g=d?h(e.children||[]):[].concat(h(e.children||[]),h(e.summaries||[]),h(e.freeChildren||[])),!u&&g.length>0){var v=s+1,b=c+1;g.forEach(function(t,o){f(t,e,n,i,!1,a,v,o,b)})}i&&i(e,t,o,a,s,l,c)};t.bfsWalk=function(e,t){var n=[e],i=!1,o=function(){var e=n.shift();e.children&&e.children.length&&e.children.forEach(function(o){i||(n.push(o),"stop"===t(o,e)&&(i=!0))})};for("stop"===t(e,null)&&(i=!0);n.length&&!i;)o()},t.getCanvasRealSize=function(e){if(!e.freeChildren.length)return{width:e.fullWidth,height:e.fullHeight};var t=e.left,n=e.top,i=e.fullWidth,o=e.fullHeight,a=t-e.topicLeftHalfWidth,r=n-e.topicTopHalfHeight,s=a+i,l=r+o;return e.freeChildren.forEach(function(t){var n=t.left,i=t.top,o=t.fullWidth,c=t.fullHeight;n-=e.topicLeftHalfWidth,i-=e.topicTopHalfHeight,a=Math.min(a,n),r=Math.min(r,i),s=Math.max(s,n+o),l=Math.max(l,i+c)}),{width:s-a,height:l-r}},t.resizeImgSizeByOriginRatio=function(e,t,n,i){var o=e/t;return o>n/i?[o*i,i]:[n,n/o]};var g=function(e,t,n,i){var o=e/t,a=[];return n&&i?a=e<=n&&t<=i?[e,t]:o>n/i?[o*i,i]:[n,n/o]:n?a=e<=n?[e,t]:[n,n/o]:i&&(a=t<=i?[e,t]:[o*i,i]),a};t.resizeImgSize=g;var b=function(e){return e?[Number(e.indexOf(",")>0?e.split(",")[0]:e),Number(e.indexOf(",")>0?e.split(",")[1]:e)]:[0,0]};t.getRange=b,t.resizeImg=function(e,t,n){return new Promise(function(i,o){var a=new Image;a.src=e,a.onload=function(){var e=g(a.naturalWidth,a.naturalHeight,t,n);i(e)},a.onerror=function(e){o(e)}})},t.getStrWithBrFromHtml=function(e){e=e.replace(/<br>/gim,"\n");var t=document.createElement("div");return t.innerHTML=e,t.textContent};var y=t.deepClone=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if(null==e)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e.source,e.flags);if(Array.isArray(e)){if(t.has(e))return t.get(e);var n=[];return t.set(e,n),e.forEach(function(e,i){n[i]=y(e,t)}),n}if("object"==w(e)&&null!==e){if(t.has(e))return t.get(e);var i={};for(var o in t.set(e,i),e)try{e.hasOwnProperty(o)&&(i[o]=y(e[o],t))}catch(e){}return i}return e},x=t.copyTopicData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topicData||e;return delete(t=d({},n)).isSelected,delete t._topic,delete t.openEditor,!1===t.free&&delete t.free,!1===t.collapsed&&delete t.collapsed,t.children=[],n.children&&n.children.length>0&&n.children.forEach(function(e,n){t.children[n]=x(e)}),n.summaries&&n.summaries.length>0&&(t.summaries=[],n.summaries.forEach(function(e,n){t.summaries[n]=x(e)})),n.boundaries&&n.boundaries.length>0&&(t.boundaries=[],n.boundaries.forEach(function(e,n){t.boundaries[n]=x(e)})),n.freeChildren&&n.freeChildren.length>0&&(t.freeChildren=[],n.freeChildren.forEach(function(e,n){t.freeChildren[n]=x(e)})),y(t)};t.copyTopicsData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h(e=W(e)).map(function(e){return x(e)})},t.getPartChildren=function(e){var t=[],n=[],i=e.data&&e.data["right-content-index"];return e.children.forEach(function(e,o){"right"===e.part||o<i?n.push(e):t.push(e)}),{leftChildren:t,rightChildren:n}},t.getDirChildren=function(e){var t=[],n=[];return e.children.forEach(function(e){"up"===e.dir?t.push(e):n.push(e)}),{upChildren:t,downChildren:n}};t.resetTopicId=function e(t,n){var i=F();t.id=i,t.free?t.parent="root":t.parent=$.trim(n);var o,a=v(t.children||[]);try{for(a.s();!(o=a.n()).done;)e(o.value,t.id)}catch(p){a.e(p)}finally{a.f()}var r,s=v(t.freeChildren||[]);try{for(s.s();!(r=s.n()).done;)e(r.value,t.id)}catch(p){s.e(p)}finally{s.f()}var l,c=v(t.summaries||[]);try{for(c.s();!(l=c.n()).done;)e(l.value,t.id)}catch(p){c.e(p)}finally{c.f()}var d,u=v(t.boundaries||[]);try{for(u.s();!(d=u.n()).done;)e(d.value,t.id)}catch(p){u.e(p)}finally{u.f()}},t.getFirstAndLastChild=function(e){return e?{firstChild:e[0],lastChild:e[e.length-1]}:{firstChild:{},lastChild:{}}},t.htmlEncode=function(e){return 0==e.length?"":e=(e=(e=(e=(e=(e=(e=e.toString()).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\'/g,"&#39;")).replace(/\"/g,"&quot;")).replace(/\u2029/g,"\n").replace(/\u2028/g,"\n")).replace(/\x0a/g,"\n").replace(/\x0d/g,"")},t.htmlDecode=function(e){return 0==e.length?"":e=(e=(e=(e=(e=(e=(e=e.toString()).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&#39;/g,"'")).replace(/&quot;/g,'"')).replace(/&nbsp;/g," ")).replace(/<br>/g,"\n")},t.imgToDataUrl=function(e){return new Promise(function(t,n){var i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=function(){try{var o=document.createElement("canvas");o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0,i.width,i.height),t(o.toDataURL())}catch(e){n(e)}},i.onerror=function(e){n(e)},i.src=e})},t.parseDataUrl=function(e){if(!/^data:/.test(e))return e;var t=r(e.split(","),2),n=t[0],i=t[1];return{type:/^data:[^/]+\/([^;]+);/.exec(n)[1],base64:i}},t.downloadFile=function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()},t.mousedownButton=function(e){var t="";return e?(1===e.which||0===e.button?t="left":3===e.which||1===e.button?t="right":2!==e.which&&2!==e.button||(t="middle"),t):t},t.throttle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2?arguments[2]:void 0,i=0;return function(){var o=Date.now();if(o-i>=t){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];e.call.apply(e,[n].concat(r)),i=o}}},t.debounce=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2?arguments[2]:void 0;return function(){var o=i,a=arguments;clearTimeout(t),t=setTimeout(function(){return e.apply(o,a)},n)}},t.asyncRun=function(){var e=C(k().mark(function e(t){var n,i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.length){e.next=24;break}n=v(t),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=16;break}return o=i.value,e.prev=6,e.next=9,o();case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(6),e.t0;case 14:e.next=4;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(2),n.e(e.t1);case 21:return e.prev=21,n.f(),e.finish(21);case 24:case"end":return e.stop()}},e,null,[[2,18,21,24],[6,11]])}));return function(t){return e.apply(this,arguments)}}(),t.degToRad=function(e){return e*(Math.PI/180)},t.getMaxLen=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(e=W(e)).sort(),e[0];var t=1,n=e[0];return e.reduce(function(e,i){var o=(e.get(i)||0)+1;return e.set(i,o),o>t&&(t=o,n=i),e},new Map),{item:n,count:t}};var _=t.groupConsecutiveItemsByParentIdAndIndex=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={},i=(t=W(t)).map(function(e){return e.id}),o={},a=v(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(!(r.summary||r.isRoot||r.free)){var s=r.parentIds||[],l=!1;if(s.forEach(function(e){i.indexOf(e)>-1&&"root"!=e&&(l=!0)}),!l){var c=U(r,r.parent.children),d=r.parent.id;r.parent.isRoot&&(d+="_".concat(r.part)),n[d]||(n[d]=[]),n[d].push(c)}}}}catch(f){a.e(f)}finally{a.f()}for(var u in n){n[u].sort(function(e,t){return e-t});var p=n[u];u.includes("_")&&(u=u.split("_")[0]),o[u]||(o[u]=[]);for(var h=[p[0]],m=1;m<p.length;m++)p[m]===h[h.length-1]+1?h.push(p[m]):(o[u].push(h),h=[p[m]]);o[u].push(h)}return o};t.getChunks=function(e){var t=arguments.length>2?arguments[2]:void 0,n=_(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]),i=[],o=function(e){n[e].forEach(function(t){var n={parent:e,range:t};i.push(n)})};for(var a in n)o(a);for(var r=[],s=0;s<i.length;s++){var l,c=i[s],u=c.range;l=u[0]+","+u[u.length-1];var p=!0,m=e.renderer.getTopicById(c.parent),f=[];t.includes("summary")&&(f=[].concat(h(f),h(m.summaries||[]))),t.includes("boundary")&&(f=[].concat(h(f),h(m.boundaries||[])));var g,b=v(f);try{for(b.s();!(g=b.n()).done;){var y=g.value.range+"";if(y.indexOf(",")>0&&y==l){p=!1;break}}}catch(x){b.e(x)}finally{b.f()}p&&(c.range=l,r.push(d({},c)))}return 0==r.length?[]:r},t.getIndexInChunks=function(e){var t=[].concat(h(e.summaries||[]),h(e.boundaries||[])),n=e.children||[],i=[],o=[];if(t.length>0){t.sort(function(e,t){return b(e.range)[0]-b(t.range)[0]});var a=null;t.forEach(function(e){var t=r(b(e.range),2),n=t[0],o=t[1];a?n<=a.r2?(a.r1=Math.min(a.r1,n),a.r2=Math.max(a.r2,o)):(i.push(a),a={r1:n,r2:o}):a={r1:n,r2:o}}),a&&i.push(a)}n.forEach(function(e,t){i.some(function(e){return t>=e.r1&&t<=e.r2})||o.push(e)});var s=n.map(function(e){return e.id}),l=[],c=0;i.forEach(function(e){if(e.r1>c)for(var t=c;t<e.r1;t++)l.push([s[t]]);l.push(s.slice(e.r1,e.r2+1)),c=e.r2+1});for(var d=c;d<s.length;d++)l.push([s[d]]);return l};t.getLevel1Parent=function e(t){return t.layerIndex<=1?t:e(t.parent)},t.getTopicsInTopicList=function(e,t){if(e<0||!t<0)return[];var n=[];return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).forEach(function(i,o){o>=e&&o<=t&&n.push(i)}),n},t.disassembleAndReassemble=function(e,t){return e?"summary"===t&&0===e.summaries.length?e.children:"boundary"===t&&0===e.summaries.length?e.children:void 0:[]},t.camelCaseToHyphen=function(e){return e.replace(/([a-z])([A-Z])/g,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1]+"-"+t[2].toLowerCase()})};var T=null;t.measureText=function(e,t){var n=t.italic,i=t.bold,o=t.fontSize,a=t.fontFamily,r=S({italic:n,bold:i,fontSize:o,fontFamily:a});if(!T){var s=document.createElement("canvas");T=s.getContext("2d")}T.save(),T.font=r;var l=T.measureText(e),c=l.width,d=l.actualBoundingBoxAscent,u=l.actualBoundingBoxDescent;return T.restore(),{width:c,height:d+u}};var S=function(e){var t=e.italic,n=e.bold,i=e.fontSize,o=e.fontFamily;return"".concat(t?"italic ":""," ").concat(n?"bold ":""," ").concat(i,"px ").concat(o," ")};t.joinFontStr=S,t.createRectPath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(e){var n=e.left,i=e.right,o=e.top,a=e.bottom;return"\n        M".concat(n+t,",").concat(o,"\n        L").concat(i-t,",").concat(o,"\n        C").concat(i-t,",").concat(o," ").concat(i,",").concat(o," ").concat(i,",").concat(o+t,"\n        L").concat(i,",").concat(a-t,"\n        C").concat(i,",").concat(a-t," ").concat(i,",").concat(a," ").concat(i-t,",").concat(a,"\n        L").concat(n+t,",").concat(a,"\n        C").concat(n+t,",").concat(a," ").concat(n,",").concat(a," ").concat(n,",").concat(a-t,"\n        L").concat(n,",").concat(o+t,"\n        C").concat(n,",").concat(o+t," ").concat(n,",").concat(o," ").concat(n+t,",").concat(o,"\n        Z\n    ")}},t.nextTick=function(e,t){var n=!1,i=null,o=function(){n=!1,t?e.call(t):e()};if("undefined"!=typeof MutationObserver){var a=1,r=new MutationObserver(o),s=document.createTextNode(a);r.observe(s,{characterData:!0}),i=function(){a=(a+1)%2,s.data=a}}else i=setTimeout;return function(){n||(n=!0,i(o,0))}},t.checkTopicOuter=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.elRect,a=e.draw.transform(),r=a.scaleX,s=a.scaleY,l=a.translateX,c=a.translateY,d=t.left,u=t.top,p=(d+t.width)*r+l,h=(u+t.height)*s+c,m=0,f=0,g=d=d*r+l,v=p,b=u=u*s+c,y=h;return i&&(g=p,v=d,b=h,y=u),g<-1*n&&(m=-(d+n)),v>o.width+n&&(m=-(p-(o.width+n))),b<-1*n&&(f=-(u+n)),y>o.height+n&&(f=-(h-(o.height+n))),{isOuter:0!==m||0!==f,offsetLeft:m,offsetTop:f,elRect:o,nodeRect:{left:d,right:p,top:u,bottom:h}}};var M=null,D=function(e){return M||(M=document.createElement("div")),M.innerHTML=e,M.textContent};t.getTextFromHtml=D,t.readBlob=function(e){return new Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e)},i.readAsDataURL(e)})};var E=null;t.nodeToHTML=function(e){return E||(E=document.createElement("div")),E.innerHTML="",E.appendChild(e),E.innerHTML};var A=function(e){return new Promise(function(t){var n=new Image;n.src=e,n.onload=function(){t({width:n.width,height:n.height})},n.onerror=function(){t({width:0,height:0})}})};t.getImageSize=A;var F=function(){return(0,a.v4)()};t.createId=F,t.loadImage=function(e){return new Promise(function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){var e=C(k().mark(function e(n){var i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.target.result,e.next=3,A(i);case 3:o=e.sent,t({url:i,size:o});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),i.onerror=function(e){n(e)}})},t.removeHTMLEntities=function(e){return[["&nbsp;"," "],["<img","<image"]].forEach(function(t){e=e&&e.replaceAll(t[0],t[1])}),e};var I=function(e){return Object.prototype.toString.call(e).slice(8,-1)};t.getType=I,t.isUndef=function(e){return null==e||""===e};var O=t.isEmptyObject=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e).length};t.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},t.removeHtmlStyle=function(e){return e.replaceAll(/(<[^\s]+)\s+style=["'][^'"]+["']\s*(>)/g,"$1$2")};var L=null;t.addHtmlStyle=function(e,t,n){L||(L=document.createElement("div")),L.innerHTML=e;return function e(i){i.childNodes.forEach(function(i){1===i.nodeType&&(i.tagName.toLowerCase()===t?i.style.cssText=n:e(i))})}(L),L.innerHTML};var P=null;t.checkIsRichText=function(e){P||(P=document.createElement("div")),P.innerHTML=e;for(var t=P.childNodes,n=t.length;n--;)if(1==t[n].nodeType)return!0;return!1};var B=null;t.replaceHtmlText=function(e,t,n){B||(B=document.createElement("div")),B.innerHTML=e;return function e(i){i.childNodes.forEach(function(o){1===o.nodeType?e(o):3===o.nodeType&&i.replaceChild(document.createTextNode(o.nodeValue.replaceAll(t,n)),o)})}(B),B.innerHTML};var N=null;t.removeHtmlNodeByClass=function(e,t){N||(N=document.createElement("div")),N.innerHTML=e;var n=N.querySelector(t);return n&&n.parentNode.removeChild(n),N.innerHTML},t.getHexColor=function(e){var t={};if("transparent"!=e){var n=function(e){return("0"+parseInt(e).toString(16)).slice(-2)},i=e.replace(/[^\d,\.]/g,"");return t.rgb=i,e=n((e=e.replace(/[^\d,\.]/g,"").split(","))[0])+n(e[1])+n(e[2]),t.hex=e,t}return null};var z=function(e){!function e(t){t.childNodes.forEach(function(t){1===t.nodeType&&(t.classList.contains("ql-formula")?t.parentNode.removeChild(t):e(t))})}(e)};t.removeFormulaTags=z;var j=null;t.nodeRichTextToTextWithWrap=function(e){j||(j=document.createElement("div")),j.innerHTML=e;for(var t=j.childNodes,n="",i=0;i<t.length;i++){var o=t[i];1===o.nodeType?(z(o),"p"===o.tagName.toLowerCase()?n+=o.textContent+"\n":n+=o.textContent):3===o.nodeType&&(n+=o.nodeValue)}return n.replace(/\n$/,"")};var R=null;t.textToNodeRichTextWithWrap=function(e){R||(R=document.createElement("div")),R.innerHTML=e;for(var t=R.childNodes,n=[],i="",o=0;o<t.length;o++){var a=t[o];1===a.nodeType?"br"===a.tagName.toLowerCase()?(n.push(i),i=""):i+=a.textContent:3===a.nodeType&&(i+=a.nodeValue)}return i&&n.push(i),n.map(function(e){return"<p><span>".concat(q(e),"</span></p>")}).join("")};var G=null;function H(){var e=navigator.userAgent.toLowerCase();return!!/micromessenger|miniprogram/.test(e)}t.removeRichTextStyes=function(e){G||(G=document.createElement("div")),G.innerHTML=e;var t=G.querySelectorAll(".ql-formula");Array.from(t).forEach(function(e){var t=document.createTextNode("$smmformula$");e.parentNode.replaceChild(t,e)});for(var n=G.childNodes,i=[],o=0;o<n.length;o++){var a=n[o];1===a.nodeType?i.push(a.textContent):3===a.nodeType&&i.push(a.nodeValue)}if(e=i.map(function(e){return"<p><span>".concat(q(e),"</span></p>")}).join(""),t.length>0){e=e.replace(/\$smmformula\$/g,'<span class="smmformula"></span>'),G.innerHTML=e;var r=G.querySelectorAll(".smmformula");Array.from(r).forEach(function(e,n){e.parentNode.replaceChild(t[n],e)}),e=G.innerHTML}return e},t.isMobile=function(){return!!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},t.getObjectChangedProps=function(e,t){var n={};return Object.keys(t).forEach(function(i){var o=e[i],a=t[i];if(I(o)===I(a)){if("Object"===I(o)){if(JSON.stringify(o)!==JSON.stringify(a))return void(n[i]=a)}else if(o!==a)return void(n[i]=a)}else n[i]=a}),n},t.checkIsNodeStyleDataKey=function(e){return!/^_/.test(e)&&!s.nodeDataNoStylePropList.includes(e)},t.mergerIconList=function(e){return e.reduce(function(e,t){var n=e.find(function(e){return e.type===t.type});return n?t.list.forEach(function(e){var t=n.list.find(function(t){return t.name===e.name});t?t.icon=e.icon:n.list.push(e)}):e.push(d({},t)),e},[])},t.getTopAncestorsFomNodeList=function(e){var t=[];return e.forEach(function(n){e.find(function(e){return e.id!==n.id&&e.isAncestor(n)})||t.push(n)}),t},t.checkHasSupSubRelation=function(e){for(var t=function(t){var n=e[t];if(e.find(function(e){return e.uid!==n.uid&&n.isAncestor(e)}))return{v:!0}},n=0;n<e.length;n++){var i=t(n);if("object"===w(i))return i.v}return!1},t.parseAddGeneralizationNodeList=function(e){var t={},n={};e.forEach(function(e){var i=e.parent;if(i){var o=i.uid;n[o]=i;var a=e.getIndexInBrothers(),r={node:e,index:a};t[o]?t[o].find(function(e){return e.index===r.index})||t[o].push(r):t[o]=[r]}});var i=[];return Object.keys(t).forEach(function(e){if(t[e].length>1){var o=t[e].map(function(e){return e.index}).sort(function(e,t){return e-t});i.push({node:n[e],range:[o[0],o[o.length-1]]})}else i.push({node:t[e][0].node})}),i},t.checkTwoRectIsOverlap=function(e,t,n,i,o,a,r,s){return t>o&&a>e&&i>r&&s>n},t.focusInput=function(e){var t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),n.collapse(),t.removeAllRanges(),t.addRange(n)},t.selectAllInput=function(e){var t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)};var W=function(e){return e?Array.isArray(e)?e:[e]:[]};t.formatDataToArray=W,t.formatDataToString=function(e){return e?"String"===I(e)?e:"Array"===I(e)?e.join():"Object"===I(e)?JSON.stringify(e):e:""};var U=function(e,t){return(t=W(t)).findIndex(function(t){return t.id===e.id})};t.getTopicIndexInTopicList=U,t.generateColorByContent=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return"hsla("+new l.default(t).genrand_int32()%360+", 50%, 50%, 1)"};var q=function(e){return[["&","&amp;"],["<","&lt;"],[">","&gt;"]].forEach(function(t){e=e.replace(new RegExp(t[0],"g"),t[1])}),e};t.htmlEscape=q;t.isSameObject=function e(t,n){var i=I(t);if(i!==I(n))return!1;if("Object"===i){var o=Object.keys(t),a=Object.keys(n);if(o.length!==a.length)return!1;for(var r=0;r<o.length;r++){var s=o[r];if(!a.includes(s))return!1;if(!e(t[s],n[s]))return!1}return!0}if("Array"===i){if(t.length!==n.length)return!1;for(var l=0;l<t.length;l++){var c=t[l],d=n[l];if(I(c)!==I(d))return!1;if(!e(c,d))return!1}return!0}return t===n},t.setDataToClipboard=function(e){navigator.clipboard&&navigator.clipboard.writeText(JSON.stringify(e))},t.getDataFromClipboard=C(k().mark(function e(){var t,n,i,o,a,r,s,l,c;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,n=null,!navigator.clipboard){e.next=44;break}return e.next=4,navigator.clipboard.readText();case 4:return t=e.sent,e.next=7,navigator.clipboard.read();case 7:if(!((i=e.sent)&&i.length>0)){e.next=44;break}o=v(i),e.prev=10,o.s();case 12:if((a=o.n()).done){e.next=36;break}r=a.value,s=v(r.types),e.prev=15,s.s();case 17:if((l=s.n()).done){e.next=26;break}if(c=l.value,!/^image\//.test(c)){e.next=24;break}return e.next=22,r.getType(c);case 22:return n=e.sent,e.abrupt("break",26);case 24:e.next=17;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(15),s.e(e.t0);case 31:return e.prev=31,s.f(),e.finish(31);case 34:e.next=12;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(10),o.e(e.t1);case 41:return e.prev=41,o.f(),e.finish(41);case 44:return e.abrupt("return",{text:t,img:n});case 45:case"end":return e.stop()}},e,null,[[10,38,41,44],[15,28,31,34]])})),t.handleSelfCloseTags=function(e){return s.selfCloseTagList.forEach(function(t){e=e&&e.replaceAll(new RegExp("<".concat(t,"([^>]*)>"),"g"),"<".concat(t," $1 />"))}),e},t.checkNodeListIsEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=function(n){if(!t.find(function(t){return t.id===e[n].id}))return{v:!1}},i=0;i<e.length;i++){var o=n(i);if("object"===w(o))return o.v}return!0},t.getChromeVersion=function(){var e=navigator.userAgent.match(/\s+Chrome\/(.*)\s+/);return e&&e[1]?Number.parseFloat(e[1]):""},t.createSmmFormatData=function(e){return{simpleMindMap:!0,data:e}},t.checkSmmFormatData=function(e){var t=null;if("string"==typeof e)try{var n=JSON.parse(e);"object"==w(n)&&n.simpleMindMap&&(t=n.data)}catch(e){}else"object"==w(e)&&e.simpleMindMap&&(t=e.data);var i=!!t;return{isSmm:i,data:i?t:String(e)}},t.handleInputPasteText=function(e,t){e.preventDefault();var n=window.getSelection();if(n.rangeCount){n.deleteFromDocument(),t=t||e.clipboardData.getData("text");var i=(t=D(t)).split("\n"),o=document.createDocumentFragment();i.forEach(function(e,t){var n=document.createTextNode(e);o.appendChild(n),t!=i.length-1&&o.appendChild(document.createElement("br"))}),n.getRangeAt(0).insertNode(o),n.collapseToEnd()}},t.transformTreeDataToObject=function(e){var t={};return function e(n,i){var o=n.data.uid;i&&i.children.push(o),t[o]={isRoot:!i,data:d({},n.data),children:[]},n.children&&n.children.length>0&&n.children.forEach(function(n){e(n,t[o])})}(e,null),t},t.transformObjectToTreeData=function(e){var t=Object.keys(e);if(t.length<=0)return null;var n=t.find(function(t){return e[t].isRoot});if(!n||!e[n])return null;var i={data:y(e[n].data),children:[]},o={};return o[n]=i,t.forEach(function(t){var n=function(e,t){var n=Object.keys(e),i="";return n.forEach(function(n){-1!==e[n].children.findIndex(function(e){return e===t})&&(i=n)}),i}(e,t),i=e[t],a=o[t]||{data:y(i.data),children:[]};if(o[t]||(o[t]=a),n){var r=e[n].children.findIndex(function(e){return e===t});o[n]||(o[n]={data:y(e[n].data),children:[]}),o[n].children[r]=a}}),i},t.getTwoPointDistance=function(e,t,n,i){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-i,2))},t.getRectRelativePosition=function(e,t){var n=e.x+e.width/2,i=e.y+e.height/2,o=t.x+t.width/2,a=t.y+t.height/2;return n<o&&i<a?"left-top":n>o&&i<a?"right-top":n>o&&i>a?"right-bottom":n<o&&i>a?"left-bottom":n<o&&i===a?"left":n>o&&i===a?"right":n===o&&i<a?"top":n===o&&i>a?"bottom":"overlap"};var V=null,Y=function(){V&&(clearTimeout(V),V=null)};t.clearAutoMoveTimer=Y,t.mapAutoMove=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};Y(),function t(n,i,o,a){o();var r=e.opt.selectTranslateStep,s=e.opt.selectTranslateLimit,l=0;n<=e.elRect.left+s&&(a("left",r),e.view.translateX(r),l++),n>=e.elRect.right-s&&(a("right",r),e.view.translateX(-r),l++),i<=e.elRect.top+s&&(a("top",r),e.view.translateY(r),l++),i>=e.elRect.bottom-s&&(a("bottom",r),e.view.translateY(-r),l++),l>0&&function(e,n,i,o){V=setTimeout(function(){t(e,n,i,o)},10)}(n,i,o,a)}(t,n,i,o)},t.getStringLength=function(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);t+=i>=19968&&i<=40869?2:1}return t},t.subStringSlice=function(e,t,n){for(var i=-1,o=-1,a=0,r=0;r<e.length;r++){var s=e.charCodeAt(r);if((a+=s>=19968&&s<=40869?2:1)>=t&&-1===i&&(i=r),a>=n){o=r+1;break}}return-1===i&&(i=e.length),-1===o&&(o=e.length),e.slice(i,o)},t.setBrNode=function(){var e=window.getSelection();if(e.rangeCount){var t=e.getRangeAt(0),n=document.createElement("br");"BR"===t.startContainer.nodeName?t.startContainer.after(n):t.insertNode(n),t.setStartAfter(n),t.collapse(!0),e.removeAllRanges(),e.addRange(t)}},t.setCursorPositionInDiv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";if(e.isContentEditable&&e.contentEditable&&"false"!==e.contentEditable){var n=document.createRange(),i=window.getSelection();if(i.removeAllRanges(),"end"===t)n.selectNodeContents(e),n.collapse(!1);else{if(!("number"==typeof t&&t>=0))return;var o=e.lastChild;if(!o||o.nodeType!==Node.TEXT_NODE)return;o.textContent.length<t&&(t=o.textContent.length),n.setStart(o,t),n.collapse(!0)}i.addRange(n),e.focus()}},t.setCursorEnd=function(e){if($.support.msie){var t=document.selection.createRange();t.moveToElementText(e),t.select(),document.selection.empty()}else{var n=document.createRange();n.selectNodeContents(e),n.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(n)}},t.createTextWithTspan=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.split("<br>");return e.text(function(e){o.forEach(function(t){var o=t.split(""),a="",r=e.tspan("").newLine().attr(i);o.forEach(function(t,s){var l=a+t+"";r.text(l),r.length()>n&&""!==a?(r.text(a.trim()),r=e.tspan(t+"").newLine().attr(i),a=t+""):a=l,s===o.length-1&&r.text(a.trim())})})})},t.selColor=function(e,t){if(e.hasClass("mind-color-box")){var n=e.button("getColor");return $.colorpicker({position:"right",target:e,color:n,type:"hex",onSelect:function(n){null==n&&(n="transparent"),e.button("setColor",n),t(n),e.removeClass("selected")},onClose:function(){e.removeClass("selected")}}),void e.addClass("selected")}e.addClass("selected").siblings().removeClass("selected");var i=e.css("background-color");t(i)},t.isJSONString=function(e){try{return"object"==w(e)||"object"==w(JSON.parse(e))}catch(e){return!1}};var X=t.newIdS4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};function J(){return/macintosh|mac os x/i.test(navigator.userAgent)}t.newId=function(){return X()+X()+X()},t.appendChild=function(e,t){if("string"==typeof t)e.insertAdjacentHTML("beforeend",t);else{if(!(t instanceof HTMLElement))throw new Error("Content must be a string or an HTMLElement");e.appendChild(t)}},t.querySelector=function(e){if(!e)return null;try{return document.querySelector(e)}catch(e){return null}},t.removeChildren=function(e){var t=e.querySelectorAll("selector");Array.from(t).forEach(function(t){return e.removeChild(t)})},t.escapeHtml=function(e){return e.replace(/[&<>"']/g,function(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#39;";default:return e}})}},48936:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretPositionInWindow=function(e){var t=window.getSelection();if(t.rangeCount>0){var n=t.getRangeAt(0);if(n.collapsed&&n.startContainer===e&&n.startContainer===n.endContainer){var i=e.getBoundingClientRect();return{x:i.left,y:i.bottom}}var o=n.getBoundingClientRect();if(o)return{x:o.left,y:o.top}}return{x:0,y:0}},t.getContentHeight=m,t.getContentWidth=p,t.getUsedFontFamilies=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Set;e.length>0;){var n=e.pop(),i=window.getComputedStyle(n).fontFamily;i&&"inherit"!==i&&i.split(/,\s*/).forEach(function(e){var n=e.trim().replace(/^['"]+|['"]+$/g,"");n&&t.add(n)}),e.push.apply(e,h(n.children))}return Array.from(t)},t.isPointInPath=function(e,t){var n=t.ownerSVGElement;if(!n)return!1;var i=n.createSVGPoint();i.x=e.x,i.y=e.y;var o=t.getScreenCTM();if(!o)return!1;var a=o.inverse(),r=i.matrixTransform(a);return t.isPointInFill(r)||t.isPointInStroke(r)},t.isSameLineNative=function(e,t){var n=t.getBoundingClientRect();return e.top<=n.bottom&&e.bottom>=n.top},t.mergeStyles=function(e,t){var n=c(e),i=c(t);return d(l(l({},n),i))},t.removeTitleMarkerStyle=function(e){var t=document.createElement("div");t.style.display="none",document.body.appendChild(t),t.innerHTML=e,Array.from(t.children).filter(function(e){return"OL"===e.tagName||"UL"===e.tagName}).forEach(function(e){e.style.paddingLeft="",e.getAttribute("style")||e.removeAttribute("style")});var n=t.innerHTML;return document.body.removeChild(t),n},t.selectText=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(e),n.select()}else if(window.getSelection){var i=window.getSelection(),o=document.createRange();o.selectNodeContents(e),i.removeAllRanges(),i.addRange(o),t&&i.collapseToEnd()}},t.setNodeDomStyle=function(e,t){var n=d(l(l({},c(e.attr("style"))),t));e.attr({style:n})},t.styleObjectToString=d,t.styleStringToObject=c,t.titleMarkerElementProcess=function(e,t){var n=Array.from(e.children).filter(function(e){return"OL"===e.tagName||"UL"===e.tagName});n.length>0&&((0,a.isSafari)()?n.forEach(function(e){var n="OL"===e.tagName?e.children.length:0;e.style.paddingLeft=t*(1.5+.6*(String(n).length-1))+"px"}):n.forEach(function(e){var n="OL"===e.tagName?e.children.length:0;e.style.paddingLeft=t*(1.2+.6*(String(n).length-1))+"px"}))},t.unSelectText=function(){window.getSelection().removeAllRanges()};var o=i(n(66603));n(61894),n(54183),n(82403),n(64518),n(14544),n(23801),n(66096),n(63551),n(40724),n(81006),n(6284),n(30940),n(47958),n(69268),n(58500),n(84889),n(54938),n(14237);var a=n(56683);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(){var e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(";").forEach(function(t){var n=r(t.split(":").map(function(e){return e.trim()}),2),i=n[0],o=n[1];i&&(e[i]=o)}),e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object.keys(e).forEach(function(n){t.push("".concat(n,": ").concat(e[n],";"))}),t.join("")}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"width";if(!document.body.contains(e))return 0;var n={display:e.style.display,position:e.style.position,visibility:e.style.visibility},i=window.getComputedStyle(e);"none"===i.display&&(e.style.display="block",e.style.position="absolute",e.style.visibility="hidden");var o="width"===t,a=o?"width":"height",r=o?"paddingLeft":"paddingTop",s=o?"paddingRight":"paddingBottom",l=o?"borderLeftWidth":"borderTopWidth",c=o?"borderRightWidth":"borderBottomWidth",d=o?"offsetWidth":"offsetHeight",u=o?"clientWidth":"clientHeight",p=i.boxSizing,h=parseFloat(i[a])||0,m=h;return"border-box"===p&&(m=h-(parseFloat(i[r])+parseFloat(i[s]))-(parseFloat(i[l])+parseFloat(i[c]))),(o?e.offsetHeight>e.clientHeight:e.offsetWidth>e.clientWidth)&&(m-=e[d]-e[u]),e.style.display=n.display,e.style.position=n.position,e.style.visibility=n.visibility,m}function p(e){return u(e,"width")}function m(e){return u(e,"height")}editorGlobal.getContentWidth=p,editorGlobal.getContentHeight=m},15240:function(e,t,n){n(69268),n(84889),Object.defineProperty(t,"__esModule",{value:!0});var i=n(56683);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var o=n(48936);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var a=n(14783);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))})},93508:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.calcDistance=function(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2))},t.getAngle=function(e,t){if(t.x===e.x)return 1;var n=Math.atan(Math.abs(t.y-e.y)/Math.abs(t.x-e.x))/Math.PI*180;return e.x<=t.x&&e.y>t.y?n=180-n:e.x<t.x&&e.y<=t.y?n=180+n:e.x>=t.x&&e.y<t.y&&(n=360-n),n},t.getArrowPoints=function(e,t,n){var i=n<3?10:n<5?15:20,o=360-e+30,a=Math.sin(Math.PI*o/180)*i,r=Math.cos(Math.PI*o/180)*i,s=t.x+r,l=t.y-a;return o=360-e-30,a=Math.sin(Math.PI*o/180)*i,r=Math.cos(Math.PI*o/180)*i,{x1:s,y1:l,x2:t.x+r,y2:t.y-a}}},68025:function(e,t){function n(e){this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++)e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0},n.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti==this.N+1&&this.init_genrand(5489),n=0;n<this.N-this.M;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^e>>>1^t[1&e];for(;n<this.N-1;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0}},18236:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.mobiKeyboard=void 0,n(61894),n(65528),n(78471);var i=n(56683),o=t.mobiKeyboard={init:function(){var e=(0,i.debounce)(editorGlobal.mindMap.resize.bind(editorGlobal.mindMap));if(window.addEventListener("resize",function(){e()}),(0,i.isIos)())if(void 0!==window.visualViewport){var t=function(){var e=window.self!==window.top,t=!1;try{t=!!window.top.location.href}catch(e){t=!1}return{isInIframe:e,isSameOrigin:t}}(),n=t.isInIframe,o=t.isSameOrigin,a=window;if(n){if(!o)return void editorGlobal.mindMap.on("setKeyBoardHeight",this.setKeyBoard);a=window.parent}a.visualViewport.addEventListener("resize",function(){var e=a.visualViewport,t=a.innerHeight-e.height;editorGlobal.mindMap.emit("visualViewportResize",t)})}else editorGlobal.mindMap.on("setKeyBoardHeight",this.setKeyBoard)},keyHeightArr:[],keyBoardHeight:0,setKeyBoard:function(e){var t=sessionStorage.getItem("localKeyHeight");!t&&e>140&&(t=e,sessionStorage.setItem("localKeyHeight",t));var n=!0;if(e<140){if(0==this.keyBoardHeight)return;this.keyBoardHeight=0,n=!1}else{if(this.keyBoardHeight>0)return;e!=t&&n&&(-1==o.keyHeightArr.indexOf(e)?o.keyHeightArr=[e]:o.keyHeightArr.push(e),o.keyHeightArr.length>2&&(t=o.keyHeightArr[0],sessionStorage.setItem("localKeyHeight",t))),this.keyBoardHeight=parseInt(t)}editorGlobal.mindMap.emit("visualViewportResize",this.keyBoardHeight)}}},28570:function(e,t,n){n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(66603));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(61894),n(82403),n(12638),n(30940),n(54938);var s=function(e){return String(e).split(/\s+/).map(function(e){if(/^[\d.]+/.test(e)){var t=/^([\d.]+)(.*)$/.exec(e);return[Number(t[1]),t[2]]}return e})},l=function(e,t){return e*t},c=function(e,t){return t/e},d={left:0,top:0,center:50,bottom:100,right:100},u=function(e,t,n){e.drawImage(t,n.sx,n.sy,n.swidth,n.sheight,n.x,n.y,n.width,n.height)};t.default=function(e,t,n,i,o){var a=o.backgroundSize,p=o.backgroundPosition,h=o.backgroundRepeat,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){},f=t/n,g=new Image;g.src=i,g.onload=function(){var i=g.width,o=g.height,v=i/o,b={sx:0,sy:0,swidth:i,sheight:o,x:0,y:0,width:i,height:o};(function(e){var t=e.backgroundSize,n=e.drawOpt,i=e.imageRatio,o=e.canvasWidth,a=e.canvasHeight,r=e.canvasRatio;if(t){var d=s(t);if("auto"===d[0]&&"auto"===d[1])return;if("cover"===d[0])return void(i>r?(n.height=a,n.width=l(i,a)):(n.width=o,n.height=c(i,o)));if("contain"===d[0])return void(i>r?(n.width=o,n.height=c(i,o)):(n.height=a,n.width=l(i,a)));var u=-1;d[0]&&(Array.isArray(d[0])?"%"===d[0][1]?(n.width=d[0][0]/100*o,u=n.width):(n.width=d[0][0],u=d[0][0]):"auto"===d[0]&&d[1]&&("%"===d[1][1]?n.width=l(i,d[1][0]/100*a):n.width=l(i,d[1][0]))),d[1]&&Array.isArray(d[1])?"%"===d[1][1]?n.height=d[1][0]/100*a:n.height=d[1][0]:-1!==u&&(n.height=c(i,u))}})({backgroundSize:a,drawOpt:b,imageRatio:v,canvasWidth:t,canvasHeight:n,canvasRatio:f}),function(e){var t=e.backgroundPosition,n=e.drawOpt,i=e.imgWidth,o=e.imgHeight,a=e.canvasWidth,r=e.canvasHeight;if(t){var l=s(t);if(l=l.map(function(e){return"string"==typeof e&&void 0!==d[e]?[d[e],"%"]:e}),Array.isArray(l[0])){if(1===l.length&&l.push([50,"%"]),"%"===l[0][1]){var c=l[0][0]/100*a,u=l[0][0]/100*i;n.x=c-u}else n.x=l[0][0];if("%"===l[1][1]){var p=l[1][0]/100*r,h=l[1][0]/100*o;n.y=p-h}else n.y=l[1][0]}}}({backgroundPosition:p,drawOpt:b,imgWidth:b.width,imgHeight:b.height,imageRatio:v,canvasWidth:t,canvasHeight:n,canvasRatio:f}),function(e){var t=e.ctx,n=e.image,i=e.backgroundRepeat,o=e.drawOpt,a=e.imgWidth,l=e.imgHeight,c=e.canvasWidth,d=e.canvasHeight;if(i){var p=o.x,h=o.y,m=p-Math.ceil(p/a)*a,f=h-Math.ceil(h/l)*l,g=s(i);if("no-repeat"===g[0]||a>=c&&l>=d)return;if("repeat-x"===g[0]&&c>a){for(var v=m;v<c;)u(t,n,r(r({},o),{},{x:v})),v+=a;return!0}if("repeat-y"===g[0]&&d>l){for(var b=f;b<d;)u(t,n,r(r({},o),{},{y:b})),b+=l;return!0}if("repeat"===g[0]){for(var y=m;y<c;){if(d>l)for(var x=f;x<d;)u(t,n,r(r({},o),{},{x:y,y:x})),x+=l;y+=a}return!0}}}({ctx:e,image:g,backgroundRepeat:h,drawOpt:b,imgWidth:b.width,imgHeight:b.height,imageRatio:v,canvasWidth:t,canvasHeight:n,canvasRatio:f})||u(e,g,b),m()},g.onerror=function(e){m(e)}}},52122:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.uploadImage=function(e){return new Promise(function(t){injectExtraAsynCall("onServerApi",{apiName:"uploadImage64",params:{img:e}},function(e){var n=e.data;"error"!=e.return&&n.url?t(n.url):($.toast({type:"error",text:e.msg||o.default.t("js.Image_upload")}),t(null))})})},n(4790);var o=i(n(32483))},41525:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var o=i(n(66603));n(27531),n(61894),n(33152),n(4790),n(38887),n(69268),n(58500),n(84889),n(54938);var a=n(80214),r=n(15240);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}t.View=function(){function e(){T(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opt=t,this.mindMap=this.opt.mindMap,this.scale=1,this.sx=0,this.sy=0,this.x=0,this.y=0,this.mx=0,this.my=0,this.firstDrag=!0,this.transformTimer=null,this.changeViewTime=10,this.oldX=0,this.oldY=0,this.oldScale=0,this.prevX=0,this.prevY=0,this.setTransformData(this.mindMap.opt.viewData),this.bind()}return M(e,[{key:"bind",value:function(){var e=this;this.mindMap.keyCommand.addShortcut("Control+=",function(){e.enlarge()}),this.mindMap.keyCommand.addShortcut("Control+-",function(){e.narrow()}),this.mindMap.keyCommand.addShortcut("Control+0",function(){e.reset(),e.mindMap.emit("move_topic_to_center")}),this.mindMap.keyCommand.addShortcut("Control+numpad0",function(){e.reset(),e.mindMap.emit("move_topic_to_center")}),this.transformThrottle=(0,r.throttle)(function(){e.mindMap.emit("view_data_change",e.getTransformData())}),this.transformThrottleRealTime=(0,r.throttle)(function(){e.mindMap.emit("view_data_change_real_time",e.getTransformData())},0),this.transformDebounce=(0,r.debounce)(function(t,n){e.translateXY(t,n)},16,this),this.mindMap.on("viewReset",function(){e.reset()}),this.mindMap.on("mousedown",function(){e.beforeDrag()}),this.mindMap.on("before_drag",function(){e.beforeDrag()}),this.mindMap.on("drag",function(t,n){if(!(t.ctrlKey||t.metaKey||e.mindMap.opt.isDisableDrag||e.mindMap.selectbox.isSelecting)&&(Math.abs(n.mousemoveOffset.x)>3||Math.abs(n.mousemoveOffset.y)>3)){if(e.x=e.sx+n.mousemoveOffset.x,e.y=e.sy+n.mousemoveOffset.y,Math.abs(e.x-e.prevX)<2&&Math.abs(e.y-e.prevY)<2)return;e.prevX=e.x,e.prevY=e.y,e.transform()}}),this.mindMap.on("mouseup",function(t,n){"right"===(0,r.mousedownButton)(t)&&Math.abs(n.mousemoveOffset.x)<=3&&Math.abs(n.mousemoveOffset.y)<=3&&e.mindMap.emit("global_contextmenu",n)}),this.mindMap.event.on("mousewheel",function(t,n,i,o){if(!e.mindMap.opt.isDisableWheel){var s=e.mindMap.opt,l=s.customHandleMousewheel,c=s.mousewheelAction,d=s.mouseScaleCenterUseMousePosition,u=s.mousewheelZoomActionReverse,p=s.disableMouseWheelZoom;if(l&&"function"==typeof l)return l(t);if(c===a.CONSTANTS.MOUSE_WHEEL_ACTION.ZOOM||t.ctrlKey||t.metaKey){if(p)return;var h=e.mindMap.toPos(t.clientX,t.clientY),m=h.x,f=h.y,g=d?m:void 0,v=d?f:void 0;switch(o&&(n.includes(a.CONSTANTS.DIR.LEFT)||n.includes(a.CONSTANTS.DIR.RIGHT))&&(n=n.filter(function(e){return![a.CONSTANTS.DIR.LEFT,a.CONSTANTS.DIR.RIGHT].includes(e)})),!0){case n.includes(a.CONSTANTS.DIR.UP||a.CONSTANTS.DIR.LEFT):u?e.enlarge(g,v,o):e.narrow(g,v,o);break;case n.includes(a.CONSTANTS.DIR.DOWN||a.CONSTANTS.DIR.RIGHT):u?e.narrow(g,v,o):e.enlarge(g,v,o)}}else{var b=t.deltaX||-t.wheelDeltaX/3,y=t.deltaY||-t.wheelDeltaY/3;e.isRafPending||(e.isRafPending=!0,requestAnimationFrame(function(){e.isRafPending=!1;var n=(0,r.isMac)()||!t.shiftKey||o?o?2*-b:-b:2*-y,i=(0,r.isMac)()||!t.shiftKey||o?o?2*-y:-y:0;e.translateXY(n,i)}))}}})}},{key:"beforeDrag",value:function(){this.mindMap.opt.isDisableDrag||(this.sx=this.x,this.sy=this.y,this.mx=0,this.my=0)}},{key:"getTransformData",value:function(){return{transform:this.mindMap.draw.transform(),state:{scale:this.scale,x:this.x,y:this.y,sx:this.sx,sy:this.sy}}}},{key:"setTransformData",value:function(e){var t=this;e&&(Object.keys(e.state).forEach(function(n){t[n]=e.state[n]}),this.mindMap.draw.transform(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.transform)),this.mindMap.emit("view_data_change",this.getTransformData()),this.mindMap.emit("scale",this.scale))}},{key:"translateXY",value:function(e,t){0===e&&0===t||(this.x+=e,this.y+=t,this.transform())}},{key:"translateXYTo",value:function(e,t){0!==e&&0!==t&&(this.x=e,this.y=t,this.transform())}},{key:"translateX",value:function(e){0!==e&&(this.x+=e,this.transform())}},{key:"translateXTo",value:function(e){this.x=e,this.transform()}},{key:"translateY",value:function(e){0!==e&&(this.y+=e,this.transform())}},{key:"translateYTo",value:function(e){this.y=e,this.transform()}},{key:"transform",value:function(){var e=this;this.mindMap.draw.transform({origin:[0,0],scale:this.scale,translateX:this.x,translateY:this.y});var t=0,n=!0,i=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(i){if(!1===n)return cancelAnimationFrame(e.transformTimer),void(e.transformTimer=null);if(n=!1,i-t>=1e3/60){var o=e.mindMap.opt.createTopicsRectBoundary/3;if(Math.abs(e.oldX-e.x)>o||Math.abs(e.oldY-e.y)>o||Math.abs(e.scale-e.oldScale)>.01){var a=e.mindMap.renderer.getLruPool().map(function(e){return{id:e.id,left:e.left,top:e.top,width:e.width,height:e.height}});e.checkVisibility(a),e.oldX=e.x,e.oldY=e.y,e.oldScale=e.scale,e.transformThrottle()}t=i}});this.mindMap.emit("view_data_change_real_time",this.getTransformData()),this.mindMap.opt.partialLoad&&(this.transformTimer=requestAnimationFrame(i))}},{key:"checkVisibility",value:function(){var e=C(k().mark(function e(t){var n=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(e){(0,r.checkTopicOuter)(n.mindMap,{left:e.left,top:e.top,width:e.width,height:e.height},n.mindMap.opt.createTopicsRectBoundary).isOuter&&(e.isOuter=!0)}),this.renderVisibleNodes(t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderVisibleNodes",value:function(e){var t=this.mindMap.renderer;t.nodesGroup=[];var n=[];e.forEach(function(e){if(e.id){var i=t.getCacheTopic(e.id);i&&(i.isRenderLayout=!e.isOuter,i.renderOrUpdateLayout&&i.renderOrUpdateLayout(!0),n.push(i))}}),t.nodesGroup.forEach(function(e){return t.nodeDraw.add(e)}),t.nodesGroup=[],n.forEach(function(e){e.renderLine&&e.renderLine(!0)})}},{key:"reset",value:function(){var e=1!==this.scale;this.scale=1,this.x=0,this.y=0,this.transform(),e&&this.mindMap.emit("scale",this.scale)}},{key:"narrow",value:function(e,t,n){var i=this.mindMap.opt.scaleRatio/(n?2.5:1),o=Math.max(1*(this.scale-i).toFixed(2),this.mindMap.opt.minZoom);o!==this.scale&&(this.scaleInCenter(o,e,t),this.transform(),this.mindMap.emit("scale",this.scale))}},{key:"enlarge",value:function(e,t,n){var i=this.mindMap.opt.scaleRatio/(n?3:1),o=Math.min(1*(this.scale+i).toFixed(2),this.mindMap.opt.maxZoom);o!==this.scale&&(this.scaleInCenter(o,e,t),this.transform(),this.mindMap.emit("scale",this.scale))}},{key:"scaleInCenter",value:function(e,t,n){void 0!==t&&void 0!==n||(t=this.mindMap.width/2,n=this.mindMap.height/2);var i=this.scale,o=(1-e/i)/(i<=.2?100:1),a=(t-this.x)*o,r=(n-this.y)*o;this.x+=a,this.y+=r,this.scale=e}},{key:"setScale",value:function(e,t,n){if(!t||!n){var i=this.mindMap.renderer.selectedTopicList[0];if(i){var o=i.getRectInSvg(),a=o.left,r=o.top;t=a+o.width/2,n=r+o.height/2}else t=this.mindMap.width/2,n=this.mindMap.height/2}t&&n?this.scaleInCenter(e,t,n):this.scale=e,this.transform(),this.mindMap.emit("scale",this.scale)}},{key:"fit",value:function(){var e=this.mindMap.opt.fitPadding,t=this.mindMap.draw,n=t.transform(),i=t.rbox(),o=i.width/n.scaleX,a=i.height/n.scaleY,r=o/a,s=this.mindMap.elRect,l=s.width,c=s.height;c-=2*e;var d=0,u="";if(o<=(l-=2*e)&&a<=c)d=1,u=1;else{var p=0;r>l/c?(p=l,u=2):(p=c*r,u=3),d=p/o}this.setScale(d);var h=t.rbox();h.x-=this.mindMap.elRect.left,h.y-=this.mindMap.elRect.top;var m=0,f=0;1===u?(m=-h.x+e+(l-h.width)/2,f=-h.y+e+(c-h.height)/2):2===u?(m=-h.x+e,f=-h.y+e+(c-h.height)/2):3===u&&(m=-h.x+e+(l-h.width)/2,f=-h.y+e),this.translateXY(m,f)}},{key:"fillTheCanvas",value:function(){var e=this,t=this.mindMap.opt.fillTheCanvasData,n=t.paddingX,i=t.paddingY,o=t.scale,a=this.mindMap.renderer.root,s=a.fullHeight,l=a.fullWidth,c=this.mindMap.svg.height(),d=this.mindMap.svg.width(),u=d-2*n,p=c-2*i;if(!o){var h=u/l,m=p/s;o=Math.min(h,m),this.setScale(o)}var f=(0,r.getRootLayout)(a);"org"!==f&&"tree"!==f&&"mobi_tree"!==f&&"tree_org"!==f&&"fishbone"!==f||function(){var t=a.topicTopHalfHeight*o,n=a.getBottomHalfHeight()*o;if(t>0&&n<10){var i=t>p?Math.abs(c-p):Math.abs((c-t)/2),r=e.y-i;e.translateY(r)}if(n>0&&t<10){var s=(n>p?Math.abs(c-p):Math.abs((c-n)/2))-e.y-("mind_org"===a.getData("structure")&&a.getData("hideSelf")?a.height*o:0);e.translateY(s)}}(),"mindmap"!==f&&"logic"!==f&&"timeline"!==f&&"fishbone"!==f&&"mobi_tree"!==f&&"brace"!==f||function(){var t=a.topicLeftHalfWidth*o,n=a.getRightHalfWidth()*o;if(t>0&&n<10){var i=t>u?Math.abs(d-u):Math.abs((d-t)/2),r=e.x-i;e.translateX(r)}if(n>0&&t<10){var s=(n>u?Math.abs(d-u):Math.abs((d-n)/2))-e.x;e.translateX(s)}}()}},{key:"limitMindMapInCanvas",value:function(){var e=this.mindMap.opt,t=e.isLimitMindMapInCanvasWhenHasScrollbar,n=e.isLimitMindMapInCanvas;if(this.mindMap.scrollbar){if(!t)return}else if(!n)return;var i=this.getPositionLimit(),o=i.scale,a=i.left,r=i.top,s=i.right,l=i.bottom,c=this.scale/o;a*=c,s*=c,r*=c,l*=c;var d=this.mindMap.width/2,u=this.mindMap.height/2,p=this.scale-1;a-=p*d,s-=p*d,r-=p*u,l-=p*u,this.x>a&&(this.x=a),this.x<s&&(this.x=s),this.y>r&&(this.y=r),this.y<l&&(this.y=l)}},{key:"getPositionLimit",value:function(){var e=this.mindMap.draw.transform(),t=e.scaleX,n=e.scaleY,i=this.mindMap.draw.rbox(),o=this.mindMap.renderer.root.group.rbox(),a=this.mindMap.renderer.layout.getRootCenterOffset(o.width,o.height);return{scale:t,left:o.x-i.x-a.x*t,right:o.x-i.x2-a.x*t,top:o.y-i.y-a.y*n,bottom:o.y-i.y2-a.y*n}}}]),e}()},21093:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(6535)),a="object"==("undefined"==typeof editorGlobalConfig?"undefined":w(editorGlobalConfig))&&editorGlobalConfig.vipIcons&&editorGlobalConfig.vipIcons.primaryBtn?'<img src="'.concat(editorGlobalConfig.vipIcons.primaryBtn,'">'):"";t.default='<div class="mind-background-img-dlg po-dialog" style="">\n    <div class="po-dialog-header">'.concat(o.default.t("js.Set_background_picture"),'</div>\n    <div class="content">\n        <div class="left">\n            <div class="background-show">\n                <div class="background-img-box">\n                    <div id="background-set-view" style="width:100%;height:100%;overflow:hidden;position: relative;border:none;"></div>\n                    <span id="background-img-center" title_pos="top" class="mind-icons" original-title="').concat(o.default.t("Locate_to_the_central_theme"),'">&#xe659;</span>\n                    <canvas id="canvas-opacity" style="display:none;"></canvas>\n                </div>\n                <div class="iframe-loading">\n                    <img src="').concat(staticBasePath,'/wps/images/insert-loading1.gif"/>\n                    <span>').concat(o.default.t("js.Loading_please_wait"),'...</span>\n                </div>\n                <div class="img-upload">\n                    <label>\n                        <img class="upload-click-img" src="').concat(staticBasePath,'/wps/images/upload-click-img.svg"/>\n                        <span class="upload-text">').concat(o.default.t("js.Click_to_upload_picture"),'</span>\n                        <input class="background-img-upload" type="file" accept="image/*">\n                    </label>\n                    <span>').concat(o.default.t("js.Suggested_Format")," .JPG、.JPEG、.PNG<br>").concat(o.default.t("js.Not_more_than_2M_in_size"),'</span>\n                </div>\n            </div>\n            <label class="change">\n                ').concat(o.default.t("js.Change_the_picture"),'\n                <input class="background-img-upload" type="file" accept="image/*">\n            </label>\n        </div>\n        <div class="right">\n            <p class="title">').concat(o.default.t("js.Picture_Settings"),'</p>\n            <ul class="change-box disabled">\n                <li>\n                    <div class="change-item">\n                        <p>').concat(o.default.t("js.Wide"),'</p>\n                        <div class="number-group">\n                            <input data-name="W" type="text" maxlength="5" min-number="20" max-number="20000">\n                            <div>\n                                <span class="mind-icons">&#xe772;</span>\n                                <span class="mind-icons">&#xe71e;</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="lock-box active" original-title="').concat(o.default.t("js.Lock_aspect_ratio"),'"><span\n                            class="mind-icons unlock">&#xe62d;</span><span class="mind-icons lock">&#xe6c2;</span></div>\n                    <div class="change-item">\n                        <p>').concat(o.default.t("js.High"),'</p>\n                        <div class="number-group">\n                            <input data-name="H" type="text" maxlength="5" min-number="20" max-number="20000">\n                            <div>\n                                <span class="mind-icons">&#xe772;</span>\n                                <span class="mind-icons">&#xe71e;</span>\n                            </div>\n                        </div>\n                    </div>\n                </li>\n                <li>\n                    <div class="change-item">\n                        <p>X</p>\n                        <div class="number-group">\n                            <input data-name="X" type="text">\n                            <div>\n                                <span class="mind-icons">&#xe772;</span>\n                                <span class="mind-icons">&#xe71e;</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="lock active"></div>\n                    <div class="change-item">\n                        <p>Y</p>\n                        <div class="number-group">\n                            <input data-name="Y" type="text">\n                            <div>\n                                <span class="mind-icons">&#xe772;</span>\n                                <span class="mind-icons">&#xe71e;</span>\n                            </div>\n                        </div>\n                    </div>\n                </li>\n                <li>\n                    <div class="change-item column" style="width:100%;">\n                        <p>').concat(o.default.t("js.Arrangement"),'</p>\n                        <div class="number-group select-group">\n                            <span class="checked-title">').concat(o.default.t("js.Repeat"),'</span>\n                            <div><span class="mind-icons">&#xe71e;</span></div>\n                            <ul>\n                                <li class="checked" data-val="repeat">').concat(o.default.t("js.Repeat"),'<span></span></li>\n                                <li data-val="no-repeat">').concat(o.default.t("js.Do_not_repeat"),'<span></span></li>\n                                <li data-val="repeat-x">').concat(o.default.t("js.Repeat_horizontally"),'<span></span></li>\n                                <li data-val="repeat-y">').concat(o.default.t("js.Repeat_lengthwise"),'<span></span></li>\n                                <li data-val="cover">').concat(o.default.t("js.Stretch_to_cover"),'<span></span></li>\n                            </ul>\n                        </div>\n                    </div>\n                </li>\n                <li>\n                    <div class="change-item column" style="width:100%;">\n                        <p>').concat(o.default.t("js.Opacity"),'</p>\n                        <div class="number-group" style="width: 196px;">\n                            <input data-name="opacity" type="text" value="100%" maxlength="4" min-number="0"\n                                   max-number="100" unit="%">\n                            <div>\n                                <span class="mind-icons">&#xe772;</span>\n                                <span class="mind-icons">&#xe71e;</span>\n                            </div>\n                        </div>\n                    </div>\n                </li>\n            </ul>\n            <div class="sub-group">\n                <span class="mind-button gray">').concat(o.default.t("js.Cancel"),'</span>\n                <span class="mind-button submit">\n                    <div class="confrime">').concat(o.default.t("js.Confirm"),"</div>\n                    ").concat(a,"\n                </span>\n            </div>\n        </div>\n    </div>\n\n</div>")},35720:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(83403),n(28293),n(95313),n(33488),n(70116),n(33152),n(65528),n(4790),n(82403),n(12638),n(6284),n(20005),n(13552),n(42712),n(42211),n(20306),n(32209),n(68801),n(18097),n(62495),n(72216),n(63061),n(69268),n(86837),n(54938),n(81475),n(57895),n(77439);var o=i(n(21093)),a=i(n(70138)),r=i(n(6535)),s=n(62937);n(80686);var l={data:{img:{W:20,H:20,X:0,Y:0,opacity:100},content:{W:0,H:0,X:0,Y:0},repeat:"repeat",lock:0,url:"",imgBaes64:"",scale:1,iframeLoaded:!1,drawImg:!1,coverData:""},init:function(){0==$(".mind-background-img-dlg").length&&$(".mind-util-container").append(o.default);var e=this,t=$("#background-img-center"),n=$(".mind-background-img-dlg .change-box"),i=n.find("input[type=text]"),l=n.find(".number-group:not(.select-group) .mind-icons"),c=n.find(".select-group"),d=c.find("ul"),u=$(".mind-background-img-dlg .sub-group .gray"),p=$(".mind-background-img-dlg .sub-group .submit");$(".mind-background-img-dlg").off("mousedown").on("mousedown",function(e){e.stopPropagation()}),this.cleanData(),this.data.iframeLoaded=!1,a.default.init("#background-set-view",{callback:function(t){e.computeSize(t)}}),t.off("clikc").on("click",function(){e.centerView()}),i.off("change").on("change",function(){e.setVal(this,$(this).val())}),l.off("click").on("click",function(){var t=$(this).parents(".number-group").find("input[type=text]"),n=$(this).index(),i=parseInt(t.val());n?e.setVal(t,i-5):e.setVal(t,i+5)}),c.off("click").on("click",function(){$(this).find("ul").slideToggle(200)}),d.off("click").on("click","li",function(){if(!$(this).hasClass("checked")){if("cover"!=$(this).attr("data-val")&&"cover"!=e.data.repeat||(e.data.drawImg=!0),e.data.repeat=$(this).attr("data-val"),$(this).parent().siblings(".checked-title").text($(this).text()),$(this).addClass("checked").siblings().removeClass("checked"),"cover"===e.data.repeat){var t={W:0,H:0,X:0,Y:0};e.data.content.W/e.data.content.H>e.data.lock?(t.W=e.data.content.W,t.H=parseInt(e.data.content.W/e.data.lock),t.Y=parseInt((e.data.content.H-t.H)/2*e.data.scale)):(t.H=e.data.content.H,t.W=parseInt(e.data.content.H*e.data.lock),t.X=parseInt((e.data.content.W-t.W)/2*e.data.scale)),e.data.coverData=t,e.disChange(["W","H","X","Y"],!0)}else e.data.coverData="",e.disChange(["W","H","X","Y"],!1);e.backgroundImageShow()}}),$(".background-img-upload").off("change").on("change",function(){e.cleanData();var t=this.files[0];if($(this).val(""),!/image\/\w+/.test(t.type))return $.toast({type:"warning",text:r.default.t("js.Picture_format_error"),target:$(".mind-background-img-dlg")}),!1;if(t.size>2097152)return $.toast({type:"warning",text:r.default.t("js._The_picture_size_should_not_exceed_2M"),target:$(".mind-background-img-dlg")}),!1;$(".mind-background-img-dlg .left .img-upload").hide();var n=new FileReader;n.readAsDataURL(t),n.onload=function(){e.data.imgBaes64=this.result,e.data.url=this.result,e.imgData(this.result)}}),u.off("click").on("click",function(){$(".mind-background-img-dlg").dialog("close"),e.cleanData(),$("#background-set-view").html("")}),p.off("click").on("click",function(){$(this).hasClass("mind-disable1")||(s.vipState.test("backgroundImage")?e.data.url&&e.data.iframeLoaded?($(this).addClass("mind-disable1"),e.data.drawImg?e.drawToCanvas(!0):e.uploadImg()):$.toast({type:"warning",text:r.default.t("js.Please_upload_pictures"),target:$(".mind-background-img-dlg")}):s.vipState.limit({type:"docer_image",pos:"background"}))}),$(".mind-background-img-dlg").dialog()},cleanData:function(){var e=this;$(".mind-background-img-dlg .right .change-box").addClass("disabled"),$(".mind-background-img-dlg .sub-group .submit").removeClass("mind-disable1"),$(".mind-background-img-dlg .left .img-upload").css({display:"flex"}),$(".mind-background-img-dlg .left .iframe-loading").css({display:"flex"}),$(".mind-background-img-dlg .left .change").hide(),$(".mind-background-img-dlg .number-group input").val(""),$(".mind-background-img-dlg .number-group input[data-name=opacity]").val("100%");var t=$(".mind-background-img-dlg .select-group ul li[data-val=repeat]");t.parent().siblings(".checked-title").text(t.text()),t.addClass("checked").siblings().removeClass("checked"),e.disChange(["W","H","X","Y"],!1),e.data.lock=0,e.data.url="",e.data.imgBaes64="",e.data.repeat=t.attr("data-val"),e.data.img.opacity=100,e.data.drawImg=!1,e.data.coverData=""},imgData:function(e){var t=this;if(this.data.iframeLoaded){var n=new Image;n.src=e,n.onload=function(){t.nameToSetVal("W",n.width),t.nameToSetVal("H",n.height),t.nameToSetVal("X",0),t.nameToSetVal("Y",0),t.data.lock=n.width/n.height,$(".mind-background-img-dlg .right .change-box").removeClass("disabled"),t.backgroundImageShow(),$(".mind-background-img-dlg .left .iframe-loading").hide(),$(".mind-background-img-dlg .left .change").css({display:"block"})},n.onerror=function(){$.toast({type:"warning",text:r.default.t("js.Picture_format_error"),target:$(".mind-background-img-dlg")}),t.cleanData()}}else setTimeout(function(){t.imgData(e)},1e3)},nameToSetVal:function(e,t){var n=".mind-background-img-dlg .number-group input[data-name="+e+"]";this.setVal(n,t,!0)},setVal:function(e,t,n){var i=$(e).attr("data-name"),o=$(e).attr("min-number")||"",a=$(e).attr("max-number")||"",s=$(e).attr("unit")||"",l=this.data.lock,c=parseInt(t);if(isNaN(c)?c=this.data.img[i]:(o&&c<o&&(c=parseInt(o),$.toast({type:"warning",text:r.default.t("js.Minimum_value_is")+o+""+s,target:$(".mind-background-img-dlg")})),a&&c>a&&(c=parseInt(a),$.toast({type:"warning",text:r.default.t("js.The_maximum_value_is")+a+""+s,target:$(".mind-background-img-dlg")}))),l)if("W"==i){var d=Math.round(c/l);o&&d<o&&(d=o),a&&d>a&&(d=a),this.data.img.H=d,$(".mind-background-img-dlg .number-group input[data-name=H]").val(d+""+s)}else if("H"==i){var u=Math.round(c*l);o&&u<o&&(u=o),a&&u>a&&(u=a),this.data.img.W=u,$(".mind-background-img-dlg .number-group input[data-name=W]").val(u+""+s)}this.data.img[i]=c,$(e).val(c+""+s),"W"!=i&&"H"!=i||(this.data.drawImg=!0),n||("opacity"!=i?this.backgroundImageShow():this.drawToCanvas())},drawToCanvas:function(e){var t=this,n=$("#canvas-opacity")[0],i=new Image;i.src=t.data.imgBaes64,i.onload=function(){n.width=t.data.img.W,n.height=t.data.img.H;var o=n.getContext("2d");o.clearRect(0,0,n.width,n.height),o.globalAlpha=t.data.img.opacity/100,o.drawImage(i,0,0,t.data.img.W,t.data.img.H),t.data.url=n.toDataURL(),t.data.drawImg=!1,e?t.uploadImg():t.backgroundImageShow()}},base64ToBlob:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([i],{type:n})},showSize:function(e){var t=e.replace("data:image/png;base64,","").replace("data:image/jpeg;base64,",""),n=t.indexOf("=");t.indexOf("=")>0&&(t=t.substring(0,n));var i,o=t.length,a=(i=(parseInt(o-o/8*2)/1024).toFixed(2))+"",r=a.indexOf(".");return"00"==a.substr(r+1,2)?a.substring(0,r)+a.substr(r+3,2):i},backgroundImageShow:function(e){var t=this.data,n=t.coverData?t.coverData:this.data.img,i="cover"==t.repeat?"no-repeat":t.repeat,o="",a=$("#background-set-view").children().get(0).getBoundingClientRect(),r=$("#background-set-view").children().find("svg").get(0).getBoundingClientRect(),s=r.left-a.left,l=r.top-a.top;(a.width>304||r.height>356)&&(s*=this.data.scale,l*=this.data.scale),e?(o="url("+t.url+") "+-(t.transX-n.X/this.data.scale)+"px "+-(t.transY-n.Y/this.data.scale)+"px / "+n.W+"px "+n.H+"px "+i,editorGlobal.mindMap.emit(""),editorGlobal.mindMap.execCommand("SET_BACKGROUND",o,"backgroundImg",!0),$(".mind-background-img-dlg").dialog("close"),this.cleanData(),$("#background-set-view").html("")):(o="url("+t.url+") "+(s+n.X)/this.data.scale+"px "+(l+n.Y)/this.data.scale+"px / "+n.W+"px "+n.H+"px "+i,$("#background-set-view").children().css({background:o}))},uploadImg:function(){var e=C(k().mark(function e(){var t,n,i,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,n=this.showSize(t.data.url),e.t0=n/1024>10||0==n,!e.t0){e.next=7;break}return e.next=5,t.compressedImage(t.data.url,1e4);case 5:t.data.url=e.sent,e.t0=!t.data.url;case 7:if(!e.t0){e.next=9;break}return e.abrupt("return",($.toast({type:"warning",text:r.default.t("js.The_image_size_should_not_exceed_10M"),target:$(".mind-background-img-dlg")}),void $(".mind-background-img-dlg .sub-group .submit").removeClass("mind-disable1")));case 9:i=new FormData,o=t.base64ToBlob(t.data.url),i.append("image",o),injectExtraAsynCall("onServerApi",{apiName:"uploadImageForm",params:i},function(e){var n=e.data,i=e.result;$(".mind-background-img-dlg .sub-group .submit").removeClass("mind-disable1"),"size_wrong"!=i?"type_wrong"!=i?null!=n.url?""!=n.url&&(t.data.url=n.url,t.backgroundImageShow(!0)):$.toast({type:"error",text:r.default.t("js.Upload_failed_on"),target:$(".mind-background-img-dlg")}):$.toast({type:"warning",text:r.default.t("js.Upload_picture_format_only"),target:$(".mind-background-img-dlg")}):$.toast({type:"warning",text:r.default.t("js.The_image_size_should_not_exceed_10M"),target:$(".mind-background-img-dlg")})});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),disChange:function(e,t){e&&e.length&&e.map(function(e){var n=$(".mind-background-img-dlg .number-group input[data-name="+e+"]").parent();t?n.addClass("disabled"):n.removeClass("disabled")})},computeSize:function(e){if(!$(".mind-background-img-dlg").is(":hidden")){var t=e.w,n=e.h;this.data.content.W=t,this.data.content.H=n,this.data.content.X=e.centerTopicX||0,this.data.content.Y=e.centerTopicX||0,this.data.transX=e.transX,this.data.transY=e.transY;var i=e.wrapW,o=e.wrapH;this.data.scale=o/n>i/t?i/t>1?1:i/t:o/n>1?1:o/n,this.centerView(),$("#background-set-view").find("#mind-svg-con").css({background:"transparent"}),$("#background-set-view").find("#svgbackgroundid").remove(),this.data.iframeLoaded=!0}},centerView:function(){var e=this.data.scale;$("#background-set-view").children().css({zoom:e})},compressedImage:function(){var e=C(k().mark(function e(t,n,i){var o,a;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=6;break}if(!(i<=.1)){e.next=3;break}return e.abrupt("return",!1);case 3:i-=.1,e.next=7;break;case 6:i=.9;case 7:return o=this.data.img,e.next=10,new Promise(function(e){var n=document.createElement("canvas");n.width=o.W,n.height=o.H;var a=n.getContext("2d");a.globalAlpha=o.opacity/100,a.fillStyle="#FFFFFF",a.fillRect(0,0,o.W,o.H);var r=new Image;r.src=t,r.onload=function(){a.drawImage(r,0,0,o.W,o.H),e(n.toDataURL("image/jpeg",i))}});case 10:if(a=e.sent,!(this.showSize(a)>n)){e.next=17;break}return e.next=14,this.compressedImage(a,n,i);case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0=a;case 18:return e.abrupt("return",e.t0);case 19:case"end":return e.stop()}},e,this)}));return function(t,n,i){return e.apply(this,arguments)}}()};t.default=l},53134:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarHandleEvent=void 0,n(82403),n(6284),n(69268),n(58500),n(86837);var o=n(74479),a=i(n(6535)),r=i(n(39091)),s=n(76920),l=n(47306),c=n(15240),d=n(83316);t.ToolbarHandleEvent=function(){function e(t){T(this,e),this.initEvent(),this.mindMap=editorGlobal.mindMap,this.handleEvent(t)}return M(e,[{key:"initEvent",value:function(){var e=this,t=$("#mind-topic-cuswidth-show");editorGlobal.mindMap.on("openUrlLinkDlg",function(){o.handleEvent.invokingfn("url")}),editorGlobal.mindMap.on("openEquationDlg",function(){o.handleEvent.invokingfn("mind_equation")}),editorGlobal.mindMap.on("openInsertImageDlg",function(){o.handleEvent.invokingfn("image")}),t.parent(".po-checkbox-group").button({onClick:function(e){e.stopPropagation();var n=editorGlobal.mindMap.renderer,i=$("#mind-customise-topicw_"),o=n.selectedTopicList.filter(function(e){return!e.getFlexDirection()});if(0!=o.length){var a=t,r="auto";a.checkbox("isChecked")?(a.checkbox("uncheck"),i.addClass("disabled"),r="auto"):(a.checkbox("check"),i.removeClass("disabled"),r=0),editorGlobal.mindMap.execCommand("UPDATE_TOPIC_WIDTH",o,r)}}}),$("#mind-customise-topicw_").spinner({min:30,max:900,step:1,unit:"px",width:70,onChange:function(t){if(!isNaN(t)){var n=editorGlobal.mindMap.renderer.selectedTopicList.filter(function(e){return!e.getFlexDirection()});e.mindMap.execCommand("UPDATE_TOPIC_WIDTH",n,t)}}}),r.default.initMarginEvent($("#mind-topic-space_"),"bottom",function(){return!editorGlobal.mindMap.opt.readonly},"v1-ui-header"),$(document).off("click.icon").on("click.icon",".mind-right-detail-icons .icon-n",function(){var e=$(this),t=e.css("color");o.handleEvent.invokingfn("setIcon",e,null,t)}),$(".outline-dragable, .remark-dragable").off("mouseover").on("mouseover",function(){var e=$(this).children(".dragable_line");window.dragLineTimer&&(clearTimeout(window.dragLineTimer),window.dragLineTimer=null),window.dragOutTimer&&(clearTimeout(window.dragOutTimer),window.dragOutTimer=null),window.dragLineTimer=setTimeout(function(){e.fadeIn(300)},300)}).on("mouseout",function(){window.dragLineTimer&&(clearTimeout(window.dragLineTimer),window.dragLineTimer=null);var e=$(this).children(".dragable_line");window.dragOutTimer=setTimeout(function(){e.fadeOut(300)},300)}),editorGlobal.mindMap.on("topic_mousedown",function(){}),$(document).on("mousedown.hideList",function(t){$(t.target).closest(".structure-dialog").length>0||$(t.target).closest("#mind-insert-structure_").length>0||$(t.target).closest("#mind-s-insert-structure_").length>0||e.hideList()}),editorGlobal.mindMap.on("curLayoutEcho",function(){e.echoStructure()}),editorGlobal.mindMap.on("saveTitle",this.saveTitle.bind(this)),this.echoStructure()}},{key:"echoStructure",value:function(){var e=editorGlobal.mindMap.renderer.mindTree.structure;s.MIND_STRUCTURE[e]||(e="mind_free"),s.MIND_STRUCTURE[e]&&($("#mind-insert-structure_").find("svg.icon use").attr("xlink:href",s.MIND_STRUCTURE[e]),$("#mind-s-insert-structure_").find("svg.icon use").attr("xlink:href",s.MIND_STRUCTURE[e]))}},{key:"saveTitle",value:function(e){var t=editorGlobal.chartObj.title;e=(0,c.getTextFromHtml)(e),(e=l.Util.restoreXss(e))&&e!=t&&(l.Util.getCharLength(e)>128?$.toast({type:"error",text:a.default.t("js.File_name_cannot_exceed")}):(t=e,editorGlobal.chartObj.title=e,injectExtraAsynCall("saveTitle",e)))}},{key:"hideList",value:function(){$(".structure-dialog").hide(),$("#mind-insert-structure_").removeClass("selected"),$("#mind-s-insert-structure_").removeClass("selected")}},{key:"handleEvent",value:function(e){e&&e.length>0&&$(".po-tool-btn[tit]").off("click.toolbar").on("click.toolbar",function(e){if(e.stopPropagation(),!editorGlobal.mindMap.opt.readonly){var t=$(this),n=t.attr("tit"),i=editorGlobal.mindMap.renderer.getSelectedIds(),r=editorGlobal.mindMap.renderer.getTopicById(i[0]);if(n&&!e.isTrigger&&"mind_topic_space"!==n&&(0,d.$poCollect)("mind_click",{tit:n,pos:"v1-ui-header",tab:$(this).parent().attr("tit")}),n&&-1!=n.indexOf("export-")){var s=n.replace("export-","");injectExtraAsynCall("onBeforeExport",{type:s},function(){})}else if(n&&"mind_ppt"===n)injectExtraAsynCall("onBeforeExport",{type:"mind_ppt",position:"mindppt"},function(){});else if(t.hasClass("mind-disable1"))r?r.root&&"focus_mode"==n&&$.toast({type:"secondary",text:a.default.t("中心主题不支持进入聚焦模式")}):$.toast({type:"secondary",text:a.default.t("请选中主题后操作")});else if("mind_structure"!==n)o.handleEvent.invokingfn(n,{target:t,e:e});else{var l=$(t),c=l.attr("id");"mind-insert-structure_"===c&&"mind-s-insert-structure_"===c||0===(l=l.closest("#mind-s-insert-structure_")).length&&(l=$(t).closest("#mind-insert-structure_"));var u=$(".structure-dialog");if(u.is(":visible"))u.hide(),l.removeClass("selected");else{var p;l.addClass("selected"),u.show();var h=l[0].getBoundingClientRect();p=h.y+h.height+5;var m=h.left;h.left+u.outerWidth()+8>$("body").width()&&(m=$("body").width()-u.outerWidth()-8),u.css({top:p,left:m})}}}})}}]),e}()},17737:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.headerUI=t.headerInit=void 0,n(27531),n(4790),n(64518),n(14544),n(23801),n(66096),n(63551),n(40724),n(81006),n(38887),n(69268),n(58500),n(86837),n(84889),n(54938),n(14237);var o=n(53134),a=i(n(6535));n(7543);var r=n(80214),s=n(38648),l=i(n(39091)),c=n(62752),d=n(83316),u=r.CONSTANTS.LAYOUT,p='\n<div class="header-center">\n    <span tit="start" class="active">'.concat(a.default.t("js.Start"),'</span>\n    <span tit="style">').concat(a.default.t("js.Style"),'</span>\n    <span tit="edit">').concat(a.default.t("js.Insert"),'</span>\n    <span tit="view">').concat(a.default.t("js.View_on"),'</span>\n    <span tit="export">').concat(a.default.t("js.Export"),"</span>\n</div>"),h='<div id="mind-undo-btn-edit" tit="undo" class="po-tool-btn mind-disable" title="'.concat(a.default.t("js.Undo"),'（Ctrl+Z）">\n<div class="mind-icons">&#xe715;</div>\n</div>\n<div id="mind-redo-btn" tit="redo" class="po-tool-btn mind-disable" title="').concat(a.default.t("js.Restore"),'（Ctrl+Y）" >\n<div class="mind-icons">&#xe70a;</div>\n</div>\n<div id="mind-brash-btn" tit="brash" class="po-tool-btn" title="').concat(a.default.t("js.Format_brush"),'（Ctrl+Shift+C）">\n<div class="mind-icons">&#xe70e;</div>\n</div>');function m(e){var t=$("#header-op-container"),n=$("#head-slither"),i=$("#po-header"),o=t.children("[tit]:visible");if(n.hasClass("close"))n.css("display","none");else{var a=t.outerWidth()-o.outerWidth(),r=o.offset().left;if("resize"==e&&n.hasClass("left")&&n.is(":visible")&&a-r<0){var s=$("#head-slither-temp");return 0==s.length&&(s=$('<div id="head-slither-temp" class="head-slither right" style="display:flex;"><i class="mind-icons">&#xe66f;</i></div>').appendTo(i)),void s.button({onClick:function(e,n){var i=t.outerWidth()-o.outerWidth();o.css("transform","translateX(".concat(i,"px)")),$(n).remove()}})}$("#head-slither-temp").remove(),$("#head-slither.left").trigger("click"),o.css("transform","translate(0, 0)"),n.removeClass("left").addClass("right"),n.css({display:"".concat(a<0?"flex":"none"),bottom:i.css("padding-bottom")}),"resize"==e&&($("#header-op-container").outerWidth()<715?$("#header-help-icon .text").length&&!$("#header-help-icon .text").hasClass("hide")&&$("#header-help-icon .text").addClass("hide"):$("#header-help-icon .text").length&&$("#header-help-icon .text").hasClass("hide")&&$("#header-help-icon .text").removeClass("hide"))}}t.headerUI={handlerHeaderBtn:function(e){var t,n=e.isShow,i=e.btnName,o=e.selector,a=$("#header-op-container");o&&(t=a.find("selector")),i&&(t=a.find("[tit=".concat(i,"]"))),t&&(n?t.show():t.hide(),m())},init:function(){var e=C(k().mark(function e(){var t=this;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.default.render(),this.renderMenu(),f(),this.changeOpStatus(null,[]),this.bgEcho(),editorGlobalConfig.showCodeBlock&&$("#header-op-container [tit=edit]").append('\n\t\t\t<div id="mind-code" tit="code" class="po-tool-btn" >\n\t\t\t\t<div class="mind-icons po-menu-icon">&#xe89f;</div>\n\t\t\t\t<div class="item-name">'.concat(a.default.t("Code_block"),"</div>\n\t\t\t</div>\n\t\t\t")),editorGlobal.mindMap.on("undoStackChanged",function(e){injectExtraAsynCall("onUndoStatus",0===e,function(){$(".mind-header [tit=undo]").removeClass("mind-disable"),0===e?$(".mind-header [tit=undo]").addClass("mind-disable1"):$(".mind-header [tit=undo]").removeClass("mind-disable1")})}),editorGlobal.mindMap.on("redoStackChanged",function(e){injectExtraAsynCall("onRedoStatus",0===e,function(){$(".mind-header [tit=redo]").removeClass("mind-disable"),0===e?$(".mind-header [tit=redo]").addClass("mind-disable1"):$(".mind-header [tit=redo]").removeClass("mind-disable1")})}),editorGlobal.mindMap.on("topic_style_echo",this.echoFn.bind(this)),editorGlobal.mindMap.on("updatePageStyle",function(){t.bgEcho()}),editorGlobal.mindMap.on("curThemeEcho",function(){t.bgEcho()}),editorGlobal.mindMap.on("set_svg_background",function(){setTimeout(function(){t.bgEcho()})}),editorGlobal.mindMap.on("readonly_change",function(e){e.hasOwnProperty("pageStyle")&&(e.pageStyle?$("#mind-style-page").removeClass("mind-disable"):$("#mind-style-page").addClass("mind-disable")),e.hasOwnProperty("topicStyle")&&(e.topicStyle&&editorGlobal.mindMap.renderer.selectedTopicList.length?$("#mind-style-topic").removeClass("mind-disable"):$("#mind-style-topic").addClass("mind-disable"))}),editorGlobal.mindMap.on("topic_selected",this.changeOpStatus.bind(this)),this.initStructure();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),initStructure:function(){var e=$('<div class="structure-dialog"></div>');s.structure.init(e),$("body").append(e)},bgEcho:function(){var e=editorGlobal.mindMap.renderer.getBackgroundColor();$(".po-tool-btn[tit=mind_canvas_bgcolor]").find(".color_line").css("backgroundColor",e)},echoFn:function(){var e=editorGlobal.mindMap.renderer.selectedTopicList,t=e[0];this.changeOpStatus(t,e)},topicTextStyleEcho:function(e){"bold"==e.getStyle("font-weight")?$("#mind-font-b").addClass("selected"):$("#mind-font-b").removeClass("selected"),"italic"==e.getStyle("font-style")?$("#mind-font-i").addClass("selected"):$("#mind-font-i").removeClass("selected");var t=e.getStyle("font-family");t&&t.indexOf("微软雅黑");var n=e.getStyle("font-size");$("#mind-select-font_ .text-content").text(t||"微软雅黑"),$("#mind_topic_font_size .text-content").html(n+"px");var i=e.style.getTextColor();$("#mind-font-color").find(".color_line").css({background:i}),$("#mind-font-".concat(e.getStyle("text-align"))).addClass("selected").siblings("[align]").removeClass("selected")},updateWidthSettingStatusByShape:function(){0===editorGlobal.mindMap.renderer.selectedTopicList.filter(function(e){var t=e.getShape();return!r.disabledShape.includes(t)}).length?$("#mind-topic-width_").addClass("mind-disable"):$("#mind-topic-width_").removeClass("mind-disable")},topicPanelStyleEcho:function(e){if(e=e||editorGlobal.mindMap.renderer.getSelectedTopic()){this.topicTextStyleEcho(e),this.topicCustomWidthEcho(e);var t=e.getShape();if(t){$("#mind-customise-bs").attr("ac",t);var n=$("#mind-customise-bsl [ac='"+t+"']").find(".po-diagraming-icons").html();$("#mind-customise-bs .po-diagraming-icons").html(n),r.disabledShape.includes(t)?$("#topic-width-container").addClass("mind-disable"):$("#topic-width-container").removeClass("mind-disable"),this.updateWidthSettingStatusByShape()}var i=e.style.getStyle("background");"autoColor"===i&&(i=e.style.getAutoColor());var o=e.getStyle("border-style"),a=e.style.getActualBorderColor(o)||"tranparent";a&&$("#mind-customise-bc_").find(".color_line").css({background:a}),$("#mind-topic-bg").find(".color_line").css({background:i}),l.default.updateTopicMargin();var s=e.style.getLineColor();$("#mind-customise-linec_").find(".color_line").css({background:s}),this.lineTypeEcho(e)}},lineTypeEcho:function(e){var t=e.isRoot?editorGlobal.mindMap.getLayoutByStructure(e.getData("structure")):e.layout;$("#mind-customise-linet-list_").is(":visible")||this.setLineTypeMenu(e);var n=e.style.getStyle("lineType");if(n){(u.TREE===t||u.TIMELINE===t&&1===e.layoutIndex)&&"roundBroken"!==n&&(n="broken"),$("#mind-customise-linet_").attr("ac",n);var i=$("#mind-customise-linet-list_ [ac='"+n+"']");i.siblings().find(".po-menu-item-box").removeClass("active"),i.find(".po-menu-item-box").addClass("active");var o=i.find(".po-diagraming-icons").html();$("#mind-customise-linet_ .po-diagraming-icons").html(o)}},setLineTypeMenu:function(e){var t=e.isRoot?editorGlobal.mindMap.getLayoutByStructure(e.getData("structure")):e.layout,n=c.LINE_STYLE_CAN_SET[t];if(n){var i,o=e.layoutIndex;i=o<=1?n[o]:n[2],$("#mind-customise-linet-list_").empty();var a=Object.keys(i||{}).map(function(e){return'<li class="po-menu-item" ac="'.concat(e,'"><div class="po-menu-item-box"><span class="text-content po-diagraming-icons">').concat(i[e],"</span></li>")});$("#mind-customise-linet-list_").append(a.join("")),0===a.length?$("#mind-customise-linet_").addClass("mind-disable1"):$("#mind-customise-linet_").removeClass("mind-disable1")}else $("#mind-customise-linet_").addClass("mind-disable1")},topicCustomWidthEcho:function(){var e=editorGlobal.mindMap.renderer.selectedTopicList,t=e.filter(function(e){return!e.getFlexDirection()}),n=t.filter(function(e){return e.getData("customWidth")}),i=$("#mind-customise-topicw_"),o=$("#mind-topic-cuswidth-show");n.length>0?(o.addClass("checked"),i.removeClass("disabled")):(o.removeClass("checked"),i.addClass("disabled"));var a=e.map(function(e){return e.width}),r=new Set(a).size>1?null:Math.floor(a[0])+"px";i.spinner("setValue",r),0===t.length?(i.addClass("disabled"),o.addClass("disabled")):o.removeClass("disabled")},changeOpStatus:function(e,t){var n,i=null==e?void 0:e.getPureData();if($(".po-tool-btn[tit=mind_mode]").addClass("selected"),0==t.length)n=["mind_free_subtopics","outline","rename","undo","redo","search","mind_hide_topics","mind_show_topics","mind_themes","mind_structure","mind_canvas_bgcolor","mind_ppt","mind_comment","mind_watermark","mind_inserttemp","mind_topic_space","shortcut","mind_guide","mind_book","mind_mode","focus_root","nav"],$(".po-tool-btn").each(function(e,t){var i=$(t).attr("tit");-1==n.indexOf(i)&&i&&-1==i.indexOf("export-")&&$(t).addClass("mind-disable1")}),$(".po-tool-btn[tit=export-download_parthd]").addClass("mind-disable"),$(".drop-menu-download li[ac=export_download_parthd]").addClass("mind-disable"),$(".mind-dock-right-mg").addClass("mind-disable1"),$("#mind-subtopic-y").children("input").attr("mind-disable",!1),$("#mind-subtopic-children-y").children("input").attr("mind-disable",!1),$("#mind-subtopic-x").children("input").attr("mind-disable",!1),$("#mind-subtopic-children-x").children("input").attr("mind-disable",!1),$("#mind_brash,#mind_brash_item").addClass("mind-disable1"),$(".mind-right-con").find("[tit=tag], [tit=task]").addClass("mind-disable"),$("[tit=focus_mode]").trigger("mouseout").removeAttr("title").removeAttr("original-title");else{$(".po-tool-btn").each(function(e,t){var n=$(t).attr("tit");"mind_hide_topics"!==n&&"undo"!==n&&"redo"!==n&&"mind_show_topics"!==n&&"mind_themes"!==n&&"mind_structure"!==n&&"mind_canvas_bgcolor"!==n&&$(t).removeClass("mind-disable1")}),$("[tit=mind_insert_brother]").removeClass("mind-disable1"),$("[tit=mind_insert_parent]").removeClass("mind-disable1"),$(".mind-dock-right-mg").removeClass("mind-disable1"),$("#mind_brash,#mind_brash_item").removeClass("mind-disable1"),$(".drop-menu-download li[ac=export_download_parthd]").removeClass("mind-disable").removeClass("mind-disable1"),$(".po-tool-btn[tit=export-download_parthd]").removeClass("mind-disable").removeClass("mind-disable1"),$(".mind-right-con").find("[tit=tag], [tit=task]").removeClass("mind-disable"),$("[tit=focus_mode]").attr("title",a.default.t("js.Enter_the_focus_mode_of_the_currently")),t.length>1&&(s("image"),s("remark"),s("link"),s("task"),s("mind_connection"),s("mind_insert_child"),s("mind_insert_parent"),s("mind_insert_brother"),s("focus_mode"),$("#mind_brash,#mind_brash_item,.po-tool-btn[tit=focus_mode]").addClass("mind-disable1"),$("[tit=focus_mode]").removeAttr("title").removeAttr("original-title"),$(".po-tool-btn[tit=export-download_parthd]").addClass("mind-disable1"));for(var o=0;o<t.length;o++){var r=t[o].getPureData();if(r.root){$(".po-tool-btn[tit=mind_summary], .po-tool-btn[tit=mind_boundary]").addClass("mind-disable1"),$("[tit=mind_insert_brother]").addClass("mind-disable1"),$(".drop-menu-download li[ac=export_download_parthd]").addClass("mind-disable1"),$(".po-tool-btn[tit=export-download_parthd]").addClass("mind-disable1"),s("focus_mode"),$("[tit=focus_mode]").trigger("mouseout").removeAttr("title").removeAttr("original-title");break}if(r&&r.free)$(".po-tool-btn[tit=mind_summary]").addClass("mind-disable1");else if(r.summary){$(".po-tool-btn[tit=mind_summary], .po-tool-btn[tit=mind_boundary]").addClass("mind-disable1");break}}}function s(e){$(".mind-header [tit="+e+"]").addClass("mind-disable1")}!i||!e.isRoot&&e.checkSupportAddSUmmaryAndBoundary()||(s("mind_boundary"),s("mind_summary")),i&&(i.summary||i.free)&&($(".po-tool-btn[tit=mind_insert_parent]").addClass("mind-disable1"),$("#mind-customise-linec_").addClass("mind-disable1"),$(".po-tool-btn[tit=mind_topicline_width]").addClass("mind-disable1")),this.resetHeadOpicon(),this.topicPanelStyleEcho(e,t)},resetHeadOpicon:function(){var e;$(".mind-icons.selected[tit=seticon]").removeClass("selected");var t=null===(e=editorGlobal.mindMap.renderer.selectedTopicList[0])||void 0===e?void 0:e.getPureData();t&&t.icons&&(t.icons||[]).forEach(function(e){e&&e.index&&(e.index>=0&&e.index<9||e.index>16&&e.index<25)&&$(".header-op-icon [ico="+e.index+"]").addClass("selected")})},renderMenu:function(){var e,t='\n        <div tit="start">\n            <div id="mind-search-btn" class="po-tool-btn header-outline" tit="search" title="'.concat(a.default.t("js.Contents_pane_on_the_left"),'">\n                <div class="mind-icons">&#xe79b;</div>\n                <div class="item-name">').concat(a.default.t("js.Find_replacement"),'</div>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div tit="mind_topic_font" class="po-tool-btn select-icon-item" id="mind-select-font_">\n                <span style="width: 56px;overflow: hidden;white-space: nowrap;" class="text-content">微软雅黑</span>\n            </div>\n            <div tit="mind_topic_font_size" class="po-tool-btn select-icon-item" id="mind_topic_font_size">\n                <span style="max-width: 32px;overflow: hidden;white-space: nowrap;" class="text-content">12px</span>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div tit="mind_topic_b" class="po-tool-btn" id="mind-font-b" title="').concat(a.default.t("js.Bold_on"),'（Ctrl+B）">\n                <div class="mind-icons">&#xe794;</div>\n            </div>\n            <div tit="mind_topic_i" class="po-tool-btn" id="mind-font-i" title="').concat(a.default.t("js.Italics"),'（Ctrl+I）">\n                <div class="mind-icons">&#xe709;</div>\n            </div>\n            <div tit="mind_topic_font_color" class="po-tool-btn select-icon-item" id="mind-font-color" title="').concat(a.default.t("js.Font_color"),'">\n                <div class="mind-icons">&#xe766;<span class="color_line"></span></div>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div tit="mind_topic_align_l" align="left" class="po-tool-btn mind-color-box" id="mind-font-left" title="').concat(a.default.t("js.Align_to_the_left"),'">\n                <div class="mind-icons">&#xe76c;</div>\n            </div>\n            <div tit="mind_topic_align_c" align="center" class="po-tool-btn mind-color-box" id="mind-font-center" title="').concat(a.default.t("js.Center_align"),'">\n                <div class="mind-icons">&#xe75d;</div>\n            </div>\n            <div tit="mind_topic_align_r" align="right" class="po-tool-btn mind-color-box" id="mind-font-right" title="').concat(a.default.t("js.Align_to_the_right"),'">\n                <div class="mind-icons">&#xe78b;</div>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div id = "mind-insert-child" tit="mind_insert_child" class="po-tool-btn " title="').concat(a.default.t("js.Subtopic"),'（tab，insert）" >\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-a-16_zizhuti"></use>\n                </svg>\n            </div>\n            <div id = "mind-insert-brother" tit="mind_insert_brother" class="po-tool-btn " title="').concat(a.default.t("js.Peer_topics"),'（enter）">\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-a-16_tongjizhuti"></use>\n                </svg>\n            </div>\n            <div id = "mind-insert-parent" tit="mind_insert_parent" class="po-tool-btn " title="').concat(a.default.t("js.Parent_theme"),'（shift+tab）">\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-a-16_fuzhuti"></use>\n                </svg>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div id = "mind-insert-summary" tit="mind_summary" class="po-tool-btn " >\n                <div class="mind-icons">&#xea86;</div>\n                <div class="item-name">').concat(a.default.t("js.Summary_on"),'</div>\n            </div>\n            <div id = "mind-insert-boundary"  tit="mind_boundary" class="po-tool-btn " >\n                <div class="mind-icons">&#xea82;</div>\n                <div class="item-name">').concat(a.default.t("js.Outer_frame"),'</div>\n            </div>\n            <div id="mind-insert-image" tit="image" class="po-tool-btn " >\n                <div class="mind-icons">&#xea7c;</div>\n                <div class="item-name">').concat(a.default.t("js.Picture"),'</div>\n            </div>\n            <div id="mind-insert-link" tit="link" class="po-tool-btn " title="').concat(a.default.t("js.Link"),'（Ctrl+K）">\n                <div class="mind-icons">&#xea81;</div>\n                <div class="item-name">').concat(a.default.t("js.Hyperlink"),'</div>\n            </div>\n            <div id = "mind-e-insert-watermark" tit="mind_watermark" class="po-tool-btn select-icon-item" >\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-shuiyin1"></use>\n                </svg>\n                <div class="item-name">').concat(a.default.t("js.Watermark"),'</div>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div id="mind-canvas-bg1" tit="mind_canvas_bgcolor"  class="po-tool-btn select-icon-item" >\n                <div class="mind-icons">&#xe710;<span class="color_line"></span></div>\n                <div class="item-name">').concat(a.default.t("js.Canvas"),'</div>\n            </div>\n            <div id="mind-insert-themes_" tit="mind_themes"  class="po-tool-btn node-click-show" >\n                <div class="mind-icons">&#xe71c;</div>\n                <div class="item-name">').concat(a.default.t("js.Style_on"),'</div>\n            </div>\n            <div id="mind-insert-structure_" tit="mind_structure" class="po-tool-btn select-icon-item" >\n                <svg class="icon mind-structrue" aria-hidden="true">\n                    <use xlink:href="#icon-a-16_ziyoufenbu"></use>\n                </svg>\n                <div class="item-name">').concat(a.default.t("js.Structure"),'</div>\n            </div>\n            <div id="mind-hide-topics" tit="mind_hide_topics" class="po-tool-btn select-icon-item" >\n                <div class="mind-icons">&#xe991;</div>\n                <div class="item-name">').concat(a.default.t("js.Put_away"),'</div>\n            </div>\n            <div id="mind-show-topics" tit="mind_show_topics" class="po-tool-btn select-icon-item" >\n                <div class="mind-icons">&#xe990;</div>\n                <div class="item-name">').concat(a.default.t("js.Unfold"),'</div>\n            </div>\n            <div tit="mind_ppt" class="po-tool-btn mind-ppt" style="display: none;" title="').concat(a.default.t("Beautify_your_brain_map"),'">\n                <div class="mind-icons">&#xe61c;</div>\n                <div class="item-name">').concat(a.default.t("js.Brain_to_powerpoint"),"</div>\n            </div>\n        </div>"),n='\n        <div tit="style" style="display:none;">\n            <div id = "mind-topic-style" tit="mind_topic_style" class="po-tool-btn node-click-show select-icon-item" >\n                <div class="mind-icons">&#xe713;</div>\n                <div class="item-name">'.concat(a.default.t("js.Node_Style"),'</div>\n            </div>\n            <div id="mind-customise-bs" tit="mind_topic_shape" class="po-tool-btn select-icon-item">\n                <div class="po-diagraming-icons">&#xea92;</div>\n                <div class="item-name">').concat(a.default.t("Shape"),'</div>\n            </div>\n            <div id = "mind-topic-bgcolor" tit="mind_topic_bgcolor" class="po-tool-btn select-icon-item" >\n                <div id="mind-topic-bg" class="mind-icons">&#xe710;<span class="color_line"></span></div>\n                <div class="item-name">').concat(a.default.t("js.Node_background"),'</div>\n            </div>\n            <div class="po-tool-devider"></div>\n             <div id="mind-customise-linet_" tit="mind_topic_line_type" class="po-tool-btn select-icon-item">\n                <div class="po-diagraming-icons"></div>\n                <div class="item-name">').concat(a.default.t("Connection_Type"),'</div>\n            </div>\n            <div id="mind-customise-linec_" tit="mind_topicline_color" class="po-tool-btn select-icon-item">\n                <div class="mind-icons"><svg class=\'icon mind-structrue\' aria-hidden=\'true\'><use xlink:href=\'#icon-a-16_lianxianyanse\'></use></svg><span class="color_line" style="display: none;width:2px;height:14px;left:1px;"></span></div>\n                <div class="item-name">').concat(a.default.t("js.Wired_Color"),'</div>\n            </div>\n            <div id="mind-topic-line-width" tit="mind_topicline_width" class="po-tool-btn select-icon-item">\n                <div class="mind-icons">&#xe774;</div>\n                <div class="item-name">').concat(a.default.t("js.Line_width"),'</div>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div id="mind-topic-bw_" tit="mind_topic_border_w" class="po-tool-btn select-icon-item">\n                <div class="mind-icons">&#xea82;</div>\n                <div class="item-name">').concat(a.default.t("js.Border_width"),'</div>\n            </div>\n            <div id="mind-customise-bc_" tit="mind_topic_border_c" class="po-tool-btn select-icon-item">\n                <div class="mind-icons">&#xe743;<span class="color_line"></span></div>\n                <div class="item-name">').concat(a.default.t("js.Border_Color"),'</div>\n            </div>\n            <div id="mind-customise-bst_" tit="mind_topic_border_t" class="po-tool-btn select-icon-item">\n                <div class="mind-icons">&#xe785;</div>\n                <div class="item-name">').concat(a.default.t("js.Border_Type"),'</div>\n            </div>\n            \n            <div class="po-tool-devider"></div>\n            <div id = "clear-style-btn" tit="mind_clear_style" class="po-tool-btn" >\n                <div class="mind-icons">&#xe71a;</div>\n                <div class="item-name">').concat(a.default.t("js.Clear_style"),'</div>\n            </div>\n            \x3c!-- <div tit="mind_text_direction" class="po-tool-btn select-icon-item" >\n                <div class="mind-icons">&#xe901;</div>\n                <div class="item-name">').concat(a.default.t("js.Text_arrangement"),'</div>\n            </div> --\x3e\n            <div class="po-tool-devider"></div>\n            <div tit="mind_canvas_bgcolor"  class="po-tool-btn select-icon-item" >\n                <div class="mind-icons">&#xe710;<span class="color_line"></span></div>\n                <div class="item-name">').concat(a.default.t("js.Canvas"),'</div>\n            </div>\n            <div id="mind-s-insert-themes_" tit="mind_themes"  class="po-tool-btn node-click-show" >\n                <div class="mind-icons">&#xe71c;</div>\n                <div class="item-name">').concat(a.default.t("js.Style_on"),'</div>\n            </div>\n            <div id="mind-s-insert-structure_" tit="mind_structure" class="po-tool-btn select-icon-item" >\n                <svg class="icon mind-structrue" aria-hidden="true">\n                    <use xlink:href="#icon-a-16_ziyoufenbu"></use>\n                </svg>\n                <div class="item-name">').concat(a.default.t("js.Structure"),'</div>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div id = "mind-topic-space_" tit="mind_topic_space" class="po-tool-btn select-icon-item" >\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-zhutijianju"></use>\n                </svg>\n                <div class="item-name">').concat(a.default.t("js.Topic_spacing"),'</div>\n            </div>\n            <div id="mind-topic-width_" tit="mind_topic_width" class="po-tool-btn select-icon-item" >\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-zhutikuandu"></use>\n                </svg>\n                <div class="item-name">').concat(a.default.t("js.Topic_Width"),"</div>\n            </div>\n        </div>"),i='\n        <div tit="edit" style="display:none;">\n            <div id = "mind-e-insert-child" tit="mind_insert_child" class="po-tool-btn " title="'.concat(a.default.t("js.Subtopic"),'（tab，insert）">\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-a-16_zizhuti"></use>\n                </svg>\n                <div class="item-name">').concat(a.default.t("js.Subtopic"),'</div>\n            </div>\n            <div id = "mind-e-insert-brother" tit="mind_insert_brother" class="po-tool-btn " title="').concat(a.default.t("js.Peer_topics"),'（enter）">\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-a-16_tongjizhuti"></use>\n                </svg>\n                <div class="item-name">').concat(a.default.t("js.Peer_topics"),'</div>\n            </div>\n            <div id = "mind-e-insert-parent" tit="mind_insert_parent" class="po-tool-btn " title="').concat(a.default.t("js.Parent_theme"),'（shift+tab）">\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-a-16_fuzhuti"></use>\n                </svg>\n                <div class="item-name">').concat(a.default.t("js.Parent_theme"),'</div>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div id = "mind-insert-conn" tit="mind_connection" class="po-tool-btn" >\n                <div class="mind-icons">&#xea84;</div>\n                <div class="item-name">').concat(a.default.t("js.Connection"),'</div>\n            </div>\n            <div id = "mind-e-insert-summary" tit="mind_summary" class="po-tool-btn" >\n                <div class="mind-icons">&#xea86;</div>\n                <div class="item-name">').concat(a.default.t("js.Summary"),'</div>\n            </div>\n            <div id = "mind-e-insert-boundary" tit="mind_boundary" class="po-tool-btn" >\n                <div class="mind-icons">&#xea82;</div>\n                <div class="item-name">').concat(a.default.t("js.Outer_frame"),'</div>\n            </div>\n            <div id = "mind-e-insert-img" tit="image" class="po-tool-btn" >\n                <div class="mind-icons">&#xea7c;</div>\n                <div class="item-name">').concat(a.default.t("js.Picture"),'</div>\n            </div>\n            <div id = "mind-insert-tag" tit="tag" class="po-tool-btn" >\n                <div class="mind-icons">&#xea7d;</div>\n                <div class="item-name">').concat(a.default.t("js.Label"),'</div>\n            </div>\n            <div id = "mind-insert-task" tit="task" class="po-tool-btn" >\n                <div class="mind-icons">&#xea7b;</div>\n                <div class="item-name">').concat(a.default.t("js.Mission"),'</div>\n            </div>\n            <div id = "mind-e-insert-link" title="').concat(a.default.t("js.Link"),'（Ctrl+K）" tit="link" class="po-tool-btn" >\n                <div class="mind-icons">&#xea81;</div>\n                <div class="item-name">').concat(a.default.t("js.Hyperlink"),'</div>\n            </div>\n            <div id = "mind-insert-remark" title="').concat(a.default.t("js.Remarks"),'（Ctrl+R）" tit="note" class="po-tool-btn" >\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-beizhu"></use>\n                </svg>\n                <div class="item-name">').concat(a.default.t("js.Remarks"),'</div>\n            </div>\n            <div id = "mind-insert-watermark" tit="mind_watermark" class="po-tool-btn select-icon-item" >\n                <svg class="icon" aria-hidden="true">\n                    <use xlink:href="#icon-shuiyin1"></use>\n                </svg>\n                <div class="item-name">').concat(a.default.t("js.Watermark"),'</div>\n            </div>\n            <div id = "mind-insert-inserttemp" tit="mind_inserttemp" class="po-tool-btn" >\n                <div class="mind-icons">&#xea7a;</div>\n                <div class="item-name">').concat(a.default.t("js.Template"),'</div>\n            </div>\n            <div id = "mind-insert-equation" tit="mind_equation" class="po-tool-btn" >\n                <div class="mind-icons">&#xe651;</div>\n                <div class="item-name">LaTeX').concat(a.default.t("Equation"),'</div>\n            </div>\n\n            <div id="mind-icon-show" tit="icon" class="po-tool-btn node-click-show" >\n                <div class="mind-icons">&#xe707;</div>\n                <div class="item-name">').concat(a.default.t("js.Icon"),"</div>\n            </div>\n        </div>"),o='\n        <div tit="view" style="display:none;">\n            <div class="po-tool-btn header-outline selected" tit="mind_mode" title="'.concat(a.default.t("js.Display_content_in_mind_map_style"),'">\n                <div class="mind-icons">&#xe771;</div>\n                <div class="item-name">').concat(a.default.t("js.Brain_map_pattern"),'</div>\n            </div>\n            <div id = "link-v-to-outline_" class="po-tool-btn header-outline" tit="outline">\n                <div class="mind-icons">&#xe717;</div>\n                <div class="item-name">').concat(a.default.t("js.Outline_mode"),'</div>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div id="mind-focus-mode" class="po-tool-btn header-outline" tit="focus_mode" title="').concat(a.default.t("js.Enter_the_focus_mode_of_the_currently"),'">\n                <div class="mind-icons">&#xe781;</div>\n                <div class="item-name">').concat(a.default.t("Focus_Mode"),'</div>\n            </div>\n            <div id="mind-focus-root" class="po-tool-btn header-outline" tit="focus_root" title="').concat(a.default.t("js.Show_the_central_topic"),'">\n                <div class="mind-icons">&#xe6c24;</div>\n                <div class="item-name">').concat(a.default.t("Locate_to_the_central_theme"),'</div>\n            </div>\n            <div class="po-tool-devider"></div>\n            <div id = "mind-v-search-btn" class="po-tool-btn header-outline" tit="search" title="').concat(a.default.t("js.Contents_pane_on_the_left"),'">\n                <div class="mind-icons">&#xe79b;</div>\n                <div class="item-name">').concat(a.default.t("js.Find_replacement"),'</div>\n            </div>\n            <div id="mind-nav" class="po-tool-btn header-outline" tit="nav" title="').concat(a.default.t("js.Close_the_bottom_view"),'">\n                <div class="mind-icons">&#xe79a;</div>\n                <div class="item-name">').concat(a.default.t("js.View_Navigation"),"</div>\n            </div>\n        </div>"),r='\n        <div tit="export" style="display:none;">\n            <div tit="export-image" class="po-tool-btn" >\n                <div class="mind-icons">&#xe6d3;</div>\n                <div class="item-name">'.concat(a.default.t("js.Picture"),'</div>\n            </div>\n            <div tit="export-image" class="po-tool-btn png" style="display:none;">\n                <div class="mind-icons">&#xe6d3;</div>\n                <div class="item-name">').concat(a.default.t("js.PNG_Picture"),'</div>\n            </div>\n            <div tit="export-jpg" class="po-tool-btn" style="display:none;">\n                <div class="mind-icons">&#xe6d3;</div>\n                <div class="item-name">').concat(a.default.t("js.JPG_Picture"),'</div>\n            </div>\n            <div tit="export-pnghd" class="po-tool-btn" style="display:none;">\n                <div class="mind-icons">&#xe6d3;</div>\n                <div class="item-name">').concat(a.default.t("js.Hd_PNG_image"),'</div>\n            </div>\n            <div tit="export-jpghd" class="po-tool-btn" style="display:none;">\n                <div class="mind-icons">&#xe6d3;</div>\n                <div class="item-name">').concat(a.default.t("js.Hd_JPG_image"),'</div>\n            </div>\n            <div tit="export-pdf" class="po-tool-btn" >\n                <div class="mind-icons">&#xe626;</div>\n                <div class="item-name">PDF</div>\n            </div>\n            <div tit="export-pdfhd" class="po-tool-btn" style="display:none;">\n                <div class="mind-icons">&#xe626;</div>\n                <div class="item-name">').concat(a.default.t("js.Hd_PDF"),'</div>\n            </div>\n            <div tit="export-word" class="po-tool-btn" >\n                <div class="mind-icons">&#xe629;</div>\n                <div class="item-name">').concat(a.default.t("js.quick_Bullets"),'</div>\n            </div>\n            <div tit="export-pos" class="po-tool-btn" >\n                <div class="mind-icons">&#xeaa2;</div>\n                <div class="item-name">POS</div>\n            </div>\n            <div tit="export-excel" class="po-tool-btn" >\n                <div class="mind-icons">&#xe62a;</div>\n                <div class="item-name">Excel</div>\n            </div>\n            <div tit="export-svg" class="po-tool-btn" style="display:none;">\n                <div class="mind-icons">&#xe6d3;</div>\n                <div class="item-name">').concat(a.default.t("js.SVG_lossless_picture"),'</div>\n            </div>\n            <div tit="export-fmind" class="po-tool-btn" >\n                <div class="mind-icons">&#xea9b;</div>\n                <div class="item-name">FreeMind</div>\n            </div>\n            <div tit="export-ppt" class="po-tool-btn" >\n                <div class="mind-icons">&#xe617;</div>\n                <div class="item-name">').concat(a.default.t("js.PPT_outline_file"),'</div>\n            </div>\n            <div tit="mind_ppt" class="po-tool-btn mind-ppt" style="display: none;" title="').concat(a.default.t("Beautify_your_brain_map"),'">\n                <div class="mind-icons">&#xe61c;</div>\n                <div class="item-name">').concat(a.default.t("js.Brain_to_powerpoint"),"</div>\n            </div>\n            ").concat(null!==(e=editorGlobal)&&void 0!==e&&e.showPage?'<div tit="export-posm" class="po-tool-btn" style="display: none;"><div class="mind-icons">&#xe618;</div><div class="item-name">'.concat(a.default.t("js.All_canvas_POSM_files"),"</div></div>"):"",'\n            \x3c!--<div tit="export-download_parthd" class="po-tool-btn" >\n                <div class="mind-icons">&#xe787;</div>\n                <div class="item-name">').concat(a.default.t("js.Export_selected_theme_as_picture"),"</div>\n            </div>--\x3e\n        </div>"),s=$("#po-header.mind-header");s.length>0?s.empty():(s=$('<header id="po-header" class="mind-header"></header>'),$("body").append(s));var l='\n        <div id="header-op-container" class="header-op">\n            '.concat(t,"\n            ").concat(n,"\n            ").concat(i,"\n            ").concat(o,"\n            ").concat(r,"\n        </div>");s.append("\n            ".concat('<div id="header-left-flex" class="header-flex"></div>',"\n            ").concat(p,"\n            ").concat('<div id="header-right-flex" class="header-right"></div>',"\n            ").concat(l,'\n            <div id="head-slither" class="head-slither right"><i class="mind-icons"></i></div>\n        ')).addClass("open-vip")}};var f=t.headerInit=function(){var e=$("#po-header"),t=$("#header-op-container"),n=$("#head-slither"),i=$(".auto-save-tip"),r=$("#po-header");n.button({onClick:function(i,o){var a=t.children("[tit]:visible"),r=$(o).hasClass("right")?"right":"left",s="right"==r?"left":"right",l=t.outerWidth()-a.outerWidth();l>=0||("left"==r&&(l=0),a.css("transform","translateX(".concat(l,"px)")),$(o).removeClass(r).addClass(s),$("#head-slither-temp").remove(),i.stopPropagation(),n.css("top",e.css("padding-top")+$(".header-center").outerHeight()+t.css("margin-top")))}}),e.find(".po-tool-btn[tit=outline]").on("mouseenter",function(){var e,t,n=$(this),i=$("#outline_nav");0==i.length&&(i=$('<div id="outline_nav">\n\t\t\t\t\t<div class="title">'.concat(a.default.t("js.Switch_to_Outline_mode"),"</div>\n\t\t\t\t\t<p>").concat(a.default.t("js.Focus_on_content_writing"),"</p>\n\t\t\t\t\t<img src= '").concat(staticBasePath,"/wps/images/outline-nav.svg'>\n\t\t\t\t</div>")).appendTo($(".mind-util-container"))),i.show(),"top"==n.attr("title_pos")?(e=n.offset().left+n.outerWidth()/2-i.outerWidth()/2,t=n.offset().top-i.outerHeight()-5):(e=n.offset().left,t=n.offset().top+n.outerHeight()+5),e<2?e=2:e+i.outerWidth()>$(window).width()-2&&(e=$(window).width()-i.outerWidth()-2),t<2?t=2:t+i.outerHeight()>$(window).height()-2&&(t=$(window).height()-i.outerHeight()-2),i.css({left:e,top:t})}).on("mouseleave",function(){$("#outline_nav").hide()}),$(".header-center [tit]").button({onClick:function(e,t){var n=$(t),i=n.attr("tit");n.addClass("active").siblings("[tit]").removeClass("active"),$("#header-op-container > [tit=".concat(i,"]")).show().siblings().hide(),(0,d.$poCollect)("mind_click",{tit:i,pos:"v1-ui-header"}),$("#fold-headerop-btn").hasClass("opened")||$("#fold-headerop-btn").trigger("click"),m()}}),$("#mind-search-btn").after('<div class="po-tool-devider"></div>'.concat(h)),r.removeClass("loading");var s=$("#fold-headerop-btn");s.button({onClick:function(){if(s.hasClass("opened"))return s.removeClass("opened"),t.addClass("folded"),i.css("top","37px"),n.addClass("close").hide(),void $(".right-help-con").css({height:$(document).outerHeight()-40,top:40});s.removeClass("opened").addClass("opened"),t.removeClass("folded"),i.css("top","88px"),n.removeClass("close");var e=$(document).outerHeight()-90;$(".right-help-con").css({height:e,top:90}),window.slitherTimer&&(clearTimeout(window.slitherTimer),window.slitherTimer=null),window.slitherTimer=setTimeout(function(){m()},200)}}),setTimeout(function(){m(),$(window).off("resize.wpsHeader").on("resize.wpsHeader",function(){m("resize")}),new o.ToolbarHandleEvent(e)},100)}},74479:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.handleEvent=void 0,n(27531),n(61894),n(38297),n(65528),n(82403),n(12638),n(38887),n(6284),n(47958),n(69268),n(86837),n(14237);var o=n(5263),a=n(54690),r=i(n(6535)),s=i(n(35720)),l=n(80214),c=n(63898),u=n(46346),p=n(30282),m=n(72011),f=n(62937),g=n(83316),v=["ellipse","rhombus","parallelogram","outerTriangularRectangle","circle"],b=t.handleEvent={invokingfn:function(){try{var e=Object.assign([],arguments),t=e.splice(0,1)[0];if(b[t])return b[t].apply(b,h(e))}catch(e){}},dropDownList:function(){d(a.DropDownList,Array.prototype.slice.call(arguments))},mind_topic_font:function(e){var t=e.target.text().trim();"v1"===editorGlobal.config.uiType&&(t=e.target.children(".text-content").text().trim()),b.invokingfn("dropDownList",{target:e.target,menu:$("#mind-font-list"),size:"normal",selectAc:t,onSelect:function(t){b.invokingfn("setStyle",{"font-family":t}),e.target.button("setText",t),e.target.attr("ac",t)}}),$("#mind-font-list").find(['ac="'.concat(t,'"')]).menuitem("select")},mind_topic_b:function(e){var t="normal";e.target.hasClass("selected")?(e.target.removeClass("selected"),t="normal"):(e.target.addClass("selected"),t="bold"),b.invokingfn("setStyle",{"font-weight":t})},mind_topic_i:function(e){var t="normal";e.target.hasClass("selected")?(e.target.removeClass("selected"),t="normal"):(e.target.addClass("selected"),t="italic"),b.invokingfn("setStyle",{"font-style":t})},mind_topic_align_l:function(e){b.invokingfn("setStyle",{"text-align":"left"}),e.target.addClass("selected"),e.target.siblings("[align]").removeClass("selected")},mind_topic_align_c:function(e){b.invokingfn("setStyle",{"text-align":"center"}),e.target.addClass("selected"),e.target.siblings("[align]").removeClass("selected")},mind_topic_align_r:function(e){b.invokingfn("setStyle",{"text-align":"right"}),e.target.addClass("selected"),e.target.siblings("[align]").removeClass("selected")},link:function(e){b.invokingfn("url",e.selectTopic,e.selectId)},backgroundImage:function(){s.default.init()},mind_structure:function(){},showOrHideChildren:function(e,t){var n,i,o="hide"==t?"shrink":"show"==t?"expand":"default",r=editorGlobal.mindMap.renderer.selectedTopicList[0],s=new a.DropDownList({target:e,size:"normal",menuIcon:!1,name:"MIND_COLLAPSED",position:"right",type:[o],onSelect:function(e){switch(e){case"expand_all":"hide"==t?editorGlobal.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL","all","collapaed",!0):editorGlobal.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL","all","expand",!0);break;case"expand_child":r&&("hide"==t?editorGlobal.mindMap.execCommand("HIDE_TOPICS",r.id):editorGlobal.mindMap.execCommand("SHOW_TOPICS",r.id));break;case"expand_all_child":if(r){var n=r.layerIndex;t="hide"===t?"collapsed":"expand",editorGlobal.mindMap.execCommand("COLLAPSED_EXPAND_TO_LEVEL",n,t)}}}}).mindDropDownList,l=editorGlobal.mindMap.renderer,c=l.getSelectedIds(),d=null===(n=l.getSelectedTopic())||void 0===n?void 0:n.getPureData(),u=null===(i=l.root)||void 0===i?void 0:i.getPureData(),p=d&&d.collapsed;0==c.length||!d.children.length||p&&"hide"==t||!p&&"show"==t||d.root?s.children().not("[ac=expand_all]").addClass("mind-disable"):s.children().not("[ac=expand_all]").removeClass("mind-disable");for(var h=u.children.concat(u.leftChildren||[]),m=[],f=[],g=0;g<h.length;g++){var v=h[g];v.children.length>0&&(f.push(g),v.collapsed&&m.push(g))}f.length&&(f.length==m.length&&"hide"==t||!m.length&&"show"==t)&&s.children("[ac=expand_all]").addClass("mind-disable")},mind_hide_topics:function(e){this.showOrHideChildren(e.target,"hide")},mind_show_topics:function(e){this.showOrHideChildren(e.target,"show")},mind_topic_style:function(e){b.invokingfn("dropDownList",{target:e.target,menu:$(".mind-topics-dlg"),callback:function(){$(".pre-topic").off("click").on("click",function(){var e=$(this),t=e.css("background-color"),n=e.css("color"),i=e.css("border-width"),o=e.css("border-color"),a=e.css("border-style"),r={"background-color":t,color:n,"border-radius":e.css("border-radius"),"text-decoration":e.css("text-decoration")};delete r.border,r["border-style"]=a,r["border-color"]=o,r["border-width"]=i,b.invokingfn("setStyle",r)})}})},mind_topic_font_color:function(e){var t=e.target,n=t.button("getColor");$.colorpicker({target:t,position:"left",color:n,onSelect:function(e){b.invokingfn("setStyle",{color:"rgb(".concat(e,")")}),t.button("setColor",e)}})},mind_topicline_color:function(e){var t=e.target,n=t.button("getColor");$.colorpicker({target:t,position:"left",color:n,onSelect:function(e){b.invokingfn("setStyle",{"line-color":"rgb(".concat(e,")")}),t.button("setColor",e)}})},mind_topic_bgcolor:function(e){var t=e.target,n=t.button("getColor");$.colorpicker({target:t,position:"left",color:n,onSelect:function(e){null==e&&(e=editorGlobal.mindMap.renderer.getBackgroundColor()),b.invokingfn("setStyle",{background:"rgb(".concat(e,")")}),t.button("setColor",e)}})},mind_topic_border_c:function(e){var t=e.target,n=t.button("getColor");$.colorpicker({target:t,position:"left",color:n,onSelect:function(e){b.invokingfn("setStyle",{"border-color":"rgb(".concat(e,")")}),t.button("setColor",e)}})},mind_topicline_width:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList,n=0;if(1==t.length){var i=t[0].style.getLineWidth("lineWidth");n="".concat(i||2,"px")}b.invokingfn("dropDownList",{target:e.target,name:"MIND_WIDTH",size:"small",selectAc:n,onSelect:function(t){b.invokingfn("setStyle",{"line-width":t}),e.target.button("setText",t),e.target.attr("ac",t)}})},mind_topic_border_w:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList,n="0";if(1==t.length){var i=t[0].getStyle("border-style");void 0!==(n=t[0].style.getActualBorderWidth(i))?(n=parseInt(n))>0?("double"==i&&(n=parseInt(n)/3),n+="px"):n="0":n="0"}b.invokingfn("dropDownList",{target:e.target,name:"MIND_WIDTH",size:"small",type:["default","nullable"],selectAc:n,onSelect:function(e){b.invokingfn("setStyle",{"border-width":e})}})},mind_topic_border_t:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList,n="solid";if(1==t.length){var i=t[0].getStyle("border-style");"none"!=i&&i&&(n=i)}b.invokingfn("dropDownList",{target:e.target,size:"small",name:"MIND_BORDER_STYLE",selectAc:n,onSelect:function(e){b.invokingfn("setStyle",{"border-style":e})}})},mind_topic_shape:function(e){var t,n=e.target,i=editorGlobal.mindMap.renderer.selectedTopicList;1==i.length&&(t=i[0].getShape()),$("#mind-customise-bsl").dropdown({target:n,zindex:12,position:"left",onSelect:function(e){var t=e.attr("ac");if(f.vipState.test("topicShape")||!v.includes(t)){var n=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",n,{shape:t}),$("#mind-customise-bs").attr("ac",t);var i=$("#mind-customise-bsl [ac='"+t+"']").find(".po-diagraming-icons").html();$("#mind-customise-bs .po-diagraming-icons").html(i),l.disabledShape.includes(t)?$("#mind-topic-width_").addClass("mind-disable"):$("#mind-topic-width_").removeClass("mind-disable")}else f.vipState.limit({type:"topicShape",pos:"mind_style_graphics_".concat(t)})}}),$("#mind-customise-bsl [ac='"+t+"']").menuitem("select")},mind_topic_line_type:function(e){var t=e.target,n=t.attr("ac");$("#mind-customise-linet-list_").dropdown({target:t,zindex:12,position:"left",onSelect:function(e){var n=e.attr("ac"),i=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",i,{"line-type":n}),t.find(".po-diagraming-icons").html(e.find(".po-diagraming-icons").html()),t.attr("ac",n)}}),$("#mind-customise-linet-list_ [ac='"+n+"']").menuitem("select")},mind_topic_width:function(e){b.invokingfn("dropDownList",{target:e.target,position:"right",menu:$("#mind-subtopic-w-handle")})},mind_clear_style:function(){var e=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("CLEAR_STYLE",e)},tag:function(){editorGlobal.mindMap.emit("openCorner","tag")},task:function(){editorGlobal.mindMap.emit("openCorner","task")},note:function(){editorGlobal.mindMap.emit("openCorner","note")},mind_inserttemp:function(){p.insertTemplate.showDlg({pos:"edittab"})},mind_equation:function(){if(!o.insert.equation.isLimit()){var e=editorGlobal.mindMap.renderer.selectedTopicList[0];e&&editorGlobal.mindMap.emit("to_edit_status",null,e,!1,function(){var e=$(".area_box div[contenteditable]");e.find("li").length>0?e.find("li").textMoveToEnd():e.textMoveToEnd(),o.insert.equation.equationInit(e)})}},code:function(){editorGlobal.codeblock.needFocus=!0;var e=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_CODEBLOCK",{type:"add",data:e})},comment:function(){editorGlobal.mindMap.emit("openCorner","comment"),m.comment.Controller.editPannel.render("toolbar")},setIcon:function(e){var t=null;null!=e.css("color")&&(t=e.css("color")),editorGlobal.mindMap.emit("setIcon",e,null,t)},icon:function(){editorGlobal.mindMap.emit("openCorner","icon")},setStyle:function(e){var t=editorGlobal.mindMap.renderer.selectedTopicList;editorGlobal.mindMap.execCommand("SET_STYLE",t,e)},setBackground:function(){var e;(e=editorGlobal.mindMap).execCommand.apply(e,["SET_BACKGROUND"].concat(Array.prototype.slice.call(arguments)))},url:function(e){if(e||(e=editorGlobal.mindMap.renderer.selectedTopicList[0]),e){var t=e.getData()||{},n=null;t.link&&"url"==t.link.type&&(n=t.link),editorGlobal.mindMap.emit("checkLink",t,"url",function(){o.insert.link.render({target:$(e.group.node),link:n,type:"url"},function(t,n){"remove"==n?editorGlobal.mindMap.emit("removeLink","url",e):editorGlobal.mindMap.emit("setLink",t,e,n)})})}},more:function(){var e=$(".mind-toolbar"),t=$(".po-tool-more-list").html("<span class='toolbar-filling'></span>");t.is(":visible")?t.hide():(t.show(),t.children("[tit]").hide(),e.find("[tit]").each(function(e,n){var i=$(n),o=i.clone(!0);i.is(":visible")||t.append(o)}),t.css("display","flex").off().on("mousedown",function(e){e.stopPropagation()}),$(document).off("mousedown.moretool").on("mousedown.moretool",function(e){e.stopPropagation(),"more"!=$(e.target).attr("tit")&&"more"!=$(e.target).parent().attr("tit")&&t.hide()}))},focus_root:function(){editorGlobal.mindMap.emit("move_topic_to_center")},focus_mode:function(){editorGlobal.mindMap.execCommand("FOCUS")},nav:function(){$("#mind-footer-nav").trigger("click")},outline:function(){injectExtraAsynCall("onLinkToOutline",{},function(){setTimeout(function(){location.href=location.href.replace(/&outLine=true/g,"")+"&outLine=true"},100)})},mind_topic_font_size:function(e){var t=e.target.children(".text-content").text().trim();b.invokingfn("dropDownList",{target:e.target,size:"small",name:"FONT_SIZE",selectAc:t,onSelect:function(t){b.invokingfn("setStyle",{"font-size":t}),e.target.button("setText",t),e.target.attr("ac",t)}})},mind_watermark:function(e){var t=editorGlobal.mindMap.renderer.root.topicData.showWatermark,n=t?editorGlobal.mindMap.renderer.root.topicData.watermark:"";b.invokingfn("dropDownList",{target:e.target,size:"large",name:"MIND_WATERMARK",onSelect:function(e){"mind_watermark_add"==e?injectExtraAsynCall("setWatermark",n,function(e){editorGlobal.mindMap.emit("setWaterMark",{watermark:e,showWatermark:!0})}):"mind_watermark_del"!=e||$("#mind-dropdown-list li[ac=mind_watermark_del]").hasClass("mind-disable1")||(editorGlobal.mindMap.emit("setWaterMark",{watermark:"",showWatermark:!1}),$.toast({text:r.default.t("js.Watermark_removed")}))}}),n&&t?$("#mind-dropdown-list li[ac=mind_watermark_del]").removeAttr("original-title").removeClass("mind-disable1"):$("#mind-dropdown-list li[ac=mind_watermark_del]").attr("original-title",r.default.t("js.No_watermark_can_be_deleted_at_this_time")).addClass("mind-disable1")},saveThemeParams:function(e,t){var n=editorGlobal.pageInfo,i={theme:t,id:e,ignore:"theme",userid:n.userId};return n.mind_source&&(i.mind_source=n.mind_source),i},themeUpload:function(e){},mind_canvas_bgcolor:function(e){var t=e.target,n=t.button("getColor"),i="";editorGlobal.vipIcons.default&&(i='<img class="vip-tip" src="'.concat(editorGlobal.vipIcons.default,'">')),$.colorpicker({target:t,position:"left",trans:!0,type:"hex",color:n,extend:"<div id='po-mind-fill-img' class='extend_item'><img src='".concat(staticBasePath,"/wps/images/bg_img.svg'><span>").concat(r.default.t("js.Picture_Fill"),"</span>").concat(i,"</div>"),onSelect:function(e){b.invokingfn("setBackground",e,"background",!0),t.button("setColor",e)}}),$("#po-mind-fill-img").off().on("click",function(e){e.stopPropagation(),b.invokingfn("backgroundImage"),$("#color_picker").dropdown("close")})},image:function(){o.insert.image.init(function(e,t,n){editorGlobal.mindMap.emit("set_topic_img",null,{url:e,originalUrl:n},t)})},mind_ppt:function(){},search:function(){c.mindCorner.showCorner("search","left",function(){setTimeout(function(){u.loadOutline.init()},100)})},undo:function(){editorGlobal.mindMap.emit("undo")},redo:function(){editorGlobal.mindMap.emit("redo")},brash:function(e){e.target.hasClass("selected")?editorGlobal.mindMap.emit("closeBrash"):editorGlobal.mindMap.emit("initBrash")},mind_connection:function(e){editorGlobal.mindMap.emit("renderConn",e.e)},mind_summary:function(){editorGlobal.mindMap.execCommand("INSERT_SUMMARY")},mind_boundary:function(){editorGlobal.mindMap.execCommand("INSERT_BOUNDARY")},mind_insert_child:function(){var e=editorGlobal.mindMap.renderer.getSelectedTopic().getPureData();null!=e&&e.collapsed?$.toast({type:"secondary",text:r.default.t("js.You_cannot_add_subthemes")}):editorGlobal.mindMap.execCommand("INSERT_CHILD_TOPIC")},mind_insert_brother:function(){(editorGlobal.mindMap.renderer.getSelectedTopic().getPureData()||{}).collapsed?$.toast({type:"secondary",text:r.default.t("js.You_cannot_add_subthemes")}):editorGlobal.mindMap.execCommand("INSERT_TOPIC")},mind_insert_parent:function(){(editorGlobal.mindMap.renderer.getSelectedTopic().getPureData()||{}).collapsed?$.toast({type:"secondary",text:r.default.t("js.You_cannot_add_subthemes")}):editorGlobal.mindMap.execCommand("INSERT_PARENT_TOPIC")},mind_themes:function(){(0,g.$poCollect)("mindmap_stylepanel_show",{moduleName:"风格面板"}),c.mindCorner.showCorner("page-style-v1","right",function(){editorGlobal.mindMap.emit("themePageInit")})}}},76920:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MIND_STRUCTURE=void 0,t.MIND_STRUCTURE={mind_right:"#icon-a-16_youcefenbu",mind_org:"#icon-a-16_zuzhijiegoutu",mind_left:"#icon-a-16_zuocefenbu",mind_tree:"#icon-a-16_zuocefenbu-1",mind_free:"#icon-a-16_zuoyoufenbu",mind_ishikawa_left:"#icon-a-16_zuoceyugutu",mind_ishikawa_right:"#icon-a-16_youceyugutu",mind_timeline_h:"#icon-a-16_hengxiangshijianzhou",mind_timeline_v:"#icon-a-16_ziyoufenbu",mind_tree_free:"#icon-a-16_shuxingtu",mind_tree_left:"#icon-a-16_zuoceshuxing",mind_tree_right:"#icon-a-16_youceshuxing",mind_brace_left:"#icon-a-16_zuocekuohao",mind_brace_right:"#icon-a-16_youcekuohao",mind_free_layout:"#icon-a-16_ziyoufenbu",mind_tree_right_mobi:"#icon-a-16_shuxingtu4",mind_timeline_h_up:"#icon-a-16_hengxiangshijianzhou2",mind_timeline_h_down:"#icon-a-16_hengxiangshijianzhou3"}},70138:function(e,t,n){n(61894),n(69268),n(58500),n(84889);var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"exportImg",{enumerable:!0,get:function(){return a.default}}),t.svgView=void 0,n(4790);var o=i(n(66603)),a=i(n(49853)),r=i(n(6535));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(43147);var c=t.svgView={init:function(e,t){if(0!=$(e).length){t||(t={}),$("#svg-view-loading").length&&$("#svg-view-loading").remove(),$('<div id="svg-view-loading"><div class="img"><img style="animation:loadrotate 1s linear infinite;" src="'+"".concat(staticBasePath,"/wps/images/loading_blue.svg ")+'"></div><div style="font-size:12px;color:#4F5D79;line-height:22px;margin-top:6px;">'+r.default.t("js.Please_wait_while_the_preview_is_loading")+"</div></div>").css({width:"100%",height:"100%",background:"#fff",position:"absolute",left:0,top:0,zIndex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}).appendTo(e),$("#svg-view-wrap").length&&$("#svg-view-wrap").remove(),$('<div id="svg-view-wrap"></div>').css({minWidth:"100%",minHeight:"100%",position:"relative",left:0,top:0,display:"flex",justifyContent:"center",alignItems:"center"}).appendTo(e);var n=this;t.fileType=t.fileType||editorGlobal.config.fileType||"mind",t.ids=t.ids||[];var i=l(l({},{normal:"",download:[""]}),t.watermark);setTimeout(C(k().mark(function o(){var r,s,c,d;return k().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,a.default.init({type:"svg",fileType:t.fileType,ids:t.ids,watermark:i,isView:!0,wrapper:"#svg-view-wrap"});case 2:if(r=o.sent,0!==$(e).children("#svg-view-wrap").length){o.next=5;break}return o.abrupt("return",void $("#svg-view-wrap").remove());case 5:s=(new DOMParser).parseFromString(r.content,"image/svg+xml").documentElement,$(s).css("z-index",1),$("#svg-view-wrap").html(s),c="transparent",r.bg&&(c=r.bg),d=l(l({},d={wrapW:$(e).width(),wrapH:$(e).height(),imgW:r.w,imgH:r.h,bg:c}),r),n.moveEvent(d),$("#svg-view-loading").remove(),t&&"function"==typeof t.callback&&t.callback(d);case 11:case"end":return o.stop()}},o)})),100)}},moveEvent:function(e){var t=e.imgW>e.wrapW?e.imgW-e.wrapW:0,n=e.imgH>e.wrapH?e.imgH-e.wrapH:0,i=$("#svg-view-wrap"),o=i.parent();i.css({backgroundColor:e.bg,width:e.imgW,height:e.imgH}),t||n?(i.css("cursor","move"),o.scrollLeft(t/2),o.scrollTop(n/2),i.off("mousedown").on("mousedown",function(e){e.stopPropagation();var t=o.scrollLeft(),n=o.scrollTop(),i=e.pageX,a=e.pageY;$(document).off("mousemove.svgView").on("mousemove.svgView",function(e){e.stopPropagation();var r=e.pageX,s=e.pageY,l=Math.round(t-(r-i)),c=Math.round(n-(s-a));o.scrollLeft(l),o.scrollTop(c)}),$(document).off("mouseup.svgView").on("mouseup.svgView",function(e){e.stopPropagation(),$(document).off("mousemove.svgView"),$(document).off("mouseup.svgView")})})):(i.css("cursor","auto"),o.scrollLeft(0),o.scrollTop(0))}};t.default=c},92380:function(e,t,n){var i=n(9712);Object.defineProperty(t,"__esModule",{value:!0}),t.errorFn=t.codeFn=void 0,n(5682),n(37212);var o=i(n(32483)),a=n(47306),r=3e3,s=null;t.codeFn={200:function(e,t){e.success&&e.success(t.data)},403:function(e){localStorage.po_redirect=window.location.href,$.toast({type:"error",text:o.default.t("js.Invalid_user_authorization_ID")}),clearTimeout(s),s=setTimeout(function(){injectExtraAsynCall("onnotoken",{code:"403"},function(){a.Util.loginWindow()})},r)},404:function(e){if(e.noJump)return $.toast({type:"error",text:o.default.t("js.The_address_could_not_be_found")});clearTimeout(s),s=setTimeout(function(){window.location.href="/error/404"},r)},406:function(e,t){if(e.noJump)return $.toast({type:"error",text:o.default.t("js.Insufficient_authority")});clearTimeout(s);var n=window.location.href.indexOf("mind")>-1?"mindmap":window.location.href.indexOf("outline")>-1?"outline":"diagraming";s=setTimeout(function(){var e="";t.data&&(t.data.chartPath=n,e="?describe=".concat(encodeURIComponent(JSON.stringify(t.data)))),window.location.href="/error/406"+e},r)},407:function(e){localStorage.po_redirect=window.location.href,$.toast({type:"error",text:o.default.t("js.Invalid_signature")}),a.Util.setCookies("token","",-1),clearTimeout(s),s=setTimeout(function(){injectExtraAsynCall("onnotoken",{code:"407"},function(){a.Util.loginWindow()})},r)},408:function(e){localStorage.po_redirect=window.location.href,$.toast({type:"error",text:o.default.t("js.Authentication_failed")}),clearTimeout(s),s=setTimeout(function(){injectExtraAsynCall("onnotoken",{code:"408"},function(){a.Util.loginWindow()})},r)},409:function(e,t){$.toast({type:"error",text:o.default.t("js.Please_try_again_later")}),e.error&&e.error(t)},412:function(e,t){$.toast({type:"error",text:o.default.t("js.Requests_are_too_frequent")}),e.error&&e.error(t)},509:function(e,t){$.toast({type:"error",text:o.default.t("js.Requests_are_too_frequent")}),e.error&&e.error(t)},510:function(e,t){$.toast({type:"error",text:o.default.t("js.System_error")}),e.error&&e.error(t)},655:function(e){localStorage.po_redirect=window.location.href,$.toast({type:"error",text:o.default.t("js.Request_Tencent_meeting_abnormal")})},659:function(e){localStorage.po_redirect=window.location.href,$.toast({type:"error",text:o.default.t("js.No_authorization_information_found")})},661:function(e,t){$.toast({type:"error",text:o.default.t("js.Login_status_not_detected")}),e.error&&e.error(t)},662:function(e){localStorage.po_redirect=window.location.href,$.toast({type:"error",text:o.default.t("js.The_file_owner_can_create")})},663:function(e){localStorage.po_redirect=window.location.href,$.toast({type:"error",text:o.default.t("js.The_file_owner_can_create")})},660:function(e){localStorage.po_redirect=window.location.href,$.toast({type:"error",text:o.default.t("js.The_current_Tencent_meeting_account_bound")})},801:function(e){if(e.noJump)return $.toast({type:"error",text:o.default.t("js.File_does_not_exist")});window.location.href="/error/801"},810:function(e){$.toast({type:"error",delay:6e3,text:o.default.t("js.No_permission_to_operate_this_file")}),setTimeout(function(){window.location.reload()},500)},815:function(e){var t=o.default.t("js.File_on");try{t=e.data.category.startsWith("mind")?o.default.t("js.quick_MindMap"):e.data.category.startsWith("outline")?o.default.t("js.Mind_Notes_on"):CategoryMap[e.data.category]}catch(e){}insert.pay.init({title:o.default.t("js.Enjoy_unlimited_file_count"),pointsSource:o.default.t("js.New")+t})},831:function(e,t){e.success&&e.success(t.data)},911:function(e,t){e.error&&e.error(t.data),$.toast({type:"error",text:o.default.t("js.The_name_already_exists")})},1121:function(e){$.toast({type:"error",text:o.default.t("js.Enterprise_has_not_started_sharing")}),clearTimeout(s),s=setTimeout(function(){window.location.href="/error/801?redirect="+encodeURIComponent("/org")},3e3)},61681:function(e,t){$.toast({type:"error",text:o.default.t("js.The_current_usage_has_reached")}),e.error&&e.error(t)},61680:function(e,t){insert.pay.init({title:o.default.t("js.The_maximum_number_of_users_today_is_reached")}),e.error&&e.error(t)}},t.errorFn={reptile:function(e){},error:function(e){e.error&&e.error(data)}}}}]);
},{}]},{},["G6ls"], null)